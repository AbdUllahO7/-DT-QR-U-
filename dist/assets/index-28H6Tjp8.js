(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function a(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=a(s);fetch(s.href,i)}})();function zs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ex={exports:{}},hu={},Ox={exports:{}},Rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2;function mB(){if(H2)return Rt;H2=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),h=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=h&&B[h]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,k={};function v(B,H,z){this.props=B,this.context=H,this.refs=k,this.updater=z||b}v.prototype.isReactComponent={},v.prototype.setState=function(B,H){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,H,"setState")},v.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function j(){}j.prototype=v.prototype;function S(B,H,z){this.props=B,this.context=H,this.refs=k,this.updater=z||b}var C=S.prototype=new j;C.constructor=S,y(C,v.prototype),C.isPureReactComponent=!0;var P=Array.isArray,E=Object.prototype.hasOwnProperty,A={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function M(B,H,z){var $,_={},Y=null,q=null;if(H!=null)for($ in H.ref!==void 0&&(q=H.ref),H.key!==void 0&&(Y=""+H.key),H)E.call(H,$)&&!I.hasOwnProperty($)&&(_[$]=H[$]);var G=arguments.length-2;if(G===1)_.children=z;else if(1<G){for(var ee=Array(G),ue=0;ue<G;ue++)ee[ue]=arguments[ue+2];_.children=ee}if(B&&B.defaultProps)for($ in G=B.defaultProps,G)_[$]===void 0&&(_[$]=G[$]);return{$$typeof:e,type:B,key:Y,ref:q,props:_,_owner:A.current}}function F(B,H){return{$$typeof:e,type:B.type,key:H,ref:B.ref,props:B.props,_owner:B._owner}}function Q(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function U(B){var H={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(z){return H[z]})}var V=/\/+/g;function K(B,H){return typeof B=="object"&&B!==null&&B.key!=null?U(""+B.key):H.toString(36)}function Z(B,H,z,$,_){var Y=typeof B;(Y==="undefined"||Y==="boolean")&&(B=null);var q=!1;if(B===null)q=!0;else switch(Y){case"string":case"number":q=!0;break;case"object":switch(B.$$typeof){case e:case t:q=!0}}if(q)return q=B,_=_(q),B=$===""?"."+K(q,0):$,P(_)?(z="",B!=null&&(z=B.replace(V,"$&/")+"/"),Z(_,H,z,"",function(ue){return ue})):_!=null&&(Q(_)&&(_=F(_,z+(!_.key||q&&q.key===_.key?"":(""+_.key).replace(V,"$&/")+"/")+B)),H.push(_)),1;if(q=0,$=$===""?".":$+":",P(B))for(var G=0;G<B.length;G++){Y=B[G];var ee=$+K(Y,G);q+=Z(Y,H,z,ee,_)}else if(ee=x(B),typeof ee=="function")for(B=ee.call(B),G=0;!(Y=B.next()).done;)Y=Y.value,ee=$+K(Y,G++),q+=Z(Y,H,z,ee,_);else if(Y==="object")throw H=String(B),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return q}function ie(B,H,z){if(B==null)return B;var $=[],_=0;return Z(B,$,"","",function(Y){return H.call(z,Y,_++)}),$}function te(B){if(B._status===-1){var H=B._result;H=H(),H.then(function(z){(B._status===0||B._status===-1)&&(B._status=1,B._result=z)},function(z){(B._status===0||B._status===-1)&&(B._status=2,B._result=z)}),B._status===-1&&(B._status=0,B._result=H)}if(B._status===1)return B._result.default;throw B._result}var R={current:null},D={transition:null},W={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:A};function X(){throw Error("act(...) is not supported in production builds of React.")}return Rt.Children={map:ie,forEach:function(B,H,z){ie(B,function(){H.apply(this,arguments)},z)},count:function(B){var H=0;return ie(B,function(){H++}),H},toArray:function(B){return ie(B,function(H){return H})||[]},only:function(B){if(!Q(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Rt.Component=v,Rt.Fragment=a,Rt.Profiler=s,Rt.PureComponent=S,Rt.StrictMode=n,Rt.Suspense=c,Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,Rt.act=X,Rt.cloneElement=function(B,H,z){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var $=y({},B.props),_=B.key,Y=B.ref,q=B._owner;if(H!=null){if(H.ref!==void 0&&(Y=H.ref,q=A.current),H.key!==void 0&&(_=""+H.key),B.type&&B.type.defaultProps)var G=B.type.defaultProps;for(ee in H)E.call(H,ee)&&!I.hasOwnProperty(ee)&&($[ee]=H[ee]===void 0&&G!==void 0?G[ee]:H[ee])}var ee=arguments.length-2;if(ee===1)$.children=z;else if(1<ee){G=Array(ee);for(var ue=0;ue<ee;ue++)G[ue]=arguments[ue+2];$.children=G}return{$$typeof:e,type:B.type,key:_,ref:Y,props:$,_owner:q}},Rt.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:i,_context:B},B.Consumer=B},Rt.createElement=M,Rt.createFactory=function(B){var H=M.bind(null,B);return H.type=B,H},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(B){return{$$typeof:l,render:B}},Rt.isValidElement=Q,Rt.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:te}},Rt.memo=function(B,H){return{$$typeof:u,type:B,compare:H===void 0?null:H}},Rt.startTransition=function(B){var H=D.transition;D.transition={};try{B()}finally{D.transition=H}},Rt.unstable_act=X,Rt.useCallback=function(B,H){return R.current.useCallback(B,H)},Rt.useContext=function(B){return R.current.useContext(B)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(B){return R.current.useDeferredValue(B)},Rt.useEffect=function(B,H){return R.current.useEffect(B,H)},Rt.useId=function(){return R.current.useId()},Rt.useImperativeHandle=function(B,H,z){return R.current.useImperativeHandle(B,H,z)},Rt.useInsertionEffect=function(B,H){return R.current.useInsertionEffect(B,H)},Rt.useLayoutEffect=function(B,H){return R.current.useLayoutEffect(B,H)},Rt.useMemo=function(B,H){return R.current.useMemo(B,H)},Rt.useReducer=function(B,H,z){return R.current.useReducer(B,H,z)},Rt.useRef=function(B){return R.current.useRef(B)},Rt.useState=function(B){return R.current.useState(B)},Rt.useSyncExternalStore=function(B,H,z){return R.current.useSyncExternalStore(B,H,z)},Rt.useTransition=function(){return R.current.useTransition()},Rt.version="18.3.1",Rt}var K2;function yc(){return K2||(K2=1,Ox.exports=mB()),Ox.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G2;function gB(){if(G2)return hu;G2=1;var e=yc(),t=Symbol.for("react.element"),a=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var g,h={},x=null,b=null;u!==void 0&&(x=""+u),c.key!==void 0&&(x=""+c.key),c.ref!==void 0&&(b=c.ref);for(g in c)n.call(c,g)&&!i.hasOwnProperty(g)&&(h[g]=c[g]);if(l&&l.defaultProps)for(g in c=l.defaultProps,c)h[g]===void 0&&(h[g]=c[g]);return{$$typeof:t,type:l,key:x,ref:b,props:h,_owner:s.current}}return hu.Fragment=a,hu.jsx=o,hu.jsxs=o,hu}var Q2;function hB(){return Q2||(Q2=1,Ex.exports=gB()),Ex.exports}var r=hB(),p=yc();const or=zs(p);var W0={},Dx={exports:{}},wn={},Rx={exports:{}},$x={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2;function pB(){return Y2||(Y2=1,function(e){function t(D,W){var X=D.length;D.push(W);e:for(;0<X;){var B=X-1>>>1,H=D[B];if(0<s(H,W))D[B]=W,D[X]=H,X=B;else break e}}function a(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var W=D[0],X=D.pop();if(X!==W){D[0]=X;e:for(var B=0,H=D.length,z=H>>>1;B<z;){var $=2*(B+1)-1,_=D[$],Y=$+1,q=D[Y];if(0>s(_,X))Y<H&&0>s(q,_)?(D[B]=q,D[Y]=X,B=Y):(D[B]=_,D[$]=X,B=$);else if(Y<H&&0>s(q,X))D[B]=q,D[Y]=X,B=Y;else break e}}return W}function s(D,W){var X=D.sortIndex-W.sortIndex;return X!==0?X:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],g=1,h=null,x=3,b=!1,y=!1,k=!1,v=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(D){for(var W=a(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=D)n(u),W.sortIndex=W.expirationTime,t(c,W);else break;W=a(u)}}function P(D){if(k=!1,C(D),!y)if(a(c)!==null)y=!0,te(E);else{var W=a(u);W!==null&&R(P,W.startTime-D)}}function E(D,W){y=!1,k&&(k=!1,j(M),M=-1),b=!0;var X=x;try{for(C(W),h=a(c);h!==null&&(!(h.expirationTime>W)||D&&!U());){var B=h.callback;if(typeof B=="function"){h.callback=null,x=h.priorityLevel;var H=B(h.expirationTime<=W);W=e.unstable_now(),typeof H=="function"?h.callback=H:h===a(c)&&n(c),C(W)}else n(c);h=a(c)}if(h!==null)var z=!0;else{var $=a(u);$!==null&&R(P,$.startTime-W),z=!1}return z}finally{h=null,x=X,b=!1}}var A=!1,I=null,M=-1,F=5,Q=-1;function U(){return!(e.unstable_now()-Q<F)}function V(){if(I!==null){var D=e.unstable_now();Q=D;var W=!0;try{W=I(!0,D)}finally{W?K():(A=!1,I=null)}}else A=!1}var K;if(typeof S=="function")K=function(){S(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ie=Z.port2;Z.port1.onmessage=V,K=function(){ie.postMessage(null)}}else K=function(){v(V,0)};function te(D){I=D,A||(A=!0,K())}function R(D,W){M=v(function(){D(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||b||(y=!0,te(E))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return a(c)},e.unstable_next=function(D){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var X=x;x=W;try{return D()}finally{x=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var X=x;x=D;try{return W()}finally{x=X}},e.unstable_scheduleCallback=function(D,W,X){var B=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?B+X:B):X=B,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=X+H,D={id:g++,callback:W,priorityLevel:D,startTime:X,expirationTime:H,sortIndex:-1},X>B?(D.sortIndex=X,t(u,D),a(c)===null&&D===a(u)&&(k?(j(M),M=-1):k=!0,R(P,X-B))):(D.sortIndex=H,t(c,D),y||b||(y=!0,te(E))),D},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(D){var W=x;return function(){var X=x;x=W;try{return D.apply(this,arguments)}finally{x=X}}}}($x)),$x}var X2;function fB(){return X2||(X2=1,Rx.exports=pB()),Rx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2;function xB(){if(Z2)return wn;Z2=1;var e=yc(),t=fB();function a(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,f=1;f<arguments.length;f++)m+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(d,m){o(d,m),o(d+"Capture",m)}function o(d,m){for(s[d]=m,d=0;d<m.length;d++)n.add(m[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},h={};function x(d){return c.call(h,d)?!0:c.call(g,d)?!1:u.test(d)?h[d]=!0:(g[d]=!0,!1)}function b(d,m,f,w){if(f!==null&&f.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return w?!1:f!==null?!f.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function y(d,m,f,w){if(m===null||typeof m>"u"||b(d,m,f,w))return!0;if(w)return!1;if(f!==null)switch(f.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function k(d,m,f,w,T,O,L){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=w,this.attributeNamespace=T,this.mustUseProperty=f,this.propertyName=d,this.type=m,this.sanitizeURL=O,this.removeEmptyString=L}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){v[d]=new k(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];v[m]=new k(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){v[d]=new k(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){v[d]=new k(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){v[d]=new k(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){v[d]=new k(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){v[d]=new k(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){v[d]=new k(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){v[d]=new k(d,5,!1,d.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function S(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(j,S);v[m]=new k(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(j,S);v[m]=new k(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(j,S);v[m]=new k(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){v[d]=new k(d,1,!1,d.toLowerCase(),null,!1,!1)}),v.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){v[d]=new k(d,1,!1,d.toLowerCase(),null,!0,!0)});function C(d,m,f,w){var T=v.hasOwnProperty(m)?v[m]:null;(T!==null?T.type!==0:w||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(y(m,f,T,w)&&(f=null),w||T===null?x(m)&&(f===null?d.removeAttribute(m):d.setAttribute(m,""+f)):T.mustUseProperty?d[T.propertyName]=f===null?T.type===3?!1:"":f:(m=T.attributeName,w=T.attributeNamespace,f===null?d.removeAttribute(m):(T=T.type,f=T===3||T===4&&f===!0?"":""+f,w?d.setAttributeNS(w,m,f):d.setAttribute(m,f))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),A=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),U=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),D=Symbol.iterator;function W(d){return d===null||typeof d!="object"?null:(d=D&&d[D]||d["@@iterator"],typeof d=="function"?d:null)}var X=Object.assign,B;function H(d){if(B===void 0)try{throw Error()}catch(f){var m=f.stack.trim().match(/\n( *(at )?)/);B=m&&m[1]||""}return`
`+B+d}var z=!1;function $(d,m){if(!d||z)return"";z=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ve){var w=ve}Reflect.construct(d,[],m)}else{try{m.call()}catch(ve){w=ve}d.call(m.prototype)}else{try{throw Error()}catch(ve){w=ve}d()}}catch(ve){if(ve&&w&&typeof ve.stack=="string"){for(var T=ve.stack.split(`
`),O=w.stack.split(`
`),L=T.length-1,J=O.length-1;1<=L&&0<=J&&T[L]!==O[J];)J--;for(;1<=L&&0<=J;L--,J--)if(T[L]!==O[J]){if(L!==1||J!==1)do if(L--,J--,0>J||T[L]!==O[J]){var ne=`
`+T[L].replace(" at new "," at ");return d.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",d.displayName)),ne}while(1<=L&&0<=J);break}}}finally{z=!1,Error.prepareStackTrace=f}return(d=d?d.displayName||d.name:"")?H(d):""}function _(d){switch(d.tag){case 5:return H(d.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return d=$(d.type,!1),d;case 11:return d=$(d.type.render,!1),d;case 1:return d=$(d.type,!0),d;default:return""}}function Y(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case I:return"Fragment";case A:return"Portal";case F:return"Profiler";case M:return"StrictMode";case K:return"Suspense";case Z:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case U:return(d.displayName||"Context")+".Consumer";case Q:return(d._context.displayName||"Context")+".Provider";case V:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case ie:return m=d.displayName||null,m!==null?m:Y(d.type)||"Memo";case te:m=d._payload,d=d._init;try{return Y(d(m))}catch{}}return null}function q(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y(m);case 8:return m===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function G(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function ee(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function ue(d){var m=ee(d)?"checked":"value",f=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),w=""+d[m];if(!d.hasOwnProperty(m)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var T=f.get,O=f.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return T.call(this)},set:function(L){w=""+L,O.call(this,L)}}),Object.defineProperty(d,m,{enumerable:f.enumerable}),{getValue:function(){return w},setValue:function(L){w=""+L},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function le(d){d._valueTracker||(d._valueTracker=ue(d))}function ae(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var f=m.getValue(),w="";return d&&(w=ee(d)?d.checked?"true":"false":d.value),d=w,d!==f?(m.setValue(d),!0):!1}function Be(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function he(d,m){var f=m.checked;return X({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??d._wrapperState.initialChecked})}function we(d,m){var f=m.defaultValue==null?"":m.defaultValue,w=m.checked!=null?m.checked:m.defaultChecked;f=G(m.value!=null?m.value:f),d._wrapperState={initialChecked:w,initialValue:f,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function De(d,m){m=m.checked,m!=null&&C(d,"checked",m,!1)}function Ze(d,m){De(d,m);var f=G(m.value),w=m.type;if(f!=null)w==="number"?(f===0&&d.value===""||d.value!=f)&&(d.value=""+f):d.value!==""+f&&(d.value=""+f);else if(w==="submit"||w==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?mt(d,m.type,f):m.hasOwnProperty("defaultValue")&&mt(d,m.type,G(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function pt(d,m,f){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var w=m.type;if(!(w!=="submit"&&w!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,f||m===d.value||(d.value=m),d.defaultValue=m}f=d.name,f!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,f!==""&&(d.name=f)}function mt(d,m,f){(m!=="number"||Be(d.ownerDocument)!==d)&&(f==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+f&&(d.defaultValue=""+f))}var ut=Array.isArray;function Et(d,m,f,w){if(d=d.options,m){m={};for(var T=0;T<f.length;T++)m["$"+f[T]]=!0;for(f=0;f<d.length;f++)T=m.hasOwnProperty("$"+d[f].value),d[f].selected!==T&&(d[f].selected=T),T&&w&&(d[f].defaultSelected=!0)}else{for(f=""+G(f),m=null,T=0;T<d.length;T++){if(d[T].value===f){d[T].selected=!0,w&&(d[T].defaultSelected=!0);return}m!==null||d[T].disabled||(m=d[T])}m!==null&&(m.selected=!0)}}function tr(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(a(91));return X({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Oe(d,m){var f=m.value;if(f==null){if(f=m.children,m=m.defaultValue,f!=null){if(m!=null)throw Error(a(92));if(ut(f)){if(1<f.length)throw Error(a(93));f=f[0]}m=f}m==null&&(m=""),f=m}d._wrapperState={initialValue:G(f)}}function Me(d,m){var f=G(m.value),w=G(m.defaultValue);f!=null&&(f=""+f,f!==d.value&&(d.value=f),m.defaultValue==null&&d.defaultValue!==f&&(d.defaultValue=f)),w!=null&&(d.defaultValue=""+w)}function Vr(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function ur(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rr(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?ur(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var Tt,Se=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,f,w,T){MSApp.execUnsafeLocalFunction(function(){return d(m,f,w,T)})}:d}(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(Tt=Tt||document.createElement("div"),Tt.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=Tt.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function Re(d,m){if(m){var f=d.firstChild;if(f&&f===d.lastChild&&f.nodeType===3){f.nodeValue=m;return}}d.textContent=m}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];Object.keys(de).forEach(function(d){pe.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),de[m]=de[d]})});function ce(d,m,f){return m==null||typeof m=="boolean"||m===""?"":f||typeof m!="number"||m===0||de.hasOwnProperty(d)&&de[d]?(""+m).trim():m+"px"}function Te(d,m){d=d.style;for(var f in m)if(m.hasOwnProperty(f)){var w=f.indexOf("--")===0,T=ce(f,m[f],w);f==="float"&&(f="cssFloat"),w?d.setProperty(f,T):d[f]=T}}var Le=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ct(d,m){if(m){if(Le[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(a(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(a(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(a(61))}if(m.style!=null&&typeof m.style!="object")throw Error(a(62))}}function Pt(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mr=null;function pn(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var fn=null,ke=null,Pe=null;function fe(d){if(d=Jc(d)){if(typeof fn!="function")throw Error(a(280));var m=d.stateNode;m&&(m=s0(m),fn(d.stateNode,d.type,m))}}function Ge(d){ke?Pe?Pe.push(d):Pe=[d]:ke=d}function ft(){if(ke){var d=ke,m=Pe;if(Pe=ke=null,fe(d),m)for(d=0;d<m.length;d++)fe(m[d])}}function vt(d,m){return d(m)}function kt(){}var Ot=!1;function mr(d,m,f){if(Ot)return d(m,f);Ot=!0;try{return vt(d,m,f)}finally{Ot=!1,(ke!==null||Pe!==null)&&(kt(),ft())}}function Ut(d,m){var f=d.stateNode;if(f===null)return null;var w=s0(f);if(w===null)return null;f=w[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(d=d.type,w=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!w;break e;default:d=!1}if(d)return null;if(f&&typeof f!="function")throw Error(a(231,m,typeof f));return f}var va=!1;if(l)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){va=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{va=!1}function be(d,m,f,w,T,O,L,J,ne){var ve=Array.prototype.slice.call(arguments,3);try{m.apply(f,ve)}catch(ze){this.onError(ze)}}var me=!1,Ae=null,We=!1,Qe=null,Mt={onError:function(d){me=!0,Ae=d}};function Qn(d,m,f,w,T,O,L,J,ne){me=!1,Ae=null,be.apply(Mt,arguments)}function Oa(d,m,f,w,T,O,L,J,ne){if(Qn.apply(this,arguments),me){if(me){var ve=Ae;me=!1,Ae=null}else throw Error(a(198));We||(We=!0,Qe=ve)}}function fr(d){var m=d,f=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(f=m.return),d=m.return;while(d)}return m.tag===3?f:null}function _r(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function Bt(d){if(fr(d)!==d)throw Error(a(188))}function Fr(d){var m=d.alternate;if(!m){if(m=fr(d),m===null)throw Error(a(188));return m!==d?null:d}for(var f=d,w=m;;){var T=f.return;if(T===null)break;var O=T.alternate;if(O===null){if(w=T.return,w!==null){f=w;continue}break}if(T.child===O.child){for(O=T.child;O;){if(O===f)return Bt(T),d;if(O===w)return Bt(T),m;O=O.sibling}throw Error(a(188))}if(f.return!==w.return)f=T,w=O;else{for(var L=!1,J=T.child;J;){if(J===f){L=!0,f=T,w=O;break}if(J===w){L=!0,w=T,f=O;break}J=J.sibling}if(!L){for(J=O.child;J;){if(J===f){L=!0,f=O,w=T;break}if(J===w){L=!0,w=O,f=T;break}J=J.sibling}if(!L)throw Error(a(189))}}if(f.alternate!==w)throw Error(a(190))}if(f.tag!==3)throw Error(a(188));return f.stateNode.current===f?d:m}function gr(d){return d=Fr(d),d!==null?qt(d):null}function qt(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=qt(d);if(m!==null)return m;d=d.sibling}return null}var Da=t.unstable_scheduleCallback,ka=t.unstable_cancelCallback,fi=t.unstable_shouldYield,ea=t.unstable_requestPaint,ar=t.unstable_now,tl=t.unstable_getCurrentPriorityLevel,rl=t.unstable_ImmediatePriority,ro=t.unstable_UserBlockingPriority,ao=t.unstable_NormalPriority,xe=t.unstable_LowPriority,Ee=t.unstable_IdlePriority,$e=null,_e=null;function Ue(d){if(_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot($e,d,void 0,(d.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:Ct,$t=Math.log,Zt=Math.LN2;function Ct(d){return d>>>=0,d===0?32:31-($t(d)/Zt|0)|0}var Qt=64,Ye=4194304;function Wt(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Ra(d,m){var f=d.pendingLanes;if(f===0)return 0;var w=0,T=d.suspendedLanes,O=d.pingedLanes,L=f&268435455;if(L!==0){var J=L&~T;J!==0?w=Wt(J):(O&=L,O!==0&&(w=Wt(O)))}else L=f&~T,L!==0?w=Wt(L):O!==0&&(w=Wt(O));if(w===0)return 0;if(m!==0&&m!==w&&(m&T)===0&&(T=w&-w,O=m&-m,T>=O||T===16&&(O&4194240)!==0))return m;if((w&4)!==0&&(w|=f&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=w;0<m;)f=31-dt(m),T=1<<f,w|=d[f],m&=~T;return w}function no(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jN(d,m){for(var f=d.suspendedLanes,w=d.pingedLanes,T=d.expirationTimes,O=d.pendingLanes;0<O;){var L=31-dt(O),J=1<<L,ne=T[L];ne===-1?((J&f)===0||(J&w)!==0)&&(T[L]=no(J,m)):ne<=m&&(d.expiredLanes|=J),O&=~J}}function Dt(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function so(){var d=Qt;return Qt<<=1,(Qt&4194240)===0&&(Qt=64),d}function wa(d){for(var m=[],f=0;31>f;f++)m.push(d);return m}function io(d,m,f){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-dt(m),d[m]=f}function OR(d,m){var f=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var w=d.eventTimes;for(d=d.expirationTimes;0<f;){var T=31-dt(f),O=1<<T;m[T]=0,w[T]=-1,d[T]=-1,f&=~O}}function ef(d,m){var f=d.entangledLanes|=m;for(d=d.entanglements;f;){var w=31-dt(f),T=1<<w;T&m|d[w]&m&&(d[w]|=m),f&=~T}}var nr=0;function NN(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var CN,tf,SN,PN,TN,rf=!1,Wm=[],oo=null,lo=null,co=null,Bc=new Map,Lc=new Map,uo=[],DR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AN(d,m){switch(d){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":Bc.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lc.delete(m.pointerId)}}function _c(d,m,f,w,T,O){return d===null||d.nativeEvent!==O?(d={blockedOn:m,domEventName:f,eventSystemFlags:w,nativeEvent:O,targetContainers:[T]},m!==null&&(m=Jc(m),m!==null&&tf(m)),d):(d.eventSystemFlags|=w,m=d.targetContainers,T!==null&&m.indexOf(T)===-1&&m.push(T),d)}function RR(d,m,f,w,T){switch(m){case"focusin":return oo=_c(oo,d,m,f,w,T),!0;case"dragenter":return lo=_c(lo,d,m,f,w,T),!0;case"mouseover":return co=_c(co,d,m,f,w,T),!0;case"pointerover":var O=T.pointerId;return Bc.set(O,_c(Bc.get(O)||null,d,m,f,w,T)),!0;case"gotpointercapture":return O=T.pointerId,Lc.set(O,_c(Lc.get(O)||null,d,m,f,w,T)),!0}return!1}function MN(d){var m=al(d.target);if(m!==null){var f=fr(m);if(f!==null){if(m=f.tag,m===13){if(m=_r(f),m!==null){d.blockedOn=m,TN(d.priority,function(){SN(f)});return}}else if(m===3&&f.stateNode.current.memoizedState.isDehydrated){d.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Vm(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var f=nf(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(f===null){f=d.nativeEvent;var w=new f.constructor(f.type,f);Mr=w,f.target.dispatchEvent(w),Mr=null}else return m=Jc(f),m!==null&&tf(m),d.blockedOn=f,!1;m.shift()}return!0}function IN(d,m,f){Vm(d)&&f.delete(m)}function $R(){rf=!1,oo!==null&&Vm(oo)&&(oo=null),lo!==null&&Vm(lo)&&(lo=null),co!==null&&Vm(co)&&(co=null),Bc.forEach(IN),Lc.forEach(IN)}function Fc(d,m){d.blockedOn===m&&(d.blockedOn=null,rf||(rf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$R)))}function zc(d){function m(T){return Fc(T,d)}if(0<Wm.length){Fc(Wm[0],d);for(var f=1;f<Wm.length;f++){var w=Wm[f];w.blockedOn===d&&(w.blockedOn=null)}}for(oo!==null&&Fc(oo,d),lo!==null&&Fc(lo,d),co!==null&&Fc(co,d),Bc.forEach(m),Lc.forEach(m),f=0;f<uo.length;f++)w=uo[f],w.blockedOn===d&&(w.blockedOn=null);for(;0<uo.length&&(f=uo[0],f.blockedOn===null);)MN(f),f.blockedOn===null&&uo.shift()}var md=P.ReactCurrentBatchConfig,Hm=!0;function BR(d,m,f,w){var T=nr,O=md.transition;md.transition=null;try{nr=1,af(d,m,f,w)}finally{nr=T,md.transition=O}}function LR(d,m,f,w){var T=nr,O=md.transition;md.transition=null;try{nr=4,af(d,m,f,w)}finally{nr=T,md.transition=O}}function af(d,m,f,w){if(Hm){var T=nf(d,m,f,w);if(T===null)wf(d,m,w,Km,f),AN(d,w);else if(RR(T,d,m,f,w))w.stopPropagation();else if(AN(d,w),m&4&&-1<DR.indexOf(d)){for(;T!==null;){var O=Jc(T);if(O!==null&&CN(O),O=nf(d,m,f,w),O===null&&wf(d,m,w,Km,f),O===T)break;T=O}T!==null&&w.stopPropagation()}else wf(d,m,w,null,f)}}var Km=null;function nf(d,m,f,w){if(Km=null,d=pn(w),d=al(d),d!==null)if(m=fr(d),m===null)d=null;else if(f=m.tag,f===13){if(d=_r(m),d!==null)return d;d=null}else if(f===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return Km=d,null}function EN(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tl()){case rl:return 1;case ro:return 4;case ao:case xe:return 16;case Ee:return 536870912;default:return 16}default:return 16}}var mo=null,sf=null,Gm=null;function ON(){if(Gm)return Gm;var d,m=sf,f=m.length,w,T="value"in mo?mo.value:mo.textContent,O=T.length;for(d=0;d<f&&m[d]===T[d];d++);var L=f-d;for(w=1;w<=L&&m[f-w]===T[O-w];w++);return Gm=T.slice(d,1<w?1-w:void 0)}function Qm(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function Ym(){return!0}function DN(){return!1}function Mn(d){function m(f,w,T,O,L){this._reactName=f,this._targetInst=T,this.type=w,this.nativeEvent=O,this.target=L,this.currentTarget=null;for(var J in d)d.hasOwnProperty(J)&&(f=d[J],this[J]=f?f(O):O[J]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Ym:DN,this.isPropagationStopped=DN,this}return X(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ym)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ym)},persist:function(){},isPersistent:Ym}),m}var gd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},of=Mn(gd),Uc=X({},gd,{view:0,detail:0}),_R=Mn(Uc),lf,df,qc,Xm=X({},Uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uf,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==qc&&(qc&&d.type==="mousemove"?(lf=d.screenX-qc.screenX,df=d.screenY-qc.screenY):df=lf=0,qc=d),lf)},movementY:function(d){return"movementY"in d?d.movementY:df}}),RN=Mn(Xm),FR=X({},Xm,{dataTransfer:0}),zR=Mn(FR),UR=X({},Uc,{relatedTarget:0}),cf=Mn(UR),qR=X({},gd,{animationName:0,elapsedTime:0,pseudoElement:0}),WR=Mn(qR),VR=X({},gd,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),HR=Mn(VR),KR=X({},gd,{data:0}),$N=Mn(KR),GR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XR(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=YR[d])?!!m[d]:!1}function uf(){return XR}var ZR=X({},Uc,{key:function(d){if(d.key){var m=GR[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=Qm(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?QR[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uf,charCode:function(d){return d.type==="keypress"?Qm(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Qm(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),JR=Mn(ZR),e$=X({},Xm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BN=Mn(e$),t$=X({},Uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uf}),r$=Mn(t$),a$=X({},gd,{propertyName:0,elapsedTime:0,pseudoElement:0}),n$=Mn(a$),s$=X({},Xm,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),i$=Mn(s$),o$=[9,13,27,32],mf=l&&"CompositionEvent"in window,Wc=null;l&&"documentMode"in document&&(Wc=document.documentMode);var l$=l&&"TextEvent"in window&&!Wc,LN=l&&(!mf||Wc&&8<Wc&&11>=Wc),_N=" ",FN=!1;function zN(d,m){switch(d){case"keyup":return o$.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UN(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var hd=!1;function d$(d,m){switch(d){case"compositionend":return UN(m);case"keypress":return m.which!==32?null:(FN=!0,_N);case"textInput":return d=m.data,d===_N&&FN?null:d;default:return null}}function c$(d,m){if(hd)return d==="compositionend"||!mf&&zN(d,m)?(d=ON(),Gm=sf=mo=null,hd=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return LN&&m.locale!=="ko"?null:m.data;default:return null}}var u$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qN(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!u$[d.type]:m==="textarea"}function WN(d,m,f,w){Ge(w),m=r0(m,"onChange"),0<m.length&&(f=new of("onChange","change",null,f,w),d.push({event:f,listeners:m}))}var Vc=null,Hc=null;function m$(d){l1(d,0)}function Zm(d){var m=bd(d);if(ae(m))return d}function g$(d,m){if(d==="change")return m}var VN=!1;if(l){var gf;if(l){var hf="oninput"in document;if(!hf){var HN=document.createElement("div");HN.setAttribute("oninput","return;"),hf=typeof HN.oninput=="function"}gf=hf}else gf=!1;VN=gf&&(!document.documentMode||9<document.documentMode)}function KN(){Vc&&(Vc.detachEvent("onpropertychange",GN),Hc=Vc=null)}function GN(d){if(d.propertyName==="value"&&Zm(Hc)){var m=[];WN(m,Hc,d,pn(d)),mr(m$,m)}}function h$(d,m,f){d==="focusin"?(KN(),Vc=m,Hc=f,Vc.attachEvent("onpropertychange",GN)):d==="focusout"&&KN()}function p$(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Zm(Hc)}function f$(d,m){if(d==="click")return Zm(m)}function x$(d,m){if(d==="input"||d==="change")return Zm(m)}function y$(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var ws=typeof Object.is=="function"?Object.is:y$;function Kc(d,m){if(ws(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var f=Object.keys(d),w=Object.keys(m);if(f.length!==w.length)return!1;for(w=0;w<f.length;w++){var T=f[w];if(!c.call(m,T)||!ws(d[T],m[T]))return!1}return!0}function QN(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function YN(d,m){var f=QN(d);d=0;for(var w;f;){if(f.nodeType===3){if(w=d+f.textContent.length,d<=m&&w>=m)return{node:f,offset:m-d};d=w}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=QN(f)}}function XN(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?XN(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function ZN(){for(var d=window,m=Be();m instanceof d.HTMLIFrameElement;){try{var f=typeof m.contentWindow.location.href=="string"}catch{f=!1}if(f)d=m.contentWindow;else break;m=Be(d.document)}return m}function pf(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function b$(d){var m=ZN(),f=d.focusedElem,w=d.selectionRange;if(m!==f&&f&&f.ownerDocument&&XN(f.ownerDocument.documentElement,f)){if(w!==null&&pf(f)){if(m=w.start,d=w.end,d===void 0&&(d=m),"selectionStart"in f)f.selectionStart=m,f.selectionEnd=Math.min(d,f.value.length);else if(d=(m=f.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var T=f.textContent.length,O=Math.min(w.start,T);w=w.end===void 0?O:Math.min(w.end,T),!d.extend&&O>w&&(T=w,w=O,O=T),T=YN(f,O);var L=YN(f,w);T&&L&&(d.rangeCount!==1||d.anchorNode!==T.node||d.anchorOffset!==T.offset||d.focusNode!==L.node||d.focusOffset!==L.offset)&&(m=m.createRange(),m.setStart(T.node,T.offset),d.removeAllRanges(),O>w?(d.addRange(m),d.extend(L.node,L.offset)):(m.setEnd(L.node,L.offset),d.addRange(m)))}}for(m=[],d=f;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<m.length;f++)d=m[f],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var v$=l&&"documentMode"in document&&11>=document.documentMode,pd=null,ff=null,Gc=null,xf=!1;function JN(d,m,f){var w=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;xf||pd==null||pd!==Be(w)||(w=pd,"selectionStart"in w&&pf(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Gc&&Kc(Gc,w)||(Gc=w,w=r0(ff,"onSelect"),0<w.length&&(m=new of("onSelect","select",null,m,f),d.push({event:m,listeners:w}),m.target=pd)))}function Jm(d,m){var f={};return f[d.toLowerCase()]=m.toLowerCase(),f["Webkit"+d]="webkit"+m,f["Moz"+d]="moz"+m,f}var fd={animationend:Jm("Animation","AnimationEnd"),animationiteration:Jm("Animation","AnimationIteration"),animationstart:Jm("Animation","AnimationStart"),transitionend:Jm("Transition","TransitionEnd")},yf={},e1={};l&&(e1=document.createElement("div").style,"AnimationEvent"in window||(delete fd.animationend.animation,delete fd.animationiteration.animation,delete fd.animationstart.animation),"TransitionEvent"in window||delete fd.transitionend.transition);function e0(d){if(yf[d])return yf[d];if(!fd[d])return d;var m=fd[d],f;for(f in m)if(m.hasOwnProperty(f)&&f in e1)return yf[d]=m[f];return d}var t1=e0("animationend"),r1=e0("animationiteration"),a1=e0("animationstart"),n1=e0("transitionend"),s1=new Map,i1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(d,m){s1.set(d,m),i(m,[d])}for(var bf=0;bf<i1.length;bf++){var vf=i1[bf],k$=vf.toLowerCase(),w$=vf[0].toUpperCase()+vf.slice(1);go(k$,"on"+w$)}go(t1,"onAnimationEnd"),go(r1,"onAnimationIteration"),go(a1,"onAnimationStart"),go("dblclick","onDoubleClick"),go("focusin","onFocus"),go("focusout","onBlur"),go(n1,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qc));function o1(d,m,f){var w=d.type||"unknown-event";d.currentTarget=f,Oa(w,m,void 0,d),d.currentTarget=null}function l1(d,m){m=(m&4)!==0;for(var f=0;f<d.length;f++){var w=d[f],T=w.event;w=w.listeners;e:{var O=void 0;if(m)for(var L=w.length-1;0<=L;L--){var J=w[L],ne=J.instance,ve=J.currentTarget;if(J=J.listener,ne!==O&&T.isPropagationStopped())break e;o1(T,J,ve),O=ne}else for(L=0;L<w.length;L++){if(J=w[L],ne=J.instance,ve=J.currentTarget,J=J.listener,ne!==O&&T.isPropagationStopped())break e;o1(T,J,ve),O=ne}}}if(We)throw d=Qe,We=!1,Qe=null,d}function kr(d,m){var f=m[Tf];f===void 0&&(f=m[Tf]=new Set);var w=d+"__bubble";f.has(w)||(d1(m,d,2,!1),f.add(w))}function kf(d,m,f){var w=0;m&&(w|=4),d1(f,d,w,m)}var t0="_reactListening"+Math.random().toString(36).slice(2);function Yc(d){if(!d[t0]){d[t0]=!0,n.forEach(function(f){f!=="selectionchange"&&(j$.has(f)||kf(f,!1,d),kf(f,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[t0]||(m[t0]=!0,kf("selectionchange",!1,m))}}function d1(d,m,f,w){switch(EN(m)){case 1:var T=BR;break;case 4:T=LR;break;default:T=af}f=T.bind(null,m,f,d),T=void 0,!va||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(T=!0),w?T!==void 0?d.addEventListener(m,f,{capture:!0,passive:T}):d.addEventListener(m,f,!0):T!==void 0?d.addEventListener(m,f,{passive:T}):d.addEventListener(m,f,!1)}function wf(d,m,f,w,T){var O=w;if((m&1)===0&&(m&2)===0&&w!==null)e:for(;;){if(w===null)return;var L=w.tag;if(L===3||L===4){var J=w.stateNode.containerInfo;if(J===T||J.nodeType===8&&J.parentNode===T)break;if(L===4)for(L=w.return;L!==null;){var ne=L.tag;if((ne===3||ne===4)&&(ne=L.stateNode.containerInfo,ne===T||ne.nodeType===8&&ne.parentNode===T))return;L=L.return}for(;J!==null;){if(L=al(J),L===null)return;if(ne=L.tag,ne===5||ne===6){w=O=L;continue e}J=J.parentNode}}w=w.return}mr(function(){var ve=O,ze=pn(f),Ve=[];e:{var Fe=s1.get(d);if(Fe!==void 0){var Xe=of,rt=d;switch(d){case"keypress":if(Qm(f)===0)break e;case"keydown":case"keyup":Xe=JR;break;case"focusin":rt="focus",Xe=cf;break;case"focusout":rt="blur",Xe=cf;break;case"beforeblur":case"afterblur":Xe=cf;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=RN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=zR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=r$;break;case t1:case r1:case a1:Xe=WR;break;case n1:Xe=n$;break;case"scroll":Xe=_R;break;case"wheel":Xe=i$;break;case"copy":case"cut":case"paste":Xe=HR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=BN}var nt=(m&4)!==0,Hr=!nt&&d==="scroll",ge=nt?Fe!==null?Fe+"Capture":null:Fe;nt=[];for(var oe=ve,ye;oe!==null;){ye=oe;var Ke=ye.stateNode;if(ye.tag===5&&Ke!==null&&(ye=Ke,ge!==null&&(Ke=Ut(oe,ge),Ke!=null&&nt.push(Xc(oe,Ke,ye)))),Hr)break;oe=oe.return}0<nt.length&&(Fe=new Xe(Fe,rt,null,f,ze),Ve.push({event:Fe,listeners:nt}))}}if((m&7)===0){e:{if(Fe=d==="mouseover"||d==="pointerover",Xe=d==="mouseout"||d==="pointerout",Fe&&f!==Mr&&(rt=f.relatedTarget||f.fromElement)&&(al(rt)||rt[xi]))break e;if((Xe||Fe)&&(Fe=ze.window===ze?ze:(Fe=ze.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,Xe?(rt=f.relatedTarget||f.toElement,Xe=ve,rt=rt?al(rt):null,rt!==null&&(Hr=fr(rt),rt!==Hr||rt.tag!==5&&rt.tag!==6)&&(rt=null)):(Xe=null,rt=ve),Xe!==rt)){if(nt=RN,Ke="onMouseLeave",ge="onMouseEnter",oe="mouse",(d==="pointerout"||d==="pointerover")&&(nt=BN,Ke="onPointerLeave",ge="onPointerEnter",oe="pointer"),Hr=Xe==null?Fe:bd(Xe),ye=rt==null?Fe:bd(rt),Fe=new nt(Ke,oe+"leave",Xe,f,ze),Fe.target=Hr,Fe.relatedTarget=ye,Ke=null,al(ze)===ve&&(nt=new nt(ge,oe+"enter",rt,f,ze),nt.target=ye,nt.relatedTarget=Hr,Ke=nt),Hr=Ke,Xe&&rt)t:{for(nt=Xe,ge=rt,oe=0,ye=nt;ye;ye=xd(ye))oe++;for(ye=0,Ke=ge;Ke;Ke=xd(Ke))ye++;for(;0<oe-ye;)nt=xd(nt),oe--;for(;0<ye-oe;)ge=xd(ge),ye--;for(;oe--;){if(nt===ge||ge!==null&&nt===ge.alternate)break t;nt=xd(nt),ge=xd(ge)}nt=null}else nt=null;Xe!==null&&c1(Ve,Fe,Xe,nt,!1),rt!==null&&Hr!==null&&c1(Ve,Hr,rt,nt,!0)}}e:{if(Fe=ve?bd(ve):window,Xe=Fe.nodeName&&Fe.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Fe.type==="file")var st=g$;else if(qN(Fe))if(VN)st=x$;else{st=p$;var gt=h$}else(Xe=Fe.nodeName)&&Xe.toLowerCase()==="input"&&(Fe.type==="checkbox"||Fe.type==="radio")&&(st=f$);if(st&&(st=st(d,ve))){WN(Ve,st,f,ze);break e}gt&&gt(d,Fe,ve),d==="focusout"&&(gt=Fe._wrapperState)&&gt.controlled&&Fe.type==="number"&&mt(Fe,"number",Fe.value)}switch(gt=ve?bd(ve):window,d){case"focusin":(qN(gt)||gt.contentEditable==="true")&&(pd=gt,ff=ve,Gc=null);break;case"focusout":Gc=ff=pd=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,JN(Ve,f,ze);break;case"selectionchange":if(v$)break;case"keydown":case"keyup":JN(Ve,f,ze)}var ht;if(mf)e:{switch(d){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else hd?zN(d,f)&&(bt="onCompositionEnd"):d==="keydown"&&f.keyCode===229&&(bt="onCompositionStart");bt&&(LN&&f.locale!=="ko"&&(hd||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&hd&&(ht=ON()):(mo=ze,sf="value"in mo?mo.value:mo.textContent,hd=!0)),gt=r0(ve,bt),0<gt.length&&(bt=new $N(bt,d,null,f,ze),Ve.push({event:bt,listeners:gt}),ht?bt.data=ht:(ht=UN(f),ht!==null&&(bt.data=ht)))),(ht=l$?d$(d,f):c$(d,f))&&(ve=r0(ve,"onBeforeInput"),0<ve.length&&(ze=new $N("onBeforeInput","beforeinput",null,f,ze),Ve.push({event:ze,listeners:ve}),ze.data=ht))}l1(Ve,m)})}function Xc(d,m,f){return{instance:d,listener:m,currentTarget:f}}function r0(d,m){for(var f=m+"Capture",w=[];d!==null;){var T=d,O=T.stateNode;T.tag===5&&O!==null&&(T=O,O=Ut(d,f),O!=null&&w.unshift(Xc(d,O,T)),O=Ut(d,m),O!=null&&w.push(Xc(d,O,T))),d=d.return}return w}function xd(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function c1(d,m,f,w,T){for(var O=m._reactName,L=[];f!==null&&f!==w;){var J=f,ne=J.alternate,ve=J.stateNode;if(ne!==null&&ne===w)break;J.tag===5&&ve!==null&&(J=ve,T?(ne=Ut(f,O),ne!=null&&L.unshift(Xc(f,ne,J))):T||(ne=Ut(f,O),ne!=null&&L.push(Xc(f,ne,J)))),f=f.return}L.length!==0&&d.push({event:m,listeners:L})}var N$=/\r\n?/g,C$=/\u0000|\uFFFD/g;function u1(d){return(typeof d=="string"?d:""+d).replace(N$,`
`).replace(C$,"")}function a0(d,m,f){if(m=u1(m),u1(d)!==m&&f)throw Error(a(425))}function n0(){}var jf=null,Nf=null;function Cf(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Sf=typeof setTimeout=="function"?setTimeout:void 0,S$=typeof clearTimeout=="function"?clearTimeout:void 0,m1=typeof Promise=="function"?Promise:void 0,P$=typeof queueMicrotask=="function"?queueMicrotask:typeof m1<"u"?function(d){return m1.resolve(null).then(d).catch(T$)}:Sf;function T$(d){setTimeout(function(){throw d})}function Pf(d,m){var f=m,w=0;do{var T=f.nextSibling;if(d.removeChild(f),T&&T.nodeType===8)if(f=T.data,f==="/$"){if(w===0){d.removeChild(T),zc(m);return}w--}else f!=="$"&&f!=="$?"&&f!=="$!"||w++;f=T}while(f);zc(m)}function ho(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function g1(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var f=d.data;if(f==="$"||f==="$!"||f==="$?"){if(m===0)return d;m--}else f==="/$"&&m++}d=d.previousSibling}return null}var yd=Math.random().toString(36).slice(2),Gs="__reactFiber$"+yd,Zc="__reactProps$"+yd,xi="__reactContainer$"+yd,Tf="__reactEvents$"+yd,A$="__reactListeners$"+yd,M$="__reactHandles$"+yd;function al(d){var m=d[Gs];if(m)return m;for(var f=d.parentNode;f;){if(m=f[xi]||f[Gs]){if(f=m.alternate,m.child!==null||f!==null&&f.child!==null)for(d=g1(d);d!==null;){if(f=d[Gs])return f;d=g1(d)}return m}d=f,f=d.parentNode}return null}function Jc(d){return d=d[Gs]||d[xi],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function bd(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(a(33))}function s0(d){return d[Zc]||null}var Af=[],vd=-1;function po(d){return{current:d}}function wr(d){0>vd||(d.current=Af[vd],Af[vd]=null,vd--)}function xr(d,m){vd++,Af[vd]=d.current,d.current=m}var fo={},Ua=po(fo),xn=po(!1),nl=fo;function kd(d,m){var f=d.type.contextTypes;if(!f)return fo;var w=d.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===m)return w.__reactInternalMemoizedMaskedChildContext;var T={},O;for(O in f)T[O]=m[O];return w&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=T),T}function yn(d){return d=d.childContextTypes,d!=null}function i0(){wr(xn),wr(Ua)}function h1(d,m,f){if(Ua.current!==fo)throw Error(a(168));xr(Ua,m),xr(xn,f)}function p1(d,m,f){var w=d.stateNode;if(m=m.childContextTypes,typeof w.getChildContext!="function")return f;w=w.getChildContext();for(var T in w)if(!(T in m))throw Error(a(108,q(d)||"Unknown",T));return X({},f,w)}function o0(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||fo,nl=Ua.current,xr(Ua,d),xr(xn,xn.current),!0}function f1(d,m,f){var w=d.stateNode;if(!w)throw Error(a(169));f?(d=p1(d,m,nl),w.__reactInternalMemoizedMergedChildContext=d,wr(xn),wr(Ua),xr(Ua,d)):wr(xn),xr(xn,f)}var yi=null,l0=!1,Mf=!1;function x1(d){yi===null?yi=[d]:yi.push(d)}function I$(d){l0=!0,x1(d)}function xo(){if(!Mf&&yi!==null){Mf=!0;var d=0,m=nr;try{var f=yi;for(nr=1;d<f.length;d++){var w=f[d];do w=w(!0);while(w!==null)}yi=null,l0=!1}catch(T){throw yi!==null&&(yi=yi.slice(d+1)),Da(rl,xo),T}finally{nr=m,Mf=!1}}return null}var wd=[],jd=0,d0=null,c0=0,Yn=[],Xn=0,sl=null,bi=1,vi="";function il(d,m){wd[jd++]=c0,wd[jd++]=d0,d0=d,c0=m}function y1(d,m,f){Yn[Xn++]=bi,Yn[Xn++]=vi,Yn[Xn++]=sl,sl=d;var w=bi;d=vi;var T=32-dt(w)-1;w&=~(1<<T),f+=1;var O=32-dt(m)+T;if(30<O){var L=T-T%5;O=(w&(1<<L)-1).toString(32),w>>=L,T-=L,bi=1<<32-dt(m)+T|f<<T|w,vi=O+d}else bi=1<<O|f<<T|w,vi=d}function If(d){d.return!==null&&(il(d,1),y1(d,1,0))}function Ef(d){for(;d===d0;)d0=wd[--jd],wd[jd]=null,c0=wd[--jd],wd[jd]=null;for(;d===sl;)sl=Yn[--Xn],Yn[Xn]=null,vi=Yn[--Xn],Yn[Xn]=null,bi=Yn[--Xn],Yn[Xn]=null}var In=null,En=null,Cr=!1,js=null;function b1(d,m){var f=ts(5,null,null,0);f.elementType="DELETED",f.stateNode=m,f.return=d,m=d.deletions,m===null?(d.deletions=[f],d.flags|=16):m.push(f)}function v1(d,m){switch(d.tag){case 5:var f=d.type;return m=m.nodeType!==1||f.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,In=d,En=ho(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,In=d,En=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(f=sl!==null?{id:bi,overflow:vi}:null,d.memoizedState={dehydrated:m,treeContext:f,retryLane:1073741824},f=ts(18,null,null,0),f.stateNode=m,f.return=d,d.child=f,In=d,En=null,!0):!1;default:return!1}}function Of(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Df(d){if(Cr){var m=En;if(m){var f=m;if(!v1(d,m)){if(Of(d))throw Error(a(418));m=ho(f.nextSibling);var w=In;m&&v1(d,m)?b1(w,f):(d.flags=d.flags&-4097|2,Cr=!1,In=d)}}else{if(Of(d))throw Error(a(418));d.flags=d.flags&-4097|2,Cr=!1,In=d}}}function k1(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;In=d}function u0(d){if(d!==In)return!1;if(!Cr)return k1(d),Cr=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!Cf(d.type,d.memoizedProps)),m&&(m=En)){if(Of(d))throw w1(),Error(a(418));for(;m;)b1(d,m),m=ho(m.nextSibling)}if(k1(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var f=d.data;if(f==="/$"){if(m===0){En=ho(d.nextSibling);break e}m--}else f!=="$"&&f!=="$!"&&f!=="$?"||m++}d=d.nextSibling}En=null}}else En=In?ho(d.stateNode.nextSibling):null;return!0}function w1(){for(var d=En;d;)d=ho(d.nextSibling)}function Nd(){En=In=null,Cr=!1}function Rf(d){js===null?js=[d]:js.push(d)}var E$=P.ReactCurrentBatchConfig;function eu(d,m,f){if(d=f.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(a(309));var w=f.stateNode}if(!w)throw Error(a(147,d));var T=w,O=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===O?m.ref:(m=function(L){var J=T.refs;L===null?delete J[O]:J[O]=L},m._stringRef=O,m)}if(typeof d!="string")throw Error(a(284));if(!f._owner)throw Error(a(290,d))}return d}function m0(d,m){throw d=Object.prototype.toString.call(m),Error(a(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function j1(d){var m=d._init;return m(d._payload)}function N1(d){function m(ge,oe){if(d){var ye=ge.deletions;ye===null?(ge.deletions=[oe],ge.flags|=16):ye.push(oe)}}function f(ge,oe){if(!d)return null;for(;oe!==null;)m(ge,oe),oe=oe.sibling;return null}function w(ge,oe){for(ge=new Map;oe!==null;)oe.key!==null?ge.set(oe.key,oe):ge.set(oe.index,oe),oe=oe.sibling;return ge}function T(ge,oe){return ge=Co(ge,oe),ge.index=0,ge.sibling=null,ge}function O(ge,oe,ye){return ge.index=ye,d?(ye=ge.alternate,ye!==null?(ye=ye.index,ye<oe?(ge.flags|=2,oe):ye):(ge.flags|=2,oe)):(ge.flags|=1048576,oe)}function L(ge){return d&&ge.alternate===null&&(ge.flags|=2),ge}function J(ge,oe,ye,Ke){return oe===null||oe.tag!==6?(oe=Sx(ye,ge.mode,Ke),oe.return=ge,oe):(oe=T(oe,ye),oe.return=ge,oe)}function ne(ge,oe,ye,Ke){var st=ye.type;return st===I?ze(ge,oe,ye.props.children,Ke,ye.key):oe!==null&&(oe.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===te&&j1(st)===oe.type)?(Ke=T(oe,ye.props),Ke.ref=eu(ge,oe,ye),Ke.return=ge,Ke):(Ke=$0(ye.type,ye.key,ye.props,null,ge.mode,Ke),Ke.ref=eu(ge,oe,ye),Ke.return=ge,Ke)}function ve(ge,oe,ye,Ke){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ye.containerInfo||oe.stateNode.implementation!==ye.implementation?(oe=Px(ye,ge.mode,Ke),oe.return=ge,oe):(oe=T(oe,ye.children||[]),oe.return=ge,oe)}function ze(ge,oe,ye,Ke,st){return oe===null||oe.tag!==7?(oe=hl(ye,ge.mode,Ke,st),oe.return=ge,oe):(oe=T(oe,ye),oe.return=ge,oe)}function Ve(ge,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=Sx(""+oe,ge.mode,ye),oe.return=ge,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case E:return ye=$0(oe.type,oe.key,oe.props,null,ge.mode,ye),ye.ref=eu(ge,null,oe),ye.return=ge,ye;case A:return oe=Px(oe,ge.mode,ye),oe.return=ge,oe;case te:var Ke=oe._init;return Ve(ge,Ke(oe._payload),ye)}if(ut(oe)||W(oe))return oe=hl(oe,ge.mode,ye,null),oe.return=ge,oe;m0(ge,oe)}return null}function Fe(ge,oe,ye,Ke){var st=oe!==null?oe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number")return st!==null?null:J(ge,oe,""+ye,Ke);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case E:return ye.key===st?ne(ge,oe,ye,Ke):null;case A:return ye.key===st?ve(ge,oe,ye,Ke):null;case te:return st=ye._init,Fe(ge,oe,st(ye._payload),Ke)}if(ut(ye)||W(ye))return st!==null?null:ze(ge,oe,ye,Ke,null);m0(ge,ye)}return null}function Xe(ge,oe,ye,Ke,st){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return ge=ge.get(ye)||null,J(oe,ge,""+Ke,st);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case E:return ge=ge.get(Ke.key===null?ye:Ke.key)||null,ne(oe,ge,Ke,st);case A:return ge=ge.get(Ke.key===null?ye:Ke.key)||null,ve(oe,ge,Ke,st);case te:var gt=Ke._init;return Xe(ge,oe,ye,gt(Ke._payload),st)}if(ut(Ke)||W(Ke))return ge=ge.get(ye)||null,ze(oe,ge,Ke,st,null);m0(oe,Ke)}return null}function rt(ge,oe,ye,Ke){for(var st=null,gt=null,ht=oe,bt=oe=0,Ca=null;ht!==null&&bt<ye.length;bt++){ht.index>bt?(Ca=ht,ht=null):Ca=ht.sibling;var Yt=Fe(ge,ht,ye[bt],Ke);if(Yt===null){ht===null&&(ht=Ca);break}d&&ht&&Yt.alternate===null&&m(ge,ht),oe=O(Yt,oe,bt),gt===null?st=Yt:gt.sibling=Yt,gt=Yt,ht=Ca}if(bt===ye.length)return f(ge,ht),Cr&&il(ge,bt),st;if(ht===null){for(;bt<ye.length;bt++)ht=Ve(ge,ye[bt],Ke),ht!==null&&(oe=O(ht,oe,bt),gt===null?st=ht:gt.sibling=ht,gt=ht);return Cr&&il(ge,bt),st}for(ht=w(ge,ht);bt<ye.length;bt++)Ca=Xe(ht,ge,bt,ye[bt],Ke),Ca!==null&&(d&&Ca.alternate!==null&&ht.delete(Ca.key===null?bt:Ca.key),oe=O(Ca,oe,bt),gt===null?st=Ca:gt.sibling=Ca,gt=Ca);return d&&ht.forEach(function(So){return m(ge,So)}),Cr&&il(ge,bt),st}function nt(ge,oe,ye,Ke){var st=W(ye);if(typeof st!="function")throw Error(a(150));if(ye=st.call(ye),ye==null)throw Error(a(151));for(var gt=st=null,ht=oe,bt=oe=0,Ca=null,Yt=ye.next();ht!==null&&!Yt.done;bt++,Yt=ye.next()){ht.index>bt?(Ca=ht,ht=null):Ca=ht.sibling;var So=Fe(ge,ht,Yt.value,Ke);if(So===null){ht===null&&(ht=Ca);break}d&&ht&&So.alternate===null&&m(ge,ht),oe=O(So,oe,bt),gt===null?st=So:gt.sibling=So,gt=So,ht=Ca}if(Yt.done)return f(ge,ht),Cr&&il(ge,bt),st;if(ht===null){for(;!Yt.done;bt++,Yt=ye.next())Yt=Ve(ge,Yt.value,Ke),Yt!==null&&(oe=O(Yt,oe,bt),gt===null?st=Yt:gt.sibling=Yt,gt=Yt);return Cr&&il(ge,bt),st}for(ht=w(ge,ht);!Yt.done;bt++,Yt=ye.next())Yt=Xe(ht,ge,bt,Yt.value,Ke),Yt!==null&&(d&&Yt.alternate!==null&&ht.delete(Yt.key===null?bt:Yt.key),oe=O(Yt,oe,bt),gt===null?st=Yt:gt.sibling=Yt,gt=Yt);return d&&ht.forEach(function(uB){return m(ge,uB)}),Cr&&il(ge,bt),st}function Hr(ge,oe,ye,Ke){if(typeof ye=="object"&&ye!==null&&ye.type===I&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case E:e:{for(var st=ye.key,gt=oe;gt!==null;){if(gt.key===st){if(st=ye.type,st===I){if(gt.tag===7){f(ge,gt.sibling),oe=T(gt,ye.props.children),oe.return=ge,ge=oe;break e}}else if(gt.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===te&&j1(st)===gt.type){f(ge,gt.sibling),oe=T(gt,ye.props),oe.ref=eu(ge,gt,ye),oe.return=ge,ge=oe;break e}f(ge,gt);break}else m(ge,gt);gt=gt.sibling}ye.type===I?(oe=hl(ye.props.children,ge.mode,Ke,ye.key),oe.return=ge,ge=oe):(Ke=$0(ye.type,ye.key,ye.props,null,ge.mode,Ke),Ke.ref=eu(ge,oe,ye),Ke.return=ge,ge=Ke)}return L(ge);case A:e:{for(gt=ye.key;oe!==null;){if(oe.key===gt)if(oe.tag===4&&oe.stateNode.containerInfo===ye.containerInfo&&oe.stateNode.implementation===ye.implementation){f(ge,oe.sibling),oe=T(oe,ye.children||[]),oe.return=ge,ge=oe;break e}else{f(ge,oe);break}else m(ge,oe);oe=oe.sibling}oe=Px(ye,ge.mode,Ke),oe.return=ge,ge=oe}return L(ge);case te:return gt=ye._init,Hr(ge,oe,gt(ye._payload),Ke)}if(ut(ye))return rt(ge,oe,ye,Ke);if(W(ye))return nt(ge,oe,ye,Ke);m0(ge,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"?(ye=""+ye,oe!==null&&oe.tag===6?(f(ge,oe.sibling),oe=T(oe,ye),oe.return=ge,ge=oe):(f(ge,oe),oe=Sx(ye,ge.mode,Ke),oe.return=ge,ge=oe),L(ge)):f(ge,oe)}return Hr}var Cd=N1(!0),C1=N1(!1),g0=po(null),h0=null,Sd=null,$f=null;function Bf(){$f=Sd=h0=null}function Lf(d){var m=g0.current;wr(g0),d._currentValue=m}function _f(d,m,f){for(;d!==null;){var w=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,w!==null&&(w.childLanes|=m)):w!==null&&(w.childLanes&m)!==m&&(w.childLanes|=m),d===f)break;d=d.return}}function Pd(d,m){h0=d,$f=Sd=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(bn=!0),d.firstContext=null)}function Zn(d){var m=d._currentValue;if($f!==d)if(d={context:d,memoizedValue:m,next:null},Sd===null){if(h0===null)throw Error(a(308));Sd=d,h0.dependencies={lanes:0,firstContext:d}}else Sd=Sd.next=d;return m}var ol=null;function Ff(d){ol===null?ol=[d]:ol.push(d)}function S1(d,m,f,w){var T=m.interleaved;return T===null?(f.next=f,Ff(m)):(f.next=T.next,T.next=f),m.interleaved=f,ki(d,w)}function ki(d,m){d.lanes|=m;var f=d.alternate;for(f!==null&&(f.lanes|=m),f=d,d=d.return;d!==null;)d.childLanes|=m,f=d.alternate,f!==null&&(f.childLanes|=m),f=d,d=d.return;return f.tag===3?f.stateNode:null}var yo=!1;function zf(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P1(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function wi(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function bo(d,m,f){var w=d.updateQueue;if(w===null)return null;if(w=w.shared,(Kt&2)!==0){var T=w.pending;return T===null?m.next=m:(m.next=T.next,T.next=m),w.pending=m,ki(d,f)}return T=w.interleaved,T===null?(m.next=m,Ff(w)):(m.next=T.next,T.next=m),w.interleaved=m,ki(d,f)}function p0(d,m,f){if(m=m.updateQueue,m!==null&&(m=m.shared,(f&4194240)!==0)){var w=m.lanes;w&=d.pendingLanes,f|=w,m.lanes=f,ef(d,f)}}function T1(d,m){var f=d.updateQueue,w=d.alternate;if(w!==null&&(w=w.updateQueue,f===w)){var T=null,O=null;if(f=f.firstBaseUpdate,f!==null){do{var L={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};O===null?T=O=L:O=O.next=L,f=f.next}while(f!==null);O===null?T=O=m:O=O.next=m}else T=O=m;f={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:O,shared:w.shared,effects:w.effects},d.updateQueue=f;return}d=f.lastBaseUpdate,d===null?f.firstBaseUpdate=m:d.next=m,f.lastBaseUpdate=m}function f0(d,m,f,w){var T=d.updateQueue;yo=!1;var O=T.firstBaseUpdate,L=T.lastBaseUpdate,J=T.shared.pending;if(J!==null){T.shared.pending=null;var ne=J,ve=ne.next;ne.next=null,L===null?O=ve:L.next=ve,L=ne;var ze=d.alternate;ze!==null&&(ze=ze.updateQueue,J=ze.lastBaseUpdate,J!==L&&(J===null?ze.firstBaseUpdate=ve:J.next=ve,ze.lastBaseUpdate=ne))}if(O!==null){var Ve=T.baseState;L=0,ze=ve=ne=null,J=O;do{var Fe=J.lane,Xe=J.eventTime;if((w&Fe)===Fe){ze!==null&&(ze=ze.next={eventTime:Xe,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var rt=d,nt=J;switch(Fe=m,Xe=f,nt.tag){case 1:if(rt=nt.payload,typeof rt=="function"){Ve=rt.call(Xe,Ve,Fe);break e}Ve=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=nt.payload,Fe=typeof rt=="function"?rt.call(Xe,Ve,Fe):rt,Fe==null)break e;Ve=X({},Ve,Fe);break e;case 2:yo=!0}}J.callback!==null&&J.lane!==0&&(d.flags|=64,Fe=T.effects,Fe===null?T.effects=[J]:Fe.push(J))}else Xe={eventTime:Xe,lane:Fe,tag:J.tag,payload:J.payload,callback:J.callback,next:null},ze===null?(ve=ze=Xe,ne=Ve):ze=ze.next=Xe,L|=Fe;if(J=J.next,J===null){if(J=T.shared.pending,J===null)break;Fe=J,J=Fe.next,Fe.next=null,T.lastBaseUpdate=Fe,T.shared.pending=null}}while(!0);if(ze===null&&(ne=Ve),T.baseState=ne,T.firstBaseUpdate=ve,T.lastBaseUpdate=ze,m=T.shared.interleaved,m!==null){T=m;do L|=T.lane,T=T.next;while(T!==m)}else O===null&&(T.shared.lanes=0);cl|=L,d.lanes=L,d.memoizedState=Ve}}function A1(d,m,f){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var w=d[m],T=w.callback;if(T!==null){if(w.callback=null,w=f,typeof T!="function")throw Error(a(191,T));T.call(w)}}}var tu={},Qs=po(tu),ru=po(tu),au=po(tu);function ll(d){if(d===tu)throw Error(a(174));return d}function Uf(d,m){switch(xr(au,m),xr(ru,d),xr(Qs,tu),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:rr(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=rr(m,d)}wr(Qs),xr(Qs,m)}function Td(){wr(Qs),wr(ru),wr(au)}function M1(d){ll(au.current);var m=ll(Qs.current),f=rr(m,d.type);m!==f&&(xr(ru,d),xr(Qs,f))}function qf(d){ru.current===d&&(wr(Qs),wr(ru))}var Ir=po(0);function x0(d){for(var m=d;m!==null;){if(m.tag===13){var f=m.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Wf=[];function Vf(){for(var d=0;d<Wf.length;d++)Wf[d]._workInProgressVersionPrimary=null;Wf.length=0}var y0=P.ReactCurrentDispatcher,Hf=P.ReactCurrentBatchConfig,dl=0,Er=null,ua=null,ja=null,b0=!1,nu=!1,su=0,O$=0;function qa(){throw Error(a(321))}function Kf(d,m){if(m===null)return!1;for(var f=0;f<m.length&&f<d.length;f++)if(!ws(d[f],m[f]))return!1;return!0}function Gf(d,m,f,w,T,O){if(dl=O,Er=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,y0.current=d===null||d.memoizedState===null?B$:L$,d=f(w,T),nu){O=0;do{if(nu=!1,su=0,25<=O)throw Error(a(301));O+=1,ja=ua=null,m.updateQueue=null,y0.current=_$,d=f(w,T)}while(nu)}if(y0.current=w0,m=ua!==null&&ua.next!==null,dl=0,ja=ua=Er=null,b0=!1,m)throw Error(a(300));return d}function Qf(){var d=su!==0;return su=0,d}function Ys(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ja===null?Er.memoizedState=ja=d:ja=ja.next=d,ja}function Jn(){if(ua===null){var d=Er.alternate;d=d!==null?d.memoizedState:null}else d=ua.next;var m=ja===null?Er.memoizedState:ja.next;if(m!==null)ja=m,ua=d;else{if(d===null)throw Error(a(310));ua=d,d={memoizedState:ua.memoizedState,baseState:ua.baseState,baseQueue:ua.baseQueue,queue:ua.queue,next:null},ja===null?Er.memoizedState=ja=d:ja=ja.next=d}return ja}function iu(d,m){return typeof m=="function"?m(d):m}function Yf(d){var m=Jn(),f=m.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=d;var w=ua,T=w.baseQueue,O=f.pending;if(O!==null){if(T!==null){var L=T.next;T.next=O.next,O.next=L}w.baseQueue=T=O,f.pending=null}if(T!==null){O=T.next,w=w.baseState;var J=L=null,ne=null,ve=O;do{var ze=ve.lane;if((dl&ze)===ze)ne!==null&&(ne=ne.next={lane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),w=ve.hasEagerState?ve.eagerState:d(w,ve.action);else{var Ve={lane:ze,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};ne===null?(J=ne=Ve,L=w):ne=ne.next=Ve,Er.lanes|=ze,cl|=ze}ve=ve.next}while(ve!==null&&ve!==O);ne===null?L=w:ne.next=J,ws(w,m.memoizedState)||(bn=!0),m.memoizedState=w,m.baseState=L,m.baseQueue=ne,f.lastRenderedState=w}if(d=f.interleaved,d!==null){T=d;do O=T.lane,Er.lanes|=O,cl|=O,T=T.next;while(T!==d)}else T===null&&(f.lanes=0);return[m.memoizedState,f.dispatch]}function Xf(d){var m=Jn(),f=m.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=d;var w=f.dispatch,T=f.pending,O=m.memoizedState;if(T!==null){f.pending=null;var L=T=T.next;do O=d(O,L.action),L=L.next;while(L!==T);ws(O,m.memoizedState)||(bn=!0),m.memoizedState=O,m.baseQueue===null&&(m.baseState=O),f.lastRenderedState=O}return[O,w]}function I1(){}function E1(d,m){var f=Er,w=Jn(),T=m(),O=!ws(w.memoizedState,T);if(O&&(w.memoizedState=T,bn=!0),w=w.queue,Zf(R1.bind(null,f,w,d),[d]),w.getSnapshot!==m||O||ja!==null&&ja.memoizedState.tag&1){if(f.flags|=2048,ou(9,D1.bind(null,f,w,T,m),void 0,null),Na===null)throw Error(a(349));(dl&30)!==0||O1(f,m,T)}return T}function O1(d,m,f){d.flags|=16384,d={getSnapshot:m,value:f},m=Er.updateQueue,m===null?(m={lastEffect:null,stores:null},Er.updateQueue=m,m.stores=[d]):(f=m.stores,f===null?m.stores=[d]:f.push(d))}function D1(d,m,f,w){m.value=f,m.getSnapshot=w,$1(m)&&B1(d)}function R1(d,m,f){return f(function(){$1(m)&&B1(d)})}function $1(d){var m=d.getSnapshot;d=d.value;try{var f=m();return!ws(d,f)}catch{return!0}}function B1(d){var m=ki(d,1);m!==null&&Ps(m,d,1,-1)}function L1(d){var m=Ys();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:d},m.queue=d,d=d.dispatch=$$.bind(null,Er,d),[m.memoizedState,d]}function ou(d,m,f,w){return d={tag:d,create:m,destroy:f,deps:w,next:null},m=Er.updateQueue,m===null?(m={lastEffect:null,stores:null},Er.updateQueue=m,m.lastEffect=d.next=d):(f=m.lastEffect,f===null?m.lastEffect=d.next=d:(w=f.next,f.next=d,d.next=w,m.lastEffect=d)),d}function _1(){return Jn().memoizedState}function v0(d,m,f,w){var T=Ys();Er.flags|=d,T.memoizedState=ou(1|m,f,void 0,w===void 0?null:w)}function k0(d,m,f,w){var T=Jn();w=w===void 0?null:w;var O=void 0;if(ua!==null){var L=ua.memoizedState;if(O=L.destroy,w!==null&&Kf(w,L.deps)){T.memoizedState=ou(m,f,O,w);return}}Er.flags|=d,T.memoizedState=ou(1|m,f,O,w)}function F1(d,m){return v0(8390656,8,d,m)}function Zf(d,m){return k0(2048,8,d,m)}function z1(d,m){return k0(4,2,d,m)}function U1(d,m){return k0(4,4,d,m)}function q1(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function W1(d,m,f){return f=f!=null?f.concat([d]):null,k0(4,4,q1.bind(null,m,d),f)}function Jf(){}function V1(d,m){var f=Jn();m=m===void 0?null:m;var w=f.memoizedState;return w!==null&&m!==null&&Kf(m,w[1])?w[0]:(f.memoizedState=[d,m],d)}function H1(d,m){var f=Jn();m=m===void 0?null:m;var w=f.memoizedState;return w!==null&&m!==null&&Kf(m,w[1])?w[0]:(d=d(),f.memoizedState=[d,m],d)}function K1(d,m,f){return(dl&21)===0?(d.baseState&&(d.baseState=!1,bn=!0),d.memoizedState=f):(ws(f,m)||(f=so(),Er.lanes|=f,cl|=f,d.baseState=!0),m)}function D$(d,m){var f=nr;nr=f!==0&&4>f?f:4,d(!0);var w=Hf.transition;Hf.transition={};try{d(!1),m()}finally{nr=f,Hf.transition=w}}function G1(){return Jn().memoizedState}function R$(d,m,f){var w=jo(d);if(f={lane:w,action:f,hasEagerState:!1,eagerState:null,next:null},Q1(d))Y1(m,f);else if(f=S1(d,m,f,w),f!==null){var T=tn();Ps(f,d,w,T),X1(f,m,w)}}function $$(d,m,f){var w=jo(d),T={lane:w,action:f,hasEagerState:!1,eagerState:null,next:null};if(Q1(d))Y1(m,T);else{var O=d.alternate;if(d.lanes===0&&(O===null||O.lanes===0)&&(O=m.lastRenderedReducer,O!==null))try{var L=m.lastRenderedState,J=O(L,f);if(T.hasEagerState=!0,T.eagerState=J,ws(J,L)){var ne=m.interleaved;ne===null?(T.next=T,Ff(m)):(T.next=ne.next,ne.next=T),m.interleaved=T;return}}catch{}finally{}f=S1(d,m,T,w),f!==null&&(T=tn(),Ps(f,d,w,T),X1(f,m,w))}}function Q1(d){var m=d.alternate;return d===Er||m!==null&&m===Er}function Y1(d,m){nu=b0=!0;var f=d.pending;f===null?m.next=m:(m.next=f.next,f.next=m),d.pending=m}function X1(d,m,f){if((f&4194240)!==0){var w=m.lanes;w&=d.pendingLanes,f|=w,m.lanes=f,ef(d,f)}}var w0={readContext:Zn,useCallback:qa,useContext:qa,useEffect:qa,useImperativeHandle:qa,useInsertionEffect:qa,useLayoutEffect:qa,useMemo:qa,useReducer:qa,useRef:qa,useState:qa,useDebugValue:qa,useDeferredValue:qa,useTransition:qa,useMutableSource:qa,useSyncExternalStore:qa,useId:qa,unstable_isNewReconciler:!1},B$={readContext:Zn,useCallback:function(d,m){return Ys().memoizedState=[d,m===void 0?null:m],d},useContext:Zn,useEffect:F1,useImperativeHandle:function(d,m,f){return f=f!=null?f.concat([d]):null,v0(4194308,4,q1.bind(null,m,d),f)},useLayoutEffect:function(d,m){return v0(4194308,4,d,m)},useInsertionEffect:function(d,m){return v0(4,2,d,m)},useMemo:function(d,m){var f=Ys();return m=m===void 0?null:m,d=d(),f.memoizedState=[d,m],d},useReducer:function(d,m,f){var w=Ys();return m=f!==void 0?f(m):m,w.memoizedState=w.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},w.queue=d,d=d.dispatch=R$.bind(null,Er,d),[w.memoizedState,d]},useRef:function(d){var m=Ys();return d={current:d},m.memoizedState=d},useState:L1,useDebugValue:Jf,useDeferredValue:function(d){return Ys().memoizedState=d},useTransition:function(){var d=L1(!1),m=d[0];return d=D$.bind(null,d[1]),Ys().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,f){var w=Er,T=Ys();if(Cr){if(f===void 0)throw Error(a(407));f=f()}else{if(f=m(),Na===null)throw Error(a(349));(dl&30)!==0||O1(w,m,f)}T.memoizedState=f;var O={value:f,getSnapshot:m};return T.queue=O,F1(R1.bind(null,w,O,d),[d]),w.flags|=2048,ou(9,D1.bind(null,w,O,f,m),void 0,null),f},useId:function(){var d=Ys(),m=Na.identifierPrefix;if(Cr){var f=vi,w=bi;f=(w&~(1<<32-dt(w)-1)).toString(32)+f,m=":"+m+"R"+f,f=su++,0<f&&(m+="H"+f.toString(32)),m+=":"}else f=O$++,m=":"+m+"r"+f.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},L$={readContext:Zn,useCallback:V1,useContext:Zn,useEffect:Zf,useImperativeHandle:W1,useInsertionEffect:z1,useLayoutEffect:U1,useMemo:H1,useReducer:Yf,useRef:_1,useState:function(){return Yf(iu)},useDebugValue:Jf,useDeferredValue:function(d){var m=Jn();return K1(m,ua.memoizedState,d)},useTransition:function(){var d=Yf(iu)[0],m=Jn().memoizedState;return[d,m]},useMutableSource:I1,useSyncExternalStore:E1,useId:G1,unstable_isNewReconciler:!1},_$={readContext:Zn,useCallback:V1,useContext:Zn,useEffect:Zf,useImperativeHandle:W1,useInsertionEffect:z1,useLayoutEffect:U1,useMemo:H1,useReducer:Xf,useRef:_1,useState:function(){return Xf(iu)},useDebugValue:Jf,useDeferredValue:function(d){var m=Jn();return ua===null?m.memoizedState=d:K1(m,ua.memoizedState,d)},useTransition:function(){var d=Xf(iu)[0],m=Jn().memoizedState;return[d,m]},useMutableSource:I1,useSyncExternalStore:E1,useId:G1,unstable_isNewReconciler:!1};function Ns(d,m){if(d&&d.defaultProps){m=X({},m),d=d.defaultProps;for(var f in d)m[f]===void 0&&(m[f]=d[f]);return m}return m}function ex(d,m,f,w){m=d.memoizedState,f=f(w,m),f=f==null?m:X({},m,f),d.memoizedState=f,d.lanes===0&&(d.updateQueue.baseState=f)}var j0={isMounted:function(d){return(d=d._reactInternals)?fr(d)===d:!1},enqueueSetState:function(d,m,f){d=d._reactInternals;var w=tn(),T=jo(d),O=wi(w,T);O.payload=m,f!=null&&(O.callback=f),m=bo(d,O,T),m!==null&&(Ps(m,d,T,w),p0(m,d,T))},enqueueReplaceState:function(d,m,f){d=d._reactInternals;var w=tn(),T=jo(d),O=wi(w,T);O.tag=1,O.payload=m,f!=null&&(O.callback=f),m=bo(d,O,T),m!==null&&(Ps(m,d,T,w),p0(m,d,T))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var f=tn(),w=jo(d),T=wi(f,w);T.tag=2,m!=null&&(T.callback=m),m=bo(d,T,w),m!==null&&(Ps(m,d,w,f),p0(m,d,w))}};function Z1(d,m,f,w,T,O,L){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(w,O,L):m.prototype&&m.prototype.isPureReactComponent?!Kc(f,w)||!Kc(T,O):!0}function J1(d,m,f){var w=!1,T=fo,O=m.contextType;return typeof O=="object"&&O!==null?O=Zn(O):(T=yn(m)?nl:Ua.current,w=m.contextTypes,O=(w=w!=null)?kd(d,T):fo),m=new m(f,O),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=j0,d.stateNode=m,m._reactInternals=d,w&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=T,d.__reactInternalMemoizedMaskedChildContext=O),m}function e2(d,m,f,w){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(f,w),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(f,w),m.state!==d&&j0.enqueueReplaceState(m,m.state,null)}function tx(d,m,f,w){var T=d.stateNode;T.props=f,T.state=d.memoizedState,T.refs={},zf(d);var O=m.contextType;typeof O=="object"&&O!==null?T.context=Zn(O):(O=yn(m)?nl:Ua.current,T.context=kd(d,O)),T.state=d.memoizedState,O=m.getDerivedStateFromProps,typeof O=="function"&&(ex(d,m,O,f),T.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(m=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),m!==T.state&&j0.enqueueReplaceState(T,T.state,null),f0(d,f,T,w),T.state=d.memoizedState),typeof T.componentDidMount=="function"&&(d.flags|=4194308)}function Ad(d,m){try{var f="",w=m;do f+=_(w),w=w.return;while(w);var T=f}catch(O){T=`
Error generating stack: `+O.message+`
`+O.stack}return{value:d,source:m,stack:T,digest:null}}function rx(d,m,f){return{value:d,source:null,stack:f??null,digest:m??null}}function ax(d,m){try{console.error(m.value)}catch(f){setTimeout(function(){throw f})}}var F$=typeof WeakMap=="function"?WeakMap:Map;function t2(d,m,f){f=wi(-1,f),f.tag=3,f.payload={element:null};var w=m.value;return f.callback=function(){M0||(M0=!0,yx=w),ax(d,m)},f}function r2(d,m,f){f=wi(-1,f),f.tag=3;var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var T=m.value;f.payload=function(){return w(T)},f.callback=function(){ax(d,m)}}var O=d.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(f.callback=function(){ax(d,m),typeof w!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var L=m.stack;this.componentDidCatch(m.value,{componentStack:L!==null?L:""})}),f}function a2(d,m,f){var w=d.pingCache;if(w===null){w=d.pingCache=new F$;var T=new Set;w.set(m,T)}else T=w.get(m),T===void 0&&(T=new Set,w.set(m,T));T.has(f)||(T.add(f),d=eB.bind(null,d,m,f),m.then(d,d))}function n2(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function s2(d,m,f,w,T){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(m=wi(-1,1),m.tag=2,bo(f,m,1))),f.lanes|=1),d):(d.flags|=65536,d.lanes=T,d)}var z$=P.ReactCurrentOwner,bn=!1;function en(d,m,f,w){m.child=d===null?C1(m,null,f,w):Cd(m,d.child,f,w)}function i2(d,m,f,w,T){f=f.render;var O=m.ref;return Pd(m,T),w=Gf(d,m,f,w,O,T),f=Qf(),d!==null&&!bn?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~T,ji(d,m,T)):(Cr&&f&&If(m),m.flags|=1,en(d,m,w,T),m.child)}function o2(d,m,f,w,T){if(d===null){var O=f.type;return typeof O=="function"&&!Cx(O)&&O.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(m.tag=15,m.type=O,l2(d,m,O,w,T)):(d=$0(f.type,null,w,m,m.mode,T),d.ref=m.ref,d.return=m,m.child=d)}if(O=d.child,(d.lanes&T)===0){var L=O.memoizedProps;if(f=f.compare,f=f!==null?f:Kc,f(L,w)&&d.ref===m.ref)return ji(d,m,T)}return m.flags|=1,d=Co(O,w),d.ref=m.ref,d.return=m,m.child=d}function l2(d,m,f,w,T){if(d!==null){var O=d.memoizedProps;if(Kc(O,w)&&d.ref===m.ref)if(bn=!1,m.pendingProps=w=O,(d.lanes&T)!==0)(d.flags&131072)!==0&&(bn=!0);else return m.lanes=d.lanes,ji(d,m,T)}return nx(d,m,f,w,T)}function d2(d,m,f){var w=m.pendingProps,T=w.children,O=d!==null?d.memoizedState:null;if(w.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},xr(Id,On),On|=f;else{if((f&1073741824)===0)return d=O!==null?O.baseLanes|f:f,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,xr(Id,On),On|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=O!==null?O.baseLanes:f,xr(Id,On),On|=w}else O!==null?(w=O.baseLanes|f,m.memoizedState=null):w=f,xr(Id,On),On|=w;return en(d,m,T,f),m.child}function c2(d,m){var f=m.ref;(d===null&&f!==null||d!==null&&d.ref!==f)&&(m.flags|=512,m.flags|=2097152)}function nx(d,m,f,w,T){var O=yn(f)?nl:Ua.current;return O=kd(m,O),Pd(m,T),f=Gf(d,m,f,w,O,T),w=Qf(),d!==null&&!bn?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~T,ji(d,m,T)):(Cr&&w&&If(m),m.flags|=1,en(d,m,f,T),m.child)}function u2(d,m,f,w,T){if(yn(f)){var O=!0;o0(m)}else O=!1;if(Pd(m,T),m.stateNode===null)C0(d,m),J1(m,f,w),tx(m,f,w,T),w=!0;else if(d===null){var L=m.stateNode,J=m.memoizedProps;L.props=J;var ne=L.context,ve=f.contextType;typeof ve=="object"&&ve!==null?ve=Zn(ve):(ve=yn(f)?nl:Ua.current,ve=kd(m,ve));var ze=f.getDerivedStateFromProps,Ve=typeof ze=="function"||typeof L.getSnapshotBeforeUpdate=="function";Ve||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(J!==w||ne!==ve)&&e2(m,L,w,ve),yo=!1;var Fe=m.memoizedState;L.state=Fe,f0(m,w,L,T),ne=m.memoizedState,J!==w||Fe!==ne||xn.current||yo?(typeof ze=="function"&&(ex(m,f,ze,w),ne=m.memoizedState),(J=yo||Z1(m,f,J,w,Fe,ne,ve))?(Ve||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(m.flags|=4194308)):(typeof L.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=w,m.memoizedState=ne),L.props=w,L.state=ne,L.context=ve,w=J):(typeof L.componentDidMount=="function"&&(m.flags|=4194308),w=!1)}else{L=m.stateNode,P1(d,m),J=m.memoizedProps,ve=m.type===m.elementType?J:Ns(m.type,J),L.props=ve,Ve=m.pendingProps,Fe=L.context,ne=f.contextType,typeof ne=="object"&&ne!==null?ne=Zn(ne):(ne=yn(f)?nl:Ua.current,ne=kd(m,ne));var Xe=f.getDerivedStateFromProps;(ze=typeof Xe=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(J!==Ve||Fe!==ne)&&e2(m,L,w,ne),yo=!1,Fe=m.memoizedState,L.state=Fe,f0(m,w,L,T);var rt=m.memoizedState;J!==Ve||Fe!==rt||xn.current||yo?(typeof Xe=="function"&&(ex(m,f,Xe,w),rt=m.memoizedState),(ve=yo||Z1(m,f,ve,w,Fe,rt,ne)||!1)?(ze||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(w,rt,ne),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(w,rt,ne)),typeof L.componentDidUpdate=="function"&&(m.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof L.componentDidUpdate!="function"||J===d.memoizedProps&&Fe===d.memoizedState||(m.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||J===d.memoizedProps&&Fe===d.memoizedState||(m.flags|=1024),m.memoizedProps=w,m.memoizedState=rt),L.props=w,L.state=rt,L.context=ne,w=ve):(typeof L.componentDidUpdate!="function"||J===d.memoizedProps&&Fe===d.memoizedState||(m.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||J===d.memoizedProps&&Fe===d.memoizedState||(m.flags|=1024),w=!1)}return sx(d,m,f,w,O,T)}function sx(d,m,f,w,T,O){c2(d,m);var L=(m.flags&128)!==0;if(!w&&!L)return T&&f1(m,f,!1),ji(d,m,O);w=m.stateNode,z$.current=m;var J=L&&typeof f.getDerivedStateFromError!="function"?null:w.render();return m.flags|=1,d!==null&&L?(m.child=Cd(m,d.child,null,O),m.child=Cd(m,null,J,O)):en(d,m,J,O),m.memoizedState=w.state,T&&f1(m,f,!0),m.child}function m2(d){var m=d.stateNode;m.pendingContext?h1(d,m.pendingContext,m.pendingContext!==m.context):m.context&&h1(d,m.context,!1),Uf(d,m.containerInfo)}function g2(d,m,f,w,T){return Nd(),Rf(T),m.flags|=256,en(d,m,f,w),m.child}var ix={dehydrated:null,treeContext:null,retryLane:0};function ox(d){return{baseLanes:d,cachePool:null,transitions:null}}function h2(d,m,f){var w=m.pendingProps,T=Ir.current,O=!1,L=(m.flags&128)!==0,J;if((J=L)||(J=d!==null&&d.memoizedState===null?!1:(T&2)!==0),J?(O=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(T|=1),xr(Ir,T&1),d===null)return Df(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(L=w.children,d=w.fallback,O?(w=m.mode,O=m.child,L={mode:"hidden",children:L},(w&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=L):O=B0(L,w,0,null),d=hl(d,w,f,null),O.return=m,d.return=m,O.sibling=d,m.child=O,m.child.memoizedState=ox(f),m.memoizedState=ix,d):lx(m,L));if(T=d.memoizedState,T!==null&&(J=T.dehydrated,J!==null))return U$(d,m,L,w,J,T,f);if(O){O=w.fallback,L=m.mode,T=d.child,J=T.sibling;var ne={mode:"hidden",children:w.children};return(L&1)===0&&m.child!==T?(w=m.child,w.childLanes=0,w.pendingProps=ne,m.deletions=null):(w=Co(T,ne),w.subtreeFlags=T.subtreeFlags&14680064),J!==null?O=Co(J,O):(O=hl(O,L,f,null),O.flags|=2),O.return=m,w.return=m,w.sibling=O,m.child=w,w=O,O=m.child,L=d.child.memoizedState,L=L===null?ox(f):{baseLanes:L.baseLanes|f,cachePool:null,transitions:L.transitions},O.memoizedState=L,O.childLanes=d.childLanes&~f,m.memoizedState=ix,w}return O=d.child,d=O.sibling,w=Co(O,{mode:"visible",children:w.children}),(m.mode&1)===0&&(w.lanes=f),w.return=m,w.sibling=null,d!==null&&(f=m.deletions,f===null?(m.deletions=[d],m.flags|=16):f.push(d)),m.child=w,m.memoizedState=null,w}function lx(d,m){return m=B0({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function N0(d,m,f,w){return w!==null&&Rf(w),Cd(m,d.child,null,f),d=lx(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function U$(d,m,f,w,T,O,L){if(f)return m.flags&256?(m.flags&=-257,w=rx(Error(a(422))),N0(d,m,L,w)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(O=w.fallback,T=m.mode,w=B0({mode:"visible",children:w.children},T,0,null),O=hl(O,T,L,null),O.flags|=2,w.return=m,O.return=m,w.sibling=O,m.child=w,(m.mode&1)!==0&&Cd(m,d.child,null,L),m.child.memoizedState=ox(L),m.memoizedState=ix,O);if((m.mode&1)===0)return N0(d,m,L,null);if(T.data==="$!"){if(w=T.nextSibling&&T.nextSibling.dataset,w)var J=w.dgst;return w=J,O=Error(a(419)),w=rx(O,w,void 0),N0(d,m,L,w)}if(J=(L&d.childLanes)!==0,bn||J){if(w=Na,w!==null){switch(L&-L){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(w.suspendedLanes|L))!==0?0:T,T!==0&&T!==O.retryLane&&(O.retryLane=T,ki(d,T),Ps(w,d,T,-1))}return Nx(),w=rx(Error(a(421))),N0(d,m,L,w)}return T.data==="$?"?(m.flags|=128,m.child=d.child,m=tB.bind(null,d),T._reactRetry=m,null):(d=O.treeContext,En=ho(T.nextSibling),In=m,Cr=!0,js=null,d!==null&&(Yn[Xn++]=bi,Yn[Xn++]=vi,Yn[Xn++]=sl,bi=d.id,vi=d.overflow,sl=m),m=lx(m,w.children),m.flags|=4096,m)}function p2(d,m,f){d.lanes|=m;var w=d.alternate;w!==null&&(w.lanes|=m),_f(d.return,m,f)}function dx(d,m,f,w,T){var O=d.memoizedState;O===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:w,tail:f,tailMode:T}:(O.isBackwards=m,O.rendering=null,O.renderingStartTime=0,O.last=w,O.tail=f,O.tailMode=T)}function f2(d,m,f){var w=m.pendingProps,T=w.revealOrder,O=w.tail;if(en(d,m,w.children,f),w=Ir.current,(w&2)!==0)w=w&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&p2(d,f,m);else if(d.tag===19)p2(d,f,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}w&=1}if(xr(Ir,w),(m.mode&1)===0)m.memoizedState=null;else switch(T){case"forwards":for(f=m.child,T=null;f!==null;)d=f.alternate,d!==null&&x0(d)===null&&(T=f),f=f.sibling;f=T,f===null?(T=m.child,m.child=null):(T=f.sibling,f.sibling=null),dx(m,!1,T,f,O);break;case"backwards":for(f=null,T=m.child,m.child=null;T!==null;){if(d=T.alternate,d!==null&&x0(d)===null){m.child=T;break}d=T.sibling,T.sibling=f,f=T,T=d}dx(m,!0,f,null,O);break;case"together":dx(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function C0(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function ji(d,m,f){if(d!==null&&(m.dependencies=d.dependencies),cl|=m.lanes,(f&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(a(153));if(m.child!==null){for(d=m.child,f=Co(d,d.pendingProps),m.child=f,f.return=m;d.sibling!==null;)d=d.sibling,f=f.sibling=Co(d,d.pendingProps),f.return=m;f.sibling=null}return m.child}function q$(d,m,f){switch(m.tag){case 3:m2(m),Nd();break;case 5:M1(m);break;case 1:yn(m.type)&&o0(m);break;case 4:Uf(m,m.stateNode.containerInfo);break;case 10:var w=m.type._context,T=m.memoizedProps.value;xr(g0,w._currentValue),w._currentValue=T;break;case 13:if(w=m.memoizedState,w!==null)return w.dehydrated!==null?(xr(Ir,Ir.current&1),m.flags|=128,null):(f&m.child.childLanes)!==0?h2(d,m,f):(xr(Ir,Ir.current&1),d=ji(d,m,f),d!==null?d.sibling:null);xr(Ir,Ir.current&1);break;case 19:if(w=(f&m.childLanes)!==0,(d.flags&128)!==0){if(w)return f2(d,m,f);m.flags|=128}if(T=m.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),xr(Ir,Ir.current),w)break;return null;case 22:case 23:return m.lanes=0,d2(d,m,f)}return ji(d,m,f)}var x2,cx,y2,b2;x2=function(d,m){for(var f=m.child;f!==null;){if(f.tag===5||f.tag===6)d.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===m)break;for(;f.sibling===null;){if(f.return===null||f.return===m)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},cx=function(){},y2=function(d,m,f,w){var T=d.memoizedProps;if(T!==w){d=m.stateNode,ll(Qs.current);var O=null;switch(f){case"input":T=he(d,T),w=he(d,w),O=[];break;case"select":T=X({},T,{value:void 0}),w=X({},w,{value:void 0}),O=[];break;case"textarea":T=tr(d,T),w=tr(d,w),O=[];break;default:typeof T.onClick!="function"&&typeof w.onClick=="function"&&(d.onclick=n0)}ct(f,w);var L;f=null;for(ve in T)if(!w.hasOwnProperty(ve)&&T.hasOwnProperty(ve)&&T[ve]!=null)if(ve==="style"){var J=T[ve];for(L in J)J.hasOwnProperty(L)&&(f||(f={}),f[L]="")}else ve!=="dangerouslySetInnerHTML"&&ve!=="children"&&ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&ve!=="autoFocus"&&(s.hasOwnProperty(ve)?O||(O=[]):(O=O||[]).push(ve,null));for(ve in w){var ne=w[ve];if(J=T?.[ve],w.hasOwnProperty(ve)&&ne!==J&&(ne!=null||J!=null))if(ve==="style")if(J){for(L in J)!J.hasOwnProperty(L)||ne&&ne.hasOwnProperty(L)||(f||(f={}),f[L]="");for(L in ne)ne.hasOwnProperty(L)&&J[L]!==ne[L]&&(f||(f={}),f[L]=ne[L])}else f||(O||(O=[]),O.push(ve,f)),f=ne;else ve==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,J=J?J.__html:void 0,ne!=null&&J!==ne&&(O=O||[]).push(ve,ne)):ve==="children"?typeof ne!="string"&&typeof ne!="number"||(O=O||[]).push(ve,""+ne):ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&(s.hasOwnProperty(ve)?(ne!=null&&ve==="onScroll"&&kr("scroll",d),O||J===ne||(O=[])):(O=O||[]).push(ve,ne))}f&&(O=O||[]).push("style",f);var ve=O;(m.updateQueue=ve)&&(m.flags|=4)}},b2=function(d,m,f,w){f!==w&&(m.flags|=4)};function lu(d,m){if(!Cr)switch(d.tailMode){case"hidden":m=d.tail;for(var f=null;m!==null;)m.alternate!==null&&(f=m),m=m.sibling;f===null?d.tail=null:f.sibling=null;break;case"collapsed":f=d.tail;for(var w=null;f!==null;)f.alternate!==null&&(w=f),f=f.sibling;w===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:w.sibling=null}}function Wa(d){var m=d.alternate!==null&&d.alternate.child===d.child,f=0,w=0;if(m)for(var T=d.child;T!==null;)f|=T.lanes|T.childLanes,w|=T.subtreeFlags&14680064,w|=T.flags&14680064,T.return=d,T=T.sibling;else for(T=d.child;T!==null;)f|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=d,T=T.sibling;return d.subtreeFlags|=w,d.childLanes=f,m}function W$(d,m,f){var w=m.pendingProps;switch(Ef(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(m),null;case 1:return yn(m.type)&&i0(),Wa(m),null;case 3:return w=m.stateNode,Td(),wr(xn),wr(Ua),Vf(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(d===null||d.child===null)&&(u0(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,js!==null&&(kx(js),js=null))),cx(d,m),Wa(m),null;case 5:qf(m);var T=ll(au.current);if(f=m.type,d!==null&&m.stateNode!=null)y2(d,m,f,w,T),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!w){if(m.stateNode===null)throw Error(a(166));return Wa(m),null}if(d=ll(Qs.current),u0(m)){w=m.stateNode,f=m.type;var O=m.memoizedProps;switch(w[Gs]=m,w[Zc]=O,d=(m.mode&1)!==0,f){case"dialog":kr("cancel",w),kr("close",w);break;case"iframe":case"object":case"embed":kr("load",w);break;case"video":case"audio":for(T=0;T<Qc.length;T++)kr(Qc[T],w);break;case"source":kr("error",w);break;case"img":case"image":case"link":kr("error",w),kr("load",w);break;case"details":kr("toggle",w);break;case"input":we(w,O),kr("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!O.multiple},kr("invalid",w);break;case"textarea":Oe(w,O),kr("invalid",w)}ct(f,O),T=null;for(var L in O)if(O.hasOwnProperty(L)){var J=O[L];L==="children"?typeof J=="string"?w.textContent!==J&&(O.suppressHydrationWarning!==!0&&a0(w.textContent,J,d),T=["children",J]):typeof J=="number"&&w.textContent!==""+J&&(O.suppressHydrationWarning!==!0&&a0(w.textContent,J,d),T=["children",""+J]):s.hasOwnProperty(L)&&J!=null&&L==="onScroll"&&kr("scroll",w)}switch(f){case"input":le(w),pt(w,O,!0);break;case"textarea":le(w),Vr(w);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(w.onclick=n0)}w=T,m.updateQueue=w,w!==null&&(m.flags|=4)}else{L=T.nodeType===9?T:T.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=ur(f)),d==="http://www.w3.org/1999/xhtml"?f==="script"?(d=L.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof w.is=="string"?d=L.createElement(f,{is:w.is}):(d=L.createElement(f),f==="select"&&(L=d,w.multiple?L.multiple=!0:w.size&&(L.size=w.size))):d=L.createElementNS(d,f),d[Gs]=m,d[Zc]=w,x2(d,m,!1,!1),m.stateNode=d;e:{switch(L=Pt(f,w),f){case"dialog":kr("cancel",d),kr("close",d),T=w;break;case"iframe":case"object":case"embed":kr("load",d),T=w;break;case"video":case"audio":for(T=0;T<Qc.length;T++)kr(Qc[T],d);T=w;break;case"source":kr("error",d),T=w;break;case"img":case"image":case"link":kr("error",d),kr("load",d),T=w;break;case"details":kr("toggle",d),T=w;break;case"input":we(d,w),T=he(d,w),kr("invalid",d);break;case"option":T=w;break;case"select":d._wrapperState={wasMultiple:!!w.multiple},T=X({},w,{value:void 0}),kr("invalid",d);break;case"textarea":Oe(d,w),T=tr(d,w),kr("invalid",d);break;default:T=w}ct(f,T),J=T;for(O in J)if(J.hasOwnProperty(O)){var ne=J[O];O==="style"?Te(d,ne):O==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Se(d,ne)):O==="children"?typeof ne=="string"?(f!=="textarea"||ne!=="")&&Re(d,ne):typeof ne=="number"&&Re(d,""+ne):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(s.hasOwnProperty(O)?ne!=null&&O==="onScroll"&&kr("scroll",d):ne!=null&&C(d,O,ne,L))}switch(f){case"input":le(d),pt(d,w,!1);break;case"textarea":le(d),Vr(d);break;case"option":w.value!=null&&d.setAttribute("value",""+G(w.value));break;case"select":d.multiple=!!w.multiple,O=w.value,O!=null?Et(d,!!w.multiple,O,!1):w.defaultValue!=null&&Et(d,!!w.multiple,w.defaultValue,!0);break;default:typeof T.onClick=="function"&&(d.onclick=n0)}switch(f){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Wa(m),null;case 6:if(d&&m.stateNode!=null)b2(d,m,d.memoizedProps,w);else{if(typeof w!="string"&&m.stateNode===null)throw Error(a(166));if(f=ll(au.current),ll(Qs.current),u0(m)){if(w=m.stateNode,f=m.memoizedProps,w[Gs]=m,(O=w.nodeValue!==f)&&(d=In,d!==null))switch(d.tag){case 3:a0(w.nodeValue,f,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&a0(w.nodeValue,f,(d.mode&1)!==0)}O&&(m.flags|=4)}else w=(f.nodeType===9?f:f.ownerDocument).createTextNode(w),w[Gs]=m,m.stateNode=w}return Wa(m),null;case 13:if(wr(Ir),w=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(Cr&&En!==null&&(m.mode&1)!==0&&(m.flags&128)===0)w1(),Nd(),m.flags|=98560,O=!1;else if(O=u0(m),w!==null&&w.dehydrated!==null){if(d===null){if(!O)throw Error(a(318));if(O=m.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(a(317));O[Gs]=m}else Nd(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Wa(m),O=!1}else js!==null&&(kx(js),js=null),O=!0;if(!O)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=f,m):(w=w!==null,w!==(d!==null&&d.memoizedState!==null)&&w&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(Ir.current&1)!==0?ma===0&&(ma=3):Nx())),m.updateQueue!==null&&(m.flags|=4),Wa(m),null);case 4:return Td(),cx(d,m),d===null&&Yc(m.stateNode.containerInfo),Wa(m),null;case 10:return Lf(m.type._context),Wa(m),null;case 17:return yn(m.type)&&i0(),Wa(m),null;case 19:if(wr(Ir),O=m.memoizedState,O===null)return Wa(m),null;if(w=(m.flags&128)!==0,L=O.rendering,L===null)if(w)lu(O,!1);else{if(ma!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(L=x0(d),L!==null){for(m.flags|=128,lu(O,!1),w=L.updateQueue,w!==null&&(m.updateQueue=w,m.flags|=4),m.subtreeFlags=0,w=f,f=m.child;f!==null;)O=f,d=w,O.flags&=14680066,L=O.alternate,L===null?(O.childLanes=0,O.lanes=d,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=L.childLanes,O.lanes=L.lanes,O.child=L.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=L.memoizedProps,O.memoizedState=L.memoizedState,O.updateQueue=L.updateQueue,O.type=L.type,d=L.dependencies,O.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),f=f.sibling;return xr(Ir,Ir.current&1|2),m.child}d=d.sibling}O.tail!==null&&ar()>Ed&&(m.flags|=128,w=!0,lu(O,!1),m.lanes=4194304)}else{if(!w)if(d=x0(L),d!==null){if(m.flags|=128,w=!0,f=d.updateQueue,f!==null&&(m.updateQueue=f,m.flags|=4),lu(O,!0),O.tail===null&&O.tailMode==="hidden"&&!L.alternate&&!Cr)return Wa(m),null}else 2*ar()-O.renderingStartTime>Ed&&f!==1073741824&&(m.flags|=128,w=!0,lu(O,!1),m.lanes=4194304);O.isBackwards?(L.sibling=m.child,m.child=L):(f=O.last,f!==null?f.sibling=L:m.child=L,O.last=L)}return O.tail!==null?(m=O.tail,O.rendering=m,O.tail=m.sibling,O.renderingStartTime=ar(),m.sibling=null,f=Ir.current,xr(Ir,w?f&1|2:f&1),m):(Wa(m),null);case 22:case 23:return jx(),w=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==w&&(m.flags|=8192),w&&(m.mode&1)!==0?(On&1073741824)!==0&&(Wa(m),m.subtreeFlags&6&&(m.flags|=8192)):Wa(m),null;case 24:return null;case 25:return null}throw Error(a(156,m.tag))}function V$(d,m){switch(Ef(m),m.tag){case 1:return yn(m.type)&&i0(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return Td(),wr(xn),wr(Ua),Vf(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return qf(m),null;case 13:if(wr(Ir),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(a(340));Nd()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return wr(Ir),null;case 4:return Td(),null;case 10:return Lf(m.type._context),null;case 22:case 23:return jx(),null;case 24:return null;default:return null}}var S0=!1,Va=!1,H$=typeof WeakSet=="function"?WeakSet:Set,et=null;function Md(d,m){var f=d.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(w){zr(d,m,w)}else f.current=null}function ux(d,m,f){try{f()}catch(w){zr(d,m,w)}}var v2=!1;function K$(d,m){if(jf=Hm,d=ZN(),pf(d)){if("selectionStart"in d)var f={start:d.selectionStart,end:d.selectionEnd};else e:{f=(f=d.ownerDocument)&&f.defaultView||window;var w=f.getSelection&&f.getSelection();if(w&&w.rangeCount!==0){f=w.anchorNode;var T=w.anchorOffset,O=w.focusNode;w=w.focusOffset;try{f.nodeType,O.nodeType}catch{f=null;break e}var L=0,J=-1,ne=-1,ve=0,ze=0,Ve=d,Fe=null;t:for(;;){for(var Xe;Ve!==f||T!==0&&Ve.nodeType!==3||(J=L+T),Ve!==O||w!==0&&Ve.nodeType!==3||(ne=L+w),Ve.nodeType===3&&(L+=Ve.nodeValue.length),(Xe=Ve.firstChild)!==null;)Fe=Ve,Ve=Xe;for(;;){if(Ve===d)break t;if(Fe===f&&++ve===T&&(J=L),Fe===O&&++ze===w&&(ne=L),(Xe=Ve.nextSibling)!==null)break;Ve=Fe,Fe=Ve.parentNode}Ve=Xe}f=J===-1||ne===-1?null:{start:J,end:ne}}else f=null}f=f||{start:0,end:0}}else f=null;for(Nf={focusedElem:d,selectionRange:f},Hm=!1,et=m;et!==null;)if(m=et,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,et=d;else for(;et!==null;){m=et;try{var rt=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(rt!==null){var nt=rt.memoizedProps,Hr=rt.memoizedState,ge=m.stateNode,oe=ge.getSnapshotBeforeUpdate(m.elementType===m.type?nt:Ns(m.type,nt),Hr);ge.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var ye=m.stateNode.containerInfo;ye.nodeType===1?ye.textContent="":ye.nodeType===9&&ye.documentElement&&ye.removeChild(ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Ke){zr(m,m.return,Ke)}if(d=m.sibling,d!==null){d.return=m.return,et=d;break}et=m.return}return rt=v2,v2=!1,rt}function du(d,m,f){var w=m.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var T=w=w.next;do{if((T.tag&d)===d){var O=T.destroy;T.destroy=void 0,O!==void 0&&ux(m,f,O)}T=T.next}while(T!==w)}}function P0(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var f=m=m.next;do{if((f.tag&d)===d){var w=f.create;f.destroy=w()}f=f.next}while(f!==m)}}function mx(d){var m=d.ref;if(m!==null){var f=d.stateNode;switch(d.tag){case 5:d=f;break;default:d=f}typeof m=="function"?m(d):m.current=d}}function k2(d){var m=d.alternate;m!==null&&(d.alternate=null,k2(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[Gs],delete m[Zc],delete m[Tf],delete m[A$],delete m[M$])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function w2(d){return d.tag===5||d.tag===3||d.tag===4}function j2(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||w2(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function gx(d,m,f){var w=d.tag;if(w===5||w===6)d=d.stateNode,m?f.nodeType===8?f.parentNode.insertBefore(d,m):f.insertBefore(d,m):(f.nodeType===8?(m=f.parentNode,m.insertBefore(d,f)):(m=f,m.appendChild(d)),f=f._reactRootContainer,f!=null||m.onclick!==null||(m.onclick=n0));else if(w!==4&&(d=d.child,d!==null))for(gx(d,m,f),d=d.sibling;d!==null;)gx(d,m,f),d=d.sibling}function hx(d,m,f){var w=d.tag;if(w===5||w===6)d=d.stateNode,m?f.insertBefore(d,m):f.appendChild(d);else if(w!==4&&(d=d.child,d!==null))for(hx(d,m,f),d=d.sibling;d!==null;)hx(d,m,f),d=d.sibling}var $a=null,Cs=!1;function vo(d,m,f){for(f=f.child;f!==null;)N2(d,m,f),f=f.sibling}function N2(d,m,f){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount($e,f)}catch{}switch(f.tag){case 5:Va||Md(f,m);case 6:var w=$a,T=Cs;$a=null,vo(d,m,f),$a=w,Cs=T,$a!==null&&(Cs?(d=$a,f=f.stateNode,d.nodeType===8?d.parentNode.removeChild(f):d.removeChild(f)):$a.removeChild(f.stateNode));break;case 18:$a!==null&&(Cs?(d=$a,f=f.stateNode,d.nodeType===8?Pf(d.parentNode,f):d.nodeType===1&&Pf(d,f),zc(d)):Pf($a,f.stateNode));break;case 4:w=$a,T=Cs,$a=f.stateNode.containerInfo,Cs=!0,vo(d,m,f),$a=w,Cs=T;break;case 0:case 11:case 14:case 15:if(!Va&&(w=f.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){T=w=w.next;do{var O=T,L=O.destroy;O=O.tag,L!==void 0&&((O&2)!==0||(O&4)!==0)&&ux(f,m,L),T=T.next}while(T!==w)}vo(d,m,f);break;case 1:if(!Va&&(Md(f,m),w=f.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=f.memoizedProps,w.state=f.memoizedState,w.componentWillUnmount()}catch(J){zr(f,m,J)}vo(d,m,f);break;case 21:vo(d,m,f);break;case 22:f.mode&1?(Va=(w=Va)||f.memoizedState!==null,vo(d,m,f),Va=w):vo(d,m,f);break;default:vo(d,m,f)}}function C2(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var f=d.stateNode;f===null&&(f=d.stateNode=new H$),m.forEach(function(w){var T=rB.bind(null,d,w);f.has(w)||(f.add(w),w.then(T,T))})}}function Ss(d,m){var f=m.deletions;if(f!==null)for(var w=0;w<f.length;w++){var T=f[w];try{var O=d,L=m,J=L;e:for(;J!==null;){switch(J.tag){case 5:$a=J.stateNode,Cs=!1;break e;case 3:$a=J.stateNode.containerInfo,Cs=!0;break e;case 4:$a=J.stateNode.containerInfo,Cs=!0;break e}J=J.return}if($a===null)throw Error(a(160));N2(O,L,T),$a=null,Cs=!1;var ne=T.alternate;ne!==null&&(ne.return=null),T.return=null}catch(ve){zr(T,m,ve)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)S2(m,d),m=m.sibling}function S2(d,m){var f=d.alternate,w=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Ss(m,d),Xs(d),w&4){try{du(3,d,d.return),P0(3,d)}catch(nt){zr(d,d.return,nt)}try{du(5,d,d.return)}catch(nt){zr(d,d.return,nt)}}break;case 1:Ss(m,d),Xs(d),w&512&&f!==null&&Md(f,f.return);break;case 5:if(Ss(m,d),Xs(d),w&512&&f!==null&&Md(f,f.return),d.flags&32){var T=d.stateNode;try{Re(T,"")}catch(nt){zr(d,d.return,nt)}}if(w&4&&(T=d.stateNode,T!=null)){var O=d.memoizedProps,L=f!==null?f.memoizedProps:O,J=d.type,ne=d.updateQueue;if(d.updateQueue=null,ne!==null)try{J==="input"&&O.type==="radio"&&O.name!=null&&De(T,O),Pt(J,L);var ve=Pt(J,O);for(L=0;L<ne.length;L+=2){var ze=ne[L],Ve=ne[L+1];ze==="style"?Te(T,Ve):ze==="dangerouslySetInnerHTML"?Se(T,Ve):ze==="children"?Re(T,Ve):C(T,ze,Ve,ve)}switch(J){case"input":Ze(T,O);break;case"textarea":Me(T,O);break;case"select":var Fe=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!O.multiple;var Xe=O.value;Xe!=null?Et(T,!!O.multiple,Xe,!1):Fe!==!!O.multiple&&(O.defaultValue!=null?Et(T,!!O.multiple,O.defaultValue,!0):Et(T,!!O.multiple,O.multiple?[]:"",!1))}T[Zc]=O}catch(nt){zr(d,d.return,nt)}}break;case 6:if(Ss(m,d),Xs(d),w&4){if(d.stateNode===null)throw Error(a(162));T=d.stateNode,O=d.memoizedProps;try{T.nodeValue=O}catch(nt){zr(d,d.return,nt)}}break;case 3:if(Ss(m,d),Xs(d),w&4&&f!==null&&f.memoizedState.isDehydrated)try{zc(m.containerInfo)}catch(nt){zr(d,d.return,nt)}break;case 4:Ss(m,d),Xs(d);break;case 13:Ss(m,d),Xs(d),T=d.child,T.flags&8192&&(O=T.memoizedState!==null,T.stateNode.isHidden=O,!O||T.alternate!==null&&T.alternate.memoizedState!==null||(xx=ar())),w&4&&C2(d);break;case 22:if(ze=f!==null&&f.memoizedState!==null,d.mode&1?(Va=(ve=Va)||ze,Ss(m,d),Va=ve):Ss(m,d),Xs(d),w&8192){if(ve=d.memoizedState!==null,(d.stateNode.isHidden=ve)&&!ze&&(d.mode&1)!==0)for(et=d,ze=d.child;ze!==null;){for(Ve=et=ze;et!==null;){switch(Fe=et,Xe=Fe.child,Fe.tag){case 0:case 11:case 14:case 15:du(4,Fe,Fe.return);break;case 1:Md(Fe,Fe.return);var rt=Fe.stateNode;if(typeof rt.componentWillUnmount=="function"){w=Fe,f=Fe.return;try{m=w,rt.props=m.memoizedProps,rt.state=m.memoizedState,rt.componentWillUnmount()}catch(nt){zr(w,f,nt)}}break;case 5:Md(Fe,Fe.return);break;case 22:if(Fe.memoizedState!==null){A2(Ve);continue}}Xe!==null?(Xe.return=Fe,et=Xe):A2(Ve)}ze=ze.sibling}e:for(ze=null,Ve=d;;){if(Ve.tag===5){if(ze===null){ze=Ve;try{T=Ve.stateNode,ve?(O=T.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(J=Ve.stateNode,ne=Ve.memoizedProps.style,L=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,J.style.display=ce("display",L))}catch(nt){zr(d,d.return,nt)}}}else if(Ve.tag===6){if(ze===null)try{Ve.stateNode.nodeValue=ve?"":Ve.memoizedProps}catch(nt){zr(d,d.return,nt)}}else if((Ve.tag!==22&&Ve.tag!==23||Ve.memoizedState===null||Ve===d)&&Ve.child!==null){Ve.child.return=Ve,Ve=Ve.child;continue}if(Ve===d)break e;for(;Ve.sibling===null;){if(Ve.return===null||Ve.return===d)break e;ze===Ve&&(ze=null),Ve=Ve.return}ze===Ve&&(ze=null),Ve.sibling.return=Ve.return,Ve=Ve.sibling}}break;case 19:Ss(m,d),Xs(d),w&4&&C2(d);break;case 21:break;default:Ss(m,d),Xs(d)}}function Xs(d){var m=d.flags;if(m&2){try{e:{for(var f=d.return;f!==null;){if(w2(f)){var w=f;break e}f=f.return}throw Error(a(160))}switch(w.tag){case 5:var T=w.stateNode;w.flags&32&&(Re(T,""),w.flags&=-33);var O=j2(d);hx(d,O,T);break;case 3:case 4:var L=w.stateNode.containerInfo,J=j2(d);gx(d,J,L);break;default:throw Error(a(161))}}catch(ne){zr(d,d.return,ne)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function G$(d,m,f){et=d,P2(d)}function P2(d,m,f){for(var w=(d.mode&1)!==0;et!==null;){var T=et,O=T.child;if(T.tag===22&&w){var L=T.memoizedState!==null||S0;if(!L){var J=T.alternate,ne=J!==null&&J.memoizedState!==null||Va;J=S0;var ve=Va;if(S0=L,(Va=ne)&&!ve)for(et=T;et!==null;)L=et,ne=L.child,L.tag===22&&L.memoizedState!==null?M2(T):ne!==null?(ne.return=L,et=ne):M2(T);for(;O!==null;)et=O,P2(O),O=O.sibling;et=T,S0=J,Va=ve}T2(d)}else(T.subtreeFlags&8772)!==0&&O!==null?(O.return=T,et=O):T2(d)}}function T2(d){for(;et!==null;){var m=et;if((m.flags&8772)!==0){var f=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Va||P0(5,m);break;case 1:var w=m.stateNode;if(m.flags&4&&!Va)if(f===null)w.componentDidMount();else{var T=m.elementType===m.type?f.memoizedProps:Ns(m.type,f.memoizedProps);w.componentDidUpdate(T,f.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var O=m.updateQueue;O!==null&&A1(m,O,w);break;case 3:var L=m.updateQueue;if(L!==null){if(f=null,m.child!==null)switch(m.child.tag){case 5:f=m.child.stateNode;break;case 1:f=m.child.stateNode}A1(m,L,f)}break;case 5:var J=m.stateNode;if(f===null&&m.flags&4){f=J;var ne=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&f.focus();break;case"img":ne.src&&(f.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var ve=m.alternate;if(ve!==null){var ze=ve.memoizedState;if(ze!==null){var Ve=ze.dehydrated;Ve!==null&&zc(Ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Va||m.flags&512&&mx(m)}catch(Fe){zr(m,m.return,Fe)}}if(m===d){et=null;break}if(f=m.sibling,f!==null){f.return=m.return,et=f;break}et=m.return}}function A2(d){for(;et!==null;){var m=et;if(m===d){et=null;break}var f=m.sibling;if(f!==null){f.return=m.return,et=f;break}et=m.return}}function M2(d){for(;et!==null;){var m=et;try{switch(m.tag){case 0:case 11:case 15:var f=m.return;try{P0(4,m)}catch(ne){zr(m,f,ne)}break;case 1:var w=m.stateNode;if(typeof w.componentDidMount=="function"){var T=m.return;try{w.componentDidMount()}catch(ne){zr(m,T,ne)}}var O=m.return;try{mx(m)}catch(ne){zr(m,O,ne)}break;case 5:var L=m.return;try{mx(m)}catch(ne){zr(m,L,ne)}}}catch(ne){zr(m,m.return,ne)}if(m===d){et=null;break}var J=m.sibling;if(J!==null){J.return=m.return,et=J;break}et=m.return}}var Q$=Math.ceil,T0=P.ReactCurrentDispatcher,px=P.ReactCurrentOwner,es=P.ReactCurrentBatchConfig,Kt=0,Na=null,ta=null,Ba=0,On=0,Id=po(0),ma=0,cu=null,cl=0,A0=0,fx=0,uu=null,vn=null,xx=0,Ed=1/0,Ni=null,M0=!1,yx=null,ko=null,I0=!1,wo=null,E0=0,mu=0,bx=null,O0=-1,D0=0;function tn(){return(Kt&6)!==0?ar():O0!==-1?O0:O0=ar()}function jo(d){return(d.mode&1)===0?1:(Kt&2)!==0&&Ba!==0?Ba&-Ba:E$.transition!==null?(D0===0&&(D0=so()),D0):(d=nr,d!==0||(d=window.event,d=d===void 0?16:EN(d.type)),d)}function Ps(d,m,f,w){if(50<mu)throw mu=0,bx=null,Error(a(185));io(d,f,w),((Kt&2)===0||d!==Na)&&(d===Na&&((Kt&2)===0&&(A0|=f),ma===4&&No(d,Ba)),kn(d,w),f===1&&Kt===0&&(m.mode&1)===0&&(Ed=ar()+500,l0&&xo()))}function kn(d,m){var f=d.callbackNode;jN(d,m);var w=Ra(d,d===Na?Ba:0);if(w===0)f!==null&&ka(f),d.callbackNode=null,d.callbackPriority=0;else if(m=w&-w,d.callbackPriority!==m){if(f!=null&&ka(f),m===1)d.tag===0?I$(E2.bind(null,d)):x1(E2.bind(null,d)),P$(function(){(Kt&6)===0&&xo()}),f=null;else{switch(NN(w)){case 1:f=rl;break;case 4:f=ro;break;case 16:f=ao;break;case 536870912:f=Ee;break;default:f=ao}f=F2(f,I2.bind(null,d))}d.callbackPriority=m,d.callbackNode=f}}function I2(d,m){if(O0=-1,D0=0,(Kt&6)!==0)throw Error(a(327));var f=d.callbackNode;if(Od()&&d.callbackNode!==f)return null;var w=Ra(d,d===Na?Ba:0);if(w===0)return null;if((w&30)!==0||(w&d.expiredLanes)!==0||m)m=R0(d,w);else{m=w;var T=Kt;Kt|=2;var O=D2();(Na!==d||Ba!==m)&&(Ni=null,Ed=ar()+500,ml(d,m));do try{Z$();break}catch(J){O2(d,J)}while(!0);Bf(),T0.current=O,Kt=T,ta!==null?m=0:(Na=null,Ba=0,m=ma)}if(m!==0){if(m===2&&(T=Dt(d),T!==0&&(w=T,m=vx(d,T))),m===1)throw f=cu,ml(d,0),No(d,w),kn(d,ar()),f;if(m===6)No(d,w);else{if(T=d.current.alternate,(w&30)===0&&!Y$(T)&&(m=R0(d,w),m===2&&(O=Dt(d),O!==0&&(w=O,m=vx(d,O))),m===1))throw f=cu,ml(d,0),No(d,w),kn(d,ar()),f;switch(d.finishedWork=T,d.finishedLanes=w,m){case 0:case 1:throw Error(a(345));case 2:gl(d,vn,Ni);break;case 3:if(No(d,w),(w&130023424)===w&&(m=xx+500-ar(),10<m)){if(Ra(d,0)!==0)break;if(T=d.suspendedLanes,(T&w)!==w){tn(),d.pingedLanes|=d.suspendedLanes&T;break}d.timeoutHandle=Sf(gl.bind(null,d,vn,Ni),m);break}gl(d,vn,Ni);break;case 4:if(No(d,w),(w&4194240)===w)break;for(m=d.eventTimes,T=-1;0<w;){var L=31-dt(w);O=1<<L,L=m[L],L>T&&(T=L),w&=~O}if(w=T,w=ar()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*Q$(w/1960))-w,10<w){d.timeoutHandle=Sf(gl.bind(null,d,vn,Ni),w);break}gl(d,vn,Ni);break;case 5:gl(d,vn,Ni);break;default:throw Error(a(329))}}}return kn(d,ar()),d.callbackNode===f?I2.bind(null,d):null}function vx(d,m){var f=uu;return d.current.memoizedState.isDehydrated&&(ml(d,m).flags|=256),d=R0(d,m),d!==2&&(m=vn,vn=f,m!==null&&kx(m)),d}function kx(d){vn===null?vn=d:vn.push.apply(vn,d)}function Y$(d){for(var m=d;;){if(m.flags&16384){var f=m.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var w=0;w<f.length;w++){var T=f[w],O=T.getSnapshot;T=T.value;try{if(!ws(O(),T))return!1}catch{return!1}}}if(f=m.child,m.subtreeFlags&16384&&f!==null)f.return=m,m=f;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function No(d,m){for(m&=~fx,m&=~A0,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var f=31-dt(m),w=1<<f;d[f]=-1,m&=~w}}function E2(d){if((Kt&6)!==0)throw Error(a(327));Od();var m=Ra(d,0);if((m&1)===0)return kn(d,ar()),null;var f=R0(d,m);if(d.tag!==0&&f===2){var w=Dt(d);w!==0&&(m=w,f=vx(d,w))}if(f===1)throw f=cu,ml(d,0),No(d,m),kn(d,ar()),f;if(f===6)throw Error(a(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,gl(d,vn,Ni),kn(d,ar()),null}function wx(d,m){var f=Kt;Kt|=1;try{return d(m)}finally{Kt=f,Kt===0&&(Ed=ar()+500,l0&&xo())}}function ul(d){wo!==null&&wo.tag===0&&(Kt&6)===0&&Od();var m=Kt;Kt|=1;var f=es.transition,w=nr;try{if(es.transition=null,nr=1,d)return d()}finally{nr=w,es.transition=f,Kt=m,(Kt&6)===0&&xo()}}function jx(){On=Id.current,wr(Id)}function ml(d,m){d.finishedWork=null,d.finishedLanes=0;var f=d.timeoutHandle;if(f!==-1&&(d.timeoutHandle=-1,S$(f)),ta!==null)for(f=ta.return;f!==null;){var w=f;switch(Ef(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&i0();break;case 3:Td(),wr(xn),wr(Ua),Vf();break;case 5:qf(w);break;case 4:Td();break;case 13:wr(Ir);break;case 19:wr(Ir);break;case 10:Lf(w.type._context);break;case 22:case 23:jx()}f=f.return}if(Na=d,ta=d=Co(d.current,null),Ba=On=m,ma=0,cu=null,fx=A0=cl=0,vn=uu=null,ol!==null){for(m=0;m<ol.length;m++)if(f=ol[m],w=f.interleaved,w!==null){f.interleaved=null;var T=w.next,O=f.pending;if(O!==null){var L=O.next;O.next=T,w.next=L}f.pending=w}ol=null}return d}function O2(d,m){do{var f=ta;try{if(Bf(),y0.current=w0,b0){for(var w=Er.memoizedState;w!==null;){var T=w.queue;T!==null&&(T.pending=null),w=w.next}b0=!1}if(dl=0,ja=ua=Er=null,nu=!1,su=0,px.current=null,f===null||f.return===null){ma=1,cu=m,ta=null;break}e:{var O=d,L=f.return,J=f,ne=m;if(m=Ba,J.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ve=ne,ze=J,Ve=ze.tag;if((ze.mode&1)===0&&(Ve===0||Ve===11||Ve===15)){var Fe=ze.alternate;Fe?(ze.updateQueue=Fe.updateQueue,ze.memoizedState=Fe.memoizedState,ze.lanes=Fe.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var Xe=n2(L);if(Xe!==null){Xe.flags&=-257,s2(Xe,L,J,O,m),Xe.mode&1&&a2(O,ve,m),m=Xe,ne=ve;var rt=m.updateQueue;if(rt===null){var nt=new Set;nt.add(ne),m.updateQueue=nt}else rt.add(ne);break e}else{if((m&1)===0){a2(O,ve,m),Nx();break e}ne=Error(a(426))}}else if(Cr&&J.mode&1){var Hr=n2(L);if(Hr!==null){(Hr.flags&65536)===0&&(Hr.flags|=256),s2(Hr,L,J,O,m),Rf(Ad(ne,J));break e}}O=ne=Ad(ne,J),ma!==4&&(ma=2),uu===null?uu=[O]:uu.push(O),O=L;do{switch(O.tag){case 3:O.flags|=65536,m&=-m,O.lanes|=m;var ge=t2(O,ne,m);T1(O,ge);break e;case 1:J=ne;var oe=O.type,ye=O.stateNode;if((O.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(ko===null||!ko.has(ye)))){O.flags|=65536,m&=-m,O.lanes|=m;var Ke=r2(O,J,m);T1(O,Ke);break e}}O=O.return}while(O!==null)}$2(f)}catch(st){m=st,ta===f&&f!==null&&(ta=f=f.return);continue}break}while(!0)}function D2(){var d=T0.current;return T0.current=w0,d===null?w0:d}function Nx(){(ma===0||ma===3||ma===2)&&(ma=4),Na===null||(cl&268435455)===0&&(A0&268435455)===0||No(Na,Ba)}function R0(d,m){var f=Kt;Kt|=2;var w=D2();(Na!==d||Ba!==m)&&(Ni=null,ml(d,m));do try{X$();break}catch(T){O2(d,T)}while(!0);if(Bf(),Kt=f,T0.current=w,ta!==null)throw Error(a(261));return Na=null,Ba=0,ma}function X$(){for(;ta!==null;)R2(ta)}function Z$(){for(;ta!==null&&!fi();)R2(ta)}function R2(d){var m=_2(d.alternate,d,On);d.memoizedProps=d.pendingProps,m===null?$2(d):ta=m,px.current=null}function $2(d){var m=d;do{var f=m.alternate;if(d=m.return,(m.flags&32768)===0){if(f=W$(f,m,On),f!==null){ta=f;return}}else{if(f=V$(f,m),f!==null){f.flags&=32767,ta=f;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{ma=6,ta=null;return}}if(m=m.sibling,m!==null){ta=m;return}ta=m=d}while(m!==null);ma===0&&(ma=5)}function gl(d,m,f){var w=nr,T=es.transition;try{es.transition=null,nr=1,J$(d,m,f,w)}finally{es.transition=T,nr=w}return null}function J$(d,m,f,w){do Od();while(wo!==null);if((Kt&6)!==0)throw Error(a(327));f=d.finishedWork;var T=d.finishedLanes;if(f===null)return null;if(d.finishedWork=null,d.finishedLanes=0,f===d.current)throw Error(a(177));d.callbackNode=null,d.callbackPriority=0;var O=f.lanes|f.childLanes;if(OR(d,O),d===Na&&(ta=Na=null,Ba=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||I0||(I0=!0,F2(ao,function(){return Od(),null})),O=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||O){O=es.transition,es.transition=null;var L=nr;nr=1;var J=Kt;Kt|=4,px.current=null,K$(d,f),S2(f,d),b$(Nf),Hm=!!jf,Nf=jf=null,d.current=f,G$(f),ea(),Kt=J,nr=L,es.transition=O}else d.current=f;if(I0&&(I0=!1,wo=d,E0=T),O=d.pendingLanes,O===0&&(ko=null),Ue(f.stateNode),kn(d,ar()),m!==null)for(w=d.onRecoverableError,f=0;f<m.length;f++)T=m[f],w(T.value,{componentStack:T.stack,digest:T.digest});if(M0)throw M0=!1,d=yx,yx=null,d;return(E0&1)!==0&&d.tag!==0&&Od(),O=d.pendingLanes,(O&1)!==0?d===bx?mu++:(mu=0,bx=d):mu=0,xo(),null}function Od(){if(wo!==null){var d=NN(E0),m=es.transition,f=nr;try{if(es.transition=null,nr=16>d?16:d,wo===null)var w=!1;else{if(d=wo,wo=null,E0=0,(Kt&6)!==0)throw Error(a(331));var T=Kt;for(Kt|=4,et=d.current;et!==null;){var O=et,L=O.child;if((et.flags&16)!==0){var J=O.deletions;if(J!==null){for(var ne=0;ne<J.length;ne++){var ve=J[ne];for(et=ve;et!==null;){var ze=et;switch(ze.tag){case 0:case 11:case 15:du(8,ze,O)}var Ve=ze.child;if(Ve!==null)Ve.return=ze,et=Ve;else for(;et!==null;){ze=et;var Fe=ze.sibling,Xe=ze.return;if(k2(ze),ze===ve){et=null;break}if(Fe!==null){Fe.return=Xe,et=Fe;break}et=Xe}}}var rt=O.alternate;if(rt!==null){var nt=rt.child;if(nt!==null){rt.child=null;do{var Hr=nt.sibling;nt.sibling=null,nt=Hr}while(nt!==null)}}et=O}}if((O.subtreeFlags&2064)!==0&&L!==null)L.return=O,et=L;else e:for(;et!==null;){if(O=et,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:du(9,O,O.return)}var ge=O.sibling;if(ge!==null){ge.return=O.return,et=ge;break e}et=O.return}}var oe=d.current;for(et=oe;et!==null;){L=et;var ye=L.child;if((L.subtreeFlags&2064)!==0&&ye!==null)ye.return=L,et=ye;else e:for(L=oe;et!==null;){if(J=et,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:P0(9,J)}}catch(st){zr(J,J.return,st)}if(J===L){et=null;break e}var Ke=J.sibling;if(Ke!==null){Ke.return=J.return,et=Ke;break e}et=J.return}}if(Kt=T,xo(),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot($e,d)}catch{}w=!0}return w}finally{nr=f,es.transition=m}}return!1}function B2(d,m,f){m=Ad(f,m),m=t2(d,m,1),d=bo(d,m,1),m=tn(),d!==null&&(io(d,1,m),kn(d,m))}function zr(d,m,f){if(d.tag===3)B2(d,d,f);else for(;m!==null;){if(m.tag===3){B2(m,d,f);break}else if(m.tag===1){var w=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(ko===null||!ko.has(w))){d=Ad(f,d),d=r2(m,d,1),m=bo(m,d,1),d=tn(),m!==null&&(io(m,1,d),kn(m,d));break}}m=m.return}}function eB(d,m,f){var w=d.pingCache;w!==null&&w.delete(m),m=tn(),d.pingedLanes|=d.suspendedLanes&f,Na===d&&(Ba&f)===f&&(ma===4||ma===3&&(Ba&130023424)===Ba&&500>ar()-xx?ml(d,0):fx|=f),kn(d,m)}function L2(d,m){m===0&&((d.mode&1)===0?m=1:(m=Ye,Ye<<=1,(Ye&130023424)===0&&(Ye=4194304)));var f=tn();d=ki(d,m),d!==null&&(io(d,m,f),kn(d,f))}function tB(d){var m=d.memoizedState,f=0;m!==null&&(f=m.retryLane),L2(d,f)}function rB(d,m){var f=0;switch(d.tag){case 13:var w=d.stateNode,T=d.memoizedState;T!==null&&(f=T.retryLane);break;case 19:w=d.stateNode;break;default:throw Error(a(314))}w!==null&&w.delete(m),L2(d,f)}var _2;_2=function(d,m,f){if(d!==null)if(d.memoizedProps!==m.pendingProps||xn.current)bn=!0;else{if((d.lanes&f)===0&&(m.flags&128)===0)return bn=!1,q$(d,m,f);bn=(d.flags&131072)!==0}else bn=!1,Cr&&(m.flags&1048576)!==0&&y1(m,c0,m.index);switch(m.lanes=0,m.tag){case 2:var w=m.type;C0(d,m),d=m.pendingProps;var T=kd(m,Ua.current);Pd(m,f),T=Gf(null,m,w,d,T,f);var O=Qf();return m.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,yn(w)?(O=!0,o0(m)):O=!1,m.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,zf(m),T.updater=j0,m.stateNode=T,T._reactInternals=m,tx(m,w,d,f),m=sx(null,m,w,!0,O,f)):(m.tag=0,Cr&&O&&If(m),en(null,m,T,f),m=m.child),m;case 16:w=m.elementType;e:{switch(C0(d,m),d=m.pendingProps,T=w._init,w=T(w._payload),m.type=w,T=m.tag=nB(w),d=Ns(w,d),T){case 0:m=nx(null,m,w,d,f);break e;case 1:m=u2(null,m,w,d,f);break e;case 11:m=i2(null,m,w,d,f);break e;case 14:m=o2(null,m,w,Ns(w.type,d),f);break e}throw Error(a(306,w,""))}return m;case 0:return w=m.type,T=m.pendingProps,T=m.elementType===w?T:Ns(w,T),nx(d,m,w,T,f);case 1:return w=m.type,T=m.pendingProps,T=m.elementType===w?T:Ns(w,T),u2(d,m,w,T,f);case 3:e:{if(m2(m),d===null)throw Error(a(387));w=m.pendingProps,O=m.memoizedState,T=O.element,P1(d,m),f0(m,w,null,f);var L=m.memoizedState;if(w=L.element,O.isDehydrated)if(O={element:w,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},m.updateQueue.baseState=O,m.memoizedState=O,m.flags&256){T=Ad(Error(a(423)),m),m=g2(d,m,w,f,T);break e}else if(w!==T){T=Ad(Error(a(424)),m),m=g2(d,m,w,f,T);break e}else for(En=ho(m.stateNode.containerInfo.firstChild),In=m,Cr=!0,js=null,f=C1(m,null,w,f),m.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Nd(),w===T){m=ji(d,m,f);break e}en(d,m,w,f)}m=m.child}return m;case 5:return M1(m),d===null&&Df(m),w=m.type,T=m.pendingProps,O=d!==null?d.memoizedProps:null,L=T.children,Cf(w,T)?L=null:O!==null&&Cf(w,O)&&(m.flags|=32),c2(d,m),en(d,m,L,f),m.child;case 6:return d===null&&Df(m),null;case 13:return h2(d,m,f);case 4:return Uf(m,m.stateNode.containerInfo),w=m.pendingProps,d===null?m.child=Cd(m,null,w,f):en(d,m,w,f),m.child;case 11:return w=m.type,T=m.pendingProps,T=m.elementType===w?T:Ns(w,T),i2(d,m,w,T,f);case 7:return en(d,m,m.pendingProps,f),m.child;case 8:return en(d,m,m.pendingProps.children,f),m.child;case 12:return en(d,m,m.pendingProps.children,f),m.child;case 10:e:{if(w=m.type._context,T=m.pendingProps,O=m.memoizedProps,L=T.value,xr(g0,w._currentValue),w._currentValue=L,O!==null)if(ws(O.value,L)){if(O.children===T.children&&!xn.current){m=ji(d,m,f);break e}}else for(O=m.child,O!==null&&(O.return=m);O!==null;){var J=O.dependencies;if(J!==null){L=O.child;for(var ne=J.firstContext;ne!==null;){if(ne.context===w){if(O.tag===1){ne=wi(-1,f&-f),ne.tag=2;var ve=O.updateQueue;if(ve!==null){ve=ve.shared;var ze=ve.pending;ze===null?ne.next=ne:(ne.next=ze.next,ze.next=ne),ve.pending=ne}}O.lanes|=f,ne=O.alternate,ne!==null&&(ne.lanes|=f),_f(O.return,f,m),J.lanes|=f;break}ne=ne.next}}else if(O.tag===10)L=O.type===m.type?null:O.child;else if(O.tag===18){if(L=O.return,L===null)throw Error(a(341));L.lanes|=f,J=L.alternate,J!==null&&(J.lanes|=f),_f(L,f,m),L=O.sibling}else L=O.child;if(L!==null)L.return=O;else for(L=O;L!==null;){if(L===m){L=null;break}if(O=L.sibling,O!==null){O.return=L.return,L=O;break}L=L.return}O=L}en(d,m,T.children,f),m=m.child}return m;case 9:return T=m.type,w=m.pendingProps.children,Pd(m,f),T=Zn(T),w=w(T),m.flags|=1,en(d,m,w,f),m.child;case 14:return w=m.type,T=Ns(w,m.pendingProps),T=Ns(w.type,T),o2(d,m,w,T,f);case 15:return l2(d,m,m.type,m.pendingProps,f);case 17:return w=m.type,T=m.pendingProps,T=m.elementType===w?T:Ns(w,T),C0(d,m),m.tag=1,yn(w)?(d=!0,o0(m)):d=!1,Pd(m,f),J1(m,w,T),tx(m,w,T,f),sx(null,m,w,!0,d,f);case 19:return f2(d,m,f);case 22:return d2(d,m,f)}throw Error(a(156,m.tag))};function F2(d,m){return Da(d,m)}function aB(d,m,f,w){this.tag=d,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(d,m,f,w){return new aB(d,m,f,w)}function Cx(d){return d=d.prototype,!(!d||!d.isReactComponent)}function nB(d){if(typeof d=="function")return Cx(d)?1:0;if(d!=null){if(d=d.$$typeof,d===V)return 11;if(d===ie)return 14}return 2}function Co(d,m){var f=d.alternate;return f===null?(f=ts(d.tag,m,d.key,d.mode),f.elementType=d.elementType,f.type=d.type,f.stateNode=d.stateNode,f.alternate=d,d.alternate=f):(f.pendingProps=m,f.type=d.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=d.flags&14680064,f.childLanes=d.childLanes,f.lanes=d.lanes,f.child=d.child,f.memoizedProps=d.memoizedProps,f.memoizedState=d.memoizedState,f.updateQueue=d.updateQueue,m=d.dependencies,f.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},f.sibling=d.sibling,f.index=d.index,f.ref=d.ref,f}function $0(d,m,f,w,T,O){var L=2;if(w=d,typeof d=="function")Cx(d)&&(L=1);else if(typeof d=="string")L=5;else e:switch(d){case I:return hl(f.children,T,O,m);case M:L=8,T|=8;break;case F:return d=ts(12,f,m,T|2),d.elementType=F,d.lanes=O,d;case K:return d=ts(13,f,m,T),d.elementType=K,d.lanes=O,d;case Z:return d=ts(19,f,m,T),d.elementType=Z,d.lanes=O,d;case R:return B0(f,T,O,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case Q:L=10;break e;case U:L=9;break e;case V:L=11;break e;case ie:L=14;break e;case te:L=16,w=null;break e}throw Error(a(130,d==null?d:typeof d,""))}return m=ts(L,f,m,T),m.elementType=d,m.type=w,m.lanes=O,m}function hl(d,m,f,w){return d=ts(7,d,w,m),d.lanes=f,d}function B0(d,m,f,w){return d=ts(22,d,w,m),d.elementType=R,d.lanes=f,d.stateNode={isHidden:!1},d}function Sx(d,m,f){return d=ts(6,d,null,m),d.lanes=f,d}function Px(d,m,f){return m=ts(4,d.children!==null?d.children:[],d.key,m),m.lanes=f,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function sB(d,m,f,w,T){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wa(0),this.expirationTimes=wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.identifierPrefix=w,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Tx(d,m,f,w,T,O,L,J,ne){return d=new sB(d,m,f,J,ne),m===1?(m=1,O===!0&&(m|=8)):m=0,O=ts(3,null,null,m),d.current=O,O.stateNode=d,O.memoizedState={element:w,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},zf(O),d}function iB(d,m,f){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:w==null?null:""+w,children:d,containerInfo:m,implementation:f}}function z2(d){if(!d)return fo;d=d._reactInternals;e:{if(fr(d)!==d||d.tag!==1)throw Error(a(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(yn(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(a(171))}if(d.tag===1){var f=d.type;if(yn(f))return p1(d,f,m)}return m}function U2(d,m,f,w,T,O,L,J,ne){return d=Tx(f,w,!0,d,T,O,L,J,ne),d.context=z2(null),f=d.current,w=tn(),T=jo(f),O=wi(w,T),O.callback=m??null,bo(f,O,T),d.current.lanes=T,io(d,T,w),kn(d,w),d}function L0(d,m,f,w){var T=m.current,O=tn(),L=jo(T);return f=z2(f),m.context===null?m.context=f:m.pendingContext=f,m=wi(O,L),m.payload={element:d},w=w===void 0?null:w,w!==null&&(m.callback=w),d=bo(T,m,L),d!==null&&(Ps(d,T,L,O),p0(d,T,L)),L}function _0(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function q2(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var f=d.retryLane;d.retryLane=f!==0&&f<m?f:m}}function Ax(d,m){q2(d,m),(d=d.alternate)&&q2(d,m)}function oB(){return null}var W2=typeof reportError=="function"?reportError:function(d){console.error(d)};function Mx(d){this._internalRoot=d}F0.prototype.render=Mx.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(a(409));L0(d,m,null,null)},F0.prototype.unmount=Mx.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;ul(function(){L0(null,d,null,null)}),m[xi]=null}};function F0(d){this._internalRoot=d}F0.prototype.unstable_scheduleHydration=function(d){if(d){var m=PN();d={blockedOn:null,target:d,priority:m};for(var f=0;f<uo.length&&m!==0&&m<uo[f].priority;f++);uo.splice(f,0,d),f===0&&MN(d)}};function Ix(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function z0(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function V2(){}function lB(d,m,f,w,T){if(T){if(typeof w=="function"){var O=w;w=function(){var ve=_0(L);O.call(ve)}}var L=U2(m,w,d,0,null,!1,!1,"",V2);return d._reactRootContainer=L,d[xi]=L.current,Yc(d.nodeType===8?d.parentNode:d),ul(),L}for(;T=d.lastChild;)d.removeChild(T);if(typeof w=="function"){var J=w;w=function(){var ve=_0(ne);J.call(ve)}}var ne=Tx(d,0,!1,null,null,!1,!1,"",V2);return d._reactRootContainer=ne,d[xi]=ne.current,Yc(d.nodeType===8?d.parentNode:d),ul(function(){L0(m,ne,f,w)}),ne}function U0(d,m,f,w,T){var O=f._reactRootContainer;if(O){var L=O;if(typeof T=="function"){var J=T;T=function(){var ne=_0(L);J.call(ne)}}L0(m,L,d,T)}else L=lB(f,m,d,T,w);return _0(L)}CN=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var f=Wt(m.pendingLanes);f!==0&&(ef(m,f|1),kn(m,ar()),(Kt&6)===0&&(Ed=ar()+500,xo()))}break;case 13:ul(function(){var w=ki(d,1);if(w!==null){var T=tn();Ps(w,d,1,T)}}),Ax(d,1)}},tf=function(d){if(d.tag===13){var m=ki(d,134217728);if(m!==null){var f=tn();Ps(m,d,134217728,f)}Ax(d,134217728)}},SN=function(d){if(d.tag===13){var m=jo(d),f=ki(d,m);if(f!==null){var w=tn();Ps(f,d,m,w)}Ax(d,m)}},PN=function(){return nr},TN=function(d,m){var f=nr;try{return nr=d,m()}finally{nr=f}},fn=function(d,m,f){switch(m){case"input":if(Ze(d,f),m=f.name,f.type==="radio"&&m!=null){for(f=d;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<f.length;m++){var w=f[m];if(w!==d&&w.form===d.form){var T=s0(w);if(!T)throw Error(a(90));ae(w),Ze(w,T)}}}break;case"textarea":Me(d,f);break;case"select":m=f.value,m!=null&&Et(d,!!f.multiple,m,!1)}},vt=wx,kt=ul;var dB={usingClientEntryPoint:!1,Events:[Jc,bd,s0,Ge,ft,wx]},gu={findFiberByHostInstance:al,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cB={bundleType:gu.bundleType,version:gu.version,rendererPackageName:gu.rendererPackageName,rendererConfig:gu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=gr(d),d===null?null:d.stateNode},findFiberByHostInstance:gu.findFiberByHostInstance||oB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var q0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!q0.isDisabled&&q0.supportsFiber)try{$e=q0.inject(cB),_e=q0}catch{}}return wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dB,wn.createPortal=function(d,m){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ix(m))throw Error(a(200));return iB(d,m,null,f)},wn.createRoot=function(d,m){if(!Ix(d))throw Error(a(299));var f=!1,w="",T=W2;return m!=null&&(m.unstable_strictMode===!0&&(f=!0),m.identifierPrefix!==void 0&&(w=m.identifierPrefix),m.onRecoverableError!==void 0&&(T=m.onRecoverableError)),m=Tx(d,1,!1,null,null,f,!1,w,T),d[xi]=m.current,Yc(d.nodeType===8?d.parentNode:d),new Mx(m)},wn.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(a(188)):(d=Object.keys(d).join(","),Error(a(268,d)));return d=gr(m),d=d===null?null:d.stateNode,d},wn.flushSync=function(d){return ul(d)},wn.hydrate=function(d,m,f){if(!z0(m))throw Error(a(200));return U0(null,d,m,!0,f)},wn.hydrateRoot=function(d,m,f){if(!Ix(d))throw Error(a(405));var w=f!=null&&f.hydratedSources||null,T=!1,O="",L=W2;if(f!=null&&(f.unstable_strictMode===!0&&(T=!0),f.identifierPrefix!==void 0&&(O=f.identifierPrefix),f.onRecoverableError!==void 0&&(L=f.onRecoverableError)),m=U2(m,null,d,1,f??null,T,!1,O,L),d[xi]=m.current,Yc(d),w)for(d=0;d<w.length;d++)f=w[d],T=f._getVersion,T=T(f._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[f,T]:m.mutableSourceEagerHydrationData.push(f,T);return new F0(m)},wn.render=function(d,m,f){if(!z0(m))throw Error(a(200));return U0(null,d,m,!1,f)},wn.unmountComponentAtNode=function(d){if(!z0(d))throw Error(a(40));return d._reactRootContainer?(ul(function(){U0(null,null,d,!1,function(){d._reactRootContainer=null,d[xi]=null})}),!0):!1},wn.unstable_batchedUpdates=wx,wn.unstable_renderSubtreeIntoContainer=function(d,m,f,w){if(!z0(f))throw Error(a(200));if(d==null||d._reactInternals===void 0)throw Error(a(38));return U0(d,m,f,!1,w)},wn.version="18.3.1-next-f1338f8080-20240426",wn}var J2;function g3(){if(J2)return Dx.exports;J2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Dx.exports=xB(),Dx.exports}var eC;function yB(){if(eC)return W0;eC=1;var e=g3();return W0.createRoot=e.createRoot,W0.hydrateRoot=e.hydrateRoot,W0}var bB=yB();const vB=zs(bB);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tC="popstate";function kB(e={}){function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return Vb("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function a(n,s){return typeof s=="string"?s:Lu(s)}return jB(t,a,null,e)}function Ar(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $s(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wB(){return Math.random().toString(36).substring(2,10)}function rC(e,t){return{usr:e.state,key:e.key,idx:t}}function Vb(e,t,a=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?bc(t):t,state:a,key:t&&t.key||n||wB()}}function Lu({pathname:e="/",search:t="",hash:a=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function bc(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function jB(e,t,a,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l="POP",c=null,u=g();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function g(){return(o.state||{idx:null}).idx}function h(){l="POP";let v=g(),j=v==null?null:v-u;u=v,c&&c({action:l,location:k.location,delta:j})}function x(v,j){l="PUSH";let S=Vb(k.location,v,j);u=g()+1;let C=rC(S,u),P=k.createHref(S);try{o.pushState(C,"",P)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(P)}i&&c&&c({action:l,location:k.location,delta:1})}function b(v,j){l="REPLACE";let S=Vb(k.location,v,j);u=g();let C=rC(S,u),P=k.createHref(S);o.replaceState(C,"",P),i&&c&&c({action:l,location:k.location,delta:0})}function y(v){return NB(v)}let k={get action(){return l},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(tC,h),c=v,()=>{s.removeEventListener(tC,h),c=null}},createHref(v){return t(s,v)},createURL:y,encodeLocation(v){let j=y(v);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:b,go(v){return o.go(v)}};return k}function NB(e,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Ar(a,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Lu(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=a+n),new URL(n,a)}function h3(e,t,a="/"){return CB(e,t,a,!1)}function CB(e,t,a,n){let s=typeof t=="string"?bc(t):t,i=Fi(s.pathname||"/",a);if(i==null)return null;let o=p3(e);SB(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=BB(i);l=RB(o[c],u,n)}return l}function p3(e,t=[],a=[],n=""){let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ar(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let u=Di([n,c.relativePath]),g=a.concat(c);i.children&&i.children.length>0&&(Ar(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),p3(i.children,t,g,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:OB(u,i.index),routesMeta:g})};return e.forEach((i,o)=>{if(i.path===""||!i.path?.includes("?"))s(i,o);else for(let l of f3(i.path))s(i,o,l)}),t}function f3(e){let t=e.split("/");if(t.length===0)return[];let[a,...n]=t,s=a.endsWith("?"),i=a.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=f3(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function SB(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:DB(t.routesMeta.map(n=>n.childrenIndex),a.routesMeta.map(n=>n.childrenIndex)))}var PB=/^:[\w-]+$/,TB=3,AB=2,MB=1,IB=10,EB=-2,aC=e=>e==="*";function OB(e,t){let a=e.split("/"),n=a.length;return a.some(aC)&&(n+=EB),t&&(n+=AB),a.filter(s=>!aC(s)).reduce((s,i)=>s+(PB.test(i)?TB:i===""?MB:IB),n)}function DB(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function RB(e,t,a=!1){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,g=i==="/"?t:t.slice(i.length)||"/",h=Eg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},g),x=c.route;if(!h&&u&&a&&!n[n.length-1].route.index&&(h=Eg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},g)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Di([i,h.pathname]),pathnameBase:zB(Di([i,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(i=Di([i,h.pathnameBase]))}return o}function Eg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,n]=$B(e.path,e.caseSensitive,e.end),s=t.match(a);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:g,isOptional:h},x)=>{if(g==="*"){let y=l[x]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const b=l[x];return h&&!b?u[g]=void 0:u[g]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function $B(e,t=!1,a=!0){$s(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function BB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $s(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Fi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=e.charAt(a);return n&&n!=="/"?null:e.slice(a)||"/"}function LB(e,t="/"){let{pathname:a,search:n="",hash:s=""}=typeof e=="string"?bc(e):e;return{pathname:a?a.startsWith("/")?a:_B(a,t):t,search:UB(n),hash:qB(s)}}function _B(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?a.length>1&&a.pop():s!=="."&&a.push(s)}),a.length>1?a.join("/"):"/"}function Bx(e,t,a,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FB(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function vk(e){let t=FB(e);return t.map((a,n)=>n===t.length-1?a.pathname:a.pathnameBase)}function kk(e,t,a,n=!1){let s;typeof e=="string"?s=bc(e):(s={...e},Ar(!s.pathname||!s.pathname.includes("?"),Bx("?","pathname","search",s)),Ar(!s.pathname||!s.pathname.includes("#"),Bx("#","pathname","hash",s)),Ar(!s.search||!s.search.includes("#"),Bx("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=a;else{let h=t.length-1;if(!n&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),h-=1;s.pathname=x.join("/")}l=h>=0?t[h]:"/"}let c=LB(s,l),u=o&&o!=="/"&&o.endsWith("/"),g=(i||o===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(u||g)&&(c.pathname+="/"),c}var Di=e=>e.join("/").replace(/\/\/+/g,"/"),zB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),UB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function WB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var x3=["POST","PUT","PATCH","DELETE"];new Set(x3);var VB=["GET",...x3];new Set(VB);var vc=p.createContext(null);vc.displayName="DataRouter";var zh=p.createContext(null);zh.displayName="DataRouterState";p.createContext(!1);var y3=p.createContext({isTransitioning:!1});y3.displayName="ViewTransition";var HB=p.createContext(new Map);HB.displayName="Fetchers";var KB=p.createContext(null);KB.displayName="Await";var Us=p.createContext(null);Us.displayName="Navigation";var cm=p.createContext(null);cm.displayName="Location";var qs=p.createContext({outlet:null,matches:[],isDataRoute:!1});qs.displayName="Route";var wk=p.createContext(null);wk.displayName="RouteError";function GB(e,{relative:t}={}){Ar(kc(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=p.useContext(Us),{hash:s,pathname:i,search:o}=um(e,{relative:t}),l=i;return a!=="/"&&(l=i==="/"?a:Di([a,i])),n.createHref({pathname:l,search:o,hash:s})}function kc(){return p.useContext(cm)!=null}function ys(){return Ar(kc(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(cm).location}var b3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function v3(e){p.useContext(Us).static||p.useLayoutEffect(e)}function ya(){let{isDataRoute:e}=p.useContext(qs);return e?oL():QB()}function QB(){Ar(kc(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(vc),{basename:t,navigator:a}=p.useContext(Us),{matches:n}=p.useContext(qs),{pathname:s}=ys(),i=JSON.stringify(vk(n)),o=p.useRef(!1);return v3(()=>{o.current=!0}),p.useCallback((c,u={})=>{if($s(o.current,b3),!o.current)return;if(typeof c=="number"){a.go(c);return}let g=kk(c,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Di([t,g.pathname])),(u.replace?a.replace:a.push)(g,u.state,u)},[t,a,i,s,e])}p.createContext(null);function k3(){let{matches:e}=p.useContext(qs),t=e[e.length-1];return t?t.params:{}}function um(e,{relative:t}={}){let{matches:a}=p.useContext(qs),{pathname:n}=ys(),s=JSON.stringify(vk(a));return p.useMemo(()=>kk(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function YB(e,t){return w3(e,t)}function w3(e,t,a,n){Ar(kc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=p.useContext(Us),{matches:i}=p.useContext(qs),o=i[i.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",g=o&&o.route;{let j=g&&g.path||"";j3(c,!g||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let h=ys(),x;if(t){let j=typeof t=="string"?bc(t):t;Ar(u==="/"||j.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${j.pathname}" was given in the \`location\` prop.`),x=j}else x=h;let b=x.pathname||"/",y=b;if(u!=="/"){let j=u.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let k=h3(e,{pathname:y});$s(g||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),$s(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=tL(k&&k.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:Di([u,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?u:Di([u,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,a,n);return t&&v?p.createElement(cm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},v):v}function XB(){let e=iL(),t=WB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=p.createElement(p.Fragment,null,p.createElement("p",null,"💿 Hey developer 👋"),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:i},"ErrorBoundary")," or"," ",p.createElement("code",{style:i},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),a?p.createElement("pre",{style:s},a):null,o)}var ZB=p.createElement(XB,null),JB=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?p.createElement(qs.Provider,{value:this.props.routeContext},p.createElement(wk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eL({routeContext:e,match:t,children:a}){let n=p.useContext(vc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(qs.Provider,{value:e},a)}function tL(e,t=[],a=null,n=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let s=e,i=a?.errors;if(i!=null){let c=s.findIndex(u=>u.route.id&&i?.[u.route.id]!==void 0);Ar(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(a)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:g,errors:h}=a,x=u.route.loader&&!g.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||x){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,g)=>{let h,x=!1,b=null,y=null;a&&(h=i&&u.route.id?i[u.route.id]:void 0,b=u.route.errorElement||ZB,o&&(l<0&&g===0?(j3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,y=null):l===g&&(x=!0,y=u.route.hydrateFallbackElement||null)));let k=t.concat(s.slice(0,g+1)),v=()=>{let j;return h?j=b:x?j=y:u.route.Component?j=p.createElement(u.route.Component,null):u.route.element?j=u.route.element:j=c,p.createElement(eL,{match:u,routeContext:{outlet:c,matches:k,isDataRoute:a!=null},children:j})};return a&&(u.route.ErrorBoundary||u.route.errorElement||g===0)?p.createElement(JB,{location:a.location,revalidation:a.revalidation,component:b,error:h,children:v(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):v()},null)}function jk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rL(e){let t=p.useContext(vc);return Ar(t,jk(e)),t}function aL(e){let t=p.useContext(zh);return Ar(t,jk(e)),t}function nL(e){let t=p.useContext(qs);return Ar(t,jk(e)),t}function Nk(e){let t=nL(e),a=t.matches[t.matches.length-1];return Ar(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function sL(){return Nk("useRouteId")}function iL(){let e=p.useContext(wk),t=aL("useRouteError"),a=Nk("useRouteError");return e!==void 0?e:t.errors?.[a]}function oL(){let{router:e}=rL("useNavigate"),t=Nk("useNavigate"),a=p.useRef(!1);return v3(()=>{a.current=!0}),p.useCallback(async(s,i={})=>{$s(a.current,b3),a.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var nC={};function j3(e,t,a){!t&&!nC[e]&&(nC[e]=!0,$s(!1,a))}p.memo(lL);function lL({routes:e,future:t,state:a}){return w3(e,void 0,a,t)}function dL({to:e,replace:t,state:a,relative:n}){Ar(kc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=p.useContext(Us);$s(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=p.useContext(qs),{pathname:o}=ys(),l=ya(),c=kk(e,vk(i),o,n==="path"),u=JSON.stringify(c);return p.useEffect(()=>{l(JSON.parse(u),{replace:t,state:a,relative:n})},[l,u,n,t,a]),null}function Rn(e){Ar(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cL({basename:e="/",children:t=null,location:a,navigationType:n="POP",navigator:s,static:i=!1}){Ar(!kc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=p.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof a=="string"&&(a=bc(a));let{pathname:c="/",search:u="",hash:g="",state:h=null,key:x="default"}=a,b=p.useMemo(()=>{let y=Fi(c,o);return y==null?null:{location:{pathname:y,search:u,hash:g,state:h,key:x},navigationType:n}},[o,c,u,g,h,x,n]);return $s(b!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:p.createElement(Us.Provider,{value:l},p.createElement(cm.Provider,{children:t,value:b}))}function uL({children:e,location:t}){return YB(Hb(e),t)}function Hb(e,t=[]){let a=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let i=[...t,s];if(n.type===p.Fragment){a.push.apply(a,Hb(n.props.children,i));return}Ar(n.type===Rn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ar(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Hb(n.props.children,i)),a.push(o)}),a}var yg="get",bg="application/x-www-form-urlencoded";function Uh(e){return e!=null&&typeof e.tagName=="string"}function mL(e){return Uh(e)&&e.tagName.toLowerCase()==="button"}function gL(e){return Uh(e)&&e.tagName.toLowerCase()==="form"}function hL(e){return Uh(e)&&e.tagName.toLowerCase()==="input"}function pL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fL(e,t){return e.button===0&&(!t||t==="_self")&&!pL(e)}var V0=null;function xL(){if(V0===null)try{new FormData(document.createElement("form"),0),V0=!1}catch{V0=!0}return V0}var yL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lx(e){return e!=null&&!yL.has(e)?($s(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bg}"`),null):e}function bL(e,t){let a,n,s,i,o;if(gL(e)){let l=e.getAttribute("action");n=l?Fi(l,t):null,a=e.getAttribute("method")||yg,s=Lx(e.getAttribute("enctype"))||bg,i=new FormData(e)}else if(mL(e)||hL(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Fi(c,t):null,a=e.getAttribute("formmethod")||l.getAttribute("method")||yg,s=Lx(e.getAttribute("formenctype"))||Lx(l.getAttribute("enctype"))||bg,i=new FormData(l,e),!xL()){let{name:u,type:g,value:h}=e;if(g==="image"){let x=u?`${u}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else u&&i.append(u,h)}}else{if(Uh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=yg,n=null,s=bg,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:a.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ck(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vL(e,t,a){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${a}`:t&&Fi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${a}`,n}async function kL(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wL(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function jL(e,t,a){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await kL(i,a);return o.links?o.links():[]}return[]}));return PL(n.flat(1).filter(wL).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function sC(e,t,a,n,s,i){let o=(c,u)=>a[u]?c.route.id!==a[u].route.id:!0,l=(c,u)=>a[u].pathname!==c.pathname||a[u].route.path?.endsWith("*")&&a[u].params["*"]!==c.params["*"];return i==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{let g=n.routes[c.route.id];if(!g||!g.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function NL(e,t,{includeHydrateFallback:a}={}){return CL(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),a&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function CL(e){return[...new Set(e)]}function SL(e){let t={},a=Object.keys(e).sort();for(let n of a)t[n]=e[n];return t}function PL(e,t){let a=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(SL(s));return a.has(i)||(a.add(i),n.push({key:i,link:s})),n},[])}function N3(){let e=p.useContext(vc);return Ck(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function TL(){let e=p.useContext(zh);return Ck(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Sk=p.createContext(void 0);Sk.displayName="FrameworkContext";function C3(){let e=p.useContext(Sk);return Ck(e,"You must render this element inside a <HydratedRouter> element"),e}function AL(e,t){let a=p.useContext(Sk),[n,s]=p.useState(!1),[i,o]=p.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:g,onTouchStart:h}=t,x=p.useRef(null);p.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let k=j=>{j.forEach(S=>{o(S.isIntersecting)})},v=new IntersectionObserver(k,{threshold:.5});return x.current&&v.observe(x.current),()=>{v.disconnect()}}},[e]),p.useEffect(()=>{if(n){let k=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(k)}}},[n]);let b=()=>{s(!0)},y=()=>{s(!1),o(!1)};return a?e!=="intent"?[i,x,{}]:[i,x,{onFocus:pu(l,b),onBlur:pu(c,y),onMouseEnter:pu(u,b),onMouseLeave:pu(g,y),onTouchStart:pu(h,b)}]:[!1,x,{}]}function pu(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function ML({page:e,...t}){let{router:a}=N3(),n=p.useMemo(()=>h3(a.routes,e,a.basename),[a.routes,e,a.basename]);return n?p.createElement(EL,{page:e,matches:n,...t}):null}function IL(e){let{manifest:t,routeModules:a}=C3(),[n,s]=p.useState([]);return p.useEffect(()=>{let i=!1;return jL(e,t,a).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,a]),n}function EL({page:e,matches:t,...a}){let n=ys(),{manifest:s,routeModules:i}=C3(),{basename:o}=N3(),{loaderData:l,matches:c}=TL(),u=p.useMemo(()=>sC(e,t,c,s,n,"data"),[e,t,c,s,n]),g=p.useMemo(()=>sC(e,t,c,s,n,"assets"),[e,t,c,s,n]),h=p.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,k=!1;if(t.forEach(j=>{let S=s.routes[j.route.id];!S||!S.hasLoader||(!u.some(C=>C.route.id===j.route.id)&&j.route.id in l&&i[j.route.id]?.shouldRevalidate||S.hasClientLoader?k=!0:y.add(j.route.id))}),y.size===0)return[];let v=vL(e,o,"data");return k&&y.size>0&&v.searchParams.set("_routes",t.filter(j=>y.has(j.route.id)).map(j=>j.route.id).join(",")),[v.pathname+v.search]},[o,l,n,s,u,t,e,i]),x=p.useMemo(()=>NL(g,s),[g,s]),b=IL(g);return p.createElement(p.Fragment,null,h.map(y=>p.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...a})),x.map(y=>p.createElement("link",{key:y,rel:"modulepreload",href:y,...a})),b.map(({key:y,link:k})=>p.createElement("link",{key:y,...k})))}function OL(...e){return t=>{e.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var S3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S3&&(window.__reactRouterVersion="7.7.1")}catch{}function DL({basename:e,children:t,window:a}){let n=p.useRef();n.current==null&&(n.current=kB({window:a,v5Compat:!0}));let s=n.current,[i,o]=p.useState({action:s.action,location:s.location}),l=p.useCallback(c=>{p.startTransition(()=>o(c))},[o]);return p.useLayoutEffect(()=>s.listen(l),[s,l]),p.createElement(cL,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var P3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,us=p.forwardRef(function({onClick:t,discover:a="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:g,viewTransition:h,...x},b){let{basename:y}=p.useContext(Us),k=typeof u=="string"&&P3.test(u),v,j=!1;if(typeof u=="string"&&k&&(v=u,S3))try{let F=new URL(window.location.href),Q=u.startsWith("//")?new URL(F.protocol+u):new URL(u),U=Fi(Q.pathname,y);Q.origin===F.origin&&U!=null?u=U+Q.search+Q.hash:j=!0}catch{$s(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=GB(u,{relative:s}),[C,P,E]=AL(n,x),A=LL(u,{replace:o,state:l,target:c,preventScrollReset:g,relative:s,viewTransition:h});function I(F){t&&t(F),F.defaultPrevented||A(F)}let M=p.createElement("a",{...x,...E,href:v||S,onClick:j||i?t:I,ref:OL(b,P),target:c,"data-discover":!k&&a==="render"?"true":void 0});return C&&!k?p.createElement(p.Fragment,null,M,p.createElement(ML,{page:S})):M});us.displayName="Link";var RL=p.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...u},g){let h=um(o,{relative:u.relative}),x=ys(),b=p.useContext(zh),{navigator:y,basename:k}=p.useContext(Us),v=b!=null&&qL(h)&&l===!0,j=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,S=x.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;a||(S=S.toLowerCase(),C=C?C.toLowerCase():null,j=j.toLowerCase()),C&&k&&(C=Fi(C,k)||C);const P=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let E=S===j||!s&&S.startsWith(j)&&S.charAt(P)==="/",A=C!=null&&(C===j||!s&&C.startsWith(j)&&C.charAt(j.length)==="/"),I={isActive:E,isPending:A,isTransitioning:v},M=E?t:void 0,F;typeof n=="function"?F=n(I):F=[n,E?"active":null,A?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let Q=typeof i=="function"?i(I):i;return p.createElement(us,{...u,"aria-current":M,className:F,ref:g,style:Q,to:o,viewTransition:l},typeof c=="function"?c(I):c)});RL.displayName="NavLink";var $L=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:n,replace:s,state:i,method:o=yg,action:l,onSubmit:c,relative:u,preventScrollReset:g,viewTransition:h,...x},b)=>{let y=zL(),k=UL(l,{relative:u}),v=o.toLowerCase()==="get"?"get":"post",j=typeof l=="string"&&P3.test(l),S=C=>{if(c&&c(C),C.defaultPrevented)return;C.preventDefault();let P=C.nativeEvent.submitter,E=P?.getAttribute("formmethod")||o;y(P||C.currentTarget,{fetcherKey:t,method:E,navigate:a,replace:s,state:i,relative:u,preventScrollReset:g,viewTransition:h})};return p.createElement("form",{ref:b,method:v,action:k,onSubmit:n?c:S,...x,"data-discover":!j&&e==="render"?"true":void 0})});$L.displayName="Form";function BL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T3(e){let t=p.useContext(vc);return Ar(t,BL(e)),t}function LL(e,{target:t,replace:a,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=ya(),c=ys(),u=um(e,{relative:i});return p.useCallback(g=>{if(fL(g,t)){g.preventDefault();let h=a!==void 0?a:Lu(c)===Lu(u);l(e,{replace:h,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,a,n,t,e,s,i,o])}var _L=0,FL=()=>`__${String(++_L)}__`;function zL(){let{router:e}=T3("useSubmit"),{basename:t}=p.useContext(Us),a=sL();return p.useCallback(async(n,s={})=>{let{action:i,method:o,encType:l,formData:c,body:u}=bL(n,t);if(s.navigate===!1){let g=s.fetcherKey||FL();await e.fetch(g,a,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:a,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,a])}function UL(e,{relative:t}={}){let{basename:a}=p.useContext(Us),n=p.useContext(qs);Ar(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...um(e||".",{relative:t})},o=ys();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(g=>g==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let g=l.toString();i.search=g?`?${g}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(i.pathname=i.pathname==="/"?a:Di([a,i.pathname])),Lu(i)}function qL(e,{relative:t}={}){let a=p.useContext(y3);Ar(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=T3("useViewTransitionState"),s=um(e,{relative:t});if(!a.isTransitioning)return!1;let i=Fi(a.currentLocation.pathname,n)||a.currentLocation.pathname,o=Fi(a.nextLocation.pathname,n)||a.nextLocation.pathname;return Eg(s.pathname,o)!=null||Eg(s.pathname,i)!=null}var Nl=g3();const A3=p.createContext(void 0),mi=()=>{const e=p.useContext(A3);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},WL=({children:e})=>{const[t,a]=p.useState(()=>{const i=localStorage.getItem("theme");return i?i==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});p.useEffect(()=>{const i=window.document.documentElement;t?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem("theme",t?"dark":"light")},[t]);const s={isDark:t,toggleTheme:()=>{a(!t)}};return r.jsx(A3.Provider,{value:s,children:e})},VL={common:{loading:"Yükleniyor...",change:"Değiştir",error:"Hata",success:"Başarılı",cancel:"İptal",save:"Kaydet",delete:"Sil",edit:"Düzenle",add:"Ekle",search:"Ara",filter:"Filtrele",close:"Kapat",open:"Aç",yes:"Evet",no:"Hayır",next:"İleri",previous:"Geri",continue:"Devam Et",refresh:"Sayfayı Yenile",clear:"Temizle",filters:"Filtreler",allStatuses:"Tüm Durumlar",pending:"Beklemede",delivered:"Teslim Edildi",cancelled:"İptal Edildi",dateRange:"Tarih Aralığı",today:"Bugün",yesterday:"Dün",last7Days:"Son 7 Gün",last30Days:"Son 30 Gün",thisMonth:"Bu Ay",lastMonth:"Geçen Ay",retry:"Tekrar Dene"},filter:{status:"Durum",all:"Tümü",active:"Aktif",inactive:"Pasif",categories:"Kategoriler",allergenic:"alerjenik",nonallergenic:"alerjenik olmayan",specific:{allergens:"alerjenler"},price:{range:"Fiyat Aralığı",min:"Min Fiyat",max:"Max Fiyat"}},sort:{title:"Sırala",name:{asc:"İsim (A-Z)",desc:"İsim (Z-A)"},price:{asc:"Fiyat (Düşükten Yükseğe)",desc:"Fiyat (Yüksekten Düşüğe)"},order:{asc:"Görüntü Sırası (İlkten Sona)",desc:"Görüntü Sırası (Sondan İlke)"},created:{asc:"Oluşturulma Tarihi (En Eskiden)",desc:"Oluşturulma Tarihi (En Yeniden)"}},clear:{filters:"Filtreleri Temizle",all:"Tümünü Temizle"},restaurantManagement:{tabs:{general:"Genel",legal:"Yasal",about:"Hakkında"},GenelBilgiler:"Genel Bilgiler"},nav:{home:"Ana Sayfa",features:"Özellikler",pricing:"Fiyatlandırma",testimonials:"Yorumlar",faq:"SSS",contact:"İletişim",login:"Giriş",register:"Kayıt Ol",logout:"Çıkış",profile:"Profil",settings:"Ayarlar",dashboard:"Panel",goToPanel:"Panele Git"},auth:{login:"Giriş Yap",register:"Kayıt Ol",logout:"Çıkış Yap",email:"E-posta",password:"Şifre",confirmPassword:"Şifre Onayı",forgotPassword:"Şifremi Unuttum",rememberMe:"Beni Hatırla",alreadyHaveAccount:"Zaten hesabınız var mı?",dontHaveAccount:"Hesabınız yok mu?",signIn:"Giriş Yap",signUp:"Kayıt Ol"},hero:{title:{line1:"QR Menü ile",line2:"Restoranınızı",line3:"Dijitalleştirin"},subtitle:"Müşterileriniz QR kod tarayarak menünüze anında erişebilir. Temassız, hızlı ve modern bir deneyim sunun.",features:{qrAccess:"QR Kod ile Hızlı Erişim",mobileOptimized:"Mobil Optimizasyon",instantUpdate:"Anlık Güncelleme"},cta:{getStarted:"Hemen Başla",features:"Özellikler"},socialProof:{restaurants:"500+ Mutlu Restoran",satisfaction:"%99 Müşteri Memnuniyeti"}},dashboard:{overview:{title:"Genel Bakış",description:"Restoranınızın genel durumunu görüntüleyin.",kpis:{totalViews:"Toplam Görüntülenme",qrScans:"QR Kod Taramaları",totalOrders:"Toplam Sipariş",customerRating:"Müşteri Puanı",changeTexts:{lastWeek:"geçen haftaya göre",lastMonth:"geçen aya göre",thisWeek:"bu hafta"}},quickStats:{thisMonth:"Bu Ay",totalOrders:"Toplam sipariş",average:"Ortalama",dailyOrders:"Günlük sipariş",new:"Yeni",customers:"Müşteriler",rating:"Değerlendirme",totalCount:"Toplam sayı"},charts:{weeklyActivity:"Haftalık Aktivite",popularProducts:"Popüler Ürünler",monthlyRevenue:"Aylık Gelir"}},branches:{title:"Şube Yönetimi",description:"Şubelerinizi yönetin ve yeni şubeler ekleyin.",error:{loadFailed:"Şubeler yüklenirken bir hata oluştu",createFailed:"Şube oluşturulurken bir hata oluştu",updateFailed:"Şube güncellenirken bir hata oluştu",deleteFailed:"Şube silinirken bir hata oluştu",statusUpdateFailed:"Şube durumu güncellenirken bir hata oluştu",detailsLoadFailed:"Şube detayları yüklenirken bir hata oluştu",restaurantIdNotFound:"Restaurant ID bulunamadı"},delete:{title:"Şubeyi Sil",confirmMessage:'"{branchName}" şubesini silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.'}},orders:{title:"Siparişler",description:"Siparişleri görüntüleyin ve yönetin.",loading:"Siparişler yükleniyor...",refresh:"Yenile",newOrder:"Yeni Sipariş",tabs:{all:"Tümü",pending:"Bekleyen",preparing:"Hazırlanan",ready:"Hazır",delivered:"Teslim Edilen",cancelled:"İptal Edilen"},status:{pending:"Bekliyor",preparing:"Hazırlanıyor",ready:"Hazır",delivered:"Teslim Edildi",cancelled:"İptal Edildi"},stats:{totalOrders:"Toplam Sipariş",totalRevenue:"Toplam Gelir",pendingOrders:"Bekleyen Siparişler",avgOrderValue:"Ortalama Sipariş Değeri"}},moneyCase:{title:"Para Kasası Yönetimi"},orderType:{requiresPhone:"Telefon Numarası Gerektirir",requiresName:"İsim Gerektirir",requiresTable:"Masa Seçimi Gerektirir",requiresAddress:"Adres Gerektirir",title:"Sipariş Türü Ayarları",subtitle:"Sipariş türlerinin aktiflik durumu, minimum tutar ve servis ücretlerini yönetin",loading:"Sipariş türleri yükleniyor...",pleaseWait:"Lütfen bekleyin",settingsUpdated:"ayarları başarıyla güncellendi",updateError:"Ayarlar güncellenirken hata oluştu",loadingError:"Sipariş türleri yüklenirken hata oluştu",active:"aktif",minutes:"dakika",requirements:"Gereksinimler",table:"Masa",address:"Adres",phone:"Telefon",activeStatus:"Aktif Durum",activeStatusDescription:"Bu sipariş türünü etkinleştir/devre dışı bırak",minOrderAmount:"Minimum Sipariş Tutarı",serviceCharge:"Servis Ücreti",saveSettings:"Ayarları Kaydet",updating:"Güncelleniyor...",totalOrderTypes:"Toplam Sipariş Türü",activeTypes:"Aktif Türler",totalActiveOrders:"Toplam Aktif Sipariş",estimatedTime:"Tahmini Süre"},products:{title:"Ürünler",description:"Ürünlerinizi görüntüleyin ve yönetin."},ingredients:{title:"İçerik"},tables:{title:"Masa Yönetimi",description:"Masa yönetimi işlemleri.",loading:"Masalar yükleniyor...",selectBranch:"Masa yönetimi için lütfen bir şube seçin",noCategories:"Bu şubede henüz masa kategorisi bulunmuyor",tableCount:"masa",newTable:"Yeni Masa Ekle"},users:{title:"Kullanıcı Yönetimi",description:"Kullanıcıları, rolleri ve izinleri yönetin.",loading:"Kullanıcılar yükleniyor...",tabs:{users:"Kullanıcılar",roles:"Roller"},stats:{total:"Toplam",active:"Aktif",users:"kullanıcı",roles:"rol",system:"Sistem",custom:"Özel",totalUsers:"Toplam Kullanıcı"},error:{loadFailed:"Kullanıcılar yüklenirken bir hata oluştu",rolesLoadFailed:"Roller yüklenirken bir hata oluştu",createRoleFailed:"Rol oluşturulamadı",createUserFailed:"Kullanıcı oluşturulamadı"}},settings:{title:"Ayarlar",description:"Hesap ayarlarınızı yönetin."},profile:{title:"Profil",description:"Kişisel bilgilerinizi görüntüleyin.",error:{loadFailed:"Profil bilgileri yüklenirken bir hata oluştu"},restaurantInfo:"Restoran Bilgileri"},restaurant:{title:"Restorant Yönetimi",description:"Restorant bilgilerinizi ve ayarlarınızı yönetin.",loading:"Restoran bilgileri yükleniyor...",restaurantName:"Restoran Adı",restaurantStatus:"Restoran Durumu",restaurantLogo:"Restoran Logosu",companyInfo:"Şirket Bilgileri",addAboutInfo:"Restoran Hakkında Bilgisi Ekle",placeholders:{restaurantName:"Restoran adını girin",aboutStory:"Restoranımızın hikayesi",aboutDetails:"Restoranınız hakkında detaylı bilgi verin..."}},branchManagementTitle:"Şube Yönetimi",ResturantManagment:{title:"Restoran Yönetimi"},sidebar:{title:"QR Menü",logout:"Çıkış Yap",branch:"Şube"}},theme:{toggleToDark:"Dark mode'a geç",toggleToLight:"Light mode'a geç",dark:"Karanlık",light:"Aydınlık"},language:{turkish:"Türkçe",english:"English",arabic:"العربية",selectLanguage:"Dil Seç"},settings:{title:"Ayarlar",description:"Hesap ayarlarınızı ve tercihlerinizi yönetin",save:"Kaydet",saveSuccess:"Ayarlar başarıyla kaydedildi.",tabs:{general:"Genel",notifications:"Bildirimler",privacy:"Gizlilik",appearance:"Görünüm",data:"Veri"},general:{title:"Genel Ayarlar",description:"Temel hesap ayarlarınızı yapılandırın",language:"Dil",timezone:"Saat Dilimi",dateFormat:"Tarih Formatı",currency:"Para Birimi",autoSave:{title:"Otomatik Kaydetme",description:"Otomatik kaydetme ayarlarınızı yönetin",enabled:"Otomatik Kaydetme",enabledDesc:"Değişikliklerinizi otomatik olarak kaydeder",dataSync:"Veri Senkronizasyonu",dataSyncDesc:"Verilerinizi cihazlar arasında senkronize eder"}},notifications:{title:"Bildirim Ayarları",description:"Bildirim tercihlerinizi yönetin",enabled:"Bildirimleri Aç",enabledDesc:"Tüm bildirimleri etkinleştirir",email:"E-posta Bildirimleri",emailDesc:"Önemli güncellemeler için e-posta alın",push:"Push Bildirimleri",pushDesc:"Anlık bildirimler alın",sound:"Ses Bildirimleri",soundDesc:"Bildirim seslerini etkinleştirir"},privacy:{title:"Gizlilik ve Güvenlik",description:"Hesap güvenliğinizi ve gizlilik ayarlarınızı yönetin",twoFactor:"İki Faktörlü Doğrulama",twoFactorDesc:"Hesabınızı ekstra güvenlikle koruyun",autoLogout:"Otomatik Oturum Kapatma",autoLogoutDesc:"30 dakika hareketsizlik sonrası oturumu kapatır",analytics:"Analitik Veri Paylaşımı",analyticsDesc:"Geliştirme için anonim veri paylaşımı"},appearance:{title:"Görünüm Ayarları",description:"Arayüz tercihlerinizi özelleştirin",darkMode:"Karanlık Modu Aç",lightMode:"Aydınlık Modu Aç",darkModeDesc:"Karanlık tema kullanın",lightModeDesc:"Aydınlık tema kullanın",compact:"Kompakt Görünüm",compactDesc:"Daha az boşluk kullanan kompakt tasarım",animations:"Animasyonlar",animationsDesc:"Arayüz animasyonlarını etkinleştirir"},data:{title:"Veri Yönetimi",description:"Verilerinizi yedekleyin veya silin",download:"Veri İndir",downloadDesc:"Tüm verilerinizi indirin",upload:"Veri Yükle",uploadDesc:"Yedekten veri yükleyin",delete:"Veri Sil",deleteDesc:"Tüm verileri silin",storage:"Depolama",storageDesc:"Depolama alanını yönetin"}},notifications:{title:"Bildirimler",empty:"Bildirim yok",markAllAsRead:"Tümünü okundu işaretle"},brand:{name:"QR Menu",slogan:"Dijital Restoran Çözümü"},features:{title:"Neden",titleHighlight:"QR Menu?",subtitle:"Modern restoranlar için tasarlanmış güçlü özellikler ile müşteri deneyimini artırın ve işletmenizi dijital çağa taşıyın.",list:{qrAccess:{title:"QR Kod ile Anında Erişim",description:"Müşterileriniz masadaki QR kodu tarayarak menünüze anında erişebilir. Uygulama indirme gerektirmez."},mobileOptimized:{title:"Mobil Optimizasyon",description:"Tüm cihazlarda mükemmel görünüm. Responsive tasarım ile telefon, tablet ve masaüstünde optimum deneyim."},instantUpdate:{title:"Anlık Güncelleme",description:"Menü değişiklikleriniz anında yayınlanır. Fiyat güncellemeleri, yeni ürünler hemen görünür."},analytics:{title:"Detaylı Analitikler",description:"Hangi ürünler daha çok bakılıyor, müşteri davranışları ve satış trendleri hakkında rapor alın."},alwaysOpen:{title:"7/24 Erişim",description:"Müşterileriniz istediği zaman menünüze bakabilir. Restoran saatleri dışında da erişilebilir."},secure:{title:"Güvenli ve Hızlı",description:"SSL sertifikası ile güvenli, hızlı yüklenen sayfalar. Müşteri bilgileri korunur."},customizable:{title:"Özelleştirilebilir Tasarım",description:"Restoranınızın tarzına uygun renk, font ve tasarım seçenekleri. Marka kimliğinizi yansıtın."},multiLanguage:{title:"Çoklu Dil Desteği",description:"Menünüzü birden fazla dilde sunabilirsiniz. Uluslararası müşterilerinize hitap edin."}},cta:{title:"Restoranınızı Dijitalleştirmeye Hazır mısınız?",subtitle:"Bugün başlayın ve müşterilerinize modern bir deneyim sunun. Kurulum sadece 5 dakika!",button:"Ücretsiz Deneyin"}},footer:{description:"Restoranlar için modern, hızlı ve güvenli dijital menü çözümü. Müşteri deneyimini artırın, işletmenizi dijitalleştirin.",contact:{phone:"+90 212 345 67 89",email:"info@qrmenu.com",address:"Maslak, İstanbul"},sections:{product:{title:"Ürün",links:{features:"Özellikler",pricing:"Fiyatlandırma",demo:"Demo",api:"API Dokümantasyonu"}},company:{title:"Şirket",links:{about:"Hakkımızda",blog:"Blog",careers:"Kariyer",contact:"İletişim"}},support:{title:"Destek",links:{helpCenter:"Yardım Merkezi",faq:"SSS",liveSupport:"Canlı Destek",tutorials:"Eğitim Videoları"}},legal:{title:"Yasal",links:{privacy:"Gizlilik Politikası",terms:"Kullanım Şartları",cookies:"Çerez Politikası",gdpr:"GDPR"}}},newsletter:{title:"Güncellemelerden Haberdar Olun",subtitle:"Yeni özellikler ve güncellemeler hakkında bilgi alın.",placeholder:"E-posta adresiniz",button:"Abone Ol"},bottom:{copyright:"Tüm hakları saklıdır.",madeWith:"Türkiye'de tasarlandı ve geliştirildi ❤️"}},pages:{login:{title:"Giriş Yap",subtitle:"QR Menu hesabınıza giriş yapın",backToHome:"Ana Sayfaya Dön",email:"E-posta",password:"Şifre",rememberMe:"Beni Hatırla",forgotPassword:"Şifremi Unuttum",signIn:"Giriş Yap",signingIn:"Giriş Yapılıyor...",noAccount:"Hesabınız yok mu?",registerNow:"Hemen Kaydolun",errors:{emailRequired:"E-posta gereklidir",emailInvalid:"Geçerli bir e-posta adresi giriniz",passwordRequired:"Şifre gereklidir",invalidCredentials:"E-posta veya şifre hatalı",generalError:"Giriş sırasında bir hata oluştu. Lütfen tekrar deneyin."}},register:{title:"Hesap Oluştur",subtitle:"QR Menu ailesine katılın ve restoranınızı dijitalleştirin",backToHome:"Ana Sayfaya Dön",firstName:"Ad",lastName:"Soyad",email:"E-posta",phone:"Telefon Numarası",password:"Şifre",confirmPassword:"Şifre Tekrarı",createAccount:"Hesap Oluştur",creating:"Hesap Oluşturuluyor...",haveAccount:"Zaten hesabınız var mı?",signInNow:"Giriş Yapın",formProgress:"Form tamamlama",placeholders:{firstName:"Adınız",lastName:"Soyadınız",email:"ornek@email.com",phone:"05XX XXX XX XX",password:"••••••••",confirmPassword:"Şifrenizi tekrar girin"},validation:{nameRequired:"Ad gereklidir",nameMin:"Ad en az 2 karakter olmalıdır",surnameRequired:"Soyad gereklidir",surnameMin:"Soyad en az 2 karakter olmalıdır",emailRequired:"E-posta gereklidir",emailInvalid:"Geçerli bir e-posta adresi giriniz",phoneRequired:"Telefon numarası gereklidir",phoneInvalid:"Geçerli bir telefon numarası giriniz (örn: 05XX XXX XX XX)",passwordRequired:"Şifre gereklidir",passwordMin:"Şifre en az 8 karakter olmalıdır",passwordPattern:"Şifre en az bir büyük harf, bir küçük harf ve bir rakam içermelidir",passwordConfirmRequired:"Şifre tekrarı gereklidir",passwordMismatch:"Şifreler eşleşmiyor",termsRequired:"Kullanım şartlarını kabul etmelisiniz",emailExists:"Bu e-posta adresi zaten kullanımda"},passwordStrength:{veryWeak:"Çok Zayıf",weak:"Zayıf",medium:"Orta",good:"İyi",strong:"Güçlü"},terms:{service:"Kullanım Şartları",and:"ve",privacy:"Gizlilik Politikası",accept:"nı kabul ediyorum"},errors:{validation:"Kayıt bilgilerinizi kontrol edin",invalidData:"Girilen bilgiler geçersiz. Lütfen kontrol edin.",general:"Kayıt sırasında bir hata oluştu. Lütfen tekrar deneyin."},success:{message:"Kayıt başarılı! Şimdi restaurant bilgilerinizi girebilirsiniz."}},forgotPassword:{title:"Şifremi Unuttum",subtitle:"E-posta adresinizi girin, şifre sıfırlama bağlantısı gönderelim",backToLogin:"Giriş Sayfasına Dön",email:"E-posta",sendResetLink:"Sıfırlama Bağlantısı Gönder",sending:"Gönderiliyor...",resendCode:"Tekrar Gönder",countdown:"saniye sonra tekrar gönderebilirsiniz",placeholders:{email:"ornek@email.com"},success:{title:"E-posta Gönderildi!",message:"Şifre sıfırlama bağlantısı e-posta adresinize gönderildi. Lütfen e-postanızı kontrol edin."},errors:{emailRequired:"E-posta gereklidir",emailInvalid:"Geçerli bir e-posta adresi giriniz",emailNotFound:"Bu e-posta adresi ile kayıtlı hesap bulunamadı",general:"Şifre sıfırlama bağlantısı gönderilirken bir hata oluştu. Lütfen tekrar deneyin."}}},pricing:{title:"Size Uygun",titleHighlight:"Planı",titleEnd:"Seçin",subtitle:"İhtiyaçlarınıza göre tasarlanmış esnek fiyatlandırma seçenekleri. İstediğiniz zaman plan değiştirebilir veya iptal edebilirsiniz.",monthly:"Aylık",yearly:"Yıllık",freeMonths:"2 AY ÜCRETSİZ",mostPopular:"En Popüler",plans:{basic:{name:"Başlangıç",features:{0:"1 Restoran",1:"50 Ürün",2:"Temel Analitikler",3:"Email Destek",4:"QR Kod Oluşturucu",5:"Mobil Optimizasyon"},button:"Başla"},pro:{name:"Profesyonel",features:{0:"3 Restoran",1:"Sınırsız Ürün",2:"Gelişmiş Analitikler",3:"Öncelikli Destek",4:"Özel Tasarım",5:"Çoklu Dil Desteği",6:"API Erişimi",7:"Beyaz Etiket"},button:"En Popüler"},enterprise:{name:"Kurumsal",features:{0:"Sınırsız Restoran",1:"Sınırsız Ürün",2:"Kurumsal Analitikler",3:"7/24 Telefon Desteği",4:"Özel Entegrasyon",5:"Dedike Hesap Yöneticisi",6:"SLA Garantisi",7:"Eğitim ve Danışmanlık"},button:"İletişime Geç"}},additionalInfo:"Tüm planlar 14 gün ücretsiz deneme içerir • Kredi kartı gerekli değil • İstediğiniz zaman iptal edin",vatInfo:"Fiyatlar KDV dahildir. Kurumsal planlar için özel fiyatlandırma mevcuttur.",perMonth:"ay",perYear:"yıl",monthlyEquivalent:"Aylık ₺{amount} (2 ay ücretsiz)"},testimonials:{title:"Müşterilerimiz Ne",titleHighlight:"Diyor?",subtitle:"Türkiye'nin dört bir yanından 500+ restoranın güvendiği QR Menu sistemi hakkında gerçek kullanıcı deneyimleri.",customers:[{name:"Mehmet Özkan",role:"Restoran Sahibi",company:"Lezzet Durağı",content:"QR Menu sayesinde müşteri memnuniyetimiz %40 arttı. Özellikle pandemi döneminde temassız menü büyük avantaj sağladı. Sistem çok kolay kullanılıyor."},{name:"Ayşe Demir",role:"Genel Müdür",company:"Bella Vista Restaurant",content:"Müşterilerimiz artık garsonları beklemeden menüye bakabiliyor. Sipariş alma süremiz yarıya indi. Gerçekten mükemmel bir çözüm!"},{name:"Can Yılmaz",role:"İşletme Ortağı",company:"Keyif Cafe",content:"Analitik raporları sayesinde hangi ürünlerin daha popüler olduğunu görüyoruz. Menümüzü optimize ettik ve satışlarımız %25 arttı."},{name:"Fatma Kaya",role:"Restoran Müdürü",company:"Anadolu Sofrası",content:"Fiyat güncellemeleri anında yansıyor. Artık menü baskısı ile uğraşmıyoruz. Hem maliyet tasarrufu hem de çevre dostu."},{name:"Emre Şahin",role:"Zincir Restoran Sahibi",company:"Burger House",content:"Tüm şubelerimizi tek yerden yönetiyoruz. Her şube için ayrı menü ve fiyatlandırma yapabiliyoruz. Muhteşem sistem!"},{name:"Zeynep Arslan",role:"Cafe Sahibi",company:"Kahve Köşesi",content:"Müşteri desteği harika. Kurulum sırasında her adımda yardım aldık. Şimdi teknolojik bir cafe olduk ve müşterilerimiz çok memnun."}],stats:{restaurants:"Mutlu Restoran",satisfaction:"Memnuniyet Oranı",support:"Müşteri Desteği",setup:"Kurulum Süresi"}},faq:{title:"Sıkça Sorulan",titleHighlight:"Sorular",subtitle:"QR Menu hakkında merak ettiğiniz her şey burada. Sorunuz yoksa bize ulaşabilirsiniz.",questions:{1:{question:"QR Menu nasıl çalışıyor?",answer:"QR Menu sistemimiz çok basit. Restoranınız için bir QR kod oluşturuyoruz. Müşterileriniz bu QR kodu telefonlarıyla tarayarak menünüze anında erişebilir. Herhangi bir uygulama indirmeye gerek yok."},2:{question:"Kurulum ne kadar sürer?",answer:"Kurulum sadece 5 dakika sürer! Hesabınızı oluşturduktan sonra menünüzü yükleyip özelleştirirsiniz. QR kodunuz hemen kullanıma hazır hale gelir."},3:{question:"Müşteri verilerini görebilir miyim?",answer:"Evet! Hangi ürünlerin en çok görüntülendiği, peak saatler, müşteri davranışları gibi detaylı analitikler sunarız. Bu verilerle menünüzü optimize edebilirsiniz."},4:{question:"Fiyatları kolayca değiştirebilir miyim?",answer:"Tabii ki! Admin panelinizden istediğiniz zaman fiyat güncelleyebilir, yeni ürün ekleyebilir veya mevcut ürünleri düzenleyebilirsiniz. Değişiklikler anında yayınlanır."},5:{question:"Mobil cihazlarda nasıl görünüyor?",answer:"Menünüz tüm cihazlarda mükemmel görünür. Responsive tasarım sayesinde telefon, tablet ve bilgisayarlarda optimum deneyim sunar."},6:{question:"Müşteri desteği var mı?",answer:"Elbette! Email, telefon ve canlı chat ile 7/24 destek veriyoruz. Kurulumdan kullanıma kadar her adımda yanınızdayız."},7:{question:"İptal etmek istediğimde ne olur?",answer:"İstediğiniz zaman iptal edebilirsiniz. Hiçbir sözleşme veya ceza yok. İptal ettikten sonra verilerinizi size güvenli şekilde teslim ederiz."},8:{question:"Çoklu restoran yönetebilir miyim?",answer:"Profesyonel ve Kurumsal planlarımızla birden fazla restoranı tek hesaptan yönetebilirsiniz. Her restoran için ayrı menü ve analitikler."}},cta:{title:"Başka sorunuz var mı?",subtitle:"Cevabını bulamadığınız sorular için bize ulaşın. 24 saat içinde yanıtlıyoruz.",button:"İletişime Geç"}},contact:{title:"Bizimle",titleHighlight:"İletişime",titleEnd:"Geçin",subtitle:"QR Menu sistemi hakkında sorularınız mı var? Bizimle iletişime geçin.",info:{title:"İletişim Bilgileri",phone:"Telefon",email:"E-posta",address:"Adres"},form:{title:"Bize Yazın",name:"Ad Soyad",nameRequired:"Ad Soyad *",namePlaceholder:"Adınızı yazın",email:"E-posta",emailRequired:"E-posta *",emailPlaceholder:"E-posta adresiniz",company:"Restoran/Şirket Adı",companyPlaceholder:"İşletmenizin adı",message:"Mesajınız",messageRequired:"Mesajınız *",messagePlaceholder:"Mesajınızı yazın...",sending:"Gönderiliyor...",send:"Mesaj Gönder",success:{title:"Mesajınız Gönderildi!",subtitle:"En kısa sürede size geri dönüş yapacağız."}}},accessibility:{menu:"Menüyü aç/kapat",theme:"Tema değiştir",language:"Dil değiştir",profile:"Profil menüsü",notifications:"Bildirimler"},orders:{loading:"Siparişler yükleniyor...",title:"Siparişler",description:"Tüm siparişlerinizi yönetin ve takip edin",orderNumber:"Sipariş",table:"Masa",items:"Ürün",tabs:{all:"Tüm Siparişler",pending:"Bekleyen",preparing:"Hazırlanıyor",ready:"Hazır",delivered:"Teslim Edildi",cancelled:"İptal Edildi"},status:{pending:"Beklemede",preparing:"Hazırlanıyor",ready:"Hazır",delivered:"Teslim Edildi",cancelled:"İptal Edildi"},filters:{status:"Durum",dateRange:"Tarih Aralığı",paymentType:"Ödeme Türü",today:"Bugün",yesterday:"Dün",lastWeek:"Geçen Hafta",lastMonth:"Geçen Ay",custom:"Özel"},actions:{refresh:"Yenile",export:"Dışa Aktar",filter:"Filtrele",search:"Sipariş ara...",viewDetails:"Detayları Görüntüle",changeStatus:"Durumu Değiştir"},stats:{totalOrders:"Toplam Sipariş",totalRevenue:"Toplam Gelir",pendingOrders:"Bekleyen Sipariş",avgOrderValue:"Ortalama Sipariş Değeri"}},tableManagement:{loading:"Masalar yükleniyor...",title:"Masa Yönetimi",description:"QR kodlarınızı ve masalarınızı yönetin",noCategories:"Kategoriler Bulunmadı",createFirstCategory:"Birinci Kategori Oluştur",error:{loadFailed:"Şube listesi yüklenemedi",dataLoadFailed:"Veriler yüklenirken bir hata oluştu"},deleteModal:{title:"Öğeyi silmek istediğinizden emin misiniz? "},actions:{addTable:"Masa Ekle",addQRCode:"QR Kod Ekle",generateQR:"QR Kod Oluştur",downloadQR:"QR Kodu İndir",editTable:"Masa Düzenle",deleteTable:"Masa Sil"},categories:{title:"Kategori Yönetimi",addCategory:"Kategori Ekle",editCategory:"Kategori Düzenle",deleteCategory:"Kategori Sil",categoryName:"Kategori Adı",tableCount:"Masa Sayısı"},qrCodes:{title:"QR Kodlar",tableNumber:"Masa Numarası",category:"Kategori",status:"Durum",actions:"İşlemler",active:"Aktif",inactive:"Pasif"}},userManagement:{loading:"Kullanıcılar yükleniyor...",title:"Kullanıcı Yönetimi",description:"Kullanıcıları, rolleri ve izinleri yönetin",error:{loadFailed:"Kullanıcılar yüklenirken bir hata oluştu",rolesLoadFailed:"Roller yüklenirken bir hata oluştu",createFailed:"Kullanıcı oluşturulurken bir hata oluştu",updateFailed:"Kullanıcı güncellenirken bir hata oluştu",deleteFailed:"Kullanıcı silinirken bir hata oluştu"},actions:{addUser:"Kullanıcı Ekle",editUser:"Kullanıcı Düzenle",deleteUser:"Kullanıcı Sil",resetPassword:"Şifre Sıfırla",changeRole:"Rol Değiştir"},roles:{admin:"Yönetici",manager:"Müdür",staff:"Personel",viewer:"Görüntüleyici"},status:{active:"Aktif",inactive:"Pasif",suspended:"Askıya Alınmış"}},subscription:{title:"Abonelik",description:"Abonelik planınızı yönetin ve faturalarınızı görüntüleyin",currentPlan:"Mevcut Plan",planDetails:"Plan Detayları",billing:"Faturalama",usage:"Kullanım",plan:"Plan",renewal:"Yenileme",changePlan:"Planı Değiştir",availablePlans:"Kullanılabilir Planlar",selectPlan:"İhtiyaçlarınıza uygun planı seçin",tabs:{overview:"Genel Bakış",billing:"Faturalar",usage:"Kullanım"},actions:{upgrade:"Yükselt",downgrade:"Düşür",cancel:"İptal Et",renew:"Yenile",settings:"Ayarlar"}},products:{status:{outOfStock:"Stokta Yok",inStock:"Stokta Var",available:"Mevcut",unavailable:"Mevcut Değil"},count:"ürün",empty:"Bu kategoride henüz ürün yok",actions:{addFirst:"İlk ürünü ekle",addProduct:"Ürün Ekle",editProduct:"Ürün Düzenle",deleteProduct:"Ürün Sil"}},branchSelector:{status:{loading:"Yükleniyor...",error:"Şube listesi alınamadı"},empty:"Seçenek bulunamadı",actions:{changeBranchRestaurant:"Şube/Restoran Değiştir"},labels:{mainRestaurant:"Ana Restorant",branches:"Şubeler"}},popularProducts:{title:"Popüler Ürünler",empty:"Ürün satışları burada görünecek",labels:{orders:"sipariş",percentage:"%"},tooltip:{ordersFormat:(e,t)=>`${e} sipariş (${t}%)`,noData:"Veri bulunamadı"}},weeklyActivity:{title:"Haftalık Aktivite",empty:{primary:"Henüz aktivite verisi bulunmuyor",secondary:"Veriler yakında burada görünecek"},labels:{views:"Görüntülenme",qrScans:"QR Tarama"},legend:{views:"Görüntülenme",qrScans:"QR Tarama"}},monthlyRevenue:{QuickStats:"Hızlı İstatistikler",title:"Aylık Gelir Trendi",empty:{primary:"Henüz gelir verisi bulunmuyor",secondary:"Gelir verileri burada görünecek"},labels:{total:"Toplam:",revenue:"Gelir"},currency:{symbol:"₺",format:e=>`₺${e.toLocaleString("tr-TR")}`}},branchCard:{status:{temporaryClosed:"Geçici Kapalı",open:"Açık",closed:"Kapalı",active:"Aktif",inactive:"Pasif",hidden:"Gizli"},actions:{edit:"Düzenle",delete:"Sil",purge:"Verileri Temizle"},labels:{customerVisibility:"Müşteriye Açık/Kapalı",apiBranchOpen:"API BranchIsOpen:"},alt:{logo:"logo"}},addBranchCard:{title:"Add New Branch",description:"Click to add a new branch"},branchModal:{title:{add:"Yeni Şube Ekle",edit:"Şube Düzenle"},subtitle:"Şube bilgilerini adım adım girebilirsiniz",steps:{basic:"Temel Bilgiler",address:"Adres Bilgileri",contact:"İletişim & Çalışma Saatleri"},sections:{basicInfo:"Temel Bilgiler",addressInfo:"Adres Bilgileri",contactInfo:"İletişim Bilgileri",workingHours:"Çalışma Saatleri"},fields:{branchName:{label:"Şube Adı *",placeholder:"Şube adını girin"},whatsappNumber:{label:"WhatsApp Sipariş Numarası *",placeholder:"WhatsApp sipariş numarasını girin"},branchLogo:{label:"Şube Logosu (Opsiyonel)",select:"Logo Seç",uploading:"Yükleniyor...",success:"✓ Logo başarıyla yüklendi",preview:"Şube logosu önizleme",supportText:"PNG, JPG, GIF formatları desteklenir. Maksimum dosya boyutu: 5MB"},country:{label:"Ülke *",placeholder:"Ülke adını girin"},city:{label:"Şehir *",placeholder:"Şehir adını girin"},street:{label:"Sokak *",placeholder:"Sokak adını girin"},zipCode:{label:"Posta Kodu *",placeholder:"Posta kodunu girin"},addressLine1:{label:"Adres Satırı 1 *",placeholder:"Detaylı adres bilgisi girin"},addressLine2:{label:"Adres Satırı 2 (Opsiyonel)",placeholder:"Ek adres bilgisi girin (opsiyonel)"},phone:{label:"Telefon Numarası *",placeholder:"Telefon numarasını girin"},email:{label:"E-posta Adresi *",placeholder:"E-posta adresini girin"},location:{label:"Konum Bilgisi *",placeholder:"Konum bilgisini girin (Örn: 40.9795,28.7225)"},contactHeader:{label:"İletişim Başlığı (Opsiyonel)",placeholder:"İletişim başlığını girin (opsiyonel)"},footerTitle:{label:"Footer Başlığı (Opsiyonel)",placeholder:"Footer başlığını girin (opsiyonel)"},footerDescription:{label:"Footer Açıklaması (Opsiyonel)",placeholder:"Footer açıklamasını girin (opsiyonel)"},openTitle:{label:"Çalışma Saatleri Başlığı (Opsiyonel)",placeholder:"Çalışma saatleri başlığını girin (opsiyonel)"},openDays:{label:"Açık Günler (Opsiyonel)",placeholder:"Açık günleri girin (opsiyonel)"},openHours:{label:"Açık Saatler (Opsiyonel)",placeholder:"Açık saatleri girin (opsiyonel)"}},workingHours:{description:"İşletmenizin çalışma saatlerini belirleyin",days:["Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"],open:"Açık",closed:"Kapalı",openTime:"Açılış",closeTime:"Kapanış",canOrder:"✓ Bu gün müşteriler sipariş verebilecek",infoTitle:"Çalışma Saatleri Hakkında",infoText:"Burada belirlediğiniz saatler, müşterilerin QR menünüz üzerinden sipariş verebileceği zamanları belirler. Kapalı günlerde sipariş alınmaz."},errors:{branchName:"Şube adı gereklidir",whatsappNumber:"WhatsApp sipariş numarası gereklidir",country:"Ülke gereklidir",city:"Şehir gereklidir",street:"Sokak gereklidir",zipCode:"Posta kodu gereklidir",addressLine1:"Adres satırı 1 gereklidir",phone:"Telefon numarası gereklidir",email:"E-posta adresi gereklidir",location:"Konum bilgisi gereklidir"},buttons:{cancel:"İptal",back:"Geri",next:"İleri",save:"Kaydet",saving:"Kaydediliyor..."}},branchManagement:{title:"Şube Yönetimi",description:"Restoran şubelerini yönetin ve bilgilerini güncelleyin",loading:"Şubeler yükleniyor...",addBranch:"Yeni Şube Ekle",error:{loadFailed:"Şubeler yüklenemedi",createFailed:"Şube oluşturulamadı",updateFailed:"Şube güncellenemedi",deleteFailed:"Şube silinemedi",restaurantIdNotFound:"Restoran ID bulunamadı",detailsLoadFailed:"Şube detayları yüklenemedi",statusUpdateFailed:"Şube durumu güncellenemedi",sessionExpired:"Oturum süresi doldu. Lütfen tekrar giriş yapın.",noPermission:"Bu işlem için yetkiniz bulunmuyor.",branchNotFound:"Şube bulunamadı.",connectionError:"İnternet bağlantınızı kontrol edin.",unknownError:"Beklenmeyen bir hata oluştu"},noBranches:{title:"Henüz şube yok",description:"Restoranınızın ilk şubesini eklemeye başlayın"},deleteConfirm:{title:"Şube Silme Onayı",description:'"{{branchName}}" şubesini silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.'},form:{branchName:"Şube Adı",branchNamePlaceholder:"Şube adını girin",branchNameRequired:"Şube adı gereklidir",whatsappNumber:"WhatsApp Sipariş Numarası",whatsappPlaceholder:"WhatsApp numarasını girin",branchLogo:"Şube Logosu",logoUpload:"Logo Yükle",logoChange:"Logo Değiştir",logoRemove:"Logoyu Kaldır",logoNotSelected:"Logo seçilmedi",logoInstructions:"JPG, PNG veya GIF formatında, maksimum 5MB boyutunda dosya yükleyebilirsiniz.",country:"Ülke",countryPlaceholder:"Ülke adını girin",city:"Şehir",cityPlaceholder:"Şehir adını girin",street:"Sokak",streetPlaceholder:"Sokak adını girin",zipCode:"Posta Kodu",zipCodePlaceholder:"Posta kodunu girin",addressLine1:"Adres Satırı 1",addressLine1Placeholder:"Adres detayını girin",addressLine2:"Adres Satırı 2",addressLine2Placeholder:"Ek adres bilgisi (opsiyonel)",phone:"Telefon",phonePlaceholder:"Telefon numarasını girin",email:"E-posta",emailPlaceholder:"E-posta adresini girin",location:"Konum",locationPlaceholder:"Konum bilgisini girin",contactHeader:"İletişim Başlığı",contactHeaderPlaceholder:"İletişim başlığını girin",footerTitle:"Footer Başlığı",footerTitlePlaceholder:"Footer başlığını girin",footerDescription:"Footer Açıklaması",footerDescriptionPlaceholder:"Footer açıklamasını girin",openTitle:"Açılış Saatleri Başlığı",openTitlePlaceholder:"Açılış saatleri başlığını girin",openDays:"Açık Günler",openDaysPlaceholder:"Açık günleri girin",openHours:"Açık Saatler",openHoursPlaceholder:"Açık saatleri girin",workingHours:"Çalışma Saatleri",workingHoursRequired:"En az bir çalışma günü seçmelisiniz",isOpen:"Açık",dayNames:{0:"Pazar",1:"Pazartesi",2:"Salı",3:"Çarşamba",4:"Perşembe",5:"Cuma",6:"Cumartesi"}},modal:{createTitle:"Yeni Şube Ekle",createDescription:"Yeni şube bilgilerini girin",editTitle:"Şube Düzenle - {branchName}",editDescription:"Şube bilgilerini düzenleyin",tabs:{general:"Genel Bilgiler",address:"Adres",contact:"İletişim",workingHours:"Çalışma Saatleri"},buttons:{creating:"Oluşturuluyor...",updating:"Güncelleniyor...",create:"Şube Oluştur",update:"Şubeyi Güncelle"},errors:{updateError:"Güncelleme Hatası",validationFailed:"Lütfen formdaki hataları düzeltin ve tekrar deneyin.",dataValidationError:"Güncelleme sırasında bir hata oluştu. Lütfen girdiğiniz verileri kontrol edin.",imageUploadError:"Resim yüklenirken hata oluştu. Lütfen tekrar deneyin.",imageRemoveError:"Resim silinirken hata oluştu.",uploadingImage:"Resim yükleniyor...",invalidFileType:"Lütfen geçerli bir resim dosyası seçin",fileSizeError:"Dosya boyutu 5MB'dan küçük olmalıdır"}},card:{edit:"Düzenle",delete:"Sil",temporaryClose:"Geçici Kapat",temporaryOpen:"Geçici Aç",status:{open:"Açık",closed:"Kapalı",temporarilyClosed:"Geçici Kapalı"}}},commonBranch:{cancel:"İptal",delete:"Sil",save:"Kaydet",edit:"Düzenle",create:"Oluştur",update:"Güncelle",close:"Kapat",loading:"Yükleniyor...",error:"Hata",success:"Başarılı",warning:"Uyarı",info:"Bilgi",required:"Gerekli",optional:"Opsiyonel"},productsContent:{branch:{selectAll:"Hepsi"},title:"Ürün Yönetimi",description:"Menü kategorileri ve ürünlerini yönetin",search:{placeholder:"Menü öğelerini ara...",filter:"Filtrele",sort:"Sırala",noResults:"Ürün bulunamadı"},viewMode:{list:"Liste görünümü",grid:"Izgara görünümü"},actions:{addFirstCategory:"İlk Kategori Ekle",addCategory:"Yeni Kategori",newCategory:"Yeni Kategori",addProduct:"Yeni Ürün",newProduct:"Yeni Ürün",editCategory:"Kategoriyi Düzenle",deleteCategory:"Kategoriyi Sil",editProduct:"Ürünü Düzenle",deleteProduct:"Ürünü Sil",manageIngredients:"Malzemeleri Yönet",updateIngredients:"Malzemeleri Güncelle",manageAddons:"Eklentileri Yönet",importSampleMenu:"Örnek Menü İçe Aktar",addFirstCategoryTitle:"İlk Kategoriyi Ekle",RecycleBin:"Geri Dönüşüm Kutusu"},emptyState:{noCategories:{title:"Henüz menü kategoriniz bulunmuyor",description:'Restoranınızın menüsünü oluşturmaya başlamak için ilk kategoriyi ekleyin. Örneğin "Ana Yemekler", "İçecekler" veya "Tatlılar" gibi.',addFirstCategory:"İlk Kategoriyi Ekle"}},loading:{categories:"Kategoriler yükleniyor...",products:"Ürünler yükleniyor...",savingOrder:"Sıralama kaydediliyor...",savingCategoryOrder:"Kategori sıralaması kaydediliyor...",savingProductOrder:"Ürün sıralaması kaydediliyor...",movingProduct:"Ürün taşınıyor...",deleting:"Siliniyor..."},dragDrop:{categoryReordering:"Kategori sıralaması kaydediliyor...",productReordering:"Ürün sıralaması kaydediliyor...",productMoving:"Ürün taşınıyor...",categoryOrderSaveError:"Kategori sıralaması kaydedilirken bir hata oluştu.",productOrderSaveError:"Ürün sıralaması kaydedilirken bir hata oluştu.",productMoveError:"Ürün taşıma işlemi kaydedilirken bir hata oluştu."},delete:{product:{title:"Ürünü Sil",message:'"{{productName}}" adlı ürünü silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.',success:"Ürün başarıyla silindi"},category:{title:"Kategoriyi Sil",messageWithProducts:'"{{categoryName}}" kategorisinde {{productCount}} ürün bulunuyor. Bu kategoriyi silmek tüm ürünleri de silecektir. Devam etmek istediğinizden emin misiniz?',messageEmpty:'"{{categoryName}}" kategorisini silmek istediğinizden emin misiniz?',success:"Kategori başarıyla silindi"}},error:{loadFailed:"Veriler yüklenemedi",categoryNotFound:"Kategori bulunamadı",productNotFound:"Ürün bulunamadı",deleteFailed:"Silme işlemi başarısız",updateFailed:"Güncelleme başarısız",createFailed:"Oluşturma başarısız",reorderFailed:"Sıralama başarısız",invalidData:"Geçersiz veri",networkError:"Ağ bağlantı hatası",refreshPage:"Lütfen sayfayı yenileyin ve tekrar deneyin."},success:{categoryCreated:"Kategori başarıyla oluşturuldu",categoryUpdated:"Kategori başarıyla güncellendi",categoryDeleted:"Kategori başarıyla silindi",productCreated:"Ürün başarıyla oluşturuldu",productUpdated:"Ürün başarıyla güncellendi",productDeleted:"Ürün başarıyla silindi",orderSaved:"Sıralama başarıyla kaydedildi",ingredientsUpdated:"Malzemeler başarıyla güncellendi",addonsUpdated:"Eklentiler başarıyla güncellendi"},category:{products:"ürün",productCount:"ürün",noProducts:"Bu kategoride ürün bulunmuyor",expand:"Genişlet",collapse:"Daralt"},product:{price:"Fiyat",description:"Açıklama",ingredients:"Malzemeler",addons:"Eklentiler",category:"Kategori",image:"Resim",status:"Durum",available:"Mevcut",unavailable:"Mevcut değil"},currency:{symbol:"₺",format:"{{amount}} ₺"},status:{active:"Aktif",inactive:"Pasif",available:"Mevcut",unavailable:"Mevcut değil"},tooltips:{dragToReorder:"Sıralamak için sürükleyin",dragToMoveCategory:"Ürünü başka kategoriye taşımak için sürükleyin",expandCategory:"Kategoriyi genişlet",collapseCategory:"Kategoriyi daralt",editCategory:"Kategoriyi düzenle",deleteCategory:"Kategoriyi sil",editProduct:"Ürünü düzenle",deleteProduct:"Ürünü sil",manageIngredients:"Ürün malzemelerini yönet",manageAddons:"Ürün eklentilerini yönet"}},createCategoryModal:{title:"Yeni Kategori Ekle",subtitle:"Menü kategorisi oluşturun",close:"Kapat",form:{categoryName:{label:"Kategori Adı *",placeholder:"Örn: Ana Yemekler, İçecekler, Tatlılar",required:"Kategori adı gereklidir"},status:{label:"Kategoriyi aktif et",description:"Aktif kategoriler menüde görünür"}},buttons:{cancel:"İptal",create:"Kategori Ekle",creating:"Ekleniyor..."},errors:{general:"Kategori eklenirken bir hata oluştu. Lütfen tekrar deneyin.",categoryExists:"Bu isimde bir kategori zaten mevcut. Lütfen farklı bir isim seçin.",invalidData:"Girilen bilgiler geçersiz. Lütfen kontrol edip tekrar deneyin.",serverError:"Sunucu hatası oluştu. Lütfen daha sonra tekrar deneyin.",networkError:"Ağ bağlantı hatası. Bağlantınızı kontrol edin ve tekrar deneyin.",unknownError:"Beklenmeyen bir hata oluştu. Lütfen tekrar deneyin.",errorLabel:"Hata:"},success:{categoryCreated:"Kategori başarıyla oluşturuldu",categoryAdded:"Kategori başarıyla menüye eklendi"},validation:{nameRequired:"Kategori adı gereklidir",nameMinLength:"Kategori adı 2 karakterden fazla olmalıdır",nameMaxLength:"Kategori adı 50 karakterden az olmalıdır",invalidCharacters:"Kategori adı geçersiz karakterler içeriyor"},accessibility:{closeModal:"Kategori ekleme modalını kapat",formTitle:"Yeni kategori ekleme formu",requiredField:"Zorunlu alan",optionalField:"İsteğe bağlı alan"}},createProductModal:{title:"Yeni Ürün Ekle",subtitle:"Menünüze ürün ekleyin",close:"Kapat",form:{productImage:{label:"Ürün Görseli",dragActive:"Dosyayı buraya bırakın",uploadText:"Görsel yükleyin",supportedFormats:"PNG, JPG, GIF (5MB max)",removeImage:"Görseli kaldır"},productName:{label:"Ürün Adı",placeholder:"Örn: Margherita Pizza",required:"Ürün adı gereklidir"},price:{label:"Fiyat (₺)",placeholder:"0",required:"Fiyat gereklidir",mustBePositive:"Fiyat 0'dan büyük olmalıdır",currency:"₺"},category:{label:"Kategori",placeholder:"Kategori seçin",required:"Kategori seçimi gereklidir",invalidCategory:"Seçilen kategori geçersiz. Mevcut kategoriler: {{categories}}"},description:{label:"Açıklama",placeholder:"Ürün açıklaması...",required:"Ürün açıklaması gereklidir"},status:{label:"Ürünü aktif et",description:"Menüde görüntülenir",active:"Aktif",inactive:"Pasif"}},buttons:{cancel:"İptal",create:"Ürün Ekle",creating:"Ekleniyor...",uploading:"Yükleniyor..."},imageUpload:{dragToUpload:"Görseli buraya sürükleyin veya yüklemek için tıklayın",clickToUpload:"Görsel yüklemek için tıklayın",dragActive:"Dosyayı buraya bırakın",supportedFormats:"PNG, JPG, GIF",maxSize:"5MB max",preview:"Görsel önizleme",remove:"Kaldır"},errors:{general:"Ürün eklenirken bir hata oluştu. Lütfen tekrar deneyin.",nameRequired:"Ürün adı gereklidir",descriptionRequired:"Ürün açıklaması gereklidir",priceRequired:"Fiyat gereklidir",priceMustBePositive:"Fiyat 0'dan büyük olmalıdır",categoryRequired:"Kategori seçimi gereklidir",categoryInvalid:"Seçilen kategori geçersiz",imageInvalid:"Lütfen geçerli bir görsel dosyası seçin",imageTooLarge:"Görsel dosyası 5MB'dan küçük olmalıdır",imageUploadFailed:"Görsel yüklenirken bir hata oluştu",networkError:"Ağ bağlantı hatası. Bağlantınızı kontrol edin ve tekrar deneyin.",serverError:"Sunucu hatası oluştu. Lütfen daha sonra tekrar deneyin.",unknownError:"Beklenmeyen bir hata oluştu. Lütfen tekrar deneyin.",errorLabel:"Hata:"},success:{productCreated:"Ürün başarıyla oluşturuldu",productAdded:"Ürün başarıyla menüye eklendi"},validation:{nameMinLength:"Ürün adı 2 karakterden fazla olmalıdır",nameMaxLength:"Ürün adı 100 karakterden az olmalıdır",descriptionMinLength:"Açıklama 5 karakterden fazla olmalıdır",descriptionMaxLength:"Açıklama 500 karakterden az olmalıdır",priceMin:"Fiyat 0'dan büyük olmalıdır",priceMax:"Fiyat 10000'den küçük olmalıdır"},accessibility:{closeModal:"Ürün ekleme modalını kapat",formTitle:"Yeni ürün ekleme formu",requiredField:"Zorunlu alan",optionalField:"İsteğe bağlı alan",imageUpload:"Ürün görseli yükle",removeImage:"Ürün görselini kaldır",priceInput:"Ürün fiyatını girin",categorySelect:"Ürün kategorisi seçin",statusToggle:"Ürün durumunu değiştir"}},productAddonsModal:{title:"Ürün Eklentileri",subtitle:"için eklenti ürünleri yönetin",close:"Kapat",panels:{currentAddons:{title:"Mevcut Eklentiler",count:"({{count}})",dragInstruction:"Sürükleyerek sıralayabilirsiniz",emptyState:{title:"Henüz eklenti eklenmemiş.",subtitle:"Sağ panelden ürün seçin."}},availableProducts:{title:"Eklenti Olarak Eklenebilir Ürünler",searchPlaceholder:"Ürün ara...",emptyState:{noResults:"Arama kriterlerine uygun ürün bulunamadı.",noProducts:"Eklenebilir ürün bulunamadı."}}},actions:{edit:"Düzenle",save:"Kaydet",cancel:"İptal",remove:"Kaldır",recommended:"Önerilen"},form:{marketingText:{placeholder:"Pazarlama metni...",label:"Pazarlama Metni"},isRecommended:{label:"Önerilen eklenti olarak işaretle",badge:"Önerilen"}},status:{outOfStock:"Stokta Yok",available:"Mevcut",unavailable:"Mevcut Değil"},loading:{addons:"Eklentiler yükleniyor...",products:"Ürünler yükleniyor...",saving:"Kaydediliyor..."},buttons:{cancel:"İptal",saveAddons:"Eklentileri Kaydet",saving:"Kaydediliyor..."},counters:{selectedProducts:"{{count}} ürün seçili",availableProducts:"{{count}} mevcut ürün"},errors:{loadingData:"Eklenti verileri yüklenirken bir hata oluştu.",updatingAddon:"Eklenti güncellenirken bir hata oluştu.",deletingAddon:"Eklenti silinirken bir hata oluştu.",savingOrder:"Eklenti sıralaması kaydedilirken bir hata oluştu.",savingAddons:"Eklentiler kaydedilirken bir hata oluştu. Lütfen tekrar deneyin.",general:"Beklenmeyen bir hata oluştu. Lütfen tekrar deneyin.",networkError:"Ağ bağlantı hatası. Bağlantınızı kontrol edin ve tekrar deneyin."},success:{addonsSaved:"Ürün eklentileri başarıyla kaydedildi",orderUpdated:"Eklenti sıralaması başarıyla güncellendi",addonUpdated:"Eklenti başarıyla güncellendi",addonRemoved:"Eklenti başarıyla kaldırıldı"},accessibility:{closeModal:"Ürün eklentileri modalını kapat",dragHandle:"Eklenti sırasını değiştirmek için sürükle",editAddon:"Eklenti detaylarını düzenle",removeAddon:"Eklentiyi üründen kaldır",selectProduct:"Ürünü eklenti olarak seç",productImage:"Ürün resmi",toggleRecommended:"Önerilen durumunu değiştir"}},editCategoryModal:{title:"Kategori Düzenle",subtitle:"Kategori bilgilerini güncelle",close:"Kapat",form:{categoryName:{label:"Kategori Adı",placeholder:"Kategori adını girin...",required:"Kategori adı gereklidir",minLength:"Kategori adı en az 2 karakter olmalıdır",maxLength:"Kategori adı 100 karakterden az olmalıdır"},description:{label:"Açıklama",placeholder:"Kategori açıklamasını girin...",optional:"Opsiyonel",maxLength:"Açıklama 500 karakterden az olmalıdır"},status:{label:"Aktif",description:"Aktif olduğunda kategori menüde görünür",active:"Aktif",inactive:"Pasif"}},buttons:{cancel:"İptal",save:"Kaydet",saving:"Kaydediliyor...",update:"Kategoriyi Güncelle",updating:"Güncelleniyor..."},errors:{updateFailed:"Kategori güncellenirken bir hata oluştu. Lütfen tekrar deneyin.",nameRequired:"Kategori adı gereklidir",nameMinLength:"Kategori adı en az 2 karakter olmalıdır",nameMaxLength:"Kategori adı 100 karakterden az olmalıdır",descriptionMaxLength:"Açıklama 500 karakterden az olmalıdır",general:"Beklenmeyen bir hata oluştu. Lütfen tekrar deneyin.",networkError:"Ağ bağlantı hatası. Bağlantınızı kontrol edin ve tekrar deneyin.",serverError:"Sunucu hatası oluştu. Lütfen daha sonra tekrar deneyin."},success:{categoryUpdated:"Kategori başarıyla güncellendi",changesSaved:"Değişiklikler başarıyla kaydedildi"},validation:{nameRequired:"Lütfen bir kategori adı girin",nameMinLength:"Kategori adı çok kısa",nameMaxLength:"Kategori adı çok uzun",descriptionMaxLength:"Açıklama çok uzun"},accessibility:{closeModal:"Kategori düzenleme modalını kapat",formTitle:"Kategori düzenleme formu",requiredField:"Zorunlu alan",optionalField:"Opsiyonel alan",statusToggle:"Kategori durumunu değiştir",nameInput:"Kategori adı girişi",descriptionInput:"Kategori açıklama girişi"}},confirmDeleteModal:{defaultTitle:"Silmeyi Onayla",deleteTitle:"Öğeyi Sil",deleteTableWarning:"Tabloyu silmeden önce bekleyen bir istek olmadığından emin olun.",warning:"Bu işlem geri alınamaz. Öğe kalıcı olarak silinecektir.",itemTypes:{category:"Kategori",product:"Ürün",addon:"Eklenti",user:"Kullanıcı",order:"Sipariş",coupon:"Kupon",discount:"İndirim",promotion:"Promosyon",review:"Değerlendirme",comment:"Yorum",image:"Resim",file:"Dosya",item:"Öğe"},buttons:{cancel:"İptal",delete:"Sil",deleting:"Siliniyor...",confirm:"Onayla",confirming:"Onaylanıyor..."},messages:{category:"Bu kategoriyi silmek istediğinizden emin misiniz? Bu kategorideki tüm ürünler de etkilenecektir.",product:"Bu ürünü silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.",addon:"Bu eklentiyi silmek istediğinizden emin misiniz? Tüm ilişkili ürünlerden kaldırılacaktır.",user:"Bu kullanıcıyı silmek istediğinizden emin misiniz? Tüm verileri kalıcı olarak kaldırılacaktır.",general:"Bu öğeyi silmek istediğinizden emin misiniz? Bu işlem geri alınamaz."},errors:{deleteFailed:"Silme işlemi sırasında bir hata oluştu. Lütfen tekrar deneyin.",networkError:"Ağ bağlantı hatası. Lütfen bağlantınızı kontrol edin ve tekrar deneyin.",serverError:"Sunucu hatası oluştu. Lütfen daha sonra tekrar deneyin.",permissionError:"Bu öğeyi silme yetkiniz bulunmamaktadır.",notFound:"Silinecek öğe bulunamadı.",hasRelations:"Bu öğe ilişkili veriler içerdiği için silinemez.",general:"Beklenmeyen bir hata oluştu. Lütfen tekrar deneyin."},success:{deleted:"Öğe başarıyla silindi",categoryDeleted:"Kategori başarıyla silindi",productDeleted:"Ürün başarıyla silindi",addonDeleted:"Eklenti başarıyla silindi"},confirmations:{typeToConfirm:'Onaylamak için "SİL" yazın',enterName:"Silmeyi onaylamak için adını girin",areYouSure:"Kesinlikle emin misiniz?",lastChance:"İptal etmek için son şansınız."},accessibility:{closeModal:"Silme onay modalını kapat",deleteDialog:"Silme onay diyaloğu",warningIcon:"Uyarı ikonu",deleteButton:"Silmeyi onayla",cancelButton:"Silmeyi iptal et",errorAlert:"Hata mesajı"}},editProductModal:{title:"Ürün Düzenle",subtitle:"Ürün bilgilerini güncelle",close:"Kapat",form:{productImage:{label:"Ürün Görseli",optional:"Opsiyonel"},productName:{label:"Ürün Adı",placeholder:"örn: Margherita Pizza",required:"Ürün adı gereklidir"},description:{label:"Açıklama",placeholder:"Ürün açıklaması...",optional:"Opsiyonel"},price:{label:"Fiyat (₺)",placeholder:"0",required:"Fiyat gereklidir",currency:"₺"},category:{label:"Kategori",placeholder:"Kategori seçin",required:"Kategori seçimi gereklidir"},status:{label:"Stokta Var",description:"Mevcut olduğunda ürün menüde görünür",available:"Mevcut",unavailable:"Mevcut Değil"}},buttons:{cancel:"İptal",update:"Ürünü Güncelle",updating:"Güncelleniyor...",save:"Değişiklikleri Kaydet",saving:"Kaydediliyor...",uploading:"Görsel Yükleniyor..."},imageUpload:{clickToUpload:"Görsel yüklemek için tıklayın",dragToUpload:"Görseli buraya sürükleyin veya tıklayın",dragActive:"Dosyayı buraya bırakın",supportedFormats:"PNG, JPG, GIF",maxSize:"maksimum 5MB",preview:"Görsel önizleme",remove:"Görseli kaldır",changeImage:"Görseli değiştir"},errors:{errorLabel:"Hata:",updateFailed:"Ürün güncellenirken bir hata oluştu. Lütfen tekrar deneyin.",nameRequired:"Ürün adı gereklidir",nameAlreadyExists:"Bu isimde bir ürün zaten mevcut. Lütfen farklı bir isim seçin.",descriptionRequired:"Ürün açıklaması gereklidir",priceRequired:"Fiyat gereklidir",priceMustBePositive:"Fiyat 0'dan büyük olmalıdır",categoryRequired:"Kategori seçimi gereklidir",imageInvalid:"Lütfen geçerli bir görsel dosyası seçin",imageTooLarge:"Görsel dosyası 5MB'dan küçük olmalıdır",imageUploadFailed:"Görsel yüklenirken bir hata oluştu",productNotFound:"Ürün bulunamadı",permissionDenied:"Bu ürünü güncelleme yetkiniz bulunmamaktadır",networkError:"Ağ bağlantı hatası. Bağlantınızı kontrol edin ve tekrar deneyin.",serverError:"Sunucu hatası oluştu. Lütfen daha sonra tekrar deneyin.",unknownError:"Beklenmeyen bir hata oluştu. Lütfen tekrar deneyin."},success:{productUpdated:"Ürün başarıyla güncellendi",changesSaved:"Değişiklikler başarıyla kaydedildi",imageUploaded:"Görsel başarıyla yüklendi"},validation:{nameMinLength:"Ürün adı 2 karakterden fazla olmalıdır",nameMaxLength:"Ürün adı 100 karakterden az olmalıdır",descriptionMaxLength:"Açıklama 500 karakterden az olmalıdır",priceMin:"Fiyat 0'dan büyük olmalıdır",priceMax:"Fiyat 10000'den az olmalıdır",imageSize:"Görsel 5MB'dan küçük olmalıdır",imageType:"Sadece görsel dosyalarına izin verilir"},accessibility:{closeModal:"Ürün düzenleme modalını kapat",formTitle:"Ürün düzenleme formu",requiredField:"Zorunlu alan",optionalField:"Opsiyonel alan",imageUpload:"Ürün görseli yükle",removeImage:"Ürün görselini kaldır",priceInput:"Ürün fiyatını girin",categorySelect:"Ürün kategorisi seçin",statusToggle:"Ürün durumunu değiştir",imagePreview:"Ürün görseli önizleme"}},productIngredientModal:{title:"Ürün Malzemeleri",subtitle:"için malzemeleri seçin",close:"Kapat",search:{placeholder:"Malzemeleri ara...",label:"Malzeme ara",noResults:"Malzeme bulunamadı"},summary:{selectedCount:"Seçilen malzemeler",hasChanges:"Değişiklik var",noChanges:"Değişiklik yok"},form:{quantity:{label:"Miktar",placeholder:"Miktar",required:"Miktar gereklidir"},unit:{label:"Birim",placeholder:"Birim seçin",required:"Birim gereklidir"}},units:{grams:"gr",milliliters:"ml",pieces:"adet",tablespoons:"yemek kaşığı",teaspoons:"çay kaşığı",cups:"su bardağı",kilograms:"kg",liters:"lt"},status:{available:"Kullanılabilir",unavailable:"Kullanılamaz",containsAllergens:"Alerjen İçerir",toBeAdded:"Eklenecek",toBeRemoved:"Kaldırılacak",selected:"Seçili",unselected:"Seçili değil"},allergenInfo:{count:"{{count}} alerjen",count_plural:"{{count}} alerjen",details:"Alerjen detayları",warning:"Bu malzeme alerjen içerir"},loading:{ingredients:"Malzemeler yükleniyor...",saving:"Malzemeler kaydediliyor...",data:"Veriler yükleniyor..."},emptyState:{noIngredients:"Henüz malzeme eklenmemiş.",noSearchResults:"Arama kriterlerine uygun malzeme bulunamadı.",noAvailableIngredients:"Kullanılabilir malzeme bulunamadı."},buttons:{cancel:"İptal",skip:"Atla",save:"Kaydet",saveIngredients:"Malzemeleri Kaydet",saving:"Kaydediliyor...",add:"Malzeme Ekle",update:"Malzemeleri Güncelle"},footer:{totalCount:"Toplam: {{count}} malzeme",selectedInfo:"{{total}} malzemeden {{selected}} tanesi seçili"},errors:{loadingData:"Malzeme verileri yüklenirken bir hata oluştu.",savingIngredients:"Malzemeler kaydedilirken bir hata oluştu. Lütfen tekrar deneyin.",quantityRequired:"Tüm malzemeler için miktar 0'dan büyük olmalıdır.",unitRequired:"Tüm malzemeler için birim seçilmelidir.",networkError:"Ağ bağlantı hatası. Bağlantınızı kontrol edin ve tekrar deneyin.",serverError:"Sunucu hatası oluştu. Lütfen daha sonra tekrar deneyin.",general:"Beklenmeyen bir hata oluştu. Lütfen tekrar deneyin.",invalidQuantity:"Lütfen geçerli bir miktar girin",ingredientNotFound:"Malzeme bulunamadı",permissionDenied:"Malzemeleri değiştirme yetkiniz bulunmamaktadır"},success:{ingredientsSaved:"Malzemeler başarıyla kaydedildi",ingredientsUpdated:"Malzemeler başarıyla güncellendi",ingredientAdded:"Malzeme başarıyla eklendi",ingredientRemoved:"Malzeme başarıyla kaldırıldı"},validation:{quantityMin:"Miktar 0'dan büyük olmalıdır",quantityMax:"Miktar 1000'den az olmalıdır",unitRequired:"Lütfen bir birim seçin",ingredientRequired:"Lütfen en az bir malzeme seçin"},accessibility:{closeModal:"Malzeme seçim modalını kapat",searchInput:"Malzeme ara",quantityInput:"Malzeme miktarını girin",unitSelect:"Ölçü birimini seçin",ingredientCheckbox:"Malzeme seç",selectedIndicator:"Malzeme seçildi",allergenWarning:"Alerjen içerir",availabilityStatus:"Kullanılabilirlik durumu"}},ProductIngredientUpdateModal:{title:"Malzemeleri Güncelle",searchPlaceholder:"Malzeme ara...",selectedCount:"malzeme seçili",loadingIngredients:"Malzemeler yükleniyor...",noIngredientsFound:"Malzeme bulunamadı",noIngredientsFoundSearch:"Arama kriterlerine uygun malzeme bulunamadı",unit:"Birim:",price:"Fiyat:",quantity:"Miktar",cancel:"İptal",save:"Kaydet",saving:"Kaydediliyor...",errors:{loadingIngredients:"Malzemeler yüklenirken bir hata oluştu",savingIngredients:"Malzemeler kaydedilirken bir hata oluştu"},accessibility:{closeModal:"Malzeme güncelleme modalını kapat",formTitle:"Ürün malzemeleri güncelleme formu",searchInput:"Malzeme ara",ingredientToggle:"Malzeme seçimini değiştir",quantityInput:"Malzeme miktarını gir",selectedIndicator:"Malzeme seçili",unselectedIndicator:"Malzeme seçili değil",ingredientCard:"Malzeme seçim kartı",saveButton:"Malzeme değişikliklerini kaydet",cancelButton:"Malzeme güncellemesini iptal et"}},SortableCategory:{product:"ürün",products:"ürün",editCategory:"Kategoriyi düzenle",deleteCategory:"Kategoriyi sil",reorderingProducts:"Ürün sıralaması kaydediliyor...",noCategoryProducts:"Bu kategoride henüz ürün yok.",expandCategory:"Kategoriyi genişlet",collapseCategory:"Kategoriyi daralt",dragCategory:"Kategori sırasını değiştirmek için sürükle",accessibility:{categoryActions:"Kategori işlemleri",productCount:"Ürün sayısı",expandToggle:"Kategori genişletme durumunu değiştir",editCategoryButton:"Kategoriyi düzenle",deleteCategoryButton:"Kategoriyi sil",dragHandle:"Kategori sırasını değiştirmek için sürükleme kolu",categoryCard:"Kategori kartı",emptyCategory:"Boş kategori",reorderingStatus:"Kategori yeniden sıralanıyor"}},SortableProduct:{outOfStock:"Stokta Yok",loadingIngredients:"Malzemeler yükleniyor...",ingredients:"Malzemeler",noIngredients:"Malzeme eklenmemiş",loadingAddons:"Eklentiler yükleniyor...",addons:"Eklentiler",noAddons:"Eklenti eklenmemiş",manageAddons:"Eklentileri yönet",editProduct:"Ürünü düzenle",deleteProduct:"Ürünü sil",dragProduct:"Ürün sırasını değiştirmek için sürükle",allergenic:"Alerjen içerir",recommended:"Önerilen",price:"Fiyat",errors:{loadingIngredients:"Malzemeler yüklenirken bir hata oluştu.",loadingAddons:"Eklentiler yüklenirken bir hata oluştu."},accessibility:{productImage:"Ürün resmi",productCard:"Ürün kartı",productActions:"Ürün işlemleri",dragHandle:"Ürün sırasını değiştirmek için sürükleme kolu",outOfStockBadge:"Ürün stokta yok",ingredientsList:"Ürün malzemeleri listesi",addonsList:"Ürün eklentileri listesi",allergenWarning:"Alerjen içerir",recommendedAddon:"Önerilen eklenti",editButton:"Ürünü düzenle",deleteButton:"Ürünü sil",addonsButton:"Ürün eklentilerini yönet"}},IngredientsContent:{searchPlaceholder:"Malzemeleri ara...",filter:"Filtrele",sort:"Sırala",newIngredient:"Yeni Malzeme",ingredientName:"Malzeme Adı",status:"Durum",allergenInfo:"Alerjen Bilgisi",actions:"İşlemler",available:"Kullanılabilir",unavailable:"Kullanılamaz",containsAllergens:"Alerjen İçerir",noAllergens:"Alerjen İçermez",edit:"Düzenle",delete:"Sil",noIngredientsFound:"Arama kriterlerine uygun malzeme bulunamadı.",noIngredientsYet:"Henüz malzeme eklenmemiş.",deleteIngredient:"Malzeme Sil",deleteConfirmMessage:'"{name}" malzemesini silmek istediğinizden emin misiniz?',deleteError:"Silme işlemi sırasında bir hata oluştu. Lütfen tekrar deneyin.",cancel:"İptal",deleting:"Siliniyor...",editIngredient:"Malzeme Düzenle",addNewIngredient:"Yeni Malzeme Ekle",basicInfo:"Temel Bilgiler",ingredientNameRequired:"Malzeme adı gereklidir",enterIngredientName:"Malzeme adını girin",containsAllergensCheckbox:"Alerjen İçerir",availableForUse:"Kullanım İçin Uygun",allergenInfoContent:"Alerjen Bilgileri",selectAllergensMessage:"Bu malzemenin içerdiği alerjenleri seçin:",enableAllergenMessage:'Alerjen seçmek için önce "Alerjen İçerir" seçeneğini işaretleyin.',allergenDetails:"Alerjen Detayları",containsThisAllergen:"Bu alerjeni içerir",additionalNotes:"Ek notlar (isteğe bağlı)",updateError:"Malzeme güncellenirken bir hata oluştu.",createError:"Malzeme eklenirken bir hata oluştu.",updating:"Güncelleniyor...",adding:"Ekleniyor...",update:"Güncelle",add:"Ekle",accessibility:{ingredientsTable:"Malzeme yönetimi tablosu",searchInput:"Malzeme ara",filterButton:"Malzemeleri filtrele",sortButton:"Malzemeleri sırala",addButton:"Yeni malzeme ekle",editButton:"Malzemeyi düzenle",deleteButton:"Malzemeyi sil",ingredientCard:"Malzeme bilgi kartı",allergenSelection:"Alerjen seçimi",formModal:"Malzeme formu modalı",deleteModal:"Silme onay modalı",statusBadge:"Malzeme durumu",allergenBadge:"Alerjen bilgisi",closeModal:"Modalı kapat",dragToReorder:"Yeniden sıralamak için sürükle"}},TableCard:{active:"Aktif",inactive:"Pasif",occupied:"Dolu",empty:"Boş",capacity:"Kişi",capacityPlural:"Kişi",edit:"Düzenle",downloadQR:"QR Kodu İndir",disable:"Devre Dışı Bırak",enable:"Aktifleştir",delete:"Sil",viewQRCode:"QR Kodunu Görüntüle",moreOptions:"Daha fazla seçenek",accessibility:{tableCard:"Masa bilgi kartı",statusBadge:"Masa durumu",occupancyBadge:"Masa doluluk durumu",actionsMenu:"Masa işlemleri menüsü",qrCodePreview:"QR kod önizlemesi",editButton:"Masayı düzenle",downloadButton:"QR kodu indir",toggleButton:"Masa durumunu değiştir",deleteButton:"Masayı sil"}},QRCodeModal:{tableAddOption:"Masa Ekleme Seçeneği",howToAddTables:"Nasıl masa eklemek istiyorsunuz?",singleTable:"Tek Masa Ekle",bulkTable:"Toplu Masa Ekle",createSingleTable:"Tek bir masa oluştur",createMultipleTables:"Birden fazla masa oluştur",branchSelection:"Şube Seçimi",selectBranch:"Şube Seçin",branchRequired:"Gerekli",loadingBranches:"Şubeler yükleniyor...",editTable:"Masayı Düzenle",addSingleTable:"Tek Masa Ekle",tableName:"Masa Adı",tableNamePlaceholder:"Örn: Masa 1",autoNameNote:"Boş bırakılırsa otomatik isim verilir",tableCategory:"Masa Kategorisi",selectCategory:"Kategori Seçin",loadingCategories:"Kategoriler yükleniyor...",noCategories:"Kategori bulunamadı",capacity:"Kapasite",capacityPlaceholder:"Kişi sayısı",displayOrder:"Görünüm Sırası",displayOrderPlaceholder:"Sıralama için numara",autoOrderNote:"Boş bırakılırsa otomatik sıralama yapılır",tableActive:"Masa aktif olsun",addBulkTables:"Toplu Masa Ekle",categoryQuantities:"Kategori Bazında Masa Miktarları",addCategory:"Kategori Ekle",category:"Kategori",tableCount:"Masa Sayısı",allTablesActive:"Tüm masalar aktif olsun",tableSummary:"Oluşturulacak Masalar Özeti:",total:"Toplam",tables:"masa",cancel:"İptal",adding:"Ekleniyor...",addTable:"Masa Ekle",update:"Güncelle",updating:"Güncelleniyor...",creating:"Oluşturuluyor... ({count} masa)",createTables:"{count} Masa Oluştur",branchRequiredValidation:"Şube seçimi gereklidir",categoryRequired:"En az bir kategori gereklidir",accessibility:{modal:"Masa oluşturma modalı",stepSelection:"Masa oluşturma yöntemi seçimi",branchSelector:"Şube seçimi dropdown",categorySelector:"Masa kategorisi seçimi",tableForm:"Masa oluşturma formu",bulkForm:"Toplu masa oluşturma formu",backButton:"Önceki adıma dön",closeButton:"Modalı kapat"}},TableCategoryModal:{title:"Masa Kategorisi Ekle",subtitle:"Yeni masa kategorisi oluşturun",categoryName:"Kategori Adı",categoryNamePlaceholder:"Örn: VIP Masalar, Bahçe Masaları",description:"Açıklama (Opsiyonel)",descriptionPlaceholder:"Kategori hakkında kısa açıklama...",colorSelection:"Renk Seçimi",customColor:"Özel renk",iconSelection:"Icon Seçimi",branchSelection:"Şube Seçimi",cancel:"İptal",addCategory:"Kategori Ekle",saving:"Kaydediliyor...",table:"Masa",chair:"Sandalye",service:"Servis",label:"Etiket",layer:"Katman",categoryNameRequired:"Kategori adı gereklidir",iconRequired:"Bir icon seçmelisiniz",branchRequired:"Şube seçimi gereklidir",invalidData:"Geçersiz veri gönderildi",unauthorized:"Yetkiniz bulunmuyor. Lütfen tekrar giriş yapın.",forbidden:"Bu işlem için yetkiniz bulunmuyor.",branchNotFound:"Seçilen şube bulunamadı.",serverError:"Sunucu hatası oluştu. Lütfen daha sonra tekrar deneyin.",unexpectedError:"Kategori eklenirken beklenmeyen bir hata oluştu",accessibility:{modal:"Masa kategorisi oluşturma modalı",colorPalette:"Renk seçimi paleti",colorPreset:"Hazır renk seçeneği",customColorPicker:"Özel renk seçici",iconGrid:"Icon seçimi grid",iconOption:"Icon seçeneği",branchDropdown:"Şube seçimi dropdown",form:"Kategori oluşturma formu"}},AddQRCodeCard:{title:"Yeni Masa Ekle",subtitle:"Yeni masa eklemek için tıklayın",accessibility:{addButton:"Yeni masa ekle butonu",addCard:"Yeni masa ekle kartı"}},userManagementPage:{title:"Kullanıcı Yönetimi",loading:"Yükleniyor...",error:{title:"Hata",loadFailed:"Kullanıcılar yüklenirken hata oluştu",rolesLoadFailed:"Roller yüklenirken hata oluştu",retry:"Tekrar Dene",createUserFailed:"Kullanıcı oluşturulamadı",createRoleFailed:"Rol oluşturulamadı"},stats:{total:"Toplam",active:"Aktif",users:"kullanıcı",roles:"rol",system:"Sistem",custom:"Özel",totalUsers:"Toplam Kullanıcı",owner:"Sahip",manager:"Müdür",staff:"Personel"},tabs:{users:"Kullanıcılar",roles:"Roller"},controls:{search:"Kullanıcı, email veya telefon ara...",searchRoles:"Rol, açıklama veya kategori ara...",filterAll:"Tüm Kategoriler",filterOwner:"Restoran Sahibi",filterManager:"Şube Müdürü",filterStaff:"Personel",filterActive:"Aktif Kullanıcılar",filterInactive:"Pasif Kullanıcılar",addUser:"Kullanıcı Ekle",addRole:"Rol Ekle"},table:{user:"Kullanıcı",contact:"İletişim",roles:"Roller",location:"Restoran/Şube",status:"Durum",registrationDate:"Kayıt Tarihi",actions:"İşlemler",role:"Rol",description:"Açıklama",statistics:"İstatistikler",position:"Konum"},status:{active:"Aktif",inactive:"Pasif",enabled:"Etkin",disabled:"Devre Dışı",systemRole:"Sistem Rolü"},roleTypes:{RestaurantOwner:"Sahip",BranchManager:"Müdür",Staff:"Personel"},actions:{viewDetails:"Detayları Görüntüle",edit:"Düzenle",activate:"Aktifleştir",deactivate:"Devre Dışı Bırak"},noResults:{usersNotFound:"Kullanıcı Bulunamadı",rolesNotFound:"Rol Bulunamadı",usersEmpty:"Henüz kullanıcı eklenmemiş.",rolesEmpty:"Henüz rol eklenmemiş.",searchEmpty:"Arama kriterlerinize uygun kullanıcı bulunamadı.",searchEmptyRoles:"Arama kriterlerinize uygun rol bulunamadı."},createRole:{title:"Yeni Rol Oluştur",basicInfo:"Temel Bilgiler",roleName:"Rol Adı",roleNamePlaceholder:"Örn: Şube Müdürü",category:"Kategori",categoryPlaceholder:"Örn: Yönetim",description:"Açıklama",descriptionPlaceholder:"Rolün görev ve sorumluluklarını açıklayın...",restaurantId:"Restoran ID",restaurantIdPlaceholder:"Varsayılan: Mevcut restoran",branchId:"Şube ID",branchIdPlaceholder:"Boş: Tüm şubeler",isActive:"Rol aktif olsun",permissions:"İzinler",permissionsSelected:"seçildi",cancel:"İptal",create:"Rol Oluştur",creating:"Oluşturuluyor...",validation:{nameRequired:"Rol adı en az 3 karakter olmalıdır",nameMaxLength:"Rol adı en fazla 50 karakter olabilir",descriptionMaxLength:"Açıklama en fazla 200 karakter olabilir",categoryMaxLength:"Kategori en fazla 50 karakter olabilir"}},createUser:{title:"Yeni Kullanıcı Oluştur",personalInfo:"Kişisel Bilgiler",contactInfo:"İletişim Bilgileri",passwordInfo:"Şifre Bilgileri",locationInfo:"Konum Bilgileri",roleAssignment:"Yetki ve Rol Ataması",firstName:"Ad",firstNamePlaceholder:"Örn: Ahmet",lastName:"Soyad",lastNamePlaceholder:"Örn: Yılmaz",userName:"Kullanıcı Adı",userNamePlaceholder:"Otomatik oluşturulacak",userNameHint:"Boş bırakılırsa otomatik olarak ad.soyad formatında oluşturulacak",email:"Email",emailPlaceholder:"ahmet@example.com",phone:"Telefon",phonePlaceholder:"+90 555 123 4567",password:"Şifre",passwordPlaceholder:"En az 6 karakter",passwordConfirm:"Şifre Tekrarı",passwordConfirmPlaceholder:"Şifrenizi tekrar giriniz",locationType:"Konum Türü",restaurant:"Restoran",branch:"Şube",restaurantId:"Restoran ID",restaurantIdPlaceholder:"Örn: 123",branchId:"Şube ID",branchIdPlaceholder:"Örn: 456",profileImage:"Profil Resmi URL",profileImagePlaceholder:"https://example.com/avatar.jpg",userCreatorId:"Oluşturan Kullanıcı ID",userCreatorIdPlaceholder:"Mevcut kullanıcı ID",assignmentType:"Atama Türü",rolesSelection:"Mevcut Rollerden Seçim (Önerilen)",permissionsSelection:"Doğrudan İzin Seçimi (Şu anda desteklenmiyor)",apiWarning:"⚠️ API sadece rol tabanlı kullanıcı oluşturmayı destekliyor. Önce rol oluşturup, sonra kullanıcıya atayın.",rolesLabel:"Roller",rolesSelected:"seçildi",noRoles:{title:"Henüz rol tanımlanmamış",description:"Kullanıcı oluşturmadan önce roller sekmesinden rol oluşturun",tip:'💡 İpucu: Önce "Roller" sekmesine geçerek gerekli rolleri oluşturun',warning:"Rol Gerekli",warningDescription:'Kullanıcı oluşturmak için en az bir rol tanımlanmalı. "Roller" sekmesinden yeni rol oluşturabilirsiniz.'},isActive:"Kullanıcı aktif olsun",cancel:"İptal",create:"Kullanıcı Oluştur",creating:"Oluşturuluyor...",createRoleFirst:"Önce Rol Oluşturun",validation:{nameRequired:"Ad alanı zorunludur",nameMaxLength:"Ad en fazla 50 karakter olabilir",surnameRequired:"Soyad alanı zorunludur",surnameMaxLength:"Soyad en fazla 50 karakter olabilir",emailRequired:"Email alanı zorunludur",emailInvalid:"Geçerli bir email adresi giriniz",passwordRequired:"Şifre en az 6 karakter olmalıdır",passwordMaxLength:"Şifre en fazla 100 karakter olabilir",passwordConfirmRequired:"Şifre tekrarı zorunludur",passwordMismatch:"Şifreler eşleşmiyor",phoneRequired:"Telefon numarası zorunludur",restaurantIdRequired:"Geçerli bir restoran ID giriniz",branchIdRequired:"Geçerli bir şube ID giriniz",rolesRequired:"En az bir rol seçmelisiniz",permissionsNotSupported:"API sadece rol tabanlı kullanıcı oluşturmayı destekliyor. Lütfen mevcut rollerden birini seçin."}},roleDetails:{userCount:"Kullanıcı Sayısı",permissionCount:"İzin Sayısı",restaurant:"Restoran",branch:"Şube",noDescription:"Açıklama bulunmuyor",users:"kullanıcı",permissions:"izin"},permissionCategories:{UserManagement:"Kullanıcı Yönetimi",RestaurantManagement:"Restoran Yönetimi",BranchManagement:"Şube Yönetimi",OrderManagement:"Sipariş Yönetimi",ProductManagement:"Ürün Yönetimi",Analytics:"Analitik"},success:{userCreated:"Kullanıcı başarıyla oluşturuldu",roleCreated:"Rol başarıyla oluşturuldu",userUpdated:"Kullanıcı başarıyla güncellendi",roleUpdated:"Rol başarıyla güncellendi"}},BranchtableManagement:{title:"Masa Yönetimi",subtitle:"Restoran masalarınızı ve kategorilerinizi yönetin",tabs:{tables:"Masalar",categories:"Kategoriler",statistics:"İstatistikler",batchCreate:"Toplu Oluştur"},buttons:{addTable:"Masa Ekle",addCategory:"Kategori Ekle",batchCreate:"Toplu Oluştur",edit:"Düzenle",delete:"Sil",save:"Kaydet",cancel:"İptal",refresh:"Yenile",selectAll:"Tümünü Seç",clearSelection:"Seçimi Temizle",export:"Dışa Aktar",import:"İçe Aktar"},labels:{tableName:"Masa Adı",category:"Kategori",capacity:"Kapasite",status:"Durum",occupation:"Doluluk",displayOrder:"Görüntüleme Sırası",search:"Masalarda ara...",filterByCategory:"Kategoriye Göre Filtrele",viewMode:"Görünüm Modu",totalTables:"Toplam Masa",activeTables:"Aktif Masalar",occupiedTables:"Dolu Masalar",availableTables:"Boş Masalar"},status:{active:"Aktif",inactive:"Pasif",occupied:"Dolu",available:"Boş",outOfService:"Hizmet Dışı"},actions:{markOccupied:"Dolu Olarak İşaretle",markAvailable:"Boş Olarak İşaretle",activate:"Aktifleştir",deactivate:"Pasifleştir",viewDetails:"Detayları Görüntüle"},messages:{tableCreated:"Masa başarıyla oluşturuldu",tableUpdated:"Masa başarıyla güncellendi",tableDeleted:"Masa başarıyla silindi",statusUpdated:"Durum başarıyla güncellendi",error:"Bir hata oluştu",noTables:"Masa bulunamadı",confirmDelete:"Bu masayı silmek istediğinizden emin misiniz?",loading:"Yükleniyor...",saving:"Kaydediliyor...",deleting:"Siliniyor..."},statistics:{title:"Masa İstatistikleri",occupancyRate:"Doluluk Oranı",averageCapacity:"Ortalama Kapasite",categoryBreakdown:"Kategori Dağılımı",dailyOccupancy:"Günlük Doluluk",peakHours:"Yoğun Saatler"},forms:{createTable:"Yeni Masa Oluştur",editTable:"Masayı Düzenle",batchCreateTables:"Birden Fazla Masa Oluştur",quantity:"Miktar",namePrefix:"Ad Öneki",startingNumber:"Başlangıç Numarası"}},BranchTableManagement:{clearTable:"Tablo temizleniyor",refreshTable:"Durumu güncelle",clearin:"Temizleniyor...",loading:"Yükleniyor...",category:"Kategori",SelectCategory:"Kategori Seçin",Quantity:"Miktar",Capacity:"Kapasite",createTables:"Tablolar Oluşturuluyor...",creatingTables:"Tablolar Oluşturuluyor...",multiCategory:"Farklı kategorilerde aynı anda birden fazla tablo oluşturun",batchCreateTables:"Toplu Tablo Oluştur",header:"Category & Table Management",subheader:"Manage restaurant categories and tables with accordion view",totalCategories:"Total Categories",totalTables:"Total Tables",occupiedTables:"Occupied Tables",availableTables:"Available Tables",searchPlaceholder:"Search categories...",refresh:"Refresh",addCategory:"Add Category",addCategoryTitle:"Add New Category",categoryNameLabel:"Category Name",categoryNamePlaceholder:"Enter category name",colorLabel:"Color",iconLabel:"Icon",save:"Save",cancel:"Cancel",noCategories:"No categories found",addFirstCategory:"Add Your First Category",tablesCount:"tables",status:"Status",active:"Active",inactive:"Inactive",occupation:"Occupation",occupied:"Occupied",available:"Available",addTable:"Add Table",tableNamePlaceholder:"Table name",capacityPlaceholder:"Capacity",noTables:"No tables in this category",qrCodeTitle:"QR Code - {tableName}",qrCodeDescription:"Scan this QR code to access the table menu",downloadQR:"Download QR Code",downloading:"Downloading...",copyQRUrl:"Copy QR URL",copied:"Copied!",success:{tableCleared:"{{tableName}} tablosu temizlendi ve artık kullanılabilir",tableOccupied:"{{tableName}} tablosunun durumu 'dolu' olarak güncellendi",tableClearedGeneric:"Tablo başarıyla temizlendi",tableStatusUpdated:"Tablo durumu başarıyla güncellendi",categoryAdded:"Category added successfully",categoryUpdated:"Category updated successfully",categoryDeleted:"Category deleted successfully",tableAdded:"Table added successfully",tableUpdated:"Table updated successfully",tableDeleted:"Table deleted successfully",categoryActivated:"Category activated successfully",categoryDeactivated:"Category deactivated successfully",tableActivated:"Table activated successfully",tableDeactivated:"Table deactivated successfully",tableAvailable:"Table marked as available",dataRefreshed:"Data refreshed successfully"},error:{clearTableFailed:"Tablo temizlenemedi. Lütfen tekrar deneyin.",fetchCategoriesFailed:"Failed to fetch categories",fetchTablesFailed:"Failed to fetch tables",categoryNameRequired:"Category name is required",addCategoryFailed:"Failed to add category",updateCategoryFailed:"Failed to update category",deleteCategoryFailed:"Failed to delete category",categoryHasTables:"Cannot delete category with existing tables",categoryNotFound:"Category not found",addTableFailed:"Failed to add table",updateTableFailed:"Failed to update table",deleteTableFailed:"Failed to delete table",tableNameRequired:"Table name is required",tableNotFound:"Table not found",updateCategoryStatusFailed:"Failed to update category status",updateTableStatusFailed:"Failed to update table status",updateTableOccupationFailed:"Failed to update table occupation",refreshFailed:"Failed to refresh data"}},branchManagementBranch:{title:"Şube Yönetimi",description:"Şube bilgilerinizi ve ayarlarınızı yönetin.",loading:"Şube bilgileri yükleniyor...",noBranchFound:"Herhangi bir şube bulunamadı",uploadLogo:"Logoyu Yükle",status:{open:"Açık",closed:"Kapalı",temporarilyClosed:"Geçici Kapalı",reopenBranch:"Şubeyi Aç",temporaryClose:"Geçici Kapat"},actions:{edit:"Düzenle",save:"Kaydet",cancel:"İptal",delete:"Sil",deleting:"Siliniyor...",confirmDelete:"Silmeyi Onayla",deleteWarning:"Bu şubeyi silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.",onlineMenu:"Çevrimiçi Menüye Git"},basicInfo:{title:"Temel Bilgiler",branchName:"Şube Adı",whatsappNumber:"WhatsApp Numarası",email:"E-posta",notSpecified:"Belirtilmemiş"},addressInfo:{title:"Adres Bilgileri",country:"Ülke",city:"Şehir",street:"Sokak",postalCode:"Posta Kodu",region:"Bölge"},workingHours:{title:"Çalışma Saatleri",workingDay:"Çalışma günü",openTime:"Açılış Saati",closeTime:"Kapanış Saati",noWorkingHours:"Çalışma saatleri belirtilmemiş",days:{0:"Pazar",1:"Pazartesi",2:"Salı",3:"Çarşamba",4:"Perşembe",5:"Cuma",6:"Cumartesi"}},messages:{updateSuccess:"Şube bilgileri başarıyla güncellendi",deleteSuccess:"Şube başarıyla silindi",temporaryCloseSuccess:"Şube geçici olarak kapatıldı",reopenSuccess:"Şube tekrar açıldı",updateError:"Güncelleme sırasında hata oluştu",deleteError:"Silme işlemi sırasında hata oluştu",statusChangeError:"Durum değiştirme sırasında hata oluştu",loadError:"Şube bilgileri yüklenirken hata oluştu"},placeholders:{branchName:"Şube adını girin",whatsappNumber:"WhatsApp numarasını girin",email:"E-posta adresini girin",country:"Ülke adını girin",city:"Şehir adını girin",street:"Sokak adını girin",postalCode:"Posta kodunu girin",region:"Bölge adını girin"}},branchCategories:{header:"Şube Kategori Yönetimi",subheader:" Şubesi için kategorileri ve ürünleri yönet",lastUpdated:"Son Güncelleme",stats:{availableCategories:"Mevcut Kategoriler",readyToAdd:"Eklemeye hazır",activeCategories:"Aktif Kategoriler",currentlyInBranch:"Şu anda şubede",selectedCategories:"Seçilen Kategoriler",toBeAdded:"Eklenecek",selectedProducts:"Seçilen Ürünler",fromCategories:"Kategorilerden",avalibleAddons:"Mevcut Eklentiler"},tabs:{addNew:"Yeni Ekle",manageExisting:"Mevcut Olanları Yönet"},steps:{chooseCategories:"Kategori Seç",selectProducts:"Ürün Seç",reviewAdd:"İncele ve Ekle",finalStep:"Son adım",selected:"seçili",back:"Geri"},addCategories:{title:"Kategori Seç",subtitle:"Şubenize eklemek istediğiniz kategorileri seçin",noAvailable:"Mevcut kategori yok",allAdded:"Mevcut tüm kategoriler bu şubeye eklenmiş",categoriesSelected:"kategori seçildi",clearSelection:"Seçimi Temizle",nextSelectProducts:"Sonraki: Ürün Seç"},selectProducts:{title:"Ürün Seç",subtitle:"Seçilen kategorilerden ürünleri seçin",selectAll:"Tümünü Seç",clearAll:"Tümünü Temizle",noProducts:"Ürün bulunamadı",selected:"seçildi",noProductsInCategories:"Seçilen kategorilerde herhangi bir ürün yok",available:"mevcut",productsSelectedFrom:"ürün seçildi",categories:"kategoriden",reviewSelection:"Seçimi İncele"},review:{title:"İncele ve Ekle",subtitle:"Şubeye eklemeden önce seçiminizi inceleyin",of:"/",productsSelected:"ürün seçildi",all:"Tüm",productsWillBeAdded:"ürün eklenecek",totalValue:"Toplam değer",selectedProducts:"Seçilen Ürünler",readyToAdd:"Eklemeye hazır",with:"ile",availableInBranch:"Şubede Mevcut",startOver:"Baştan Başla",adding:"Ekleniyor...",addToBranch:"Şubeye Ekle"},manage:{title:"Mevcut Kategorileri Yönet",subtitle:"Şubenizdeki kategorileri ve ürünleri yönetin",saving:"Kaydediliyor...",saveOrder:"Sırayı Kaydet",exitReorder:"Sıralamadan Çık",reorder:"Yeniden Sırala",noCategoriesAdded:"Hiç kategori eklenmemiş",noCategoriesAddedDesc:"Bu şubeye henüz hiç kategori eklenmemiş",addCategories:"Kategori Ekle",original:"Orijinal:",added:"eklendi",available:"mevcut",total:"Toplam",active:"Aktif",inactive:"Pasif",protected:"Korumalı"},products:{inCategory:"Kategorideki Ürünler",added:"Eklendi",available:"Mevcut",ingredients:"içerik",allergens:"alerjen",viewDetails:"Detayları Görüntüle",removeFromBranch:"Şubeden Kaldır",addToBranch:"Şubeye Ekle",addedToBranch:"şubeye eklenen ürün",moreAvailableToAdd:"daha eklenebilir",withDetailedInfo:"detaylı bilgili",products:"ürün"},productDetails:{addedToBranch:"Şubeye Eklendi",allergens:"Alerjenler",contains:"İçerir",mayContain:"İçerebilir",ingredients:"İçerikler",allergenic:"Alerjenik",available:"Mevcut",unavailable:"Mevcut Değil",quantity:"Miktar:",ingredientId:"İçerik ID:",allergenInformation:"Alerjen Bilgisi:",additionalInformation:"Ek Bilgiler",originalProduct:"Orijinal Ürün",originalPrice:"Orijinal Fiyat:",originalStatus:"Orijinal Durum:",originalDisplayOrder:"Orijinal Görüntü Sırası:",orderDetails:"Sipariş Detayları",lastUpdated:"Son Güncelleme:",close:"Kapat"},actions:{refresh:"Yenile",delete:"Sil",edit:"Düzenle",save:"Kaydet",cancel:"İptal",confirm:"Onayla",loading:"Yükleniyor..."},search:{categories:"Kategorilerde ara...",products:"Ürünlerde ara..."},status:{active:"Aktif",inactive:"Restaurant tarafından devre dışı bırakıldı",available:"Mevcut",unavailable:"Mevcut Değil"},messages:{success:{categoryAdded:"Kategori başarıyla eklendi",categoryDeleted:"Kategori başarıyla silindi",productAdded:"{name} ürünü başarıyla eklendi",productRemoved:"{name} ürünü başarıyla kaldırıldı",orderSaved:"Kategori sırası başarıyla kaydedildi"},error:{cannotDelete:'"{name}" kategorisi {count} ürün içerdiği için silinemez. Lütfen önce tüm ürünleri kaldırın.',cannotDeleteTooltip:"Silinemez: Kategori {count} ürün içeriyor. Önce tüm ürünleri kaldırın.",productNotFound:"Ürün bulunamadı",addingProduct:"Ürün eklenirken hata",removingProduct:"Ürün kaldırılırken hata",savingOrder:"Sıra kaydedilirken hata",loadingCategories:"Kategoriler yüklenirken hata",loadingProducts:"Ürünler yüklenirken hata"}},deleteModal:{title:"Kategoriyi Sil",message:'"{name}" kategorisini silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.',confirm:"Sil",cancel:"İptal"},placeholders:{searchCategories:"Kategorilerde ara...",searchProducts:"Ürünlerde ara..."}},profile:{title:"Profil",personalInfo:"Kişisel Bilgiler",editProfile:"Profili Düzenle",accountStatus:{active:"Aktif Hesap",inactive:"Pasif Hesap",status:"Hesap Durumu"},fields:{firstName:"Ad",lastName:"Soyad",username:"Kullanıcı Adı",email:"E-posta",registrationDate:"Kayıt Tarihi",restaurantName:"Restoran Adı",status:"Durum"},restaurant:{info:"Restoran Bilgileri",name:"Restoran Adı",status:{active:"Aktif",inactive:"Pasif"}},permissions:{summary:"Yetki Özeti",totalCategories:"Toplam Kategori",totalPermissions:"Toplam İzin",rolesAndPermissions:"Kategoriler ve İzinler",systemRole:"Sistem Rolü"},categories:{Category:"Kategori Yönetimi",BranchCategory:"Şube Kategori Yönetimi",Product:"Ürün Yönetimi",BranchProduct:"Şube Ürün Yönetimi",BranchQRCode:"QR Kod Yönetimi",Order:"Sipariş Yönetimi",Restaurant:"Restoran Yönetimi",Branch:"Şube Yönetimi",Admin:"Yönetici İşlemleri"},permissionNames:{"category.create":"Kategori Oluşturma","category.delete":"Kategori Silme","category.update":"Kategori Güncelleme","category.read":"Kategori Görüntüleme","branch.category.create":"Şube Kategorisi Oluşturma","branch.category.delete":"Şube Kategorisi Silme","branch.category.update":"Şube Kategorisi Güncelleme","branch.category.read":"Şube Kategorisi Görüntüleme","product.create":"Ürün Oluşturma","product.delete":"Ürün Silme","product.update":"Ürün Güncelleme","product.read":"Ürün Görüntüleme","product.edit":"Ürün Düzenleme","branch.product.create":"Şube Ürünü Oluşturma","branch.product.delete":"Şube Ürünü Silme","branch.product.update":"Şube Ürünü Güncelleme","branch.product.read":"Şube Ürünü Görüntüleme","branch.qrcode.create":"QR Kodu Oluşturma","branch.qrcode.delete":"QR Kodu Silme","branch.qrcode.update":"QR Kodu Güncelleme","branch.qrcode.read":"QR Kodu Görüntüleme","order.create":"Sipariş Oluşturma","order.delete":"Sipariş Silme","order.update":"Sipariş Güncelleme","order.read":"Sipariş Görüntüleme","order.view":"Sipariş Detay Görüntüleme","order.cancel":"Sipariş İptal Etme","restaurant.create":"Restoran Oluşturma","restaurant.delete":"Restoran Silme","restaurant.update":"Restoran Güncelleme","restaurant.read":"Restoran Görüntüleme","restaurant.user.create":"Restoran Kullanıcısı Oluşturma","restaurant.user.delete":"Restoran Kullanıcısı Silme","restaurant.user.update":"Restoran Kullanıcısı Güncelleme","restaurant.user.read":"Restoran Kullanıcısı Görüntüleme","branch.create":"Şube Oluşturma","branch.delete":"Şube Silme","branch.update":"Şube Güncelleme","branch.read":"Şube Görüntüleme","branch.user.create":"Şube Kullanıcısı Oluşturma","branch.user.delete":"Şube Kullanıcısı Silme","branch.user.update":"Şube Kullanıcısı Güncelleme","branch.user.read":"Şube Kullanıcısı Görüntüleme","admin.api.control":"API Kontrolü"},error:{loadFailed:"Profil verisi alınamadı"}},addonModal:{title:"Eklentileri Yapılandır",loading:"Eklentiler yükleniyor...",refresh:"Yenile",search:{placeholder:"Eklentileri ad, açıklama veya kategoriye göre arayın..."},stats:{available:"Mevcut",assigned:"Atanmış",recommended:"Önerilen"},sections:{assignedAddons:"Atanmış Eklentiler",availableAddons:"Mevcut Eklentiler"},emptyState:{title:"Mevcut eklenti yok",description:"Bu ürün için eklenti kombinasyonları tanımlamak için restoran yönetimiyle iletişime geçin",productId:"Ürün ID:"},actions:{add:"Ekle",remove:"Kaldır",configure:"Yapılandır",done:"Tamam",saveChanges:"Değişiklikleri Kaydet"},status:{assigned:"ATANMIŞ",recommended:"Önerilen"},configuration:{title:"Yapılandırma Ayarları",specialPrice:"Özel Fiyat",maxQuantity:"Maksimum Miktar",minQuantity:"Minumum Miktar",marketingText:"Pazarlama Metni",markRecommended:"Önerilen olarak işaretle",placeholders:{marketingText:"örn., Popüler seçim, En iyi değer, Müşteri favorisi..."}},messages:{success:{addonAdded:"Eklenti başarıyla eklendi",addonRemoved:"Eklenti başarıyla kaldırıldı",addonUpdated:"Eklenti başarıyla güncellendi"},errors:{loadFailed:"Ürün eklentileri yüklenemedi",updateFailed:"Eklenti ataması güncellenemedi",propertiesFailed:"Eklenti özellikleri güncellenemedi"}},footer:{summary:"of",addon:"eklenti",addons:"eklenti",assigned:"atanmış"}},menu:{title:"Menü",basePrice:"Temel Fiyat",loading:"Menü Yükleniyor",allergens:"Alerjen Bilgisi",quantity:"Miktar",addons:"Eklentiler",product:"Ürün",addToBasket:"Sepete Ekle",loadingSubtitle:"Lezzetli seçimlerimizi sizin için hazırlıyoruz...",error:{title:"Menü Mevcut Değil",tryAgain:"Tekrar Dene"},search:{placeholder:"Lezzetli yemekler ara..."},categories:"Kategoriler",ingredients:"Malzemeler",open:"Açık",closed:"Kapalı",chefsChoice:"Şef'in Önerisi",add:"Ekle",remove:"Kaldır",items:"öğe",item:"öğe",available:"mevcut",deliciousItems:"lezzetli",exploreMenu:"Menümüzü Keşfedin",noResults:"Sonuç bulunamadı",noResultsDesc:"Farklı anahtar kelimeler deneyin veya diğer kategorilere göz atın",noItemsCategory:"Bu kategoride öğe yok",noItemsCategoryDesc:"Lezzetli seçenekler için diğer kategorileri kontrol edin",selectCategory:"Özenle hazırlanmış mutfak tekliflerimizi keşfetmeye başlamak için bir kategori seçin",whyChooseUs:{title:"Neden Bizi Seçmelisiniz?",subtitle:"Kalite, tazelik ve olağanüstü hizmet taahhüdümüzle mutfak mükemmelliğini deneyimleyin",freshIngredients:{title:"Taze Malzemeler",description:"Yerel kaynaklı, premium kalite malzemeler günlük hazırlanır"},fastDelivery:{title:"Hızlı Teslimat",description:"Kapınıza hızlı ve güvenilir teslimat hizmeti"},qualityAssured:{title:"Kalite Garantisi",description:"Titiz kalite kontrol ve hijyen standartları"},expertChefs:{title:"Uzman Şefler",description:"Unutulmaz deneyimler yaratan deneyimli mutfak profesyonelleri"}},footer:{brand:"MenuHub",description:"Seçkin restoran ve lezzetli mutfak seçkimizle olağanüstü yemek deneyimleri keşfedin.",quickLinks:"Hızlı Bağlantılar",services:"Hizmetler",getInTouch:"İletişime Geçin",visitUs:"Bizi Ziyaret Edin",callUs:"Bizi Arayın",emailUs:"Bize Mail Gönderin",copyright:"Tüm hakları saklıdır.",privacyPolicy:"Gizlilik Politikası",termsOfService:"Hizmet Şartları",poweredBy:"Destekleyen",links:{ourMenu:"Menümüz",aboutUs:"Hakkımızda",locations:"Lokasyonlar",reservations:"Rezervasyonlar",specialOffers:"Özel Teklifler",giftCards:"Hediye Kartları"},services:{onlineOrdering:"Online Sipariş",tableBooking:"Masa Rezervasyonu",privateEvents:"Özel Etkinlikler",catering:"Catering",takeaway:"Paket Servis",corporateMeals:"Kurumsal Yemekler"}},cart:{title:"Sepet",orderType:"Sipariş Türü:",table:"Masa:",notes:"Notlar:",refresh:"Yenile",refreshing:"Yenileniyor...",remove:"Kaldır",empty:"Sepetiniz boş",newOrder:"Yeni Sipariş",orders:"Siparişler",placeOrder:"Sipariş Ver",emptyDesc:"Sepetinize ürün ekleyerek başlayın",total:"Toplam",proceed:"Siparişe Geç",processing:"İşleniyor...",clear:"Sepeti Temizle",item:"ürün",items:"ürün",variant:"varyant",variants:"varyant",plain:"Sade",customized:"Özelleştirilmiş",addons:"Ekstralar",variantTotal:"Varyant Toplam",quantity:"Miktar",each:"adet",min:"Min",max:"Maks",qty:"Adet",minQuantityError:"{name} için minimum miktar {min}",maxQuantityError:"{name} için maksimum miktar {max}",decreaseQuantity:"Miktarı azalt",increaseQuantity:"Miktarı artır",creating_order:"Sipariş oluşturuluyor...",order_created_success:"Sipariş başarıyla oluşturuldu!",order_creation_failed:"Sipariş oluşturulamadı. Lütfen tekrar deneyin.",sending_whatsapp:"WhatsApp mesajı gönderiliyor...",whatsapp_sent_success:"WhatsApp mesajı başarıyla gönderildi!",whatsapp_send_failed:"WhatsApp mesajı gönderilemedi",clearing_basket:"Sepet temizleniyor...",basket_cleared:"Sepet başarıyla temizlendi!",clear_basket_failed:"Sepet temizlenemedi",load_order_types_failed:"Sipariş türleri yüklenemedi",confirming_price_changes:"Fiyat değişiklikleri onaylanıyor...",price_changes_confirmed:"Fiyat değişiklikleri başarıyla onaylandı!",price_changes_failed:"Fiyat değişiklikleri onaylanamadı",session_required:"Oturum kimliği gerekli"}},order:{form:{title:"Sipariş Detayları",orderType:"Sipariş Türü",paymentMethod:"Ödeme Yöntemi",name:"İsim",address:"Adres",phone:"Telefon",specialInstructions:"Özel Talimatlar",paymentMethods:"Ödeme Yöntemleri",cashDescription:"Nakit ödeme teslimatta yapılacak",creditCardDescription:"Kredi kartı ile çevrimiçi ödeme",onlinePaymentDescription:"Çevrimiçi ödeme portalı üzerinden ödeme",otherDescription:"Diğer ödeme yöntemleri hakkında restoranla iletişime geçin",paymentMethodRequired:"Ödeme yöntemi gerekli",selectPaymentMethod:"Ödeme Yöntemini seçin...",cash:"Nakit",creditCard:"Kredi Kartı",onlinePayment:"Online Ödeme",other:"Diğer",information:"Bilgi",orderTypeRequired:"Sipariş türü gerekli",selectOrderType:"Sipariş türünü seçin...",orderInformation:"Sipariş Bilgileri",customerName:"Müşteri Adı",customerNameRequired:"Müşteri adı gerekli",customerNamePlaceholder:"Müşteri adını girin",deliveryAddress:"Teslimat Adresi",deliveryAddressRequired:"Bu sipariş türü için teslimat adresi gerekli",deliveryAddressPlaceholder:"Teslimat adresini girin",phoneNumber:"Telefon Numarası",phoneNumberRequired:"Bu sipariş türü için telefon numarası gerekli",phoneNumberPlaceholder:"Telefon numarasını girin",specialInstructionsPlaceholder:"Siparişiniz için özel talimatlar...",orderSummary:"Sipariş Özeti",subtotal:"Ara Toplam",serviceCharge:"Servis Ücreti",minimumRequired:"Minimum gerekli",estimatedTime:"Tahmini süre",minutes:"dakika",backToCart:"Sepete Geri Dön",createOrder:"Sipariş Oluştur",creating:"Oluşturuluyor...",loadingOrderTypes:"Sipariş türleri yükleniyor...",noOrderTypes:"Mevcut sipariş türü yok. Lütfen destek ile iletişime geçin.",minimumOrder:"Minimum sipariş",service:"servis",minimumOrderError:"{type} için minimum sipariş tutarı ${amount}. Mevcut toplam: ${current}"},validation:{fixErrors:"Lütfen aşağıdaki hataları düzeltin:",customerNameRequired:"Müşteri adı gerekli",orderTypeRequired:"Lütfen bir sipariş türü seçin",addressRequired:"Bu sipariş türü için teslimat adresi gerekli",phoneRequired:"Bu sipariş türü için telefon numarası gerekli"}},priceChange:{title:"Fiyat Değişiklikleri Tespit Edildi",description:"Sepetinizdeki bazı ürünlerin fiyat değişiklikleri var ve siparişe devam etmeden önce onaylanması gerekiyor.",changesRequired:"Gerekli Değişiklikler:",defaultMessage:"Devam etmek için fiyat güncellemelerinin onaylanması gerekiyor.",cancel:"İptal",confirm:"Onayla ve Devam Et",confirming:"Onaylanıyor..."},productModal:{customizeOrder:"Siparişinizi Özelleştirin",allergenInformation:"Alerjen Bilgileri",ingredients:"İçindekiler",availableAddons:"Mevcut Ekstralar",add:"Ekle",recommended:"Önerilen",min:"Minimum",max:"Maksimum",orderSummary:"Sipariş Özeti",quantity:"Miktar",total:"Toplam",addToCart:"Sepete Ekle",addons:"Ekstralar"},errors:{loadingBasket:"Sepet yüklenemedi",loadingOrderTypes:"Sipariş türleri yüklenemedi",removingItem:"Ürün sepetten kaldırılamadı",increasingQuantity:"Ürün miktarı artırılamadı",decreasingQuantity:"Ürün miktarı azaltılamadı",increasingAddonQuantity:"Ekstra miktarı artırılamadı",clearingBasket:"Sepet temizlenemedi",creatingOrder:"Sipariş oluşturulamadı",orderAlreadyProcessing:"Bu sipariş zaten işleniyor",priceChangeDetails:"Fiyat değişikliği detayları yüklenemedi",confirmingPriceChanges:"Fiyat değişiklikleri onaylanamadı",sessionIdRequired:"Fiyat değişikliği onayı için oturum kimliği gerekli",addonProductNotFound:"Ekstra ürün kimliği bulunamadı",cartItemNotFound:"Sepet ürünü bulunamadı"},ordersManager:{total:"Toplam",subTotal:"Ara Toplam",filtered:"Filtrelenen",clearFilters:"Filtreleri Temizle",serviceFeeApplied:"Servis ücreti",OrderType:"Sipariş Türü",DeliveryAddress:"Teslimat Adresi",OrderNotesInformation:"Sipariş Notları & Bilgiler",OrderMetadata:"Sipariş Meta Verisi",ItemCount:"Ürün Sayısı",TotalItems:"Toplam Ürünler",OrderTimeline:"Sipariş Zaman Çizelgesi",searchPlaceholder:"Burada Yaz",showAdvancedFilter:"Gelişmiş Filtreleri Göster",hideAdvancedFilter:"Gelişmiş Filtreleri Gizle",of:"in",orders:"siparişler",clearFilter:"Filtreleri Temizle",customerName:"Müşteri Adı",tableName:"Tablo Adı",orderType:"Sipariş Türü",minPrice:"Minimum Fiyat",maxPrice:"Maksimum Fiyat",Showing:"Gösteriliyor",to:"a",perpage:"Sayfa Başına",cancelOrder:"Siparişi İptal Et",cancelOrderConfirmation:"Siparişi iptal etmek istediğinizden emin misiniz?",deletedOrders:"Slienen Siparişler",title:"Sipariş Yönetimi",description:"Restoranınızın siparişlerini kolayca yönetin ve takip edin.",pendingOrders:"Bekleyen Siparişler",branchOrders:"Şube Siparişleri",allStatuses:"Tüm Durumlar",statusFilter:"Durum Filtresi",noOrders:"Henüz  sipariş yok.",customer:"Müşteri",orderNumber:"Sipariş No",status:"Durum",table:"Masa",amount:"Tutar",date:"Tarih",actions:"İşlemler",viewDetails:"Detayları Görüntüle",confirm:"Onayla",reject:"Reddet",changeStatus:"Durum Değiştir",orderItems:"Sipariş Ürünleri",createdAt:"Oluşturulma",confirmedAt:"Onaylanma",rowVersion:"Row Version",confirmOrderTitle:"Siparişi Onayla",confirmOrderPrompt:"Bu siparişi onaylamak istediğinizden emin misiniz?",rejectOrderTitle:"Siparişi Reddet",rejectOrderPrompt:"Reddetme nedenini girin:",rejectReasonPlaceholder:"Reddetme nedeni...",updateStatusTitle:"Durumu Güncelle",updateStatusPrompt:"Sipariş durumunu {status} olarak güncellemek istediğinizden emin misiniz?",cancel:"İptal",confirmAction:"Onayla",rejectAction:"Reddet",updateActio:"Güncelle",confirming:"Onaylanıyor...",rejecting:"Reddediliyor...",updating:"Güncelleniyor...",orderDetailsTitle:"Sipariş Detayları",successNotification:"İşlem Başarılı",orderConfirmedSuccess:"Sipariş başarıyla onaylandı!",orderRejectedSuccess:"Sipariş başarıyla reddedildi!",orderStatusUpdatedSuccess:"Sipariş durumu başarıyla güncellendi!",errorInvalidStatusTransition:"Geçersiz durum geçişi: Lütfen önce siparişi onaylayın (Onaylandı durumuna geçin).",errorCannotConfirm:"Bu sipariş onaylanamaz. Mevcut durum: {currentStatus}.",quantity:"Miktar",unitPrice:"Birim Fiyat",addonPrice:"Ekstra Fiyat",notes:"Not",amountLabel:"Toplam Tutar",DeliveryInformation:"Teslimat Bilgileri",TableInformation:"Masa Bilgileri",CustomerInformation:"Müşteri Bilgileri",CustomerName:"Müşteri Adı",PhoneNumber:"Telefon Numarası",OrderTag:"Etiket",OrderNotes:"Sipariş Notları",MinOrderAmount:"Minimum Sipariş Tutarı",CompletedAt:"Tamamlanma Tarihi",time:"saat",Status:"Durum"},orderService:{statuses:{pending:"Bekliyor",confirmed:"Onaylandı",preparing:"Hazırlanıyor",ready:"Hazır",completed:"Tamamlandı",delivered:"Teslim Edildi",cancelled:"İptal Edildi",rejected:"Reddedildi",unknown:"Bilinmeyen"},errors:{createSessionOrder:"Session order oluşturulurken hata oluştu",getPendingOrders:"Pending orders getirilirken hata oluştu",getTableOrders:"Table orders getirilirken hata oluştu",getOrder:"Order getirilirken hata oluştu",getBranchOrders:"Branch orders getirilirken hata oluştu",confirmOrder:"Order onaylanırken hata oluştu",rejectOrder:"Order reddedilirken hata oluştu",updateOrderStatus:"Order status güncellenirken hata oluştu",trackOrder:"Order tracking getirilirken hata oluştu",getOrderTrackingQR:"Order tracking QR getirilirken hata oluştu",smartCreateOrder:"Smart order oluşturulurken hata oluştu",getTableBasketSummary:"Table basket summary getirilirken hata oluştu",validationError:"Doğrulama hatası: {errors}",invalidRequest:"Geçersiz istek. Lütfen verileri kontrol edin.",sessionExpired:"Oturum süreniz dolmuş. Lütfen tekrar giriş yapın.",unauthorized:"Bu işlem için yetkiniz bulunmuyor.",orderNotFound:"Sipariş bulunamadı.",invalidStatus:"Sipariş durumu bu işleme uygun değil.",noInternet:"İnternet bağlantınızı kontrol edin.",unknownError:"Bilinmeyen hata",getOrderTypeText:"Order type text getirme hatası",getOrderType:"Order type getirme hatası",getActiveOrderTypes:"Active order types getirme hatası",getAllOrderTypes:"All order types getirme hatası",orderTotalCalculation:"Order total calculation hatası",getEstimatedTime:"Estimated time getirme hatası",getOrderTypeByCode:"Order type by code getirme hatası",getOrderTypesForDisplay:"Order types for display getirme hatası",unknownOrderType:"Bilinmeyen Sipariş Türü"}},branchPreferences:{title:"Şube Tercihleri",description:"Şubeye özel ayarları ve tercihleri yapılandırın",loading:"Şube tercihleri yükleniyor...",saving:"Kaydediliyor...",refresh:"Yenile",saveChanges:"Değişiklikleri Kaydet",saveSuccess:"Şube tercihleri başarıyla kaydedildi!",cleanupModes:{afterTimeout:"Zaman Aşımından Sonra",afterClosing:"Kapatmadan Sonra",disabled:"Devre Dışı"},sections:{orderManagement:{title:"Sipariş Yönetimi",description:"Siparişlerin nasıl işlendiğini ve yönetildiğini yapılandırın",autoConfirmOrders:"Siparişleri Otomatik Onayla",autoConfirmOrdersDesc:"Gelen siparişleri manuel onay olmadan otomatik olarak onaylayın",useWhatsappForOrders:"Siparişler için WhatsApp",useWhatsappForOrdersDesc:"Sipariş bildirimleri için WhatsApp entegrasyonunu etkinleştirin"},displaySettings:{title:"Görüntü Ayarları",description:"Müşterilere hangi bilgilerin gösterileceğini yapılandırın",showProductDescriptions:"Ürün Açıklamalarını Göster",showProductDescriptionsDesc:"Müşterilere detaylı ürün açıklamalarını göster",enableAllergenDisplay:"Alerjen Bilgilerini Göster",enableAllergenDisplayDesc:"Alerjen uyarılarını ve bilgilerini göster",enableIngredientDisplay:"İçerikleri Göster",enableIngredientDisplayDesc:"Ürünler için içerik listelerini göster"},paymentMethods:{title:"Ödeme Yöntemleri",description:"Kabul edilen ödeme yöntemlerini yapılandırın",acceptCash:"Nakit Ödemeleri Kabul Et",acceptCashDesc:"Müşterilerin nakit ile ödeme yapmalarına izin ver",acceptCreditCard:"Kredi Kartlarını Kabul Et",acceptCreditCardDesc:"Müşterilerin kredi/banka kartları ile ödeme yapmalarına izin ver",acceptOnlinePayment:"Online Ödemeleri Kabul Et",acceptOnlinePaymentDesc:"Müşterilerin dijital ödeme yöntemleri ile online ödeme yapmalarına izin ver"},localization:{title:"Yerelleştirme",description:"Dil ve bölgesel ayarları yapılandırın",defaultLanguage:"Varsayılan Dil",defaultCurrency:"Varsayılan Para Birimi",timeZone:"Saat Dilimi",supportedLanguages:"Desteklenen Diller"},sessionManagement:{title:"Oturum Yönetimi",description:"Oturum zaman aşımı ve temizleme ayarlarını yapılandırın",sessionTimeout:"Oturum Zaman Aşımı (Dakika)",cleanupMode:"Temizleme Modu",cleanupDelay:"Kapanış Sonrası Temizleme Gecikmesi (Dakika)",cleanupModeDesc:"Süresi dolan oturumların ne zaman temizleneceğini seçin",sessionTimeoutDesc:"Hareketsizlik nedeniyle oturumun sona ermesinden önceki dakikalar",cleanupDelayDesc:"Kapatmadan sonra temizlikten önce beklenecek dakikalar",cleanupDisabledMessage:"Oturum temizliği devre dışı. Oturumlar otomatik olarak temizlenmeyecek."}},currencies:{TRY:"Türk Lirası (₺)",USD:"Amerikan Doları ($)",EUR:"Euro (€)"},languages:{tr:"Türkçe",en:"İngilizce",ar:"Arapça",de:"Almanca",fr:"Fransızca",ru:"Rusça",es:"İspanyolca"},timezones:{"Europe/Istanbul":"İstanbul (UTC+3)","Europe/London":"Londra (UTC+0)","America/New_York":"New York (UTC-5)"},errors:{loadFailed:"Şube tercihleri yüklenemedi",saveFailed:"Şube tercihleri kaydedilemedi",validationError:"Doğrulama hatası: {errors}",invalidRequest:"Geçersiz istek. Lütfen verileri kontrol edin.",sessionExpired:"Oturum süreniz dolmuş. Lütfen tekrar giriş yapın.",unauthorized:"Bu işlem için yetkiniz bulunmuyor.",notFound:"Şube tercihleri bulunamadı.",conflict:"Veriler güncel değil. Sayfayı yenileyip tekrar deneyin.",noInternet:"İnternet bağlantınızı kontrol edin.",unknownError:"Bilinmeyen bir hata oluştu",invalidPaymentSettings:"Geçersiz ödeme ayarları. En az bir ödeme yöntemi seçilmelidir.",invalidSessionSettings:"Geçersiz oturum ayarları. Lütfen değerleri kontrol edin."}},whatsapp:{confirmation:{title:"WhatsApp'a Gönder?",subtitle:"Restoranı WhatsApp ile bilgilendir",sendTo:"Sipariş detaylarınız şuraya gönderilecek:",restaurant:"Restoran",whatWillBeSent:"Gönderilecek bilgiler:",orderDetails:"• Sipariş detayları ve ürünler",customerInfo:"• Müşteri adı ve masa numarası",totalPrice:"• Toplam fiyat ve özel notlar",timestamp:"• Sipariş zamanı",note:"Not:",noteDescription:"Bu işlem cihazınızda WhatsApp'ı açacaktır. WhatsApp'a göndermemeyi seçseniz bile siparişiniz işlenecektir.",skipWhatsApp:"WhatsApp'ı Atla",sendToWhatsApp:"WhatsApp'a Gönder",sending:"Gönderiliyor..."}},recycleBin:{title:"Geri Dönüşüm Kutusu",titleProducts:"Silinmiş Ürünler ve Kategoriler",titleBranches:"Silinmiş Şubeler",titleTables:"Silinmiş Masalar",titleBranchProducts:"Silinmiş Şube Ürünleri ve Kategorileri",titleBranchCategories:"Silinmiş Şube Kategorileri",titleTableCategories:"Silinmiş Masa Kategorileri",description:"Silinmiş şubeler, kategoriler, ürünler ve masaları yönetin",descriptionProducts:"Silinmiş ürünler ve kategorileri yönetin",descriptionBranches:"Silinmiş şubeleri yönetin",descriptionTables:"Silinmiş masaları yönetin",descriptionBranchProducts:"Silinmiş şube ürünleri ve kategorileri yönetin",descriptionBranchCategories:"Silinmiş şube kategorilerini yönetin",descriptionTableCategories:"Silinmiş masa kategorilerini yönetin",branchRestore:{title:"Şube Geri Yükleme Seçenekleri",subtitle:"Geri yükleme işlemi için tercihlerinizi seçin",simpleTitle:"Şube Geri Yükle",simpleDesc:"Bu Şube geri yüklendiğinde yalnızca genel Şube bilgileri geri yüklenir.",cascadeTitle:"Bu Şube geri yüklendiğinde tüm ilişkili ürünler ve kategoriler de geri yüklenir.",cascadeDesc:"Yalnızca dalı mı yoksa tüm ilişkili ürünleri ve kategorileri de geri yüklemek ister misiniz?",recommended:"Recommended",includeProducts:"Ürünleri ve Kategorileri Dahil Et",includeTables:"Tabloları Dahil Et",includeAll:"Tüm İlişkili Verileri Dahil Et"},productRestore:{title:"Ürün Seçeneklerini Geri Yükle",subtitle:"Ürünü nasıl geri yüklemek istediğinizi seçin",simpleTitle:"Ürünü Geri Yükle",simpleDesc:"Bu ürünü geri yüklemek yalnızca genel ürün bilgilerini geri yükleyecektir.",cascadeTitle:"Bu ürünü geri yüklemek, tüm ilişkili varyantları ve eklentileri de geri yükleyecektir.",cascadeDesc:"Yalnızca ürünü mü yoksa tüm ilişkili varyantları ve eklentileri de geri yüklemek mi istiyorsunuz?",includeOptions:"Varyantları ve Eklentileri Dahil Et",includeImages:"Ürün Görselini Dahil Et",includeAll:"Tüm İlişkili Verileri Dahil Et",recommended:"Tavsiye Edilen"},categoryRestore:{title:"Ürün Seçeneklerini Geri Yükle",subtitle:"Ürünü Nasıl Geri Yükleyeceğinizi Seçin",simpleTitle:"Ürünü Geri Yükle",simpleDesc:"Bu ürünü geri yüklemek yalnızca genel ürün bilgilerini geri yükleyecektir",cascadeTitle:"Bu ürünü geri yüklemek, tüm ilişkili varyantları ve uzantıları da geri yükleyecektir",cascadeDesc:"Yalnızca ürünü mü yoksa tüm ilişkili varyantları ve uzantıları da geri yüklemek istiyor musunuz?",includeOptions:"Varyantları ve uzantıları dahil et",includeImages:"Ürün resmini ekle",includeAll:"Tüm ilişkili verileri ekle",includeProducts:"Kategorideki ürünleri dahil et",recommended:"Önerilen"},search:"Öğe ara...",filter:{all:"Tümü",group1:"Tüm Grup 1",group2:"Tüm Grup 2",group1Label:"📋 Restoran Seviyesi (Şubeler, Ürünler, Masalar)",group2Label:"🏢 Şube Seviyesi (Şube Ürünleri ve Kategorileri)",branches:"Şubeler",categories:"Kategoriler",products:"Ürünler",tables:"Masalar",branchProducts:"Şube Ürünleri",branchCategories:"Şube Kategorileri",tableCategories:"Masa Kategorileri"},refresh:"Yenile",loading:"Yükleniyor...",stats:{group1:"Restoran Seviyesi",group1Desc:"Şubeler, Ürünler, Masalar",group2:"Şube Seviyesi",group2Desc:"Şube Ürünleri ve Kategorileri",totalDeleted:"Toplam Silinmiş",totalDesc:"Tüm silinmiş öğeler",filtered:"Gösterilen",filteredDesc:"Mevcut filtre sonuçları",deletedBranch:"Silinmiş Şube",deletedCategory:"Silinmiş Kategori",deletedProduct:"Silinmiş Ürün",deletedTable:"Silinmiş Masa",deletedBranchProduct:"Silinmiş Şube Ürünü",deletedBranchCategory:"Silinmiş Şube Kategorisi",deletedTableCategory:"Silinmiş Masa Kategorisi"},entityTypes:{category:"Kategori",product:"Ürün",branch:"Şube",table:"Masa",branchProduct:"Şube Ürünü",branchCategory:"Şube Kategorisi",tableCategory:"Masa Kategorisi",other:"Diğer"},contextInfo:{category:"Kategori:",branch:"Şube:",restaurant:"Restoran:"},deletedAt:"Silinme:",restore:{button:"Geri Yükle",restoring:"Geri yükleniyor...",successCategory:'"{name}" kategorisi başarıyla geri yüklendi',successProduct:'"{name}" ürünü başarıyla geri yüklendi',successBranch:'"{name}" şubesi başarıyla geri yüklendi',successTable:'"{name}" masası başarıyla geri yüklendi',successBranchCategory:'"{name}" şube kategorisi başarıyla geri yüklendi',successTableCategory:'"{name}" masa kategorisi başarıyla geri yüklendi',error:"Geri yükleme işlemi başarısız oldu"},empty:{title:"Geri dönüşüm kutusu boş",titleFiltered:"Sonuç bulunamadı",description:"Henüz silinmiş öğe bulunmuyor",descriptionFiltered:"Arama kriterlerinize uygun silinmiş öğe bulunmadı"},errors:{loadingError:"Silinmiş öğeler yüklenirken hata oluştu"}},management:{title:"Yönetim Bilgileri",subtitle:"Şirket ve yasal detaylar",noDataTitle:"Yönetim Bilgisi Yok",noDataMessage:"Yönetim bilgileri henüz ayarlanmadı. Başlamak için lütfen restoran detaylarını ekleyin.",dangerZone:{title:"Tehlikeli Bölge",description:"Restoran yönetim bilgilerini kalıcı olarak silme işlemi geri alınamaz. Lütfen dikkatli olun."},buttons:{edit:"Düzenle",cancel:"İptal",save:"Değişiklikleri Kaydet",saving:"Kaydediliyor...",delete:" Sil",purge:" Temizle"},sections:{restaurantDetails:"Restoran Detayları",companyInfo:"Şirket Bilgileri",taxInfo:"Vergi ve Kayıt",certificates:"Sertifikalar ve İzinler",additionalSettings:"Ek Ayarlar"},fields:{restaurantName:"Restoran Adı",restaurantLogo:"Restoran Logosu",companyTitle:"Şirket Unvanı",legalType:"Yasal Tür",taxNumber:"Vergi Numarası",taxOffice:"Vergi Dairesi",mersisNumber:"MERSIS Numarası",tradeRegistry:"Ticaret Sicil Numarası",workPermit:"Çalışma İzni",foodCertificate:"Gıda Sertifikası",alcoholService:"Alkol Servisi Var",logo:"Logo"},placeholders:{restaurantName:"Restoran adını girin",companyTitle:"Şirket unvanını girin",taxNumber:"Vergi numarasını girin",taxOffice:"Vergi dairesini girin",mersisNumber:"MERSIS numarasını girin",tradeRegistry:"Ticaret sicil numarasını girin",selectLegalType:"Yasal Tür Seçin"},legalTypes:{llc:"Limited Şirket",corporation:"Anonim Şirket",partnership:"Ortaklık"},status:{uploaded:"Yüklendi",notUploaded:"Yüklenmedi",available:"Mevcut",notAvailable:"Mevcut Değil",alcoholService:"Alkol Servisi:"},common:{na:"Mevcut Değil"}},branches:{status:{active:"Aktif",inactive:"Pasif"},fields:{branchType:"Şube Türü",branchTag:"Şube Etiketi"}},restaurants:{status:{active:"Aktif",inactive:"Pasif"},actions:{edit:"Restoranı Düzenle",delete:"Restoranı Sil"},stats:{totalBranches:"Toplam Şube",active:"Aktif",inactive:"Pasif",alcohol:"Alkol"},common:{yes:"Evet",no:"Hayır"}},restaurantsTab:{status:{active:"Aktif",inactive:"Pasif"},actions:{edit:"Restoranı Düzenle",delete:"Restoranı Sil"},stats:{totalBranches:"Toplam Şube",active:"Aktif",inactive:"Pasif",alcohol:"Alkol"},common:{yes:"Evet",no:"Hayır"},modal:{editTitle:"Restoranı Düzenle",placeholders:{restaurantName:"Restoran Adı",cuisineType:"Mutfak Türü"},labels:{hasAlcoholService:"Alkol Servisi Var"},buttons:{update:"Restoranı Güncelle",updating:"Güncelleniyor..."}}},tabs:{restaurants:"Restoranlar",branches:"Şubeler",management:"Yönetim Bilgileri",deleted:"Silinmiş"},allergens:{GLUTEN:{name:"Gluten",description:"Buğday, çavdar, arpa, yulaf"},CRUSTACEANS:{name:"Kabuklu Deniz Ürünleri",description:"Karides, yengeç, ıstakoz"},EGGS:{name:"Yumurta",description:"Yumurta ve yumurta ürünleri"},FISH:{name:"Balık",description:"Tüm balık ürünleri"},PEANUTS:{name:"Yer Fıstığı",description:"Yer fıstığı ve yer fıstığı ürünleri"},SOYBEANS:{name:"Soya",description:"Soya ve soya ürünleri"},MILK:{name:"Süt",description:"Süt ve süt ürünleri"},NUTS:{name:"Sert Kabuklu Meyveler",description:"Badem, fındık, ceviz, kaju vb."},CELERY:{name:"Kereviz",description:"Kereviz ve kereviz kökü"},MUSTARD:{name:"Hardal",description:"Hardal ve hardal ürünleri"},SESAME:{name:"Susam",description:"Susam tohumu ve ürünleri"},SULPHITES:{name:"Sülfitler",description:"Kükürt dioksit ve sülfitler (>10mg/kg)"},LUPIN:{name:"Acı Bakla",description:"Acı bakla ve acı bakla ürünleri"},MOLLUSCS:{name:"Yumuşakçalar",description:"Midye, istiridye, salyangoz, kalamar"}},tableQR:{loading:{validatingQR:"QR Kod Doğrulanıyor",fetchingTableInfo:"Masa bilgileri alınıyor..."},error:{title:"Hata",tryAgain:"Tekrar Dene",sessionFeatureComingSoon:"Oturum başlatma özelliği yakında eklenecek.",sessionStartFailed:"Oturum başlatılamadı."},header:{title:"Restoran Menüsü",subtitle:"Dijital Menü Deneyimi",active:"Aktif"},welcome:{greeting:"Hoş Geldiniz!",connectedToTable:"masasına başarıyla bağlandınız",tableStatus:"Masa Durumu",occupied:"Dolu",available:"Müsait",capacity:"Kapasite",person:"Kişi",people:"Kişi",session:"Oturum",sessionActive:"Aktif",sessionPending:"Bekleniyor",welcomeMessage:"Hoş Geldiniz Mesajı"},actions:{viewMenu:"Menüyü Görüntüle",callWaiter:"Garson Çağır"},footer:{connectedViaQR:"QR Kod ile bağlandınız • Güvenli oturum"}},productCard:{chefsPick:"Şefin Seçimi",customizable:"Özelleştirilebilir",addons:"+ekstralar",allergens:"Alerjenler",ingredients:"Malzemeler",inCart:"sepette",customizeOrder:"Siparişi Özelleştir",addToCart:"Sepete Ekle",prepTime:"15-20 dakika",popular:"Popüler",rating:"4.8",more:"daha fazla"},moneyCase:{title:"Kasa Yönetimi",subtitle:"Şube nakit işlemlerinizi yönetin",selectBranch:"Bir şube seçin",selectBranchToView:"Şube Seçin",branchSelector:"Şube Seçici",noBranches:"Şube bulunamadı",status:"Durum",open:"Açık",closed:"Kapalı",todaySales:"Bugünkü Satışlar",todayCash:"Bugünkü Nakit",todayCard:"Bugünkü Kart",currentBalance:"Güncel Bakiye",transactionCount:"İşlem Sayısı",transactions:"İşlem",openCase:"Kasa Aç",closeCase:"Kasa Kapat",viewZReport:"Z Raporu Görüntüle",history:"Kasa Geçmişi",records:"Kayıt",noHistory:"Geçmiş bulunamadı",noHistoryDescription:"Kasa işlemleri burada görünecek",openingBalance:"Açılış Bakiyesi",openingBalanceDescription:"Kasadaki başlangıç nakit tutarını girin",closingBalance:"Kapanış Bakiyesi",actualCash:"Gerçek Nakit",expectedCash:"Beklenen Nakit",difference:"Fark",surplus:"Fazlalık",shortage:"Eksiklik",notes:"Notlar",notesPlaceholder:"Bu kasa seansı hakkında not veya yorum ekleyin...",date:"Tarih & Saat",openedAt:"Açılış Zamanı",closedAt:"Kapanış Zamanı",lastUpdated:"Son Güncelleme",caseId:"Kasa No",confirm:"Onayla",confirmClose:"Kapanışı Onayla",cancel:"İptal",close:"Kapat",print:"Yazdır",download:"İndir",zReport:"Z Raporu",reportDate:"Rapor Tarihi",openingInformation:"Açılış Bilgileri",salesSummary:"Satış Özeti",closingInformation:"Kapanış Bilgileri",totalSales:"Toplam Satış",cashSales:"Nakit Satış",cardSales:"Kart Satış",refunds:"İadeler",expenses:"Giderler",avgOrderValue:"Ortalama Sipariş Değeri",totalDiscrepancy:"Toplam Fark",totalShifts:"Toplam Vardiya",avgShiftDuration:"Ortalama Vardiya Süresi",shiftsWithIssues:"Problemi Olan Vardiyalar",period:"Rapor Dönemi",todayTotalSales:"Bugünün Toplam Satışları",currentShiftRevenue:"Mevcut Vardiya Geliri",closedShifts:"Kapalı Vardiyalar",ordersToday:"Bugünkü Siparişler",weekToDate:"Hafta Başından Bugüne",monthToDate:"Ay Başından Bugüne",shifts:"Vardiyalar",orders:"Siparişler",noReportData:"Rapor verisi bulunamadı",serviceFee:"Servis Ücreti",success:{opened:"Kasa başarıyla açıldı!",closed:"Kasa başarıyla kapatıldı!",closedWithDifference:"Kasa başarıyla kapatıldı! Fark: {{difference}}"},error:{fetchBranches:"Şubeler getirilemedi",fetchActiveCase:"Aktif kasa bilgisi getirilemedi",fetchHistory:"Kasa geçmişi getirilemedi",fetchZReport:"Z raporu getirilemedi",openCase:"Kasa açılamadı",closeCase:"Kasa kapatılamadı",noBranchSelected:"Lütfen önce bir şube seçin"},validation:{openingBalanceRequired:"Açılış bakiyesi gereklidir",openingBalanceMin:"Açılış bakiyesi 0 veya daha büyük olmalıdır",actualCashRequired:"Gerçek nakit tutarı gereklidir",actualCashMin:"Gerçek nakit 0 veya daha büyük olmalıdır",notesMaxLength:"Notlar 500 karakteri geçemez"},modal:{openTitle:"Kasa Aç",openDescription:"Yeni bir kasa seansı başlat",closeTitle:"Kasa Kapat",closeDescription:"Mevcut kasa seansını sonlandır ve nakit sayımı yap",zReportTitle:"Z Raporu - Detaylı Özet",confirmOpenMessage:"Yeni bir kasa açmak istediğinizden emin misiniz?",confirmCloseMessage:"Mevcut kasayı kapatmak istediğinizden emin misiniz? Bu işlem geri alınamaz."}}},HL={common:{loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",change:"Change",save:"Save",delete:"Delete",edit:"Edit",add:"Add",search:"Search",filter:"Filter",close:"Close",open:"Open",yes:"Yes",no:"No",next:"Next",previous:"Previous",continue:"Continue",refresh:"Refresh",clear:"Clear",filters:"Filters",allStatuses:"All Statuses",pending:"Pending",delivered:"Delivered",cancelled:"Cancelled",dateRange:"Date Range",today:"Today",yesterday:"Yesterday",last7Days:"Last 7 Days",last30Days:"Last 30 Days",thisMonth:"This Month",lastMonth:"Last Month",retry:"Retry"},filter:{status:"Status",all:"All",active:"Active",inactive:"Inactive",categories:"Categories",allergenic:"allergenic",nonallergenic:"non-allergenic",specific:{allergens:"allergens"},price:{range:"Price Range",min:"Min Price",max:"Max Price"}},sort:{title:"Sort By",name:{asc:"Name (A-Z)",desc:"Name (Z-A)"},price:{asc:"Price (Low to High)",desc:"Price (High to Low)"},order:{asc:"Display Order (First to Last)",desc:"Display Order (Last to First)"},created:{asc:"Date Created (Oldest First)",desc:"Date Created (Newest First)"}},clear:{filters:"Clear Filters",all:"Clear All"},restaurantManagement:{tabs:{general:"General",legal:"Legal",about:"About"},GeneralInformation:"General Information",restaurantLogo:""},nav:{home:"Home",features:"Features",pricing:"Pricing",testimonials:"Testimonials",faq:"FAQ",contact:"Contact",login:"Login",register:"Register",logout:"Logout",profile:"Profile",settings:"Settings",dashboard:"Dashboard",goToPanel:"Go to Panel"},auth:{login:"Login",register:"Register",logout:"Logout",email:"Email",password:"Password",confirmPassword:"Confirm Password",forgotPassword:"Forgot Password",rememberMe:"Remember Me",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",signIn:"Sign In",signUp:"Sign Up"},hero:{title:{line1:"Digitize Your",line2:"Restaurant",line3:"with QR Menu"},subtitle:"Your customers can instantly access your menu by scanning the QR code. Offer a contactless, fast and modern experience.",features:{qrAccess:"Quick Access with QR Code",mobileOptimized:"Mobile Optimization",instantUpdate:"Instant Update"},cta:{getStarted:"Get Started",features:"Features"},socialProof:{restaurants:"500+ Happy Restaurants",satisfaction:"99% Customer Satisfaction"}},dashboard:{overview:{title:"Overview",description:"View the general status of your restaurant.",kpis:{totalViews:"Total Views",qrScans:"QR Code Scans",totalOrders:"Total Orders",customerRating:"Customer Rating",changeTexts:{lastWeek:"vs last week",lastMonth:"vs last month",thisWeek:"this week"}},quickStats:{thisMonth:"This Month",totalOrders:"Total orders",average:"Average",dailyOrders:"Daily orders",new:"New",customers:"Customers",rating:"Rating",totalCount:"Total count"},charts:{weeklyActivity:"Weekly Activity",popularProducts:"Popular Products",monthlyRevenue:"Monthly Revenue"}},branches:{title:"Branch Management",description:"Manage your branches and add new branches.",error:{loadFailed:"Failed to load branches",createFailed:"Failed to create branch",updateFailed:"Failed to update branch",deleteFailed:"Failed to delete branch",statusUpdateFailed:"Failed to update branch status",detailsLoadFailed:"Failed to load branch details",restaurantIdNotFound:"Restaurant ID not found"},delete:{title:"Delete Branch",confirmMessage:'Are you sure you want to delete branch "{branchName}"? This action cannot be undone.'}},orders:{title:"Orders",description:"View and manage orders.",loading:"Loading orders...",refresh:"Refresh",newOrder:"New Order",tabs:{all:"All",pending:"Pending",preparing:"Preparing",ready:"Ready",delivered:"Delivered",cancelled:"Cancelled"},status:{pending:"Pending",preparing:"Preparing",ready:"Ready",delivered:"Delivered",cancelled:"Cancelled"},stats:{totalOrders:"Total Orders",totalRevenue:"Total Revenue",pendingOrders:"Pending Orders",avgOrderValue:"Average Order Value"}},orderType:{title:"Order Type Settings",requiresName:"Requires Customer Name",requiresTable:"Requires Table Selection",requiresAddress:"Requires Address",requiresPhone:"Requires Phone Number",subtitle:"Manage activation status, minimum order amount and service charges for order types",loading:"Loading order types...",pleaseWait:"Please wait",settingsUpdated:"settings updated successfully",updateError:"Error occurred while updating settings",loadingError:"Error occurred while loading order types",active:"active",minutes:"minutes",requirements:"Requirements",table:"Table",address:"Address",phone:"Phone",activeStatus:"Active Status",activeStatusDescription:"Enable/disable this order type",minOrderAmount:"Minimum Order Amount",serviceCharge:"Service Charge",saveSettings:"Save Settings",updating:"Updating...",totalOrderTypes:"Total Order Types",activeTypes:"Active Types",totalActiveOrders:"Total Active Orders",estimatedTime:"Estimated Time"},moneyCase:{title:"Money Case Management"},products:{title:"Products",description:"View and manage your products."},ingredients:{title:"Ingredients"},tables:{title:"Table Management",description:"Table management operations.",loading:"Loading tables...",selectBranch:"Please select a branch for table management",noCategories:"No table categories found in this branch yet",tableCount:"tables",newTable:"Add New Table"},users:{title:"User Management",description:"Manage users, roles and permissions.",loading:"Loading users...",tabs:{users:"Users",roles:"Roles"},stats:{total:"Total",active:"Active",users:"users",roles:"roles",system:"System",custom:"Custom",totalUsers:"Total Users"},error:{loadFailed:"Failed to load users",rolesLoadFailed:"Failed to load roles",createRoleFailed:"Failed to create role",createUserFailed:"Failed to create user"}},settings:{title:"Settings",description:"Manage your account settings."},profile:{title:"Profile",description:"View your personal information.",error:{loadFailed:"Failed to load profile information"},restaurantInfo:"Restaurant Information"},restaurant:{title:"Restaurant Management",description:"Manage your restaurant information and settings.",loading:"Loading restaurant information...",restaurantName:"Restaurant Name",restaurantStatus:"Restaurant Status",restaurantLogo:"Restaurant Logo",companyInfo:"Company Information",addAboutInfo:"Add Restaurant About Information",placeholders:{restaurantName:"Enter restaurant name",aboutStory:"Our restaurant story",aboutDetails:"Provide detailed information about your restaurant..."}},RestaurantManagement:{title:"Restaurant Management"},branchManagementTitle:"Branch Management",sidebar:{title:"QR Menu",logout:"Logout",branch:"Branch"}},theme:{toggleToDark:"Switch to dark mode",toggleToLight:"Switch to light mode",dark:"Dark",light:"Light"},language:{turkish:"Türkçe",english:"English",arabic:"العربية",selectLanguage:"Select Language"},settings:{title:"Settings",description:"Manage your account settings and preferences",save:"Save",saveSuccess:"Settings saved successfully.",tabs:{general:"General",notifications:"Notifications",privacy:"Privacy",appearance:"Appearance",data:"Data"},general:{title:"General Settings",description:"Configure your basic account settings",language:"Language",timezone:"Timezone",dateFormat:"Date Format",currency:"Currency",autoSave:{title:"Auto Save",description:"Manage your auto save settings",enabled:"Auto Save",enabledDesc:"Automatically saves your changes",dataSync:"Data Synchronization",dataSyncDesc:"Synchronizes your data across devices"}},notifications:{title:"Notification Settings",description:"Manage your notification preferences",enabled:"Enable Notifications",enabledDesc:"Enables all notifications",email:"Email Notifications",emailDesc:"Receive email for important updates",push:"Push Notifications",pushDesc:"Receive instant notifications",sound:"Sound Notifications",soundDesc:"Enables notification sounds"},privacy:{title:"Privacy and Security",description:"Manage your account security and privacy settings",twoFactor:"Two-Factor Authentication",twoFactorDesc:"Protect your account with extra security",autoLogout:"Auto Logout",autoLogoutDesc:"Logs out after 30 minutes of inactivity",analytics:"Analytics Data Sharing",analyticsDesc:"Anonymous data sharing for development"},appearance:{title:"Appearance Settings",description:"Customize your interface preferences",darkMode:"Enable Dark Mode",lightMode:"Enable Light Mode",darkModeDesc:"Use dark theme",lightModeDesc:"Use light theme",compact:"Compact View",compactDesc:"Compact design that uses less space",animations:"Animations",animationsDesc:"Enables interface animations"},data:{title:"Data Management",description:"Backup or delete your data",download:"Download Data",downloadDesc:"Download all your data",upload:"Upload Data",uploadDesc:"Upload data from backup",delete:"Delete Data",deleteDesc:"Delete all data",storage:"Storage",storageDesc:"Manage storage space"}},notifications:{title:"Notifications",empty:"No notifications",markAllAsRead:"Mark all as read"},brand:{name:"QR Menu",slogan:"Digital Restaurant Solution"},features:{title:"Why",titleHighlight:"QR Menu?",subtitle:"Enhance customer experience and take your business to the digital age with powerful features designed for modern restaurants.",list:{qrAccess:{title:"Instant Access with QR Code",description:"Your customers can instantly access your menu by scanning the QR code on the table. No app download required."},mobileOptimized:{title:"Mobile Optimization",description:"Perfect view on all devices. Optimal experience on phone, tablet and desktop with responsive design."},instantUpdate:{title:"Instant Update",description:"Your menu changes are published instantly. Price updates and new products are visible immediately."},analytics:{title:"Detailed Analytics",description:"Get reports on which products are viewed more, customer behavior and sales trends."},alwaysOpen:{title:"24/7 Access",description:"Your customers can view your menu anytime. Accessible even outside restaurant hours."},secure:{title:"Secure and Fast",description:"Secure with SSL certificate, fast loading pages. Customer information is protected."},customizable:{title:"Customizable Design",description:"Color, font and design options suitable for your restaurant style. Reflect your brand identity."},multiLanguage:{title:"Multi-Language Support",description:"You can offer your menu in multiple languages. Appeal to your international customers."}},cta:{title:"Ready to Digitize Your Restaurant?",subtitle:"Start today and offer your customers a modern experience. Setup takes only 5 minutes!",button:"Try for Free"}},footer:{description:"Modern, fast and secure digital menu solution for restaurants. Enhance customer experience and digitize your business.",contact:{phone:"+90 212 345 67 89",email:"info@qrmenu.com",address:"Maslak, Istanbul"},sections:{product:{title:"Product",links:{features:"Features",pricing:"Pricing",demo:"Demo",api:"API Documentation"}},company:{title:"Company",links:{about:"About Us",blog:"Blog",careers:"Careers",contact:"Contact"}},support:{title:"Support",links:{helpCenter:"Help Center",faq:"FAQ",liveSupport:"Live Support",tutorials:"Tutorial Videos"}},legal:{title:"Legal",links:{privacy:"Privacy Policy",terms:"Terms of Service",cookies:"Cookie Policy",gdpr:"GDPR"}}},newsletter:{title:"Stay Updated",subtitle:"Get information about new features and updates.",placeholder:"Your email address",button:"Subscribe"},bottom:{copyright:"All rights reserved.",madeWith:"Designed and developed in Turkey ❤️"}},pages:{login:{title:"Login",subtitle:"Sign in to your QR Menu account",backToHome:"Back to Home",email:"Email",password:"Password",rememberMe:"Remember Me",forgotPassword:"Forgot Password",signIn:"Sign In",signingIn:"Signing In...",noAccount:"Don't have an account?",registerNow:"Register Now",errors:{emailRequired:"Email is required",emailInvalid:"Please enter a valid email address",passwordRequired:"Password is required",invalidCredentials:"Invalid email or password",generalError:"An error occurred during login. Please try again."}},register:{title:"Create Account",subtitle:"Join the QR Menu family and digitize your restaurant",backToHome:"Back to Home",firstName:"First Name",lastName:"Last Name",email:"Email",phone:"Phone Number",password:"Password",confirmPassword:"Confirm Password",createAccount:"Create Account",creating:"Creating Account...",haveAccount:"Already have an account?",signInNow:"Sign In",formProgress:"Form completion",placeholders:{firstName:"Your first name",lastName:"Your last name",email:"example@email.com",phone:"05XX XXX XX XX",password:"••••••••",confirmPassword:"Re-enter your password"},validation:{nameRequired:"First name is required",nameMin:"First name must be at least 2 characters",surnameRequired:"Last name is required",surnameMin:"Last name must be at least 2 characters",emailRequired:"Email is required",emailInvalid:"Please enter a valid email address",phoneRequired:"Phone number is required",phoneInvalid:"Please enter a valid phone number (e.g., 05XX XXX XX XX)",passwordRequired:"Password is required",passwordMin:"Password must be at least 8 characters",passwordPattern:"Password must contain at least one uppercase letter, one lowercase letter and one number",passwordConfirmRequired:"Password confirmation is required",passwordMismatch:"Passwords do not match",termsRequired:"You must accept the terms of service",emailExists:"This email address is already in use"},passwordStrength:{veryWeak:"Very Weak",weak:"Weak",medium:"Medium",good:"Good",strong:"Strong"},terms:{service:"Terms of Service",and:"and",privacy:"Privacy Policy",accept:"I accept"},errors:{validation:"Please check your registration information",invalidData:"Invalid information entered. Please check.",general:"An error occurred during registration. Please try again."},success:{message:"Registration successful! Now you can enter your restaurant information."}},forgotPassword:{title:"Forgot Password",subtitle:"Enter your email address and we'll send you a password reset link",backToLogin:"Back to Login",email:"Email",sendResetLink:"Send Reset Link",sending:"Sending...",resendCode:"Resend Code",countdown:"seconds until you can resend",placeholders:{email:"example@email.com"},success:{title:"Email Sent!",message:"Password reset link has been sent to your email address. Please check your email."},errors:{emailRequired:"Email is required",emailInvalid:"Please enter a valid email address",emailNotFound:"No account found with this email address",general:"An error occurred while sending the password reset link. Please try again."}}},pricing:{title:"Choose Your",titleHighlight:"Perfect",titleEnd:"Plan",subtitle:"Flexible pricing options designed for your needs. You can change or cancel your plan anytime.",monthly:"Monthly",yearly:"Yearly",freeMonths:"2 MONTHS FREE",mostPopular:"Most Popular",plans:{basic:{name:"Starter",features:{0:"1 Restaurant",1:"50 Products",2:"Basic Analytics",3:"Email Support",4:"QR Code Generator",5:"Mobile Optimization"},button:"Get Started"},pro:{name:"Professional",features:{0:"3 Restaurants",1:"Unlimited Products",2:"Advanced Analytics",3:"Priority Support",4:"Custom Design",5:"Multi-Language Support",6:"API Access",7:"White Label"},button:"Most Popular"},enterprise:{name:"Enterprise",features:{0:"Unlimited Restaurants",1:"Unlimited Products",2:"Enterprise Analytics",3:"24/7 Phone Support",4:"Custom Integration",5:"Dedicated Account Manager",6:"SLA Guarantee",7:"Training & Consulting"},button:"Contact Us"}},additionalInfo:"All plans include 14-day free trial • No credit card required • Cancel anytime",vatInfo:"Prices include VAT. Custom pricing available for enterprise plans.",perMonth:"month",perYear:"year",monthlyEquivalent:"Monthly ₺{amount} (2 months free)"},testimonials:{title:"What Our Customers",titleHighlight:"Say",subtitle:"Real user experiences about the QR Menu system trusted by 500+ restaurants across Turkey.",customers:[{name:"Mehmet Özkan",role:"Restaurant Owner",company:"Lezzet Durağı",content:"Thanks to QR Menu, our customer satisfaction increased by 40%. Especially during the pandemic, contactless menu provided a great advantage. The system is very easy to use."},{name:"Ayşe Demir",role:"General Manager",company:"Bella Vista Restaurant",content:"Our customers can now view the menu without waiting for waiters. Our order taking time has been halved. Really a perfect solution!"},{name:"Can Yılmaz",role:"Business Partner",company:"Keyif Cafe",content:"Thanks to analytics reports, we see which products are more popular. We optimized our menu and our sales increased by 25%."},{name:"Fatma Kaya",role:"Restaurant Manager",company:"Anadolu Sofrası",content:"Price updates are reflected instantly. We no longer deal with menu printing. Both cost savings and environmentally friendly."},{name:"Emre Şahin",role:"Chain Restaurant Owner",company:"Burger House",content:"We manage all our branches from one place. We can create separate menus and pricing for each branch. Magnificent system!"},{name:"Zeynep Arslan",role:"Cafe Owner",company:"Kahve Köşesi",content:"Customer support is great. We got help at every step during installation. Now we are a technological cafe and our customers are very satisfied."}],stats:{restaurants:"Happy Restaurants",satisfaction:"Satisfaction Rate",support:"Customer Support",setup:"Setup Time"}},faq:{title:"Frequently Asked",titleHighlight:"Questions",subtitle:"Everything you want to know about QR Menu is here. If you don't find your question, you can contact us.",questions:{1:{question:"How does QR Menu work?",answer:"Our QR Menu system is very simple. We create a QR code for your restaurant. Your customers can instantly access your menu by scanning this QR code with their phones. No app download required."},2:{question:"How long does setup take?",answer:"Setup takes only 5 minutes! After creating your account, you upload and customize your menu. Your QR code becomes ready to use immediately."},3:{question:"Can I see customer data?",answer:"Yes! We provide detailed analytics such as which products are viewed most, peak hours, customer behaviors. You can optimize your menu with this data."},4:{question:"Can I easily change prices?",answer:"Of course! You can update prices, add new products or edit existing products anytime from your admin panel. Changes are published instantly."},5:{question:"How does it look on mobile devices?",answer:"Your menu looks perfect on all devices. With responsive design, it provides optimal experience on phones, tablets and computers."},6:{question:"Is there customer support?",answer:"Absolutely! We provide 24/7 support via email, phone and live chat. We are with you at every step from installation to usage."},7:{question:"What happens when I want to cancel?",answer:"You can cancel anytime. No contract or penalty. After cancellation, we securely deliver your data to you."},8:{question:"Can I manage multiple restaurants?",answer:"With our Professional and Enterprise plans, you can manage multiple restaurants from a single account. Separate menu and analytics for each restaurant."}},cta:{title:"Do you have other questions?",subtitle:"Contact us for questions you can't find answers to. We respond within 24 hours.",button:"Contact Us"}},contact:{title:"Get in",titleHighlight:"Touch",titleEnd:"with Us",subtitle:"Do you have questions about the QR Menu system? Contact us.",info:{title:"Contact Information",phone:"Phone",email:"Email",address:"Address"},form:{title:"Write to Us",name:"Full Name",nameRequired:"Full Name *",namePlaceholder:"Enter your name",email:"Email",emailRequired:"Email *",emailPlaceholder:"Your email address",company:"Restaurant/Company Name",companyPlaceholder:"Your business name",message:"Your Message",messageRequired:"Your Message *",messagePlaceholder:"Write your message...",sending:"Sending...",send:"Send Message",success:{title:"Your Message Has Been Sent!",subtitle:"We will get back to you as soon as possible."}}},accessibility:{menu:"Toggle menu",theme:"Change theme",language:"Change language",profile:"Profile menu",notifications:"Notifications"},orders:{loading:"Loading orders...",title:"Orders",description:"Manage and track all your orders",orderNumber:"Order",table:"Table",items:"Items",tabs:{all:"All Orders",pending:"Pending",preparing:"Preparing",ready:"Ready",delivered:"Delivered",cancelled:"Cancelled"},status:{pending:"Pending",preparing:"Preparing",ready:"Ready",delivered:"Delivered",cancelled:"Cancelled"},filters:{status:"Status",dateRange:"Date Range",paymentType:"Payment Type",today:"Today",yesterday:"Yesterday",lastWeek:"Last Week",lastMonth:"Last Month",custom:"Custom"},actions:{refresh:"Refresh",export:"Export",filter:"Filter",search:"Search orders...",viewDetails:"View Details",changeStatus:"Change Status"},stats:{totalOrders:"Total Orders",totalRevenue:"Total Revenue",pendingOrders:"Pending Orders",avgOrderValue:"Average Order Value"}},tableManagement:{loading:"Loading tables...",title:"Table Management",description:"Manage your QR codes and tables",noCategories:"Not Found Categories",createFirstCategory:"Create First Category",error:{loadFailed:"Failed to load branch list",dataLoadFailed:"An error occurred while loading data"},deleteModal:{title:"Are You Sure you want delete the item ? "},actions:{addTable:"Add Table",addQRCode:"Add QR Code",generateQR:"Generate QR Code",downloadQR:"Download QR Code",editTable:"Edit Table",deleteTable:"Delete Table"},categories:{title:"Category Management",addCategory:"Add Category",editCategory:"Edit Category",deleteCategory:"Delete Category",categoryName:"Category Name",tableCount:"Table Count"},qrCodes:{title:"QR Codes",tableNumber:"Table Number",category:"Category",status:"Status",actions:"Actions",active:"Active",inactive:"Inactive"}},userManagement:{loading:"Loading users...",title:"User Management",description:"Manage users, roles and permissions",error:{loadFailed:"An error occurred while loading users",rolesLoadFailed:"An error occurred while loading roles",createFailed:"An error occurred while creating user",updateFailed:"An error occurred while updating user",deleteFailed:"An error occurred while deleting user"},actions:{addUser:"Add User",editUser:"Edit User",deleteUser:"Delete User",resetPassword:"Reset Password",changeRole:"Change Role"},roles:{admin:"Admin",manager:"Manager",staff:"Staff",viewer:"Viewer"},status:{active:"Active",inactive:"Inactive",suspended:"Suspended"}},subscription:{title:"Subscription",description:"Manage your subscription plan and view your bills",currentPlan:"Current Plan",planDetails:"Plan Details",billing:"Billing",usage:"Usage",plan:"Plan",renewal:"Renewal",changePlan:"Change Plan",availablePlans:"Available Plans",selectPlan:"Choose a plan that fits your needs",tabs:{overview:"Overview",billing:"Billing",usage:"Usage"},actions:{upgrade:"Upgrade",downgrade:"Downgrade",cancel:"Cancel",renew:"Renew",settings:"Settings"}},products:{status:{outOfStock:"Out of Stock",inStock:"In Stock",available:"Available",unavailable:"Unavailable"},count:"products",empty:"No products in this category yet",actions:{addFirst:"Add first product",addProduct:"Add Product",editProduct:"Edit Product",deleteProduct:"Delete Product"}},branchSelector:{status:{loading:"Loading...",error:"Could not fetch branch list"},empty:"No options found",actions:{changeBranchRestaurant:"Change Branch/Restaurant"},labels:{mainRestaurant:"Main Restaurant",branches:"Branches"}},popularProducts:{title:"Popular Products",empty:"Product sales will appear here",labels:{orders:"orders",percentage:"%"},tooltip:{ordersFormat:(e,t)=>`${e} orders (${t}%)`,noData:"No data available"}},weeklyActivity:{title:"Haftalık Aktivite",empty:{primary:"No activity data yet",secondary:"Data will appear here soon"},labels:{views:"Views",qrScans:"QR Scan"},legend:{views:"Views",qrScans:"QR Scan"}},monthlyRevenue:{QuickStats:"Quick Stats",title:"Monthly Revenue Trend",empty:{primary:"No revenue data available yet",secondary:"Revenue data will appear here"},labels:{total:"Total:",revenue:"Revenue"},currency:{symbol:"$",format:e=>`$${e.toLocaleString("en-US")}`}},branchCard:{status:{temporaryClosed:"Temporarily Closed",open:"Open",closed:"Closed",active:"Active",inactive:"Inactive",hidden:"Hidden"},actions:{edit:"Edit",delete:"Delete",purge:"Purge Branch Data"},labels:{customerVisibility:"Customer Visibility",apiBranchOpen:"API BranchIsOpen:"},alt:{logo:"logo"}},addBranchCard:{title:"Add New Branch",description:"Click to add a new branch"},branchModal:{title:{add:"Add New Branch",edit:"Edit Branch"},subtitle:"You can enter branch information step by step",steps:{basic:"Basic Information",address:"Address Information",contact:"Contact & Working Hours"},sections:{basicInfo:"Basic Information",addressInfo:"Address Information",contactInfo:"Contact Information",workingHours:"Working Hours"},fields:{branchName:{label:"Branch Name *",placeholder:"Enter branch name"},whatsappNumber:{label:"WhatsApp Order Number *",placeholder:"Enter WhatsApp order number"},branchLogo:{label:"Branch Logo (Optional)",select:"Select Logo",uploading:"Uploading...",success:"✓ Logo uploaded successfully",preview:"Branch logo preview",supportText:"PNG, JPG, GIF formats are supported. Maximum file size: 5MB"},country:{label:"Country *",placeholder:"Enter country name"},city:{label:"City *",placeholder:"Enter city name"},street:{label:"Street *",placeholder:"Enter street name"},zipCode:{label:"Zip Code *",placeholder:"Enter zip code"},addressLine1:{label:"Address Line 1 *",placeholder:"Enter detailed address information"},addressLine2:{label:"Address Line 2 (Optional)",placeholder:"Enter additional address information (optional)"},phone:{label:"Phone Number *",placeholder:"Enter phone number"},email:{label:"Email Address *",placeholder:"Enter email address"},location:{label:"Location Information *",placeholder:"Enter location information (e.g., 40.9795,28.7225)"},contactHeader:{label:"Contact Header (Optional)",placeholder:"Enter contact header (optional)"},footerTitle:{label:"Footer Title (Optional)",placeholder:"Enter footer title (optional)"},footerDescription:{label:"Footer Description (Optional)",placeholder:"Enter footer description (optional)"},openTitle:{label:"Working Hours Title (Optional)",placeholder:"Enter working hours title (optional)"},openDays:{label:"Open Days (Optional)",placeholder:"Enter open days (optional)"},openHours:{label:"Open Hours (Optional)",placeholder:"Enter open hours (optional)"}},workingHours:{description:"Set your business working hours",days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],open:"Open",closed:"Closed",openTime:"Open",closeTime:"Close",canOrder:"✓ Customers can place orders on this day",infoTitle:"About Working Hours",infoText:"The hours you set here determine when customers can place orders through your QR menu. No orders are taken on closed days."},errors:{branchName:"Branch name is required",whatsappNumber:"WhatsApp order number is required",country:"Country is required",city:"City is required",street:"Street is required",zipCode:"Zip code is required",addressLine1:"Address line 1 is required",phone:"Phone number is required",email:"Email address is required",location:"Location information is required"},buttons:{cancel:"Cancel",back:"Back",next:"Next",save:"Save",saving:"Saving..."}},branchManagement:{title:"Branch Management",description:"Manage restaurant branches and update their information",loading:"Loading branches...",addBranch:"Add New Branch",error:{loadFailed:"Failed to load branches",createFailed:"Failed to create branch",updateFailed:"Failed to update branch",deleteFailed:"Failed to delete branch",restaurantIdNotFound:"Restaurant ID not found",detailsLoadFailed:"Failed to load branch details",statusUpdateFailed:"Failed to update branch status",sessionExpired:"Session expired. Please log in again.",noPermission:"You do not have permission for this operation.",branchNotFound:"Branch not found.",connectionError:"Check your internet connection.",unknownError:"An unexpected error occurred"},noBranches:{title:"No branches yet",description:"Start by adding your first restaurant branch"},deleteConfirm:{title:"Confirm Branch Deletion",description:'Are you sure you want to delete the branch "{{branchName}}"? This action cannot be undone.'},form:{branchName:"Branch Name",branchNamePlaceholder:"Enter branch name",branchNameRequired:"Branch name is required",whatsappNumber:"WhatsApp Order Number",whatsappPlaceholder:"Enter WhatsApp number",branchLogo:"Branch Logo",logoUpload:"Upload Logo",logoChange:"Change Logo",logoRemove:"Remove Logo",logoNotSelected:"No logo selected",logoInstructions:"You can upload JPG, PNG or GIF files, maximum 5MB size.",country:"Country",countryPlaceholder:"Enter country name",city:"City",cityPlaceholder:"Enter city name",street:"Street",streetPlaceholder:"Enter street name",zipCode:"Zip Code",zipCodePlaceholder:"Enter zip code",addressLine1:"Address Line 1",addressLine1Placeholder:"Enter address details",addressLine2:"Address Line 2",addressLine2Placeholder:"Additional address information (optional)",phone:"Phone",phonePlaceholder:"Enter phone number",email:"Email",emailPlaceholder:"Enter email address",location:"Location",locationPlaceholder:"Enter location information",contactHeader:"Contact Header",contactHeaderPlaceholder:"Enter contact header",footerTitle:"Footer Title",footerTitlePlaceholder:"Enter footer title",footerDescription:"Footer Description",footerDescriptionPlaceholder:"Enter footer description",openTitle:"Opening Hours Title",openTitlePlaceholder:"Enter opening hours title",openDays:"Open Days",openDaysPlaceholder:"Enter open days",openHours:"Open Hours",openHoursPlaceholder:"Enter open hours",workingHours:"Working Hours",workingHoursRequired:"At least one working day must be selected",isOpen:"Open",dayNames:{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"}},modal:{createTitle:"Add New Branch",createDescription:"Enter new branch information",editTitle:"Edit Branch - {branchName}",editDescription:"Edit branch information",tabs:{general:"General Information",address:"Address",contact:"Contact",workingHours:"Working Hours"},buttons:{creating:"Creating...",updating:"Updating...",create:"Create Branch",update:"Update Branch"},errors:{updateError:"Update Error",validationFailed:"Please fix the errors in the form and try again.",dataValidationError:"An error occurred during update. Please check the entered data.",imageUploadError:"Failed to upload image. Please try again.",imageRemoveError:"Failed to remove image.",uploadingImage:"Uploading image...",invalidFileType:"Please select a valid image file",fileSizeError:"File size must be less than 5MB"}},card:{edit:"Edit",delete:"Delete",temporaryClose:"Temporary Close",temporaryOpen:"Temporary Open",status:{open:"Open",closed:"Closed",temporarilyClosed:"Temporarily Closed"}}},commonBranch:{cancel:"Cancel",delete:"Delete",save:"Save",edit:"Edit",create:"Create",update:"Update",close:"Close",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Information",required:"Required",optional:"Optional"},productsContent:{branch:{selectAll:"All"},title:"Products Management",description:"Manage menu categories and products",search:{placeholder:"Search menu items...",filter:"Filter",sort:"Sort",noResults:"No products found"},viewMode:{list:"List view",grid:"Grid view"},actions:{addFirstCategory:"Add First Category",addCategory:"New Category",newCategory:"New Category",addProduct:"New Product",newProduct:"New Product",editCategory:"Edit Category",deleteCategory:"Delete Category",editProduct:"Edit Product",deleteProduct:"Delete Product",manageIngredients:"Manage Ingredients",updateIngredients:"Update Ingredients",manageAddons:"Manage Add-ons",importSampleMenu:"Import Sample Menu",addFirstCategoryTitle:"Add First Category",RecycleBin:"Recycle Bin"},emptyState:{noCategories:{title:"No menu categories yet",description:'Start creating your restaurant menu by adding the first category. For example "Main Dishes", "Beverages" or "Desserts".',addFirstCategory:"Add First Category"}},loading:{categories:"Loading categories...",products:"Loading products...",savingOrder:"Saving order...",savingCategoryOrder:"Saving category order...",savingProductOrder:"Saving product order...",movingProduct:"Moving product...",deleting:"Deleting..."},dragDrop:{categoryReordering:"Saving category order...",productReordering:"Saving product order...",productMoving:"Moving product...",categoryOrderSaveError:"An error occurred while saving category order.",productOrderSaveError:"An error occurred while saving product order.",productMoveError:"An error occurred while moving the product."},delete:{product:{title:"Delete Product",message:'Are you sure you want to delete "{{productName}}"? This action cannot be undone.',success:"Product deleted successfully"},category:{title:"Delete Category",messageWithProducts:'Category "{{categoryName}}" contains {{productCount}} products. Deleting this category will also delete all products. Are you sure you want to continue?',messageEmpty:'Are you sure you want to delete category "{{categoryName}}"?',success:"Category deleted successfully"}},error:{loadFailed:"Failed to load data",categoryNotFound:"Category not found",productNotFound:"Product not found",deleteFailed:"Failed to delete",updateFailed:"Failed to update",createFailed:"Failed to create",reorderFailed:"Failed to reorder",invalidData:"Invalid data",networkError:"Network connection error",refreshPage:"Please refresh the page and try again."},success:{categoryCreated:"Category created successfully",categoryUpdated:"Category updated successfully",categoryDeleted:"Category deleted successfully",productCreated:"Product created successfully",productUpdated:"Product updated successfully",productDeleted:"Product deleted successfully",orderSaved:"Order saved successfully",ingredientsUpdated:"Ingredients updated successfully",addonsUpdated:"Add-ons updated successfully"},category:{products:"products",productCount:"product",noProducts:"No products in this category",expand:"Expand",collapse:"Collapse"},product:{price:"Price",description:"Description",ingredients:"Ingredients",addons:"Add-ons",category:"Category",image:"Image",status:"Status",available:"Available",unavailable:"Unavailable"},currency:{symbol:"₺",format:"{{amount}} ₺"},status:{active:"Active",inactive:"Inactive",available:"Available",unavailable:"Unavailable"},tooltips:{dragToReorder:"Drag to reorder",dragToMoveCategory:"Drag to move product to another category",expandCategory:"Expand category",collapseCategory:"Collapse category",editCategory:"Edit category",deleteCategory:"Delete category",editProduct:"Edit product",deleteProduct:"Delete product",manageIngredients:"Manage product ingredients",manageAddons:"Manage product add-ons"}},createCategoryModal:{title:"Add New Category",subtitle:"Create menu category",close:"Close",form:{categoryName:{label:"Category Name *",placeholder:"e.g: Main Dishes, Beverages, Desserts",required:"Category name is required"},status:{label:"Activate category",description:"Active categories appear in the menu"}},buttons:{cancel:"Cancel",create:"Add Category",creating:"Adding..."},errors:{general:"An error occurred while adding the category. Please try again.",categoryExists:"A category with this name already exists. Please choose a different name.",invalidData:"The entered data is invalid. Please check and try again.",serverError:"A server error occurred. Please try again later.",networkError:"Network connection error. Check your connection and try again.",unknownError:"An unexpected error occurred. Please try again.",errorLabel:"Error:"},success:{categoryCreated:"Category created successfully",categoryAdded:"Category successfully added to the menu"},validation:{nameRequired:"Category name is required",nameMinLength:"Category name must be more than 2 characters",nameMaxLength:"Category name must be less than 50 characters",invalidCharacters:"Category name contains invalid characters"},accessibility:{closeModal:"Close add category modal",formTitle:"Add new category form",requiredField:"Required field",optionalField:"Optional field"}},createProductModal:{title:"Add New Product",subtitle:"Add product to your menu",close:"Close",form:{productImage:{label:"Product Image",dragActive:"Drop file here",uploadText:"Upload image",supportedFormats:"PNG, JPG, GIF (5MB max)",removeImage:"Remove image"},productName:{label:"Product Name",placeholder:"e.g: Margherita Pizza",required:"Product name is required"},price:{label:"Price (₺)",placeholder:"0",required:"Price is required",mustBePositive:"Price must be greater than 0",currency:"₺"},category:{label:"Category",placeholder:"Select category",required:"Category selection is required",invalidCategory:"Selected category is invalid. Available categories: {{categories}}"},description:{label:"Description",placeholder:"Product description...",required:"Product description is required"},status:{label:"Activate product",description:"Displays in menu",active:"Active",inactive:"Inactive"}},buttons:{cancel:"Cancel",create:"Add Product",creating:"Adding...",uploading:"Uploading..."},imageUpload:{dragToUpload:"Drag image here or click to upload",clickToUpload:"Click to upload image",dragActive:"Drop file here",supportedFormats:"PNG, JPG, GIF",maxSize:"5MB max",preview:"Image preview",remove:"Remove"},errors:{general:"An error occurred while adding the product. Please try again.",nameRequired:"Product name is required",descriptionRequired:"Product description is required",priceRequired:"Price is required",priceMustBePositive:"Price must be greater than 0",categoryRequired:"Category selection is required",categoryInvalid:"Selected category is invalid",imageInvalid:"Please select a valid image file",imageTooLarge:"Image file size must be less than 5MB",imageUploadFailed:"Failed to upload image",networkError:"Network connection error. Check your connection and try again.",serverError:"A server error occurred. Please try again later.",unknownError:"An unexpected error occurred. Please try again.",errorLabel:"Error:"},success:{productCreated:"Product created successfully",productAdded:"Product successfully added to the menu"},validation:{nameMinLength:"Product name must be more than 2 characters",nameMaxLength:"Product name must be less than 100 characters",descriptionMinLength:"Description must be more than 5 characters",descriptionMaxLength:"Description must be less than 500 characters",priceMin:"Price must be greater than 0",priceMax:"Price must be less than 10000"},accessibility:{closeModal:"Close add product modal",formTitle:"Add new product form",requiredField:"Required field",optionalField:"Optional field",imageUpload:"Upload product image",removeImage:"Remove product image",priceInput:"Enter product price",categorySelect:"Select product category",statusToggle:"Toggle product status"}},productAddonsModal:{title:"Product Addons",subtitle:"manage addon products for",close:"Close",panels:{currentAddons:{title:"Current Addons",count:"({{count}})",dragInstruction:"You can reorder by dragging",emptyState:{title:"No addons added yet.",subtitle:"Select products from the right panel."}},availableProducts:{title:"Products Available as Addons",searchPlaceholder:"Search products...",emptyState:{noResults:"No products found matching search criteria.",noProducts:"No addable products found."}}},actions:{edit:"Edit",save:"Save",cancel:"Cancel",remove:"Remove",recommended:"Recommended"},form:{marketingText:{placeholder:"Marketing text...",label:"Marketing Text"},isRecommended:{label:"Mark as recommended addon",badge:"Recommended"}},status:{outOfStock:"Out of Stock",available:"Available",unavailable:"Unavailable"},loading:{addons:"Loading addons...",products:"Loading products...",saving:"Saving..."},buttons:{cancel:"Cancel",saveAddons:"Save Addons",saving:"Saving..."},counters:{selectedProducts:"{{count}} products selected",availableProducts:"{{count}} available products"},errors:{loadingData:"An error occurred while loading addon data.",updatingAddon:"An error occurred while updating addon.",deletingAddon:"An error occurred while deleting addon.",savingOrder:"An error occurred while saving addon order.",savingAddons:"An error occurred while saving addons. Please try again.",general:"An unexpected error occurred. Please try again.",networkError:"Network connection error. Check your connection and try again."},success:{addonsSaved:"Product addons saved successfully",orderUpdated:"Addon order updated successfully",addonUpdated:"Addon updated successfully",addonRemoved:"Addon removed successfully"},accessibility:{closeModal:"Close product addons modal",dragHandle:"Drag to reorder addon",editAddon:"Edit addon details",removeAddon:"Remove addon from product",selectProduct:"Select product as addon",productImage:"Product image",toggleRecommended:"Toggle recommended status"}},editCategoryModal:{title:"Edit Category",subtitle:"Update category information",close:"Close",form:{categoryName:{label:"Category Name",placeholder:"Enter category name...",required:"Category name is required",minLength:"Category name must be at least 2 characters",maxLength:"Category name must be less than 100 characters"},description:{label:"Description",placeholder:"Enter category description...",optional:"Optional",maxLength:"Description must be less than 500 characters"},status:{label:"Active",description:"Category will be visible in the menu when active",active:"Active",inactive:"Inactive"}},buttons:{cancel:"Cancel",save:"Save",saving:"Saving...",update:"Update Category",updating:"Updating..."},errors:{updateFailed:"An error occurred while updating the category. Please try again.",nameRequired:"Category name is required",nameMinLength:"Category name must be at least 2 characters",nameMaxLength:"Category name must be less than 100 characters",descriptionMaxLength:"Description must be less than 500 characters",general:"An unexpected error occurred. Please try again.",networkError:"Network connection error. Check your connection and try again.",serverError:"A server error occurred. Please try again later."},success:{categoryUpdated:"Category updated successfully",changesSaved:"Changes saved successfully"},validation:{nameRequired:"Please enter a category name",nameMinLength:"Category name is too short",nameMaxLength:"Category name is too long",descriptionMaxLength:"Description is too long"},accessibility:{closeModal:"Close edit category modal",formTitle:"Edit category form",requiredField:"Required field",optionalField:"Optional field",statusToggle:"Toggle category status",nameInput:"Category name input",descriptionInput:"Category description input"}},confirmDeleteModal:{defaultTitle:"Confirm Deletion",deleteTitle:"Delete Item",deleteTableWarning:"Ensure there is no pending request before deleting the table.",warning:"This action cannot be undone. The item will be permanently deleted.",itemTypes:{category:"Category",product:"Product",addon:"Addon",user:"User",order:"Order",coupon:"Coupon",discount:"Discount",promotion:"Promotion",review:"Review",comment:"Comment",image:"Image",file:"File",item:"Item"},buttons:{cancel:"Cancel",delete:"Delete",deleting:"Deleting...",confirm:"Confirm",confirming:"Confirming..."},messages:{category:"Are you sure you want to delete this category? All products in this category will also be affected.",product:"Are you sure you want to delete this product? This action cannot be undone.",addon:"Are you sure you want to delete this addon? It will be removed from all associated products.",user:"Are you sure you want to delete this user? All their data will be permanently removed.",general:"Are you sure you want to delete this item? This action cannot be undone."},errors:{deleteFailed:"An error occurred during deletion. Please try again.",networkError:"Network connection error. Please check your connection and try again.",serverError:"A server error occurred. Please try again later.",permissionError:"You do not have permission to delete this item.",notFound:"The item to delete was not found.",hasRelations:"Cannot delete this item because it has related data.",general:"An unexpected error occurred. Please try again."},success:{deleted:"Item deleted successfully",categoryDeleted:"Category deleted successfully",productDeleted:"Product deleted successfully",addonDeleted:"Addon deleted successfully"},confirmations:{typeToConfirm:'Type "DELETE" to confirm',enterName:"Enter the name to confirm deletion",areYouSure:"Are you absolutely sure?",lastChance:"This is your last chance to cancel."},accessibility:{closeModal:"Close delete confirmation modal",deleteDialog:"Delete confirmation dialog",warningIcon:"Warning icon",deleteButton:"Confirm deletion",cancelButton:"Cancel deletion",errorAlert:"Error message"}},editProductModal:{title:"Edit Product",subtitle:"Update product information",close:"Close",form:{productImage:{label:"Product Image",optional:"Optional"},productName:{label:"Product Name",placeholder:"e.g: Margherita Pizza",required:"Product name is required"},description:{label:"Description",placeholder:"Product description...",optional:"Optional"},price:{label:"Price (₺)",placeholder:"0",required:"Price is required",currency:"₺"},category:{label:"Category",placeholder:"Select category",required:"Category selection is required"},status:{label:"Available in Stock",description:"Product will be visible in menu when available",available:"Available",unavailable:"Unavailable"}},buttons:{cancel:"Cancel",update:"Update Product",updating:"Updating...",save:"Save Changes",saving:"Saving...",uploading:"Uploading Image..."},imageUpload:{clickToUpload:"Click to upload image",dragToUpload:"Drag image here or click to upload",dragActive:"Drop file here",supportedFormats:"PNG, JPG, GIF",maxSize:"5MB max",preview:"Image preview",remove:"Remove image",changeImage:"Change image"},errors:{errorLabel:"Error:",updateFailed:"An error occurred while updating the product. Please try again.",nameRequired:"Product name is required",nameAlreadyExists:"A product with this name already exists. Please choose a different name.",descriptionRequired:"Product description is required",priceRequired:"Price is required",priceMustBePositive:"Price must be greater than 0",categoryRequired:"Category selection is required",imageInvalid:"Please select a valid image file",imageTooLarge:"Image file size must be less than 5MB",imageUploadFailed:"Failed to upload image",productNotFound:"Product not found",permissionDenied:"You do not have permission to update this product",networkError:"Network connection error. Check your connection and try again.",serverError:"A server error occurred. Please try again later.",unknownError:"An unexpected error occurred. Please try again."},success:{productUpdated:"Product updated successfully",changesSaved:"Changes saved successfully",imageUploaded:"Image uploaded successfully"},validation:{nameMinLength:"Product name must be more than 2 characters",nameMaxLength:"Product name must be less than 100 characters",descriptionMaxLength:"Description must be less than 500 characters",priceMin:"Price must be greater than 0",priceMax:"Price must be less than 10000",imageSize:"Image must be less than 5MB",imageType:"Only image files are allowed"},accessibility:{closeModal:"Close edit product modal",formTitle:"Edit product form",requiredField:"Required field",optionalField:"Optional field",imageUpload:"Upload product image",removeImage:"Remove product image",priceInput:"Enter product price",categorySelect:"Select product category",statusToggle:"Toggle product availability",imagePreview:"Product image preview"}},productIngredientModal:{title:"Product Ingredients",subtitle:"select ingredients for",close:"Close",search:{placeholder:"Search ingredients...",label:"Search ingredients",noResults:"No ingredients found"},summary:{selectedCount:"Selected ingredients",hasChanges:"Has changes",noChanges:"No changes"},form:{quantity:{label:"Quantity",placeholder:"Amount",required:"Quantity is required"},unit:{label:"Unit",placeholder:"Select unit",required:"Unit is required"}},units:{grams:"g",milliliters:"ml",pieces:"piece",tablespoons:"tbsp",teaspoons:"tsp",cups:"cup",kilograms:"kg",liters:"l"},status:{available:"Available",unavailable:"Unavailable",containsAllergens:"Contains Allergens",toBeAdded:"To be added",toBeRemoved:"To be removed",selected:"Selected",unselected:"Unselected"},allergenInfo:{count:"{{count}} allergen",count_plural:"{{count}} allergens",details:"Allergen details",warning:"This ingredient contains allergens"},loading:{ingredients:"Loading ingredients...",saving:"Saving ingredients...",data:"Loading data..."},emptyState:{noIngredients:"No ingredients added yet.",noSearchResults:"No ingredients found matching search criteria.",noAvailableIngredients:"No available ingredients found."},buttons:{cancel:"Cancel",skip:"Skip",save:"Save",saveIngredients:"Save Ingredients",saving:"Saving...",add:"Add Ingredients",update:"Update Ingredients"},footer:{totalCount:"Total: {{count}} ingredients",selectedInfo:"{{selected}} of {{total}} selected"},errors:{loadingData:"An error occurred while loading ingredient data.",savingIngredients:"An error occurred while saving ingredients. Please try again.",quantityRequired:"All ingredients must have a quantity greater than 0.",unitRequired:"All ingredients must have a unit selected.",networkError:"Network connection error. Check your connection and try again.",serverError:"A server error occurred. Please try again later.",general:"An unexpected error occurred. Please try again.",invalidQuantity:"Please enter a valid quantity",ingredientNotFound:"Ingredient not found",permissionDenied:"You do not have permission to modify ingredients"},success:{ingredientsSaved:"Ingredients saved successfully",ingredientsUpdated:"Ingredients updated successfully",ingredientAdded:"Ingredient added successfully",ingredientRemoved:"Ingredient removed successfully"},validation:{quantityMin:"Quantity must be greater than 0",quantityMax:"Quantity must be less than 1000",unitRequired:"Please select a unit",ingredientRequired:"Please select at least one ingredient"},accessibility:{closeModal:"Close ingredient selection modal",searchInput:"Search for ingredients",quantityInput:"Enter ingredient quantity",unitSelect:"Select measurement unit",ingredientCheckbox:"Select ingredient",selectedIndicator:"Ingredient selected",allergenWarning:"Contains allergens",availabilityStatus:"Availability status"}},ProductIngredientUpdateModal:{title:"Update Ingredients",searchPlaceholder:"Search ingredients...",selectedCount:"ingredients selected",loadingIngredients:"Loading ingredients...",noIngredientsFound:"No ingredients found",noIngredientsFoundSearch:"No ingredients found matching search criteria",unit:"Unit:",price:"Price:",quantity:"Quantity",cancel:"Cancel",save:"Save",saving:"Saving...",errors:{loadingIngredients:"An error occurred while loading ingredients",savingIngredients:"An error occurred while saving ingredients"},accessibility:{closeModal:"Close update ingredients modal",formTitle:"Update product ingredients form",searchInput:"Search for ingredients",ingredientToggle:"Toggle ingredient selection",quantityInput:"Enter ingredient quantity",selectedIndicator:"Ingredient selected",unselectedIndicator:"Ingredient not selected",ingredientCard:"Ingredient selection card",saveButton:"Save ingredient changes",cancelButton:"Cancel ingredient update"}},SortableCategory:{product:"product",products:"products",editCategory:"Edit category",deleteCategory:"Delete category",reorderingProducts:"Saving product order...",noCategoryProducts:"No products in this category yet.",expandCategory:"Expand category",collapseCategory:"Collapse category",dragCategory:"Drag to reorder category",accessibility:{categoryActions:"Category actions",productCount:"Product count",expandToggle:"Toggle category expansion",editCategoryButton:"Edit category",deleteCategoryButton:"Delete category",dragHandle:"Drag handle to reorder category",categoryCard:"Category card",emptyCategory:"Empty category",reorderingStatus:"Category is being reordered"}},SortableProduct:{outOfStock:"Out of Stock",loadingIngredients:"Loading ingredients...",ingredients:"Ingredients",noIngredients:"No ingredients added",loadingAddons:"Loading addons...",addons:"Addons",noAddons:"No addons added",manageAddons:"Manage addons",editProduct:"Edit product",deleteProduct:"Delete product",dragProduct:"Drag to reorder product",allergenic:"Contains allergens",recommended:"Recommended",price:"Price",errors:{loadingIngredients:"An error occurred while loading ingredients.",loadingAddons:"An error occurred while loading addons."},accessibility:{productImage:"Product image",productCard:"Product card",productActions:"Product actions",dragHandle:"Drag handle to reorder product",outOfStockBadge:"Product is out of stock",ingredientsList:"Product ingredients list",addonsList:"Product addons list",allergenWarning:"Contains allergens",recommendedAddon:"Recommended addon",editButton:"Edit product",deleteButton:"Delete product",addonsButton:"Manage product addons"}},IngredientsContent:{searchPlaceholder:"Search ingredients...",filter:"Filter",sort:"Sort",newIngredient:"New Ingredient",ingredientName:"Ingredient Name",status:"Status",allergenInfo:"Allergen Information",actions:"Actions",available:"Available",unavailable:"Unavailable",containsAllergens:"Contains Allergens",noAllergens:"No Allergens",edit:"Edit",delete:"Delete",noIngredientsFound:"No ingredients found matching search criteria.",noIngredientsYet:"No ingredients added yet.",deleteIngredient:"Delete Ingredient",deleteConfirmMessage:'Are you sure you want to delete "{name}" ingredient?',deleteError:"An error occurred during deletion. Please try again.",cancel:"Cancel",deleting:"Deleting...",editIngredient:"Edit Ingredient",addNewIngredient:"Add New Ingredient",basicInfo:"Basic Information",ingredientNameRequired:"Ingredient name is required",enterIngredientName:"Enter ingredient name",containsAllergensCheckbox:"Contains Allergens",availableForUse:"Available for Use",allergenInfoContent:"Allergen Information",selectAllergensMessage:"Select allergens contained in this ingredient:",enableAllergenMessage:'Check "Contains Allergens" first to select allergens.',allergenDetails:"Allergen Details",containsThisAllergen:"Contains this allergen",additionalNotes:"Additional notes (optional)",updateError:"An error occurred while updating ingredient.",createError:"An error occurred while adding ingredient.",updating:"Updating...",adding:"Adding...",update:"Update",add:"Add",accessibility:{ingredientsTable:"Ingredients management table",searchInput:"Search ingredients",filterButton:"Filter ingredients",sortButton:"Sort ingredients",addButton:"Add new ingredient",editButton:"Edit ingredient",deleteButton:"Delete ingredient",ingredientCard:"Ingredient information card",allergenSelection:"Allergen selection",formModal:"Ingredient form modal",deleteModal:"Delete confirmation modal",statusBadge:"Ingredient status",allergenBadge:"Allergen information",closeModal:"Close modal",dragToReorder:"Drag to reorder"}},TableCard:{active:"Active",inactive:"Inactive",occupied:"Occupied",empty:"Empty",capacity:"Person",capacityPlural:"People",edit:"Edit",downloadQR:"Download QR Code",disable:"Disable",enable:"Activate",delete:"Delete",viewQRCode:"View QR Code",moreOptions:"More options",accessibility:{tableCard:"Table information card",statusBadge:"Table status",occupancyBadge:"Table occupancy status",actionsMenu:"Table actions menu",qrCodePreview:"QR code preview",editButton:"Edit table",downloadButton:"Download QR code",toggleButton:"Toggle table status",deleteButton:"Delete table"}},QRCodeModal:{tableAddOption:"Table Adding Option",howToAddTables:"How would you like to add tables?",singleTable:"Add Single Table",bulkTable:"Add Multiple Tables",createSingleTable:"Create a single table",createMultipleTables:"Create multiple tables",branchSelection:"Branch Selection",selectBranch:"Select Branch",branchRequired:"Required",loadingBranches:"Loading branches...",editTable:"Edit Table",addSingleTable:"Add Single Table",tableName:"Table Name",tableNamePlaceholder:"e.g. Table 1",autoNameNote:"Automatic name will be given if left empty",tableCategory:"Table Category",selectCategory:"Select Category",loadingCategories:"Loading categories...",noCategories:"No categories found",capacity:"Capacity",capacityPlaceholder:"Number of people",displayOrder:"Display Order",displayOrderPlaceholder:"Number for ordering",autoOrderNote:"Automatic ordering will be applied if left empty",tableActive:"Table should be active",addBulkTables:"Add Multiple Tables",categoryQuantities:"Category-based Table Quantities",addCategory:"Add Category",category:"Category",tableCount:"Table Count",allTablesActive:"All tables should be active",tableSummary:"Tables to be Created Summary:",total:"Total",tables:"tables",cancel:"Cancel",adding:"Adding...",addTable:"Add Table",update:"Update",updating:"Updating...",creating:"Creating... ({count} tables)",createTables:"{count} Create Tables",branchRequiredValidation:"Branch selection is required",categoryRequired:"At least one category is required",accessibility:{modal:"Table creation modal",stepSelection:"Table creation method selection",branchSelector:"Branch selection dropdown",categorySelector:"Table category selection",tableForm:"Table creation form",bulkForm:"Bulk table creation form",backButton:"Go back to previous step",closeButton:"Close modal"}},TableCategoryModal:{title:"Add Table Category",subtitle:"Create a new table category",categoryName:"Category Name",categoryNamePlaceholder:"e.g. VIP Tables, Garden Tables",description:"Description (Optional)",descriptionPlaceholder:"Brief description about the category...",colorSelection:"Color Selection",customColor:"Custom color",iconSelection:"Icon Selection",branchSelection:"Branch Selection",cancel:"Cancel",addCategory:"Add Category",saving:"Saving...",table:"Table",chair:"Chair",service:"Service",label:"Label",layer:"Layer",categoryNameRequired:"Category name is required",iconRequired:"You must select an icon",branchRequired:"Branch selection is required",invalidData:"Invalid data sent",unauthorized:"You are not authorized. Please log in again.",forbidden:"You do not have permission for this operation.",branchNotFound:"Selected branch not found.",serverError:"Server error occurred. Please try again later.",unexpectedError:"An unexpected error occurred while adding category",accessibility:{modal:"Table category creation modal",colorPalette:"Color selection palette",colorPreset:"Preset color option",customColorPicker:"Custom color picker",iconGrid:"Icon selection grid",iconOption:"Icon selection option",branchDropdown:"Branch selection dropdown",form:"Category creation form"}},AddQRCodeCard:{title:"Add New Table",subtitle:"Click to add a new table",accessibility:{addButton:"Add new table button",addCard:"Add new table card"}},userManagementPage:{title:"User Management",loading:"Loading...",error:{title:"Error",loadFailed:"Failed to load users",rolesLoadFailed:"Failed to load roles",retry:"Try Again",createUserFailed:"Failed to create user",createRoleFailed:"Failed to create role"},stats:{total:"Total",active:"Active",users:"users",roles:"roles",system:"System",custom:"Custom",totalUsers:"Total Users",owner:"Owner",manager:"Manager",staff:"Staff"},tabs:{users:"Users",roles:"Roles"},controls:{search:"Search user, email or phone...",searchRoles:"Search role, description or category...",filterAll:"All Categories",filterOwner:"Restaurant Owner",filterManager:"Branch Manager",filterStaff:"Staff",filterActive:"Active Users",filterInactive:"Inactive Users",addUser:"Add User",addRole:"Add Role"},table:{user:"User",contact:"Contact",roles:"Roles",location:"Restaurant/Branch",status:"Status",registrationDate:"Registration Date",actions:"Actions",role:"Role",description:"Description",statistics:"Statistics",position:"Location"},status:{active:"Active",inactive:"Inactive",enabled:"Enabled",disabled:"Disabled",systemRole:"System Role"},roleTypes:{RestaurantOwner:"Owner",BranchManager:"Manager",Staff:"Staff"},actions:{viewDetails:"View Details",edit:"Edit",activate:"Activate",deactivate:"Deactivate"},noResults:{usersNotFound:"No Users Found",rolesNotFound:"No Roles Found",usersEmpty:"No users have been added yet.",rolesEmpty:"No roles have been added yet.",searchEmpty:"No users found matching your search criteria.",searchEmptyRoles:"No roles found matching your search criteria."},createRole:{title:"Create New Role",basicInfo:"Basic Information",roleName:"Role Name",roleNamePlaceholder:"e.g.: Branch Manager",category:"Category",categoryPlaceholder:"e.g.: Management",description:"Description",descriptionPlaceholder:"Describe the role duties and responsibilities...",restaurantId:"Restaurant ID",restaurantIdPlaceholder:"Default: Current restaurant",branchId:"Branch ID",branchIdPlaceholder:"Empty: All branches",isActive:"Role should be active",permissions:"Permissions",permissionsSelected:"selected",cancel:"Cancel",create:"Create Role",creating:"Creating...",validation:{nameRequired:"Role name must be at least 3 characters",nameMaxLength:"Role name can be maximum 50 characters",descriptionMaxLength:"Description can be maximum 200 characters",categoryMaxLength:"Category can be maximum 50 characters"}},createUser:{title:"Create New User",personalInfo:"Personal Information",contactInfo:"Contact Information",passwordInfo:"Password Information",locationInfo:"Location Information",roleAssignment:"Authority and Role Assignment",firstName:"First Name",firstNamePlaceholder:"e.g.: John",lastName:"Last Name",lastNamePlaceholder:"e.g.: Doe",userName:"Username",userNamePlaceholder:"Will be auto-generated",userNameHint:"If left empty, it will be automatically created in firstname.lastname format",email:"Email",emailPlaceholder:"john@example.com",phone:"Phone",phonePlaceholder:"+1 555 123 4567",password:"Password",passwordPlaceholder:"At least 6 characters",passwordConfirm:"Confirm Password",passwordConfirmPlaceholder:"Re-enter your password",locationType:"Location Type",restaurant:"Restaurant",branch:"Branch",restaurantId:"Restaurant ID",restaurantIdPlaceholder:"e.g.: 123",branchId:"Branch ID",branchIdPlaceholder:"e.g.: 456",profileImage:"Profile Image URL",profileImagePlaceholder:"https://example.com/avatar.jpg",userCreatorId:"Creator User ID",userCreatorIdPlaceholder:"Current user ID",assignmentType:"Assignment Type",rolesSelection:"Select from Existing Roles (Recommended)",permissionsSelection:"Direct Permission Selection (Currently not supported)",apiWarning:"⚠️ API only supports role-based user creation. Create roles first, then assign them to users.",rolesLabel:"Roles",rolesSelected:"selected",noRoles:{title:"No roles defined yet",description:"Create roles from the roles tab before creating users",tip:'💡 Tip: Switch to "Roles" tab first to create necessary roles',warning:"Role Required",warningDescription:'At least one role must be defined to create a user. You can create new roles from the "Roles" tab.'},isActive:"User should be active",cancel:"Cancel",create:"Create User",creating:"Creating...",createRoleFirst:"Create Role First",validation:{nameRequired:"First name is required",nameMaxLength:"First name can be maximum 50 characters",surnameRequired:"Last name is required",surnameMaxLength:"Last name can be maximum 50 characters",emailRequired:"Email is required",emailInvalid:"Please enter a valid email address",passwordRequired:"Password must be at least 6 characters",passwordMaxLength:"Password can be maximum 100 characters",passwordConfirmRequired:"Password confirmation is required",passwordMismatch:"Passwords do not match",phoneRequired:"Phone number is required",restaurantIdRequired:"Please enter a valid restaurant ID",branchIdRequired:"Please enter a valid branch ID",rolesRequired:"You must select at least one role",permissionsNotSupported:"API only supports role-based user creation. Please select from existing roles."}},roleDetails:{userCount:"User Count",permissionCount:"Permission Count",restaurant:"Restaurant",branch:"Branch",noDescription:"No description available",users:"users",permissions:"permissions"},permissionCategories:{UserManagement:"User Management",RestaurantManagement:"Restaurant Management",BranchManagement:"Branch Management",OrderManagement:"Order Management",ProductManagement:"Product Management",Analytics:"Analytics"},success:{userCreated:"User created successfully",roleCreated:"Role created successfully",userUpdated:"User updated successfully",roleUpdated:"Role updated successfully"}},BranchtableManagement:{title:"Table Management",loading:"Loading...",batchCreateTables:"batchCreateTables",subtitle:"Manage your restaurant tables and categories",tabs:{tables:"Tables",categories:"Categories",statistics:"Statistics",batchCreate:"Batch Create"},buttons:{addTable:"Add Table",addCategory:"Add Category",batchCreate:"Batch Create",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",refresh:"Refresh",selectAll:"Select All",clearSelection:"Clear Selection",export:"Export",import:"Import"},labels:{tableName:"Table Name",category:"Category",capacity:"Capacity",status:"Status",occupation:"Occupation",displayOrder:"Display Order",search:"Search tables...",filterByCategory:"Filter by Category",viewMode:"View Mode",totalTables:"Total Tables",activeTables:"Active Tables",occupiedTables:"Occupied Tables",availableTables:"Available Tables"},status:{active:"Active",inactive:"Inactive",occupied:"Occupied",available:"Available",outOfService:"Out of Service"},actions:{markOccupied:"Mark as Occupied",markAvailable:"Mark as Available",activate:"Activate",deactivate:"Deactivate",viewDetails:"View Details"},messages:{tableCreated:"Table created successfully",tableUpdated:"Table updated successfully",tableDeleted:"Table deleted successfully",statusUpdated:"Status updated successfully",error:"An error occurred",noTables:"No tables found",confirmDelete:"Are you sure you want to delete this table?",loading:"Loading...",saving:"Saving...",deleting:"Deleting..."},statistics:{title:"Table Statistics",occupancyRate:"Occupancy Rate",averageCapacity:"Average Capacity",categoryBreakdown:"Category Breakdown",dailyOccupancy:"Daily Occupancy",peakHours:"Peak Hours"},forms:{createTable:"Create New Table",editTable:"Edit Table",batchCreateTables:"Create Multiple Tables",quantity:"Quantity",namePrefix:"Name Prefix",startingNumber:"Starting Number"}},BranchTableManagement:{header:"Category & Table Management",clearTable:"Clear Table",refreshTable:"Refresh Status",clearing:"Clearing...",loading:"Loading...",category:"Category",createTables:"Create Tables",creatingTables:"Creating...",SelectCategory:"Select Category",Capacity:"Capacity",Quantity:"Quantity",batchCreateTables:"Batch Create Tables",subheader:"Manage restaurant categories and tables with accordion view",totalCategories:"Total Categories",totalTables:"Total Tables",occupiedTables:"Occupied Tables",availableTables:"Available Tables",searchPlaceholder:"Search categories...",refresh:"Refresh",addCategory:"Add Category",addCategoryTitle:"Add New Category",multiCategory:"Create multiple tables across different categories at once",categoryNameLabel:"Category Name",categoryNamePlaceholder:"Enter category name",colorLabel:"Color",iconLabel:"Icon",save:"Save",cancel:"Cancel",noCategories:"No categories found",addFirstCategory:"Add Your First Category",tablesCount:"tables",status:"Status",active:"Active",inactive:"Inactive",occupation:"Occupation",occupied:"Occupied",available:"Available",addTable:"Add Table",tableNamePlaceholder:"Table name",capacityPlaceholder:"Capacity",noTables:"No tables in this category",qrCodeTitle:"QR Code - {tableName}",qrCodeDescription:"Scan this QR code to access the table menu",downloadQR:"Download QR Code",downloading:"Downloading...",copyQRUrl:"Copy QR URL",copied:"Copied!",success:{tableCleared:"Table {{tableName}} has been cleared and is now available",tableOccupied:"Table {{tableName}} status has been updated to occupied",tableClearedGeneric:"Table has been cleared successfully",tableStatusUpdated:"Table status has been updated successfully",categoryAdded:"Category added successfully",categoryUpdated:"Category updated successfully",categoryDeleted:"Category deleted successfully",tableAdded:"Table added successfully",tableUpdated:"Table updated successfully",tableDeleted:"Table deleted successfully",categoryActivated:"Category activated successfully",categoryDeactivated:"Category deactivated successfully",tableActivated:"Table activated successfully",tableDeactivated:"Table deactivated successfully",tableAvailable:"Table marked as available",dataRefreshed:"Data refreshed successfully"},error:{clearTableFailed:"Failed to clear table. Please try again.",fetchCategoriesFailed:"Failed to fetch categories",fetchTablesFailed:"Failed to fetch tables",categoryNameRequired:"Category name is required",addCategoryFailed:"Failed to add category",updateCategoryFailed:"Failed to update category",deleteCategoryFailed:"Failed to delete category",categoryHasTables:"Cannot delete category with existing tables",categoryNotFound:"Category not found",addTableFailed:"Failed to add table",updateTableFailed:"Failed to update table",deleteTableFailed:"Failed to delete table",tableNameRequired:"Table name is required",tableNotFound:"Table not found",updateCategoryStatusFailed:"Failed to update category status",updateTableStatusFailed:"Failed to update table status",updateTableOccupationFailed:"Failed to update table occupation",refreshFailed:"Failed to refresh data"}},branchManagementBranch:{title:"Branch Management",description:"Manage your branch information and settings.",loading:"Loading branch information...",noBranchFound:"No branch found",uploadLogo:"Upload Logo",status:{open:"Open",closed:"Closed",temporarilyClosed:"Temporarily Closed",reopenBranch:"Reopen Branch",temporaryClose:"Temporary Close"},actions:{edit:"Edit",save:"Save",cancel:"Cancel",delete:"Delete",deleting:"Deleting...",confirmDelete:"Confirm Delete",deleteWarning:"Are you sure you want to delete this branch? This action cannot be undone.",onlineMenu:"Online Menu URL"},basicInfo:{title:"Basic Information",branchName:"Branch Name",whatsappNumber:"WhatsApp Number",email:"Email",notSpecified:"Not specified"},addressInfo:{title:"Address Information",country:"Country",city:"City",street:"Street",postalCode:"Postal Code",region:"Region"},workingHours:{title:"Working Hours",workingDay:"Working day",openTime:"Open Time",closeTime:"Close Time",noWorkingHours:"No working hours specified",days:{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"}},messages:{updateSuccess:"Branch information updated successfully",deleteSuccess:"Branch deleted successfully",temporaryCloseSuccess:"Branch temporarily closed",reopenSuccess:"Branch reopened",updateError:"Error occurred during update",deleteError:"Error occurred during deletion",statusChangeError:"Error occurred while changing status",loadError:"Error occurred while loading branch information"},placeholders:{branchName:"Enter branch name",whatsappNumber:"Enter WhatsApp number",email:"Enter email address",country:"Enter country",city:"Enter city",street:"Enter street",postalCode:"Enter postal code",region:"Enter region"}},branchCategories:{header:"Branch Categories Management",subheader:"Manage categories and products for Branch ",lastUpdated:"Last Updated",stats:{availableCategories:"Available Categories",readyToAdd:"Ready to add",activeCategories:"Active Categories",currentlyInBranch:"Currently in branch",selectedCategories:"Selected Categories",toBeAdded:"To be added",selectedProducts:"Selected Products",fromCategories:"From categories",avalibleAddons:"Available Addons"},tabs:{addNew:"Add New",manageExisting:"Manage Existing"},steps:{chooseCategories:"Choose Categories",selectProducts:"Select Products",reviewAdd:"Review & Add",finalStep:"Final step",selected:"selected",back:"Back"},addCategories:{title:"Choose Categories",subtitle:"Select categories to add to your branch",noAvailable:"No categories available",allAdded:"All available categories have been added to this branch",categoriesSelected:"categories selected",clearSelection:"Clear Selection",nextSelectProducts:"Next: Select Products"},selectProducts:{title:"Select Products",subtitle:"Choose products from selected categories",selectAll:"Select All",clearAll:"Clear All",noProducts:"No products found",noProductsInCategories:"Selected categories don't have any products",available:"available",selected:"selected",productsSelectedFrom:"products selected from",categories:"categories",reviewSelection:"Review Selection"},review:{title:"Review & Add",subtitle:"Review your selection before adding to branch",of:"of",productsSelected:"products selected",all:"All",productsWillBeAdded:"products will be added",totalValue:"Total value",selectedProducts:"Selected Products",readyToAdd:"Ready to add",with:"with",availableInBranch:"Available in Branch",startOver:"Start Over",adding:"Adding...",addToBranch:"Add to Branch"},manage:{title:"Manage Existing Categories",subtitle:"Manage categories and products in your branch",saving:"Saving...",saveOrder:"Save Order",exitReorder:"Exit Reorder",reorder:"Reorder",noCategoriesAdded:"No categories added",noCategoriesAddedDesc:"No categories have been added to this branch yet",addCategories:"Add Categories",original:"Original:",added:"added",available:"available",total:"Total",active:"Active",inactive:"Inactive",protected:"Protected"},products:{inCategory:"Products in Category",added:"Added",available:"Available",ingredients:"ingredients",allergens:"allergens",viewDetails:"View Details",removeFromBranch:"Remove from Branch",addToBranch:"Add to Branch",addedToBranch:"products added to branch",moreAvailableToAdd:"more available to add",withDetailedInfo:"with detailed info",products:"products"},productDetails:{addedToBranch:"Added to Branch",allergens:"Allergens",contains:"Contains",mayContain:"May Contain",ingredients:"Ingredients",allergenic:"Allergenic",available:"Available",unavailable:"Unavailable",quantity:"Quantity:",ingredientId:"Ingredient ID:",allergenInformation:"Allergen Information:",additionalInformation:"Additional Information",originalProduct:"Original Product",originalPrice:"Original Price:",originalStatus:"Original Status:",originalDisplayOrder:"Original Display Order:",orderDetails:"Order Details",lastUpdated:"Last Updated:",close:"Close"},actions:{refresh:"Refresh",delete:"Delete",edit:"Edit",save:"Save",cancel:"Cancel",confirm:"Confirm",loading:"Loading..."},search:{categories:"Search categories...",products:"Search products..."},status:{active:"Active",inactive:"Disabled by the restaurant",available:"Available",unavailable:"Unavailable"},messages:{success:{categoryAdded:"Category added successfully",categoryDeleted:"Category deleted successfully",productAdded:"Product {name} added successfully",productRemoved:"Product {name} removed successfully",orderSaved:"Category order saved successfully"},error:{cannotDelete:'Cannot delete category "{name}" because it contains {count} products. Please remove all products first.',cannotDeleteTooltip:"Cannot delete: Category contains {count} products. Remove all products first.",productNotFound:"Product not found",addingProduct:"Error adding product",removingProduct:"Error removing product",savingOrder:"Error saving category order",loadingCategories:"Error loading categories",loadingProducts:"Error loading products"}},deleteModal:{title:"Delete Category",message:'Are you sure you want to delete the category "{name}"? This action cannot be undone.',confirm:"Delete",cancel:"Cancel"},placeholders:{searchCategories:"Search categories...",searchProducts:"Search products..."}},profile:{title:"Profile",personalInfo:"Personal Information",editProfile:"Edit Profile",accountStatus:{active:"Active Account",inactive:"Inactive Account",status:"Account Status"},fields:{firstName:"First Name",lastName:"Last Name",username:"Username",email:"Email",registrationDate:"Registration Date",restaurantName:"Restaurant Name",status:"Status"},restaurant:{info:"Restaurant Information",name:"Restaurant Name",status:{active:"Active",inactive:"Inactive"}},permissions:{summary:"Permission Summary",totalCategories:"Total Categories",totalPermissions:"Total Permissions",rolesAndPermissions:"Categories and Permissions",systemRole:"System Role"},categories:{Category:"Category Management",BranchCategory:"Branch Category Management",Product:"Product Management",BranchProduct:"Branch Product Management",BranchQRCode:"QR Code Management",Order:"Order Management",Restaurant:"Restaurant Management",Branch:"Branch Management",Admin:"Admin Operations"},permissionNames:{"category.create":"Create Category","category.delete":"Delete Category","category.update":"Update Category","category.read":"View Category","branch.category.create":"Create Branch Category","branch.category.delete":"Delete Branch Category","branch.category.update":"Update Branch Category","branch.category.read":"View Branch Category","product.create":"Create Product","product.delete":"Delete Product","product.update":"Update Product","product.read":"View Product","product.edit":"Edit Product","branch.product.create":"Create Branch Product","branch.product.delete":"Delete Branch Product","branch.product.update":"Update Branch Product","branch.product.read":"View Branch Product","branch.qrcode.create":"Create QR Code","branch.qrcode.delete":"Delete QR Code","branch.qrcode.update":"Update QR Code","branch.qrcode.read":"View QR Code","order.create":"Create Order","order.delete":"Delete Order","order.update":"Update Order","order.read":"View Order","order.view":"View Order Details","order.cancel":"Cancel Order","restaurant.create":"Create Restaurant","restaurant.delete":"Delete Restaurant","restaurant.update":"Update Restaurant","restaurant.read":"View Restaurant","restaurant.user.create":"Create Restaurant User","restaurant.user.delete":"Delete Restaurant User","restaurant.user.update":"Update Restaurant User","restaurant.user.read":"View Restaurant User","branch.create":"Create Branch","branch.delete":"Delete Branch","branch.update":"Update Branch","branch.read":"View Branch","branch.user.create":"Create Branch User","branch.user.delete":"Delete Branch User","branch.user.update":"Update Branch User","branch.user.read":"View Branch User","admin.api.control":"API Control"},error:{loadFailed:"Failed to load profile data"}},addonModal:{title:"Configure Addons",loading:"Loading addons...",refresh:"Refresh",search:{placeholder:"Search addons by name, description, or category..."},stats:{available:"Available",assigned:"Assigned",recommended:"Recommended"},sections:{assignedAddons:"Assigned Addons",availableAddons:"Available Addons"},emptyState:{title:"No addons available",description:"Contact restaurant management to define addon combinations for this product",productId:"Product ID:"},actions:{add:"Add",remove:"Remove",configure:"Configure",done:"Done",saveChanges:"Save Changes"},status:{assigned:"ASSIGNED",recommended:"Recommended"},configuration:{title:"Configuration Settings",specialPrice:"Special Price",maxQuantity:"Max Quantity",minQuantity:"Min Quantity",marketingText:"Marketing Text",markRecommended:"Mark as recommended",placeholders:{marketingText:"e.g., Popular choice, Best value, Customer favorite..."}},messages:{success:{addonAdded:"Addon added successfully",addonRemoved:"Addon removed successfully",addonUpdated:"Addon updated successfully"},errors:{loadFailed:"Failed to load product addons",updateFailed:"Failed to update addon assignment",propertiesFailed:"Failed to update addon properties"}},footer:{summary:"of",addon:"addon",addons:"addons",assigned:"assigned"}},menu:{title:"Menu",basePrice:"Base Price",loading:"Loading Menu",allergens:"Allergens",quantity:"Quantity",addons:"Addons",products:"Products",addToBasket:"Add to Basket",loadingSubtitle:"Preparing our delicious selections for you...",error:{title:"Menu Unavailable",tryAgain:"Try Again"},search:{placeholder:"Search for delicious dishes..."},categories:"Categories",ingredients:"Ingredients",open:"Open",closed:"Closed",chefsChoice:"Chef's Choice",add:"Add",remove:"Remove",items:"items",item:"item",available:"available",deliciousItems:"delicious",exploreMenu:"Explore Our Menu",noResults:"No results found",noResultsDesc:"Try different keywords or browse other categories",noItemsCategory:"No items in this category",noItemsCategoryDesc:"Check other categories for delicious options",selectCategory:"Select a category to start exploring our carefully crafted culinary offerings",whyChooseUs:{title:"Why Choose Us?",subtitle:"Experience culinary excellence with our commitment to quality, freshness, and exceptional service",freshIngredients:{title:"Fresh Ingredients",description:"Locally sourced, premium quality ingredients prepared daily"},fastDelivery:{title:"Fast Delivery",description:"Quick and reliable delivery service to your doorstep"},qualityAssured:{title:"Quality Assured",description:"Rigorous quality control and hygiene standards"},expertChefs:{title:"Expert Chefs",description:"Experienced culinary professionals crafting memorable experiences"}},footer:{brand:"MenuHub",description:"Discover exceptional dining experiences with our curated selection of restaurants and delicious cuisines.",quickLinks:"Quick Links",services:"Services",getInTouch:"Get in Touch",visitUs:"Visit Us",callUs:"Call Us",emailUs:"Email Us",copyright:"All rights reserved.",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",poweredBy:"Powered by",links:{ourMenu:"Our Menu",aboutUs:"About Us",locations:"Locations",reservations:"Reservations",specialOffers:"Special Offers",giftCards:"Gift Cards"},services:{onlineOrdering:"Online Ordering",tableBooking:"Table Booking",privateEvents:"Private Events",catering:"Catering",takeaway:"Takeaway",corporateMeals:"Corporate Meals"}},cart:{title:"Cart",newOrder:"New Order",orders:"Orders",orderType:"Order Type",table:"Table:",notes:"Notes:",refresh:"Refresh",refreshing:"Refreshing...",remove:"Remove",empty:"Your cart is empty",emptyDesc:"Start by adding some items to your cart",total:"Total",placeOrder:"Place Order",proceed:"Proceed to Order",processing:"Processing...",clear:"Clear Cart",item:"item",items:"items",variant:"variant",variants:"variants",plain:"Plain",customized:"Customized",addons:"Add-ons",variantTotal:"Variant Total",quantity:"Quantity",each:"each",min:"Min",max:"Max",qty:"Qty",minQuantityError:"Minimum quantity for {name} is {min}",maxQuantityError:"Maximum quantity for {name} is {max}",decreaseQuantity:"Decrease quantity",increaseQuantity:"Increase quantity",creating_order:"Creating order...",order_created_success:"Order created successfully!",order_creation_failed:"Failed to create order. Please try again.",sending_whatsapp:"Sending WhatsApp message...",whatsapp_sent_success:"WhatsApp message sent successfully!",whatsapp_send_failed:"Failed to send WhatsApp message",clearing_basket:"Clearing basket...",basket_cleared:"Basket cleared successfully!",clear_basket_failed:"Failed to clear basket",load_order_types_failed:"Failed to load order types",confirming_price_changes:"Confirming price changes...",price_changes_confirmed:"Price changes confirmed successfully!",price_changes_failed:"Failed to confirm price changes",session_required:"Session ID required"}},order:{form:{title:"Order Details",name:"name",address:"address",phone:"phone",email:"email",orderDetails:"Order Details",orderType:"Order Type",paymentMethod:"Payment Method",cashDescription:"Pay with cash upon delivery or pickup",creditCardDescription:"Pay securely with credit card online",onlinePaymentDescription:"Pay using online payment methods",selectPaymentMethod:"Select payment method...",orderTypeRequired:"Order type is required",cash:"Cash",information:"Information",creditCard:"Credit Card",onlinePayment:"Online Payment",selectOrderType:"Select order type...",orderInformation:"Order Information",customerName:"Customer Name",customerNameRequired:"Customer name is required",customerNamePlaceholder:"Enter customer name",deliveryAddress:"Delivery Address",deliveryAddressRequired:"Delivery address is required for this order type",deliveryAddressPlaceholder:"Enter delivery address",phoneNumber:"Phone Number",phoneNumberRequired:"Phone number is required for this order type",phoneNumberPlaceholder:"Enter phone number",specialInstructions:"Special Instructions",specialInstructionsPlaceholder:"Any special instructions for your order...",orderSummary:"Order Summary",subtotal:"Subtotal",serviceCharge:"Service Charge",minimumRequired:"Minimum required",estimatedTime:"Estimated time",minutes:"minutes",backToCart:"Back to Cart",createOrder:"Create Order",creating:"Creating...",loadingOrderTypes:"Loading order types...",noOrderTypes:"No order types available. Please contact support.",minimumOrder:"Minimum order",service:"service",minimumOrderError:"Minimum order amount for {type} is ${amount}. Current total: ${current}"},validation:{fixErrors:"Please fix the following errors:",customerNameRequired:"Customer name is required",orderTypeRequired:"Please select an order type",addressRequired:"Delivery address is required for this order type",phoneRequired:"Phone number is required for this order type"}},priceChange:{title:"Price Changes Detected",description:"Some items in your basket have price changes that need to be confirmed before proceeding with the order.",changesRequired:"Changes Required:",defaultMessage:"Price updates need to be confirmed to continue.",cancel:"Cancel",confirm:"Confirm & Continue",confirming:"Confirming..."},productModal:{customizeOrder:"Customize Your Order",allergenInformation:"Allergen Information",ingredients:"Ingredients",availableAddons:"Available Add-ons",add:"Add",recommended:"Recommended",min:"Min",max:"Max",orderSummary:"Order Summary",quantity:"Quantity",total:"Total",addToCar:"Add to Cart",addons:"Addons"},errors:{loadingBasket:"Failed to load basket",loadingOrderTypes:"Failed to load order types",removingItem:"Failed to remove item from basket",increasingQuantity:"Failed to increase item quantity",decreasingQuantity:"Failed to decrease item quantity",increasingAddonQuantity:"Failed to increase addon quantity",clearingBasket:"Failed to clear basket",creatingOrder:"Failed to create order",orderAlreadyProcessing:"This order is already being processed",priceChangeDetails:"Failed to load price change details",confirmingPriceChanges:"Failed to confirm price changes",sessionIdRequired:"Session ID required for price change confirmation",addonProductNotFound:"Could not find addon product ID",cartItemNotFound:"Cart item not found"},ordersManager:{total:"Total",clearFilters:"Clear Filters",subTotal:"Sub Total",filtered:"Filtered",OrderType:"Order Type",serviceFeeApplied:"Service Charge",DeliveryAddress:"Delivery Address",OrderNotesInformation:"Order Notes & Information",OrderMetadata:"Order Metadata",ItemCount:"Item Count",TotalItems:"Total Items",OrderTimeline:"Order Timeline",searchPlaceholder:"Write here",showAdvancedFilter:"Show Advanced Filters",hideAdvancedFilter:"Hide Advanced Filters",of:"of",orders:"orders",clearFilter:"Clear Filters",customerName:"Customer Name",tableName:"Table Name",orderType:"Order type",minPrice:"Min Price",maxPrice:"Max price",Showing:"Showing",to:"to",perpage:"Per Page",cancelOrder:"Cancel Order",cancelOrderConfirmation:"Are you sure you want to cancel the order?",deletedOrders:"Deleted Orders",title:"Order Management",description:"Easily manage and track your restaurant's orders.",pendingOrders:"Pending Orders",branchOrders:"Branch Orders",allStatuses:"All Statuses",statusFilter:"Status Filter",noOrders:"No  orders yet.",customer:"Customer",orderNumber:"Order Number",status:"Status",table:"Table",amount:"Amount",date:"Date",actions:"Actions",viewDetails:"View Details",confirm:"Confirm",reject:"Reject",changeStatus:"Change Status",orderItems:"Order Items",createdAt:"Created At",confirmedA:"Confirmed At",rowVersion:"Row Version",confirmOrderTitle:"Confirm Order",confirmOrderPrompt:"Are you sure you want to confirm this order?",rejectOrderTitle:"Reject Order",rejectOrderPrompt:"Enter the reason for rejection:",rejectReasonPlaceholder:"Reason for rejection...",updateStatusTitle:"Update Status",updateStatusPrompt:"Are you sure you want to update the order status ?",cancel:"Cancel",confirmAction:"Confirm",rejectAction:"Reject",updateAction:"Update",confirming:"Confirming...",rejecting:"Rejecting...",updating:"Updating...",orderDetailsTitle:"Order Details",successNotification:"Operation Successful",orderConfirmedSucces:"Order confirmed successfully!",orderRejectedSuccess:"Order rejected successfully!",orderStatusUpdatedSuccess:"Order status updated successfully!",errorInvalidStatusTransition:"Invalid status transition: Please confirm the order first (move to Confirmed status).",errorCannotConfirm:"This order cannot be confirmed. Current status: {currentStatus}.",quantity:"Quantity",unitPrice:"Unit Price",addonPrice:"Addon Price",notes:"Notes",amountLabel:"Total Amount",DeliveryInformation:"Delivery Information",TableInformation:"Table Information",CustomerInformation:"Customer Information",CustomerName:"Customer Name",PhoneNumber:"Phone Number",OrderTag:"Order Tag",OrderNotes:"Order Notes",MinOrderAmount:"Minimum Order Amount",CompletedAt:"Completed At",time:"Time",Status:"Status"},orderService:{statuses:{pending:"Pending",confirmed:"Confirmed",preparing:"Preparing",ready:"Ready",completed:"Completed",delivered:"Delivered",cancelled:"Cancelled",rejected:"Rejected",unknown:"Unknown"},errors:{createSessionOrder:"Error creating session order",getPendingOrders:"Error fetching pending orders",getTableOrders:"Error fetching table orders",getOrder:"Error fetching order",getBranchOrders:"Error fetching branch orders",confirmOrder:"Error confirming order",rejectOrder:"Error rejecting order",updateOrderStatus:"Error updating order status",trackOrder:"Error fetching order tracking",getOrderTrackingQR:"Error fetching order tracking QR",smartCreateOrder:"Error creating smart order",getTableBasketSummary:"Error fetching table basket summary",validationError:"Validation error: {errors}",invalidRequest:"Invalid request. Please check the data.",sessionExpired:"Session expired. Please log in again.",unauthorized:"You are not authorized for this action.",orderNotFound:"Order not found.",invalidStatus:"Order status is not suitable for this action.",noInternet:"Check your internet connection.",unknownError:"Unknown error",getOrderTypeText:"Error fetching order type text",getOrderType:"Error fetching order type",getActiveOrderTypes:"Error fetching active order types",getAllOrderTypes:"Error fetching all order types",orderTotalCalculation:"Error calculating order total",getEstimatedTime:"Error fetching estimated delivery time",getOrderTypeByCode:"Error fetching order type by code",getOrderTypesForDisplay:"Error fetching order types for display",unknownOrderType:"Unknown order type"}},branchPreferences:{title:"Branch Preferences",description:"Configure branch-specific settings and preferences",loading:"Loading branch preferences...",saving:"Saving...",refresh:"Refresh",saveChanges:"Save Changes",saveSuccess:"Branch preferences saved successfully!",cleanupModes:{afterTimeout:"After Timeout",afterClosing:"After Closing",disabled:"Disabled"},sections:{orderManagement:{title:"Order Management",description:"Configure how orders are handled and processed",autoConfirmOrders:"Auto Confirm Orders",autoConfirmOrdersDesc:"Automatically confirm incoming orders without manual approval",useWhatsappForOrders:"WhatsApp for Orders",useWhatsappForOrdersDesc:"Enable WhatsApp integration for order notifications"},displaySettings:{title:"Display Settings",description:"Configure what information is displayed to customers",showProductDescriptions:"Show Product Descriptions",showProductDescriptionsDesc:"Display detailed product descriptions to customers",enableAllergenDisplay:"Display Allergen Information",enableAllergenDisplayDesc:"Show allergen warnings and information",enableIngredientDisplay:"Display Ingredients",enableIngredientDisplayDesc:"Show ingredient lists for products"},paymentMethods:{title:"Payment Methods",description:"Configure accepted payment methods",acceptCash:"Accept Cash Payments",acceptCashDesc:"Allow customers to pay with cash",acceptCreditCard:"Accept Credit Cards",acceptCreditCardDesc:"Allow customers to pay with credit/debit cards",acceptOnlinePayment:"Accept Online Payments",acceptOnlinePaymentDesc:"Allow customers to pay online through digital payment methods"},localization:{title:"Localization",description:"Configure language and regional settings",defaultLanguage:"Default Language",defaultCurrency:"Default Currency",timeZone:"Time Zone",supportedLanguages:"Supported Languages"},sessionManagement:{title:"Session Management",description:"Configure session timeout and cleanup settings",sessionTimeout:"Session Timeout (Minutes)",cleanupMode:"Cleanup Mode",cleanupDela:"Cleanup Delay After Close (Minutes)",cleanupModeDesc:"Choose when to cleanup expired sessions",sessionTimeoutDesc:"Minutes before session expires due to inactivity",cleanupDelayDesc:"Minutes to wait after closing before cleanup",cleanupDisabledMessage:"Session cleanup is disabled. Sessions will not be automatically cleaned up."}},currencies:{TRY:"Turkish Lira (₺)",USD:"US Dollar ($)",EUR:"Euro (€)"},languages:{tr:"Turkish",en:"English",ar:"Arabic",de:"German",fr:"French",es:"Spanish",it:"Italian",ru:"Russian",zh:"Chinese",ja:"Japanese"},timezones:{"Europe/Istanbul":"Istanbul (UTC+3)","Europe/London":"London (UTC+0)","America/New_York":"New York (UTC-5)"},errors:{loadFailed:"Failed to load branch preferences",saveFailed:"Failed to save branch preferences",validationError:"Validation error: {errors}",invalidRequest:"Invalid request. Please check the data.",sessionExpired:"Session expired. Please log in again.",unauthorized:"You don't have permission for this action.",notFound:"Branch preferences not found.",conflict:"Data is not up to date. Please refresh the page and try again.",noInternet:"Check your internet connection.",unknownError:"An unknown error occurred",invalidPaymentSettings:"Invalid payment settings. At least one payment method must be selected.",invalidSessionSettings:"Invalid session settings. Please check the values."}},whatsapp:{confirmation:{title:"Send to WhatsApp?",subtitle:"Notify restaurant via WhatsApp",sendTo:"Your order details will be sent to:",restaurant:"Restaurant",whatWillBeSent:"What will be sent:",orderDetails:"• Your order details and items",customerInfo:"• Customer name and table number",totalPrice:"• Total price and any special notes",timestamp:"• Order timestamp",note:"Note:",noteDescription:"This will open WhatsApp on your device. Your order will still be processed even if you choose not to send to WhatsApp.",skipWhatsApp:"Skip WhatsApp",sendToWhatsApp:"Send to WhatsApp",sending:"Sending..."}},recycleBin:{title:"Recycle Bin",titleProducts:"Deleted Products and Categories",titleBranches:"Deleted Branches",titleTables:"Deleted Tables",titleBranchProducts:"Deleted Branch Products and Categories",titleBranchCategories:"Deleted Branch Categories",titleTableCategories:"Deleted Table Categories",description:"Manage deleted branches, categories, products, and tables",descriptionProducts:"Manage deleted products and categories",descriptionBranches:"Manage deleted branches",descriptionTables:"Manage deleted tables",descriptionBranchProducts:"Manage deleted branch products and categories",descriptionBranchCategories:"Manage deleted branch categories",descriptionTableCategories:"Manage deleted table categories",search:"Search items...",filter:{all:"All Items",group1:"All Group 1",group2:"All Group 2",group1Label:"📋 Restaurant Level (Branches, Products, Tables)",group2Label:"🏢 Branch Level (Branch Products & Categories)",branches:"Branches",categories:"Categories",products:"Products",tables:"Tables",branchProducts:"Branch Products",branchCategories:"Branch Categories",tableCategories:"Table Categories"},refresh:"Refresh",loading:"Loading...",stats:{group1:"Restaurant Level",group1Desc:"Branches, Products, Tables",group2:"Branch Level",group2Desc:"Branch Products & Categories",totalDeleted:"Total Deleted",totalDesc:"All deleted items",filtered:"Showing",filteredDesc:"Current filter results",deletedBranch:"Deleted Branches",deletedCategory:"Deleted Categories",deletedProduct:"Deleted Products",deletedTable:"Deleted Tables",deletedBranchProduct:"Deleted Branch Products",deletedBranchCategory:"Deleted Branch Categories",deletedTableCategory:"Deleted Table Categories"},entityTypes:{category:"Category",product:"Product",branch:"Branch",table:"Table",branchProduct:"Branch Product",branchCategory:"Branch Category",tableCategory:"Table Category",other:"Other"},contextInfo:{category:"Category:",branch:"Branch:",restaurant:"Restaurant:"},deletedAt:"Deleted:",restore:{button:"Restore",restoring:"Restoring...",successCategory:'"{name}" category has been restored successfully',successProduct:'"{name}" product has been restored successfully',successBranch:'"{name}" branch has been restored successfully',successTable:'"{name}" table has been restored successfully',successBranchCategory:'"{name}" branch category has been restored successfully',successTableCategory:'"{name}" table category has been restored successfully',error:"Restore operation failed"},productRestore:{title:"Restore Product Options",subtitle:"Choose how you want to restore the product",simpleTitle:"Restore Product",simpleDesc:"Restoring this product will restore just general product information.",cascadeTitle:"Restoring this product will also restore all associated variants and addons.",cascadeDesc:"Do you want to restore just the product or also all associated variants and addons?",includeOptions:"Include Variants and Addons",includeImages:"Include Product Image",includeAll:"Include All Associated Data",recommended:"Recommended"},categoryRestore:{title:"Restore Product Options",subtitle:"Choose How to Restore the Product",simpleTitle:"Restore the Product",simpleDesc:"Restoring this product will restore only general product information",cascadeTitle:"Restoring this product will also restore all associated variants and extensions",cascadeDesc:"Do you want to restore just the product or all associated variants and extensions as well?",includeOptions:"Include variants and extensions",includeImages:"Include the product image",includeAll:"Include all associated data",includeProducts:"Include products in the category",recommended:"Recommended"},branchRestore:{title:"Restore Branch Options",subtitle:"Choose how you want to restore the branch",simpleTitle:"Restore Branch",simpleDesc:"Restoring this branch will restore just general branch information.",cascadeTitle:"Restoring this branch will also restore all associated products and categories.",cascadeDesc:"Do you want to restore just the branch or also all associated products and categories?",recommended:"Recommended",includeProducts:"Include Products and Categories",includeTables:"Include Tables",includeAll:"Include All Associated Data"},empty:{title:"Recycle bin is empty",titleFiltered:"No results found",description:"No deleted items found yet",descriptionFiltered:"No deleted items match your search criteria"},errors:{loadingError:"Error loading deleted items"}},management:{title:"Management Information",subtitle:"Company and legal details",noDataTitle:"No Management Information",noDataMessage:"Management information has not been set up yet. Please add restaurant details to get started.",dangerZone:{title:"Danger Zone",description:"Caution: These actions are irreversible. Please proceed with care."},buttons:{edit:"Edit",cancel:"Cancel",save:"Save Changes",saving:"Saving Changes...",delete:"Delete Restaurant",purge:"Purge Restaurant Data"},sections:{restaurantDetails:"Restaurant Details",companyInfo:"Company Information",taxInfo:"Tax & Registration",certificates:"Certificates & Permits",additionalSettings:"Additional Settings"},fields:{restaurantName:"Restaurant Name",restaurantLogo:"Restaurant Logo",companyTitle:"Company Title",legalType:"Legal Type",taxNumber:"Tax Number",taxOffice:"Tax Office",mersisNumber:"MERSIS Number",tradeRegistry:"Trade Registry Number",workPermit:"Work Permit",foodCertificate:"Food Certificate",alcoholService:"Has Alcohol Service",logo:"Logo"},placeholders:{restaurantName:"Enter restaurant name",companyTitle:"Enter company title",taxNumber:"Enter tax number",taxOffice:"Enter tax office",mersisNumber:"Enter MERSIS number",tradeRegistry:"Enter trade registry number",selectLegalType:"Select Legal Type"},legalTypes:{llc:"LLC",corporation:"Corporation",partnership:"Partnership"},status:{uploaded:"Uploaded",notUploaded:"Not uploaded",available:"Available",notAvailable:"Not Available",alcoholService:"Alcohol Service:"},common:{na:"N/A"}},branches:{status:{active:"Active",inactive:"Inactive"},fields:{branchType:"Branch Type",branchTag:"Branch Tag"}},restaurantsTab:{status:{active:"Active",inactive:"Inactive"},actions:{edit:"Edit Restaurant",delete:"Delete Restaurant"},stats:{totalBranches:"Total Branches",active:"Active",inactive:"Inactive",alcohol:"Alcohol"},common:{yes:"Yes",no:"No"},modal:{editTitle:"Edit Restaurant",placeholders:{restaurantName:"Restaurant Name",cuisineType:"Cuisine Type"},labels:{hasAlcoholService:"Has Alcohol Service"},buttons:{update:"Update Restaurant",updating:"Updating..."}}},tabs:{restaurants:"Restaurants",branches:"Branches",management:"Management Info",deleted:"Deleted"},allergens:{GLUTEN:{name:"Gluten",description:"Wheat, rye, barley, oats"},CRUSTACEANS:{name:"Crustaceans",description:"Prawns, crabs, lobster"},EGGS:{name:"Eggs",description:"Eggs and egg products"},FISH:{name:"Fish",description:"All fish products"},PEANUTS:{name:"Peanuts",description:"Peanuts and peanut products"},SOYBEANS:{name:"Soybeans",description:"Soya and soya products"},MILK:{name:"Milk",description:"Milk and dairy products"},NUTS:{name:"Tree Nuts",description:"Almonds, hazelnuts, walnuts, cashews, etc."},CELERY:{name:"Celery",description:"Celery and celeriac"},MUSTARD:{name:"Mustard",description:"Mustard and mustard products"},SESAME:{name:"Sesame",description:"Sesame seeds and products"},SULPHITES:{name:"Sulphites",description:"Sulphur dioxide and sulphites (>10mg/kg)"},LUPIN:{name:"Lupin",description:"Lupin and lupin products"},MOLLUSCS:{name:"Molluscs",description:"Clams, mussels, oysters, snails, squid"}},tableQR:{loading:{validatingQR:"Validating QR Code",fetchingTableInfo:"Fetching table information..."},error:{title:"Error",tryAgain:"Try Again",sessionFeatureComingSoon:"Session start feature coming soon.",sessionStartFailed:"Session could not be started."},header:{title:"Restaurant Menu",subtitle:"Digital Menu Experience",active:"Active"},welcome:{greeting:"Welcome!",connectedToTable:"Successfully connected to table",tableStatus:"Table Status",occupied:"Occupied",available:"Available",capacity:"Capacity",person:"Person",people:"People",session:"Session",sessionActive:"Active",sessionPending:"Pending",welcomeMessage:"Welcome Message"},actions:{viewMenu:"View Menu",callWaiter:"Call Waiter"},footer:{connectedViaQR:"Connected via QR Code • Secure session"}},productCard:{chefsPick:"Chef's Pick",customizable:"Customizable",addons:"+addons",allergens:"Allergens",ingredients:"Ingredients",inCart:"in cart",customizeOrder:"Customize Order",addToCart:"Add to Cart",prepTime:"15-20 min",popular:"Popular",rating:"4.8",more:"more"},moneyCase:{title:"Money Case Management",subtitle:"Manage your branch cash operations",selectBranch:"Select a branch",selectBranchToView:"Select Branch",branchSelector:"Branch Selector",noBranches:"No branches available",status:"Status",open:"Open",closed:"Closed",todaySales:"Today's Sales",todayCash:"Today's Cash",todayCard:"Today's Card",currentBalance:"Current Balance",transactionCount:"Transaction Count",transactions:"Transactions",openCase:"Open Money Case",closeCase:"Close Money Case",viewZReport:"View Z Report",history:"Money Case History",records:"Records",noHistory:"No history available",noHistoryDescription:"Money case operations will appear here",openingBalance:"Opening Balance",openingBalanceDescription:"Enter the initial cash amount in the register",closingBalance:"Closing Balance",actualCash:"Actual Cash",expectedCash:"Expected Cash",difference:"Difference",surplus:"Surplus",shortage:"Shortage",notes:"Notes",notesPlaceholder:"Add any notes or comments about this money case session...",date:"Date & Time",openedAt:"Opened At",closedAt:"Closed At",lastUpdated:"Last Updated",caseId:"Money Case ID",confirm:"Confirm",confirmClose:"Confirm Close",cancel:"Cancel",close:"Close",print:"Print",download:"Download",serviceFee:"Service Fee",periodSummary:"Period Summary",avgOrderValue:"Avg. Order Value",totalDiscrepancy:"Total Discrepancy",totalShifts:"Total Shifts",avgShiftDuration:"Avg. Shift Duration",shiftsWithIssues:"Shifts with Issues",period:"Period",todayTotalSales:"Today's Total Sales",currentShiftRevenue:"Current Shift Revenue",closedShifts:"Closed Shifts",ordersToday:"Orders Today",weekToDate:"Week to Date",monthToDate:"Month to Date",shifts:"Shifts",orders:"Orders",zReport:"Z Report",reportDate:"Report Date",openingInformation:"Opening Information",salesSummary:"Sales Summary",closingInformation:"Closing Information",totalSales:"Total Sales",cashSales:"Cash Sales",cardSales:"Card Sales",refunds:"Refunds",expenses:"Expenses",noReportData:"No report data available",success:{opened:"Money case opened successfully!",closed:"Money case closed successfully!",closedWithDifference:"Money case closed successfully! Difference: {{difference}}"},error:{fetchBranches:"Failed to fetch branches",fetchActiveCase:"Failed to fetch active money case",fetchHistory:"Failed to fetch money case history",fetchZReport:"Failed to fetch Z report",openCase:"Failed to open money case",closeCase:"Failed to close money case",noBranchSelected:"Please select a branch first"},validation:{openingBalanceRequired:"Opening balance is required",openingBalanceMin:"Opening balance must be 0 or greater",actualCashRequired:"Actual cash amount is required",actualCashMin:"Actual cash must be 0 or greater",notesMaxLength:"Notes cannot exceed 500 characters"},modal:{openTitle:"Open Money Case",openDescription:"Start a new money case session",closeTitle:"Close Money Case",closeDescription:"End the current money case session and reconcile cash",zReportTitle:"Z Report - Detailed Summary",confirmOpenMessage:"Are you sure you want to open a new money case?",confirmCloseMessage:"Are you sure you want to close the current money case? This action cannot be undone."}}},KL={common:{loading:"جاري التحميل...",error:"خطأ",change:"تغيير",success:"نجح",cancel:"إلغاء",save:"حفظ",delete:"حذف",edit:"تعديل",add:"إضافة",search:"بحث",filter:"تصفية",close:"إغلاق",open:"فتح",yes:"نعم",no:"لا",next:"التالي",previous:"السابق",continue:"متابعة",refresh:"تحديث الصفحة",clear:"مسح",filters:"المرشحات",allStatuses:"جميع الحالات",pending:"في الانتظار",delivered:"تم التسليم",cancelled:"ملغي",dateRange:"نطاق التاريخ",today:"اليوم",yesterday:"أمس",last7Days:"آخر 7 أيام",last30Days:"آخر 30 يوم",thisMonth:"هذا الشهر",lastMonth:"الشهر الماضي"},filter:{status:"الحالة",all:"الكل",active:"نشط",inactive:"غير نشط",categories:"الفئات",allergenic:"مسببات الحساسية",nonallergenic:"غير مسبب للحساسية",specific:{allergens:"مسببات الحساسية"},price:{range:"نطاق السعر",min:"أقل سعر",max:"أعلى سعر"}},sort:{title:"ترتيب حسب",name:{asc:"الاسم (أ-ي)",desc:"الاسم (ي-أ)"},price:{asc:"السعر (من الأقل إلى الأعلى)",desc:"السعر (من الأعلى إلى الأقل)"},order:{asc:"ترتيب العرض (الأول إلى الأخير)",desc:"ترتيب العرض (الأخير إلى الأول)"},created:{asc:"تاريخ الإنشاء (الأقدم أولاً)",desc:"تاريخ الإنشاء (الأحدث أولاً)"}},clear:{filters:"مسح المرشحات",all:"مسح الكل"},restaurantManagement:{tabs:{general:"عام",legal:"قانوني",about:"حول"},GeneralInformation:"معلومات عامة"},nav:{home:"الرئيسية",features:"المميزات",pricing:"الأسعار",testimonials:"الشهادات",faq:"الأسئلة الشائعة",contact:"اتصل بنا",login:"تسجيل الدخول",register:"التسجيل",logout:"تسجيل الخروج",profile:"الملف الشخصي",settings:"الإعدادات",dashboard:"لوحة التحكم",goToPanel:"انتقل إلى اللوحة"},auth:{login:"تسجيل الدخول",register:"التسجيل",logout:"تسجيل الخروج",email:"البريد الإلكتروني",password:"كلمة المرور",confirmPassword:"تأكيد كلمة المرور",forgotPassword:"نسيت كلمة المرور",rememberMe:"تذكرني",alreadyHaveAccount:"هل لديك حساب بالفعل؟",dontHaveAccount:"ليس لديك حساب؟",signIn:"تسجيل الدخول",signUp:"إنشاء حساب"},hero:{title:{line1:"رقمن مطعمك",line2:"باستخدام",line3:"قائمة QR"},subtitle:"يمكن لعملائك الوصول إلى قائمتك فوراً عن طريق مسح رمز QR. قدم تجربة بدون لمس وسريعة وحديثة.",features:{qrAccess:"وصول سريع برمز QR",mobileOptimized:"محسن للجوال",instantUpdate:"تحديث فوري"},cta:{getStarted:"ابدأ الآن",features:"المميزات"},socialProof:{restaurants:"+500 مطعم سعيد",satisfaction:"99% رضا العملاء"}},dashboard:{overview:{title:"نظرة عامة",description:"اعرض الحالة العامة لمطعمك.",kpis:{totalViews:"إجمالي المشاهدات",qrScans:"مسح رموز QR",totalOrders:"إجمالي الطلبات",customerRating:"تقييم العملاء",changeTexts:{lastWeek:"مقارنة بالأسبوع الماضي",lastMonth:"مقارنة بالشهر الماضي",thisWeek:"هذا الأسبوع"}},quickStats:{thisMonth:"هذا الشهر",totalOrders:"إجمالي الطلبات",average:"متوسط",dailyOrders:"الطلبات اليومية",new:"جديد",customers:"العملاء",rating:"التقييم",totalCount:"العدد الإجمالي"},charts:{weeklyActivity:"النشاط الأسبوعي",popularProducts:"المنتجات الشائعة",monthlyRevenue:"الإيرادات الشهرية"}},branches:{title:"إدارة الفروع",description:"إدارة فروعك وإضافة فروع جديدة.",error:{loadFailed:"فشل في تحميل الفروع",createFailed:"فشل في إنشاء الفرع",updateFailed:"فشل في تحديث الفرع",deleteFailed:"فشل في حذف الفرع",statusUpdateFailed:"فشل في تحديث حالة الفرع",detailsLoadFailed:"فشل في تحميل تفاصيل الفرع",restaurantIdNotFound:"معرف المطعم غير موجود"},delete:{title:"حذف الفرع",confirmMessage:'هل أنت متأكد من أنك تريد حذف الفرع "{branchName}"؟ لا يمكن التراجع عن هذا الإجراء.'}},orders:{title:"الطلبات",description:"عرض وإدارة الطلبات.",loading:"جاري تحميل الطلبات...",refresh:"تحديث",newOrder:"طلب جديد",tabs:{all:"الكل",pending:"في الانتظار",preparing:"قيد التحضير",ready:"جاهز",delivered:"تم التسليم",cancelled:"ملغي"},status:{pending:"في الانتظار",preparing:"قيد التحضير",ready:"جاهز",delivered:"تم التسليم",cancelled:"ملغي"},stats:{totalOrders:"إجمالي الطلبات",totalRevenue:"إجمالي الإيرادات",pendingOrders:"الطلبات المعلقة",avgOrderValue:"متوسط قيمة الطلب"}},moneyCase:{title:"إدارة الصندوق النقدي"},ingredients:{title:"المكونات"},orderType:{title:"إعدادات أنواع الطلبات",subtitle:"إدارة حالة التفعيل والحد الأدنى لقيمة الطلب ورسوم الخدمة لأنواع الطلبات",loading:"جاري تحميل أنواع الطلبات...",pleaseWait:"يرجى الانتظار",settingsUpdated:"تم تحديث الإعدادات بنجاح",updateError:"حدث خطأ أثناء تحديث الإعدادات",loadingError:"حدث خطأ أثناء تحميل أنواع الطلبات",active:"نشط",requiresAddress:"يتطلب عنوان",requiresTable:"يتطلب اختيار طاولة",requiresName:"يتطلب اسم العميل",requiresPhone:"يتطلب رقم الهاتف",minutes:"دقيقة",requirements:"المتطلبات",table:"طاولة",address:"عنوان",phone:"هاتف",activeStatus:"الحالة النشطة",activeStatusDescription:"تفعيل/إلغاء تفعيل نوع الطلب هذا",minOrderAmount:"الحد الأدنى لقيمة الطلب",serviceCharge:"رسوم الخدمة",saveSettings:"حفظ الإعدادات",updating:"جاري التحديث...",totalOrderTypes:"إجمالي أنواع الطلبات",activeTypes:"الأنواع النشطة",totalActiveOrders:"إجمالي الطلبات النشطة",estimatedTime:"الوقت المقدر"},products:{title:"المنتجات",description:"عرض وإدارة المنتجات."},tables:{title:"إدارة الطاولات",description:"عمليات إدارة الطاولات.",loading:"جاري تحميل الطاولات...",selectBranch:"يرجى اختيار فرع لإدارة الطاولات",noCategories:"لا توجد فئات طاولات في هذا الفرع بعد",tableCount:"طاولات",newTable:"إضافة طاولة جديدة"},users:{title:"إدارة المستخدمين",description:"إدارة المستخدمين والأدوار والصلاحيات.",loading:"جاري تحميل المستخدمين...",tabs:{users:"المستخدمين",roles:"الأدوار"},stats:{total:"إجمالي",active:"نشط",users:"مستخدم",roles:"دور",system:"النظام",custom:"مخصص",totalUsers:"إجمالي المستخدمين"},error:{loadFailed:"فشل في تحميل المستخدمين",rolesLoadFailed:"فشل في تحميل الأدوار",createRoleFailed:"فشل في إنشاء الدور",createUserFailed:"فشل في إنشاء المستخدم"}},settings:{title:"الإعدادات",description:"إدارة إعدادات حسابك."},profile:{title:"الملف الشخصي",description:"عرض معلوماتك الشخصية.",error:{loadFailed:"فشل في تحميل معلومات الملف الشخصي"},restaurantInfo:"معلومات المطعم"},restaurant:{title:"إدارة المطعم",description:"إدارة معلومات وإعدادات مطعمك.",loading:"جاري تحميل معلومات المطعم...",restaurantName:"اسم المطعم",restaurantStatus:"حالة المطعم",restaurantLogo:"شعار المطعم",companyInfo:"معلومات الشركة",addAboutInfo:"إضافة معلومات حول المطعم",placeholders:{restaurantName:"أدخل اسم المطعم",aboutStory:"قصة مطعمنا",aboutDetails:"قدم معلومات مفصلة حول مطعمك..."}},sidebar:{title:"قائمة QR",logout:"تسجيل الخروج",branch:"فرع"},RestaurantManagement:{title:"إدارة المطعم"},branchManagementTitle:"إدارة الفروع"},theme:{toggleToDark:"التبديل إلى الوضع المظلم",toggleToLight:"التبديل إلى الوضع المضيء",dark:"مظلم",light:"مضيء"},language:{turkish:"Türkçe",english:"English",arabic:"العربية",selectLanguage:"اختر اللغة"},settings:{title:"الإعدادات",description:"إدارة إعدادات حسابك وتفضيلاتك",save:"حفظ",saveSuccess:"تم حفظ الإعدادات بنجاح.",tabs:{general:"عام",notifications:"الإشعارات",privacy:"الخصوصية",appearance:"المظهر",data:"البيانات"},general:{title:"الإعدادات العامة",description:"تكوين إعدادات حسابك الأساسية",language:"اللغة",timezone:"المنطقة الزمنية",dateFormat:"تنسيق التاريخ",currency:"العملة",autoSave:{title:"الحفظ التلقائي",description:"إدارة إعدادات الحفظ التلقائي",enabled:"الحفظ التلقائي",enabledDesc:"يحفظ تغييراتك تلقائياً",dataSync:"مزامنة البيانات",dataSyncDesc:"مزامنة بياناتك بين الأجهزة"}},notifications:{title:"إعدادات الإشعارات",description:"إدارة تفضيلات الإشعارات",enabled:"تفعيل الإشعارات",enabledDesc:"تفعيل جميع الإشعارات",email:"إشعارات البريد الإلكتروني",emailDesc:"استلام بريد إلكتروني للتحديثات المهمة",push:"الإشعارات الفورية",pushDesc:"استلام إشعارات فورية",sound:"إشعارات الصوت",soundDesc:"تفعيل أصوات الإشعارات"},privacy:{title:"الخصوصية والأمان",description:"إدارة أمان حسابك وإعدادات الخصوصية",twoFactor:"المصادقة الثنائية",twoFactorDesc:"حماية حسابك بأمان إضافي",autoLogout:"تسجيل الخروج التلقائي",autoLogoutDesc:"تسجيل الخروج بعد 30 دقيقة من عدم النشاط",analytics:"مشاركة البيانات التحليلية",analyticsDesc:"مشاركة بيانات مجهولة للتطوير"},appearance:{title:"إعدادات المظهر",description:"تخصيص تفضيلات الواجهة",darkMode:"تفعيل الوضع المظلم",lightMode:"تفعيل الوضع المضيء",darkModeDesc:"استخدام السمة المظلمة",lightModeDesc:"استخدام السمة المضيئة",compact:"العرض المضغوط",compactDesc:"تصميم مضغوط يستخدم مساحة أقل",animations:"الرسوم المتحركة",animationsDesc:"تفعيل رسوم الواجهة المتحركة"},data:{title:"إدارة البيانات",description:"النسخ الاحتياطي أو حذف بياناتك",download:"تحميل البيانات",downloadDesc:"تحميل جميع بياناتك",upload:"رفع البيانات",uploadDesc:"رفع البيانات من النسخة الاحتياطية",delete:"حذف البيانات",deleteDesc:"حذف جميع البيانات",storage:"التخزين",storageDesc:"إدارة مساحة التخزين"}},notifications:{title:"الإشعارات",empty:"لا توجد إشعارات",markAllAsRead:"تعيين الكل كمقروء"},brand:{name:"QR Menu",slogan:"حل المطاعم الرقمي"},features:{title:"لماذا",titleHighlight:"QR Menu؟",subtitle:"حسن تجربة العملاء وانقل عملك إلى العصر الرقمي بميزات قوية مصممة للمطاعم الحديثة.",list:{qrAccess:{title:"وصول فوري برمز QR",description:"يمكن لعملائك الوصول إلى قائمتك فوراً عن طريق مسح رمز QR على الطاولة. لا يتطلب تحميل تطبيق."},mobileOptimized:{title:"محسن للجوال",description:"عرض مثالي على جميع الأجهزة. تجربة مثلى على الهاتف والجهاز اللوحي وسطح المكتب بتصميم متجاوب."},instantUpdate:{title:"تحديث فوري",description:"يتم نشر تغييرات قائمتك فوراً. تحديثات الأسعار والمنتجات الجديدة تظهر فوراً."},analytics:{title:"تحليلات مفصلة",description:"احصل على تقارير حول المنتجات الأكثر مشاهدة وسلوك العملاء واتجاهات المبيعات."},alwaysOpen:{title:"وصول على مدار الساعة",description:"يمكن لعملائك مشاهدة قائمتك في أي وقت. متاح حتى خارج ساعات المطعم."},secure:{title:"آمن وسريع",description:"آمن بشهادة SSL، صفحات سريعة التحميل. معلومات العملاء محمية."},customizable:{title:"تصميم قابل للتخصيص",description:"خيارات ألوان وخطوط وتصميم مناسبة لأسلوب مطعمك. اعكس هوية علامتك التجارية."},multiLanguage:{title:"دعم متعدد اللغات",description:"يمكنك تقديم قائمتك بلغات متعددة. اجذب عملائك الدوليين."}},cta:{title:"هل أنت مستعد لرقمنة مطعمك؟",subtitle:"ابدأ اليوم وقدم لعملائك تجربة حديثة. الإعداد يستغرق 5 دقائق فقط!",button:"جرب مجاناً"}},footer:{description:"حل قائمة رقمية حديث وسريع وآمن للمطاعم. حسن تجربة العملاء ورقمن عملك.",contact:{phone:"+90 212 345 67 89",email:"info@qrmenu.com",address:"ماسلاك، إسطنبول"},sections:{product:{title:"المنتج",links:{features:"المميزات",pricing:"الأسعار",demo:"عرض توضيحي",api:"وثائق API"}},company:{title:"الشركة",links:{about:"معلومات عنا",blog:"المدونة",careers:"الوظائف",contact:"اتصل بنا"}},support:{title:"الدعم",links:{helpCenter:"مركز المساعدة",faq:"الأسئلة الشائعة",liveSupport:"الدعم المباشر",tutorials:"فيديوهات تعليمية"}},legal:{title:"قانوني",links:{privacy:"سياسة الخصوصية",terms:"شروط الخدمة",cookies:"سياسة ملفات تعريف الارتباط",gdpr:"GDPR"}}},newsletter:{title:"ابق محدثاً",subtitle:"احصل على معلومات حول الميزات الجديدة والتحديثات.",placeholder:"عنوان بريدك الإلكتروني",button:"اشترك"},bottom:{copyright:"جميع الحقوق محفوظة.",madeWith:"مصمم ومطور في تركيا ❤️"}},pages:{login:{title:"تسجيل الدخول",subtitle:"سجل دخولك إلى حساب QR Menu الخاص بك",backToHome:"العودة إلى الرئيسية",email:"البريد الإلكتروني",password:"كلمة المرور",rememberMe:"تذكرني",forgotPassword:"نسيت كلمة المرور",signIn:"تسجيل الدخول",signingIn:"جاري تسجيل الدخول...",noAccount:"ليس لديك حساب؟",registerNow:"سجل الآن",errors:{emailRequired:"البريد الإلكتروني مطلوب",emailInvalid:"يرجى إدخال عنوان بريد إلكتروني صحيح",passwordRequired:"كلمة المرور مطلوبة",invalidCredentials:"بريد إلكتروني أو كلمة مرور خاطئة",generalError:"حدث خطأ أثناء تسجيل الدخول. يرجى المحاولة مرة أخرى."}},register:{title:"إنشاء حساب",subtitle:"انضم إلى عائلة QR Menu ورقمن مطعمك",backToHome:"العودة إلى الرئيسية",firstName:"الاسم الأول",lastName:"اسم العائلة",email:"البريد الإلكتروني",phone:"رقم الهاتف",password:"كلمة المرور",confirmPassword:"تأكيد كلمة المرور",createAccount:"إنشاء حساب",creating:"جاري إنشاء الحساب...",haveAccount:"هل لديك حساب بالفعل؟",signInNow:"تسجيل الدخول",formProgress:"إتمام النموذج",placeholders:{firstName:"اسمك الأول",lastName:"اسم العائلة",email:"إكزامبل@إيميل.كوم",phone:"05XX XXX XX XX",password:"••••••••",confirmPassword:"أعد إدخال كلمة المرور"},validation:{nameRequired:"الاسم الأول مطلوب",nameMin:"يجب أن يكون الاسم الأول 2 أحرف على الأقل",surnameRequired:"اسم العائلة مطلوب",surnameMin:"يجب أن يكون اسم العائلة 2 أحرف على الأقل",emailRequired:"البريد الإلكتروني مطلوب",emailInvalid:"يرجى إدخال عنوان بريد إلكتروني صحيح",phoneRequired:"رقم الهاتف مطلوب",phoneInvalid:"يرجى إدخال رقم هاتف صحيح (مثل: 05XX XXX XX XX)",passwordRequired:"كلمة المرور مطلوبة",passwordMin:"يجب أن تكون كلمة المرور 8 أحرف على الأقل",passwordPattern:"يجب أن تحتوي كلمة المرور على حرف كبير وحرف صغير ورقم واحد على الأقل",passwordConfirmRequired:"تأكيد كلمة المرور مطلوب",passwordMismatch:"كلمات المرور غير متطابقة",termsRequired:"يجب قبول شروط الخدمة",emailExists:"عنوان البريد الإلكتروني هذا مستخدم بالفعل"},passwordStrength:{veryWeak:"ضعيف جداً",weak:"ضعيف",medium:"متوسط",good:"جيد",strong:"قوي"},terms:{service:"شروط الخدمة",and:"و",privacy:"سياسة الخصوصية",accept:"أوافق على"},errors:{validation:"يرجى التحقق من معلومات التسجيل",invalidData:"معلومات غير صحيحة. يرجى المراجعة.",general:"حدث خطأ أثناء التسجيل. يرجى المحاولة مرة أخرى."},success:{message:"تم التسجيل بنجاح! يمكنك الآن إدخال معلومات مطعمك."}},forgotPassword:{title:"نسيت كلمة المرور",subtitle:"أدخل عنوان بريدك الإلكتروني وسنرسل لك رابط إعادة تعيين كلمة المرور",backToLogin:"العودة إلى تسجيل الدخول",email:"البريد الإلكتروني",sendResetLink:"إرسال رابط الإعادة تعيين",sending:"جاري الإرسال...",resendCode:"إعادة إرسال الرمز",countdown:"ثانية حتى يمكنك إعادة الإرسال",placeholders:{email:"إكزامبل@إيميل.كوم"},success:{title:"تم إرسال البريد الإلكتروني!",message:"تم إرسال رابط إعادة تعيين كلمة المرور إلى عنوان بريدك الإلكتروني. يرجى التحقق من بريدك الإلكتروني."},errors:{emailRequired:"البريد الإلكتروني مطلوب",emailInvalid:"يرجى إدخال عنوان بريد إلكتروني صحيح",emailNotFound:"لم يتم العثور على حساب بهذا العنوان الإلكتروني",general:"حدث خطأ أثناء إرسال رابط إعادة تعيين كلمة المرور. يرجى المحاولة مرة أخرى."}}},pricing:{title:"اختر الخطة",titleHighlight:"المثالية",titleEnd:"لك",subtitle:"خيارات تسعير مرنة مصممة لاحتياجاتك. يمكنك تغيير أو إلغاء خطتك في أي وقت.",monthly:"شهرياً",yearly:"سنوياً",freeMonths:"شهرين مجاناً",mostPopular:"الأكثر شعبية",plans:{basic:{name:"المبتدئ",features:{0:"مطعم واحد",1:"50 منتج",2:"تحليلات أساسية",3:"دعم بريد إلكتروني",4:"مولد رمز QR",5:"تحسين للجوال"},button:"ابدأ"},pro:{name:"المحترف",features:{0:"3 مطاعم",1:"منتجات غير محدودة",2:"تحليلات متقدمة",3:"دعم أولوية",4:"تصميم مخصص",5:"دعم متعدد اللغات",6:"وصول API",7:"علامة بيضاء"},button:"الأكثر شعبية"},enterprise:{name:"المؤسسي",features:{0:"مطاعم غير محدودة",1:"منتجات غير محدودة",2:"تحليلات مؤسسية",3:"دعم هاتفي 24/7",4:"تكامل مخصص",5:"مدير حساب مخصص",6:"ضمان SLA",7:"تدريب واستشارة"},button:"اتصل بنا"}},additionalInfo:"جميع الخطط تتضمن تجربة مجانية لمدة 14 يوماً • لا حاجة لبطاقة ائتمان • إلغاء في أي وقت",vatInfo:"الأسعار تشمل ضريبة القيمة المضافة. تسعير مخصص متاح للخطط المؤسسية.",perMonth:"شهر",perYear:"سنة",monthlyEquivalent:"شهرياً ₺{amount} (شهرين مجاناً)"},testimonials:{title:"ما يقوله",titleHighlight:"عملاؤنا",subtitle:"تجارب المستخدمين الحقيقية حول نظام QR Menu الذي يثق به أكثر من 500 مطعم في تركيا.",customers:[{name:"محمد أوزكان",role:"صاحب مطعم",company:"لذة الطريق",content:"بفضل QR Menu، زادت رضا عملائنا بنسبة 40%. خاصة خلال الجائحة، وفرت القائمة بدون لمس ميزة كبيرة. النظام سهل الاستخدام جداً."},{name:"عائشة دمير",role:"المدير العام",company:"مطعم بيلا فيستا",content:"يمكن لعملائنا الآن مشاهدة القائمة دون انتظار النادل. انخفض وقت أخذ الطلبات إلى النصف. حل مثالي حقاً!"},{name:"جان يلماز",role:"شريك تجاري",company:"مقهى كيف",content:"بفضل التقارير التحليلية، نرى أي المنتجات أكثر شعبية. حسنا قائمتنا وزادت مبيعاتنا بنسبة 25%."},{name:"فاطمة كايا",role:"مدير مطعم",company:"سفرة الأناضول",content:"تحديثات الأسعار تنعكس فوراً. لم نعد نتعامل مع طباعة القوائم. توفير في التكلفة وصديق للبيئة."},{name:"إمره شاهين",role:"صاحب سلسلة مطاعم",company:"بيت البرجر",content:"ندير جميع فروعنا من مكان واحد. يمكننا إنشاء قوائم وتسعير منفصل لكل فرع. نظام رائع!"},{name:"زينب أرسلان",role:"صاحبة مقهى",company:"زاوية القهوة",content:"دعم العملاء رائع. حصلنا على المساعدة في كل خطوة أثناء التثبيت. أصبحنا الآن مقهى تقني وعملاؤنا راضون جداً."}],stats:{restaurants:"مطعم سعيد",satisfaction:"معدل الرضا",support:"دعم العملاء",setup:"وقت الإعداد"}},faq:{title:"الأسئلة",titleHighlight:"الشائعة",subtitle:"كل ما تريد معرفته عن QR Menu موجود هنا. إذا لم تجد سؤالك، يمكنك التواصل معنا.",questions:{1:{question:"كيف يعمل QR Menu؟",answer:"نظام QR Menu بسيط جداً. ننشئ رمز QR لمطعمك. يمكن لعملائك الوصول إلى قائمتك فوراً عن طريق مسح هذا الرمز بهواتفهم. لا يتطلب تحميل تطبيق."},2:{question:"كم يستغرق الإعداد؟",answer:"الإعداد يستغرق 5 دقائق فقط! بعد إنشاء حسابك، تقوم برفع وتخصيص قائمتك. رمز QR الخاص بك يصبح جاهزاً للاستخدام فوراً."},3:{question:"هل يمكنني رؤية بيانات العملاء؟",answer:"نعم! نقدم تحليلات مفصلة مثل المنتجات الأكثر مشاهدة، ساعات الذروة، سلوك العملاء. يمكنك تحسين قائمتك بهذه البيانات."},4:{question:"هل يمكنني تغيير الأسعار بسهولة؟",answer:"بالطبع! يمكنك تحديث الأسعار وإضافة منتجات جديدة أو تعديل المنتجات الموجودة في أي وقت من لوحة الإدارة. التغييرات تُنشر فوراً."},5:{question:"كيف تبدو على الأجهزة المحمولة؟",answer:"قائمتك تبدو مثالية على جميع الأجهزة. بالتصميم المتجاوب، تقدم تجربة مثلى على الهواتف والأجهزة اللوحية والكمبيوتر."},6:{question:"هل يوجد دعم للعملاء؟",answer:"بالتأكيد! نقدم دعماً على مدار الساعة عبر البريد الإلكتروني والهاتف والدردشة المباشرة. نحن معك في كل خطوة من التثبيت إلى الاستخدام."},7:{question:"ماذا يحدث عندما أريد الإلغاء؟",answer:"يمكنك الإلغاء في أي وقت. لا يوجد عقد أو غرامة. بعد الإلغاء، نسلم بياناتك إليك بأمان."},8:{question:"هل يمكنني إدارة مطاعم متعددة؟",answer:"مع خططنا المحترفة والمؤسسية، يمكنك إدارة مطاعم متعددة من حساب واحد. قائمة وتحليلات منفصلة لكل مطعم."}},cta:{title:"هل لديك أسئلة أخرى؟",subtitle:"تواصل معنا للأسئلة التي لا تجد إجابات لها. نجيب خلال 24 ساعة.",button:"اتصل بنا"}},contact:{title:"تواصل",titleHighlight:"معنا",titleEnd:"",subtitle:"هل لديك أسئلة حول نظام QR Menu؟ تواصل معنا.",info:{title:"معلومات الاتصال",phone:"الهاتف",email:"البريد الإلكتروني",address:"العنوان"},form:{title:"اكتب لنا",name:"الاسم الكامل",nameRequired:"الاسم الكامل *",namePlaceholder:"أدخل اسمك",email:"البريد الإلكتروني",emailRequired:"البريد الإلكتروني *",emailPlaceholder:"عنوان بريدك الإلكتروني",company:"اسم المطعم/الشركة",companyPlaceholder:"اسم نشاطك التجاري",message:"رسالتك",messageRequired:"رسالتك *",messagePlaceholder:"اكتب رسالتك...",sending:"جاري الإرسال...",send:"إرسال الرسالة",success:{title:"تم إرسال رسالتك!",subtitle:"سنعود إليك في أقرب وقت ممكن."}}},accessibility:{menu:"فتح/إغلاق القائمة",theme:"تغيير المظهر",language:"تغيير اللغة",profile:"قائمة الملف الشخصي",notifications:"الإشعارات"},orders:{loading:"جاري تحميل الطلبات...",title:"الطلبات",description:"إدارة وتتبع جميع طلباتك",orderNumber:"طلب",table:"طاولة",items:"عناصر",tabs:{all:"جميع الطلبات",pending:"في الانتظار",preparing:"قيد التحضير",ready:"جاهز",delivered:"تم التسليم",cancelled:"ملغي"},status:{pending:"في الانتظار",preparing:"قيد التحضير",ready:"جاهز",delivered:"تم التسليم",cancelled:"ملغي"},filters:{status:"الحالة",dateRange:"نطاق التاريخ",paymentType:"نوع الدفع",today:"اليوم",yesterday:"أمس",lastWeek:"الأسبوع الماضي",lastMonth:"الشهر الماضي",custom:"مخصص"},actions:{refresh:"تحديث",export:"تصدير",filter:"تصفية",search:"البحث في الطلبات...",viewDetails:"عرض التفاصيل",changeStatus:"تغيير الحالة"},stats:{totalOrders:"إجمالي الطلبات",totalRevenue:"إجمالي الإيرادات",pendingOrders:"الطلبات المعلقة",avgOrderValue:"متوسط قيمة الطلب"}},tableManagement:{loading:"جاري تحميل الطاولات...",title:"إدارة الطاولات",description:"إدارة رموز QR والطاولات الخاصة بك",noCategories:"لايوجد فئات",createFirstCategory:"أنشئ اول فئة",error:{loadFailed:"فشل في تحميل قائمة الفروع",dataLoadFailed:"حدث خطأ أثناء تحميل البيانات"},actions:{addTable:"إضافة طاولة",addQRCode:"إضافة رمز QR",generateQR:"إنشاء رمز QR",downloadQR:"تحميل رمز QR",editTable:"تعديل الطاولة",deleteTable:"حذف الطاولة"},deleteModal:{title:"تأكيد الحذف"},categories:{title:"إدارة الفئات",addCategory:"إضافة فئة",editCategory:"تعديل الفئة",deleteCategory:"حذف الفئة",categoryName:"اسم الفئة",tableCount:"عدد الطاولات"},qrCodes:{title:"رموز QR",tableNumber:"رقم الطاولة",category:"الفئة",status:"الحالة",actions:"الإجراءات",active:"نشط",inactive:"غير نشط"}},userManagement:{loading:"جاري تحميل المستخدمين...",title:"إدارة المستخدمين",description:"إدارة المستخدمين والأدوار والأذونات",error:{loadFailed:"حدث خطأ أثناء تحميل المستخدمين",rolesLoadFailed:"حدث خطأ أثناء تحميل الأدوار",createFailed:"حدث خطأ أثناء إنشاء المستخدم",updateFailed:"حدث خطأ أثناء تحديث المستخدم",deleteFailed:"حدث خطأ أثناء حذف المستخدم"},actions:{addUser:"إضافة مستخدم",editUser:"تعديل المستخدم",deleteUser:"حذف المستخدم",resetPassword:"إعادة تعيين كلمة المرور",changeRole:"تغيير الدور"},roles:{admin:"مدير",manager:"مشرف",staff:"موظف",viewer:"مشاهد"},status:{active:"نشط",inactive:"غير نشط",suspended:"معلق"}},subscription:{title:"الاشتراك",description:"إدارة خطة اشتراكك وعرض فواتيرك",currentPlan:"الخطة الحالية",planDetails:"تفاصيل الخطة",billing:"الفواتير",usage:"الاستخدام",plan:"الخطة",renewal:"التجديد",changePlan:"تغيير الخطة",availablePlans:"الخطط المتاحة",selectPlan:"اختر خطة تناسب احتياجاتك",tabs:{overview:"نظرة عامة",billing:"الفواتير",usage:"الاستخدام"},actions:{upgrade:"ترقية",downgrade:"تخفيض",cancel:"إلغاء",renew:"تجديد",settings:"الإعدادات"}},products:{status:{outOfStock:"غير متوفر",inStock:"متوفر",available:"متاح",unavailable:"غير متاح"},count:"منتج",empty:"لا توجد منتجات في هذه الفئة بعد",actions:{addFirst:"أضف أول منتج",addProduct:"إضافة منتج",editProduct:"تعديل المنتج",deleteProduct:"حذف المنتج"}},branchSelector:{status:{loading:"جاري التحميل...",error:"تعذر جلب قائمة الفروع"},empty:"لم يتم العثور على خيارات",actions:{changeBranchRestaurant:"تغيير الفرع/المطعم"},labels:{mainRestaurant:"المطعم الرئيسي",branches:"الفروع"}},popularProducts:{title:"المنتجات الأكثر شيوعاً",empty:"ستظهر مبيعات المنتجات هنا",labels:{orders:"طلبات",percentage:"%"},tooltip:{ordersFormat:(e,t)=>`${e} طلبات (${t}%)`,noData:"لا توجد بيانات متاحة"}},weeklyActivity:{title:"النشاط الأسبوعي",empty:{primary:"لا توجد بيانات نشاط متاحة بعد",secondary:"ستظهر البيانات هنا قريباً"},labels:{views:"المشاهدات",qrScans:"مسح رمز QR"},legend:{views:"المشاهدات",qrScans:"مسح رمز QR"}},monthlyRevenue:{QuickStats:"إحصائيات سريعة",title:"اتجاه الإيرادات الشهرية",empty:{primary:"لا توجد بيانات إيرادات متاحة بعد",secondary:"ستظهر بيانات الإيرادات هنا"},labels:{total:"المجموع:",revenue:"الإيرادات"},currency:{symbol:"₺",format:e=>`${e.toLocaleString("ar-SA")} ₺`}},branchCard:{status:{temporaryClosed:"مغلق مؤقتاً",open:"مفتوح",closed:"مغلق",active:"نشط",inactive:"غير نشط",hidden:"مخفي"},actions:{edit:"تعديل",delete:"حذف",purge:"تنظيف البيانات"},labels:{customerVisibility:"الظهور للعملاء",apiBranchOpen:"API BranchIsOpen:"},alt:{logo:"الشعار"}},addBranchCard:{title:"إضافة فرع جديد",description:"انقر لإضافة فرع جديد"},branchModal:{title:{add:"إضافة فرع جديد",edit:"تعديل الفرع"},subtitle:"يمكنك إدخال معلومات الفرع خطوة بخطوة",steps:{basic:"المعلومات الأساسية",address:"معلومات العنوان",contact:"الاتصال وساعات العمل"},sections:{basicInfo:"المعلومات الأساسية",addressInfo:"معلومات العنوان",contactInfo:"معلومات الاتصال",workingHours:"ساعات العمل"},fields:{branchName:{label:"اسم الفرع *",placeholder:"أدخل اسم الفرع"},whatsappNumber:{label:"رقم الطلبات واتساب *",placeholder:"أدخل رقم الطلبات واتساب"},branchLogo:{label:"شعار الفرع (اختياري)",select:"اختر الشعار",uploading:"جاري الرفع...",success:"✓ تم رفع الشعار بنجاح",preview:"معاينة شعار الفرع",supportText:"تدعم صيغ PNG، JPG، GIF. الحد الأقصى لحجم الملف: 5 ميجابايت"},country:{label:"البلد *",placeholder:"أدخل اسم البلد"},city:{label:"المدينة *",placeholder:"أدخل اسم المدينة"},street:{label:"الشارع *",placeholder:"أدخل اسم الشارع"},zipCode:{label:"الرمز البريدي *",placeholder:"أدخل الرمز البريدي"},addressLine1:{label:"سطر العنوان 1 *",placeholder:"أدخل معلومات العنوان التفصيلية"},addressLine2:{label:"سطر العنوان 2 (اختياري)",placeholder:"أدخل معلومات العنوان الإضافية (اختياري)"},phone:{label:"رقم الهاتف *",placeholder:"أدخل رقم الهاتف"},email:{label:"عنوان البريد الإلكتروني *",placeholder:"أدخل عنوان البريد الإلكتروني"},location:{label:"معلومات الموقع *",placeholder:"أدخل معلومات الموقع (مثال: 40.9795,28.7225)"},contactHeader:{label:"عنوان الاتصال (اختياري)",placeholder:"أدخل عنوان الاتصال (اختياري)"},footerTitle:{label:"عنوان التذييل (اختياري)",placeholder:"أدخل عنوان التذييل (اختياري)"},footerDescription:{label:"وصف التذييل (اختياري)",placeholder:"أدخل وصف التذييل (اختياري)"},openTitle:{label:"عنوان ساعات العمل (اختياري)",placeholder:"أدخل عنوان ساعات العمل (اختياري)"},openDays:{label:"أيام العمل (اختياري)",placeholder:"أدخل أيام العمل (اختياري)"},openHours:{label:"ساعات العمل (اختياري)",placeholder:"أدخل ساعات العمل (اختياري)"}},workingHours:{description:"حدد ساعات عمل مؤسستك",days:["الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت","الأحد"],open:"مفتوح",closed:"مغلق",openTime:"الفتح",closeTime:"الإغلاق",canOrder:"✓ يمكن للعملاء تقديم الطلبات في هذا اليوم",infoTitle:"حول ساعات العمل",infoText:"الساعات التي تحددها هنا تحدد متى يمكن للعملاء تقديم الطلبات من خلال قائمة QR الخاصة بك. لا يتم أخذ الطلبات في الأيام المغلقة."},errors:{branchName:"اسم الفرع مطلوب",whatsappNumber:"رقم الطلبات واتساب مطلوب",country:"البلد مطلوب",city:"المدينة مطلوبة",street:"الشارع مطلوب",zipCode:"الرمز البريدي مطلوب",addressLine1:"سطر العنوان 1 مطلوب",phone:"رقم الهاتف مطلوب",email:"عنوان البريد الإلكتروني مطلوب",location:"معلومات الموقع مطلوبة"},buttons:{cancel:"إلغاء",back:"رجوع",next:"التالي",save:"حفظ",saving:"جاري الحفظ..."}},branchManagement:{title:"إدارة الفروع",description:"إدارة فروع المطعم وتحديث معلوماتها",loading:"جاري تحميل الفروع...",addBranch:"إضافة فرع جديد",error:{loadFailed:"فشل في تحميل الفروع",createFailed:"فشل في إنشاء الفرع",updateFailed:"فشل في تحديث الفرع",deleteFailed:"فشل في حذف الفرع",restaurantIdNotFound:"معرف المطعم غير موجود",detailsLoadFailed:"فشل في تحميل تفاصيل الفرع",statusUpdateFailed:"فشل في تحديث حالة الفرع",sessionExpired:"انتهت صلاحية الجلسة. يرجى تسجيل الدخول مرة أخرى.",noPermission:"ليس لديك صلاحية لهذه العملية.",branchNotFound:"الفرع غير موجود.",connectionError:"تحقق من اتصال الإنترنت.",unknownError:"حدث خطأ غير متوقع"},noBranches:{title:"لا توجد فروع بعد",description:"ابدأ بإضافة الفرع الأول لمطعمك"},deleteConfirm:{title:"تأكيد حذف الفرع",description:'هل أنت متأكد من حذف فرع "{{branchName}}"؟ لا يمكن التراجع عن هذا الإجراء.'},form:{branchName:"اسم الفرع",branchNamePlaceholder:"أدخل اسم الفرع",branchNameRequired:"اسم الفرع مطلوب",whatsappNumber:"رقم واتساب للطلبات",whatsappPlaceholder:"أدخل رقم الواتساب",branchLogo:"شعار الفرع",logoUpload:"رفع الشعار",logoChange:"تغيير الشعار",logoRemove:"إزالة الشعار",logoNotSelected:"لم يتم اختيار شعار",logoInstructions:"يمكنك رفع ملف بصيغة JPG، PNG أو GIF، بحد أقصى 5 ميجابايت.",country:"البلد",countryPlaceholder:"أدخل اسم البلد",city:"المدينة",cityPlaceholder:"أدخل اسم المدينة",street:"الشارع",streetPlaceholder:"أدخل اسم الشارع",zipCode:"الرمز البريدي",zipCodePlaceholder:"أدخل الرمز البريدي",addressLine1:"العنوان الأول",addressLine1Placeholder:"أدخل تفاصيل العنوان",addressLine2:"العنوان الثاني",addressLine2Placeholder:"معلومات عنوان إضافية (اختياري)",phone:"الهاتف",phonePlaceholder:"أدخل رقم الهاتف",email:"البريد الإلكتروني",emailPlaceholder:"أدخل عنوان البريد الإلكتروني",location:"الموقع",locationPlaceholder:"أدخل معلومات الموقع",contactHeader:"عنوان الاتصال",contactHeaderPlaceholder:"أدخل عنوان الاتصال",footerTitle:"عنوان التذييل",footerTitlePlaceholder:"أدخل عنوان التذييل",footerDescription:"وصف التذييل",footerDescriptionPlaceholder:"أدخل وصف التذييل",openTitle:"عنوان أوقات العمل",openTitlePlaceholder:"أدخل عنوان أوقات العمل",openDays:"أيام العمل",openDaysPlaceholder:"أدخل أيام العمل",openHours:"ساعات العمل",openHoursPlaceholder:"أدخل ساعات العمل",workingHours:"ساعات العمل",workingHoursRequired:"يجب اختيار يوم عمل واحد على الأقل",isOpen:"مفتوح",dayNames:{0:"الأحد",1:"الإثنين",2:"الثلاثاء",3:"الأربعاء",4:"الخميس",5:"الجمعة",6:"السبت"}},modal:{createTitle:"إضافة فرع جديد",createDescription:"أدخل معلومات الفرع الجديد",editTitle:"تعديل الفرع - {branchName}",editDescription:"تعديل معلومات الفرع",tabs:{general:"المعلومات العامة",address:"العنوان",contact:"الاتصال",workingHours:"ساعات العمل"},buttons:{creating:"جاري الإنشاء...",updating:"جاري التحديث...",create:"إنشاء الفرع",update:"تحديث الفرع"},errors:{updateError:"خطأ في التحديث",validationFailed:"يرجى تصحيح الأخطاء في النموذج والمحاولة مرة أخرى.",dataValidationError:"حدث خطأ أثناء التحديث. يرجى التحقق من البيانات المدخلة.",imageUploadError:"فشل في رفع الصورة. يرجى المحاولة مرة أخرى.",imageRemoveError:"فشل في حذف الصورة.",uploadingImage:"جاري رفع الصورة...",invalidFileType:"يرجى اختيار ملف صورة صحيح",fileSizeError:"يجب أن يكون حجم الملف أقل من 5 ميجابايت"}},card:{edit:"تعديل",delete:"حذف",temporaryClose:"إغلاق مؤقت",temporaryOpen:"فتح مؤقت",status:{open:"مفتوح",closed:"مغلق",temporarilyClosed:"مغلق مؤقتاً"}}},commonBranch:{cancel:"إلغاء",delete:"حذف",save:"حفظ",edit:"تعديل",create:"إنشاء",update:"تحديث",close:"إغلاق",loading:"جاري التحميل...",error:"خطأ",success:"نجح",warning:"تحذير",info:"معلومات",required:"مطلوب",optional:"اختياري"},productsContent:{branch:{selectAll:"الكل"},title:"إدارة المنتجات",description:"إدارة فئات ومنتجات القائمة",search:{placeholder:"البحث في عناصر القائمة...",filter:"تصفية",sort:"ترتيب",noResults:"لم يتم العثور على منتجات"},viewMode:{list:"عرض قائمة",grid:"عرض شبكة"},actions:{addFirstCategory:"إضافة أول فئة",addCategory:"فئة جديدة",newCategory:"فئة جديدة",addProduct:"منتج جديد",newProduct:"منتج جديد",editCategory:"تعديل الفئة",deleteCategory:"حذف الفئة",editProduct:"تعديل المنتج",deleteProduct:"حذف المنتج",manageIngredients:"إدارة المكونات",updateIngredients:"تحديث المكونات",manageAddons:"إدارة الإضافات",importSampleMenu:"استيراد قائمة نموذجية",addFirstCategoryTitle:"إضافة الفئة الأولى",RecycleBin:"سلة المحذوفات"},emptyState:{noCategories:{title:"لا توجد فئات قائمة بعد",description:'ابدأ في إنشاء قائمة مطعمك عن طريق إضافة الفئة الأولى. على سبيل المثال "الأطباق الرئيسية"، "المشروبات" أو "الحلويات".',addFirstCategory:"إضافة الفئة الأولى"}},loading:{categories:"جاري تحميل الفئات...",products:"جاري تحميل المنتجات...",savingOrder:"جاري حفظ الترتيب...",savingCategoryOrder:"جاري حفظ ترتيب الفئات...",savingProductOrder:"جاري حفظ ترتيب المنتجات...",movingProduct:"جاري نقل المنتج...",deleting:"جاري الحذف..."},dragDrop:{categoryReordering:"جاري حفظ ترتيب الفئات...",productReordering:"جاري حفظ ترتيب المنتجات...",productMoving:"جاري نقل المنتج...",categoryOrderSaveError:"حدث خطأ أثناء حفظ ترتيب الفئات.",productOrderSaveError:"حدث خطأ أثناء حفظ ترتيب المنتجات.",productMoveError:"حدث خطأ أثناء نقل المنتج."},delete:{product:{title:"حذف المنتج",message:'هل أنت متأكد من رغبتك في حذف "{{productName}}"؟ لا يمكن التراجع عن هذا الإجراء.',success:"تم حذف المنتج بنجاح"},category:{title:"حذف الفئة",messageWithProducts:'تحتوي فئة "{{categoryName}}" على {{productCount}} منتج. حذف هذه الفئة سيحذف جميع المنتجات أيضاً. هل أنت متأكد من رغبتك في المتابعة؟',messageEmpty:'هل أنت متأكد من رغبتك في حذف فئة "{{categoryName}}"؟',success:"تم حذف الفئة بنجاح"}},error:{loadFailed:"فشل في تحميل البيانات",categoryNotFound:"الفئة غير موجودة",productNotFound:"المنتج غير موجود",deleteFailed:"فشل في الحذف",updateFailed:"فشل في التحديث",createFailed:"فشل في الإنشاء",reorderFailed:"فشل في إعادة الترتيب",invalidData:"بيانات غير صالحة",networkError:"خطأ في الاتصال بالشبكة",refreshPage:"يرجى تحديث الصفحة والمحاولة مرة أخرى."},success:{categoryCreated:"تم إنشاء الفئة بنجاح",categoryUpdated:"تم تحديث الفئة بنجاح",categoryDeleted:"تم حذف الفئة بنجاح",productCreated:"تم إنشاء المنتج بنجاح",productUpdated:"تم تحديث المنتج بنجاح",productDeleted:"تم حذف المنتج بنجاح",orderSaved:"تم حفظ الترتيب بنجاح",ingredientsUpdated:"تم تحديث المكونات بنجاح",addonsUpdated:"تم تحديث الإضافات بنجاح"},category:{products:"منتجات",productCount:"منتج",noProducts:"لا توجد منتجات في هذه الفئة",expand:"توسيع",collapse:"طي"},product:{price:"السعر",description:"الوصف",ingredients:"المكونات",addons:"الإضافات",category:"الفئة",image:"الصورة",status:"الحالة",available:"متاح",unavailable:"غير متاح"},currency:{symbol:"₺",format:"{{amount}} ₺"},status:{active:"نشط",inactive:"غير نشط",available:"متاح",unavailable:"غير متاح"},tooltips:{dragToReorder:"اسحب لإعادة الترتيب",dragToMoveCategory:"اسحب لنقل المنتج إلى فئة أخرى",expandCategory:"توسيع الفئة",collapseCategory:"طي الفئة",editCategory:"تعديل الفئة",deleteCategory:"حذف الفئة",editProduct:"تعديل المنتج",deleteProduct:"حذف المنتج",manageIngredients:"إدارة مكونات المنتج",manageAddons:"إدارة إضافات المنتج"}},createCategoryModal:{title:"إضافة فئة جديدة",subtitle:"إنشاء فئة قائمة",close:"إغلاق",form:{categoryName:{label:"اسم الفئة *",placeholder:"مثال: الأطباق الرئيسية، المشروبات، الحلويات",required:"اسم الفئة مطلوب"},status:{label:"تفعيل الفئة",description:"الفئات النشطة تظهر في القائمة"}},buttons:{cancel:"إلغاء",create:"إضافة فئة",creating:"جاري الإضافة..."},errors:{general:"حدث خطأ أثناء إضافة الفئة. يرجى المحاولة مرة أخرى.",categoryExists:"توجد فئة بهذا الاسم بالفعل. يرجى اختيار اسم مختلف.",invalidData:"البيانات المدخلة غير صالحة. يرجى التحقق والمحاولة مرة أخرى.",serverError:"حدث خطأ في الخادم. يرجى المحاولة لاحقاً.",networkError:"خطأ في الاتصال بالشبكة. تحقق من الاتصال وحاول مرة أخرى.",unknownError:"حدث خطأ غير متوقع. يرجى المحاولة مرة أخرى.",errorLabel:"خطأ:"},success:{categoryCreated:"تم إنشاء الفئة بنجاح",categoryAdded:"تمت إضافة الفئة بنجاح إلى القائمة"},validation:{nameRequired:"اسم الفئة مطلوب",nameMinLength:"يجب أن يكون اسم الفئة أكثر من حرفين",nameMaxLength:"يجب أن يكون اسم الفئة أقل من 50 حرف",invalidCharacters:"اسم الفئة يحتوي على حروف غير صالحة"},accessibility:{closeModal:"إغلاق نافذة إضافة الفئة",formTitle:"نموذج إضافة فئة جديدة",requiredField:"حقل مطلوب",optionalField:"حقل اختياري"}},createProductModal:{title:"إضافة منتج جديد",subtitle:"أضف منتجاً إلى قائمتك",close:"إغلاق",form:{productImage:{label:"صورة المنتج",dragActive:"اسقط الملف هنا",uploadText:"رفع صورة",supportedFormats:"PNG، JPG، GIF (حد أقصى 5 ميجابايت)",removeImage:"إزالة الصورة"},productName:{label:"اسم المنتج",placeholder:"مثال: بيتزا مارجريتا",required:"اسم المنتج مطلوب"},price:{label:"السعر (₺)",placeholder:"0",required:"السعر مطلوب",mustBePositive:"السعر يجب أن يكون أكبر من 0",currency:"₺"},category:{label:"الفئة",placeholder:"اختر فئة",required:"اختيار الفئة مطلوب",invalidCategory:"الفئة المختارة غير صالحة. الفئات المتاحة: {{categories}}"},description:{label:"الوصف",placeholder:"وصف المنتج...",required:"وصف المنتج مطلوب"},status:{label:"تفعيل المنتج",description:"يظهر في القائمة",active:"نشط",inactive:"غير نشط"}},buttons:{cancel:"إلغاء",create:"إضافة منتج",creating:"جاري الإضافة...",uploading:"جاري الرفع..."},imageUpload:{dragToUpload:"اسحب الصورة هنا أو انقر للرفع",clickToUpload:"انقر لرفع صورة",dragActive:"اسقط الملف هنا",supportedFormats:"PNG، JPG، GIF",maxSize:"حد أقصى 5 ميجابايت",preview:"معاينة الصورة",remove:"إزالة"},errors:{general:"حدث خطأ أثناء إضافة المنتج. يرجى المحاولة مرة أخرى.",nameRequired:"اسم المنتج مطلوب",descriptionRequired:"وصف المنتج مطلوب",priceRequired:"السعر مطلوب",priceMustBePositive:"السعر يجب أن يكون أكبر من 0",categoryRequired:"اختيار الفئة مطلوب",categoryInvalid:"الفئة المختارة غير صالحة",imageInvalid:"يرجى اختيار ملف صورة صالح",imageTooLarge:"حجم ملف الصورة يجب أن يكون أقل من 5 ميجابايت",imageUploadFailed:"فشل في رفع الصورة",networkError:"خطأ في الاتصال بالشبكة. تحقق من الاتصال وحاول مرة أخرى.",serverError:"حدث خطأ في الخادم. يرجى المحاولة لاحقاً.",unknownError:"حدث خطأ غير متوقع. يرجى المحاولة مرة أخرى.",errorLabel:"خطأ:"},success:{productCreated:"تم إنشاء المنتج بنجاح",productAdded:"تمت إضافة المنتج بنجاح إلى القائمة"},validation:{nameMinLength:"يجب أن يكون اسم المنتج أكثر من حرفين",nameMaxLength:"يجب أن يكون اسم المنتج أقل من 100 حرف",descriptionMinLength:"يجب أن يكون الوصف أكثر من 5 أحرف",descriptionMaxLength:"يجب أن يكون الوصف أقل من 500 حرف",priceMin:"السعر يجب أن يكون أكبر من 0",priceMax:"السعر يجب أن يكون أقل من 10000"},accessibility:{closeModal:"إغلاق نافذة إضافة المنتج",formTitle:"نموذج إضافة منتج جديد",requiredField:"حقل مطلوب",optionalField:"حقل اختياري",imageUpload:"رفع صورة المنتج",removeImage:"إزالة صورة المنتج",priceInput:"إدخال سعر المنتج",categorySelect:"اختيار فئة المنتج",statusToggle:"تبديل حالة المنتج"}},productAddonsModal:{title:"إضافات المنتج",subtitle:"إدارة منتجات الإضافات لـ",close:"إغلاق",panels:{currentAddons:{title:"الإضافات الحالية",count:"({{count}})",dragInstruction:"يمكنك إعادة الترتيب بالسحب",emptyState:{title:"لم يتم إضافة أي إضافات بعد.",subtitle:"اختر المنتجات من اللوحة اليمنى."}},availableProducts:{title:"المنتجات المتاحة كإضافات",searchPlaceholder:"البحث عن المنتجات...",emptyState:{noResults:"لم يتم العثور على منتجات تطابق معايير البحث.",noProducts:"لم يتم العثور على منتجات قابلة للإضافة."}}},actions:{edit:"تحرير",save:"حفظ",cancel:"إلغاء",remove:"إزالة",recommended:"مُوصى به"},form:{marketingText:{placeholder:"نص تسويقي...",label:"النص التسويقي"},isRecommended:{label:"وضع علامة كإضافة موصى بها",badge:"مُوصى به"}},status:{outOfStock:"نفد من المخزون",available:"متوفر",unavailable:"غير متوفر"},loading:{addons:"جاري تحميل الإضافات...",products:"جاري تحميل المنتجات...",saving:"جاري الحفظ..."},buttons:{cancel:"إلغاء",saveAddons:"حفظ الإضافات",saving:"جاري الحفظ..."},counters:{selectedProducts:"{{count}} منتج محدد",availableProducts:"{{count}} منتج متوفر"},errors:{loadingData:"حدث خطأ أثناء تحميل بيانات الإضافات.",updatingAddon:"حدث خطأ أثناء تحديث الإضافة.",deletingAddon:"حدث خطأ أثناء حذف الإضافة.",savingOrder:"حدث خطأ أثناء حفظ ترتيب الإضافات.",savingAddons:"حدث خطأ أثناء حفظ الإضافات. يرجى المحاولة مرة أخرى.",general:"حدث خطأ غير متوقع. يرجى المحاولة مرة أخرى.",networkError:"خطأ في الاتصال بالشبكة. تحقق من اتصالك وحاول مرة أخرى."},success:{addonsSaved:"تم حفظ إضافات المنتج بنجاح",orderUpdated:"تم تحديث ترتيب الإضافات بنجاح",addonUpdated:"تم تحديث الإضافة بنجاح",addonRemoved:"تم إزالة الإضافة بنجاح"},accessibility:{closeModal:"إغلاق نافذة إضافات المنتج",dragHandle:"اسحب لإعادة ترتيب الإضافة",editAddon:"تحرير تفاصيل الإضافة",removeAddon:"إزالة الإضافة من المنتج",selectProduct:"اختيار المنتج كإضافة",productImage:"صورة المنتج",toggleRecommended:"تبديل حالة التوصية"}},editCategoryModal:{title:"تحرير الفئة",subtitle:"تحديث معلومات الفئة",close:"إغلاق",form:{categoryName:{label:"اسم الفئة",placeholder:"أدخل اسم الفئة...",required:"اسم الفئة مطلوب",minLength:"يجب أن يكون اسم الفئة على الأقل 2 أحرف",maxLength:"يجب أن يكون اسم الفئة أقل من 100 حرف"},description:{label:"الوصف",placeholder:"أدخل وصف الفئة...",optional:"اختياري",maxLength:"يجب أن يكون الوصف أقل من 500 حرف"},status:{label:"نشط",description:"ستكون الفئة مرئية في القائمة عندما تكون نشطة",active:"نشط",inactive:"غير نشط"}},buttons:{cancel:"إلغاء",save:"حفظ",saving:"جاري الحفظ...",update:"تحديث الفئة",updating:"جاري التحديث..."},errors:{updateFailed:"حدث خطأ أثناء تحديث الفئة. يرجى المحاولة مرة أخرى.",nameRequired:"اسم الفئة مطلوب",nameMinLength:"يجب أن يكون اسم الفئة على الأقل 2 أحرف",nameMaxLength:"يجب أن يكون اسم الفئة أقل من 100 حرف",descriptionMaxLength:"يجب أن يكون الوصف أقل من 500 حرف",general:"حدث خطأ غير متوقع. يرجى المحاولة مرة أخرى.",networkError:"خطأ في الاتصال بالشبكة. تحقق من اتصالك وحاول مرة أخرى.",serverError:"حدث خطأ في الخادم. يرجى المحاولة مرة أخرى لاحقاً."},success:{categoryUpdated:"تم تحديث الفئة بنجاح",changesSaved:"تم حفظ التغييرات بنجاح"},validation:{nameRequired:"يرجى إدخال اسم الفئة",nameMinLength:"اسم الفئة قصير جداً",nameMaxLength:"اسم الفئة طويل جداً",descriptionMaxLength:"الوصف طويل جداً"},accessibility:{closeModal:"إغلاق نافذة تحرير الفئة",formTitle:"نموذج تحرير الفئة",requiredField:"حقل مطلوب",optionalField:"حقل اختياري",statusToggle:"تبديل حالة الفئة",nameInput:"إدخال اسم الفئة",descriptionInput:"إدخال وصف الفئة"}},confirmDeleteModal:{defaultTitle:"تأكيد الحذف",deleteTitle:"حذف العنصر",deleteTableWarning:"تأكد من عدم وجود طلب معلق قبل حذف الطاولة",warning:"لا يمكن التراجع عن هذا الإجراء. سيتم حذف العنصر نهائياً.",itemTypes:{category:"الفئة",product:"المنتج",addon:"الإضافة",user:"المستخدم",order:"الطلب",coupon:"القسيمة",discount:"الخصم",promotion:"الترويج",review:"التقييم",comment:"التعليق",image:"الصورة",file:"الملف",item:"العنصر"},buttons:{cancel:"إلغاء",delete:"حذف",deleting:"جاري الحذف...",confirm:"تأكيد",confirming:"جاري التأكيد..."},messages:{category:"هل أنت متأكد من حذف هذه الفئة؟ ستتأثر جميع المنتجات في هذه الفئة أيضاً.",product:"هل أنت متأكد من حذف هذا المنتج؟ لا يمكن التراجع عن هذا الإجراء.",addon:"هل أنت متأكد من حذف هذه الإضافة؟ ستتم إزالتها من جميع المنتجات المرتبطة.",user:"هل أنت متأكد من حذف هذا المستخدم؟ ستتم إزالة جميع بياناته نهائياً.",general:"هل أنت متأكد من حذف هذا العنصر؟ لا يمكن التراجع عن هذا الإجراء."},errors:{deleteFailed:"حدث خطأ أثناء الحذف. يرجى المحاولة مرة أخرى.",networkError:"خطأ في الاتصال بالشبكة. يرجى التحقق من اتصالك والمحاولة مرة أخرى.",serverError:"حدث خطأ في الخادم. يرجى المحاولة مرة أخرى لاحقاً.",permissionError:"ليس لديك صلاحية حذف هذا العنصر.",notFound:"لم يتم العثور على العنصر المراد حذفه.",hasRelations:"لا يمكن حذف هذا العنصر لأنه يحتوي على بيانات مرتبطة.",general:"حدث خطأ غير متوقع. يرجى المحاولة مرة أخرى."},success:{deleted:"تم حذف العنصر بنجاح",categoryDeleted:"تم حذف الفئة بنجاح",productDeleted:"تم حذف المنتج بنجاح",addonDeleted:"تم حذف الإضافة بنجاح"},confirmations:{typeToConfirm:'اكتب "حذف" للتأكيد',enterName:"أدخل الاسم لتأكيد الحذف",areYouSure:"هل أنت متأكد تماماً؟",lastChance:"هذه فرصتك الأخيرة للإلغاء."},accessibility:{closeModal:"إغلاق نافذة تأكيد الحذف",deleteDialog:"حوار تأكيد الحذف",warningIcon:"أيقونة التحذير",deleteButton:"تأكيد الحذف",cancelButton:"إلغاء الحذف",errorAlert:"رسالة خطأ"}},editProductModal:{title:"تحرير المنتج",subtitle:"تحديث معلومات المنتج",close:"إغلاق",form:{productImage:{label:"صورة المنتج",optional:"اختياري"},productName:{label:"اسم المنتج",placeholder:"مثال: بيتزا مارغريتا",required:"اسم المنتج مطلوب"},description:{label:"الوصف",placeholder:"وصف المنتج...",optional:"اختياري"},price:{label:"السعر (₺)",placeholder:"0",required:"السعر مطلوب",currency:"₺"},category:{label:"الفئة",placeholder:"اختر الفئة",required:"اختيار الفئة مطلوب"},status:{label:"متوفر في المخزون",description:"سيكون المنتج مرئياً في القائمة عندما يكون متوفراً",available:"متوفر",unavailable:"غير متوفر"}},buttons:{cancel:"إلغاء",update:"تحديث المنتج",updating:"جاري التحديث...",save:"حفظ التغييرات",saving:"جاري الحفظ...",uploading:"جاري تحميل الصورة..."},imageUpload:{clickToUpload:"انقر لتحميل الصورة",dragToUpload:"اسحب الصورة هنا أو انقر للتحميل",dragActive:"أسقط الملف هنا",supportedFormats:"PNG, JPG, GIF",maxSize:"حد أقصى 5 ميجابايت",preview:"معاينة الصورة",remove:"إزالة الصورة",changeImage:"تغيير الصورة"},errors:{errorLabel:"خطأ:",updateFailed:"حدث خطأ أثناء تحديث المنتج. يرجى المحاولة مرة أخرى.",nameRequired:"اسم المنتج مطلوب",nameAlreadyExists:"يوجد منتج بهذا الاسم بالفعل. يرجى اختيار اسم مختلف.",descriptionRequired:"وصف المنتج مطلوب",priceRequired:"السعر مطلوب",priceMustBePositive:"يجب أن يكون السعر أكبر من 0",categoryRequired:"اختيار الفئة مطلوب",imageInvalid:"يرجى اختيار ملف صورة صحيح",imageTooLarge:"يجب أن يكون حجم ملف الصورة أقل من 5 ميجابايت",imageUploadFailed:"فشل في تحميل الصورة",productNotFound:"لم يتم العثور على المنتج",permissionDenied:"ليس لديك صلاحية لتحديث هذا المنتج",networkError:"خطأ في الاتصال بالشبكة. تحقق من اتصالك وحاول مرة أخرى.",serverError:"حدث خطأ في الخادم. يرجى المحاولة مرة أخرى لاحقاً.",unknownError:"حدث خطأ غير متوقع. يرجى المحاولة مرة أخرى."},success:{productUpdated:"تم تحديث المنتج بنجاح",changesSaved:"تم حفظ التغييرات بنجاح",imageUploaded:"تم تحميل الصورة بنجاح"},validation:{nameMinLength:"يجب أن يكون اسم المنتج أكثر من حرفين",nameMaxLength:"يجب أن يكون اسم المنتج أقل من 100 حرف",descriptionMaxLength:"يجب أن يكون الوصف أقل من 500 حرف",priceMin:"يجب أن يكون السعر أكبر من 0",priceMax:"يجب أن يكون السعر أقل من 10000",imageSize:"يجب أن تكون الصورة أقل من 5 ميجابايت",imageType:"مسموح بملفات الصور فقط"},accessibility:{closeModal:"إغلاق نافذة تحرير المنتج",formTitle:"نموذج تحرير المنتج",requiredField:"حقل مطلوب",optionalField:"حقل اختياري",imageUpload:"تحميل صورة المنتج",removeImage:"إزالة صورة المنتج",priceInput:"إدخال سعر المنتج",categorySelect:"اختيار فئة المنتج",statusToggle:"تبديل حالة توفر المنتج",imagePreview:"معاينة صورة المنتج"}},productIngredientModal:{title:"مكونات المنتج",subtitle:"اختر المكونات لـ",close:"إغلاق",search:{placeholder:"البحث عن المكونات...",label:"البحث عن المكونات",noResults:"لم يتم العثور على مكونات"},summary:{selectedCount:"المكونات المحددة",hasChanges:"يوجد تغييرات",noChanges:"لا توجد تغييرات"},form:{quantity:{label:"الكمية",placeholder:"الكمية",required:"الكمية مطلوبة"},unit:{label:"الوحدة",placeholder:"اختر الوحدة",required:"الوحدة مطلوبة"}},units:{grams:"جرام",milliliters:"مل",pieces:"قطعة",tablespoons:"ملعقة كبيرة",teaspoons:"ملعقة صغيرة",cups:"كوب",kilograms:"كيلوجرام",liters:"لتر"},status:{available:"متوفر",unavailable:"غير متوفر",containsAllergens:"يحتوي على مسببات الحساسية",toBeAdded:"ستتم الإضافة",toBeRemoved:"ستتم الإزالة",selected:"محدد",unselected:"غير محدد"},allergenInfo:{count:"{{count}} مسبب حساسية",count_plural:"{{count}} مسببات حساسية",details:"تفاصيل مسببات الحساسية",warning:"هذا المكون يحتوي على مسببات الحساسية"},loading:{ingredients:"جاري تحميل المكونات...",saving:"جاري حفظ المكونات...",data:"جاري تحميل البيانات..."},emptyState:{noIngredients:"لم يتم إضافة أي مكونات بعد.",noSearchResults:"لم يتم العثور على مكونات تطابق معايير البحث.",noAvailableIngredients:"لم يتم العثور على مكونات متاحة."},buttons:{cancel:"إلغاء",skip:"تخطي",save:"حفظ",saveIngredients:"حفظ المكونات",saving:"جاري الحفظ...",add:"إضافة مكونات",update:"تحديث المكونات"},footer:{totalCount:"المجموع: {{count}} مكون",selectedInfo:"تم تحديد {{selected}} من {{total}}"},errors:{loadingData:"حدث خطأ أثناء تحميل بيانات المكونات.",savingIngredients:"حدث خطأ أثناء حفظ المكونات. يرجى المحاولة مرة أخرى.",quantityRequired:"يجب أن تكون جميع المكونات لها كمية أكبر من 0.",unitRequired:"يجب تحديد وحدة لجميع المكونات.",networkError:"خطأ في الاتصال بالشبكة. تحقق من اتصالك وحاول مرة أخرى.",serverError:"حدث خطأ في الخادم. يرجى المحاولة مرة أخرى لاحقاً.",general:"حدث خطأ غير متوقع. يرجى المحاولة مرة أخرى.",invalidQuantity:"يرجى إدخال كمية صحيحة",ingredientNotFound:"لم يتم العثور على المكون",permissionDenied:"ليس لديك صلاحية لتعديل المكونات"},success:{ingredientsSaved:"تم حفظ المكونات بنجاح",ingredientsUpdated:"تم تحديث المكونات بنجاح",ingredientAdded:"تم إضافة المكون بنجاح",ingredientRemoved:"تم إزالة المكون بنجاح"},validation:{quantityMin:"يجب أن تكون الكمية أكبر من 0",quantityMax:"يجب أن تكون الكمية أقل من 1000",unitRequired:"يرجى اختيار وحدة",ingredientRequired:"يرجى اختيار مكون واحد على الأقل"},accessibility:{closeModal:"إغلاق نافذة اختيار المكونات",searchInput:"البحث عن المكونات",quantityInput:"أدخل كمية المكون",unitSelect:"اختر وحدة القياس",ingredientCheckbox:"اختر المكون",selectedIndicator:"تم تحديد المكون",allergenWarning:"يحتوي على مسببات الحساسية",availabilityStatus:"حالة التوفر"}},ProductIngredientUpdateModal:{title:"تحديث المكونات",searchPlaceholder:"البحث عن المكونات...",selectedCount:"مكونات محددة",loadingIngredients:"جاري تحميل المكونات...",noIngredientsFound:"لم يتم العثور على مكونات",noIngredientsFoundSearch:"لم يتم العثور على مكونات تطابق معايير البحث",unit:"الوحدة:",price:"السعر:",quantity:"الكمية",cancel:"إلغاء",save:"حفظ",saving:"جاري الحفظ...",errors:{loadingIngredients:"حدث خطأ أثناء تحميل المكونات",savingIngredients:"حدث خطأ أثناء حفظ المكونات"},accessibility:{closeModal:"إغلاق نافذة تحديث المكونات",formTitle:"نموذج تحديث مكونات المنتج",searchInput:"البحث عن المكونات",ingredientToggle:"تبديل تحديد المكون",quantityInput:"أدخل كمية المكون",selectedIndicator:"المكون محدد",unselectedIndicator:"المكون غير محدد",ingredientCard:"بطاقة تحديد المكون",saveButton:"حفظ تغييرات المكونات",cancelButton:"إلغاء تحديث المكونات"}},SortableCategory:{product:"منتج",products:"منتجات",editCategory:"تعديل التصنيف",deleteCategory:"حذف التصنيف",reorderingProducts:"جاري حفظ ترتيب المنتجات...",noCategoryProducts:"لا توجد منتجات في هذا التصنيف بعد.",expandCategory:"توسيع التصنيف",collapseCategory:"طي التصنيف",dragCategory:"اسحب لإعادة ترتيب التصنيف",accessibility:{categoryActions:"إجراءات التصنيف",productCount:"عدد المنتجات",expandToggle:"تبديل توسيع التصنيف",editCategoryButton:"تعديل التصنيف",deleteCategoryButton:"حذف التصنيف",dragHandle:"مقبض السحب لإعادة ترتيب التصنيف",categoryCard:"بطاقة التصنيف",emptyCategory:"تصنيف فارغ",reorderingStatus:"جاري إعادة ترتيب التصنيف"}},SortableProduct:{outOfStock:"نفد المخزون",loadingIngredients:"جاري تحميل المكونات...",ingredients:"المكونات",noIngredients:"لم تتم إضافة مكونات",loadingAddons:"جاري تحميل الإضافات...",addons:"الإضافات",noAddons:"لم تتم إضافة إضافات",manageAddons:"إدارة الإضافات",editProduct:"تعديل المنتج",deleteProduct:"حذف المنتج",dragProduct:"اسحب لإعادة ترتيب المنتج",allergenic:"يحتوي على مسببات الحساسية",recommended:"موصى به",price:"السعر",errors:{loadingIngredients:"حدث خطأ أثناء تحميل المكونات.",loadingAddons:"حدث خطأ أثناء تحميل الإضافات."},accessibility:{productImage:"صورة المنتج",productCard:"بطاقة المنتج",productActions:"إجراءات المنتج",dragHandle:"مقبض السحب لإعادة ترتيب المنتج",outOfStockBadge:"المنتج نفد من المخزون",ingredientsList:"قائمة مكونات المنتج",addonsList:"قائمة إضافات المنتج",allergenWarning:"يحتوي على مسببات الحساسية",recommendedAddon:"إضافة موصى بها",editButton:"تعديل المنتج",deleteButton:"حذف المنتج",addonsButton:"إدارة إضافات المنتج"}},IngredientsContent:{searchPlaceholder:"البحث عن المكونات...",filter:"تصفية",sort:"ترتيب",newIngredient:"مكون جديد",ingredientName:"اسم المكون",status:"الحالة",allergenInfo:"معلومات مسببات الحساسية",actions:"الإجراءات",available:"متاح",unavailable:"غير متاح",containsAllergens:"يحتوي على مسببات الحساسية",noAllergens:"لا يحتوي على مسببات الحساسية",edit:"تعديل",delete:"حذف",noIngredientsFound:"لم يتم العثور على مكونات تطابق معايير البحث.",noIngredientsYet:"لم تتم إضافة مكونات بعد.",deleteIngredient:"حذف المكون",deleteConfirmMessage:'هل أنت متأكد من أنك تريد حذف المكون "{name}"؟',deleteError:"حدث خطأ أثناء الحذف. يرجى المحاولة مرة أخرى.",cancel:"إلغاء",deleting:"جاري الحذف...",editIngredient:"تعديل المكون",addNewIngredient:"إضافة مكون جديد",basicInfo:"المعلومات الأساسية",ingredientNameRequired:"اسم المكون مطلوب",enterIngredientName:"أدخل اسم المكون",containsAllergensCheckbox:"يحتوي على مسببات الحساسية",availableForUse:"متاح للاستخدام",allergenInfoContent:"معلومات مسببات الحساسية",selectAllergensMessage:"حدد مسببات الحساسية الموجودة في هذا المكون:",enableAllergenMessage:'قم بتفعيل "يحتوي على مسببات الحساسية" أولاً لتحديد المسببات.',allergenDetails:"تفاصيل مسببات الحساسية",containsThisAllergen:"يحتوي على هذا المسبب للحساسية",additionalNotes:"ملاحظات إضافية (اختيارية)",updateError:"حدث خطأ أثناء تحديث المكون.",createError:"حدث خطأ أثناء إضافة المكون.",updating:"جاري التحديث...",adding:"جاري الإضافة...",update:"تحديث",add:"إضافة",accessibility:{ingredientsTable:"جدول إدارة المكونات",searchInput:"البحث عن المكونات",filterButton:"تصفية المكونات",sortButton:"ترتيب المكونات",addButton:"إضافة مكون جديد",editButton:"تعديل المكون",deleteButton:"حذف المكون",ingredientCard:"بطاقة معلومات المكون",allergenSelection:"تحديد مسببات الحساسية",formModal:"نافذة نموذج المكون",deleteModal:"نافذة تأكيد الحذف",statusBadge:"حالة المكون",allergenBadge:"معلومات مسببات الحساسية",closeModal:"إغلاق النافذة",dragToReorder:"اسحب لإعادة الترتيب"}},TableCard:{active:"نشط",inactive:"غير نشط",occupied:"مشغول",empty:"فارغ",capacity:"شخص",capacityPlural:"أشخاص",edit:"تعديل",downloadQR:"تحميل رمز QR",disable:"إلغاء التفعيل",enable:"تفعيل",delete:"حذف",viewQRCode:"عرض رمز QR",moreOptions:"المزيد من الخيارات",accessibility:{tableCard:"بطاقة معلومات الطاولة",statusBadge:"حالة الطاولة",occupancyBadge:"حالة إشغال الطاولة",actionsMenu:"قائمة إجراءات الطاولة",qrCodePreview:"معاينة رمز QR",editButton:"تعديل الطاولة",downloadButton:"تحميل رمز QR",toggleButton:"تبديل حالة الطاولة",deleteButton:"حذف الطاولة"}},QRCodeModal:{tableAddOption:"خيار إضافة الطاولة",howToAddTables:"كيف تريد إضافة الطاولات؟",singleTable:"إضافة طاولة واحدة",bulkTable:"إضافة طاولات متعددة",createSingleTable:"إنشاء طاولة واحدة",createMultipleTables:"إنشاء طاولات متعددة",branchSelection:"اختيار الفرع",selectBranch:"اختر الفرع",branchRequired:"مطلوب",loadingBranches:"جاري تحميل الفروع...",editTable:"تعديل الطاولة",addSingleTable:"إضافة طاولة واحدة",tableName:"اسم الطاولة",tableNamePlaceholder:"مثال: طاولة 1",autoNameNote:"سيتم إعطاء اسم تلقائي إذا تُرك فارغاً",tableCategory:"فئة الطاولة",selectCategory:"اختر الفئة",loadingCategories:"جاري تحميل الفئات...",noCategories:"لم يتم العثور على فئات",capacity:"السعة",capacityPlaceholder:"عدد الأشخاص",displayOrder:"ترتيب العرض",displayOrderPlaceholder:"رقم للترتيب",autoOrderNote:"سيتم تطبيق ترتيب تلقائي إذا تُرك فارغاً",tableActive:"يجب أن تكون الطاولة نشطة",addBulkTables:"إضافة طاولات متعددة",categoryQuantities:"كميات الطاولات حسب الفئة",addCategory:"إضافة فئة",category:"الفئة",tableCount:"عدد الطاولات",allTablesActive:"جميع الطاولات يجب أن تكون نشطة",tableSummary:"ملخص الطاولات المراد إنشاؤها:",total:"الإجمالي",tables:"طاولات",cancel:"إلغاء",adding:"جاري الإضافة...",addTable:"إضافة طاولة",update:"تحديث",updating:"جاري التحديث...",creating:"جاري الإنشاء... ({count} طاولة)",createTables:"إنشاء {count} طاولة",branchRequiredValidation:"اختيار الفرع مطلوب",categoryRequired:"مطلوب فئة واحدة على الأقل",accessibility:{modal:"نافذة إنشاء الطاولة",stepSelection:"اختيار طريقة إنشاء الطاولة",branchSelector:"قائمة اختيار الفرع",categorySelector:"اختيار فئة الطاولة",tableForm:"نموذج إنشاء الطاولة",bulkForm:"نموذج إنشاء طاولات متعددة",backButton:"العودة للخطوة السابقة",closeButton:"إغلاق النافذة"}},TableCategoryModal:{title:"إضافة فئة طاولة",subtitle:"إنشاء فئة طاولة جديدة",categoryName:"اسم الفئة",categoryNamePlaceholder:"مثال: طاولات VIP، طاولات الحديقة",description:"الوصف (اختياري)",descriptionPlaceholder:"وصف قصير عن الفئة...",colorSelection:"اختيار اللون",customColor:"لون مخصص",iconSelection:"اختيار الأيقونة",branchSelection:"اختيار الفرع",cancel:"إلغاء",addCategory:"إضافة فئة",saving:"جاري الحفظ...",table:"طاولة",chair:"كرسي",service:"خدمة",label:"تسمية",layer:"طبقة",categoryNameRequired:"اسم الفئة مطلوب",iconRequired:"يجب اختيار أيقونة",branchRequired:"اختيار الفرع مطلوب",invalidData:"تم إرسال بيانات غير صحيحة",unauthorized:"غير مخول. يرجى تسجيل الدخول مرة أخرى.",forbidden:"ليس لديك صلاحية لهذه العملية.",branchNotFound:"الفرع المحدد غير موجود.",serverError:"حدث خطأ في الخادم. يرجى المحاولة مرة أخرى لاحقاً.",unexpectedError:"حدث خطأ غير متوقع أثناء إضافة الفئة",accessibility:{modal:"نافذة إنشاء فئة الطاولة",colorPalette:"لوحة اختيار الألوان",colorPreset:"خيار لون جاهز",customColorPicker:"منتقي الألوان المخصص",iconGrid:"شبكة اختيار الأيقونات",iconOption:"خيار الأيقونة",branchDropdown:"قائمة اختيار الفرع",form:"نموذج إنشاء الفئة"}},AddQRCodeCard:{title:"إضافة طاولة جديدة",subtitle:"انقر لإضافة طاولة جديدة",accessibility:{addButton:"زر إضافة طاولة جديدة",addCard:"بطاقة إضافة طاولة جديدة"}},userManagementPage:{title:"إدارة المستخدمين",loading:"جاري التحميل...",error:{title:"خطأ",loadFailed:"فشل في تحميل المستخدمين",rolesLoadFailed:"فشل في تحميل الأدوار",retry:"حاول مرة أخرى",createUserFailed:"فشل في إنشاء المستخدم",createRoleFailed:"فشل في إنشاء الدور"},stats:{total:"الإجمالي",active:"نشط",users:"مستخدمين",roles:"أدوار",system:"النظام",custom:"مخصص",totalUsers:"إجمالي المستخدمين",owner:"مالك",manager:"مدير",staff:"موظف"},tabs:{users:"المستخدمون",roles:"الأدوار"},controls:{search:"البحث عن مستخدم أو بريد إلكتروني أو هاتف...",searchRoles:"البحث عن دور أو وصف أو فئة...",filterAll:"جميع الفئات",filterOwner:"مالك المطعم",filterManager:"مدير الفرع",filterStaff:"موظف",filterActive:"المستخدمون النشطون",filterInactive:"المستخدمون غير النشطين",addUser:"إضافة مستخدم",addRole:"إضافة دور"},table:{user:"المستخدم",contact:"التواصل",roles:"الأدوار",location:"المطعم/الفرع",status:"الحالة",registrationDate:"تاريخ التسجيل",actions:"الإجراءات",role:"الدور",description:"الوصف",statistics:"الإحصائيات",position:"الموقع"},status:{active:"نشط",inactive:"غير نشط",enabled:"مُفعل",disabled:"معطل",systemRole:"دور النظام"},roleTypes:{RestaurantOwner:"مالك",BranchManager:"مدير",Staff:"موظف"},actions:{viewDetails:"عرض التفاصيل",edit:"تعديل",activate:"تفعيل",deactivate:"إلغاء التفعيل"},noResults:{usersNotFound:"لم يتم العثور على مستخدمين",rolesNotFound:"لم يتم العثور على أدوار",usersEmpty:"لم يتم إضافة أي مستخدمين بعد.",rolesEmpty:"لم يتم إضافة أي أدوار بعد.",searchEmpty:"لم يتم العثور على مستخدمين يطابقون معايير البحث.",searchEmptyRoles:"لم يتم العثور على أدوار تطابق معايير البحث."},createRole:{title:"إنشاء دور جديد",basicInfo:"المعلومات الأساسية",roleName:"اسم الدور",roleNamePlaceholder:"مثال: مدير الفرع",category:"الفئة",categoryPlaceholder:"مثال: الإدارة",description:"الوصف",descriptionPlaceholder:"وصف مهام ومسؤوليات الدور...",restaurantId:"رقم المطعم",restaurantIdPlaceholder:"الافتراضي: المطعم الحالي",branchId:"رقم الفرع",branchIdPlaceholder:"فارغ: جميع الفروع",isActive:"الدور يجب أن يكون نشطاً",permissions:"الصلاحيات",permissionsSelected:"مُحدد",cancel:"إلغاء",create:"إنشاء الدور",creating:"جاري الإنشاء...",validation:{nameRequired:"اسم الدور يجب أن يكون على الأقل 3 أحرف",nameMaxLength:"اسم الدور يمكن أن يكون 50 حرفاً كحد أقصى",descriptionMaxLength:"الوصف يمكن أن يكون 200 حرف كحد أقصى",categoryMaxLength:"الفئة يمكن أن تكون 50 حرفاً كحد أقصى"}},createUser:{title:"إنشاء مستخدم جديد",personalInfo:"المعلومات الشخصية",contactInfo:"معلومات التواصل",passwordInfo:"معلومات كلمة المرور",locationInfo:"معلومات الموقع",roleAssignment:"تعيين السلطة والدور",firstName:"الاسم الأول",firstNamePlaceholder:"مثال: أحمد",lastName:"اسم العائلة",lastNamePlaceholder:"مثال: محمد",userName:"اسم المستخدم",userNamePlaceholder:"سيتم إنشاؤه تلقائياً",userNameHint:"إذا تُرك فارغاً، سيتم إنشاؤه تلقائياً بصيغة الاسم.العائلة",email:"البريد الإلكتروني",emailPlaceholder:"ahmed@example.com",phone:"الهاتف",phonePlaceholder:"+966 55 123 4567",password:"كلمة المرور",passwordPlaceholder:"على الأقل 6 أحرف",passwordConfirm:"تأكيد كلمة المرور",passwordConfirmPlaceholder:"أعد إدخال كلمة المرور",locationType:"نوع الموقع",restaurant:"مطعم",branch:"فرع",restaurantId:"رقم المطعم",restaurantIdPlaceholder:"مثال: 123",branchId:"رقم الفرع",branchIdPlaceholder:"مثال: 456",profileImage:"رابط صورة الملف الشخصي",profileImagePlaceholder:"https://example.com/avatar.jpg",userCreatorId:"رقم منشئ المستخدم",userCreatorIdPlaceholder:"رقم المستخدم الحالي",assignmentType:"نوع التعيين",rolesSelection:"اختيار من الأدوار الموجودة (مُستحسن)",permissionsSelection:"اختيار الصلاحيات المباشر (غير مدعوم حالياً)",apiWarning:"⚠️ واجهة البرمجة تدعم فقط إنشاء المستخدمين القائم على الأدوار. أنشئ الأدوار أولاً، ثم اربطها بالمستخدمين.",rolesLabel:"الأدوار",rolesSelected:"مُحدد",noRoles:{title:"لم يتم تعريف أي أدوار بعد",description:"أنشئ الأدوار من تبويب الأدوار قبل إنشاء المستخدمين",tip:'💡 نصيحة: انتقل إلى تبويب "الأدوار" أولاً لإنشاء الأدوار المطلوبة',warning:"دور مطلوب",warningDescription:'يجب تعريف دور واحد على الأقل لإنشاء مستخدم. يمكنك إنشاء أدوار جديدة من تبويب "الأدوار".'},isActive:"المستخدم يجب أن يكون نشطاً",cancel:"إلغاء",create:"إنشاء مستخدم",creating:"جاري الإنشاء...",createRoleFirst:"أنشئ دوراً أولاً",validation:{nameRequired:"الاسم الأول مطلوب",nameMaxLength:"الاسم الأول يمكن أن يكون 50 حرفاً كحد أقصى",surnameRequired:"اسم العائلة مطلوب",surnameMaxLength:"اسم العائلة يمكن أن يكون 50 حرفاً كحد أقصى",emailRequired:"البريد الإلكتروني مطلوب",emailInvalid:"يرجى إدخال عنوان بريد إلكتروني صحيح",passwordRequired:"كلمة المرور يجب أن تكون على الأقل 6 أحرف",passwordMaxLength:"كلمة المرور يمكن أن تكون 100 حرف كحد أقصى",passwordConfirmRequired:"تأكيد كلمة المرور مطلوب",passwordMismatch:"كلمات المرور غير متطابقة",phoneRequired:"رقم الهاتف مطلوب",restaurantIdRequired:"يرجى إدخال رقم مطعم صحيح",branchIdRequired:"يرجى إدخال رقم فرع صحيح",rolesRequired:"يجب اختيار دور واحد على الأقل",permissionsNotSupported:"واجهة البرمجة تدعم فقط إنشاء المستخدمين القائم على الأدوار. يرجى الاختيار من الأدوار الموجودة."}},roleDetails:{userCount:"عدد المستخدمين",permissionCount:"عدد الصلاحيات",restaurant:"المطعم",branch:"الفرع",noDescription:"لا يوجد وصف متاح",users:"مستخدمين",permissions:"صلاحيات"},permissionCategories:{UserManagement:"إدارة المستخدمين",RestaurantManagement:"إدارة المطاعم",BranchManagement:"إدارة الفروع",OrderManagement:"إدارة الطلبات",ProductManagement:"إدارة المنتجات",Analytics:"التحليلات"},success:{userCreated:"تم إنشاء المستخدم بنجاح",roleCreated:"تم إنشاء الدور بنجاح",userUpdated:"تم تحديث المستخدم بنجاح",roleUpdated:"تم تحديث الدور بنجاح"}},BranchtableManagement:{title:"إدارة الطاولات",subtitle:"إدارة طاولات المطعم والفئات",tabs:{tables:"الطاولات",categories:"الفئات",statistics:"الإحصائيات",batchCreate:"إنشاء متعدد"},buttons:{addTable:"إضافة طاولة",addCategory:"إضافة فئة",batchCreate:"إنشاء متعدد",edit:"تعديل",delete:"حذف",save:"حفظ",cancel:"إلغاء",refresh:"تحديث",selectAll:"تحديد الكل",clearSelection:"إلغاء التحديد",export:"تصدير",import:"استيراد"},labels:{tableName:"اسم الطاولة",category:"الفئة",capacity:"السعة",status:"الحالة",occupation:"الإشغال",displayOrder:"ترتيب العرض",search:"البحث في الطاولات...",filterByCategory:"تصفية حسب الفئة",viewMode:"وضع العرض",totalTables:"إجمالي الطاولات",activeTables:"الطاولات النشطة",occupiedTables:"الطاولات المشغولة",availableTables:"الطاولات المتاحة"},status:{active:"نشط",inactive:"غير نشط",occupied:"مشغول",available:"متاح",outOfService:"خارج الخدمة"},actions:{markOccupied:"تحديد كمشغول",markAvailable:"تحديد كمتاح",activate:"تفعيل",deactivate:"إلغاء التفعيل",viewDetails:"عرض التفاصيل"},messages:{tableCreated:"تم إنشاء الطاولة بنجاح",tableUpdated:"تم تحديث الطاولة بنجاح",tableDeleted:"تم حذف الطاولة بنجاح",statusUpdated:"تم تحديث الحالة بنجاح",error:"حدث خطأ",noTables:"لم يتم العثور على طاولات",confirmDelete:"هل أنت متأكد من حذف هذه الطاولة؟",loading:"جاري التحميل...",saving:"جاري الحفظ...",deleting:"جاري الحذف..."},statistics:{title:"إحصائيات الطاولات",occupancyRate:"معدل الإشغال",averageCapacity:"متوسط السعة",categoryBreakdown:"توزيع الفئات",dailyOccupancy:"الإشغال اليومي",peakHours:"ساعات الذروة"},forms:{createTable:"إنشاء طاولة جديدة",editTable:"تعديل الطاولة",batchCreateTables:"إنشاء عدة طاولات",quantity:"الكمية",namePrefix:"بادئة الاسم",startingNumber:"الرقم البادئ"}},BranchTableManagement:{clearTable:" تنضيف الطاولة",refreshTable:" تحديث الحالة",clearing:"جارٍ المسح...",loading:"جارٍ التحميل...",multiCategory:"إنشاء جداول متعددة عبر فئات مختلفة في وقت واحد",category:"الفئة",SelectCategory:"اختر فئة",Quantity:"الكمية",Capacity:"السعة",createTables:"إنشاء الطاولات",creatingTables:"جارٍ إنشاء الطاولات...",batchCreateTables:"إنشاء جداول دفعة واحدة",header:"إدارة الفئات والطاولات",subheader:"إدارة فئات المطعم والطاولات مع عرض الأكورديون",totalCategories:"إجمالي الفئات",totalTables:"إجمالي الطاولات",occupiedTables:"الطاولات المشغولة",availableTables:"الطاولات المتاحة",searchPlaceholder:"ابحث عن الفئات...",refresh:"تحديث",addCategory:"إضافة فئة",addCategoryTitle:"إضافة فئة جديدة",categoryNameLabel:"اسم الفئة",categoryNamePlaceholder:"أدخل اسم الفئة",colorLabel:"اللون",iconLabel:"الأيقونة",save:"حفظ",cancel:"إلغاء",noCategories:"لم يتم العثور على فئات",addFirstCategory:"إضافة فئتك الأولى",tablesCount:"طاولات",status:"الحالة",active:"نشط",inactive:"غير نشط",occupation:"الإشغال",occupied:"مشغولة",available:"متاح",addTable:"إضافة طاولة",tableNamePlaceholder:"اسم الطاولة",capacityPlaceholder:"السعة",noTables:"لا توجد طاولات في هذه الفئة",qrCodeTitle:"رمز QR - {tableName}",qrCodeDescription:"امسح رمز QR هذا للوصول إلى قائمة الطاولة",downloadQR:"تنزيل رمز QR",downloading:"جاري التنزيل...",copyQRUrl:"نسخ رابط QR",copied:"تم النسخ!",success:{tableCleared:"تم مسح الطاولة {{tableName}} وهو الآن متاح",tableOccupied:"تم تحديث حالة الطاولة {{tableName}} إلى ",tableClearedGeneric:"تم مسح الطاولة بنجاح",tableStatusUpdated:"تم تحديث حالة الطاولة بنجاح",categoryAdded:"تم إضافة الفئة بنجاح",categoryUpdated:"تم تحديث الفئة بنجاح",categoryDeleted:"تم حذف الفئة بنجاح",tableAdded:"تم إضافة الطاولة بنجاح",tableUpdated:"تم تحديث الطاولة بنجاح",tableDeleted:"تم حذف الطاولة بنجاح",categoryActivated:"تم تفعيل الفئة بنجاح",categoryDeactivated:"تم إلغاء تفعيل الفئة بنجاح",tableActivated:"تم تفعيل الطاولة بنجاح",tableDeactivated:"تم إلغاء تفعيل الطاولة بنجاح",tableAvailable:"تم وضع علامة على الطاولة كمتاحة",dataRefreshed:"تم تحديث البيانات بنجاح"},error:{clearTableFailed:"فشل مسح الطاولة. يُرجى المحاولة مرة أخرى",fetchCategoriesFailed:"فشل في جلب الفئات",fetchTablesFailed:"فشل في جلب الطاولات",categoryNameRequired:"اسم الفئة مطلوب",addCategoryFailed:"فشل في إضافة الفئة",updateCategoryFailed:"فشل في تحديث الفئة",deleteCategoryFailed:"فشل في حذف الفئة",categoryHasTables:"لا يمكن حذف الفئة التي تحتوي على طاولات",categoryNotFound:"الفئة غير موجودة",addTableFailed:"فشل في إضافة الطاولة",updateTableFailed:"فشل في تحديث الطاولة",deleteTableFailed:"فشل في حذف الطاولة",tableNameRequired:"اسم الطاولة مطلوب",tableNotFound:"الطاولة غير موجودة",updateCategoryStatusFailed:"فشل في تحديث حالة الفئة",updateTableStatusFailed:"فشل في تحديث حالة الطاولة",updateTableOccupationFailed:"فشل في تحديث حالة إشغال الطاولة",refreshFailed:"فشل في تحديث البيانات"}},branchManagementBranch:{title:"إدارة الفروع",description:"إدارة معلومات وإعدادات فرعك.",loading:"جاري تحميل معلومات الفرع...",noBranchFound:"لم يتم العثور على أي فرع",uploadLogo:"تحميل الشعار",status:{open:"مفتوح",closed:"مغلق",temporarilyClosed:"مغلق مؤقتاً",reopenBranch:"إعادة فتح الفرع",temporaryClose:"إغلاق مؤقت"},actions:{edit:"تعديل",save:"حفظ",cancel:"إلغاء",delete:"حذف",deleting:"جاري الحذف...",confirmDelete:"تأكيد الحذف",deleteWarning:"هل أنت متأكد من أنك تريد حذف هذا الفرع؟ لا يمكن التراجع عن هذا الإجراء.",onlineMenu:"عرض القائمة الإلكترونية"},basicInfo:{title:"المعلومات الأساسية",branchName:"اسم الفرع",whatsappNumber:"رقم الواتساب",email:"البريد الإلكتروني",notSpecified:"غير محدد"},addressInfo:{title:"معلومات العنوان",country:"الدولة",city:"المدينة",street:"الشارع",postalCode:"الرمز البريدي",region:"المنطقة"},workingHours:{title:"ساعات العمل",workingDay:"يوم عمل",openTime:"وقت الفتح",closeTime:"وقت الإغلاق",noWorkingHours:"لم يتم تحديد ساعات العمل",days:{0:"الأحد",1:"الاثنين",2:"الثلاثاء",3:"الأربعاء",4:"الخميس",5:"الجمعة",6:"السبت"}},messages:{updateSuccess:"تم تحديث معلومات الفرع بنجاح",deleteSuccess:"تم حذف الفرع بنجاح",temporaryCloseSuccess:"تم إغلاق الفرع مؤقتاً",reopenSuccess:"تم إعادة فتح الفرع",updateError:"حدث خطأ أثناء التحديث",deleteError:"حدث خطأ أثناء الحذف",statusChangeError:"حدث خطأ أثناء تغيير الحالة",loadError:"حدث خطأ أثناء تحميل معلومات الفرع"},placeholders:{branchName:"أدخل اسم الفرع",whatsappNumber:"أدخل رقم الواتساب",email:"أدخل عنوان البريد الإلكتروني",country:"أدخل الدولة",city:"أدخل المدينة",street:"أدخل الشارع",postalCode:"أدخل الرمز البريدي",region:"أدخل المنطقة"}},branchCategories:{header:"إدارة فئات الفرع",subheader:"إدارة الفئات والمنتجات للفرع ",lastUpdated:"آخر تحديث",stats:{availableCategories:"الفئات المتاحة",readyToAdd:"جاهزة للإضافة",activeCategories:"الفئات النشطة",currentlyInBranch:"موجودة حالياً في الفرع",selectedCategories:"الفئات المحددة",toBeAdded:"ستتم إضافتها",selectedProducts:"المنتجات المحددة",fromCategories:"من الفئات",avalibleAddons:"الإضافات المتاحة"},tabs:{addNew:"إضافة جديد",manageExisting:"إدارة الموجود"},steps:{chooseCategories:"اختيار الفئات",selectProducts:"اختيار المنتجات",reviewAdd:"مراجعة وإضافة",finalStep:"الخطوة الأخيرة",selected:"محدد",back:"رجوع"},addCategories:{title:"اختيار الفئات",subtitle:"حدد الفئات التي تريد إضافتها إلى فرعك",noAvailable:"لا توجد فئات متاحة",allAdded:"تم إضافة جميع الفئات المتاحة إلى هذا الفرع",categoriesSelected:"فئات محددة",clearSelection:"مسح التحديد",nextSelectProducts:"التالي: اختيار المنتجات"},selectProducts:{title:"اختيار المنتجات",subtitle:"اختر المنتجات من الفئات المحددة",selectAll:"اختيار الكل",clearAll:"مسح الكل",noProducts:"لم يتم العثور على منتجات",noProductsInCategories:"الفئات المحددة لا تحتوي على أي منتجات",available:"متاح",productsSelectedFrom:"منتجات محددة من",categories:"فئات",selected:"محدد",reviewSelection:"مراجعة التحديد"},review:{title:"مراجعة وإضافة",subtitle:"راجع اختيارك قبل الإضافة إلى الفرع",of:"من",productsSelected:"منتجات محددة",all:"جميع",productsWillBeAdded:"المنتجات ستتم إضافتها",totalValue:"القيمة الإجمالية",selectedProducts:"المنتجات المحددة",readyToAdd:"جاهز لإضافة",with:"مع",availableInBranch:"متاح في الفرع",startOver:"البدء من جديد",adding:"جاري الإضافة...",addToBranch:"إضافة إلى الفرع"},manage:{title:"إدارة الفئات الموجودة",subtitle:"إدارة الفئات والمنتجات في فرعك",saving:"جاري الحفظ...",saveOrder:"حفظ الترتيب",exitReorder:"إنهاء إعادة الترتيب",reorder:"إعادة ترتيب",noCategoriesAdded:"لم يتم إضافة فئات",noCategoriesAddedDesc:"لم يتم إضافة أي فئات إلى هذا الفرع بعد",addCategories:"إضافة فئات",original:"الأصلي:",added:"مضاف",available:"متاح",total:"الإجمالي",active:"نشط",inactive:"غير نشط",protected:"محمي"},products:{inCategory:"المنتجات في الفئة",added:"مضاف",available:"متاح",ingredients:"مكونات",allergens:"مسببات الحساسية",viewDetails:"عرض التفاصيل",removeFromBranch:"إزالة من الفرع",addToBranch:"إضافة إلى الفرع",addedToBranch:"منتجات مضافة إلى الفرع",moreAvailableToAdd:"المزيد متاح للإضافة",withDetailedInfo:"بمعلومات مفصلة",products:"منتجات"},productDetails:{addedToBranch:"مضاف إلى الفرع",allergens:"مسببات الحساسية",contains:"يحتوي على",mayContain:"قد يحتوي على",ingredients:"المكونات",allergenic:"مسبب للحساسية",available:"متاح",unavailable:"غير متاح",quantity:"الكمية:",ingredientId:"معرف المكون:",allergenInformation:"معلومات مسببات الحساسية:",additionalInformation:"معلومات إضافية",originalProduct:"المنتج الأصلي",originalPrice:"السعر الأصلي:",originalStatus:"الحالة الأصلية:",originalDisplayOrder:"ترتيب العرض الأصلي:",orderDetails:"تفاصيل الطلب",lastUpdated:"آخر تحديث:",close:"إغلاق"},actions:{refresh:"تحديث",delete:"حذف",edit:"تعديل",save:"حفظ",cancel:"إلغاء",confirm:"تأكيد",loading:"جاري التحميل..."},search:{categories:"البحث في الفئات...",products:"البحث في المنتجات..."},status:{active:"نشط",inactive:"تم تعطيله من قبل المطعم",available:"متاح",unavailable:"غير متاح"},messages:{success:{categoryAdded:"تم إضافة الفئة بنجاح",categoryDeleted:"تم حذف الفئة بنجاح",productAdded:"تم إضافة المنتج {name} بنجاح",productRemoved:"تم إزالة المنتج {name} بنجاح",orderSaved:"تم حفظ ترتيب الفئات بنجاح"},error:{cannotDelete:'لا يمكن حذف الفئة "{name}" لأنها تحتوي على {count} منتجات. يرجى إزالة جميع المنتجات أولاً.',cannotDeleteTooltip:"لا يمكن الحذف: الفئة تحتوي على {count} منتجات. أزل جميع المنتجات أولاً.",productNotFound:"المنتج غير موجود",addingProduct:"خطأ في إضافة المنتج",removingProduct:"خطأ في إزالة المنتج",savingOrder:"خطأ في حفظ الترتيب",loadingCategories:"خطأ في تحميل الفئات",loadingProducts:"خطأ في تحميل المنتجات"}},deleteModal:{title:"حذف الفئة",message:'هل أنت متأكد من حذف الفئة "{name}"؟ لا يمكن التراجع عن هذا الإجراء.',confirm:"حذف",cancel:"إلغاء"},placeholders:{searchCategories:"البحث في الفئات...",searchProducts:"البحث في المنتجات..."}},profile:{title:"الملف الشخصي",personalInfo:"المعلومات الشخصية",editProfile:"تعديل الملف الشخصي",accountStatus:{active:"حساب نشط",inactive:"حساب غير نشط",status:"حالة الحساب"},fields:{firstName:"الاسم الأول",lastName:"اسم العائلة",username:"اسم المستخدم",email:"البريد الإلكتروني",registrationDate:"تاريخ التسجيل",restaurantName:"اسم المطعم",status:"الحالة"},restaurant:{info:"معلومات المطعم",name:"اسم المطعم",status:{active:"نشط",inactive:"غير نشط"}},permissions:{summary:"ملخص الصلاحيات",totalCategories:"إجمالي الفئات",totalPermissions:"إجمالي الصلاحيات",rolesAndPermissions:"الفئات والصلاحيات",systemRole:"دور النظام"},categories:{Category:"إدارة الفئات",BranchCategory:"إدارة فئات الفروع",Product:"إدارة المنتجات",BranchProduct:"إدارة منتجات الفروع",BranchQRCode:"إدارة رموز QR",Order:"إدارة الطلبات",Restaurant:"إدارة المطاعم",Branch:"إدارة الفروع",Admin:"عمليات الإدارة"},permissionNames:{"category.create":"إنشاء فئة","category.delete":"حذف فئة","category.update":"تحديث فئة","category.read":"عرض فئة","branch.category.create":"إنشاء فئة فرع","branch.category.delete":"حذف فئة فرع","branch.category.update":"تحديث فئة فرع","branch.category.read":"عرض فئة فرع","product.create":"إنشاء منتج","product.delete":"حذف منتج","product.update":"تحديث منتج","product.read":"عرض منتج","product.edit":"تعديل منتج","branch.product.create":"إنشاء منتج فرع","branch.product.delete":"حذف منتج فرع","branch.product.update":"تحديث منتج فرع","branch.product.read":"عرض منتج فرع","branch.qrcode.create":"إنشاء رمز QR","branch.qrcode.delete":"حذف رمز QR","branch.qrcode.update":"تحديث رمز QR","branch.qrcode.read":"عرض رمز QR","order.create":"إنشاء طلب","order.delete":"حذف طلب","order.update":"تحديث طلب","order.read":"عرض طلب","order.view":"عرض تفاصيل الطلب","order.cancel":"إلغاء طلب","restaurant.create":"إنشاء مطعم","restaurant.delete":"حذف مطعم","restaurant.update":"تحديث مطعم","restaurant.read":"عرض مطعم","restaurant.user.create":"إنشاء مستخدم مطعم","restaurant.user.delete":"حذف مستخدم مطعم","restaurant.user.update":"تحديث مستخدم مطعم","restaurant.user.read":"عرض مستخدم مطعم","branch.create":"إنشاء فرع","branch.delete":"حذف فرع","branch.update":"تحديث فرع","branch.read":"عرض فرع","branch.user.create":"إنشاء مستخدم فرع","branch.user.delete":"حذف مستخدم فرع","branch.user.update":"تحديث مستخدم فرع","branch.user.read":"عرض مستخدم فرع","admin.api.control":"التحكم في API"},error:{loadFailed:"فشل في تحميل بيانات الملف الشخصي"}},addonModal:{title:"إعداد الإضافات",loading:"جاري تحميل الإضافات...",refresh:"تحديث",search:{placeholder:"البحث في الإضافات بالاسم أو الوصف أو الفئة..."},stats:{available:"متاحة",assigned:"مُعيَّنة",recommended:"مُوصى بها"},sections:{assignedAddons:"الإضافات المُعيَّنة",availableAddons:"الإضافات المتاحة"},emptyState:{title:"لا توجد إضافات متاحة",description:"اتصل بإدارة المطعم لتحديد مجموعات الإضافات لهذا المنتج",productId:"معرف المنتج:"},actions:{add:"إضافة",remove:"إزالة",configure:"إعداد",done:"تم",saveChanges:"حفظ التغييرات"},status:{assigned:"مُعيَّنة",recommended:"مُوصى بها"},configuration:{title:"إعدادات التكوين",specialPrice:"السعر الخاص",maxQuantity:"الحد الأقصى للكمية",minQuantity:"الحد الادنى للكمية",marketingText:"النص التسويقي",markRecommended:"وضع علامة كموصى بها",placeholders:{marketingText:"مثل: خيار شائع، أفضل قيمة، مفضل العملاء..."}},messages:{success:{addonAdded:"تم إضافة الإضافة بنجاح",addonRemoved:"تم إزالة الإضافة بنجاح",addonUpdated:"تم تحديث الإضافة بنجاح"},errors:{loadFailed:"فشل في تحميل إضافات المنتج",updateFailed:"فشل في تحديث تعيين الإضافة",propertiesFailed:"فشل في تحديث خصائص الإضافة"}},footer:{summary:"من",addon:"إضافة",addons:"إضافات",assigned:"مُعيَّنة"}},menu:{title:"القائمة",loading:"تحميل القائمة",basePrice:"السعر الأساسي",quantity:"الكمية",addons:"الإضافات",product:"المنتج",addToBasket:"أضف إلى السلة",allergens:"مسببات الحساسية",loadingSubtitle:"نحضر لك أشهى المأكولات...",error:{title:"القائمة غير متوفرة",tryAgain:"حاول مرة أخرى"},search:{placeholder:"ابحث عن الأطباق الشهية..."},categories:"الفئات",ingredients:"المكونات",open:"مفتوح",closed:"مغلق",chefsChoice:"اختيار الشيف",add:"إضافة",remove:"حذف",items:"عنصر",item:"عنصر",available:"متوفر",deliciousItems:"لذيذة",exploreMenu:"استكشف قائمتنا",noResults:"لم يتم العثور على نتائج",noResultsDesc:"جرب كلمات مختلفة أو تصفح فئات أخرى",noItemsCategory:"لا توجد عناصر في هذه الفئة",noItemsCategoryDesc:"تحقق من الفئات الأخرى للحصول على خيارات لذيذة",selectCategory:"اختر فئة لبدء استكشاف مأكولاتنا المتقنة بعناية",whyChooseUs:{title:"لماذا تختارنا؟",subtitle:"استمتع بالتميز الطهي مع التزامنا بالجودة والطازجة والخدمة الاستثنائية",freshIngredients:{title:"مكونات طازجة",description:"مكونات عالية الجودة من مصادر محلية تُحضر يومياً"},fastDelivery:{title:"توصيل سريع",description:"خدمة توصيل سريعة وموثوقة إلى باب منزلك"},qualityAssured:{title:"جودة مضمونة",description:"معايير صارمة لمراقبة الجودة والنظافة"},expertChefs:{title:"طهاة خبراء",description:"محترفون في الطهي ذوو خبرة يصنعون تجارب لا تُنسى"}},footer:{brand:"قائمة المطاعم",description:"اكتشف تجارب طعام استثنائية مع مجموعتنا المختارة من المطاعم والمأكولات اللذيذة.",quickLinks:"روابط سريعة",services:"الخدمات",getInTouch:"تواصل معنا",visitUs:"زرنا",callUs:"اتصل بنا",emailUs:"راسلنا",copyright:"جميع الحقوق محفوظة.",privacyPolicy:"سياسة الخصوصية",termsOfService:"شروط الخدمة",poweredBy:"بدعم من",links:{ourMenu:"قائمتنا",aboutUs:"من نحن",locations:"المواقع",reservations:"الحجوزات",specialOffers:"العروض الخاصة",giftCards:"بطاقات الهدايا"},services:{onlineOrdering:"الطلب عبر الإنترنت",tableBooking:"حجز الطاولات",privateEvents:"الفعاليات الخاصة",catering:"خدمات الضيافة",takeaway:"الطلبات الخارجية",corporateMeals:"وجبات الشركات"}},cart:{title:"السلة",basePrice:"السعر الأساسي",newOrder:"طلب جديد",orders:"الطلبات",notes:"ملاحظات",refresh:"تحديث",refreshing:"جاري التحديث...",remove:"إزالة",orderType:"نوع الطلب",table:"الطاولة",empty:"السلة فارغة",emptyDesc:"ابدأ بإضافة بعض العناصر إلى سلتك",total:"المجموع",proceed:"المتابعة للطلب",placeOrder:"إتمام الطلب",processing:"جاري المعالجة...",clear:"تفريغ السلة",item:"عنصر",items:"عناصر",variant:"نوع",variants:"أنواع",plain:"عادي",customized:"مخصص",addons:"الإضافات",variantTotal:"مجموع النوع",quantity:"الكمية",each:"للواحد",min:"الحد الأدنى",max:"الحد الأقصى",qty:"كمية",minQuantityError:"الحد الأدنى للكمية لـ {name} هو {min}",maxQuantityError:"الحد الأقصى للكمية لـ {name} هو {max}",decreaseQuantity:"تقليل الكمية",increaseQuantity:"زيادة الكمية",creating_order:"جاري إنشاء الطلب...",order_created_success:"تم إنشاء الطلب بنجاح!",order_creation_failed:"فشل في إنشاء الطلب. يرجى المحاولة مرة أخرى.",sending_whatsapp:"جاري إرسال رسالة واتساب...",whatsapp_sent_success:"تم إرسال رسالة واتساب بنجاح!",whatsapp_send_failed:"فشل في إرسال رسالة واتساب",clearing_basket:"جاري مسح السلة...",basket_cleared:"تم مسح السلة بنجاح!",clear_basket_failed:"فشل في مسح السلة",load_order_types_failed:"فشل في تحميل أنواع الطلبات",confirming_price_changes:"جاري تأكيد تغييرات الأسعار...",price_changes_confirmed:"تم تأكيد تغييرات الأسعار بنجاح!",price_changes_failed:"فشل في تأكيد تغييرات الأسعار",session_required:"معرف الجلسة مطلوب"}},order:{form:{title:"تفاصيل الطلب",orderType:"نوع الطلب",paymentMethod:"طريقة الدفع",selectPaymentMethod:"اختر طريقة الدفع...",cash:"نقداً",creditCard:"بطاقة ائتمان",onlinePayment:"دفع عبر الإنترنت",name:"الاسم",phone:"رقم الهاتف",address:"العنوان",cashDescription:"ادفع نقداً عند التسليم",creditCardDescription:"ادفع باستخدام بطاقة الائتمان الخاصة بك",onlinePaymentDescription:"ادفع عبر بوابة الدفع الآمنة لدينا",orderTypeRequired:"نوع الطلب مطلوب",selectOrderType:"اختر نوع الطلب...",orderInformation:"معلومات الطلب",customerName:"اسم العميل",customerNameRequired:"اسم العميل مطلوب",information:"معلومات",customerNamePlaceholder:"أدخل اسم العميل",deliveryAddress:"عنوان التوصيل",deliveryAddressRequired:"عنوان التوصيل مطلوب لهذا النوع من الطلبات",deliveryAddressPlaceholder:"أدخل عنوان التوصيل",phoneNumber:"رقم الهاتف",phoneNumberRequired:"رقم الهاتف مطلوب لهذا النوع من الطلبات",phoneNumberPlaceholder:"أدخل رقم الهاتف",specialInstructions:"تعليمات خاصة",specialInstructionsPlaceholder:"أي تعليمات خاصة لطلبك...",orderSummary:"ملخص الطلب",subtotal:"المجموع الفرعي",serviceCharge:"رسوم الخدمة",minimumRequired:"الحد الأدنى المطلوب",estimatedTime:"الوقت المقدر",minutes:"دقيقة",backToCart:"العودة للسلة",createOrder:"إنشاء الطلب",creating:"جاري الإنشاء...",loadingOrderTypes:"جاري تحميل أنواع الطلبات...",noOrderTypes:"لا توجد أنواع طلبات متاحة. يرجى الاتصال بالدعم.",minimumOrder:"الحد الأدنى للطلب",service:"خدمة",minimumOrderError:"الحد الأدنى لمبلغ الطلب لـ {type} هو ${amount}. المجموع الحالي: ${current}"},validation:{fixErrors:"يرجى إصلاح الأخطاء التالية:",customerNameRequired:"اسم العميل مطلوب",orderTypeRequired:"يرجى اختيار نوع الطلب",addressRequired:"عنوان التوصيل مطلوب لهذا النوع من الطلبات",phoneRequired:"رقم الهاتف مطلوب لهذا النوع من الطلبات"}},priceChange:{title:"تم اكتشاف تغييرات في الأسعار",description:"بعض العناصر في سلتك تحتوي على تغييرات في الأسعار تحتاج إلى تأكيد قبل المتابعة مع الطلب.",changesRequired:"التغييرات المطلوبة:",defaultMessage:"تحديثات الأسعار تحتاج إلى تأكيد للمتابعة.",cancel:"إلغاء",confirm:"تأكيد والمتابعة",confirming:"جاري التأكيد..."},productModal:{customizeOrder:"تخصيص طلبك",allergenInformation:"معلومات الحساسية",ingredients:"المكونات",availableAddons:"الإضافات المتاحة",add:"إضافة",recommended:"موصى به",min:"الحد الأدنى",max:"الحد الأقصى",orderSummary:"ملخص الطلب",quantity:"الكمية",total:"المجموع",addToCart:"إضافة إلى السلة",addons:"الإضافات"},errors:{loadingBasket:"فشل تحميل السلة",loadingOrderTypes:"فشل تحميل أنواع الطلبات",removingItem:"فشل إزالة العنصر من السلة",increasingQuantity:"فشل زيادة كمية العنصر",decreasingQuantity:"فشل تقليل كمية العنصر",increasingAddonQuantity:"فشل زيادة كمية الإضافة",clearingBasket:"فشل تفريغ السلة",creatingOrder:"فشل إنشاء الطلب",orderAlreadyProcessing:"هذا الطلب قيد المعالجة بالفعل",priceChangeDetails:"فشل تحميل تفاصيل تغيير الأسعار",confirmingPriceChanges:"فشل تأكيد تغييرات الأسعار",sessionIdRequired:"معرف الجلسة مطلوب لتأكيد تغيير الأسعار",addonProductNotFound:"لم يتم العثور على معرف منتج الإضافة",cartItemNotFound:"لم يتم العثور على عنصر السلة"},ordersManager:{total:"المجموع",clearFilters:"مسح الفلاتر",filtered:"تم التصفية",OrderType:"نوع الطلب",subTotal:"المجموع الفرعي",serviceFeeApplied:"رسوم الخدمة",DeliveryAddress:"عنوان التسليم",OrderNotesInformation:"ملاحظات ومعلومات الطلب",OrderMetadata:"بيانات تعريف الطلب",ItemCount:"عدد العناصر",TotalItems:"إجمالي العناصر",searchPlaceholder:"إاكتب هنا",OrderTimeline:"الجدول الزمني للطلب",showAdvancedFilter:"إظهار الفلاتر المتقدمة",hideAdvancedFilter:"إخفاء الفلاتر المتقدمة",of:"من",orders:"الطلبات",title:"إدارة الطلبات",clearFilter:"مسح البحث",customerName:"اسم العميل",tableName:"اسم الجدول",orderType:"نوع الطلب",minPrice:"السعر الأدنى",maxPrice:"السعر الأقصى",showing:"عرض",to:"إلى",perpage:"لكل صفحة",cancelOrder:"إلغاء الطلب",cancelOrderConfirmation:"هل أنت متأكد من رغبتك في إلغاء الطلب?",deletedOrders:"الطلبات المحذوفة",description:"إدارة وتتبع طلبات مطعمك بسهولة.",pendingOrders:"الطلبات المعلقة",branchOrders:"طلبات الفرع",allStatuses:"جميع الحالات",statusFilter:"تصفية الحالة",noOrders:"لا توجد طلبات  بعد.",customer:"العميل",orderNumber:"رقم الطلب",status:"الحالة",table:"الطاولة",amount:"المبلغ",date:"التاريخ",actions:"الإجراءات",viewDetails:"عرض التفاصيل",confirm:"تأكيد",reject:"رفض",changeStatus:"تغيير الحالة",orderItems:"عناصر الطلب",createdAt:"تاريخ الإنشاء",confirmedAt:"تاريخ التأكيد",rowVersion:"إصدار السجل",confirmOrderTitle:"تأكيد الطلب",confirmOrderPrompt:"هل أنت متأكد من رغبتك في تأكيد هذا الطلب؟",rejectOrderTitle:"رفض الطلب",rejectOrderPrompt:"أدخل سبب الرفض:",rejectReasonPlaceholder:"سبب الرفض...",updateStatusTitle:"تحديث الحالة",updateStatusPrompt:"هل أنت متأكد من رغبتك في تحديث حالة الطلب إلى ",cancel:"إلغاء",confirmAction:"تأكيد",rejectAction:"رفض",updateAction:"تحديث",confirming:"جاري التأكيد...",rejecting:"جاري الرفض...",updating:"جاري التحديث...",orderDetailsTitle:"تفاصيل الطلب",successNotification:"العملية ناجحة",orderConfirmedSuccess:"تم تأكيد الطلب بنجاح!",orderRejectedSuccess:"تم رفض الطلب بنجاح!",orderStatusUpdatedSuccess:"تم تحديث حالة الطلب بنجاح!",errorInvalidStatusTransition:"انتقال الحالة غير صالح: يرجى تأكيد الطلب أولاً (الانتقال إلى حالة 'مؤكد').",errorCannotConfirm:"لا يمكن تأكيد هذا الطلب. الحالة الحالية: {currentStatus}.",quantity:"الكمية",unitPrice:"سعر الوحدة",addonPrice:"سعر الإضافة",notes:"ملاحظات",amountLabel:"المبلغ الإجمالي",DeliveryInformation:"معلومات التوصيل",TableInformation:"معلومات الطاولة",CustomerInformation:"معلومات العميل",CustomerName:"اسم العميل",PhoneNumber:"رقم الهاتف",OrderTag:"علامة الطلب",OrderNotes:"ملاحظات الطلب",MinOrderAmount:"الحد الأدنى لمبلغ الطلب",CompletedAt:"تاريخ الاكتمال",time:"الوقت"},orderService:{statuses:{pending:"معلق",confirmed:"مؤكد",preparing:"قيد التحضير",ready:"جاهز",completed:"مكتمل",delivered:"تم التوصيل",cancelled:"ملغى",rejected:"مرفوض",unknown:"غير معروف"},errors:{createSessionOrder:"حدث خطأ أثناء إنشاء طلب الجلسة",getPendingOrders:"حدث خطأ أثناء جلب الطلبات المعلقة",getTableOrders:"حدث خطأ أثناء جلب طلبات الطاولة",getOrder:"حدث خطأ أثناء جلب الطلب",getBranchOrders:"حدث خطأ أثناء جلب طلبات الفرع",confirmOrder:"حدث خطأ أثناء تأكيد الطلب",rejectOrder:"حدث خطأ أثناء رفض الطلب",updateOrderStatus:"حدث خطأ أثناء تحديث حالة الطلب",trackOrder:"حدث خطأ أثناء جلب تتبع الطلب",getOrderTrackingQR:"حدث خطأ أثناء جلب رمز QR لتتبع الطلب",smartCreateOrder:"حدث خطأ أثناء إنشاء الطلب الذكي",getTableBasketSummary:"حدث خطأ أثناء جلب ملخص سلة الطاولة",validationError:"خطأ التحقق: {errors}",invalidRequest:"طلب غير صالح. يرجى التحقق من البيانات.",sessionExpired:"انتهت صلاحية الجلسة. يرجى تسجيل الدخول مرة أخرى.",unauthorized:"ليس لديك الصلاحية لهذا الإجراء.",orderNotFound:"الطلب غير موجود.",invalidStatus:"حالة الطلب غير مناسبة لهذا الإجراء.",noInternet:"تحقق من اتصالك بالإنترنت.",unknownError:"خطأ غير معروف",getOrderTypeText:"حدث خطأ أثناء جلب نص نوع الطلب",getOrderType:"حدث خطأ أثناء جلب نوع الطلب",getActiveOrderTypes:"حدث خطأ أثناء جلب أنواع الطلبات النشطة",getAllOrderTypes:"حدث خطأ أثناء جلب جميع أنواع الطلبات",orderTotalCalculation:"حدث خطأ أثناء حساب إجمالي الطلب",getEstimatedTime:"حدث خطأ أثناء جSydney: جلب وقت التسليم المقدر",getOrderTypeByCode:"حدث خطأ أثناء جلب نوع الطلب بواسطة الرمز",getOrderTypesForDisplay:"حدث خطأ أثناء جلب أنواع الطلبات للعرض",unknownOrderType:"نوع طلب غير معروف"}},branchPreferences:{title:"إعدادات الفرع",description:"تكوين الإعدادات والتفضيلات الخاصة بالفرع",loading:"جاري تحميل إعدادات الفرع...",saving:"جاري الحفظ...",refresh:"تحديث",saveChanges:"حفظ التغييرات",saveSuccess:"تم حفظ إعدادات الفرع بنجاح!",cleanupModes:{afterTimeout:"بعد انتهاء المهلة",afterClosing:"بعد الإغلاق",disabled:"معطل"},sections:{orderManagement:{title:"إدارة الطلبات",description:"تكوين كيفية التعامل مع الطلبات ومعالجتها",autoConfirmOrders:"تأكيد الطلبات تلقائياً",autoConfirmOrdersDesc:"تأكيد الطلبات الواردة تلقائياً بدون موافقة يدوية",useWhatsappForOrders:"واتساب للطلبات",useWhatsappForOrdersDesc:"تفعيل تكامل واتساب لإشعارات الطلبات"},displaySettings:{title:"إعدادات العرض",description:"تكوين المعلومات التي يتم عرضها للعملاء",showProductDescriptions:"عرض أوصاف المنتجات",showProductDescriptionsDesc:"عرض أوصاف مفصلة للمنتجات للعملاء",enableAllergenDisplay:"عرض معلومات مسببات الحساسية",enableAllergenDisplayDesc:"إظهار تحذيرات ومعلومات مسببات الحساسية",enableIngredientDisplay:"عرض المكونات",enableIngredientDisplayDesc:"إظهار قوائم المكونات للمنتجات"},paymentMethods:{title:"طرق الدفع",description:"تكوين طرق الدفع المقبولة",acceptCash:"قبول الدفع النقدي",acceptCashDesc:"السماح للعملاء بالدفع نقداً",acceptCreditCard:"قبول البطاقات الائتمانية",acceptCreditCardDesc:"السماح للعملاء بالدفع ببطاقات الائتمان/الخصم",acceptOnlinePayment:"قبول الدفع الإلكتروني",acceptOnlinePaymentDesc:"السماح للعملاء بالدفع عبر الإنترنت من خلال وسائل الدفع الرقمية"},localization:{title:"الإعدادات المحلية",description:"تكوين إعدادات اللغة والمنطقة",defaultLanguage:"اللغة الافتراضية",defaultCurrency:"العملة الافتراضية",timeZone:"المنطقة الزمنية",supportedLanguages:"اللغات المدعومة"},sessionManagement:{title:"إدارة الجلسات",description:"تكوين مهلة الجلسة وإعدادات التنظيف",sessionTimeout:"مهلة الجلسة (بالدقائق)",cleanupMode:"وضع التنظيف",cleanupDelay:"تأخير التنظيف بعد الإغلاق (بالدقائق)",cleanupModeDesc:"اختر متى يتم تنظيف الجلسات المنتهية الصلاحية",sessionTimeoutDesc:"الدقائق قبل انتهاء صلاحية الجلسة بسبب عدم النشاط",cleanupDelayDesc:"الدقائق للانتظار بعد الإغلاق قبل التنظيف",cleanupDisabledMessage:"تنظيف الجلسات معطل. لن يتم تنظيف الجلسات تلقائياً."}},currencies:{TRY:"الليرة التركية (₺)",USD:"الدولار الأمريكي ($)",EUR:"اليورو (€)"},languages:{tr:"التركية",en:"الإنجليزية",ar:"العربية",de:"الألمانية",fr:"الفرنسية",ru:"الروسية",es:"الإسبانية"},timezones:{"Europe/Istanbul":"إسطنبول (UTC+3)","Europe/London":"لندن (UTC+0)","America/New_York":"نيويورك (UTC-5)"},errors:{loadFailed:"فشل في تحميل إعدادات الفرع",saveFailed:"فشل في حفظ إعدادات الفرع",validationError:"خطأ التحقق: {errors}",invalidRequest:"طلب غير صالح. يرجى التحقق من البيانات.",sessionExpired:"انتهت صلاحية الجلسة. يرجى تسجيل الدخول مرة أخرى.",unauthorized:"ليس لديك الصلاحية لهذا الإجراء.",notFound:"إعدادات الفرع غير موجودة.",conflict:"البيانات غير محدثة. يرجى تحديث الصفحة والمحاولة مرة أخرى.",noInternet:"تحقق من اتصالك بالإنترنت.",unknownError:"حدث خطأ غير معروف",invalidPaymentSettings:"إعدادات دفع غير صالحة. يجب تحديد طريقة دفع واحدة على الأقل.",invalidSessionSettings:"إعدادات جلسة غير صالحة. يرجى التحقق من القيم."}},whatsapp:{confirmation:{title:"إرسال إلى واتساب؟",subtitle:"إشعار المطعم عبر واتساب",sendTo:"سيتم إرسال تفاصيل طلبك إلى:",restaurant:"المطعم",whatWillBeSent:"ما سيتم إرساله:",orderDetails:"• تفاصيل طلبك والعناصر",customerInfo:"• اسم العميل ورقم الطاولة",totalPrice:"• إجمالي السعر وأي ملاحظات خاصة",timestamp:"• توقيت الطلب",note:"ملاحظة:",noteDescription:"سيؤدي هذا إلى فتح واتساب على جهازك. سيتم معالجة طلبك حتى لو اخترت عدم الإرسال إلى واتساب.",skipWhatsApp:"تخطي واتساب",sendToWhatsApp:"إرسال إلى واتساب",sending:"جاري الإرسال..."}},recycleBin:{title:"سلة المحذوفات",titleProducts:"المنتجات والفئات المحذوفة",titleBranches:"الفروع المحذوفة",titleTables:"الطاولات المحذوفة",titleBranchProducts:"منتجات وفئات الفرع المحذوفة",titleBranchCategories:"فئات الفرع المحذوفة",titleTableCategories:"فئات الطاولات المحذوفة",description:"إدارة الفروع والفئات والمنتجات والطاولات المحذوفة",descriptionProducts:"إدارة المنتجات والفئات المحذوفة",descriptionBranches:"إدارة الفروع المحذوفة",descriptionTables:"إدارة الطاولات المحذوفة",descriptionBranchProducts:"إدارة منتجات وفئات الفرع المحذوفة",descriptionBranchCategories:"إدارة فئات الفرع المحذوفة",descriptionTableCategories:"إدارة فئات الطاولات المحذوفة",search:"بحث عن العناصر...",branchRestore:{title:"خيارات استعادة الفرع",subtitle:"اختر كيفية استعادة الفرع المحذوف",simpleTitle:"استعادة الفرع",simpleDesc:"استعادة هذا الفرع ستؤدي فقط إلى استعادة معلومات الفرع العامة",cascadeTitle:"استعادة هذا الفرع ستؤدي أيضًا إلى استعادة جميع المنتجات والفئات المرتبطة به",cascadeDesc:"هل تريد استعادة الفرع فقط أم جميع المنتجات والفئات المرتبطة به أيضًا؟",recommended:"مستحسن",includeProducts:"تضمين المنتجات والفئات",includeTables:"تضمين الجداول",includeAll:"تضمين جميع البيانات المرتبطة"},productRestore:{title:"استعادة خيارات المنتج",subtitle:"اختيار كيفية استعادة المنتج",simpleTitle:"استعادة المنتج",simpleDesc:"استعادة هذا المنتج ستؤدي إلى استعادة معلومات المنتج العامة فقط",cascadeTitle:"استعادة هذا المنتج ستؤدي أيضًا إلى استعادة جميع المتغيرات والإضافات المرتبطة به",cascadeDesc:"هل تريد استعادة المنتج فقط أم جميع المتغيرات والإضافات المرتبطة به أيضًا؟",includeOptions:"تضمين المتغيرات والإضافات",includeImages:"تضمين صورة المنتج",includeAll:"تضمين جميع البيانات المرتبطة",recommended:"مستحسن"},categoryRestore:{title:"استعادة خيارات المنتج",subtitle:"اختيار كيفية استعادة المنتج",simpleTitle:"استعادة المنتج",simpleDesc:"استعادة هذا المنتج ستؤدي إلى استعادة معلومات المنتج العامة فقط",cascadeTitle:"استعادة هذا المنتج ستؤدي أيضًا إلى استعادة جميع المتغيرات والإضافات المرتبطة به",cascadeDesc:"هل تريد استعادة المنتج فقط أم جميع المتغيرات والإضافات المرتبطة به أيضًا؟",includeOptions:"تضمين المتغيرات والإضافات",includeImages:"تضمين صورة المنتج",includeAll:"تضمين جميع البيانات المرتبطة",includeProducts:"تضمين المنتجات في الفئة",recommended:"مستحسن"},filter:{all:"جميع العناصر",group1:"جميع المجموعة 1",group2:"جميع المجموعة 2",group1Label:"📋 مستوى المطعم (الفروع، المنتجات، الطاولات)",group2Label:"🏢 مستوى الفرع (منتجات وفئات الفرع)",branches:"الفروع",categories:"الفئات",products:"المنتجات",tables:"الطاولات",branchProducts:"منتجات الفرع",branchCategories:"فئات الفرع",tableCategories:"فئات الطاولات"},refresh:"تحديث",loading:"جاري التحميل...",stats:{group1:"مستوى المطعم",group1Desc:"الفروع، المنتجات، الطاولات",group2:"مستوى الفرع",group2Desc:"منتجات وفئات الفرع",totalDeleted:"إجمالي المحذوفات",totalDesc:"جميع العناصر المحذوفة",filtered:"معروض",filteredDesc:"نتائج التصفية الحالية",deletedBranch:"الفروع المحذوفة",deletedCategory:"الفئات المحذوفة",deletedProduct:"المنتجات المحذوفة",deletedTable:"الطاولات المحذوفة",deletedBranchProduct:"منتجات الفرع المحذوفة",deletedBranchCategory:"فئات الفرع المحذوفة",deletedTableCategory:"فئات الطاولات المحذوفة",showing:"عرض",showingDesc:"العناصر المعروضة"},entityTypes:{category:"فئة",product:"منتج",branch:"فرع",table:"طاولة",branchProduct:"منتج الفرع",branchCategory:"فئة الفرع",tableCategory:"فئة الطاولة",other:"أخرى"},contextInfo:{category:"الفئة:",branch:"الفرع:",restaurant:"المطعم:"},deletedAt:"تاريخ الحذف:",restore:{button:"استعادة",restoring:"جاري الاستعادة...",successCategory:'تم استعادة الفئة "{name}" بنجاح',successProduct:'تم استعادة المنتج "{name}" بنجاح',successBranch:'تم استعادة الفرع "{name}" بنجاح',successTable:'تم استعادة الطاولة "{name}" بنجاح',successBranchCategory:'تم استعادة فئة الفرع "{name}" بنجاح',successTableCategory:'تم استعادة فئة الطاولة "{name}" بنجاح',error:"فشلت عملية الاستعادة"},empty:{title:"سلة المحذوفات فارغة",titleFiltered:"لم يتم العثور على نتائج",description:"لا توجد عناصر محذوفة بعد",descriptionFiltered:"لا توجد عناصر محذوفة تطابق معايير البحث"},errors:{loadingError:"خطأ في تحميل العناصر المحذوفة"}},management:{title:"معلومات الإدارة",subtitle:"تفاصيل الشركة والقانونية",noDataTitle:"لا توجد معلومات إدارية",noDataMessage:"لم يتم إعداد معلومات الإدارة بعد. يرجى إضافة تفاصيل المطعم للبدء.",dangerZone:{title:"المنطقة الخطرة",description:"احذر! هذه الإجراءات قد تؤدي إلى فقدان البيانات أو تعطيل وظائف المطعم."},buttons:{edit:"تعديل",cancel:"إلغاء",save:"حفظ التغييرات",saving:"جاري الحفظ...",delete:"حذف",purge:"تنظيف"},sections:{restaurantDetails:"تفاصيل المطعم",companyInfo:"معلومات الشركة",taxInfo:"الضرائب والتسجيل",certificates:"الشهادات والتصاريح",additionalSettings:"إعدادات إضافية"},fields:{restaurantName:"اسم المطعم",restaurantLogo:"شعار المطعم",companyTitle:"عنوان الشركة",legalType:"النوع القانوني",taxNumber:"الرقم الضريبي",taxOffice:"مكتب الضرائب",mersisNumbe:"رقم MERSIS",tradeRegistry:"رقم السجل التجاري",workPermit:"تصريح العمل",foodCertificate:"شهادة الغذاء",alcoholService:"يوجد خدمة كحول",logo:"الشعار"},placeholders:{restaurantName:"أدخل اسم المطعم",companyTitle:"أدخل عنوان الشركة",taxNumber:"أدخل الرقم الضريبي",taxOffice:"أدخل مكتب الضرائب",mersisNumber:"أدخل رقم MERSIS",tradeRegistry:"أدخل رقم السجل التجاري",selectLegalType:"اختر النوع القانوني"},legalTypes:{llc:"شركة ذات مسؤولية محدودة",corporation:"مؤسسة",partnership:"شراكة"},status:{uploaded:"تم الرفع",notUploaded:"لم يتم الرفع",available:"متاح",notAvailable:"غير متاح",alcoholService:"خدمة الكحول:"},common:{na:"غير متوفر"}},branches:{status:{active:"نشط",inactive:"غير نشط"},fields:{branchType:"نوع الفرع",branchTag:"علامة الفرع"}},restaurantsTab:{status:{active:"نشط",inactive:"غير نشط"},actions:{edit:"تعديل المطعم",delete:"حذف المطعم"},stats:{totalBranches:"إجمالي الفروع",active:"نشط",inactive:"غير نشط",alcohol:"كحول"},common:{yes:"نعم",no:"لا"},modal:{editTitle:"تعديل المطعم",placeholders:{restaurantName:"اسم المطعم",cuisineType:"نوع المطبخ"},labels:{hasAlcoholService:"يقدم خدمة الكحول"},buttons:{update:"تحديث المطعم",updating:"جاري التحديث..."}}},tabs:{restaurants:"المطاعم",branches:"الفروع",management:"معلومات الإدارة",deleted:"المحذوفة"},allergens:{GLUTEN:{name:"الغلوتين",description:"القمح، الجاودار، الشعير، الشوفان"},CRUSTACEANS:{name:"القشريات",description:"الجمبري، السلطعون، الكركند"},EGGS:{name:"البيض",description:"البيض ومنتجات البيض"},FISH:{name:"السمك",description:"جميع منتجات الأسماك"},PEANUTS:{name:"الفول السوداني",description:"الفول السوداني ومنتجاته"},SOYBEANS:{name:"فول الصويا",description:"الصويا ومنتجات الصويا"},MILK:{name:"الحليب",description:"الحليب ومنتجات الألبان"},NUTS:{name:"المكسرات",description:"اللوز، البندق، الجوز، الكاجو، إلخ"},CELERY:{name:"الكرفس",description:"الكرفس وجذر الكرفس"},MUSTARD:{name:"الخردل",description:"الخردل ومنتجات الخردل"},SESAME:{name:"السمسم",description:"بذور السمسم ومنتجاته"},SULPHITES:{name:"الكبريتات",description:"ثاني أكسيد الكبريت والكبريتات (>10مغ/كغ)"},LUPIN:{name:"الترمس",description:"الترمس ومنتجات الترمس"},MOLLUSCS:{name:"الرخويات",description:"المحار، بلح البحر، الحلزون، الحبار"}},tableQR:{loading:{validatingQR:"التحقق من رمز الاستجابة السريعة",fetchingTableInfo:"جاري الحصول على معلومات الطاولة..."},error:{title:"خطأ",tryAgain:"حاول مرة أخرى",sessionFeatureComingSoon:"ميزة بدء الجلسة قادمة قريبًا.",sessionStartFailed:"تعذر بدء الجلسة."},header:{title:"قائمة المطعم",subtitle:"تجربة القائمة الرقمية",active:"نشط"},welcome:{greeting:"مرحباً بك!",connectedToTable:"تم الاتصال بنجاح بالطاولة",tableStatus:"حالة الطاولة",occupied:"مشغولة",available:"متاحة",capacity:"السعة",person:"شخص",people:"أشخاص",session:"الجلسة",sessionActive:"نشطة",sessionPending:"قيد الانتظار",welcomeMessage:"رسالة الترحيب"},actions:{viewMenu:"عرض القائمة",callWaiter:"استدعاء النادل"},footer:{connectedViaQR:"متصل عبر رمز الاستجابة السريعة • جلسة آمنة"}},productCard:{chefsPick:"اختيار الشيف",customizable:"قابل للتخصيص",addons:"+إضافات",allergens:"مسببات الحساسية",ingredients:"المكونات",inCart:"في السلة",customizeOrder:"تخصيص الطلب",addToCart:"أضف إلى السلة",prepTime:"١٥-٢٠ دقيقة",popular:"الأكثر شعبية",rating:"٤.٨",more:"المزيد"},moneyCase:{title:"إدارة الصندوق النقدي",subtitle:"إدارة العمليات النقدية للفرع",selectBranch:"اختر فرعاً",selectBranchToView:"اختر الفرع",branchSelector:"محدد الفرع",noBranches:"لا توجد فروع متاحة",status:"الحالة",open:"مفتوح",closed:"مغلق",todaySales:"مبيعات اليوم",todayCash:"نقد اليوم",todayCard:"بطاقات اليوم",currentBalance:"الرصيد الحالي",transactionCount:"عدد المعاملات",transactions:"معاملات",avgOrderValue:"متوسط قيمة الطلب",totalDiscrepancy:"إجمالي الفارق",totalShifts:"إجمالي الورديات",avgShiftDuration:"متوسط مدة الوردية",shiftsWithIssues:"الورديات ذات المشاكل",period:"الفترة",todayTotalSales:"إجمالي مبيعات اليوم",currentShiftRevenue:"إيرادات الوردية الحالية",closedShifts:"الورديات المغلقة",ordersToday:"طلبات اليوم",weekToDate:"من بداية الأسبوع حتى اليوم",monthToDate:"من بداية الشهر حتى اليوم",shifts:"الورديات",orders:"الطلبات",openCase:"فتح الصندوق",closeCase:"إغلاق الصندوق",viewZReport:"عرض تقرير Z",history:"سجل الصندوق",records:"سجلات",noHistory:"لا يوجد سجل",noHistoryDescription:"ستظهر عمليات الصندوق هنا",serviceFee:"رسوم الخدمة",openingBalance:"الرصيد الافتتاحي",openingBalanceDescription:"أدخل المبلغ النقدي الأولي في الصندوق",closingBalance:"رصيد الإغلاق",actualCash:"النقد الفعلي",expectedCash:"النقد المتوقع",difference:"الفرق",surplus:"فائض",shortage:"عجز",notes:"ملاحظات",notesPlaceholder:"أضف أي ملاحظات أو تعليقات حول جلسة الصندوق هذه...",date:"التاريخ والوقت",openedAt:"وقت الفتح",closedAt:"وقت الإغلاق",lastUpdated:"آخر تحديث",caseId:"رقم الصندوق",confirm:"تأكيد",confirmClose:"تأكيد الإغلاق",cancel:"إلغاء",close:"إغلاق",print:"طباعة",download:"تحميل",zReport:"تقرير Z",reportDate:"تاريخ التقرير",openingInformation:"معلومات الفتح",salesSummary:"ملخص المبيعات",closingInformation:"معلومات الإغلاق",totalSales:"إجمالي المبيعات",cashSales:"المبيعات النقدية",cardSales:"مبيعات البطاقات",refunds:"المرتجعات",expenses:"المصروفات",noReportData:"لا توجد بيانات التقرير",success:{opened:"تم فتح الصندوق بنجاح!",closed:"تم إغلاق الصندوق بنجاح!",closedWithDifference:"تم إغلاق الصندوق بنجاح! الفرق: {{difference}}"},error:{fetchBranches:"فشل في جلب الفروع",fetchActiveCase:"فشل في جلب بيانات الصندوق النشط",fetchHistory:"فشل في جلب سجل الصندوق",fetchZReport:"فشل في جلب تقرير Z",openCase:"فشل في فتح الصندوق",closeCase:"فشل في إغلاق الصندوق",noBranchSelected:"الرجاء اختيار فرع أولاً"},validation:{openingBalanceRequired:"الرصيد الافتتاحي مطلوب",openingBalanceMin:"يجب أن يكون الرصيد الافتتاحي 0 أو أكثر",actualCashRequired:"مبلغ النقد الفعلي مطلوب",actualCashMin:"يجب أن يكون النقد الفعلي 0 أو أكثر",notesMaxLength:"لا يمكن أن تتجاوز الملاحظات 500 حرف"},modal:{openTitle:"فتح الصندوق النقدي",openDescription:"بدء جلسة صندوق جديدة",closeTitle:"إغلاق الصندوق النقدي",closeDescription:"إنهاء جلسة الصندوق الحالية ومطابقة النقد",zReportTitle:"تقرير Z - ملخص تفصيلي",confirmOpenMessage:"هل أنت متأكد من رغبتك في فتح صندوق جديد؟",confirmCloseMessage:"هل أنت متأكد من رغبتك في إغلاق الصندوق الحالي؟ لا يمكن التراجع عن هذا الإجراء."}}},GL={tr:VL,en:HL,ar:KL},M3=p.createContext(void 0),qe=()=>{const e=p.useContext(M3);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},QL=({children:e})=>{const[t,a]=p.useState(()=>{const l=localStorage.getItem("language");return l&&["tr","en","ar"].includes(l)?l:"tr"}),n=t==="ar";p.useEffect(()=>{document.documentElement.dir=n?"rtl":"ltr",document.documentElement.lang=t,localStorage.setItem("language",t)},[t,n]);const o={language:t,setLanguage:l=>{a(l)},isRTL:n,t:(l,c)=>{const u=l.split(".");let g=GL[t];for(const x of u)g=g?.[x];let h=typeof g=="string"?g:l;return c&&Object.entries(c).forEach(([x,b])=>{h=h.replace(new RegExp(`{${x}}`,"g"),String(b))}),h}};return r.jsx(M3.Provider,{value:o,children:e})},I3=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),qh=p.createContext({}),Wh=p.createContext(null),Vh=typeof document<"u",Pk=Vh?p.useLayoutEffect:p.useEffect,E3=p.createContext({strict:!1}),Tk=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),YL="framerAppearId",O3="data-"+Tk(YL);function XL(e,t,a,n){const{visualElement:s}=p.useContext(qh),i=p.useContext(E3),o=p.useContext(Wh),l=p.useContext(I3).reducedMotion,c=p.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:s,props:a,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;p.useInsertionEffect(()=>{u&&u.update(a,o)});const g=p.useRef(!!(a[O3]&&!window.HandoffComplete));return Pk(()=>{u&&(u.render(),g.current&&u.animationState&&u.animationState.animateChanges())}),p.useEffect(()=>{u&&(u.updateFeatures(),!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(g.current=!1,window.HandoffComplete=!0))}),u}function Fd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ZL(e,t,a){return p.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),a&&(typeof a=="function"?a(n):Fd(a)&&(a.current=n))},[t])}function _u(e){return typeof e=="string"||Array.isArray(e)}function Hh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Ak=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mk=["initial",...Ak];function Kh(e){return Hh(e.animate)||Mk.some(t=>_u(e[t]))}function D3(e){return!!(Kh(e)||e.variants)}function JL(e,t){if(Kh(e)){const{initial:a,animate:n}=e;return{initial:a===!1||_u(a)?a:void 0,animate:_u(n)?n:void 0}}return e.inherit!==!1?t:{}}function e7(e){const{initial:t,animate:a}=JL(e,p.useContext(qh));return p.useMemo(()=>({initial:t,animate:a}),[iC(t),iC(a)])}function iC(e){return Array.isArray(e)?e.join(" "):e}const oC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fu={};for(const e in oC)Fu[e]={isEnabled:t=>oC[e].some(a=>!!t[a])};function t7(e){for(const t in e)Fu[t]={...Fu[t],...e[t]}}const Ik=p.createContext({}),R3=p.createContext({}),r7=Symbol.for("motionComponentSymbol");function a7({preloadedFeatures:e,createVisualElement:t,useRender:a,useVisualState:n,Component:s}){e&&t7(e);function i(l,c){let u;const g={...p.useContext(I3),...l,layoutId:n7(l)},{isStatic:h}=g,x=e7(l),b=n(l,h);if(!h&&Vh){x.visualElement=XL(s,b,g,t);const y=p.useContext(R3),k=p.useContext(E3).strict;x.visualElement&&(u=x.visualElement.loadFeatures(g,k,e,y))}return p.createElement(qh.Provider,{value:x},u&&x.visualElement?p.createElement(u,{visualElement:x.visualElement,...g}):null,a(s,l,ZL(b,x.visualElement,c),b,h,x.visualElement))}const o=p.forwardRef(i);return o[r7]=s,o}function n7({layoutId:e}){const t=p.useContext(Ik).id;return t&&e!==void 0?t+"-"+e:e}function s7(e){function t(n,s={}){return a7(e(n,s))}if(typeof Proxy>"u")return t;const a=new Map;return new Proxy(t,{get:(n,s)=>(a.has(s)||a.set(s,t(s)),a.get(s))})}const i7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ek(e){return typeof e!="string"||e.includes("-")?!1:!!(i7.indexOf(e)>-1||/[A-Z]/.test(e))}const Og={};function o7(e){Object.assign(Og,e)}const mm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ad=new Set(mm);function $3(e,{layout:t,layoutId:a}){return ad.has(e)||e.startsWith("origin")||(t||a!==void 0)&&(!!Og[e]||e==="opacity")}const An=e=>!!(e&&e.getVelocity),l7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d7=mm.length;function c7(e,{enableHardwareAcceleration:t=!0,allowTransformNone:a=!0},n,s){let i="";for(let o=0;o<d7;o++){const l=mm[o];if(e[l]!==void 0){const c=l7[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,n?"":i):a&&n&&(i="none"),i}const B3=e=>t=>typeof t=="string"&&t.startsWith(e),L3=B3("--"),Kb=B3("var(--"),u7=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,m7=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Uo=(e,t,a)=>Math.min(Math.max(a,e),t),nd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Au={...nd,transform:e=>Uo(0,1,e)},H0={...nd,default:1},Mu=e=>Math.round(e*1e5)/1e5,Gh=/(-)?([\d]*\.?[\d])+/g,_3=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,g7=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function gm(e){return typeof e=="string"}const hm=e=>({test:t=>gm(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Mo=hm("deg"),ri=hm("%"),yt=hm("px"),h7=hm("vh"),p7=hm("vw"),lC={...ri,parse:e=>ri.parse(e)/100,transform:e=>ri.transform(e*100)},dC={...nd,transform:Math.round},F3={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,radius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,size:yt,top:yt,right:yt,bottom:yt,left:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,rotate:Mo,rotateX:Mo,rotateY:Mo,rotateZ:Mo,scale:H0,scaleX:H0,scaleY:H0,scaleZ:H0,skew:Mo,skewX:Mo,skewY:Mo,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:Au,originX:lC,originY:lC,originZ:yt,zIndex:dC,fillOpacity:Au,strokeOpacity:Au,numOctaves:dC};function Ok(e,t,a,n){const{style:s,vars:i,transform:o,transformOrigin:l}=e;let c=!1,u=!1,g=!0;for(const h in t){const x=t[h];if(L3(h)){i[h]=x;continue}const b=F3[h],y=m7(x,b);if(ad.has(h)){if(c=!0,o[h]=y,!g)continue;x!==(b.default||0)&&(g=!1)}else h.startsWith("origin")?(u=!0,l[h]=y):s[h]=y}if(t.transform||(c||n?s.transform=c7(e.transform,a,g,n):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:x="50%",originZ:b=0}=l;s.transformOrigin=`${h} ${x} ${b}`}}const Dk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function z3(e,t,a){for(const n in t)!An(t[n])&&!$3(n,a)&&(e[n]=t[n])}function f7({transformTemplate:e},t,a){return p.useMemo(()=>{const n=Dk();return Ok(n,t,{enableHardwareAcceleration:!a},e),Object.assign({},n.vars,n.style)},[t])}function x7(e,t,a){const n=e.style||{},s={};return z3(s,n,e),Object.assign(s,f7(e,t,a)),e.transformValues?e.transformValues(s):s}function y7(e,t,a){const n={},s=x7(e,t,a);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const b7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||b7.has(e)}let U3=e=>!Dg(e);function v7(e){e&&(U3=t=>t.startsWith("on")?!Dg(t):e(t))}try{v7(require("@emotion/is-prop-valid").default)}catch{}function k7(e,t,a){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(U3(s)||a===!0&&Dg(s)||!t&&!Dg(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function cC(e,t,a){return typeof e=="string"?e:yt.transform(t+a*e)}function w7(e,t,a){const n=cC(t,e.x,e.width),s=cC(a,e.y,e.height);return`${n} ${s}`}const j7={offset:"stroke-dashoffset",array:"stroke-dasharray"},N7={offset:"strokeDashoffset",array:"strokeDasharray"};function C7(e,t,a=1,n=0,s=!0){e.pathLength=1;const i=s?j7:N7;e[i.offset]=yt.transform(-n);const o=yt.transform(t),l=yt.transform(a);e[i.array]=`${o} ${l}`}function Rk(e,{attrX:t,attrY:a,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},g,h,x){if(Ok(e,u,g,x),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:b,style:y,dimensions:k}=e;b.transform&&(k&&(y.transform=b.transform),delete b.transform),k&&(s!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=w7(k,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(b.x=t),a!==void 0&&(b.y=a),n!==void 0&&(b.scale=n),o!==void 0&&C7(b,o,l,c,!1)}const q3=()=>({...Dk(),attrs:{}}),$k=e=>typeof e=="string"&&e.toLowerCase()==="svg";function S7(e,t,a,n){const s=p.useMemo(()=>{const i=q3();return Rk(i,t,{enableHardwareAcceleration:!1},$k(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};z3(i,e.style,e),s.style={...i,...s.style}}return s}function P7(e=!1){return(a,n,s,{latestValues:i},o)=>{const c=(Ek(a)?S7:y7)(n,i,o,a),g={...k7(n,typeof a=="string",e),...c,ref:s},{children:h}=n,x=p.useMemo(()=>An(h)?h.get():h,[h]);return p.createElement(a,{...g,children:x})}}function W3(e,{style:t,vars:a},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in a)e.style.setProperty(i,a[i])}const V3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function H3(e,t,a,n){W3(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(V3.has(s)?s:Tk(s),t.attrs[s])}function Bk(e,t){const{style:a}=e,n={};for(const s in a)(An(a[s])||t.style&&An(t.style[s])||$3(s,e))&&(n[s]=a[s]);return n}function K3(e,t){const a=Bk(e,t);for(const n in e)if(An(e[n])||An(t[n])){const s=mm.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;a[s]=e[n]}return a}function Lk(e,t,a,n={},s={}){return typeof t=="function"&&(t=t(a!==void 0?a:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(a!==void 0?a:e.custom,n,s)),t}function G3(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Rg=e=>Array.isArray(e),T7=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),A7=e=>Rg(e)?e[e.length-1]||0:e;function vg(e){const t=An(e)?e.get():e;return T7(t)?t.toValue():t}function M7({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:a},n,s,i){const o={latestValues:I7(n,s,i,e),renderState:t()};return a&&(o.mount=l=>a(n,l,o)),o}const Q3=e=>(t,a)=>{const n=p.useContext(qh),s=p.useContext(Wh),i=()=>M7(e,t,n,s);return a?i():G3(i)};function I7(e,t,a,n){const s={},i=n(e,{});for(const x in i)s[x]=vg(i[x]);let{initial:o,animate:l}=e;const c=Kh(e),u=D3(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let g=a?a.initial===!1:!1;g=g||o===!1;const h=g?l:o;return h&&typeof h!="boolean"&&!Hh(h)&&(Array.isArray(h)?h:[h]).forEach(b=>{const y=Lk(e,b);if(!y)return;const{transitionEnd:k,transition:v,...j}=y;for(const S in j){let C=j[S];if(Array.isArray(C)){const P=g?C.length-1:0;C=C[P]}C!==null&&(s[S]=C)}for(const S in k)s[S]=k[S]}),s}const Kr=e=>e;class uC{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const a=this.order.indexOf(t);a!==-1&&(this.order.splice(a,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function E7(e){let t=new uC,a=new uC,n=0,s=!1,i=!1;const o=new WeakSet,l={schedule:(c,u=!1,g=!1)=>{const h=g&&s,x=h?t:a;return u&&o.add(c),x.add(c)&&h&&s&&(n=t.order.length),c},cancel:c=>{a.remove(c),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,a]=[a,t],a.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const g=t.order[u];g(c),o.has(g)&&(l.schedule(g),e())}s=!1,i&&(i=!1,l.process(c))}};return l}const K0=["prepare","read","update","preRender","render","postRender"],O7=40;function D7(e,t){let a=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=K0.reduce((h,x)=>(h[x]=E7(()=>a=!0),h),{}),o=h=>i[h].process(s),l=()=>{const h=performance.now();a=!1,s.delta=n?1e3/60:Math.max(Math.min(h-s.timestamp,O7),1),s.timestamp=h,s.isProcessing=!0,K0.forEach(o),s.isProcessing=!1,a&&t&&(n=!1,e(l))},c=()=>{a=!0,n=!0,s.isProcessing||e(l)};return{schedule:K0.reduce((h,x)=>{const b=i[x];return h[x]=(y,k=!1,v=!1)=>(a||c(),b.schedule(y,k,v)),h},{}),cancel:h=>K0.forEach(x=>i[x].cancel(h)),state:s,steps:i}}const{schedule:vr,cancel:zi,state:Ha,steps:_x}=D7(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kr,!0),R7={useVisualState:Q3({scrapeMotionValuesFromProps:K3,createRenderState:q3,onMount:(e,t,{renderState:a,latestValues:n})=>{vr.read(()=>{try{a.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{a.dimensions={x:0,y:0,width:0,height:0}}}),vr.render(()=>{Rk(a,n,{enableHardwareAcceleration:!1},$k(t.tagName),e.transformTemplate),H3(t,a)})}})},$7={useVisualState:Q3({scrapeMotionValuesFromProps:Bk,createRenderState:Dk})};function B7(e,{forwardMotionProps:t=!1},a,n){return{...Ek(e)?R7:$7,preloadedFeatures:a,useRender:P7(t),createVisualElement:n,Component:e}}function Mi(e,t,a,n={passive:!0}){return e.addEventListener(t,a,n),()=>e.removeEventListener(t,a)}const Y3=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Qh(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const L7=e=>t=>Y3(t)&&e(t,Qh(t));function Ri(e,t,a,n){return Mi(e,t,L7(a),n)}const _7=(e,t)=>a=>t(e(a)),Bo=(...e)=>e.reduce(_7);function X3(e){let t=null;return()=>{const a=()=>{t=null};return t===null?(t=e,a):!1}}const mC=X3("dragHorizontal"),gC=X3("dragVertical");function Z3(e){let t=!1;if(e==="y")t=gC();else if(e==="x")t=mC();else{const a=mC(),n=gC();a&&n?t=()=>{a(),n()}:(a&&a(),n&&n())}return t}function J3(){const e=Z3(!0);return e?(e(),!1):!0}class Yo{constructor(t){this.isMounted=!1,this.node=t}update(){}}function hC(e,t){const a="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||J3())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&vr.update(()=>l[n](i,o))};return Ri(e.current,a,s,{passive:!e.getProps()[n]})}class F7 extends Yo{mount(){this.unmount=Bo(hC(this.node,!0),hC(this.node,!1))}unmount(){}}class z7 extends Yo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bo(Mi(this.node.current,"focus",()=>this.onFocus()),Mi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const eA=(e,t)=>t?e===t?!0:eA(e,t.parentElement):!1;function Fx(e,t){if(!t)return;const a=new PointerEvent("pointer"+e);t(a,Qh(a))}class U7 extends Yo{constructor(){super(...arguments),this.removeStartListeners=Kr,this.removeEndListeners=Kr,this.removeAccessibleListeners=Kr,this.startPointerPress=(t,a)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=Ri(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:g,globalTapTarget:h}=this.node.getProps();vr.update(()=>{!h&&!eA(this.node.current,l.target)?g&&g(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=Ri(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Bo(i,o),this.startPress(t,a)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Fx("up",(c,u)=>{const{onTap:g}=this.node.getProps();g&&vr.update(()=>g(c,u))})};this.removeEndListeners(),this.removeEndListeners=Mi(this.node.current,"keyup",o),Fx("down",(l,c)=>{this.startPress(l,c)})},a=Mi(this.node.current,"keydown",t),n=()=>{this.isPressing&&Fx("cancel",(i,o)=>this.cancelPress(i,o))},s=Mi(this.node.current,"blur",n);this.removeAccessibleListeners=Bo(a,s)}}startPress(t,a){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&vr.update(()=>n(t,a))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!J3()}cancelPress(t,a){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&vr.update(()=>n(t,a))}mount(){const t=this.node.getProps(),a=Ri(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Mi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Bo(a,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Gb=new WeakMap,zx=new WeakMap,q7=e=>{const t=Gb.get(e.target);t&&t(e)},W7=e=>{e.forEach(q7)};function V7({root:e,...t}){const a=e||document;zx.has(a)||zx.set(a,{});const n=zx.get(a),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(W7,{root:e,...t})),n[s]}function H7(e,t,a){const n=V7(t);return Gb.set(e,a),n.observe(e),()=>{Gb.delete(e),n.unobserve(e)}}const K7={some:0,all:1};class G7 extends Yo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:n,amount:s="some",once:i}=t,o={root:a?a.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:K7[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:g,onViewportLeave:h}=this.node.getProps(),x=u?g:h;x&&x(c)};return H7(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(Q7(t,a))&&this.startObserver()}unmount(){}}function Q7({viewport:e={}},{viewport:t={}}={}){return a=>e[a]!==t[a]}const Y7={inView:{Feature:G7},tap:{Feature:U7},focus:{Feature:z7},hover:{Feature:F7}};function tA(e,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==e.length)return!1;for(let n=0;n<a;n++)if(t[n]!==e[n])return!1;return!0}function X7(e){const t={};return e.values.forEach((a,n)=>t[n]=a.get()),t}function Z7(e){const t={};return e.values.forEach((a,n)=>t[n]=a.getVelocity()),t}function Yh(e,t,a){const n=e.getProps();return Lk(n,t,a!==void 0?a:n.custom,X7(e),Z7(e))}let _k=Kr;const Rl=e=>e*1e3,$i=e=>e/1e3,J7={current:!1},rA=e=>Array.isArray(e)&&typeof e[0]=="number";function aA(e){return!!(!e||typeof e=="string"&&nA[e]||rA(e)||Array.isArray(e)&&e.every(aA))}const Su=([e,t,a,n])=>`cubic-bezier(${e}, ${t}, ${a}, ${n})`,nA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Su([0,.65,.55,1]),circOut:Su([.55,0,1,.45]),backIn:Su([.31,.01,.66,-.59]),backOut:Su([.33,1.53,.69,.99])};function sA(e){if(e)return rA(e)?Su(e):Array.isArray(e)?e.map(sA):nA[e]}function e_(e,t,a,{delay:n=0,duration:s,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:a};c&&(u.offset=c);const g=sA(l);return Array.isArray(g)&&(u.easing=g),e.animate(u,{delay:n,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function t_(e,{repeat:t,repeatType:a="loop"}){const n=t&&a!=="loop"&&t%2===1?0:e.length-1;return e[n]}const iA=(e,t,a)=>(((1-3*a+3*t)*e+(3*a-6*t))*e+3*t)*e,r_=1e-7,a_=12;function n_(e,t,a,n,s){let i,o,l=0;do o=t+(a-t)/2,i=iA(o,n,s)-e,i>0?a=o:t=o;while(Math.abs(i)>r_&&++l<a_);return o}function pm(e,t,a,n){if(e===t&&a===n)return Kr;const s=i=>n_(i,0,1,e,a);return i=>i===0||i===1?i:iA(s(i),t,n)}const s_=pm(.42,0,1,1),i_=pm(0,0,.58,1),oA=pm(.42,0,.58,1),o_=e=>Array.isArray(e)&&typeof e[0]!="number",lA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dA=e=>t=>1-e(1-t),Fk=e=>1-Math.sin(Math.acos(e)),cA=dA(Fk),l_=lA(Fk),uA=pm(.33,1.53,.69,.99),zk=dA(uA),d_=lA(zk),c_=e=>(e*=2)<1?.5*zk(e):.5*(2-Math.pow(2,-10*(e-1))),u_={linear:Kr,easeIn:s_,easeInOut:oA,easeOut:i_,circIn:Fk,circInOut:l_,circOut:cA,backIn:zk,backInOut:d_,backOut:uA,anticipate:c_},pC=e=>{if(Array.isArray(e)){_k(e.length===4);const[t,a,n,s]=e;return pm(t,a,n,s)}else if(typeof e=="string")return u_[e];return e},Uk=(e,t)=>a=>!!(gm(a)&&g7.test(a)&&a.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(a,t)),mA=(e,t,a)=>n=>{if(!gm(n))return n;const[s,i,o,l]=n.match(Gh);return{[e]:parseFloat(s),[t]:parseFloat(i),[a]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},m_=e=>Uo(0,255,e),Ux={...nd,transform:e=>Math.round(m_(e))},Cl={test:Uk("rgb","red"),parse:mA("red","green","blue"),transform:({red:e,green:t,blue:a,alpha:n=1})=>"rgba("+Ux.transform(e)+", "+Ux.transform(t)+", "+Ux.transform(a)+", "+Mu(Au.transform(n))+")"};function g_(e){let t="",a="",n="",s="";return e.length>5?(t=e.substring(1,3),a=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),a=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,a+=a,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Qb={test:Uk("#"),parse:g_,transform:Cl.transform},zd={test:Uk("hsl","hue"),parse:mA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:a,alpha:n=1})=>"hsla("+Math.round(e)+", "+ri.transform(Mu(t))+", "+ri.transform(Mu(a))+", "+Mu(Au.transform(n))+")"},an={test:e=>Cl.test(e)||Qb.test(e)||zd.test(e),parse:e=>Cl.test(e)?Cl.parse(e):zd.test(e)?zd.parse(e):Qb.parse(e),transform:e=>gm(e)?e:e.hasOwnProperty("red")?Cl.transform(e):zd.transform(e)},Dr=(e,t,a)=>-a*e+a*t+e;function qx(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+(t-e)*6*a:a<1/2?t:a<2/3?e+(t-e)*(2/3-a)*6:e}function h_({hue:e,saturation:t,lightness:a,alpha:n}){e/=360,t/=100,a/=100;let s=0,i=0,o=0;if(!t)s=i=o=a;else{const l=a<.5?a*(1+t):a+t-a*t,c=2*a-l;s=qx(c,l,e+1/3),i=qx(c,l,e),o=qx(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const Wx=(e,t,a)=>{const n=e*e;return Math.sqrt(Math.max(0,a*(t*t-n)+n))},p_=[Qb,Cl,zd],f_=e=>p_.find(t=>t.test(e));function fC(e){const t=f_(e);let a=t.parse(e);return t===zd&&(a=h_(a)),a}const gA=(e,t)=>{const a=fC(e),n=fC(t),s={...a};return i=>(s.red=Wx(a.red,n.red,i),s.green=Wx(a.green,n.green,i),s.blue=Wx(a.blue,n.blue,i),s.alpha=Dr(a.alpha,n.alpha,i),Cl.transform(s))};function x_(e){var t,a;return isNaN(e)&&gm(e)&&(((t=e.match(Gh))===null||t===void 0?void 0:t.length)||0)+(((a=e.match(_3))===null||a===void 0?void 0:a.length)||0)>0}const hA={regex:u7,countKey:"Vars",token:"${v}",parse:Kr},pA={regex:_3,countKey:"Colors",token:"${c}",parse:an.parse},fA={regex:Gh,countKey:"Numbers",token:"${n}",parse:nd.parse};function Vx(e,{regex:t,countKey:a,token:n,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+a]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(s)))}function $g(e){const t=e.toString(),a={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return a.value.includes("var(--")&&Vx(a,hA),Vx(a,pA),Vx(a,fA),a}function xA(e){return $g(e).values}function yA(e){const{values:t,numColors:a,numVars:n,tokenised:s}=$g(e),i=t.length;return o=>{let l=s;for(let c=0;c<i;c++)c<n?l=l.replace(hA.token,o[c]):c<n+a?l=l.replace(pA.token,an.transform(o[c])):l=l.replace(fA.token,Mu(o[c]));return l}}const y_=e=>typeof e=="number"?0:e;function b_(e){const t=xA(e);return yA(e)(t.map(y_))}const qo={test:x_,parse:xA,createTransformer:yA,getAnimatableNone:b_},bA=(e,t)=>a=>`${a>0?t:e}`;function vA(e,t){return typeof e=="number"?a=>Dr(e,t,a):an.test(e)?gA(e,t):e.startsWith("var(")?bA(e,t):wA(e,t)}const kA=(e,t)=>{const a=[...e],n=a.length,s=e.map((i,o)=>vA(i,t[o]));return i=>{for(let o=0;o<n;o++)a[o]=s[o](i);return a}},v_=(e,t)=>{const a={...e,...t},n={};for(const s in a)e[s]!==void 0&&t[s]!==void 0&&(n[s]=vA(e[s],t[s]));return s=>{for(const i in n)a[i]=n[i](s);return a}},wA=(e,t)=>{const a=qo.createTransformer(t),n=$g(e),s=$g(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?Bo(kA(n.values,s.values),a):bA(e,t)},zu=(e,t,a)=>{const n=t-e;return n===0?1:(a-e)/n},xC=(e,t)=>a=>Dr(e,t,a);function k_(e){return typeof e=="number"?xC:typeof e=="string"?an.test(e)?gA:wA:Array.isArray(e)?kA:typeof e=="object"?v_:xC}function w_(e,t,a){const n=[],s=a||k_(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Kr:t;l=Bo(c,l)}n.push(l)}return n}function jA(e,t,{clamp:a=!0,ease:n,mixer:s}={}){const i=e.length;if(_k(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=w_(t,n,s),l=o.length,c=u=>{let g=0;if(l>1)for(;g<e.length-2&&!(u<e[g+1]);g++);const h=zu(e[g],e[g+1],u);return o[g](h)};return a?u=>c(Uo(e[0],e[i-1],u)):c}function j_(e,t){const a=e[e.length-1];for(let n=1;n<=t;n++){const s=zu(0,t,n);e.push(Dr(a,1,s))}}function N_(e){const t=[0];return j_(t,e.length-1),t}function C_(e,t){return e.map(a=>a*t)}function S_(e,t){return e.map(()=>t||oA).splice(0,e.length-1)}function Bg({duration:e=300,keyframes:t,times:a,ease:n="easeInOut"}){const s=o_(n)?n.map(pC):pC(n),i={done:!1,value:t[0]},o=C_(a&&a.length===t.length?a:N_(t),e),l=jA(o,t,{ease:Array.isArray(s)?s:S_(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function NA(e,t){return t?e*(1e3/t):0}const P_=5;function CA(e,t,a){const n=Math.max(t-P_,0);return NA(a-e(n),t-n)}const Hx=.001,T_=.01,A_=10,M_=.05,I_=1;function E_({duration:e=800,bounce:t=.25,velocity:a=0,mass:n=1}){let s,i,o=1-t;o=Uo(M_,I_,o),e=Uo(T_,A_,$i(e)),o<1?(s=u=>{const g=u*o,h=g*e,x=g-a,b=Yb(u,o),y=Math.exp(-h);return Hx-x/b*y},i=u=>{const h=u*o*e,x=h*a+a,b=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-h),k=Yb(Math.pow(u,2),o);return(-s(u)+Hx>0?-1:1)*((x-b)*y)/k}):(s=u=>{const g=Math.exp(-u*e),h=(u-a)*e+1;return-Hx+g*h},i=u=>{const g=Math.exp(-u*e),h=(a-u)*(e*e);return g*h});const l=5/e,c=D_(s,i,l);if(e=Rl(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const O_=12;function D_(e,t,a){let n=a;for(let s=1;s<O_;s++)n=n-e(n)/t(n);return n}function Yb(e,t){return e*Math.sqrt(1-t*t)}const R_=["duration","bounce"],$_=["stiffness","damping","mass"];function yC(e,t){return t.some(a=>e[a]!==void 0)}function B_(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!yC(e,$_)&&yC(e,R_)){const a=E_(e);t={...t,...a,mass:1},t.isResolvedFromDuration=!0}return t}function SA({keyframes:e,restDelta:t,restSpeed:a,...n}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:g,velocity:h,isResolvedFromDuration:x}=B_({...n,velocity:-$i(n.velocity||0)}),b=h||0,y=c/(2*Math.sqrt(l*u)),k=i-s,v=$i(Math.sqrt(l/u)),j=Math.abs(k)<5;a||(a=j?.01:2),t||(t=j?.005:.5);let S;if(y<1){const C=Yb(v,y);S=P=>{const E=Math.exp(-y*v*P);return i-E*((b+y*v*k)/C*Math.sin(C*P)+k*Math.cos(C*P))}}else if(y===1)S=C=>i-Math.exp(-v*C)*(k+(b+v*k)*C);else{const C=v*Math.sqrt(y*y-1);S=P=>{const E=Math.exp(-y*v*P),A=Math.min(C*P,300);return i-E*((b+y*v*k)*Math.sinh(A)+C*k*Math.cosh(A))/C}}return{calculatedDuration:x&&g||null,next:C=>{const P=S(C);if(x)o.done=C>=g;else{let E=b;C!==0&&(y<1?E=CA(S,C,P):E=0);const A=Math.abs(E)<=a,I=Math.abs(i-P)<=t;o.done=A&&I}return o.value=o.done?i:P,o}}}function bC({keyframes:e,velocity:t=0,power:a=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:g}){const h=e[0],x={done:!1,value:h},b=M=>l!==void 0&&M<l||c!==void 0&&M>c,y=M=>l===void 0?c:c===void 0||Math.abs(l-M)<Math.abs(c-M)?l:c;let k=a*t;const v=h+k,j=o===void 0?v:o(v);j!==v&&(k=j-h);const S=M=>-k*Math.exp(-M/n),C=M=>j+S(M),P=M=>{const F=S(M),Q=C(M);x.done=Math.abs(F)<=u,x.value=x.done?j:Q};let E,A;const I=M=>{b(x.value)&&(E=M,A=SA({keyframes:[x.value,y(x.value)],velocity:CA(C,M,x.value),damping:s,stiffness:i,restDelta:u,restSpeed:g}))};return I(0),{calculatedDuration:null,next:M=>{let F=!1;return!A&&E===void 0&&(F=!0,P(M),I(M)),E!==void 0&&M>E?A.next(M-E):(!F&&P(M),x)}}}const L_=e=>{const t=({timestamp:a})=>e(a);return{start:()=>vr.update(t,!0),stop:()=>zi(t),now:()=>Ha.isProcessing?Ha.timestamp:performance.now()}},vC=2e4;function kC(e){let t=0;const a=50;let n=e.next(t);for(;!n.done&&t<vC;)t+=a,n=e.next(t);return t>=vC?1/0:t}const __={decay:bC,inertia:bC,tween:Bg,keyframes:Bg,spring:SA};function Lg({autoplay:e=!0,delay:t=0,driver:a=L_,keyframes:n,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:g,onUpdate:h,...x}){let b=1,y=!1,k,v;const j=()=>{v=new Promise(B=>{k=B})};j();let S;const C=__[s]||Bg;let P;C!==Bg&&typeof n[0]!="number"&&(P=jA([0,100],n,{clamp:!1}),n=[0,100]);const E=C({...x,keyframes:n});let A;l==="mirror"&&(A=C({...x,keyframes:[...n].reverse(),velocity:-(x.velocity||0)}));let I="idle",M=null,F=null,Q=null;E.calculatedDuration===null&&i&&(E.calculatedDuration=kC(E));const{calculatedDuration:U}=E;let V=1/0,K=1/0;U!==null&&(V=U+o,K=V*(i+1)-o);let Z=0;const ie=B=>{if(F===null)return;b>0&&(F=Math.min(F,B)),b<0&&(F=Math.min(B-K/b,F)),M!==null?Z=M:Z=Math.round(B-F)*b;const H=Z-t*(b>=0?1:-1),z=b>=0?H<0:H>K;Z=Math.max(H,0),I==="finished"&&M===null&&(Z=K);let $=Z,_=E;if(i){const ee=Math.min(Z,K)/V;let ue=Math.floor(ee),le=ee%1;!le&&ee>=1&&(le=1),le===1&&ue--,ue=Math.min(ue,i+1),!!(ue%2)&&(l==="reverse"?(le=1-le,o&&(le-=o/V)):l==="mirror"&&(_=A)),$=Uo(0,1,le)*V}const Y=z?{done:!1,value:n[0]}:_.next($);P&&(Y.value=P(Y.value));let{done:q}=Y;!z&&U!==null&&(q=b>=0?Z>=K:Z<=0);const G=M===null&&(I==="finished"||I==="running"&&q);return h&&h(Y.value),G&&D(),Y},te=()=>{S&&S.stop(),S=void 0},R=()=>{I="idle",te(),k(),j(),F=Q=null},D=()=>{I="finished",g&&g(),te(),k()},W=()=>{if(y)return;S||(S=a(ie));const B=S.now();c&&c(),M!==null?F=B-M:(!F||I==="finished")&&(F=B),I==="finished"&&j(),Q=F,M=null,I="running",S.start()};e&&W();const X={then(B,H){return v.then(B,H)},get time(){return $i(Z)},set time(B){B=Rl(B),Z=B,M!==null||!S||b===0?M=B:F=S.now()-B/b},get duration(){const B=E.calculatedDuration===null?kC(E):E.calculatedDuration;return $i(B)},get speed(){return b},set speed(B){B===b||!S||(b=B,X.time=$i(Z))},get state(){return I},play:W,pause:()=>{I="paused",M=Z},stop:()=>{y=!0,I!=="idle"&&(I="idle",u&&u(),R())},cancel:()=>{Q!==null&&ie(Q),R()},complete:()=>{I="finished"},sample:B=>(F=0,ie(B))};return X}function F_(e){let t;return()=>(t===void 0&&(t=e()),t)}const z_=F_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),U_=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),G0=10,q_=2e4,W_=(e,t)=>t.type==="spring"||e==="backgroundColor"||!aA(t.ease);function V_(e,t,{onUpdate:a,onComplete:n,...s}){if(!(z_()&&U_.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const g=()=>{c=new Promise(C=>{l=C})};g();let{keyframes:h,duration:x=300,ease:b,times:y}=s;if(W_(t,s)){const C=Lg({...s,repeat:0,delay:0});let P={done:!1,value:h[0]};const E=[];let A=0;for(;!P.done&&A<q_;)P=C.sample(A),E.push(P.value),A+=G0;y=void 0,h=E,x=A-G0,b="linear"}const k=e_(e.owner.current,t,h,{...s,duration:x,ease:b,times:y}),v=()=>{u=!1,k.cancel()},j=()=>{u=!0,vr.update(v),l(),g()};return k.onfinish=()=>{u||(e.set(t_(h,s)),n&&n(),j())},{then(C,P){return c.then(C,P)},attachTimeline(C){return k.timeline=C,k.onfinish=null,Kr},get time(){return $i(k.currentTime||0)},set time(C){k.currentTime=Rl(C)},get speed(){return k.playbackRate},set speed(C){k.playbackRate=C},get duration(){return $i(x)},play:()=>{o||(k.play(),zi(v))},pause:()=>k.pause(),stop:()=>{if(o=!0,k.playState==="idle")return;const{currentTime:C}=k;if(C){const P=Lg({...s,autoplay:!1});e.setWithVelocity(P.sample(C-G0).value,P.sample(C).value,G0)}j()},complete:()=>{u||k.finish()},cancel:j}}function H_({keyframes:e,delay:t,onUpdate:a,onComplete:n}){const s=()=>(a&&a(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Kr,pause:Kr,stop:Kr,then:i=>(i(),Promise.resolve()),cancel:Kr,complete:Kr});return t?Lg({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const K_={type:"spring",stiffness:500,damping:25,restSpeed:10},G_=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Q_={type:"keyframes",duration:.8},Y_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},X_=(e,{keyframes:t})=>t.length>2?Q_:ad.has(e)?e.startsWith("scale")?G_(t[1]):K_:Y_,Xb=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(qo.test(t)||t==="0")&&!t.startsWith("url(")),Z_=new Set(["brightness","contrast","saturate","opacity"]);function J_(e){const[t,a]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=a.match(Gh)||[];if(!n)return e;const s=a.replace(n,"");let i=Z_.has(t)?1:0;return n!==a&&(i*=100),t+"("+i+s+")"}const e9=/([a-z-]*)\(.*?\)/g,Zb={...qo,getAnimatableNone:e=>{const t=e.match(e9);return t?t.map(J_).join(" "):e}},t9={...F3,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:Zb,WebkitFilter:Zb},qk=e=>t9[e];function PA(e,t){let a=qk(e);return a!==Zb&&(a=qo),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const TA=e=>/^0[^.\s]+$/.test(e);function r9(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||TA(e)}function a9(e,t,a,n){const s=Xb(t,a);let i;Array.isArray(a)?i=[...a]:i=[null,a];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),r9(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const g=c[u];i[g]=PA(t,l)}return i}function n9({when:e,delay:t,delayChildren:a,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...g}){return!!Object.keys(g).length}function Wk(e,t){return e[t]||e.default||e}const s9={skipAnimations:!1},Vk=(e,t,a,n={})=>s=>{const i=Wk(n,e)||{},o=i.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Rl(o);const c=a9(t,e,a,i),u=c[0],g=c[c.length-1],h=Xb(e,u),x=Xb(e,g);let b={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:y=>{t.set(y),i.onUpdate&&i.onUpdate(y)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(n9(i)||(b={...b,...X_(e,b)}),b.duration&&(b.duration=Rl(b.duration)),b.repeatDelay&&(b.repeatDelay=Rl(b.repeatDelay)),!h||!x||J7.current||i.type===!1||s9.skipAnimations)return H_(b);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=V_(t,e,b);if(y)return y}return Lg(b)};function _g(e){return!!(An(e)&&e.add)}const AA=e=>/^\-?\d*\.?\d+$/.test(e);function Hk(e,t){e.indexOf(t)===-1&&e.push(t)}function Kk(e,t){const a=e.indexOf(t);a>-1&&e.splice(a,1)}class Gk{constructor(){this.subscriptions=[]}add(t){return Hk(this.subscriptions,t),()=>Kk(this.subscriptions,t)}notify(t,a,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,a,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,a,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const i9=e=>!isNaN(parseFloat(e));class o9{constructor(t,a={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=Ha;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,vr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>vr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=i9(this.current),this.owner=a.owner}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new Gk);const n=this.events[t].add(a);return t==="change"?()=>{n(),vr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t,a=!0){!a||!this.passiveEffect?this.updateAndNotify(t,a):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,a,n){this.set(a),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?NA(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ec(e,t){return new o9(e,t)}const MA=e=>t=>t.test(e),l9={test:e=>e==="auto",parse:e=>e},IA=[nd,yt,ri,Mo,p7,h7,l9],fu=e=>IA.find(MA(e)),d9=[...IA,an,qo],c9=e=>d9.find(MA(e));function u9(e,t,a){e.hasValue(t)?e.getValue(t).set(a):e.addValue(t,ec(a))}function m9(e,t){const a=Yh(e,t);let{transitionEnd:n={},transition:s={},...i}=a?e.makeTargetAnimatable(a,!1):{};i={...i,...n};for(const o in i){const l=A7(i[o]);u9(e,o,l)}}function g9(e,t,a){var n,s;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],u=t[c];let g=null;Array.isArray(u)&&(g=u[0]),g===null&&(g=(s=(n=a[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&s!==void 0?s:t[c]),g!=null&&(typeof g=="string"&&(AA(g)||TA(g))?g=parseFloat(g):!c9(g)&&qo.test(u)&&(g=PA(c,u)),e.addValue(c,ec(g,{owner:e})),a[c]===void 0&&(a[c]=g),g!==null&&e.setBaseTarget(c,g))}}function h9(e,t){return t?(t[e]||t.default||t).from:void 0}function p9(e,t,a){const n={};for(const s in e){const i=h9(s,t);if(i!==void 0)n[s]=i;else{const o=a.getValue(s);o&&(n[s]=o.get())}}return n}function f9({protectedKeys:e,needsAnimating:t},a){const n=e.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,n}function x9(e,t){const a=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==a)return!0}else return a!==t}function EA(e,t,{delay:a=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(i=n);const u=[],g=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const x=e.getValue(h),b=l[h];if(!x||b===void 0||g&&f9(g,h))continue;const y={delay:a,elapsed:0,...Wk(i||{},h)};if(window.HandoffAppearAnimations){const j=e.getProps()[O3];if(j){const S=window.HandoffAppearAnimations(j,h,x,vr);S!==null&&(y.elapsed=S,y.isHandoff=!0)}}let k=!y.isHandoff&&!x9(x,b);if(y.type==="spring"&&(x.getVelocity()||y.velocity)&&(k=!1),x.animation&&(k=!1),k)continue;x.start(Vk(h,x,b,e.shouldReduceMotion&&ad.has(h)?{type:!1}:y));const v=x.animation;_g(c)&&(c.add(h),v.then(()=>c.remove(h))),u.push(v)}return o&&Promise.all(u).then(()=>{o&&m9(e,o)}),u}function Jb(e,t,a={}){const n=Yh(e,t,a.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};a.transitionOverride&&(s=a.transitionOverride);const i=n?()=>Promise.all(EA(e,n,a)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:g,staggerDirection:h}=s;return y9(e,t,u+c,g,h,a)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(a.delay)])}function y9(e,t,a=0,n=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(b9).forEach((u,g)=>{u.notify("AnimationStart",t),o.push(Jb(u,t,{...i,delay:a+c(g)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function b9(e,t){return e.sortNodePosition(t)}function v9(e,t,a={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Jb(e,i,a));n=Promise.all(s)}else if(typeof t=="string")n=Jb(e,t,a);else{const s=typeof t=="function"?Yh(e,t,a.custom):t;n=Promise.all(EA(e,s,a))}return n.then(()=>e.notify("AnimationComplete",t))}const k9=[...Ak].reverse(),w9=Ak.length;function j9(e){return t=>Promise.all(t.map(({animation:a,options:n})=>v9(e,a,n)))}function N9(e){let t=j9(e);const a=S9();let n=!0;const s=(c,u)=>{const g=Yh(e,u);if(g){const{transition:h,transitionEnd:x,...b}=g;c={...c,...b,...x}}return c};function i(c){t=c(e)}function o(c,u){const g=e.getProps(),h=e.getVariantContext(!0)||{},x=[],b=new Set;let y={},k=1/0;for(let j=0;j<w9;j++){const S=k9[j],C=a[S],P=g[S]!==void 0?g[S]:h[S],E=_u(P),A=S===u?C.isActive:null;A===!1&&(k=j);let I=P===h[S]&&P!==g[S]&&E;if(I&&n&&e.manuallyAnimateOnMount&&(I=!1),C.protectedKeys={...y},!C.isActive&&A===null||!P&&!C.prevProp||Hh(P)||typeof P=="boolean")continue;let F=C9(C.prevProp,P)||S===u&&C.isActive&&!I&&E||j>k&&E,Q=!1;const U=Array.isArray(P)?P:[P];let V=U.reduce(s,{});A===!1&&(V={});const{prevResolvedValues:K={}}=C,Z={...K,...V},ie=te=>{F=!0,b.has(te)&&(Q=!0,b.delete(te)),C.needsAnimating[te]=!0};for(const te in Z){const R=V[te],D=K[te];if(y.hasOwnProperty(te))continue;let W=!1;Rg(R)&&Rg(D)?W=!tA(R,D):W=R!==D,W?R!==void 0?ie(te):b.add(te):R!==void 0&&b.has(te)?ie(te):C.protectedKeys[te]=!0}C.prevProp=P,C.prevResolvedValues=V,C.isActive&&(y={...y,...V}),n&&e.blockInitialAnimation&&(F=!1),F&&(!I||Q)&&x.push(...U.map(te=>({animation:te,options:{type:S,...c}})))}if(b.size){const j={};b.forEach(S=>{const C=e.getBaseTarget(S);C!==void 0&&(j[S]=C)}),x.push({animation:j})}let v=!!x.length;return n&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(x):Promise.resolve()}function l(c,u,g){var h;if(a[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(b=>{var y;return(y=b.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),a[c].isActive=u;const x=o(g,c);for(const b in a)a[b].protectedKeys={};return x}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>a}}function C9(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!tA(t,e):!1}function pl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function S9(){return{animate:pl(!0),whileInView:pl(),whileHover:pl(),whileTap:pl(),whileDrag:pl(),whileFocus:pl(),exit:pl()}}class P9 extends Yo{constructor(t){super(t),t.animationState||(t.animationState=N9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Hh(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){}}let T9=0;class A9 extends Yo{constructor(){super(...arguments),this.id=T9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});a&&!t&&i.then(()=>a(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const M9={animation:{Feature:P9},exit:{Feature:A9}},wC=(e,t)=>Math.abs(e-t);function I9(e,t){const a=wC(e.x,t.x),n=wC(e.y,t.y);return Math.sqrt(a**2+n**2)}class OA{constructor(t,a,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Gx(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=I9(h.offset,{x:0,y:0})>=3;if(!x&&!b)return;const{point:y}=h,{timestamp:k}=Ha;this.history.push({...y,timestamp:k});const{onStart:v,onMove:j}=this.handlers;x||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,h)},this.handlePointerMove=(h,x)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Kx(x,this.transformPagePoint),vr.update(this.updatePoint,!0)},this.handlePointerUp=(h,x)=>{this.end();const{onEnd:b,onSessionEnd:y,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Gx(h.type==="pointercancel"?this.lastMoveEventInfo:Kx(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(h,v),y&&y(h,v)},!Y3(t))return;this.dragSnapToOrigin=i,this.handlers=a,this.transformPagePoint=n,this.contextWindow=s||window;const o=Qh(t),l=Kx(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ha;this.history=[{...c,timestamp:u}];const{onSessionStart:g}=a;g&&g(t,Gx(l,this.history)),this.removeListeners=Bo(Ri(this.contextWindow,"pointermove",this.handlePointerMove),Ri(this.contextWindow,"pointerup",this.handlePointerUp),Ri(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zi(this.updatePoint)}}function Kx(e,t){return t?{point:t(e.point)}:e}function jC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Gx({point:e},t){return{point:e,delta:jC(e,DA(t)),offset:jC(e,E9(t)),velocity:O9(t,.1)}}function E9(e){return e[0]}function DA(e){return e[e.length-1]}function O9(e,t){if(e.length<2)return{x:0,y:0};let a=e.length-1,n=null;const s=DA(e);for(;a>=0&&(n=e[a],!(s.timestamp-n.timestamp>Rl(t)));)a--;if(!n)return{x:0,y:0};const i=$i(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Wn(e){return e.max-e.min}function ev(e,t=0,a=.01){return Math.abs(e-t)<=a}function NC(e,t,a,n=.5){e.origin=n,e.originPoint=Dr(t.min,t.max,e.origin),e.scale=Wn(a)/Wn(t),(ev(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Dr(a.min,a.max,e.origin)-e.originPoint,(ev(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Iu(e,t,a,n){NC(e.x,t.x,a.x,n?n.originX:void 0),NC(e.y,t.y,a.y,n?n.originY:void 0)}function CC(e,t,a){e.min=a.min+t.min,e.max=e.min+Wn(t)}function D9(e,t,a){CC(e.x,t.x,a.x),CC(e.y,t.y,a.y)}function SC(e,t,a){e.min=t.min-a.min,e.max=e.min+Wn(t)}function Eu(e,t,a){SC(e.x,t.x,a.x),SC(e.y,t.y,a.y)}function R9(e,{min:t,max:a},n){return t!==void 0&&e<t?e=n?Dr(t,e,n.min):Math.max(e,t):a!==void 0&&e>a&&(e=n?Dr(a,e,n.max):Math.min(e,a)),e}function PC(e,t,a){return{min:t!==void 0?e.min+t:void 0,max:a!==void 0?e.max+a-(e.max-e.min):void 0}}function $9(e,{top:t,left:a,bottom:n,right:s}){return{x:PC(e.x,a,s),y:PC(e.y,t,n)}}function TC(e,t){let a=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([a,n]=[n,a]),{min:a,max:n}}function B9(e,t){return{x:TC(e.x,t.x),y:TC(e.y,t.y)}}function L9(e,t){let a=.5;const n=Wn(e),s=Wn(t);return s>n?a=zu(t.min,t.max-n,e.min):n>s&&(a=zu(e.min,e.max-s,t.min)),Uo(0,1,a)}function _9(e,t){const a={};return t.min!==void 0&&(a.min=t.min-e.min),t.max!==void 0&&(a.max=t.max-e.min),a}const tv=.35;function F9(e=tv){return e===!1?e=0:e===!0&&(e=tv),{x:AC(e,"left","right"),y:AC(e,"top","bottom")}}function AC(e,t,a){return{min:MC(e,t),max:MC(e,a)}}function MC(e,t){return typeof e=="number"?e:e[t]||0}const IC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ud=()=>({x:IC(),y:IC()}),EC=()=>({min:0,max:0}),sa=()=>({x:EC(),y:EC()});function os(e){return[e("x"),e("y")]}function RA({top:e,left:t,right:a,bottom:n}){return{x:{min:t,max:a},y:{min:e,max:n}}}function z9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function U9(e,t){if(!t)return e;const a=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:a.y,left:a.x,bottom:n.y,right:n.x}}function Qx(e){return e===void 0||e===1}function rv({scale:e,scaleX:t,scaleY:a}){return!Qx(e)||!Qx(t)||!Qx(a)}function fl(e){return rv(e)||$A(e)||e.z||e.rotate||e.rotateX||e.rotateY}function $A(e){return OC(e.x)||OC(e.y)}function OC(e){return e&&e!=="0%"}function Fg(e,t,a){const n=e-a,s=t*n;return a+s}function DC(e,t,a,n,s){return s!==void 0&&(e=Fg(e,s,n)),Fg(e,a,n)+t}function av(e,t=0,a=1,n,s){e.min=DC(e.min,t,a,n,s),e.max=DC(e.max,t,a,n,s)}function BA(e,{x:t,y:a}){av(e.x,t.translate,t.scale,t.originPoint),av(e.y,a.translate,a.scale,a.originPoint)}function q9(e,t,a,n=!1){const s=a.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=a[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&qd(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,BA(e,o)),n&&fl(i.latestValues)&&qd(e,i.latestValues))}t.x=RC(t.x),t.y=RC(t.y)}function RC(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Io(e,t){e.min=e.min+t,e.max=e.max+t}function $C(e,t,[a,n,s]){const i=t[s]!==void 0?t[s]:.5,o=Dr(e.min,e.max,i);av(e,t[a],t[n],o,t.scale)}const W9=["x","scaleX","originX"],V9=["y","scaleY","originY"];function qd(e,t){$C(e.x,t,W9),$C(e.y,t,V9)}function LA(e,t){return RA(U9(e.getBoundingClientRect(),t))}function H9(e,t,a){const n=LA(e,a),{scroll:s}=t;return s&&(Io(n.x,s.offset.x),Io(n.y,s.offset.y)),n}const _A=({current:e})=>e?e.ownerDocument.defaultView:null,K9=new WeakMap;class G9{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sa(),this.visualElement=t}start(t,{snapToCursor:a=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(Qh(g,"page").point)},i=(g,h)=>{const{drag:x,dragPropagation:b,onDragStart:y}=this.getProps();if(x&&!b&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Z3(x),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),os(v=>{let j=this.getAxisMotionValue(v).get()||0;if(ri.test(j)){const{projection:S}=this.visualElement;if(S&&S.layout){const C=S.layout.layoutBox[v];C&&(j=Wn(C)*(parseFloat(j)/100))}}this.originPoint[v]=j}),y&&vr.update(()=>y(g,h),!1,!0);const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},o=(g,h)=>{const{dragPropagation:x,dragDirectionLock:b,onDirectionLock:y,onDrag:k}=this.getProps();if(!x&&!this.openGlobalLock)return;const{offset:v}=h;if(b&&this.currentDirection===null){this.currentDirection=Q9(v),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),k&&k(g,h)},l=(g,h)=>this.stop(g,h),c=()=>os(g=>{var h;return this.getAnimationState(g)==="paused"&&((h=this.getAxisMotionValue(g).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new OA(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:_A(this.visualElement)})}stop(t,a){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=a;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&vr.update(()=>i(t,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,n){const{drag:s}=this.getProps();if(!n||!Q0(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=R9(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:a,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;a&&Fd(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&s?this.constraints=$9(s.layoutBox,a):this.constraints=!1,this.elastic=F9(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&os(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=_9(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!Fd(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=H9(n,s.root,this.visualElement.getTransformPagePoint());let o=B9(s.layout.layoutBox,i);if(a){const l=a(z9(o));this.hasMutatedConstraints=!!l,l&&(o=RA(l))}return o}startAnimation(t){const{drag:a,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=os(g=>{if(!Q0(g,a,this.currentDirection))return;let h=c&&c[g]||{};o&&(h={min:0,max:0});const x=s?200:1e6,b=s?40:1e7,y={type:"inertia",velocity:n?t[g]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(g,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,a){const n=this.getAxisMotionValue(t);return n.start(Vk(t,n,0,a))}stopAnimation(){os(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){os(t=>{var a;return(a=this.getAxisMotionValue(t).animation)===null||a===void 0?void 0:a.pause()})}getAnimationState(t){var a;return(a=this.getAxisMotionValue(t).animation)===null||a===void 0?void 0:a.state}getAxisMotionValue(t){const a="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[a];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){os(a=>{const{drag:n}=this.getProps();if(!Q0(a,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(a);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[a];i.set(t[a]-Dr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:n}=this.visualElement;if(!Fd(a)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};os(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();s[o]=L9({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),os(o=>{if(!Q0(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Dr(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;K9.set(this.visualElement,this);const t=this.visualElement.current,a=Ri(t,"pointerdown",c=>{const{drag:u,dragListener:g=!0}=this.getProps();u&&g&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Fd(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const o=Mi(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(os(g=>{const h=this.getAxisMotionValue(g);h&&(this.originPoint[g]+=c[g].translate,h.set(h.get()+c[g].translate))}),this.visualElement.render())});return()=>{o(),a(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=tv,dragMomentum:l=!0}=t;return{...t,drag:a,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Q0(e,t,a){return(t===!0||t===e)&&(a===null||a===e)}function Q9(e,t=10){let a=null;return Math.abs(e.y)>t?a="y":Math.abs(e.x)>t&&(a="x"),a}class Y9 extends Yo{constructor(t){super(t),this.removeGroupControls=Kr,this.removeListeners=Kr,this.controls=new G9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kr}unmount(){this.removeGroupControls(),this.removeListeners()}}const BC=e=>(t,a)=>{e&&vr.update(()=>e(t,a))};class X9 extends Yo{constructor(){super(...arguments),this.removePointerDownListener=Kr}onPointerDown(t){this.session=new OA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_A(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:BC(t),onStart:BC(a),onMove:n,onEnd:(i,o)=>{delete this.session,s&&vr.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ri(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Z9(){const e=p.useContext(Wh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:a,register:n}=e,s=p.useId();return p.useEffect(()=>n(s),[]),!t&&a?[!1,()=>a&&a(s)]:[!0]}const kg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function LC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(yt.test(e))e=parseFloat(e);else return e;const a=LC(e,t.target.x),n=LC(e,t.target.y);return`${a}% ${n}%`}},J9={correct:(e,{treeScale:t,projectionDelta:a})=>{const n=e,s=qo.parse(e);if(s.length>5)return n;const i=qo.createTransformer(e),o=typeof s[0]!="number"?1:0,l=a.x.scale*t.x,c=a.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=Dr(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class e8 extends or.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;o7(t8),i&&(a.group&&a.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),kg.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==a||a===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||vr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function FA(e){const[t,a]=Z9(),n=p.useContext(Ik);return or.createElement(e8,{...e,layoutGroup:n,switchLayoutGroup:p.useContext(R3),isPresent:t,safeToRemove:a})}const t8={borderRadius:{...xu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xu,borderTopRightRadius:xu,borderBottomLeftRadius:xu,borderBottomRightRadius:xu,boxShadow:J9},zA=["TopLeft","TopRight","BottomLeft","BottomRight"],r8=zA.length,_C=e=>typeof e=="string"?parseFloat(e):e,FC=e=>typeof e=="number"||yt.test(e);function a8(e,t,a,n,s,i){s?(e.opacity=Dr(0,a.opacity!==void 0?a.opacity:1,n8(n)),e.opacityExit=Dr(t.opacity!==void 0?t.opacity:1,0,s8(n))):i&&(e.opacity=Dr(t.opacity!==void 0?t.opacity:1,a.opacity!==void 0?a.opacity:1,n));for(let o=0;o<r8;o++){const l=`border${zA[o]}Radius`;let c=zC(t,l),u=zC(a,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||FC(c)===FC(u)?(e[l]=Math.max(Dr(_C(c),_C(u),n),0),(ri.test(u)||ri.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||a.rotate)&&(e.rotate=Dr(t.rotate||0,a.rotate||0,n))}function zC(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const n8=UA(0,.5,cA),s8=UA(.5,.95,Kr);function UA(e,t,a){return n=>n<e?0:n>t?1:a(zu(e,t,n))}function UC(e,t){e.min=t.min,e.max=t.max}function rs(e,t){UC(e.x,t.x),UC(e.y,t.y)}function qC(e,t,a,n,s){return e-=t,e=Fg(e,1/a,n),s!==void 0&&(e=Fg(e,1/s,n)),e}function i8(e,t=0,a=1,n=.5,s,i=e,o=e){if(ri.test(t)&&(t=parseFloat(t),t=Dr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Dr(i.min,i.max,n);e===i&&(l-=t),e.min=qC(e.min,t,a,l,s),e.max=qC(e.max,t,a,l,s)}function WC(e,t,[a,n,s],i,o){i8(e,t[a],t[n],t[s],t.scale,i,o)}const o8=["x","scaleX","originX"],l8=["y","scaleY","originY"];function VC(e,t,a,n){WC(e.x,t,o8,a?a.x:void 0,n?n.x:void 0),WC(e.y,t,l8,a?a.y:void 0,n?n.y:void 0)}function HC(e){return e.translate===0&&e.scale===1}function qA(e){return HC(e.x)&&HC(e.y)}function d8(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function WA(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function KC(e){return Wn(e.x)/Wn(e.y)}class c8{constructor(){this.members=[]}add(t){Hk(this.members,t),t.scheduleRender()}remove(t){if(Kk(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(s=>t===s);if(a===0)return!1;let n;for(let s=a;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,a){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,a&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:n}=t;a.onExitComplete&&a.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GC(e,t,a){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(n=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),a){const{rotate:c,rotateX:u,rotateY:g}=a;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),g&&(n+=`rotateY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const u8=(e,t)=>e.depth-t.depth;class m8{constructor(){this.children=[],this.isDirty=!1}add(t){Hk(this.children,t),this.isDirty=!0}remove(t){Kk(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(u8),this.isDirty=!1,this.children.forEach(t)}}function g8(e,t){const a=performance.now(),n=({timestamp:s})=>{const i=s-a;i>=t&&(zi(n),e(i-t))};return vr.read(n,!0),()=>zi(n)}function h8(e){window.MotionDebug&&window.MotionDebug.record(e)}function p8(e){return e instanceof SVGElement&&e.tagName!=="svg"}function f8(e,t,a){const n=An(e)?e:ec(e);return n.start(Vk("",n,t,a)),n.animation}const QC=["","X","Y","Z"],x8={visibility:"hidden"},YC=1e3;let y8=0;const xl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function VA({attachResizeListener:e,defaultParent:t,measureScroll:a,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t?.()){this.id=y8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xl.totalNodes=xl.resolvedTargetDeltas=xl.recalculatedProjection=0,this.nodes.forEach(k8),this.nodes.forEach(S8),this.nodes.forEach(P8),this.nodes.forEach(w8),h8(xl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new m8)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Gk),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=p8(o),this.instance=o;const{layoutId:c,layout:u,visualElement:g}=this.options;if(g&&!g.current&&g.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const x=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=g8(x,250),kg.hasAnimatedSinceResize&&(kg.hasAnimatedSinceResize=!1,this.nodes.forEach(ZC))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&g&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:x,hasRelativeTargetChanged:b,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||g.getDefaultTransition()||E8,{onLayoutAnimationStart:v,onLayoutAnimationComplete:j}=g.getProps(),S=!this.targetLayout||!WA(this.targetLayout,y)||b,C=!x&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||x&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,C);const P={...Wk(k,"layout"),onPlay:v,onComplete:j};(g.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else x||ZC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(T8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const h=this.path[g];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XC);return}this.isUpdating||this.nodes.forEach(N8),this.isUpdating=!1,this.nodes.forEach(C8),this.nodes.forEach(b8),this.nodes.forEach(v8),this.clearAllSnapshots();const l=performance.now();Ha.delta=Uo(0,1e3/60,l-Ha.timestamp),Ha.timestamp=l,Ha.isProcessing=!0,_x.update.process(Ha),_x.preRender.process(Ha),_x.render.process(Ha),Ha.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(j8),this.sharedNodes.forEach(A8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:a(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!qA(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,g=u!==this.prevTransformTemplateValue;o&&(l||fl(this.latestValues)||g)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),O8(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return sa();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Io(l.x,c.offset.x),Io(l.y,c.offset.y)),l}removeElementScroll(o){const l=sa();rs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:g,options:h}=u;if(u!==this.root&&g&&h.layoutScroll){if(g.isRoot){rs(l,o);const{scroll:x}=this.root;x&&(Io(l.x,-x.offset.x),Io(l.y,-x.offset.y))}Io(l.x,g.offset.x),Io(l.y,g.offset.y)}}return l}applyTransform(o,l=!1){const c=sa();rs(c,o);for(let u=0;u<this.path.length;u++){const g=this.path[u];!l&&g.options.layoutScroll&&g.scroll&&g!==g.root&&qd(c,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),fl(g.latestValues)&&qd(c,g.latestValues)}return fl(this.latestValues)&&qd(c,this.latestValues),c}removeTransform(o){const l=sa();rs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!fl(u.latestValues))continue;rv(u.latestValues)&&u.updateSnapshot();const g=sa(),h=u.measurePageBox();rs(g,h),VC(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,g)}return fl(this.latestValues)&&VC(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ha.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:x}=this.options;if(!(!this.layout||!(h||x))){if(this.resolvedRelativeTargetAt=Ha.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sa(),this.relativeTargetOrigin=sa(),Eu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),rs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=sa(),this.targetWithTransforms=sa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),D9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rs(this.target,this.layout.layoutBox),BA(this.target,this.targetDelta)):rs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sa(),this.relativeTargetOrigin=sa(),Eu(this.relativeTargetOrigin,this.target,b.target),rs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||rv(this.parent.latestValues)||$A(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ha.timestamp&&(u=!1),u)return;const{layout:g,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||h))return;rs(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;q9(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=Ud(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ud(),this.projectionDeltaWithTransform=Ud());const k=this.projectionTransform;Iu(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=GC(this.projectionDelta,this.treeScale),(this.projectionTransform!==k||this.treeScale.x!==x||this.treeScale.y!==b)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),xl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},g={...this.latestValues},h=Ud();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const x=sa(),b=c?c.source:void 0,y=this.layout?this.layout.source:void 0,k=b!==y,v=this.getStack(),j=!v||v.members.length<=1,S=!!(k&&!j&&this.options.crossfade===!0&&!this.path.some(I8));this.animationProgress=0;let C;this.mixTargetDelta=P=>{const E=P/1e3;JC(h.x,o.x,E),JC(h.y,o.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eu(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),M8(this.relativeTarget,this.relativeTargetOrigin,x,E),C&&d8(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=sa()),rs(C,this.relativeTarget)),k&&(this.animationValues=g,a8(g,u,this.latestValues,E,S,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vr.update(()=>{kg.hasAnimatedSinceResize=!0,this.currentAnimation=f8(0,YC,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:g}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&HA(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||sa();const h=Wn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const x=Wn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+x}rs(l,c),qd(l,g),Iu(this.projectionDeltaWithTransform,this.layoutCorrected,l,g)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new c8),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let g=0;g<QC.length;g++){const h="rotate"+QC[g];c[h]&&(u[h]=c[h],o.setStaticValue(h,0))}o.render();for(const g in u)o.setStaticValue(g,u[g]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return x8;const u={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=vg(o?.pointerEvents)||"",u.transform=g?g(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=vg(o?.pointerEvents)||""),this.hasProjected&&!fl(this.latestValues)&&(k.transform=g?g({},""):"none",this.hasProjected=!1),k}const x=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=GC(this.projectionDeltaWithTransform,this.treeScale,x),g&&(u.transform=g(x,u.transform));const{x:b,y}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=x.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:u.opacity=h===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const k in Og){if(x[k]===void 0)continue;const{correct:v,applyTo:j}=Og[k],S=u.transform==="none"?x[k]:v(x[k],h);if(j){const C=j.length;for(let P=0;P<C;P++)u[j[P]]=S}else u[k]=S}return this.options.layoutId&&(u.pointerEvents=h===this?vg(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(XC),this.root.sharedNodes.clear()}}}function b8(e){e.updateLayout()}function v8(e){var t;const a=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&a&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=a.source!==e.layout.source;i==="size"?os(h=>{const x=o?a.measuredBox[h]:a.layoutBox[h],b=Wn(x);x.min=n[h].min,x.max=x.min+b}):HA(i,a.layoutBox,n)&&os(h=>{const x=o?a.measuredBox[h]:a.layoutBox[h],b=Wn(n[h]);x.max=x.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+b)});const l=Ud();Iu(l,n,a.layoutBox);const c=Ud();o?Iu(c,e.applyTransform(s,!0),a.measuredBox):Iu(c,n,a.layoutBox);const u=!qA(l);let g=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:x,layout:b}=h;if(x&&b){const y=sa();Eu(y,a.layoutBox,x.layoutBox);const k=sa();Eu(k,n,b.layoutBox),WA(y,k)||(g=!0),h.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:a,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function k8(e){xl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function w8(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function j8(e){e.clearSnapshot()}function XC(e){e.clearMeasurements()}function N8(e){e.isLayoutDirty=!1}function C8(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ZC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function S8(e){e.resolveTargetDelta()}function P8(e){e.calcProjection()}function T8(e){e.resetRotation()}function A8(e){e.removeLeadSnapshot()}function JC(e,t,a){e.translate=Dr(t.translate,0,a),e.scale=Dr(t.scale,1,a),e.origin=t.origin,e.originPoint=t.originPoint}function eS(e,t,a,n){e.min=Dr(t.min,a.min,n),e.max=Dr(t.max,a.max,n)}function M8(e,t,a,n){eS(e.x,t.x,a.x,n),eS(e.y,t.y,a.y,n)}function I8(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const E8={duration:.45,ease:[.4,0,.1,1]},tS=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),rS=tS("applewebkit/")&&!tS("chrome/")?Math.round:Kr;function aS(e){e.min=rS(e.min),e.max=rS(e.max)}function O8(e){aS(e.x),aS(e.y)}function HA(e,t,a){return e==="position"||e==="preserve-aspect"&&!ev(KC(t),KC(a),.2)}const D8=VA({attachResizeListener:(e,t)=>Mi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yx={current:void 0},KA=VA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Yx.current){const e=new D8({});e.mount(window),e.setOptions({layoutScroll:!0}),Yx.current=e}return Yx.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),R8={pan:{Feature:X9},drag:{Feature:Y9,ProjectionNode:KA,MeasureLayout:FA}},$8=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function B8(e){const t=$8.exec(e);if(!t)return[,];const[,a,n]=t;return[a,n]}function nv(e,t,a=1){const[n,s]=B8(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return AA(o)?parseFloat(o):o}else return Kb(s)?nv(s,t,a+1):s}function L8(e,{...t},a){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:a};a&&(a={...a}),e.values.forEach(s=>{const i=s.get();if(!Kb(i))return;const o=nv(i,n);o&&s.set(o)});for(const s in t){const i=t[s];if(!Kb(i))continue;const o=nv(i,n);o&&(t[s]=o,a||(a={}),a[s]===void 0&&(a[s]=i))}return{target:t,transitionEnd:a}}const _8=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),GA=e=>_8.has(e),F8=e=>Object.keys(e).some(GA),nS=e=>e===nd||e===yt,sS=(e,t)=>parseFloat(e.split(", ")[t]),iS=(e,t)=>(a,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return sS(s[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?sS(i[1],e):0}},z8=new Set(["x","y","z"]),U8=mm.filter(e=>!z8.has(e));function q8(e){const t=[];return U8.forEach(a=>{const n=e.getValue(a);n!==void 0&&(t.push([a,n.get()]),n.set(a.startsWith("scale")?1:0))}),t.length&&e.render(),t}const tc={width:({x:e},{paddingLeft:t="0",paddingRight:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),height:({y:e},{paddingTop:t="0",paddingBottom:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:iS(4,13),y:iS(5,14)};tc.translateX=tc.x;tc.translateY=tc.y;const W8=(e,t,a)=>{const n=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),a.forEach(u=>{l[u]=tc[u](n,i)}),t.render();const c=t.measureViewportBox();return a.forEach(u=>{const g=t.getValue(u);g&&g.jump(l[u]),e[u]=tc[u](c,i)}),e},V8=(e,t,a={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(GA);let i=[],o=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let g=a[c],h=fu(g);const x=t[c];let b;if(Rg(x)){const y=x.length,k=x[0]===null?1:0;g=x[k],h=fu(g);for(let v=k;v<y&&x[v]!==null;v++)b?_k(fu(x[v])===b):b=fu(x[v])}else b=fu(x);if(h!==b)if(nS(h)&&nS(b)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof x=="string"?t[c]=parseFloat(x):Array.isArray(x)&&b===yt&&(t[c]=x.map(parseFloat))}else h?.transform&&b?.transform&&(g===0||x===0)?g===0?u.set(b.transform(g)):t[c]=h.transform(x):(o||(i=q8(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(x))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=W8(t,e,l);return i.length&&i.forEach(([g,h])=>{e.getValue(g).set(h)}),e.render(),Vh&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function H8(e,t,a,n){return F8(t)?V8(e,t,a,n):{target:t,transitionEnd:n}}const K8=(e,t,a,n)=>{const s=L8(e,t,n);return t=s.target,n=s.transitionEnd,H8(e,t,a,n)},sv={current:null},QA={current:!1};function G8(){if(QA.current=!0,!!Vh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>sv.current=e.matches;e.addListener(t),t()}else sv.current=!1}function Q8(e,t,a){const{willChange:n}=t;for(const s in t){const i=t[s],o=a[s];if(An(i))e.addValue(s,i),_g(n)&&n.add(s);else if(An(o))e.addValue(s,ec(i,{owner:e})),_g(n)&&n.remove(s);else if(o!==i)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(s);e.addValue(s,ec(l!==void 0?l:i,{owner:e}))}}for(const s in a)t[s]===void 0&&e.removeValue(s);return t}const oS=new WeakMap,YA=Object.keys(Fu),Y8=YA.length,lS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],X8=Mk.length;class Z8{constructor({parent:t,props:a,presenceContext:n,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>vr.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=a.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=a,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Kh(a),this.isVariantNode=D3(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...g}=this.scrapeMotionValuesFromProps(a,{});for(const h in g){const x=g[h];l[h]!==void 0&&An(x)&&(x.set(l[h],!1),_g(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,a){return{}}mount(t){this.current=t,oS.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,n)=>this.bindToMotionValue(n,a)),QA.current||G8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){oS.delete(this.current),this.projection&&this.projection.unmount(),zi(this.notifyUpdate),zi(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,a){const n=ad.has(t),s=a.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&vr.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=a.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...a},n,s,i){let o,l;for(let c=0;c<Y8;c++){const u=YA[c],{isEnabled:g,Feature:h,ProjectionNode:x,MeasureLayout:b}=Fu[u];x&&(o=x),g(a)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),b&&(l=b))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:g,dragConstraints:h,layoutScroll:x,layoutRoot:b}=a;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!g||h&&Fd(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:x,layoutRoot:b})}return l}updateFeatures(){for(const t in this.features){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sa()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}makeTargetAnimatable(t,a=!0){return this.makeTargetAnimatableFromInstance(t,this.props,a)}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let n=0;n<lS.length;n++){const s=lS[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=Q8(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const a={};for(let n=0;n<X8;n++){const s=Mk[n],i=this.props[s];(_u(i)||i===!1)&&(a[s]=i)}return a}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){a!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,a)),this.values.set(t,a),this.latestValues[t]=a.get()}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&a!==void 0&&(n=ec(a,{owner:this}),this.addValue(t,n)),n}readValue(t){var a;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(a=this.getBaseTargetFromProps(this.props,t))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){var a;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(a=Lk(this.props,n))===null||a===void 0?void 0:a[t]:void 0;if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!An(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new Gk),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}}class XA extends Z8{sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:n}){delete a[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:a,...n},{transformValues:s},i){let o=p9(n,t||{},this);if(s&&(a&&(a=s(a)),n&&(n=s(n)),o&&(o=s(o))),i){g9(this,n,o);const l=K8(this,n,o,a);a=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:a,...n}}}function J8(e){return window.getComputedStyle(e)}class eF extends XA{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,a){if(ad.has(a)){const n=qk(a);return n&&n.default||0}else{const n=J8(t),s=(L3(a)?n.getPropertyValue(a):n[a])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:a}){return LA(t,a)}build(t,a,n,s){Ok(t,a,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,a){return Bk(t,a)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;An(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}renderInstance(t,a,n,s){W3(t,a,n,s)}}class tF extends XA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(ad.has(a)){const n=qk(a);return n&&n.default||0}return a=V3.has(a)?a:Tk(a),t.getAttribute(a)}measureInstanceViewportBox(){return sa()}scrapeMotionValuesFromProps(t,a){return K3(t,a)}build(t,a,n,s){Rk(t,a,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,a,n,s){H3(t,a,n,s)}mount(t){this.isSVGTag=$k(t.tagName),super.mount(t)}}const rF=(e,t)=>Ek(e)?new tF(t,{enableHardwareAcceleration:!1}):new eF(t,{enableHardwareAcceleration:!0}),aF={layout:{ProjectionNode:KA,MeasureLayout:FA}},nF={...M9,...Y7,...R8,...aF},re=s7((e,t)=>B7(e,t,nF,rF));function ZA(){const e=p.useRef(!1);return Pk(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function sF(){const e=ZA(),[t,a]=p.useState(0),n=p.useCallback(()=>{e.current&&a(t+1)},[t]);return[p.useCallback(()=>vr.postRender(n),[n]),t]}class iF extends p.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=a.offsetHeight||0,n.width=a.offsetWidth||0,n.top=a.offsetTop,n.left=a.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function oF({children:e,isPresent:t}){const a=p.useId(),n=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0});return p.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=s.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=a;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),p.createElement(iF,{isPresent:t,childRef:n,sizeRef:s},p.cloneElement(e,{ref:n}))}const Xx=({children:e,initial:t,isPresent:a,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=G3(lF),c=p.useId(),u=p.useMemo(()=>({id:c,initial:t,isPresent:a,custom:s,onExitComplete:g=>{l.set(g,!0);for(const h of l.values())if(!h)return;n&&n()},register:g=>(l.set(g,!1),()=>l.delete(g))}),i?void 0:[a]);return p.useMemo(()=>{l.forEach((g,h)=>l.set(h,!1))},[a]),p.useEffect(()=>{!a&&!l.size&&n&&n()},[a]),o==="popLayout"&&(e=p.createElement(oF,{isPresent:a},e)),p.createElement(Wh.Provider,{value:u},e)};function lF(){return new Map}function dF(e){return p.useEffect(()=>()=>e(),[])}const yl=e=>e.key||"";function cF(e,t){e.forEach(a=>{const n=yl(a);t.set(n,a)})}function uF(e){const t=[];return p.Children.forEach(e,a=>{p.isValidElement(a)&&t.push(a)}),t}const jt=({children:e,custom:t,initial:a=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=p.useContext(Ik).forceRender||sF()[0],c=ZA(),u=uF(e);let g=u;const h=p.useRef(new Map).current,x=p.useRef(g),b=p.useRef(new Map).current,y=p.useRef(!0);if(Pk(()=>{y.current=!1,cF(u,b),x.current=g}),dF(()=>{y.current=!0,b.clear(),h.clear()}),y.current)return p.createElement(p.Fragment,null,g.map(S=>p.createElement(Xx,{key:yl(S),isPresent:!0,initial:a?void 0:!1,presenceAffectsLayout:i,mode:o},S)));g=[...g];const k=x.current.map(yl),v=u.map(yl),j=k.length;for(let S=0;S<j;S++){const C=k[S];v.indexOf(C)===-1&&!h.has(C)&&h.set(C,void 0)}return o==="wait"&&h.size&&(g=[]),h.forEach((S,C)=>{if(v.indexOf(C)!==-1)return;const P=b.get(C);if(!P)return;const E=k.indexOf(C);let A=S;if(!A){const I=()=>{h.delete(C);const M=Array.from(b.keys()).filter(F=>!v.includes(F));if(M.forEach(F=>b.delete(F)),x.current=u.filter(F=>{const Q=yl(F);return Q===C||M.includes(Q)}),!h.size){if(c.current===!1)return;l(),n&&n()}};A=p.createElement(Xx,{key:yl(P),isPresent:!1,onExitComplete:I,custom:t,presenceAffectsLayout:i,mode:o},P),h.set(C,A)}g.splice(E,0,A)}),g=g.map(S=>{const C=S.key;return h.has(C)?S:p.createElement(Xx,{key:yl(S),isPresent:!0,presenceAffectsLayout:i,mode:o},S)}),p.createElement(p.Fragment,null,h.size?g:g.map(S=>p.cloneElement(S)))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ce=(e,t)=>{const a=p.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},g)=>p.createElement("svg",{ref:g,...mF,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${gF(e)}`,l].join(" "),...u},[...t.map(([h,x])=>p.createElement(h,x)),...Array.isArray(c)?c:[c]]));return a.displayName=`${e}`,a};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=Ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=Ce("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v2H7v-2a2 2 0 0 0-4 0Z",key:"1e01m0"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=Ce("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=Ce("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=Ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=Ce("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Ce("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=Ce("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=Ce("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=Ce("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=Ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=Ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=Ce("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=Ce("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Ce("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=Ce("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=Ce("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=Ce("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Ce("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=Ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=Ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=Ce("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=Ce("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=Ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=Ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=Ce("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=Ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=Ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=Ce("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=Ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=Ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=Ce("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=Ce("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=Ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=Ce("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=Ce("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=Ce("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=Ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=Ce("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Ce("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=Ce("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Ce("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=Ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=Ce("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=Ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=Ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=Ce("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=Ce("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=Ce("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=Ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=Ce("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=Ce("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=Ce("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=Ce("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=Ce("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=Ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=Ce("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=Ce("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=Ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=Ce("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=Ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Ce("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=Ce("MoonStar",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}],["path",{d:"M19 3v4",key:"vgv24u"}],["path",{d:"M21 5h-4",key:"1wcg1f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=Ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Ce("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=Ce("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Ce("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=Ce("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=Ce("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=Ce("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=Ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=Ce("PlusSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=Ce("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=Ce("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Ce("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=Ce("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=Ce("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=Ce("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=Ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=Ce("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=Ce("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=Ce("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=Ce("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=Ce("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=Ce("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Ce("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Ce("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Ce("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=Ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=Ce("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=Ce("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=Ce("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=Ce("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=Ce("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=Ce("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=Ce("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=Ce("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=Ce("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=Ce("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=Ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=Ce("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=Ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Ce("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=Ce("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=Ce("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=Ce("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=Ce("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=Ce("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=Ce("Wine",[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Ce("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),LF=()=>{const{t:e,isRTL:t}=qe(),a=[{icon:r.jsx(hs,{className:"h-5 w-5"}),text:e("hero.features.qrAccess")},{icon:r.jsx(Gl,{className:"h-5 w-5"}),text:e("hero.features.mobileOptimized")},{icon:r.jsx(Ls,{className:"h-5 w-5"}),text:e("hero.features.instantUpdate")}];return r.jsx("section",{id:"hero",className:"section-padding pt-24 lg:pt-32 bg-gradient-to-br from-primary-50 to-blue-100 dark:from-gray-900 dark:to-gray-800",children:r.jsx("div",{className:"container-max",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:`text-center lg:${t?"text-right":"text-left"}`,children:[r.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 dark:text-white mb-6",children:[r.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:e("hero.title.line1")}),r.jsx("br",{}),e("hero.title.line2"),r.jsx("br",{}),r.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:e("hero.title.line3")})]}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600 dark:text-gray-300 mb-8 max-w-2xl",children:e("hero.subtitle")}),r.jsx("div",{className:`flex flex-wrap gap-4 justify-center lg:${t?"justify-end":"justify-start"} mb-8`,children:a.map((n,s)=>r.jsxs(re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2+s*.1},className:`flex items-center gap-2 ${t?"space-x-reverse":""} bg-white dark:bg-gray-800 px-4 py-2 rounded-full shadow-md`,children:[r.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:n.icon}),r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:n.text})]},s))}),r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:`flex flex-col sm:flex-row gap-4 justify-center lg:${t?"justify-end":"justify-start"}`,children:[r.jsx("button",{onClick:()=>document.getElementById("pricing")?.scrollIntoView({behavior:"smooth"}),className:"btn-primary text-lg px-8 py-4",children:e("hero.cta.getStarted")}),r.jsx("button",{onClick:()=>document.getElementById("features")?.scrollIntoView({behavior:"smooth"}),className:"btn-secondary text-lg px-8 py-4",children:e("hero.cta.features")})]}),r.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.6},className:`mt-12 flex items-center justify-center lg:${t?"justify-end":"justify-start"} space-x-6 ${t?"space-x-reverse":""} text-sm text-gray-600 dark:text-gray-400`,children:[r.jsxs("div",{className:`flex items-center space-x-2 ${t?"space-x-reverse":""}`,children:[r.jsx(xt,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{children:e("hero.socialProof.restaurants")})]}),r.jsxs("div",{className:`flex items-center space-x-2 ${t?"space-x-reverse":""}`,children:[r.jsx(xt,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{children:e("hero.socialProof.satisfaction")})]})]})]}),r.jsx(re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"relative",children:r.jsxs("div",{className:"relative max-w-md mx-auto",children:[r.jsx("div",{className:"bg-gray-900 rounded-[2.5rem] p-2 shadow-2xl",children:r.jsx("div",{className:"bg-white dark:bg-gray-100 rounded-[2rem] overflow-hidden",children:r.jsxs("div",{className:"h-96 bg-gradient-to-b from-primary-500 to-primary-600 p-6 text-white relative",children:[r.jsxs("div",{className:"flex justify-between items-center text-xs mb-4",children:[r.jsx("span",{children:"9:41"}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"w-4 h-2 bg-white rounded-sm opacity-60"}),r.jsx("div",{className:"w-4 h-2 bg-white rounded-sm opacity-80"}),r.jsx("div",{className:"w-4 h-2 bg-white rounded-sm"})]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(hs,{className:"h-16 w-16 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"iDIGITEK Restoran"}),r.jsx("p",{className:"text-sm opacity-90 mb-6",children:"Menümüzü görüntülemek için QR kodu tarayın"}),r.jsxs("div",{className:"space-y-3 text-left",children:[r.jsx("div",{className:"bg-white/20 rounded-lg p-3",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-medium",children:"Margherita Pizza"}),r.jsx("span",{className:"font-semibold",children:"₺45"})]})}),r.jsx("div",{className:"bg-white/20 rounded-lg p-3",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-medium",children:"Caesar Salad"}),r.jsx("span",{className:"font-semibold",children:"₺28"})]})}),r.jsx("div",{className:"bg-white/20 rounded-lg p-3",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-medium",children:"Tiramisu"}),r.jsx("span",{className:"font-semibold",children:"₺22"})]})})]})]})]})})}),r.jsx(re.div,{animate:{y:[0,-10,0],rotate:[0,5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute -top-6 -right-6 bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:r.jsx(hs,{className:"h-12 w-12 text-primary-600 dark:text-primary-400"})}),r.jsxs("div",{className:"absolute inset-0 -z-10",children:[r.jsx("div",{className:"absolute top-1/4 -left-8 w-32 h-32 bg-primary-200 dark:bg-primary-900 rounded-full opacity-20 blur-xl"}),r.jsx("div",{className:"absolute bottom-1/4 -right-8 w-24 h-24 bg-blue-200 dark:bg-blue-900 rounded-full opacity-20 blur-xl"})]})]})})]})})})},_F={QrCode:hs,Smartphone:Gl,Zap:Ls,BarChart3:$l,Clock:zt,Shield:nn,Palette:sc,Globe:Yi},FF=()=>{const{t:e,isRTL:t}=qe(),a=[{id:"1",title:e("features.list.qrAccess.title"),description:e("features.list.qrAccess.description"),icon:"QrCode"},{id:"2",title:e("features.list.mobileOptimized.title"),description:e("features.list.mobileOptimized.description"),icon:"Smartphone"},{id:"3",title:e("features.list.instantUpdate.title"),description:e("features.list.instantUpdate.description"),icon:"Zap"},{id:"4",title:e("features.list.analytics.title"),description:e("features.list.analytics.description"),icon:"BarChart3"},{id:"5",title:e("features.list.alwaysOpen.title"),description:e("features.list.alwaysOpen.description"),icon:"Clock"},{id:"6",title:e("features.list.secure.title"),description:e("features.list.secure.description"),icon:"Shield"},{id:"7",title:e("features.list.customizable.title"),description:e("features.list.customizable.description"),icon:"Palette"},{id:"8",title:e("features.list.multiLanguage.title"),description:e("features.list.multiLanguage.description"),icon:"Globe"}];return r.jsx("section",{id:"features",className:"section-padding bg-white dark:bg-gray-900",children:r.jsxs("div",{className:"container-max",children:[r.jsxs(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:`text-center mb-16 ${t?"text-right":""}`,children:[r.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:[e("features.title")," ",r.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:e("features.titleHighlight")})]}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:e("features.subtitle")})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:a.map((n,s)=>{const i=_F[n.icon];return r.jsxs(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:s*.1},viewport:{once:!0},className:"card text-center group hover:shadow-2xl hover:-translate-y-2",children:[r.jsx("div",{className:"w-16 h-16 bg-primary-100 dark:bg-primary-900/30 rounded-xl flex items-center justify-center mx-auto mb-4 group-hover:bg-primary-200 dark:group-hover:bg-primary-900/50 transition-colors duration-300",children:r.jsx(i,{className:"h-8 w-8 text-primary-600 dark:text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:n.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:n.description})]},n.id)})}),r.jsx(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.8},viewport:{once:!0},className:"text-center mt-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-blue-600 rounded-2xl p-8 md:p-12 text-white",children:[r.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:e("features.cta.title")}),r.jsx("p",{className:"text-lg opacity-90 mb-8 max-w-2xl mx-auto",children:e("features.cta.subtitle")}),r.jsx("button",{onClick:()=>document.getElementById("pricing")?.scrollIntoView({behavior:"smooth"}),className:"bg-white text-primary-600 font-semibold py-4 px-8 rounded-lg hover:bg-gray-100 transition-colors duration-300 shadow-lg",children:e("features.cta.button")})]})})]})})},gM=()=>{const{t:e,isRTL:t}=qe(),[a,n]=p.useState(!1),i=(()=>{const o=["pricing.plans.basic.features.0","pricing.plans.basic.features.1","pricing.plans.basic.features.2","pricing.plans.basic.features.3","pricing.plans.basic.features.4","pricing.plans.basic.features.5"],l=["pricing.plans.pro.features.0","pricing.plans.pro.features.1","pricing.plans.pro.features.2","pricing.plans.pro.features.3","pricing.plans.pro.features.4","pricing.plans.pro.features.5","pricing.plans.pro.features.6","pricing.plans.pro.features.7"],c=["pricing.plans.enterprise.features.0","pricing.plans.enterprise.features.1","pricing.plans.enterprise.features.2","pricing.plans.enterprise.features.3","pricing.plans.enterprise.features.4","pricing.plans.enterprise.features.5","pricing.plans.enterprise.features.6","pricing.plans.enterprise.features.7"];return[{id:"basic",name:e("pricing.plans.basic.name"),price:a?990:99,period:e(a?"pricing.perYear":"pricing.perMonth"),features:o.map(g=>e(g)),buttonText:e("pricing.plans.basic.button")},{id:"pro",name:e("pricing.plans.pro.name"),price:a?1990:199,period:e(a?"pricing.perYear":"pricing.perMonth"),features:l.map(g=>e(g)),isPopular:!0,buttonText:e("pricing.plans.pro.button")},{id:"enterprise",name:e("pricing.plans.enterprise.name"),price:a?3990:399,period:e(a?"pricing.perYear":"pricing.perMonth"),features:c.map(g=>e(g)),buttonText:e("pricing.plans.enterprise.button")}]})();return r.jsx("section",{id:"pricing",className:"section-padding bg-gray-50 dark:bg-gray-800",children:r.jsxs("div",{className:"container-max",children:[r.jsxs(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:`text-center mb-16 ${t?"text-right":""}`,children:[r.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:[e("pricing.title")," ",r.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:e("pricing.titleHighlight")})," ",e("pricing.titleEnd")]}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto mb-8",children:e("pricing.subtitle")}),r.jsxs("div",{className:`flex items-center justify-center space-x-4 ${t?"space-x-reverse":""}`,children:[r.jsx("span",{className:`text-sm font-medium ${a?"text-gray-500 dark:text-gray-400":"text-primary-600 dark:text-primary-400"}`,children:e("pricing.monthly")}),r.jsx("button",{onClick:()=>n(!a),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${a?"bg-primary-600":"bg-gray-200 dark:bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t?a?"translate-x-[-1.25rem]":"translate-x-[-0.25rem]":a?"translate-x-6":"translate-x-1"}`})}),r.jsx("span",{className:`text-sm font-medium ${a?"text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400"}`,children:e("pricing.yearly")}),a&&r.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded-full",children:e("pricing.freeMonths")})]})]}),r.jsx("div",{className:"grid lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:i.map((o,l)=>r.jsxs(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:l*.1},viewport:{once:!0},className:`relative bg-white dark:bg-gray-900 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-8 ${o.isPopular?"border-2 border-primary-500 scale-105":"border border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-600"}`,children:[o.isPopular&&r.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:r.jsxs("span",{className:`bg-primary-600 text-white px-4 py-2 rounded-full text-sm font-semibold flex items-center space-x-1 ${t?"space-x-reverse":""}`,children:[r.jsx(Ya,{className:"h-4 w-4"}),r.jsx("span",{children:e("pricing.mostPopular")})]})}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:o.name}),r.jsxs("div",{className:`flex items-end justify-center space-x-1 ${t?"space-x-reverse":""}`,children:[r.jsxs("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:["₺",o.price]}),r.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-lg",children:["/",o.period]})]}),a&&r.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 mt-1",children:e("pricing.monthlyEquivalent",{amount:Math.round(o.price/12)})})]}),r.jsx("ul",{className:"space-y-4 mb-8",children:o.features.map((c,u)=>r.jsxs("li",{className:`flex items-center space-x-3 ${t?"space-x-reverse":""}`,children:[r.jsx(br,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:c})]},u))}),r.jsx("button",{className:`w-full py-4 px-6 rounded-lg font-semibold transition-all duration-300 ${o.isPopular?"bg-primary-600 hover:bg-primary-700 text-white shadow-lg hover:shadow-xl":"bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-900 dark:text-white"}`,children:o.buttonText})]},o.id))}),r.jsxs(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},className:"text-center mt-12",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:e("pricing.additionalInfo")}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:e("pricing.vatInfo")})]})]})})},zF=()=>{const{t:e,isRTL:t}=qe(),a=[{id:"1",name:e("testimonials.customers.0.name"),role:e("testimonials.customers.0.role"),company:e("testimonials.customers.0.company"),content:e("testimonials.customers.0.content"),avatar:"👨‍🍳"},{id:"2",name:e("testimonials.customers.1.name"),role:e("testimonials.customers.1.role"),company:e("testimonials.customers.1.company"),content:e("testimonials.customers.1.content"),avatar:"👩‍💼"},{id:"3",name:e("testimonials.customers.2.name"),role:e("testimonials.customers.2.role"),company:e("testimonials.customers.2.company"),content:e("testimonials.customers.2.content"),avatar:"☕"},{id:"4",name:e("testimonials.customers.3.name"),role:e("testimonials.customers.3.role"),company:e("testimonials.customers.3.company"),content:e("testimonials.customers.3.content"),avatar:"🍽️"},{id:"5",name:e("testimonials.customers.4.name"),role:e("testimonials.customers.4.role"),company:e("testimonials.customers.4.company"),content:e("testimonials.customers.4.content"),avatar:"🍔"},{id:"6",name:e("testimonials.customers.5.name"),role:e("testimonials.customers.5.role"),company:e("testimonials.customers.5.company"),content:e("testimonials.customers.5.content"),avatar:"👩‍💻"}];return r.jsx("section",{id:"testimonials",className:"section-padding bg-gray-50 dark:bg-gray-800",children:r.jsxs("div",{className:"container-max",children:[r.jsxs(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:`text-center mb-16 ${t?"text-right":""}`,children:[r.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:[e("testimonials.title")," ",r.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:e("testimonials.titleHighlight")})]}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:e("testimonials.subtitle")})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((n,s)=>r.jsxs(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:s*.1},viewport:{once:!0},className:"card relative",children:[r.jsx("div",{className:`absolute -top-4 ${t?"-right-4":"-left-4"} w-8 h-8 bg-primary-600 dark:bg-primary-500 rounded-full flex items-center justify-center`,children:r.jsx(AF,{className:"h-4 w-4 text-white"})}),r.jsx("div",{className:`flex items-center space-x-1 ${t?"space-x-reverse":""} mb-4`,children:[...Array(5)].map((i,o)=>r.jsx(Ya,{className:"h-4 w-4 text-yellow-400 fill-current"},o))}),r.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-6 leading-relaxed",children:['"',n.content,'"']}),r.jsxs("div",{className:`flex items-center space-x-3 ${t?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-400 to-primary-600 rounded-full flex items-center justify-center text-white text-xl",children:n.avatar}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:n.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n.role}),r.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 font-medium",children:n.company})]})]})]},n.id))}),r.jsxs(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.6},viewport:{once:!0},className:"grid grid-cols-2 lg:grid-cols-4 gap-8 mt-16 pt-16 border-t border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:"500+"}),r.jsx("div",{className:"text-gray-600 dark:text-gray-400 font-medium",children:e("testimonials.stats.restaurants")})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:"%99"}),r.jsx("div",{className:"text-gray-600 dark:text-gray-400 font-medium",children:e("testimonials.stats.satisfaction")})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:"24/7"}),r.jsx("div",{className:"text-gray-600 dark:text-gray-400 font-medium",children:e("testimonials.stats.support")})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:"5 Dak"}),r.jsx("div",{className:"text-gray-600 dark:text-gray-400 font-medium",children:e("testimonials.stats.setup")})]})]})]})})},UF=()=>{const{t:e,isRTL:t}=qe(),[a,n]=p.useState(new Set),s=o=>{const l=new Set(a);l.has(o)?l.delete(o):l.add(o),n(l)},i=Array.from({length:8},(o,l)=>{const c=String(l+1);return{id:c,question:e(`faq.questions.${c}.question`),answer:e(`faq.questions.${c}.answer`)}});return r.jsx("section",{id:"faq",className:"section-padding bg-white dark:bg-gray-900",children:r.jsxs("div",{className:"container-max",children:[r.jsxs(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:`text-center mb-16 ${t?"text-right":""}`,children:[r.jsxs("div",{className:`flex items-center justify-center space-x-2 ${t?"space-x-reverse":""} mb-4`,children:[r.jsx(kF,{className:"h-8 w-8 text-primary-600 dark:text-primary-400"}),r.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white",children:[e("faq.title")," ",r.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:e("faq.titleHighlight")})]})]}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:e("faq.subtitle")})]}),r.jsx("div",{className:"max-w-4xl mx-auto",children:i.map((o,l)=>r.jsxs(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:l*.1},viewport:{once:!0},className:"border border-gray-200 dark:border-gray-700 rounded-lg mb-4 overflow-hidden",children:[r.jsxs("button",{onClick:()=>s(o.id),className:"w-full px-6 py-4 text-left bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200 flex items-center justify-between",children:[r.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o.question}),r.jsx(lr,{className:`h-5 w-5 text-gray-500 dark:text-gray-400 transition-transform duration-200 ${a.has(o.id)?"transform rotate-180":""}`})]}),r.jsx(jt,{children:a.has(o.id)&&r.jsx(re.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden bg-white dark:bg-gray-900",children:r.jsx("div",{className:"px-6 py-4",children:r.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:o.answer})})})})]},o.id))}),r.jsxs(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.8},viewport:{once:!0},className:"text-center mt-16",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:e("faq.cta.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:e("faq.cta.subtitle")}),r.jsx("button",{onClick:()=>document.getElementById("contact")?.scrollIntoView({behavior:"smooth"}),className:"btn-primary",children:e("faq.cta.button")})]})]})})},qF=()=>{const{t:e,isRTL:t}=qe(),[a,n]=p.useState({name:"",email:"",company:"",message:""}),[s,i]=p.useState(!1),[o,l]=p.useState(!1),c=g=>{const{name:h,value:x}=g.target;n(b=>({...b,[h]:x}))},u=async g=>{g.preventDefault(),i(!0),await new Promise(h=>setTimeout(h,2e3)),l(!0),i(!1),setTimeout(()=>{l(!1),n({name:"",email:"",company:"",message:""})},3e3)};return r.jsx("section",{id:"contact",className:"section-padding bg-white dark:bg-gray-900",children:r.jsxs("div",{className:"container-max",children:[r.jsxs(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:`text-center mb-16 ${t?"text-right":""}`,children:[r.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:[e("contact.title")," ",r.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:e("contact.titleHighlight")})," ",e("contact.titleEnd")]}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:e("contact.subtitle")})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[r.jsxs(re.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"space-y-8",children:[r.jsx("div",{children:r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:e("contact.info.title")})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:`flex items-center space-x-4 ${t?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900/30 rounded-lg flex items-center justify-center",children:r.jsx(Gr,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e("contact.info.phone")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("footer.contact.phone")})]})]}),r.jsxs("div",{className:`flex items-center space-x-4 ${t?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900/30 rounded-lg flex items-center justify-center",children:r.jsx(Ws,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e("contact.info.email")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("footer.contact.email")})]})]}),r.jsxs("div",{className:`flex items-center space-x-4 ${t?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900/30 rounded-lg flex items-center justify-center",children:r.jsx($r,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e("contact.info.address")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("footer.contact.address")})]})]})]})]}),r.jsx(re.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"card",children:o?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(uv,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:e("contact.form.success.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("contact.form.success.subtitle")})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:e("contact.form.title")}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("contact.form.nameRequired")}),r.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:a.name,onChange:c,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-800 dark:text-white transition-colors duration-200",placeholder:e("contact.form.namePlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("contact.form.emailRequired")}),r.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:a.email,onChange:c,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-800 dark:text-white transition-colors duration-200",placeholder:e("contact.form.emailPlaceholder")})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("contact.form.company")}),r.jsx("input",{type:"text",id:"company",name:"company",value:a.company,onChange:c,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-800 dark:text-white transition-colors duration-200",placeholder:e("contact.form.companyPlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("contact.form.messageRequired")}),r.jsx("textarea",{id:"message",name:"message",required:!0,rows:5,value:a.message,onChange:c,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-800 dark:text-white transition-colors duration-200",placeholder:e("contact.form.messagePlaceholder")})]}),r.jsx("button",{type:"submit",disabled:s,className:`w-full btn-primary ${s?"opacity-50 cursor-not-allowed":""}`,children:s?r.jsxs("span",{className:`flex items-center justify-center space-x-2 ${t?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:e("contact.form.sending")})]}):r.jsxs("span",{className:`flex items-center justify-center space-x-2 ${t?"space-x-reverse":""}`,children:[r.jsx(uv,{className:"h-4 w-4"}),r.jsx("span",{children:e("contact.form.send")})]})})]})]})})]})]})})},WF=()=>{const{t:e,isRTL:t}=qe(),a=new Date().getFullYear(),n={product:[{label:e("footer.sections.product.links.features"),href:"#features"},{label:e("footer.sections.product.links.pricing"),href:"#pricing"},{label:e("footer.sections.product.links.demo"),href:"#contact"},{label:e("footer.sections.product.links.api"),href:"#"}],company:[{label:e("footer.sections.company.links.about"),href:"#"},{label:e("footer.sections.company.links.blog"),href:"#"},{label:e("footer.sections.company.links.careers"),href:"#"},{label:e("footer.sections.company.links.contact"),href:"#contact"}],support:[{label:e("footer.sections.support.links.helpCenter"),href:"#"},{label:e("footer.sections.support.links.faq"),href:"#faq"},{label:e("footer.sections.support.links.liveSupport"),href:"#"},{label:e("footer.sections.support.links.tutorials"),href:"#"}],legal:[{label:e("footer.sections.legal.links.privacy"),href:"#"},{label:e("footer.sections.legal.links.terms"),href:"#"},{label:e("footer.sections.legal.links.cookies"),href:"#"},{label:e("footer.sections.legal.links.gdpr"),href:"#"}]},s=[{icon:tM,href:"#",label:"Facebook"},{icon:cM,href:"#",label:"Twitter"},{icon:aM,href:"#",label:"Instagram"},{icon:CF,href:"#",label:"LinkedIn"}],i=o=>{if(o.startsWith("#")){const l=document.querySelector(o);l&&l.scrollIntoView({behavior:"smooth"})}};return r.jsxs("footer",{className:"bg-gray-900 text-white",children:[r.jsx("div",{className:"container-max section-padding",children:r.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:`flex items-center space-x-2 ${t?"space-x-reverse":""} mb-6`,children:[r.jsx(hs,{className:"h-8 w-8 text-primary-400"}),r.jsx("span",{className:"text-2xl font-bold",children:e("brand.name")})]}),r.jsx("p",{className:"text-gray-400 text-lg mb-6 leading-relaxed",children:e("footer.description")}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:`flex items-center space-x-3 ${t?"space-x-reverse":""}`,children:[r.jsx(Gr,{className:"h-4 w-4 text-primary-400"}),r.jsx("span",{className:"text-gray-400",children:e("footer.contact.phone")})]}),r.jsxs("div",{className:`flex items-center space-x-3 ${t?"space-x-reverse":""}`,children:[r.jsx(Ws,{className:"h-4 w-4 text-primary-400"}),r.jsx("span",{className:"text-gray-400",children:e("footer.contact.email")})]}),r.jsxs("div",{className:`flex items-center space-x-3 ${t?"space-x-reverse":""}`,children:[r.jsx($r,{className:"h-4 w-4 text-primary-400"}),r.jsx("span",{className:"text-gray-400",children:e("footer.contact.address")})]})]}),r.jsx("div",{className:`flex items-center space-x-4 ${t?"space-x-reverse":""} mt-6`,children:s.map(o=>{const l=o.icon;return r.jsx("a",{href:o.href,className:"w-10 h-10 bg-gray-800 hover:bg-primary-600 rounded-lg flex items-center justify-center transition-colors duration-300","aria-label":o.label,children:r.jsx(l,{className:"h-5 w-5"})},o.label)})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-6",children:e("footer.sections.product.title")}),r.jsx("ul",{className:"space-y-3",children:n.product.map((o,l)=>r.jsx("li",{children:r.jsx("button",{onClick:()=>i(o.href),className:"text-gray-400 hover:text-white transition-colors duration-200",children:o.label})},l))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-6",children:e("footer.sections.company.title")}),r.jsx("ul",{className:"space-y-3",children:n.company.map((o,l)=>r.jsx("li",{children:r.jsx("button",{onClick:()=>i(o.href),className:"text-gray-400 hover:text-white transition-colors duration-200",children:o.label})},l))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-6",children:e("footer.sections.support.title")}),r.jsx("ul",{className:"space-y-3",children:n.support.map((o,l)=>r.jsx("li",{children:r.jsx("button",{onClick:()=>i(o.href),className:"text-gray-400 hover:text-white transition-colors duration-200",children:o.label})},l))}),r.jsx("h3",{className:"text-lg font-semibold mb-6 mt-8",children:e("footer.sections.legal.title")}),r.jsx("ul",{className:"space-y-3",children:n.legal.map((o,l)=>r.jsx("li",{children:r.jsx("button",{onClick:()=>i(o.href),className:"text-gray-400 hover:text-white transition-colors duration-200",children:o.label})},l))})]})]})}),r.jsx("div",{className:"bg-gray-800 border-t border-gray-700",children:r.jsx("div",{className:"container-max py-8",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("footer.newsletter.title")}),r.jsx("p",{className:"text-gray-400",children:e("footer.newsletter.subtitle")})]}),r.jsxs("div",{className:"flex w-full md:w-auto",children:[r.jsx("input",{type:"email",placeholder:e("footer.newsletter.placeholder"),className:`flex-1 md:w-80 px-4 py-3 bg-gray-700 border border-gray-600 ${t?"rounded-r-lg":"rounded-l-lg"} focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500`}),r.jsx("button",{className:`px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white ${t?"rounded-l-lg":"rounded-r-lg"} transition-colors duration-300`,children:e("footer.newsletter.button")})]})]})})}),r.jsx("div",{className:"bg-gray-950 border-t border-gray-800",children:r.jsx("div",{className:"container-max py-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"text-gray-400 text-sm",children:["© ",a," ",e("brand.name"),". ",e("footer.bottom.copyright")]}),r.jsx("div",{className:"flex items-center space-x-6 text-sm text-gray-400",children:r.jsx("span",{children:e("footer.bottom.madeWith")})})]})})})]})},ew=()=>{const e=ya(),[t,a]=p.useState(!1),[n,s]=p.useState(!0);p.useEffect(()=>{i()},[]);const i=()=>{try{const c=localStorage.getItem("token"),u=localStorage.getItem("tokenExpiry");if(c&&u){const g=new Date(u);!isNaN(g.getTime())&&g>new Date?a(!0):o()}else a(!1)}catch(c){console.error("Error during checkAuth:",c),o()}finally{s(!1)}},o=()=>{localStorage.removeItem("token"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("userId"),localStorage.removeItem("restaurantName"),localStorage.removeItem("selectedBranchId"),localStorage.removeItem("selectedBranchName"),a(!1)};return{isAuthenticated:t,isLoading:n,checkAuth:i,clearAuth:o,requireAuth:c=>{try{const u=localStorage.getItem("token"),g=localStorage.getItem("tokenExpiry");if(!u||!g)return o(),e("/login",{replace:!0}),!1;const h=new Date(g);return isNaN(h.getTime())?(o(),e("/login",{replace:!0}),!1):h<=new Date?(o(),e("/login",{replace:!0}),!1):(c&&c(),!0)}catch(u){return console.error("Error during requireAuth:",u),o(),e("/login",{replace:!0}),!1}}}},VF=({totalItems:e,autoPlay:t=!1,autoPlayInterval:a=3e3})=>{const[n,s]=p.useState(0),[i,o]=p.useState(!1),[l,c]=p.useState(0),[u,g]=p.useState(0),h=p.useRef(null),x=p.useRef(null),b=p.useCallback(()=>{s(I=>(I+1)%e)},[e]),y=p.useCallback(()=>{s(I=>(I-1+e)%e)},[e]),k=p.useCallback(I=>{s(I)},[]),v=p.useCallback(I=>{c(I.touches[0].clientX),g(I.touches[0].clientX),o(!0),x.current&&(clearInterval(x.current),x.current=null)},[]),j=p.useCallback(I=>{i&&g(I.touches[0].clientX)},[i]),S=p.useCallback(()=>{if(!i)return;const I=l-u;Math.abs(I)>50&&(I>0?b():y()),o(!1),t&&(x.current=window.setInterval(b,a))},[l,u,i,b,y,t,a]),C=p.useCallback(I=>{c(I.clientX),g(I.clientX),o(!0),x.current&&(clearInterval(x.current),x.current=null)},[]),P=p.useCallback(I=>{i&&g(I.clientX)},[i]),E=p.useCallback(()=>{if(!i)return;const I=l-u;Math.abs(I)>50&&(I>0?b():y()),o(!1),t&&(x.current=window.setInterval(b,a))},[l,u,i,b,y,t,a]);return{currentSlide:n,isDragging:i,carouselRef:h,nextSlide:b,prevSlide:y,goToSlide:k,handlers:{handleTouchStart:v,handleTouchMove:j,handleTouchEnd:S,handleMouseDown:C,handleMouseMove:P,handleMouseUp:E}}};function si(e,t){p.useEffect(()=>{const a=n=>{e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),()=>{document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}},[e,t])}function hM(e,t){return function(){return e.apply(t,arguments)}}const{toString:HF}=Object.prototype,{getPrototypeOf:tw}=Object,{iterator:Jh,toStringTag:pM}=Symbol,ep=(e=>t=>{const a=HF.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Vs=e=>(e=e.toLowerCase(),t=>ep(t)===e),tp=e=>t=>typeof t===e,{isArray:wc}=Array,Hu=tp("undefined");function bm(e){return e!==null&&!Hu(e)&&e.constructor!==null&&!Hu(e.constructor)&&Pn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const fM=Vs("ArrayBuffer");function KF(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&fM(e.buffer),t}const GF=tp("string"),Pn=tp("function"),xM=tp("number"),vm=e=>e!==null&&typeof e=="object",QF=e=>e===!0||e===!1,Cg=e=>{if(ep(e)!=="object")return!1;const t=tw(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(pM in e)&&!(Jh in e)},YF=e=>{if(!vm(e)||bm(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},XF=Vs("Date"),ZF=Vs("File"),JF=Vs("Blob"),ez=Vs("FileList"),tz=e=>vm(e)&&Pn(e.pipe),rz=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Pn(e.append)&&((t=ep(e))==="formdata"||t==="object"&&Pn(e.toString)&&e.toString()==="[object FormData]"))},az=Vs("URLSearchParams"),[nz,sz,iz,oz]=["ReadableStream","Request","Response","Headers"].map(Vs),lz=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function km(e,t,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),wc(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(bm(e))return;const i=a?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function yM(e,t){if(bm(e))return null;t=t.toLowerCase();const a=Object.keys(e);let n=a.length,s;for(;n-- >0;)if(s=a[n],t===s.toLowerCase())return s;return null}const Pl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bM=e=>!Hu(e)&&e!==Pl;function mv(){const{caseless:e}=bM(this)&&this||{},t={},a=(n,s)=>{const i=e&&yM(t,s)||s;Cg(t[i])&&Cg(n)?t[i]=mv(t[i],n):Cg(n)?t[i]=mv({},n):wc(n)?t[i]=n.slice():t[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&km(arguments[n],a);return t}const dz=(e,t,a,{allOwnKeys:n}={})=>(km(t,(s,i)=>{a&&Pn(s)?e[i]=hM(s,a):e[i]=s},{allOwnKeys:n}),e),cz=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),uz=(e,t,a,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},mz=(e,t,a,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=a!==!1&&tw(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},gz=(e,t,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=t.length;const n=e.indexOf(t,a);return n!==-1&&n===a},hz=e=>{if(!e)return null;if(wc(e))return e;let t=e.length;if(!xM(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},pz=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&tw(Uint8Array)),fz=(e,t)=>{const n=(e&&e[Jh]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},xz=(e,t)=>{let a;const n=[];for(;(a=e.exec(t))!==null;)n.push(a);return n},yz=Vs("HTMLFormElement"),bz=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,n,s){return n.toUpperCase()+s}),fS=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),vz=Vs("RegExp"),vM=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),n={};km(a,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},kz=e=>{vM(e,(t,a)=>{if(Pn(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const n=e[a];if(Pn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},wz=(e,t)=>{const a={},n=s=>{s.forEach(i=>{a[i]=!0})};return wc(e)?n(e):n(String(e).split(t)),a},jz=()=>{},Nz=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Cz(e){return!!(e&&Pn(e.append)&&e[pM]==="FormData"&&e[Jh])}const Sz=e=>{const t=new Array(10),a=(n,s)=>{if(vm(n)){if(t.indexOf(n)>=0)return;if(bm(n))return n;if(!("toJSON"in n)){t[s]=n;const i=wc(n)?[]:{};return km(n,(o,l)=>{const c=a(o,s+1);!Hu(c)&&(i[l]=c)}),t[s]=void 0,i}}return n};return a(e,0)},Pz=Vs("AsyncFunction"),Tz=e=>e&&(vm(e)||Pn(e))&&Pn(e.then)&&Pn(e.catch),kM=((e,t)=>e?setImmediate:t?((a,n)=>(Pl.addEventListener("message",({source:s,data:i})=>{s===Pl&&i===a&&n.length&&n.shift()()},!1),s=>{n.push(s),Pl.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Pn(Pl.postMessage)),Az=typeof queueMicrotask<"u"?queueMicrotask.bind(Pl):typeof process<"u"&&process.nextTick||kM,Mz=e=>e!=null&&Pn(e[Jh]),je={isArray:wc,isArrayBuffer:fM,isBuffer:bm,isFormData:rz,isArrayBufferView:KF,isString:GF,isNumber:xM,isBoolean:QF,isObject:vm,isPlainObject:Cg,isEmptyObject:YF,isReadableStream:nz,isRequest:sz,isResponse:iz,isHeaders:oz,isUndefined:Hu,isDate:XF,isFile:ZF,isBlob:JF,isRegExp:vz,isFunction:Pn,isStream:tz,isURLSearchParams:az,isTypedArray:pz,isFileList:ez,forEach:km,merge:mv,extend:dz,trim:lz,stripBOM:cz,inherits:uz,toFlatObject:mz,kindOf:ep,kindOfTest:Vs,endsWith:gz,toArray:hz,forEachEntry:fz,matchAll:xz,isHTMLForm:yz,hasOwnProperty:fS,hasOwnProp:fS,reduceDescriptors:vM,freezeMethods:kz,toObjectSet:wz,toCamelCase:bz,noop:jz,toFiniteNumber:Nz,findKey:yM,global:Pl,isContextDefined:bM,isSpecCompliantForm:Cz,toJSONObject:Sz,isAsyncFn:Pz,isThenable:Tz,setImmediate:kM,asap:Az,isIterable:Mz};function St(e,t,a,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}je.inherits(St,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:je.toJSONObject(this.config),code:this.code,status:this.status}}});const wM=St.prototype,jM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{jM[e]={value:e}});Object.defineProperties(St,jM);Object.defineProperty(wM,"isAxiosError",{value:!0});St.from=(e,t,a,n,s,i)=>{const o=Object.create(wM);return je.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),St.call(o,e.message,t,a,n,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const Iz=null;function gv(e){return je.isPlainObject(e)||je.isArray(e)}function NM(e){return je.endsWith(e,"[]")?e.slice(0,-2):e}function xS(e,t,a){return e?e.concat(t).map(function(s,i){return s=NM(s),!a&&i?"["+s+"]":s}).join(a?".":""):t}function Ez(e){return je.isArray(e)&&!e.some(gv)}const Oz=je.toFlatObject(je,{},null,function(t){return/^is[A-Z]/.test(t)});function rp(e,t,a){if(!je.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,a=je.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,v){return!je.isUndefined(v[k])});const n=a.metaTokens,s=a.visitor||g,i=a.dots,o=a.indexes,c=(a.Blob||typeof Blob<"u"&&Blob)&&je.isSpecCompliantForm(t);if(!je.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(je.isDate(y))return y.toISOString();if(je.isBoolean(y))return y.toString();if(!c&&je.isBlob(y))throw new St("Blob is not supported. Use a Buffer instead.");return je.isArrayBuffer(y)||je.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function g(y,k,v){let j=y;if(y&&!v&&typeof y=="object"){if(je.endsWith(k,"{}"))k=n?k:k.slice(0,-2),y=JSON.stringify(y);else if(je.isArray(y)&&Ez(y)||(je.isFileList(y)||je.endsWith(k,"[]"))&&(j=je.toArray(y)))return k=NM(k),j.forEach(function(C,P){!(je.isUndefined(C)||C===null)&&t.append(o===!0?xS([k],P,i):o===null?k:k+"[]",u(C))}),!1}return gv(y)?!0:(t.append(xS(v,k,i),u(y)),!1)}const h=[],x=Object.assign(Oz,{defaultVisitor:g,convertValue:u,isVisitable:gv});function b(y,k){if(!je.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+k.join("."));h.push(y),je.forEach(y,function(j,S){(!(je.isUndefined(j)||j===null)&&s.call(t,j,je.isString(S)?S.trim():S,k,x))===!0&&b(j,k?k.concat(S):[S])}),h.pop()}}if(!je.isObject(e))throw new TypeError("data must be an object");return b(e),t}function yS(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function rw(e,t){this._pairs=[],e&&rp(e,this,t)}const CM=rw.prototype;CM.append=function(t,a){this._pairs.push([t,a])};CM.toString=function(t){const a=t?function(n){return t.call(this,n,yS)}:yS;return this._pairs.map(function(s){return a(s[0])+"="+a(s[1])},"").join("&")};function Dz(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function SM(e,t,a){if(!t)return e;const n=a&&a.encode||Dz;je.isFunction(a)&&(a={serialize:a});const s=a&&a.serialize;let i;if(s?i=s(t,a):i=je.isURLSearchParams(t)?t.toString():new rw(t,a).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class bS{constructor(){this.handlers=[]}use(t,a,n){return this.handlers.push({fulfilled:t,rejected:a,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){je.forEach(this.handlers,function(n){n!==null&&t(n)})}}const PM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rz=typeof URLSearchParams<"u"?URLSearchParams:rw,$z=typeof FormData<"u"?FormData:null,Bz=typeof Blob<"u"?Blob:null,Lz={isBrowser:!0,classes:{URLSearchParams:Rz,FormData:$z,Blob:Bz},protocols:["http","https","file","blob","url","data"]},aw=typeof window<"u"&&typeof document<"u",hv=typeof navigator=="object"&&navigator||void 0,_z=aw&&(!hv||["ReactNative","NativeScript","NS"].indexOf(hv.product)<0),Fz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zz=aw&&window.location.href||"http://localhost",Uz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:aw,hasStandardBrowserEnv:_z,hasStandardBrowserWebWorkerEnv:Fz,navigator:hv,origin:zz},Symbol.toStringTag,{value:"Module"})),Xa={...Uz,...Lz};function qz(e,t){return rp(e,new Xa.classes.URLSearchParams,{visitor:function(a,n,s,i){return Xa.isNode&&je.isBuffer(a)?(this.append(n,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Wz(e){return je.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Vz(e){const t={},a=Object.keys(e);let n;const s=a.length;let i;for(n=0;n<s;n++)i=a[n],t[i]=e[i];return t}function TM(e){function t(a,n,s,i){let o=a[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=a.length;return o=!o&&je.isArray(s)?s.length:o,c?(je.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!je.isObject(s[o]))&&(s[o]=[]),t(a,n,s[o],i)&&je.isArray(s[o])&&(s[o]=Vz(s[o])),!l)}if(je.isFormData(e)&&je.isFunction(e.entries)){const a={};return je.forEachEntry(e,(n,s)=>{t(Wz(n),s,a,0)}),a}return null}function Hz(e,t,a){if(je.isString(e))try{return(t||JSON.parse)(e),je.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(a||JSON.stringify)(e)}const wm={transitional:PM,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const n=a.getContentType()||"",s=n.indexOf("application/json")>-1,i=je.isObject(t);if(i&&je.isHTMLForm(t)&&(t=new FormData(t)),je.isFormData(t))return s?JSON.stringify(TM(t)):t;if(je.isArrayBuffer(t)||je.isBuffer(t)||je.isStream(t)||je.isFile(t)||je.isBlob(t)||je.isReadableStream(t))return t;if(je.isArrayBufferView(t))return t.buffer;if(je.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return qz(t,this.formSerializer).toString();if((l=je.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return rp(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(a.setContentType("application/json",!1),Hz(t)):t}],transformResponse:[function(t){const a=this.transitional||wm.transitional,n=a&&a.forcedJSONParsing,s=this.responseType==="json";if(je.isResponse(t)||je.isReadableStream(t))return t;if(t&&je.isString(t)&&(n&&!this.responseType||s)){const o=!(a&&a.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?St.from(l,St.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xa.classes.FormData,Blob:Xa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};je.forEach(["delete","get","head","post","put","patch"],e=>{wm.headers[e]={}});const Kz=je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gz=e=>{const t={};let a,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),a=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!a||t[a]&&Kz[a])&&(a==="set-cookie"?t[a]?t[a].push(n):t[a]=[n]:t[a]=t[a]?t[a]+", "+n:n)}),t},vS=Symbol("internals");function yu(e){return e&&String(e).trim().toLowerCase()}function Sg(e){return e===!1||e==null?e:je.isArray(e)?e.map(Sg):String(e)}function Qz(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(e);)t[n[1]]=n[2];return t}const Yz=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Jx(e,t,a,n,s){if(je.isFunction(n))return n.call(this,t,a);if(s&&(t=a),!!je.isString(t)){if(je.isString(n))return t.indexOf(n)!==-1;if(je.isRegExp(n))return n.test(t)}}function Xz(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,n)=>a.toUpperCase()+n)}function Zz(e,t){const a=je.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+a,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let Tn=class{constructor(t){t&&this.set(t)}set(t,a,n){const s=this;function i(l,c,u){const g=yu(c);if(!g)throw new Error("header name must be a non-empty string");const h=je.findKey(s,g);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||c]=Sg(l))}const o=(l,c)=>je.forEach(l,(u,g)=>i(u,g,c));if(je.isPlainObject(t)||t instanceof this.constructor)o(t,a);else if(je.isString(t)&&(t=t.trim())&&!Yz(t))o(Gz(t),a);else if(je.isObject(t)&&je.isIterable(t)){let l={},c,u;for(const g of t){if(!je.isArray(g))throw TypeError("Object iterator must return a key-value pair");l[u=g[0]]=(c=l[u])?je.isArray(c)?[...c,g[1]]:[c,g[1]]:g[1]}o(l,a)}else t!=null&&i(a,t,n);return this}get(t,a){if(t=yu(t),t){const n=je.findKey(this,t);if(n){const s=this[n];if(!a)return s;if(a===!0)return Qz(s);if(je.isFunction(a))return a.call(this,s,n);if(je.isRegExp(a))return a.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=yu(t),t){const n=je.findKey(this,t);return!!(n&&this[n]!==void 0&&(!a||Jx(this,this[n],n,a)))}return!1}delete(t,a){const n=this;let s=!1;function i(o){if(o=yu(o),o){const l=je.findKey(n,o);l&&(!a||Jx(n,n[l],l,a))&&(delete n[l],s=!0)}}return je.isArray(t)?t.forEach(i):i(t),s}clear(t){const a=Object.keys(this);let n=a.length,s=!1;for(;n--;){const i=a[n];(!t||Jx(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const a=this,n={};return je.forEach(this,(s,i)=>{const o=je.findKey(n,i);if(o){a[o]=Sg(s),delete a[i];return}const l=t?Xz(i):String(i).trim();l!==i&&delete a[i],a[l]=Sg(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return je.forEach(this,(n,s)=>{n!=null&&n!==!1&&(a[s]=t&&je.isArray(n)?n.join(", "):n)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const n=new this(t);return a.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[vS]=this[vS]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=yu(o);n[l]||(Zz(s,o),n[l]=!0)}return je.isArray(t)?t.forEach(i):i(t),this}};Tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);je.reduceDescriptors(Tn.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[a]=n}}});je.freezeMethods(Tn);function ey(e,t){const a=this||wm,n=t||a,s=Tn.from(n.headers);let i=n.data;return je.forEach(e,function(l){i=l.call(a,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function AM(e){return!!(e&&e.__CANCEL__)}function jc(e,t,a){St.call(this,e??"canceled",St.ERR_CANCELED,t,a),this.name="CanceledError"}je.inherits(jc,St,{__CANCEL__:!0});function MM(e,t,a){const n=a.config.validateStatus;!a.status||!n||n(a.status)?e(a):t(new St("Request failed with status code "+a.status,[St.ERR_BAD_REQUEST,St.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Jz(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function eU(e,t){e=e||10;const a=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),g=n[i];o||(o=u),a[s]=c,n[s]=u;let h=i,x=0;for(;h!==s;)x+=a[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const b=g&&u-g;return b?Math.round(x*1e3/b):void 0}}function tU(e,t){let a=0,n=1e3/t,s,i;const o=(u,g=Date.now())=>{a=g,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const g=Date.now(),h=g-a;h>=n?o(u,g):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-h)))},()=>s&&o(s)]}const Wg=(e,t,a=3)=>{let n=0;const s=eU(50,250);return tU(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,u=s(c),g=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&g?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},a)},kS=(e,t)=>{const a=e!=null;return[n=>t[0]({lengthComputable:a,total:e,loaded:n}),t[1]]},wS=e=>(...t)=>je.asap(()=>e(...t)),rU=Xa.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,Xa.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(Xa.origin),Xa.navigator&&/(msie|trident)/i.test(Xa.navigator.userAgent)):()=>!0,aU=Xa.hasStandardBrowserEnv?{write(e,t,a,n,s,i){const o=[e+"="+encodeURIComponent(t)];je.isNumber(a)&&o.push("expires="+new Date(a).toGMTString()),je.isString(n)&&o.push("path="+n),je.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nU(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function sU(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function IM(e,t,a){let n=!nU(t);return e&&(n||a==!1)?sU(e,t):t}const jS=e=>e instanceof Tn?{...e}:e;function Ql(e,t){t=t||{};const a={};function n(u,g,h,x){return je.isPlainObject(u)&&je.isPlainObject(g)?je.merge.call({caseless:x},u,g):je.isPlainObject(g)?je.merge({},g):je.isArray(g)?g.slice():g}function s(u,g,h,x){if(je.isUndefined(g)){if(!je.isUndefined(u))return n(void 0,u,h,x)}else return n(u,g,h,x)}function i(u,g){if(!je.isUndefined(g))return n(void 0,g)}function o(u,g){if(je.isUndefined(g)){if(!je.isUndefined(u))return n(void 0,u)}else return n(void 0,g)}function l(u,g,h){if(h in t)return n(u,g);if(h in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,g,h)=>s(jS(u),jS(g),h,!0)};return je.forEach(Object.keys({...e,...t}),function(g){const h=c[g]||s,x=h(e[g],t[g],g);je.isUndefined(x)&&h!==l||(a[g]=x)}),a}const EM=e=>{const t=Ql({},e);let{data:a,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=Tn.from(o),t.url=SM(IM(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(je.isFormData(a)){if(Xa.hasStandardBrowserEnv||Xa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...g]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...g].join("; "))}}if(Xa.hasStandardBrowserEnv&&(n&&je.isFunction(n)&&(n=n(t)),n||n!==!1&&rU(t.url))){const u=s&&i&&aU.read(i);u&&o.set(s,u)}return t},iU=typeof XMLHttpRequest<"u",oU=iU&&function(e){return new Promise(function(a,n){const s=EM(e);let i=s.data;const o=Tn.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,g,h,x,b,y;function k(){b&&b(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function j(){if(!v)return;const C=Tn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:C,config:e,request:v};MM(function(I){a(I),k()},function(I){n(I),k()},E),v=null}"onloadend"in v?v.onloadend=j:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(j)},v.onabort=function(){v&&(n(new St("Request aborted",St.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new St("Network Error",St.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||PM;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),n(new St(P,E.clarifyTimeoutError?St.ETIMEDOUT:St.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&je.forEach(o.toJSON(),function(P,E){v.setRequestHeader(E,P)}),je.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),u&&([x,y]=Wg(u,!0),v.addEventListener("progress",x)),c&&v.upload&&([h,b]=Wg(c),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(g=C=>{v&&(n(!C||C.type?new jc(null,e,v):C),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const S=Jz(s.url);if(S&&Xa.protocols.indexOf(S)===-1){n(new St("Unsupported protocol "+S+":",St.ERR_BAD_REQUEST,e));return}v.send(i||null)})},lU=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let n=new AbortController,s;const i=function(u){if(!s){s=!0,l();const g=u instanceof Error?u:this.reason;n.abort(g instanceof St?g:new jc(g instanceof Error?g.message:g))}};let o=t&&setTimeout(()=>{o=null,i(new St(`timeout ${t} of ms exceeded`,St.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>je.asap(l),c}},dU=function*(e,t){let a=e.byteLength;if(a<t){yield e;return}let n=0,s;for(;n<a;)s=n+t,yield e.slice(n,s),n=s},cU=async function*(e,t){for await(const a of uU(e))yield*dU(a,t)},uU=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:a,value:n}=await t.read();if(a)break;yield n}}finally{await t.cancel()}},NS=(e,t,a,n)=>{const s=cU(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:g}=await s.next();if(u){l(),c.close();return}let h=g.byteLength;if(a){let x=i+=h;a(x)}c.enqueue(new Uint8Array(g))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},ap=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",OM=ap&&typeof ReadableStream=="function",mU=ap&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),DM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},gU=OM&&DM(()=>{let e=!1;const t=new Request(Xa.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),CS=64*1024,pv=OM&&DM(()=>je.isReadableStream(new Response("").body)),Vg={stream:pv&&(e=>e.body)};ap&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Vg[t]&&(Vg[t]=je.isFunction(e[t])?a=>a[t]():(a,n)=>{throw new St(`Response type '${t}' is not supported`,St.ERR_NOT_SUPPORT,n)})})})(new Response);const hU=async e=>{if(e==null)return 0;if(je.isBlob(e))return e.size;if(je.isSpecCompliantForm(e))return(await new Request(Xa.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(je.isArrayBufferView(e)||je.isArrayBuffer(e))return e.byteLength;if(je.isURLSearchParams(e)&&(e=e+""),je.isString(e))return(await mU(e)).byteLength},pU=async(e,t)=>{const a=je.toFiniteNumber(e.getContentLength());return a??hU(t)},fU=ap&&(async e=>{let{url:t,method:a,data:n,signal:s,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:g,withCredentials:h="same-origin",fetchOptions:x}=EM(e);u=u?(u+"").toLowerCase():"text";let b=lU([s,i&&i.toAbortSignal()],o),y;const k=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let v;try{if(c&&gU&&a!=="get"&&a!=="head"&&(v=await pU(g,n))!==0){let E=new Request(t,{method:"POST",body:n,duplex:"half"}),A;if(je.isFormData(n)&&(A=E.headers.get("content-type"))&&g.setContentType(A),E.body){const[I,M]=kS(v,Wg(wS(c)));n=NS(E.body,CS,I,M)}}je.isString(h)||(h=h?"include":"omit");const j="credentials"in Request.prototype;y=new Request(t,{...x,signal:b,method:a.toUpperCase(),headers:g.normalize().toJSON(),body:n,duplex:"half",credentials:j?h:void 0});let S=await fetch(y,x);const C=pv&&(u==="stream"||u==="response");if(pv&&(l||C&&k)){const E={};["status","statusText","headers"].forEach(F=>{E[F]=S[F]});const A=je.toFiniteNumber(S.headers.get("content-length")),[I,M]=l&&kS(A,Wg(wS(l),!0))||[];S=new Response(NS(S.body,CS,I,()=>{M&&M(),k&&k()}),E)}u=u||"text";let P=await Vg[je.findKey(Vg,u)||"text"](S,e);return!C&&k&&k(),await new Promise((E,A)=>{MM(E,A,{data:P,headers:Tn.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:y})})}catch(j){throw k&&k(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new St("Network Error",St.ERR_NETWORK,e,y),{cause:j.cause||j}):St.from(j,j&&j.code,e,y)}}),fv={http:Iz,xhr:oU,fetch:fU};je.forEach(fv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const SS=e=>`- ${e}`,xU=e=>je.isFunction(e)||e===null||e===!1,RM={getAdapter:e=>{e=je.isArray(e)?e:[e];const{length:t}=e;let a,n;const s={};for(let i=0;i<t;i++){a=e[i];let o;if(n=a,!xU(a)&&(n=fv[(o=String(a)).toLowerCase()],n===void 0))throw new St(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+i]=n}if(!n){const i=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(SS).join(`
`):" "+SS(i[0]):"as no adapter specified";throw new St("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:fv};function ty(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new jc(null,e)}function PS(e){return ty(e),e.headers=Tn.from(e.headers),e.data=ey.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),RM.getAdapter(e.adapter||wm.adapter)(e).then(function(n){return ty(e),n.data=ey.call(e,e.transformResponse,n),n.headers=Tn.from(n.headers),n},function(n){return AM(n)||(ty(e),n&&n.response&&(n.response.data=ey.call(e,e.transformResponse,n.response),n.response.headers=Tn.from(n.response.headers))),Promise.reject(n)})}const $M="1.11.0",np={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{np[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const TS={};np.transitional=function(t,a,n){function s(i,o){return"[Axios v"+$M+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new St(s(o," has been removed"+(a?" in "+a:"")),St.ERR_DEPRECATED);return a&&!TS[o]&&(TS[o]=!0,console.warn(s(o," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(i,o,l):!0}};np.spelling=function(t){return(a,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function yU(e,t,a){if(typeof e!="object")throw new St("options must be an object",St.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new St("option "+i+" must be "+c,St.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new St("Unknown option "+i,St.ERR_BAD_OPTION)}}const Pg={assertOptions:yU,validators:np},Zs=Pg.validators;let Bl=class{constructor(t){this.defaults=t||{},this.interceptors={request:new bS,response:new bS}}async request(t,a){try{return await this._request(t,a)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=Ql(this.defaults,a);const{transitional:n,paramsSerializer:s,headers:i}=a;n!==void 0&&Pg.assertOptions(n,{silentJSONParsing:Zs.transitional(Zs.boolean),forcedJSONParsing:Zs.transitional(Zs.boolean),clarifyTimeoutError:Zs.transitional(Zs.boolean)},!1),s!=null&&(je.isFunction(s)?a.paramsSerializer={serialize:s}:Pg.assertOptions(s,{encode:Zs.function,serialize:Zs.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Pg.assertOptions(a,{baseUrl:Zs.spelling("baseURL"),withXsrfToken:Zs.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let o=i&&je.merge(i.common,i[a.method]);i&&je.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),a.headers=Tn.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(a)===!1||(c=c&&k.synchronous,l.unshift(k.fulfilled,k.rejected))});const u=[];this.interceptors.response.forEach(function(k){u.push(k.fulfilled,k.rejected)});let g,h=0,x;if(!c){const y=[PS.bind(this),void 0];for(y.unshift(...l),y.push(...u),x=y.length,g=Promise.resolve(a);h<x;)g=g.then(y[h++],y[h++]);return g}x=l.length;let b=a;for(h=0;h<x;){const y=l[h++],k=l[h++];try{b=y(b)}catch(v){k.call(this,v);break}}try{g=PS.call(this,b)}catch(y){return Promise.reject(y)}for(h=0,x=u.length;h<x;)g=g.then(u[h++],u[h++]);return g}getUri(t){t=Ql(this.defaults,t);const a=IM(t.baseURL,t.url,t.allowAbsoluteUrls);return SM(a,t.params,t.paramsSerializer)}};je.forEach(["delete","get","head","options"],function(t){Bl.prototype[t]=function(a,n){return this.request(Ql(n||{},{method:t,url:a,data:(n||{}).data}))}});je.forEach(["post","put","patch"],function(t){function a(n){return function(i,o,l){return this.request(Ql(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Bl.prototype[t]=a(),Bl.prototype[t+"Form"]=a(!0)});let bU=class BM{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new jc(i,o,l),a(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=n=>{t.abort(n)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new BM(function(s){t=s}),cancel:t}}};function vU(e){return function(a){return e.apply(null,a)}}function kU(e){return je.isObject(e)&&e.isAxiosError===!0}const xv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xv).forEach(([e,t])=>{xv[t]=e});function LM(e){const t=new Bl(e),a=hM(Bl.prototype.request,t);return je.extend(a,Bl.prototype,t,{allOwnKeys:!0}),je.extend(a,t,null,{allOwnKeys:!0}),a.create=function(s){return LM(Ql(e,s))},a}const Xr=LM(wm);Xr.Axios=Bl;Xr.CanceledError=jc;Xr.CancelToken=bU;Xr.isCancel=AM;Xr.VERSION=$M;Xr.toFormData=rp;Xr.AxiosError=St;Xr.Cancel=Xr.CanceledError;Xr.all=function(t){return Promise.all(t)};Xr.spread=vU;Xr.isAxiosError=kU;Xr.mergeConfig=Ql;Xr.AxiosHeaders=Tn;Xr.formToJSON=e=>TM(je.isHTMLForm(e)?new FormData(e):e);Xr.getAdapter=RM.getAdapter;Xr.HttpStatusCode=xv;Xr.default=Xr;const{Axios:Ame,AxiosError:Mme,CanceledError:Ime,isCancel:Eme,CancelToken:Ome,VERSION:Dme,all:Rme,Cancel:$me,isAxiosError:Bme,spread:Lme,toFormData:_me,AxiosHeaders:Fme,HttpStatusCode:zme,formToJSON:Ume,getAdapter:qme,mergeConfig:Wme}=Xr;class wU{isDevelopment=!1;isProduction=!0;isTest=!1;formatMessage(t,a,n){const s=new Date().toISOString(),i=this.getLevelIcon(t),o=n?`[${n}] `:"";return`${i} ${s} ${o}${a}`}getLevelIcon(t){switch(t){case"info":return"ℹ️";case"warn":return"⚠️";case"error":return"❌";case"debug":return"🔍";default:return"📝"}}shouldLog(t){return this.isTest?!1:this.isProduction?t==="error"||t==="warn":!0}shouldLogSignalR(t){return this.isTest?!1:this.isProduction?t==="error"||t==="warn":!0}shouldLogDebug(t){return t==="debug"?this.isDevelopment&&!this.isProduction:this.shouldLog(t)}info(t,a,n){this.shouldLog("info")&&this.formatMessage("info",t,n?.prefix)}warn(t,a,n){if(!this.shouldLog("warn"))return;const s=this.formatMessage("warn",t,n?.prefix);console.warn(s,a||"")}error(t,a,n){if(!this.shouldLog("error"))return;const s=this.formatMessage("error",t,n?.prefix);console.error(s,a||"")}debug(t,a,n){this.shouldLogDebug("debug")&&this.formatMessage("debug",t,n?.prefix)}signalR(t,a,n){if(!this.shouldLogSignalR(t))return;const s=this.formatMessage(t,`[SignalR] ${a}`);(t==="error"?console.error:t==="warn"?console.warn:console.log)(s,n||"")}log(t,a){this.isDevelopment&&console.log(t,a||"")}}const N=new wU,Kd=Object.freeze(Object.defineProperty({__proto__:null,logger:N},Symbol.toStringTag,{value:"Module"})),_M=e=>{if(N.error("Error parsing:",e),e.status===0||e.message?.includes("Network Error")||e.message?.includes("ERR_EMPTY_RESPONSE")||e.message?.includes("ERR_CONNECTION_REFUSED"))return{message:e.message||"Network Error",type:"network",retryable:!0,userFriendlyMessage:"Sunucuya bağlanılamıyor. Lütfen internet bağlantınızı kontrol edin."};if(e.code==="ECONNABORTED"||e.message?.includes("timeout"))return{message:e.message||"Request timeout",type:"network",retryable:!0,userFriendlyMessage:"İstek zaman aşımına uğradı. Lütfen tekrar deneyin."};if(e.message?.includes("CORS"))return{message:e.message||"CORS Error",type:"network",retryable:!1,userFriendlyMessage:"Sunucu erişim hatası. Lütfen daha sonra tekrar deneyin."};if(e.response?.status){const t=e.response.status;switch(t){case 400:return{message:e.response.data?.message||"Bad Request",type:"validation",retryable:!1,userFriendlyMessage:e.response.data?.message||"Geçersiz istek. Lütfen bilgilerinizi kontrol edin."};case 401:return{message:e.response.data?.message||"Unauthorized",type:"auth",retryable:!1,userFriendlyMessage:"Giriş bilgileriniz hatalı. Lütfen tekrar deneyin."};case 403:return{message:e.response.data?.message||"Forbidden",type:"auth",retryable:!1,userFriendlyMessage:"Bu işlem için yetkiniz bulunmuyor."};case 404:return{message:e.response.data?.message||"Not Found",type:"server",retryable:!1,userFriendlyMessage:"İstenen kaynak bulunamadı."};case 500:case 502:case 503:case 504:return{message:e.response.data?.message||"Server Error",type:"server",retryable:!0,userFriendlyMessage:"Sunucu hatası. Lütfen daha sonra tekrar deneyin."};default:return{message:e.response.data?.message||`HTTP ${t}`,type:"server",retryable:t>=500,userFriendlyMessage:e.response.data?.message||"Bir hata oluştu. Lütfen tekrar deneyin."}}}return{message:e.message||"Unknown Error",type:"unknown",retryable:!1,userFriendlyMessage:"Beklenmeyen bir hata oluştu. Lütfen tekrar deneyin."}},jU=e=>_M(e).userFriendlyMessage,NU=(e,t)=>{const a=_M(e);N.error(`❌ ${t}:`,{message:a.message,type:a.type,retryable:a.retryable,originalError:e})},CU="http://localhost:7001",nw=()=>navigator.onLine,FM=()=>nw()?"Sunucuya bağlanılamıyor. Lütfen internet bağlantınızı kontrol edin.":"İnternet bağlantınız kesilmiş. Lütfen bağlantınızı kontrol edin.",se=Xr.create({baseURL:CU,headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:3e4,withCredentials:!0});se.interceptors.request.use(e=>{if(!nw()){const a={status:0,message:FM(),errors:void 0,response:void 0};return Promise.reject(a)}(e.url?.includes("/batch")||e.headers?.["X-Request-Type"]==="batch-operation")&&(e.timeout=12e4);const t=localStorage.getItem("customerSessionToken");if(t)e.headers.Authorization=`Bearer ${t}`;else{const a=localStorage.getItem("token");if(a){e.headers.Authorization=`Bearer ${a}`;const n=localStorage.getItem("tokenExpiry");if(n){const s=new Date(n);(isNaN(s.getTime())||s<=new Date)&&N.warn("⚠️ Token süresi dolmuş veya geçersiz!")}}}return e},e=>(N.error("❌ Request Error:",e),Promise.reject(e)));se.interceptors.request.use(e=>{if(!nw()){const a={status:0,message:FM(),errors:void 0,response:void 0};return Promise.reject(a)}if((e.url?.includes("/batch")||e.headers?.["X-Request-Type"]==="batch-operation")&&(e.timeout=12e4),e.url?.includes("/api/online")){if(["/start-session","/menu/"].some(i=>e.url?.includes(i)))return e;const s=localStorage.getItem("token");if(s)e.headers.Authorization=`Bearer ${s}`;else{const i={status:401,message:"Online menu oturumu başlatılmamış. Lütfen sayfayı yenileyin.",errors:void 0,response:void 0};return Promise.reject(i)}return e}const t=localStorage.getItem("customerSessionToken");if(t)e.headers.Authorization=`Bearer ${t}`;else{const a=localStorage.getItem("token");if(a){e.headers.Authorization=`Bearer ${a}`;const n=localStorage.getItem("tokenExpiry");if(n){const s=new Date(n);(isNaN(s.getTime())||s<=new Date)&&N.warn("⚠️ Token süresi dolmuş veya geçersiz!")}}}return e},e=>(N.error("❌ Request Error:",e),Promise.reject(e)));const jm=e=>{try{const a=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(a).split("").map(function(s){return"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n)}catch(t){return console.error("Token decode hatası:",t),null}},Ll=()=>{try{const e=localStorage.getItem("token");return e&&jm(e)?.restaurant_id||null}catch(e){return console.error("Restaurant ID alınırken hata:",e),null}},Hg=()=>{try{const e=localStorage.getItem("token");if(!e)return!1;const t=jm(e),a=t?.restaurant_id&&t?.restaurant_id!==""&&t?.restaurant_id!==null&&t?.restaurant_id!==void 0,n=t?.branch_id&&t?.branch_id!==""&&t?.branch_id!==null&&t?.branch_id!==void 0;return!a&&n}catch(e){return console.error("Kullanıcı tipi kontrol edilirken hata:",e),!1}},AS=Object.freeze(Object.defineProperty({__proto__:null,decodeToken:jm,getRestaurantIdFromToken:Ll,httpClient:se,isBranchOnlyUser:Hg},Symbol.toStringTag,{value:"Module"}));class SU{baseUrl="/api/Medias";async uploadFile(t,a){const n=new FormData;return n.append("file",t),a&&n.append("previousUrl",a),(await se.post(this.baseUrl,n,{headers:{"Content-Type":"multipart/form-data"}})).data}async deleteFile(t){await se.delete(`/api/Media/${encodeURIComponent(t)}`)}}const Wi=new SU;function PU(){const[e,t]=p.useState(!1);return{uploadLogo:async(n,s)=>{t(!0);try{return await Wi.uploadFile(n,s)}finally{t(!1)}},isUploading:e}}const TU=(e,t=100)=>{const[a,n]=p.useState("");return p.useEffect(()=>{const s=()=>{const i=window.scrollY+t;for(const o of e){const l=document.getElementById(o);if(l){const{offsetTop:c,offsetHeight:u}=l;if(i>=c&&i<c+u){n(o);break}}}};return window.addEventListener("scroll",s),s(),()=>window.removeEventListener("scroll",s)},[e,t]),a};class _l extends Error{constructor(t,a){const n=new.target.prototype;super(`${t}: Status code '${a}'`),this.statusCode=a,this.__proto__=n}}class sw extends Error{constructor(t="A timeout occurred."){const a=new.target.prototype;super(t),this.__proto__=a}}class Rs extends Error{constructor(t="An abort occurred."){const a=new.target.prototype;super(t),this.__proto__=a}}class AU extends Error{constructor(t,a){const n=new.target.prototype;super(t),this.transport=a,this.errorType="UnsupportedTransportError",this.__proto__=n}}class MU extends Error{constructor(t,a){const n=new.target.prototype;super(t),this.transport=a,this.errorType="DisabledTransportError",this.__proto__=n}}class IU extends Error{constructor(t,a){const n=new.target.prototype;super(t),this.transport=a,this.errorType="FailedToStartTransportError",this.__proto__=n}}class MS extends Error{constructor(t){const a=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=a}}class EU extends Error{constructor(t,a){const n=new.target.prototype;super(t),this.innerErrors=a,this.__proto__=n}}class zM{constructor(t,a,n){this.statusCode=t,this.statusText=a,this.content=n}}class sp{get(t,a){return this.send({...a,method:"GET",url:t})}post(t,a){return this.send({...a,method:"POST",url:t})}delete(t,a){return this.send({...a,method:"DELETE",url:t})}getCookieString(t){return""}}var Ie;(function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"})(Ie||(Ie={}));class Ku{constructor(){}log(t,a){}}Ku.instance=new Ku;const OU="8.0.17";class ia{static isRequired(t,a){if(t==null)throw new Error(`The '${a}' argument is required.`)}static isNotEmpty(t,a){if(!t||t.match(/^\s*$/))throw new Error(`The '${a}' argument should not be empty.`)}static isIn(t,a,n){if(!(t in a))throw new Error(`Unknown ${n} value: ${t}.`)}}class Or{static get isBrowser(){return!Or.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!Or.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!Or.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function Gu(e,t){let a="";return Yl(e)?(a=`Binary data of length ${e.byteLength}`,t&&(a+=`. Content: '${DU(e)}'`)):typeof e=="string"&&(a=`String data of length ${e.length}`,t&&(a+=`. Content: '${e}'`)),a}function DU(e){const t=new Uint8Array(e);let a="";return t.forEach(n=>{const s=n<16?"0":"";a+=`0x${s}${n.toString(16)} `}),a.substr(0,a.length-1)}function Yl(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}async function UM(e,t,a,n,s,i){const o={},[l,c]=ic();o[l]=c,e.log(Ie.Trace,`(${t} transport) sending data. ${Gu(s,i.logMessageContent)}.`);const u=Yl(s)?"arraybuffer":"text",g=await a.post(n,{content:s,headers:{...o,...i.headers},responseType:u,timeout:i.timeout,withCredentials:i.withCredentials});e.log(Ie.Trace,`(${t} transport) request complete. Response status: ${g.statusCode}.`)}function RU(e){return e===void 0?new Kg(Ie.Information):e===null?Ku.instance:e.log!==void 0?e:new Kg(e)}class $U{constructor(t,a){this._subject=t,this._observer=a}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(a=>{})}}class Kg{constructor(t){this._minLevel=t,this.out=console}log(t,a){if(t>=this._minLevel){const n=`[${new Date().toISOString()}] ${Ie[t]}: ${a}`;switch(t){case Ie.Critical:case Ie.Error:this.out.error(n);break;case Ie.Warning:this.out.warn(n);break;case Ie.Information:this.out.info(n);break;default:this.out.log(n);break}}}}function ic(){let e="X-SignalR-User-Agent";return Or.isNode&&(e="User-Agent"),[e,BU(OU,LU(),FU(),_U())]}function BU(e,t,a,n){let s="Microsoft SignalR/";const i=e.split(".");return s+=`${i[0]}.${i[1]}`,s+=` (${e}; `,t&&t!==""?s+=`${t}; `:s+="Unknown OS; ",s+=`${a}`,n?s+=`; ${n}`:s+="; Unknown Runtime Version",s+=")",s}function LU(){if(Or.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function _U(){if(Or.isNode)return process.versions.node}function FU(){return Or.isNode?"NodeJS":"Browser"}function ry(e){return e.stack?e.stack:e.message?e.message:`${e}`}function zU(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class UU extends sp{constructor(t){if(super(),this._logger=t,typeof fetch>"u"||Or.isNode){const a=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(a("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=a("node-fetch"):this._fetchType=fetch,this._fetchType=a("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(zU());if(typeof AbortController>"u"){const a=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=a("abort-controller")}else this._abortControllerType=AbortController}async send(t){if(t.abortSignal&&t.abortSignal.aborted)throw new Rs;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const a=new this._abortControllerType;let n;t.abortSignal&&(t.abortSignal.onabort=()=>{a.abort(),n=new Rs});let s=null;if(t.timeout){const c=t.timeout;s=setTimeout(()=>{a.abort(),this._logger.log(Ie.Warning,"Timeout from HTTP request."),n=new sw},c)}t.content===""&&(t.content=void 0),t.content&&(t.headers=t.headers||{},Yl(t.content)?t.headers["Content-Type"]="application/octet-stream":t.headers["Content-Type"]="text/plain;charset=UTF-8");let i;try{i=await this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:t.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:a.signal})}catch(c){throw n||(this._logger.log(Ie.Warning,`Error from HTTP request. ${c}.`),c)}finally{s&&clearTimeout(s),t.abortSignal&&(t.abortSignal.onabort=null)}if(!i.ok){const c=await IS(i,"text");throw new _l(c||i.statusText,i.status)}const l=await IS(i,t.responseType);return new zM(i.status,i.statusText,l)}getCookieString(t){let a="";return Or.isNode&&this._jar&&this._jar.getCookies(t,(n,s)=>a=s.join("; ")),a}}function IS(e,t){let a;switch(t){case"arraybuffer":a=e.arrayBuffer();break;case"text":a=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`);default:a=e.text();break}return a}class qU extends sp{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Rs):t.method?t.url?new Promise((a,n)=>{const s=new XMLHttpRequest;s.open(t.method,t.url,!0),s.withCredentials=t.withCredentials===void 0?!0:t.withCredentials,s.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.content===""&&(t.content=void 0),t.content&&(Yl(t.content)?s.setRequestHeader("Content-Type","application/octet-stream"):s.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const i=t.headers;i&&Object.keys(i).forEach(o=>{s.setRequestHeader(o,i[o])}),t.responseType&&(s.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{s.abort(),n(new Rs)}),t.timeout&&(s.timeout=t.timeout),s.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),s.status>=200&&s.status<300?a(new zM(s.status,s.statusText,s.response||s.responseText)):n(new _l(s.response||s.responseText||s.statusText,s.status))},s.onerror=()=>{this._logger.log(Ie.Warning,`Error from HTTP request. ${s.status}: ${s.statusText}.`),n(new _l(s.statusText,s.status))},s.ontimeout=()=>{this._logger.log(Ie.Warning,"Timeout from HTTP request."),n(new sw)},s.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class WU extends sp{constructor(t){if(super(),typeof fetch<"u"||Or.isNode)this._httpClient=new UU(t);else if(typeof XMLHttpRequest<"u")this._httpClient=new qU(t);else throw new Error("No usable HttpClient found.")}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Rs):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}class zn{static write(t){return`${t}${zn.RecordSeparator}`}static parse(t){if(t[t.length-1]!==zn.RecordSeparator)throw new Error("Message is incomplete.");const a=t.split(zn.RecordSeparator);return a.pop(),a}}zn.RecordSeparatorCode=30;zn.RecordSeparator=String.fromCharCode(zn.RecordSeparatorCode);class VU{writeHandshakeRequest(t){return zn.write(JSON.stringify(t))}parseHandshakeResponse(t){let a,n;if(Yl(t)){const l=new Uint8Array(t),c=l.indexOf(zn.RecordSeparatorCode);if(c===-1)throw new Error("Message is incomplete.");const u=c+1;a=String.fromCharCode.apply(null,Array.prototype.slice.call(l.slice(0,u))),n=l.byteLength>u?l.slice(u).buffer:null}else{const l=t,c=l.indexOf(zn.RecordSeparator);if(c===-1)throw new Error("Message is incomplete.");const u=c+1;a=l.substring(0,u),n=l.length>u?l.substring(u):null}const s=zn.parse(a),i=JSON.parse(s[0]);if(i.type)throw new Error("Expected a handshake response from the server.");return[n,i]}}var wt;(function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence"})(wt||(wt={}));class HU{constructor(){this.observers=[]}next(t){for(const a of this.observers)a.next(t)}error(t){for(const a of this.observers)a.error&&a.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new $U(this,t)}}class KU{constructor(t,a,n){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=a,this._bufferSize=n}async _send(t){const a=this._protocol.writeMessage(t);let n=Promise.resolve();if(this._isInvocationMessage(t)){this._totalMessageCount++;let s=()=>{},i=()=>{};Yl(a)?this._bufferedByteCount+=a.byteLength:this._bufferedByteCount+=a.length,this._bufferedByteCount>=this._bufferSize&&(n=new Promise((o,l)=>{s=o,i=l})),this._messages.push(new GU(a,this._totalMessageCount,s,i))}try{this._reconnectInProgress||await this._connection.send(a)}catch{this._disconnected()}await n}_ack(t){let a=-1;for(let n=0;n<this._messages.length;n++){const s=this._messages[n];if(s._id<=t.sequenceId)a=n,Yl(s._message)?this._bufferedByteCount-=s._message.byteLength:this._bufferedByteCount-=s._message.length,s._resolver();else if(this._bufferedByteCount<this._bufferSize)s._resolver();else break}a!==-1&&(this._messages=this._messages.slice(a+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type!==wt.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;const a=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,a<=this._latestReceivedSequenceId?(a===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=a,this._ackTimer(),!0)}_resetSequence(t){if(t.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const t=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:wt.Sequence,sequenceId:t}));const a=this._messages;for(const n of a)await this._connection.send(n._message);this._reconnectInProgress=!1}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(const a of this._messages)a._rejector(t)}_isInvocationMessage(t){switch(t.type){case wt.Invocation:case wt.StreamItem:case wt.Completion:case wt.StreamInvocation:case wt.CancelInvocation:return!0;case wt.Close:case wt.Sequence:case wt.Ping:case wt.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:wt.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class GU{constructor(t,a,n,s){this._message=t,this._id=a,this._resolver=n,this._rejector=s}}const QU=30*1e3,YU=15*1e3,XU=1e5;var sr;(function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"})(sr||(sr={}));class iw{static create(t,a,n,s,i,o,l){return new iw(t,a,n,s,i,o,l)}constructor(t,a,n,s,i,o,l){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(Ie.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},ia.isRequired(t,"connection"),ia.isRequired(a,"logger"),ia.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=i??QU,this.keepAliveIntervalInMilliseconds=o??YU,this._statefulReconnectBufferSize=l??XU,this._logger=a,this._protocol=n,this.connection=t,this._reconnectPolicy=s,this._handshakeProtocol=new VU,this.connection.onreceive=c=>this._processIncomingData(c),this.connection.onclose=c=>this._connectionClosed(c),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=sr.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:wt.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==sr.Disconnected&&this._connectionState!==sr.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==sr.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=sr.Connecting,this._logger.log(Ie.Debug,"Starting HubConnection.");try{await this._startInternal(),Or.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=sr.Connected,this._connectionStarted=!0,this._logger.log(Ie.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=sr.Disconnected,this._logger.log(Ie.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const t=new Promise((a,n)=>{this._handshakeResolver=a,this._handshakeRejecter=n});await this.connection.start(this._protocol.transferFormat);try{let a=this._protocol.version;this.connection.features.reconnect||(a=1);const n={protocol:this._protocol.name,version:a};if(this._logger.log(Ie.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(n)),this._logger.log(Ie.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await t,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new KU(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(a){throw this._logger.log(Ie.Debug,`Hub handshake failed with error '${a}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(a),a}}async stop(){const t=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await t}catch{}}_stopInternal(t){if(this._connectionState===sr.Disconnected)return this._logger.log(Ie.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===sr.Disconnecting)return this._logger.log(Ie.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const a=this._connectionState;return this._connectionState=sr.Disconnecting,this._logger.log(Ie.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(Ie.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(a===sr.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new Rs("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(t,...a){const[n,s]=this._replaceStreamingParams(a),i=this._createStreamInvocation(t,a,s);let o;const l=new HU;return l.cancelCallback=()=>{const c=this._createCancelInvocation(i.invocationId);return delete this._callbacks[i.invocationId],o.then(()=>this._sendWithProtocol(c))},this._callbacks[i.invocationId]=(c,u)=>{if(u){l.error(u);return}else c&&(c.type===wt.Completion?c.error?l.error(new Error(c.error)):l.complete():l.next(c.item))},o=this._sendWithProtocol(i).catch(c=>{l.error(c),delete this._callbacks[i.invocationId]}),this._launchStreams(n,o),l}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...a){const[n,s]=this._replaceStreamingParams(a),i=this._sendWithProtocol(this._createInvocation(t,a,!0,s));return this._launchStreams(n,i),i}invoke(t,...a){const[n,s]=this._replaceStreamingParams(a),i=this._createInvocation(t,a,!1,s);return new Promise((l,c)=>{this._callbacks[i.invocationId]=(g,h)=>{if(h){c(h);return}else g&&(g.type===wt.Completion?g.error?c(new Error(g.error)):l(g.result):c(new Error(`Unexpected message type: ${g.type}`)))};const u=this._sendWithProtocol(i).catch(g=>{c(g),delete this._callbacks[i.invocationId]});this._launchStreams(n,u)})}on(t,a){!t||!a||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),this._methods[t].indexOf(a)===-1&&this._methods[t].push(a))}off(t,a){if(!t)return;t=t.toLowerCase();const n=this._methods[t];if(n)if(a){const s=n.indexOf(a);s!==-1&&(n.splice(s,1),n.length===0&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const a=this._protocol.parseMessages(t,this._logger);for(const n of a)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(n)))switch(n.type){case wt.Invocation:this._invokeClientMethod(n).catch(s=>{this._logger.log(Ie.Error,`Invoke client method threw error: ${ry(s)}`)});break;case wt.StreamItem:case wt.Completion:{const s=this._callbacks[n.invocationId];if(s){n.type===wt.Completion&&delete this._callbacks[n.invocationId];try{s(n)}catch(i){this._logger.log(Ie.Error,`Stream callback threw error: ${ry(i)}`)}}break}case wt.Ping:break;case wt.Close:{this._logger.log(Ie.Information,"Close message received from server.");const s=n.error?new Error("Server returned an error on close: "+n.error):void 0;n.allowReconnect===!0?this.connection.stop(s):this._stopPromise=this._stopInternal(s);break}case wt.Ack:this._messageBuffer&&this._messageBuffer._ack(n);break;case wt.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(n);break;default:this._logger.log(Ie.Warning,`Invalid message type: ${n.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let a,n;try{[n,a]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(s){const i="Error parsing handshake response: "+s;this._logger.log(Ie.Error,i);const o=new Error(i);throw this._handshakeRejecter(o),o}if(a.error){const s="Server returned handshake error: "+a.error;this._logger.log(Ie.Error,s);const i=new Error(s);throw this._handshakeRejecter(i),i}else this._logger.log(Ie.Debug,"Server handshake complete.");return this._handshakeResolver(),n}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let t=this._nextKeepAlive-new Date().getTime();t<0&&(t=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===sr.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},t)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(t){const a=t.target.toLowerCase(),n=this._methods[a];if(!n){this._logger.log(Ie.Warning,`No client method with the name '${a}' found.`),t.invocationId&&(this._logger.log(Ie.Warning,`No result given for '${a}' method and invocation ID '${t.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)));return}const s=n.slice(),i=!!t.invocationId;let o,l,c;for(const u of s)try{const g=o;o=await u.apply(this,t.arguments),i&&o&&g&&(this._logger.log(Ie.Error,`Multiple results provided for '${a}'. Sending error to server.`),c=this._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),l=void 0}catch(g){l=g,this._logger.log(Ie.Error,`A callback for the method '${a}' threw error '${g}'.`)}c?await this._sendWithProtocol(c):i?(l?c=this._createCompletionMessage(t.invocationId,`${l}`,null):o!==void 0?c=this._createCompletionMessage(t.invocationId,null,o):(this._logger.log(Ie.Warning,`No result given for '${a}' method and invocation ID '${t.invocationId}'.`),c=this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(c)):o&&this._logger.log(Ie.Error,`Result given for '${a}' method but server is not expecting a result.`)}_connectionClosed(t){this._logger.log(Ie.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new Rs("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===sr.Disconnecting?this._completeClose(t):this._connectionState===sr.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===sr.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=sr.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),Or.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(a=>a.apply(this,[t]))}catch(a){this._logger.log(Ie.Error,`An onclose callback called with error '${t}' threw error '${a}'.`)}}}async _reconnect(t){const a=Date.now();let n=0,s=t!==void 0?t:new Error("Attempting to reconnect due to a unknown error."),i=this._getNextRetryDelay(n++,0,s);if(i===null){this._logger.log(Ie.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(t);return}if(this._connectionState=sr.Reconnecting,t?this._logger.log(Ie.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(Ie.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(o=>o.apply(this,[t]))}catch(o){this._logger.log(Ie.Error,`An onreconnecting callback called with error '${t}' threw error '${o}'.`)}if(this._connectionState!==sr.Reconnecting){this._logger.log(Ie.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;i!==null;){if(this._logger.log(Ie.Information,`Reconnect attempt number ${n} will start in ${i} ms.`),await new Promise(o=>{this._reconnectDelayHandle=setTimeout(o,i)}),this._reconnectDelayHandle=void 0,this._connectionState!==sr.Reconnecting){this._logger.log(Ie.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=sr.Connected,this._logger.log(Ie.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(o=>o.apply(this,[this.connection.connectionId]))}catch(o){this._logger.log(Ie.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${o}'.`)}return}catch(o){if(this._logger.log(Ie.Information,`Reconnect attempt failed because of error '${o}'.`),this._connectionState!==sr.Reconnecting){this._logger.log(Ie.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===sr.Disconnecting&&this._completeClose();return}s=o instanceof Error?o:new Error(o.toString()),i=this._getNextRetryDelay(n++,Date.now()-a,s)}}this._logger.log(Ie.Information,`Reconnect retries have been exhausted after ${Date.now()-a} ms and ${n} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(t,a,n){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:a,previousRetryCount:t,retryReason:n})}catch(s){return this._logger.log(Ie.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${a}) threw error '${s}'.`),null}}_cancelCallbacksWithError(t){const a=this._callbacks;this._callbacks={},Object.keys(a).forEach(n=>{const s=a[n];try{s(null,t)}catch(i){this._logger.log(Ie.Error,`Stream 'error' callback called with '${t}' threw error: ${ry(i)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,a,n,s){if(n)return s.length!==0?{arguments:a,streamIds:s,target:t,type:wt.Invocation}:{arguments:a,target:t,type:wt.Invocation};{const i=this._invocationId;return this._invocationId++,s.length!==0?{arguments:a,invocationId:i.toString(),streamIds:s,target:t,type:wt.Invocation}:{arguments:a,invocationId:i.toString(),target:t,type:wt.Invocation}}}_launchStreams(t,a){if(t.length!==0){a||(a=Promise.resolve());for(const n in t)t[n].subscribe({complete:()=>{a=a.then(()=>this._sendWithProtocol(this._createCompletionMessage(n)))},error:s=>{let i;s instanceof Error?i=s.message:s&&s.toString?i=s.toString():i="Unknown error",a=a.then(()=>this._sendWithProtocol(this._createCompletionMessage(n,i)))},next:s=>{a=a.then(()=>this._sendWithProtocol(this._createStreamItemMessage(n,s)))}})}}_replaceStreamingParams(t){const a=[],n=[];for(let s=0;s<t.length;s++){const i=t[s];if(this._isObservable(i)){const o=this._invocationId;this._invocationId++,a[o]=i,n.push(o.toString()),t.splice(s,1)}}return[a,n]}_isObservable(t){return t&&t.subscribe&&typeof t.subscribe=="function"}_createStreamInvocation(t,a,n){const s=this._invocationId;return this._invocationId++,n.length!==0?{arguments:a,invocationId:s.toString(),streamIds:n,target:t,type:wt.StreamInvocation}:{arguments:a,invocationId:s.toString(),target:t,type:wt.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:wt.CancelInvocation}}_createStreamItemMessage(t,a){return{invocationId:t,item:a,type:wt.StreamItem}}_createCompletionMessage(t,a,n){return a?{error:a,invocationId:t,type:wt.Completion}:{invocationId:t,result:n,type:wt.Completion}}_createCloseMessage(){return{type:wt.Close}}}const ZU=[0,2e3,1e4,3e4,null];class ES{constructor(t){this._retryDelays=t!==void 0?[...t,null]:ZU}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}class Fl{}Fl.Authorization="Authorization";Fl.Cookie="Cookie";class JU extends sp{constructor(t,a){super(),this._innerClient=t,this._accessTokenFactory=a}async send(t){let a=!0;this._accessTokenFactory&&(!this._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(a=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(t);const n=await this._innerClient.send(t);return a&&n.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(t),await this._innerClient.send(t)):n}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[Fl.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[Fl.Authorization]&&delete t.headers[Fl.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}}var na;(function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"})(na||(na={}));var Ga;(function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"})(Ga||(Ga={}));let eq=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class OS{get pollAborted(){return this._pollAbort.aborted}constructor(t,a,n){this._httpClient=t,this._logger=a,this._pollAbort=new eq,this._options=n,this._running=!1,this.onreceive=null,this.onclose=null}async connect(t,a){if(ia.isRequired(t,"url"),ia.isRequired(a,"transferFormat"),ia.isIn(a,Ga,"transferFormat"),this._url=t,this._logger.log(Ie.Trace,"(LongPolling transport) Connecting."),a===Ga.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[n,s]=ic(),i={[n]:s,...this._options.headers},o={abortSignal:this._pollAbort.signal,headers:i,timeout:1e5,withCredentials:this._options.withCredentials};a===Ga.Binary&&(o.responseType="arraybuffer");const l=`${t}&_=${Date.now()}`;this._logger.log(Ie.Trace,`(LongPolling transport) polling: ${l}.`);const c=await this._httpClient.get(l,o);c.statusCode!==200?(this._logger.log(Ie.Error,`(LongPolling transport) Unexpected response code: ${c.statusCode}.`),this._closeError=new _l(c.statusText||"",c.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,o)}async _poll(t,a){try{for(;this._running;)try{const n=`${t}&_=${Date.now()}`;this._logger.log(Ie.Trace,`(LongPolling transport) polling: ${n}.`);const s=await this._httpClient.get(n,a);s.statusCode===204?(this._logger.log(Ie.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):s.statusCode!==200?(this._logger.log(Ie.Error,`(LongPolling transport) Unexpected response code: ${s.statusCode}.`),this._closeError=new _l(s.statusText||"",s.statusCode),this._running=!1):s.content?(this._logger.log(Ie.Trace,`(LongPolling transport) data received. ${Gu(s.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(s.content)):this._logger.log(Ie.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(n){this._running?n instanceof sw?this._logger.log(Ie.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=n,this._running=!1):this._logger.log(Ie.Trace,`(LongPolling transport) Poll errored after shutdown: ${n.message}`)}}finally{this._logger.log(Ie.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(t){return this._running?UM(this._logger,"LongPolling",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(Ie.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(Ie.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[a,n]=ic();t[a]=n;const s={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let i;try{await this._httpClient.delete(this._url,s)}catch(o){i=o}i?i instanceof _l&&(i.statusCode===404?this._logger.log(Ie.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(Ie.Trace,`(LongPolling transport) Error sending a DELETE request: ${i}`)):this._logger.log(Ie.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(Ie.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(Ie.Trace,t),this.onclose(this._closeError)}}}class tq{constructor(t,a,n,s){this._httpClient=t,this._accessToken=a,this._logger=n,this._options=s,this.onreceive=null,this.onclose=null}async connect(t,a){return ia.isRequired(t,"url"),ia.isRequired(a,"transferFormat"),ia.isIn(a,Ga,"transferFormat"),this._logger.log(Ie.Trace,"(SSE transport) Connecting."),this._url=t,this._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((n,s)=>{let i=!1;if(a!==Ga.Text){s(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let o;if(Or.isBrowser||Or.isWebWorker)o=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{const l=this._httpClient.getCookieString(t),c={};c.Cookie=l;const[u,g]=ic();c[u]=g,o=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:{...c,...this._options.headers}})}try{o.onmessage=l=>{if(this.onreceive)try{this._logger.log(Ie.Trace,`(SSE transport) data received. ${Gu(l.data,this._options.logMessageContent)}.`),this.onreceive(l.data)}catch(c){this._close(c);return}},o.onerror=l=>{i?this._close():s(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},o.onopen=()=>{this._logger.log(Ie.Information,`SSE connected to ${this._url}`),this._eventSource=o,i=!0,n()}}catch(l){s(l);return}})}async send(t){return this._eventSource?UM(this._logger,"SSE",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class rq{constructor(t,a,n,s,i,o){this._logger=n,this._accessTokenFactory=a,this._logMessageContent=s,this._webSocketConstructor=i,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=o}async connect(t,a){ia.isRequired(t,"url"),ia.isRequired(a,"transferFormat"),ia.isIn(a,Ga,"transferFormat"),this._logger.log(Ie.Trace,"(WebSockets transport) Connecting.");let n;return this._accessTokenFactory&&(n=await this._accessTokenFactory()),new Promise((s,i)=>{t=t.replace(/^http/,"ws");let o;const l=this._httpClient.getCookieString(t);let c=!1;if(Or.isNode||Or.isReactNative){const u={},[g,h]=ic();u[g]=h,n&&(u[Fl.Authorization]=`Bearer ${n}`),l&&(u[Fl.Cookie]=l),o=new this._webSocketConstructor(t,void 0,{headers:{...u,...this._headers}})}else n&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(n)}`);o||(o=new this._webSocketConstructor(t)),a===Ga.Binary&&(o.binaryType="arraybuffer"),o.onopen=u=>{this._logger.log(Ie.Information,`WebSocket connected to ${t}.`),this._webSocket=o,c=!0,s()},o.onerror=u=>{let g=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?g=u.error:g="There was an error with the transport",this._logger.log(Ie.Information,`(WebSockets transport) ${g}.`)},o.onmessage=u=>{if(this._logger.log(Ie.Trace,`(WebSockets transport) data received. ${Gu(u.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(u.data)}catch(g){this._close(g);return}},o.onclose=u=>{if(c)this._close(u);else{let g=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?g=u.error:g="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",i(new Error(g))}}})}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(Ie.Trace,`(WebSockets transport) sending data. ${Gu(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(Ie.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(t)&&(t.wasClean===!1||t.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)):t instanceof Error?this.onclose(t):this.onclose())}_isCloseEvent(t){return t&&typeof t.wasClean=="boolean"&&typeof t.code=="number"}}const DS=100;class aq{constructor(t,a={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,ia.isRequired(t,"url"),this._logger=RU(a.logger),this.baseUrl=this._resolveUrl(t),a=a||{},a.logMessageContent=a.logMessageContent===void 0?!1:a.logMessageContent,typeof a.withCredentials=="boolean"||a.withCredentials===void 0)a.withCredentials=a.withCredentials===void 0?!0:a.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");a.timeout=a.timeout===void 0?100*1e3:a.timeout;let n=null,s=null;if(Or.isNode&&typeof require<"u"){const i=typeof __webpack_require__=="function"?__non_webpack_require__:require;n=i("ws"),s=i("eventsource")}!Or.isNode&&typeof WebSocket<"u"&&!a.WebSocket?a.WebSocket=WebSocket:Or.isNode&&!a.WebSocket&&n&&(a.WebSocket=n),!Or.isNode&&typeof EventSource<"u"&&!a.EventSource?a.EventSource=EventSource:Or.isNode&&!a.EventSource&&typeof s<"u"&&(a.EventSource=s),this._httpClient=new JU(a.httpClient||new WU(this._logger),a.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=a,this.onreceive=null,this.onclose=null}async start(t){if(t=t||Ga.Binary,ia.isIn(t,Ga,"transferFormat"),this._logger.log(Ie.Debug,`Starting connection with transfer format '${Ga[t]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),await this._startInternalPromise,this._connectionState==="Disconnecting"){const a="Failed to start the HttpConnection before stop() was called.";return this._logger.log(Ie.Error,a),await this._stopPromise,Promise.reject(new Rs(a))}else if(this._connectionState!=="Connected"){const a="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(Ie.Error,a),Promise.reject(new Rs(a))}this._connectionStarted=!0}send(t){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new ow(this.transport)),this._sendQueue.send(t))}async stop(t){if(this._connectionState==="Disconnected")return this._logger.log(Ie.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(Ie.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(a=>{this._stopPromiseResolver=a}),await this._stopInternal(t),await this._stopPromise}async _stopInternal(t){this._stopError=t;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(a){this._logger.log(Ie.Error,`HttpConnection.transport.stop() threw error '${a}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(Ie.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(t){let a=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===na.WebSockets)this.transport=this._constructTransport(na.WebSockets),await this._startTransport(a,t);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let n=null,s=0;do{if(n=await this._getNegotiationResponse(a),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new Rs("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(n.url&&(a=n.url),n.accessToken){const i=n.accessToken;this._accessTokenFactory=()=>i,this._httpClient._accessToken=i,this._httpClient._accessTokenFactory=void 0}s++}while(n.url&&s<DS);if(s===DS&&n.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(a,this._options.transport,n,t)}this.transport instanceof OS&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(Ie.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(n){return this._logger.log(Ie.Error,"Failed to start the connection: "+n),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(n)}}async _getNegotiationResponse(t){const a={},[n,s]=ic();a[n]=s;const i=this._resolveNegotiateUrl(t);this._logger.log(Ie.Debug,`Sending negotiation request: ${i}.`);try{const o=await this._httpClient.post(i,{content:"",headers:{...a,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(o.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${o.statusCode}'`));const l=JSON.parse(o.content);return(!l.negotiateVersion||l.negotiateVersion<1)&&(l.connectionToken=l.connectionId),l.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new MS("Client didn't negotiate Stateful Reconnect but the server did.")):l}catch(o){let l="Failed to complete negotiation with the server: "+o;return o instanceof _l&&o.statusCode===404&&(l=l+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(Ie.Error,l),Promise.reject(new MS(l))}}_createConnectUrl(t,a){return a?t+(t.indexOf("?")===-1?"?":"&")+`id=${a}`:t}async _createTransport(t,a,n,s){let i=this._createConnectUrl(t,n.connectionToken);if(this._isITransport(a)){this._logger.log(Ie.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=a,await this._startTransport(i,s),this.connectionId=n.connectionId;return}const o=[],l=n.availableTransports||[];let c=n;for(const u of l){const g=this._resolveTransportOrError(u,a,s,c?.useStatefulReconnect===!0);if(g instanceof Error)o.push(`${u.transport} failed:`),o.push(g);else if(this._isITransport(g)){if(this.transport=g,!c){try{c=await this._getNegotiationResponse(t)}catch(h){return Promise.reject(h)}i=this._createConnectUrl(t,c.connectionToken)}try{await this._startTransport(i,s),this.connectionId=c.connectionId;return}catch(h){if(this._logger.log(Ie.Error,`Failed to start the transport '${u.transport}': ${h}`),c=void 0,o.push(new IU(`${u.transport} failed: ${h}`,na[u.transport])),this._connectionState!=="Connecting"){const x="Failed to select transport before stop() was called.";return this._logger.log(Ie.Debug,x),Promise.reject(new Rs(x))}}}}return o.length>0?Promise.reject(new EU(`Unable to connect to the server with any of the available transports. ${o.join(" ")}`,o)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(t){switch(t){case na.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new rq(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case na.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new tq(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case na.LongPolling:return new OS(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,a){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async n=>{let s=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(t,a),await this.features.resend()}catch{s=!0}else{this._stopConnection(n);return}s&&this._stopConnection(n)}:this.transport.onclose=n=>this._stopConnection(n),this.transport.connect(t,a)}_resolveTransportOrError(t,a,n,s){const i=na[t.transport];if(i==null)return this._logger.log(Ie.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(nq(a,i))if(t.transferFormats.map(l=>Ga[l]).indexOf(n)>=0){if(i===na.WebSockets&&!this._options.WebSocket||i===na.ServerSentEvents&&!this._options.EventSource)return this._logger.log(Ie.Debug,`Skipping transport '${na[i]}' because it is not supported in your environment.'`),new AU(`'${na[i]}' is not supported in your environment.`,i);this._logger.log(Ie.Debug,`Selecting transport '${na[i]}'.`);try{return this.features.reconnect=i===na.WebSockets?s:void 0,this._constructTransport(i)}catch(l){return l}}else return this._logger.log(Ie.Debug,`Skipping transport '${na[i]}' because it does not support the requested transfer format '${Ga[n]}'.`),new Error(`'${na[i]}' does not support ${Ga[n]}.`);else return this._logger.log(Ie.Debug,`Skipping transport '${na[i]}' because it was disabled by the client.`),new MU(`'${na[i]}' is disabled by the client.`,i)}_isITransport(t){return t&&typeof t=="object"&&"connect"in t}_stopConnection(t){if(this._logger.log(Ie.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(Ie.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(Ie.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),t?this._logger.log(Ie.Error,`Connection disconnected with error '${t}'.`):this._logger.log(Ie.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(a=>{this._logger.log(Ie.Error,`TransportSendQueue.stop() threw error '${a}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(a){this._logger.log(Ie.Error,`HttpConnection.onclose(${t}) threw error '${a}'.`)}}}_resolveUrl(t){if(t.lastIndexOf("https://",0)===0||t.lastIndexOf("http://",0)===0)return t;if(!Or.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const a=window.document.createElement("a");return a.href=t,this._logger.log(Ie.Information,`Normalizing '${t}' to '${a.href}'.`),a.href}_resolveNegotiateUrl(t){const a=new URL(t);a.pathname.endsWith("/")?a.pathname+="negotiate":a.pathname+="/negotiate";const n=new URLSearchParams(a.searchParams);return n.has("negotiateVersion")||n.append("negotiateVersion",this._negotiateVersion.toString()),n.has("useStatefulReconnect")?n.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&n.append("useStatefulReconnect","true"),a.search=n.toString(),a.toString()}}function nq(e,t){return!e||(t&e)!==0}class ow{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new X0,this._transportResult=new X0,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new X0),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new X0;const t=this._transportResult;this._transportResult=void 0;const a=typeof this._buffer[0]=="string"?this._buffer.join(""):ow._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(a),t.resolve()}catch(n){t.reject(n)}}}static _concatBuffers(t){const a=t.map(i=>i.byteLength).reduce((i,o)=>i+o),n=new Uint8Array(a);let s=0;for(const i of t)n.set(new Uint8Array(i),s),s+=i.byteLength;return n.buffer}}class X0{constructor(){this.promise=new Promise((t,a)=>[this._resolver,this._rejecter]=[t,a])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}const sq="json";class iq{constructor(){this.name=sq,this.version=2,this.transferFormat=Ga.Text}parseMessages(t,a){if(typeof t!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];a===null&&(a=Ku.instance);const n=zn.parse(t),s=[];for(const i of n){const o=JSON.parse(i);if(typeof o.type!="number")throw new Error("Invalid payload.");switch(o.type){case wt.Invocation:this._isInvocationMessage(o);break;case wt.StreamItem:this._isStreamItemMessage(o);break;case wt.Completion:this._isCompletionMessage(o);break;case wt.Ping:break;case wt.Close:break;case wt.Ack:this._isAckMessage(o);break;case wt.Sequence:this._isSequenceMessage(o);break;default:a.log(Ie.Information,"Unknown message type '"+o.type+"' ignored.");continue}s.push(o)}return s}writeMessage(t){return zn.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),t.invocationId!==void 0&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),t.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,a){if(typeof t!="string"||t==="")throw new Error(a)}}const oq={trace:Ie.Trace,debug:Ie.Debug,info:Ie.Information,information:Ie.Information,warn:Ie.Warning,warning:Ie.Warning,error:Ie.Error,critical:Ie.Critical,none:Ie.None};function lq(e){const t=oq[e.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${e}`)}class dq{configureLogging(t){if(ia.isRequired(t,"logging"),cq(t))this.logger=t;else if(typeof t=="string"){const a=lq(t);this.logger=new Kg(a)}else this.logger=new Kg(t);return this}withUrl(t,a){return ia.isRequired(t,"url"),ia.isNotEmpty(t,"url"),this.url=t,typeof a=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...a}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:a},this}withHubProtocol(t){return ia.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new ES(t):this.reconnectPolicy=t:this.reconnectPolicy=new ES,this}withServerTimeout(t){return ia.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return ia.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t?.bufferSize,this}build(){const t=this.httpConnectionOptions||{};if(t.logger===void 0&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const a=new aq(this.url,t);return iw.create(a,this.logger||Ku.instance,this.protocol||new iq,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function cq(e){return e.log!==void 0}class uq{connection=null;isConnecting=!1;retryCount=0;maxRetries=3;retryDelay=2e3;connectionPromise=null;async startConnection(t){return this.isConnecting&&this.connectionPromise?(N.signalR("warn","Bağlantısı zaten kuruluyor, bekleniyor..."),this.connectionPromise):this.connection?.state===sr.Connected?(N.signalR("info","Zaten bağlı"),Promise.resolve()):(this.isConnecting=!0,this.connectionPromise=this._startConnection(t),this.connectionPromise)}async _startConnection(t){try{this.connection&&(await this.connection.stop(),this.connection=null);const a="https://localhost:7001",n=`${a}/hubs/table`;N.signalR("info","SignalR bağlantısı başlatılıyor",{apiUrl:a,signalRUrl:n,isDev:!1}),this.connection=new dq().withUrl(n,{accessTokenFactory:()=>t,skipNegotiation:!1,transport:na.WebSockets}).withAutomaticReconnect({nextRetryDelayInMilliseconds:s=>s.previousRetryCount===0?0:s.previousRetryCount<this.maxRetries?this.retryDelay:null}).configureLogging(Ie.Warning).build(),this.connection.onreconnecting(s=>{N.signalR("warn","Yeniden bağlanıyor...",s)}),this.connection.onreconnected(s=>{N.signalR("info","Yeniden bağlandı",{connectionId:s}),this.retryCount=0}),this.connection.onclose(s=>{N.signalR("warn","Bağlantısı kapandı",s),this.isConnecting=!1,this.connectionPromise=null}),await this.connection.start(),N.signalR("info","Başarıyla bağlandı"),this.retryCount=0}catch(a){this.retryCount++,N.signalR("error","Bağlantı hatası",a),this.retryCount<this.maxRetries?(N.signalR("info",`Yeniden deneniyor (${this.retryCount}/${this.maxRetries})`),setTimeout(()=>{this.isConnecting=!1,this.connectionPromise=null,this.startConnection(t)},this.retryDelay)):(N.signalR("error","Maksimum deneme sayısına ulaştı, bağlantı kurulamadı"),this.isConnecting=!1,this.connectionPromise=null)}finally{this.isConnecting=!1}}async joinBranchGroup(t){if(this.connection?.state===sr.Connected)try{await this.connection.invoke("JoinBranchGroup",t),N.signalR("info","Branch grubuna katılındı",{branchId:t})}catch(a){N.signalR("error","Branch grubuna katılma hatası",{branchId:t,error:a})}else N.signalR("warn","Bağlı değil, branch grubuna katılınamıyor",{branchId:t})}async leaveBranchGroup(t){if(this.connection?.state===sr.Connected)try{await this.connection.invoke("LeaveBranchGroup",t),N.signalR("info","Branch grubundan ayrılındı",{branchId:t})}catch(a){N.signalR("error","Branch grubundan ayrılma hatası",{branchId:t,error:a})}}async requestTableStatus(t){if(this.connection?.state===sr.Connected)try{await this.connection.invoke("RequestTableStatus",t),N.signalR("info","Tablo durumu istendi",{branchId:t})}catch(a){N.signalR("error","Tablo durumu isteme hatası",{branchId:t,error:a})}else N.signalR("warn","Bağlı değil, tablo durumu istenemiyor",{branchId:t})}onTableChanged(t){this.connection&&this.connection.on("TableChanged",a=>{N.signalR("info","Tablo değişikliği alındı",a),t(a)})}onTablesBatchCreated(t){this.connection&&this.connection.on("TablesBatchCreated",a=>{N.signalR("info","Toplu tablo oluşturma alındı",a),t(a)})}onTableCategoryChanged(t){this.connection&&this.connection.on("TableCategoryChanged",a=>{N.signalR("info","Tablo kategorisi değişikliği alındı",a),t(a)})}onTableStatusChanged(t){this.connection&&this.connection.on("TableStatusChanged",a=>{N.signalR("info","Tablo durumu değişikliği alındı",a),t(a)})}onRefreshTableList(t){this.connection&&this.connection.on("RefreshTableList",a=>{N.signalR("info","Tablo listesi yenileme sinyali alındı",a),t(a)})}onError(t){this.connection&&this.connection.on("Error",a=>{N.signalR("error","Sunucu hatası",a),t(a)})}async stopConnection(){if(this.connection)try{await this.connection.stop(),N.signalR("info","Bağlantısı durduruldu")}catch(t){N.signalR("error","Bağlantısı durdurma hatası",t)}}isConnected(){return this.connection?.state===sr.Connected}getConnectionState(){return this.connection?.state||"Disconnected"}}const ra=new uq,mq=(e,t,a={})=>{const n=p.useRef(!1),s=p.useRef(null),i=p.useCallback(async()=>{if(!e||!t)return N.signalR("warn","Başlatılamıyor: token veya branchId eksik",{token:!!e,branchId:t}),!1;if(n.current&&s.current===t)return N.signalR("info","Zaten başlatılmış"),!0;try{return N.signalR("info","Başlatılıyor",{branchId:t}),await ra.startConnection(e),ra.isConnected()?(s.current&&s.current!==t&&await ra.leaveBranchGroup(s.current),await ra.joinBranchGroup(t),await ra.requestTableStatus(t),a.onTableChanged&&ra.onTableChanged(a.onTableChanged),a.onTablesBatchCreated&&ra.onTablesBatchCreated(a.onTablesBatchCreated),a.onTableCategoryChanged&&ra.onTableCategoryChanged(a.onTableCategoryChanged),a.onTableStatusChanged&&ra.onTableStatusChanged(a.onTableStatusChanged),a.onRefreshTableList&&ra.onRefreshTableList(a.onRefreshTableList),a.onError?ra.onError(o=>{a.onError({message:o,code:void 0,details:void 0})}):ra.onError(o=>{N.signalR("error","Sunucu hatası",o)}),n.current=!0,s.current=t,N.signalR("info","Başarıyla başlatıldı",{branchId:t}),!0):(N.signalR("warn","Bağlantısı kurulamadı",{branchId:t}),!1)}catch(o){return N.signalR("error","Başlatma hatası",o),!1}},[e,t,a]);return p.useEffect(()=>(i(),()=>{n.current&&(N.signalR("info","Temizleniyor",{branchId:t}),ra.stopConnection(),n.current=!1,s.current=null)}),[i]),p.useEffect(()=>{ra.isConnected()&&t&&s.current!==t&&(async()=>{try{s.current&&await ra.leaveBranchGroup(s.current),await ra.joinBranchGroup(t),await ra.requestTableStatus(t),s.current=t,N.signalR("info","Branch değiştirildi",{branchId:t})}catch(l){N.signalR("error","Branch değiştirme hatası",{branchId:t,error:l})}})()},[t]),{isConnected:ra.isConnected(),connectionState:ra.getConnectionState(),reconnect:()=>{n.current=!1,s.current=null,i()},requestTableStatus:()=>{t&&ra.requestTableStatus(t)}}},qM=()=>{const[e,t]=p.useState({isOnline:navigator.onLine,isConnecting:!1,lastOnline:null,lastOffline:null});return p.useEffect(()=>{const n=()=>{N.info("🌐 İnternet bağlantısı geri geldi"),t(i=>({...i,isOnline:!0,isConnecting:!1,lastOnline:new Date}))},s=()=>{N.warn("📡 İnternet bağlantısı kesildi"),t(i=>({...i,isOnline:!1,lastOffline:new Date}))};return window.addEventListener("online",n),window.addEventListener("offline",s),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}},[]),{...e,testConnection:async()=>{try{t(l=>({...l,isConnecting:!0}));const n=new AbortController,s=setTimeout(()=>n.abort(),5e3),i=await fetch("http://localhost:7001/api/health",{method:"HEAD",cache:"no-cache",signal:n.signal});clearTimeout(s);const o=i.ok;return o?N.info("✅ Network bağlantısı test edildi - Başarılı"):N.warn("⚠️ Network bağlantısı test edildi - Başarısız"),t(l=>({...l,isOnline:o,isConnecting:!1})),o}catch(n){return N.error("❌ Network bağlantısı test edilirken hata:",n),t(s=>({...s,isOnline:!1,isConnecting:!1})),!1}}}},lw=({variant:e="header",showLabel:t=!1})=>{const{language:a,setLanguage:n,t:s}=qe(),[i,o]=p.useState(!1),l=p.useRef(null),c=a==="ar",u=[{code:"tr",name:s("language.turkish"),flag:"🇹🇷"},{code:"en",name:s("language.english"),flag:"🇺🇸"},{code:"ar",name:s("language.arabic"),flag:"🇸🇦"}],g=u.find(b=>b.code===a);p.useEffect(()=>{const b=y=>{l.current&&!l.current.contains(y.target)&&o(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const h=b=>{n(b),o(!1),setTimeout(()=>{},100)},x=()=>e==="navbar"?"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200":"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200";return r.jsxs("div",{className:"relative",ref:l,children:[r.jsxs("button",{onClick:()=>o(!i),className:`${x()} flex items-center ${c?"space-x-reverse space-x-2":"space-x-2"}`,"aria-label":s("accessibility.language"),title:s("language.selectLanguage"),children:[r.jsx(Yi,{className:"h-5 w-5"}),t&&r.jsx("span",{className:"text-sm font-medium",children:g?.name}),r.jsx(lr,{className:`h-4 w-4 transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&r.jsx("div",{className:`absolute top-full mt-2 ${c?"left-0":"right-0"} z-50 min-w-[180px] bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1`,children:u.map(b=>r.jsxs("button",{onClick:()=>h(b.code),className:`w-full flex items-center ${c?"space-x-reverse space-x-3":"space-x-3"} px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200 ${a===b.code?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400":""}`,children:[r.jsx("span",{className:"text-lg",children:b.flag}),r.jsx("span",{className:"font-medium",children:b.name}),a===b.code&&r.jsx("span",{className:`${c?"mr-auto":"ml-auto"} text-primary-600 dark:text-primary-400`,children:"✓"})]},b.code))})]})},gq=()=>{const e=ya(),[t,a]=p.useState(!1),[n,s]=p.useState(!1),{isDark:i,toggleTheme:o}=mi(),{t:l,isRTL:c}=qe(),{isAuthenticated:u,checkAuth:g,clearAuth:h}=ew(),x=[{id:"home",label:l("nav.home"),href:"#hero"},{id:"features",label:l("nav.features"),href:"#features"},{id:"pricing",label:l("nav.pricing"),href:"#pricing"},{id:"testimonials",label:l("nav.testimonials"),href:"#testimonials"},{id:"faq",label:l("nav.faq"),href:"#faq"},{id:"contact",label:l("nav.contact"),href:"#contact"}],b=TU(x.map(C=>C.id),100);p.useEffect(()=>{g()},[g]),p.useEffect(()=>{const C=()=>{s(window.scrollY>20)};return window.addEventListener("scroll",C),()=>window.removeEventListener("scroll",C)},[]);const y=C=>{const P=document.querySelector(C);P&&P.scrollIntoView({behavior:"smooth"}),a(!1)},k=()=>{const C=localStorage.getItem("token"),P=localStorage.getItem("tokenExpiry");if(C&&P){const E=new Date(P);if(!isNaN(E.getTime())&&E>new Date){e("/selection");return}else localStorage.removeItem("token"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("userId")}e("/login")},v=()=>{e("/register")},j=()=>{e("/selection")},S=()=>{h(),e("/",{replace:!0})};return r.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 w-full transition-all duration-300 ${n?"bg-white/95 dark:bg-gray-900/95 backdrop-blur-md shadow-lg":"bg-transparent"}`,children:r.jsxs("nav",{className:"container-max w-full",dir:c?"rtl":"ltr",children:[r.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:`flex items-center ${c?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(hs,{className:"h-8 w-8 text-primary-600 dark:text-primary-400"}),r.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:l("brand.name")})]}),r.jsx("div",{className:`hidden md:flex items-center ${c?"space-x-reverse space-x-8":"space-x-8"}`,children:(c?[...x].reverse():x).map(C=>r.jsx("button",{onClick:()=>y(C.href),className:`text-sm font-medium transition-colors duration-200 hover:text-primary-600 dark:hover:text-primary-400 ${b===C.id?"text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-300"}`,children:C.label},C.id))}),r.jsxs("div",{className:`flex items-center ${c?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx("div",{className:`hidden md:flex items-center ${c?"space-x-reverse space-x-2":"space-x-2"}`,children:u?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:j,className:`flex items-center px-4 py-2 text-sm font-medium bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-all duration-200 shadow-md hover:shadow-lg ${c?"space-x-reverse space-x-2":"space-x-2"}`,"aria-label":l("nav.goToPanel"),children:[r.jsx(uS,{className:"h-4 w-4"}),r.jsx("span",{children:l("nav.goToPanel")})]}),r.jsxs("button",{onClick:S,className:`flex items-center px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-all duration-200 ${c?"space-x-reverse space-x-2":"space-x-2"}`,"aria-label":l("auth.logout"),children:[r.jsx(nc,{className:"h-4 w-4"}),r.jsx("span",{children:l("nav.logout")})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:k,className:`flex items-center px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-all duration-200 ${c?"space-x-reverse space-x-2":"space-x-2"}`,"aria-label":l("auth.login"),children:[r.jsx(mS,{className:"h-4 w-4"}),r.jsx("span",{children:l("nav.login")})]}),r.jsxs("button",{onClick:v,className:`flex items-center px-4 py-2 text-sm font-medium bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-all duration-200 shadow-md hover:shadow-lg ${c?"space-x-reverse space-x-2":"space-x-2"}`,"aria-label":l("auth.register"),children:[r.jsx(qg,{className:"h-4 w-4"}),r.jsx("span",{children:l("nav.register")})]})]})}),r.jsx(lw,{variant:"header"}),r.jsx("button",{onClick:o,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200","aria-label":l("accessibility.theme"),title:l(i?"theme.toggleToLight":"theme.toggleToDark"),children:i?r.jsx(ym,{className:"h-5 w-5"}):r.jsx(Yk,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>a(!t),className:"md:hidden p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200","aria-label":l("accessibility.menu"),children:t?r.jsx(at,{className:"h-5 w-5"}):r.jsx(iM,{className:"h-5 w-5"})})]})]}),t&&r.jsx("div",{className:"md:hidden bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",dir:c?"rtl":"ltr",children:r.jsxs("div",{className:"px-4 py-2 space-y-1",children:[(c?[...x].reverse():x).map(C=>r.jsx("button",{onClick:()=>y(C.href),className:`block w-full ${c?"text-right":"text-left"} px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 hover:bg-gray-100 dark:hover:bg-gray-800 ${b===C.id?"text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20":"text-gray-700 dark:text-gray-300"}`,children:C.label},C.id)),r.jsx("div",{className:"pt-4 pb-2 border-t border-gray-200 dark:border-gray-700",children:u?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:j,className:`flex items-center w-full px-3 py-2 mt-1 rounded-md text-sm font-medium bg-primary-600 hover:bg-primary-700 text-white transition-colors duration-200 ${c?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(uS,{className:"h-4 w-4"}),r.jsx("span",{children:l("nav.goToPanel")})]}),r.jsxs("button",{onClick:S,className:`flex items-center w-full px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200 ${c?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(nc,{className:"h-4 w-4"}),r.jsx("span",{children:l("auth.logout")})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:k,className:`flex items-center w-full px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200 ${c?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(mS,{className:"h-4 w-4"}),r.jsx("span",{children:l("auth.login")})]}),r.jsxs("button",{onClick:v,className:`flex items-center w-full px-3 py-2 mt-1 rounded-md text-sm font-medium bg-primary-600 hover:bg-primary-700 text-white transition-colors duration-200 ${c?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(qg,{className:"h-4 w-4"}),r.jsx("span",{children:l("auth.register")})]})]})})]})})]})})},hq=()=>r.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-300",children:[r.jsx(gq,{}),r.jsxs("main",{children:[r.jsx(LF,{}),r.jsx(FF,{}),r.jsx(gM,{}),r.jsx(zF,{}),r.jsx(UF,{}),r.jsx(qF,{})]}),r.jsx(WF,{})]}),pq="modulepreload",fq=function(e){return"/"+e},RS={},Lo=function(t,a,n){let s=Promise.resolve();if(a&&a.length>0){let u=function(g){return Promise.all(g.map(h=>Promise.resolve(h).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var o=u;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");s=u(a.map(g=>{if(g=fq(g),g in RS)return;RS[g]=!0;const h=g.endsWith(".css"),x=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${x}`))return;const b=document.createElement("link");if(b.rel=h?"stylesheet":pq,h||(b.as="script"),b.crossOrigin="",b.href=g,c&&b.setAttribute("nonce",c),document.head.appendChild(b),h)return new Promise((y,k)=>{b.addEventListener("load",y),b.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${g}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};async function Ms(e){return(await se.request(e)).data}class xq{async login(t){return Ms({method:"POST",url:"/api/Auth/Login",data:t})}async register(t){const{logger:a}=await Lo(async()=>{const{logger:n}=await Promise.resolve().then(()=>Kd);return{logger:n}},[]);try{a.info("Register isteği gönderiliyor:",{email:t.email});const n=await Ms({method:"POST",url:"/api/Auth/Register",data:t});a.info("Register API yanıtı:",n);const s={success:!0,data:n,message:n.message};return a.info("Register başarılı:",s),s}catch(n){throw a.error("Register hatası:",n),n}}async getSelectionScreenData(){const{logger:t}=await Lo(async()=>{const{logger:a}=await Promise.resolve().then(()=>Kd);return{logger:a}},void 0);try{t.info("getSelectionScreenData çağrılıyor...");const a=await Ms({method:"GET",url:"/api/Auth/GetSelectionScreenData"});if(t.info("getSelectionScreenData API yanıtı:",a),!a)throw new Error("API yanıtı boş");const n=a;if(!n.restaurantId||!n.restaurantName)throw new Error("Restoran bilgileri eksik");const s={success:!0,data:n};return t.info("getSelectionScreenData başarılı:",s),s}catch(a){throw t.error("getSelectionScreenData hatası:",a),a}}async getUserProfile(){const{logger:t}=await Lo(async()=>{const{logger:a}=await Promise.resolve().then(()=>Kd);return{logger:a}},void 0);try{t.info("getUserProfile çağrılıyor...");const a=localStorage.getItem("token");if(!a)throw new Error("Token bulunamadı");const n=jm(a);if(!n)throw new Error("Token geçersiz");let s=null;try{s=await Ms({method:"GET",url:"/api/Users/profile"})}catch(o){o?.response?.status===404?t.info("Profile endpoint mevcut değil, JWT kullanılacak"):t.warn("/api/Users/profile isteği başarısız, JWT'ye düşülecek:",o)}if(s){let o;if(s.appUser&&s.appRoles)o=s;else if(s.data?.appUser&&s.data?.appRoles)o=s.data;else if(s.success!==void 0&&s.data)o=s.data;else if(s.id&&s.email&&s.roles&&s.permissions)o={appUser:{appUserId:s.id,name:s.name,surname:s.surname,userName:s.userName,email:s.email,restaurantId:s.restaurantId,restaurant:{restaurantId:s.restaurantId,restaurantName:s.restaurantName,restaurantLogoPath:"",restaurantStatus:!0},branchId:s.branchId,branch:null,profileImage:s.profileImage,isActive:s.isActive,createdDate:s.createdDate,modifiedDate:s.modifiedDate},appRoles:s.roles.map((l,c)=>({appRoleId:`api-role-${c}`,name:l,description:l,restaurantId:s.restaurantId,branchId:s.branchId,category:l.includes("Branch")?"Branch":"Restaurant",isSystemRole:!0,createdDate:s.createdDate,modifiedDate:null,permissions:s.permissions.map((u,g)=>({permissionId:g,name:u,description:u,category:l.includes("Branch")?"Branch":"Restaurant"}))}))};else throw t.warn("Bilinmeyen API yanıt formatı:",s),new Error("API yanıt formatı tanınmıyor");if(!o.appUser)throw new Error("Kullanıcı bilgileri eksik");return o.appUser.restaurant?.restaurantName&&localStorage.setItem("restaurantName",o.appUser.restaurant.restaurantName),t.info("getUserProfile başarılı (API):",o),{success:!0,data:o}}return t.info("JWT içerisinden kullanıcı profili oluşturuluyor"),{success:!0,data:{appUser:{appUserId:n.user_id||n.sub||"",name:n.name||n.given_name||"",surname:n.surname||n.family_name||"",userName:n.unique_name||n.username||"",email:n.email||"",restaurantId:n.restaurant_id||0,restaurant:{restaurantId:n.restaurant_id||0,restaurantName:n.restaurant_name||"",restaurantLogoPath:n.restaurant_logo_path||"",restaurantStatus:n.restaurant_status??!0},branchId:n.branch_id||null,branch:null,profileImage:n.profile_image||"",isActive:n.is_active??!0,createdDate:n.created_at||"",modifiedDate:n.modified_at||null},appRoles:Array.isArray(n.roles)?n.roles.map((o,l)=>({appRoleId:`jwt-role-${l}`,name:o,description:o,restaurantId:n.restaurant_id||null,branchId:n.branch_id||null,category:"JWT",isSystemRole:!1,createdDate:"",modifiedDate:null,permissions:Array.isArray(n.permissions)?n.permissions.map((c,u)=>({permissionId:u,name:c,description:c,category:o.includes("Branch")?"Branch":"Restaurant"})):[]})):[]}}}catch(a){throw t.error("getUserProfile hatası:",a),a}}async changePassword(t){try{return await Ms({method:"POST",url:"/api/Auth/ChangePassword",data:t})}catch(a){throw a}}async changeEmail(t){try{return await Ms({method:"POST",url:"/api/Auth/ChangeEmail",data:t})}catch(a){throw a}}async forgotPassword(t){try{return await Ms({method:"POST",url:"/api/Auth/ForgotPassword",data:{email:t}})}catch(a){throw a}}logout(){localStorage.removeItem("token"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("userId")}}const Ko=new xq,yq=()=>{const e=ya(),{t,isRTL:a}=qe(),{isOnline:n,testConnection:s}=qM(),[i,o]=p.useState({email:"",password:"",rememberMe:!1}),[l,c]=p.useState({}),[u,g]=p.useState(!1),[h,x]=p.useState(!1);p.useEffect(()=>{const v=localStorage.getItem("token"),j=localStorage.getItem("tokenExpiry");v&&(j&&new Date(j)>new Date?e("/selection"):(localStorage.removeItem("token"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("userId")))},[e]);const b=v=>{const{name:j,value:S,type:C,checked:P}=v.target;o(E=>({...E,[j]:C==="checkbox"?P:S})),l[j]&&c(E=>({...E,[j]:void 0}))},y=()=>{const v={};return i.email?.trim()?/\S+@\S+\.\S+/.test(i.email)||(v.email=t("pages.login.errors.emailInvalid")):v.email=t("pages.login.errors.emailRequired"),i.password?.trim()||(v.password=t("pages.login.errors.passwordRequired")),c(v),Object.keys(v).length===0},k=async v=>{if(v.preventDefault(),N.info("Form submitted"),!y()){N.warn("Form validation failed");return}if(x(!0),c({}),!n&&(N.warn("Network bağlantısı yok, bağlantı test ediliyor..."),!await s())){c({general:"İnternet bağlantınız kesilmiş. Lütfen bağlantınızı kontrol edin."}),x(!1);return}try{N.info("Sending login request with data",{formData:i});const j=await Ko.login(i);if(N.info("Login response received",{response:j}),j.accessToken){const S=j.accessToken.split("."),P=JSON.parse(atob(S[1])).user_id;if(N.info("Login successful, saving token and redirecting"),localStorage.setItem("token",j.accessToken),localStorage.setItem("userId",P),localStorage.setItem("tokenExpiry",j.expiresAt),localStorage.getItem("onboarding_userId")){N.info("Onboarding süreci devam ediyor, restaurant onboarding sayfasına yönlendiriliyor"),e("/onboarding/restaurant");return}if(Hg()){N.info("Branch-only user detected, redirecting to dashboard"),e("/dashboard");return}e("/selection")}else throw N.error("Invalid login response - no access token"),new Error("Geçersiz giriş yanıtı")}catch(j){NU(j,"Login error");const S=jU(j);if(c({general:S}),x(!1),j.message==="Sunucudan geçersiz yanıt alındı"&&j.response?.status===200)try{N.info("Trying to parse successful response with error",{data:j.response?.data});const C=j.response?.data?.accessToken;if(C){const P=C.split("."),A=JSON.parse(atob(P[1])).user_id;if(N.info("Found access token in error response, saving and redirecting"),localStorage.setItem("token",C),localStorage.setItem("userId",A),localStorage.setItem("tokenExpiry",j.response.data.expiresAt),localStorage.getItem("onboarding_userId")){N.info("Onboarding süreci devam ediyor, restaurant onboarding sayfasına yönlendiriliyor"),e("/onboarding/restaurant");return}if(Hg()){N.info("Branch-only user detected, redirecting to dashboard"),e("/dashboard");return}e("/selection");return}}catch(C){N.error("Response parsing error",C)}if(j.status===400)if(j.errors){const C={};Object.entries(j.errors).forEach(([P,E])=>{C[P]=Array.isArray(E)?E[0]:E}),c(C)}else c({general:j.message||t("pages.login.errors.generalError")});else j.status===401?c({general:t("pages.login.errors.invalidCredentials")}):c({general:j.message||t("pages.login.errors.generalError")})}finally{x(!1)}};return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx(re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"mb-8",children:r.jsxs(us,{to:"/",className:`inline-flex items-center space-x-2 ${a?"space-x-reverse":""} text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200`,children:[r.jsx(Bs,{className:`h-4 w-4 ${a?"rotate-180":""}`}),r.jsx("span",{children:t("pages.login.backToHome")})]})}),r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:`text-center mb-8 ${a?"text-right":""}`,children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:t("pages.login.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t("pages.login.subtitle")})]}),r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[l.general&&r.jsx(re.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 rounded-lg bg-red-50 dark:bg-red-900/20 p-4 border border-red-200 dark:border-red-800",children:r.jsxs("div",{className:`flex ${a?"space-x-reverse":""}`,children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(lt,{className:"h-5 w-5 text-red-400"})}),r.jsxs("div",{className:`${a?"mr-3":"ml-3"}`,children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-400",children:t("common.error")}),r.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:l.general})]})]})}),r.jsxs("form",{className:"space-y-6",onSubmit:k,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("pages.login.email")}),r.jsxs("div",{className:"relative",children:[r.jsx(Ws,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:i.email,onChange:b,className:`w-full ${a?"pr-10 pl-2":"pl-12 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 ${l.email?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:t("pages.register.placeholders.email")})]}),l.email&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.email})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("pages.login.password")}),r.jsxs("div",{className:"relative",children:[r.jsx(Hl,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{id:"password",name:"password",type:u?"text":"password",autoComplete:"current-password",value:i.password,onChange:b,className:`w-full ${a?"pr-10 pl-2":"pl-12 pr-12"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 ${l.password?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:t("pages.register.placeholders.password")}),r.jsx("button",{type:"button",onClick:()=>g(!u),className:`absolute ${a?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`,children:u?r.jsx(Wo,{className:"h-5 w-5"}):r.jsx(cn,{className:"h-5 w-5"})})]}),l.password&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.password})]}),r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${a?"space-x-reverse":""} space-x-2`,children:[r.jsx("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",checked:i.rememberMe,onChange:b,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600 rounded"}),r.jsx("label",{htmlFor:"rememberMe",className:`${a?"mr-2":"ml-2"} block text-sm text-gray-700 dark:text-gray-300`,children:t("pages.login.rememberMe")})]}),r.jsx("div",{className:"text-sm",children:r.jsx(us,{to:"/forgotpassword",className:"font-medium text-primary-600 dark:text-primary-400 hover:underline",children:t("pages.login.forgotPassword")})})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:h,onClick:v=>{N.info("Login button clicked"),h||k(v)},className:`w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg text-white text-sm font-medium ${h?"bg-primary-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700"} transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500`,children:h?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:`animate-spin ${a?"ml-3 -mr-1":"-ml-1 mr-3"} h-5 w-5 text-white`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t("pages.login.signingIn")]}):t("pages.login.signIn")})}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t("pages.login.noAccount")," ",r.jsx(us,{to:"/register",className:"font-medium text-primary-600 dark:text-primary-400 hover:underline",children:t("pages.login.registerNow")})]})})]})]})]})})},bq=()=>{const e=ya(),{t,isRTL:a}=qe(),[n,s]=p.useState({name:"",surName:"",email:"",password:"",passwordConfirm:"",phoneNumber:"",profileImagePath:" ",termsofUserService:!1}),[i,o]=p.useState({}),[l,c]=p.useState(!1),[u,g]=p.useState(!1),[h,x]=p.useState(!1),b=p.useCallback(A=>{const{name:I,value:M,type:F,checked:Q}=A.target;s(U=>({...U,[I]:F==="checkbox"?Q:M})),i[I]&&o(U=>({...U,[I]:void 0}))},[i]),y=()=>{const A={};if(n.name?.trim()?n.name.trim().length<2&&(A.name=t("pages.register.validation.nameMin")):A.name=t("pages.register.validation.nameRequired"),n.surName?.trim()?n.surName.trim().length<2&&(A.surName=t("pages.register.validation.surnameMin")):A.surName=t("pages.register.validation.surnameRequired"),n.email?.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email.trim())||(A.email=t("pages.register.validation.emailInvalid")):A.email=t("pages.register.validation.emailRequired"),n.password?.trim()?n.password.length<8?A.password=t("pages.register.validation.passwordMin"):/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(n.password)||(A.password=t("pages.register.validation.passwordPattern")):A.password=t("pages.register.validation.passwordRequired"),n.passwordConfirm?.trim()?n.password!==n.passwordConfirm&&(A.passwordConfirm=t("pages.register.validation.passwordMismatch")):A.passwordConfirm=t("pages.register.validation.passwordConfirmRequired"),!n.phoneNumber?.trim())A.phoneNumber=t("pages.register.validation.phoneRequired");else{const I=/^(\+90|0)?[5-9][0-9]{9}$/,M=n.phoneNumber.replace(/[\s\-\(\)]/g,"");I.test(M)||(A.phoneNumber=t("pages.register.validation.phoneInvalid"))}return n.termsofUserService||(A.termsofUserService=t("pages.register.validation.termsRequired")),o(A),Object.keys(A).length===0},k=async A=>{if(A.preventDefault(),!!y()){x(!0),o({});try{const I={...n,phoneNumber:n.phoneNumber.replace(/[\s\-\(\)]/g,""),name:n.name.trim(),surName:n.surName.trim(),email:n.email.trim().toLowerCase(),profileImagePath:" "},M=await Ko.register(I);if(!M?.success||!M.data?.userId)throw new Error("Sunucudan geçersiz yanıt alındı");localStorage.setItem("onboarding_userId",M.data.userId),localStorage.setItem("userId",M.data.userId),e("/onboarding/restaurant",{state:{message:t("pages.register.success.message"),userId:M.data.userId}})}catch(I){const{logger:M}=await Lo(async()=>{const{logger:F}=await Promise.resolve().then(()=>Kd);return{logger:F}},void 0);if(M.error("Register error:",I),I.status===400){const F={};I.errors?(Object.entries(I.errors).forEach(([Q,U])=>{Q!=="profileImagePath"&&Q!=="ProfileImagePath"&&(F[Q]=Array.isArray(U)?U[0]:U)}),Object.keys(F).length>0?o(F):o({general:I.message||t("pages.register.errors.validation")})):o({general:I.message||t("pages.register.errors.validation")})}else I.status===409?o({email:t("pages.register.validation.emailExists")}):I.status===422?o({general:t("pages.register.errors.invalidData")}):o({general:I.message||t("pages.register.errors.general")})}finally{x(!1)}}},v=A=>{const M=A.replace(/\D/g,"").match(/^(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})$/);if(!M)return A;let F="";return M[1]&&(F+=M[1]),M[2]&&(F+=M[2]),M[3]&&(F+=` ${M[3]}`),M[4]&&(F+=` ${M[4]}`),M[5]&&(F+=` ${M[5]}`),F},j=p.useCallback(A=>{const{value:I}=A.target,M=v(I);s(F=>({...F,phoneNumber:M})),i.phoneNumber&&o(F=>({...F,phoneNumber:void 0}))},[i.phoneNumber]),S=A=>{let I=0;A.length>=8&&I++,/[a-z]/.test(A)&&I++,/[A-Z]/.test(A)&&I++,/\d/.test(A)&&I++,/[^a-zA-Z\d]/.test(A)&&I++;const M=[{text:t("pages.register.passwordStrength.veryWeak"),color:"text-red-500"},{text:t("pages.register.passwordStrength.weak"),color:"text-red-400"},{text:t("pages.register.passwordStrength.medium"),color:"text-yellow-500"},{text:t("pages.register.passwordStrength.good"),color:"text-blue-500"},{text:t("pages.register.passwordStrength.strong"),color:"text-green-500"}];return{score:I,...M[Math.min(I,4)]}},[C,P]=p.useState({}),E=p.useCallback(A=>{P(I=>({...I,[A]:!0}))},[]);return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx(re.div,{initial:{opacity:0,x:a?20:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"mb-8",children:r.jsxs(us,{to:"/",className:`inline-flex items-center space-x-2 ${a?"space-x-reverse":""} text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200`,children:[r.jsx(Bs,{className:`h-4 w-4 ${a?"rotate-180":""}`}),r.jsx("span",{children:t("pages.register.backToHome")})]})}),r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:`text-center mb-8 ${a?"text-right":""}`,children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:t("pages.register.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t("pages.register.subtitle")})]}),r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[i.general&&r.jsx(re.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 rounded-lg bg-red-50 dark:bg-red-900/20 p-4 border border-red-200 dark:border-red-800",children:r.jsxs("div",{className:`flex ${a?"space-x-reverse":""}`,children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(lt,{className:"h-5 w-5 text-red-400"})}),r.jsxs("div",{className:`${a?"mr-3":"ml-3"}`,children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-400",children:t("common.error")}),r.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:i.general})]})]})}),r.jsxs("form",{className:"space-y-6",onSubmit:k,children:[r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("pages.register.firstName")}),r.jsxs("div",{className:"relative",children:[r.jsx(ln,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"given-name",value:n.name,onChange:b,onBlur:()=>E("name"),className:`w-full ${a?"pr-10 pl-2":"pl-12 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 ${i.name?"border-red-500 dark:border-red-500":C.name&&n.name.trim()?"border-green-500 dark:border-green-400":"border-gray-300 dark:border-gray-600"}`,placeholder:t("pages.register.placeholders.firstName")})]}),i.name&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.name})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"surName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("pages.register.lastName")}),r.jsxs("div",{className:"relative",children:[r.jsx(ln,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{id:"surName",name:"surName",type:"text",autoComplete:"family-name",value:n.surName,onChange:b,onBlur:()=>E("surName"),className:`w-full ${a?"pr-10 pl-2":"pl-12 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 ${i.surName?"border-red-500 dark:border-red-500":C.surName&&n.surName.trim()?"border-green-500 dark:border-green-400":"border-gray-300 dark:border-gray-600"}`,placeholder:t("pages.register.placeholders.lastName")})]}),i.surName&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.surName})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("pages.register.email")}),r.jsxs("div",{className:"relative",children:[r.jsx(Ws,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:n.email,onChange:b,onBlur:()=>E("email"),className:`w-full ${a?"pr-10 pl-2":"pl-12 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 ${i.email?"border-red-500 dark:border-red-500":C.email&&n.email.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email.trim())?"border-green-500 dark:border-green-400":"border-gray-300 dark:border-gray-600"}`,placeholder:t("pages.register.placeholders.email")})]}),i.email&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.email})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("pages.register.phone")}),r.jsxs("div",{className:"relative",children:[r.jsx(Gr,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{id:"phoneNumber",name:"phoneNumber",type:"tel",autoComplete:"tel",value:n.phoneNumber,onChange:j,onBlur:()=>E("phoneNumber"),className:`w-full ${a?"pr-10 pl-2":"pl-12 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 ${i.phoneNumber?"border-red-500 dark:border-red-500":C.phoneNumber&&n.phoneNumber.trim()&&/^(\+90|0)?[5-9][0-9\s]{9,}$/.test(n.phoneNumber.replace(/\s/g,""))?"border-green-500 dark:border-green-400":"border-gray-300 dark:border-gray-600"}`,placeholder:t("pages.register.placeholders.phone")})]}),i.phoneNumber&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.phoneNumber})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("pages.register.password")}),r.jsxs("div",{className:"relative",children:[r.jsx(Hl,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:"new-password",value:n.password,onChange:b,onBlur:()=>E("password"),className:`w-full ${a?"pr-10 pl-2":"pl-12 pr-12"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 ${i.password?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:t("pages.register.placeholders.password")}),r.jsx("button",{type:"button",onClick:()=>c(!l),className:`absolute ${a?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`,children:l?r.jsx(Wo,{className:"h-5 w-5"}):r.jsx(cn,{className:"h-5 w-5"})})]}),n.password&&C.password&&r.jsx("div",{className:"mt-2",children:(()=>{const A=S(n.password);return r.jsxs("div",{className:`flex items-center space-x-2 ${a?"space-x-reverse":""}`,children:[r.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${A.score<=1?"bg-red-500":A.score<=2?"bg-yellow-500":A.score<=3?"bg-blue-500":"bg-green-500"} ${a?"ml-auto":""}`,style:{width:`${A.score/5*100}%`}})}),r.jsx("span",{className:`text-xs font-medium ${A.color}`,children:A.text})]})})()}),i.password&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.password})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"passwordConfirm",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("pages.register.confirmPassword")}),r.jsxs("div",{className:"relative",children:[r.jsx(Hl,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{id:"passwordConfirm",name:"passwordConfirm",type:u?"text":"password",autoComplete:"new-password",value:n.passwordConfirm,onChange:b,className:`w-full ${a?"pr-10 pl-2":"pl-12 pr-12"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 ${i.passwordConfirm?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:t("pages.register.placeholders.confirmPassword")}),r.jsx("button",{type:"button",onClick:()=>g(!u),className:`absolute ${a?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`,children:u?r.jsx(Wo,{className:"h-5 w-5"}):r.jsx(cn,{className:"h-5 w-5"})})]}),i.passwordConfirm&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.passwordConfirm})]}),r.jsxs("div",{className:`flex items-center ${a?"space-x-reverse":""}`,children:[r.jsx("input",{id:"termsofUserService",name:"termsofUserService",type:"checkbox",checked:n.termsofUserService,onChange:b,className:`h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600 rounded ${i.termsofUserService?"border-red-500":""}`}),r.jsxs("label",{htmlFor:"termsofUserService",className:`${a?"mr-2":"ml-2"} block text-sm text-gray-700 dark:text-gray-300`,children:[r.jsx(us,{to:"/terms",className:"text-primary-600 dark:text-primary-400 hover:underline",children:t("pages.register.terms.service")})," ",t("pages.register.terms.and")," ",r.jsx(us,{to:"/privacy",className:"text-primary-600 dark:text-primary-400 hover:underline",children:t("pages.register.terms.privacy")})," ",t("pages.register.terms.accept")]})]}),i.termsofUserService&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.termsofUserService}),r.jsxs("div",{children:[r.jsx(re.button,{type:"submit",disabled:h,whileHover:h?{}:{scale:1.02},whileTap:h?{}:{scale:.98},className:`w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg text-white text-sm font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${h?"bg-primary-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700 hover:shadow-lg"}`,children:h?r.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center",children:[r.jsxs("svg",{className:`animate-spin ${a?"ml-3 -mr-1":"-ml-1 mr-3"} h-5 w-5 text-white`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t("pages.register.creating")]}):t("pages.register.createAccount")}),r.jsx("div",{className:"mt-4 text-center",children:r.jsx("div",{className:`flex items-center justify-center space-x-2 ${a?"space-x-reverse":""} text-xs text-gray-500 dark:text-gray-400`,children:(()=>{const M=[n.name.trim(),n.surName.trim(),n.email.trim(),n.phoneNumber.trim(),n.password.trim(),n.passwordConfirm.trim(),n.termsofUserService].filter(Boolean).length/7*100;return r.jsxs(r.Fragment,{children:[r.jsxs("span",{children:[t("pages.register.formProgress"),":"]}),r.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-1",children:r.jsx("div",{className:`bg-primary-600 h-1 rounded-full transition-all duration-300 ${a?"ml-auto":""}`,style:{width:`${M}%`}})}),r.jsxs("span",{children:[Math.round(M),"%"]})]})})()})})]}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t("pages.register.haveAccount")," ",r.jsx(us,{to:"/login",className:"font-medium text-primary-600 dark:text-primary-400 hover:underline",children:t("pages.register.signInNow")})]})})]})]})]})})},vq=()=>{const{t:e,isRTL:t}=qe(),[a,n]=p.useState({email:""}),[s,i]=p.useState({}),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[g,h]=p.useState(0),[x,b]=p.useState(!0);p.useEffect(()=>{let S;return g>0&&(S=window.setInterval(()=>{h(C=>C<=1?(b(!0),0):C-1)},1e3)),()=>{S&&clearInterval(S)}},[g]);const y=S=>{const{name:C,value:P}=S.target;n(E=>({...E,[C]:P})),s[C]&&i(E=>({...E,[C]:void 0}))},k=()=>{const S={};return a.email?.trim()?/\S+@\S+\.\S+/.test(a.email)||(S.email=e("pages.forgotPassword.errors.emailInvalid")):S.email=e("pages.forgotPassword.errors.emailRequired"),i(S),Object.keys(S).length===0},v=async S=>{if(S.preventDefault(),N.info("Forgot password form submitted"),!k()){N.warn("Form validation failed");return}l(!0),i({});try{const C=await Ko.forgotPassword(a.email);N.info("Password reset email sent successfully"),u(!0),b(!1),h(60)}catch(C){N.error("Error sending password reset email:",C),C.status===404?i({email:e("pages.forgotPassword.errors.emailNotFound")}):i({general:C.message||e("pages.forgotPassword.errors.general")})}finally{l(!1)}},j=async()=>{if(!(!x||g>0)){l(!0),i({});try{const S=await Ko.forgotPassword(a.email);N.info("Password reset email resent successfully"),b(!1),h(60)}catch(S){N.error("Error resending password reset email:",S),i({general:S.message||e("pages.forgotPassword.errors.general")})}finally{l(!1)}}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsx(re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:`mb-6 ${t?"text-right":"text-left"}`,children:r.jsxs(us,{to:"/login",className:`inline-flex items-center text-sm font-medium text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors duration-200 ${t?"flex-row-reverse":""}`,children:[r.jsx(Bs,{className:`h-4 w-4 ${t?"ml-2":"mr-2"}`}),e("pages.forgotPassword.backToLogin")]})}),r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:`text-center mb-8 ${t?"text-right":""}`,children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:e("pages.forgotPassword.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("pages.forgotPassword.subtitle")})]}),c&&r.jsx(re.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 rounded-lg bg-green-50 dark:bg-green-900/20 p-4 border border-green-200 dark:border-green-800",children:r.jsxs("div",{className:`flex ${t?"space-x-reverse":""}`,children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(xt,{className:"h-5 w-5 text-green-400"})}),r.jsxs("div",{className:`${t?"mr-3":"ml-3"}`,children:[r.jsx("h3",{className:"text-sm font-medium text-green-800 dark:text-green-400",children:e("pages.forgotPassword.success.title")}),r.jsx("div",{className:"mt-2 text-sm text-green-700 dark:text-green-300",children:e("pages.forgotPassword.success.message")})]})]})}),r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[s.general&&r.jsx(re.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 rounded-lg bg-red-50 dark:bg-red-900/20 p-4 border border-red-200 dark:border-red-800",children:r.jsxs("div",{className:`flex ${t?"space-x-reverse":""}`,children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(lt,{className:"h-5 w-5 text-red-400"})}),r.jsxs("div",{className:`${t?"mr-3":"ml-3"}`,children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-400",children:e("common.error")}),r.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:s.general})]})]})}),r.jsxs("form",{className:"space-y-6",onSubmit:v,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("pages.forgotPassword.email")}),r.jsxs("div",{className:"relative",children:[r.jsx(Ws,{className:`absolute ${t?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:a.email,onChange:y,disabled:o,className:`w-full ${t?"pr-10 pl-2":"pl-12 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 ${s.email?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"} ${o?"opacity-50 cursor-not-allowed":""}`,placeholder:e("pages.forgotPassword.placeholders.email")})]}),s.email&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.email})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("button",{type:"submit",disabled:o,className:`w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg text-white text-sm font-medium ${o?"bg-primary-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700"} transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500`,children:o?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:`animate-spin ${t?"ml-3 -mr-1":"-ml-1 mr-3"} h-5 w-5 text-white`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e("pages.forgotPassword.sending")]}):e("pages.forgotPassword.sendResetLink")}),c&&r.jsx("div",{className:"text-center",children:r.jsx("button",{type:"button",onClick:j,disabled:!x||g>0||o,className:`text-sm font-medium transition-colors duration-200 ${x&&g===0&&!o?"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300":"text-gray-400 dark:text-gray-500 cursor-not-allowed"}`,children:g>0?`${g} ${e("pages.forgotPassword.countdown")}`:e("pages.forgotPassword.resendCode")})})]})]})]})]})})};var WM=(e=>(e[e.Turkish=0]="Turkish",e[e.Italian=1]="Italian",e[e.Chinese=2]="Chinese",e[e.Japanese=3]="Japanese",e[e.Mexican=4]="Mexican",e[e.Indian=5]="Indian",e[e.French=6]="French",e[e.American=7]="American",e[e.Mediterranean=8]="Mediterranean",e[e.Thai=9]="Thai",e[e.Korean=10]="Korean",e[e.Vietnamese=11]="Vietnamese",e[e.Greek=12]="Greek",e[e.Spanish=13]="Spanish",e[e.Lebanese=14]="Lebanese",e[e.Brazilian=15]="Brazilian",e[e.German=16]="German",e[e.Russian=17]="Russian",e[e.British=18]="British",e[e.Ethiopian=19]="Ethiopian",e[e.Moroccan=20]="Moroccan",e[e.Argentinian=21]="Argentinian",e[e.Peruvian=22]="Peruvian",e[e.Caribbean=23]="Caribbean",e[e.Fusion=24]="Fusion",e[e.Vegan=25]="Vegan",e[e.Seafood=26]="Seafood",e[e.Steakhouse=27]="Steakhouse",e[e.FastFood=28]="FastFood",e))(WM||{});const Tl=(e,t="string")=>e?e.toLowerCase()===t?"":e:"";class kq{baseUrl="/api/Restaurants";async getRestaurants(){try{N.info("Tüm restoranlar getiriliyor...");const t=await se.get(this.baseUrl);return N.info("Restoranlar alındı:",t.data),t.data.map(n=>({...n,restaurantName:Tl(n.restaurantName),restaurantLogoPath:Tl(n.restaurantLogoPath)}))}catch(t){throw N.error("Restoranlar alınırken hata oluştu:",t),t}}async createRestaurant(t){try{N.info("Restaurant oluşturma isteği gönderiliyor:",t);const{userId:a,...n}=t,s={...n,creatorUserId:a};N.info("API'ye gönderilen düzenlenmiş veri:",s);const i=await se.post(`${this.baseUrl}`,s);return N.info("Restaurant API Response:",i.data),i.data}catch(a){throw N.error("Restaurant oluşturma hatası:",a),a}}async getRestaurantByUserId(t){try{return(await se.get(`/api/Restaurants/user/${t}`)).data.data||null}catch(a){if(a.status===404)return null;throw a}}async getRestaurantBranchesDropdown(){try{return(await se.get(`${this.baseUrl}/branches/dropdown`)).data.map(n=>({id:n.branchId,name:n.branchName,type:"branch",isActive:n.branchStatus,branchTag:n.branchTag}))}catch(t){throw N.error("❌ Restaurant ve şube listesi alınırken hata oluştu:",t),t}}async getRestaurantManagementInfo(){try{N.info("Restaurant yönetim bilgileri alınıyor...");const{getRestaurantIdFromToken:t}=await Lo(async()=>{const{getRestaurantIdFromToken:o}=await Promise.resolve().then(()=>AS);return{getRestaurantIdFromToken:o}},void 0),a=t(),n=a?`${this.baseUrl}/management-info?restaurantId=${a}`:`${this.baseUrl}/management-info`,s=await se.get(n);N.info("Restaurant yönetim bilgileri alındı:",s.data);let i=s.data;if(!i.restaurantName||i.restaurantName.toLowerCase()==="string"){const o=localStorage.getItem("restaurantName");if(o&&o.toLowerCase()!=="string")i={...i,restaurantName:o};else{const l=localStorage.getItem("token");if(l){const{decodeToken:c}=await Lo(async()=>{const{decodeToken:h}=await Promise.resolve().then(()=>AS);return{decodeToken:h}},void 0),g=c(l)?.restaurant_name;g&&g.toLowerCase()!=="string"&&(i={...i,restaurantName:g})}}}if(i.restaurantLogoPath&&Tl(i.restaurantLogoPath)===""){const o=localStorage.getItem("restaurantLogoPath");o&&o.toLowerCase()!=="string"?i={...i,restaurantLogoPath:o}:i={...i,restaurantLogoPath:""}}return i={...i,restaurantName:Tl(i.restaurantName)},i}catch(t){if(t?.response?.status===404)return N.warn("Restaurant yönetim bilgileri endpoint 404 döndü. Varsayılan boş değer kullanılacak."),null;throw N.error("Restaurant yönetim bilgileri alınırken hata oluştu:",t),t}}async updateRestaurantManagementInfo(t){try{N.info("Restaurant yönetim bilgileri güncelleniyor...",t);const a={updateRestaurantDto:{restaurantId:t.restaurantId||0,restaurantName:t.restaurantName||null,restaurantLogoPath:t.restaurantLogoPath||null,cuisineType:t.cuisineTypeId||void 0,hasAlcoholService:t.hasAlcoholService||null,companyTitle:t.companyTitle||null,taxNumber:t.taxNumber||null,taxOffice:t.taxOffice||null,mersisNumber:t.mersisNumber||null,tradeRegistryNumber:t.tradeRegistryNumber||null,legalType:t.legalType||null,workPermitFilePath:t.workPermitFilePath||null,foodCertificateFilePath:t.foodCertificateFilePath||null,restaurantStatus:t.restaurantStatus||null,restaurantDateModified:new Date().toISOString()},updateAboutDto:{about:t.about||null}};N.info("API'ye gönderilen format:",a);const n=await se.put(`${this.baseUrl}/management-info`,a);return N.info("Restaurant yönetim bilgileri güncellendi:",n.data),n.data}catch(a){throw N.error("Restaurant yönetim bilgileri güncellenirken hata oluştu:",a),a}}async updateRestaurant(t,a){return(await se.put(`/api/Restaurants/${t}`,a)).data.data}async deleteRestaurant(t){try{N.info("Restaurant silme isteği gönderiliyor:",t),await se.delete(`/api/Restaurants/${t}`),N.info("Restaurant başarıyla silindi:",t)}catch(a){throw N.error("Restaurant silinirken hata oluştu:",a),a}}async getDeletedRestaurants(){try{N.info("Silinmiş restaurantlar getiriliyor...");const t=await se.get(`${this.baseUrl}/deleted`);return N.info("Silinmiş restaurantlar alındı:",t.data),t.data}catch(t){throw N.error("Silinmiş restaurantlar alınırken hata oluştu:",t),t}}async restoreRestaurant(t){try{N.info("Restaurant restore isteği gönderiliyor:",t),await se.post(`${this.baseUrl}/${t}/restore`),N.info("Restaurant başarıyla restore edildi:",t)}catch(a){throw N.error("Restaurant restore edilirken hata oluştu:",a),a}}async createAbout(t){try{N.info("About oluşturma isteği gönderiliyor:",t);const a=await se.post("/api/About",t);return N.info("About oluşturma yanıtı:",a.data),a.data}catch(a){throw N.error("About oluşturma hatası:",a),a}}async getAbout(t){try{N.info("About bilgileri alınıyor...",t);const a=await se.get(`/api/About?restaurantId=${t}`);return N.info("About bilgileri alındı:",a.data),a.data}catch(a){if(a?.response?.status===404)return N.info("About bilgisi bulunamadı (404)"),null;throw N.error("About bilgileri alınırken hata:",a),a}}async updateAbout(t){try{N.info("About güncelleme isteği gönderiliyor:",t);const a=await se.put("/api/About",t);return N.info("About güncelleme yanıtı:",a.data),a.data}catch(a){throw N.error("About güncelleme hatası:",a),a}}}const sn=new kq,wq=()=>{const e=ya(),t=ys(),[a,n]=p.useState(1),[s,i]=p.useState(!1),[o,l]=p.useState({}),[c,u]=p.useState(""),[g,h]=p.useState(""),[x,b]=p.useState(""),[y,k]=p.useState(!1),[v,j]=p.useState(!1),[S,C]=p.useState(!1),[P,E]=p.useState({logo:0,workPermit:0,foodCertificate:0}),[A,I]=p.useState({restaurantName:"",restaurantLogoPath:"",isActive:!0,cuisineType:WM.Turkish,hasAlcoholService:!1,companyTitle:"",taxNumber:"",taxOffice:"",mersisNumber:"",tradeRegistryNumber:"",legalType:"",workPermitFilePath:"",foodCertificateFilePath:"",userId:""});p.useEffect(()=>{const W=localStorage.getItem("onboarding_userId");if(!W){N.error("UserId bulunamadı!"),u("Oturum bilgisi bulunamadı. Lütfen tekrar giriş yapın."),setTimeout(()=>{e("/register")},2e3);return}b(W),I(X=>({...X,userId:W})),N.info("UserId yüklendi",{storedUserId:W})},[e]);const M=[{value:0,label:"Türk Mutfağı"},{value:1,label:"İtalyan Mutfağı"},{value:2,label:"Çin Mutfağı"},{value:3,label:"Japon Mutfağı"},{value:4,label:"Meksika Mutfağı"},{value:5,label:"Hint Mutfağı"},{value:6,label:"Fransız Mutfağı"},{value:7,label:"Amerikan Mutfağı"},{value:8,label:"Akdeniz Mutfağı"},{value:9,label:"Tayland Mutfağı"},{value:10,label:"Kore Mutfağı"},{value:11,label:"Vietnam Mutfağı"},{value:12,label:"Yunan Mutfağı"},{value:13,label:"İspanyol Mutfağı"},{value:14,label:"Lübnan Mutfağı"},{value:15,label:"Brezilya Mutfağı"},{value:16,label:"Alman Mutfağı"},{value:17,label:"Rus Mutfağı"},{value:18,label:"İngiliz Mutfağı"},{value:19,label:"Etiyopya Mutfağı"},{value:20,label:"Fas Mutfağı"},{value:21,label:"Arjantin Mutfağı"},{value:22,label:"Peru Mutfağı"},{value:23,label:"Karayip Mutfağı"},{value:24,label:"Fusion Mutfağı"},{value:25,label:"Vegan Mutfağı"},{value:26,label:"Deniz Ürünleri"},{value:27,label:"Et Restoranı"},{value:28,label:"Fast Food"}],F=["Anonim Şirket (A.Ş.)","Limited Şirket (Ltd. Şti.)","Kollektif Şirket","Komandit Şirket","Şahıs İşletmesi","Diğer"],Q=W=>{const{name:X,value:B,type:H}=W.target,z=H==="checkbox"?W.target.checked:void 0;I($=>({...$,[X]:z!==void 0?z:B})),o[X]&&l($=>({...$,[X]:null}))},U=W=>async X=>{const B=X.target.files?.[0];if(!B)return;const H=z=>{switch(W){case"restaurantLogoPath":k(z);break;case"workPermitFilePath":j(z);break;case"foodCertificateFilePath":C(z);break}};l(z=>({...z,[W]:null})),H(!0);try{N.info(`${W} dosya yükleme başlatılıyor`,{fileName:B.name,fileSize:B.size});const z=await Wi.uploadFile(B);if(z)I($=>({...$,[W]:z})),N.info(`${W} başarıyla yüklendi`,{filePath:z});else throw new Error("Dosya yükleme başarısız: Dosya yolu alınamadı")}catch(z){N.error(`${W} yükleme hatası`,z);const $=z.message||"Dosya yüklenirken hata oluştu";l(_=>({..._,[W]:$})),I(_=>({..._,[W]:""})),X.target.value=""}finally{H(!1)}},V=W=>{const X={};switch(W){case 1:A.restaurantName?.trim()||(X.restaurantName="Restaurant adı gereklidir"),(A.cuisineType===void 0||A.cuisineType===null)&&(X.cuisineType="Mutfak türü seçiniz");break;case 2:A.companyTitle?.trim()||(X.companyTitle="Şirket unvanı gereklidir"),A.legalType?.trim()||(X.legalType="Hukuki yapı seçiniz");break;case 3:A.taxNumber?.trim()||(X.taxNumber="Vergi numarası gereklidir"),A.taxOffice?.trim()||(X.taxOffice="Vergi dairesi gereklidir");break}return l(X),Object.keys(X).length===0},K=()=>{V(a)&&n(W=>W+1)},Z=()=>{n(W=>W-1)},ie=async W=>{if(W.preventDefault(),u(""),h(""),!!V(3)){if(!x){u("Oturum bilgisi bulunamadı. Lütfen tekrar giriş yapın."),setTimeout(()=>{e("/register")},2e3);return}i(!0);try{N.info("Restaurant verisi gönderiliyor",{formData:A});const X={...A,userId:x,cuisineType:parseInt(A.cuisineType.toString(),10)};N.info("Processed data with userId and integer cuisineType",{processedData:X});const B=await sn.createRestaurant(X);if(N.info("Restaurant Creation Response",{response:B}),B&&B.restaurantId!==void 0){h("Restaurant bilgileriniz başarıyla kaydedildi! Şube bilgilerinizi girmeniz için yönlendiriliyorsunuz..."),localStorage.removeItem("onboarding_userId");const H=B.restaurantId;N.info("Oluşturulan Restaurant ID",{restaurantId:H}),localStorage.setItem("onboarding_restaurantId",H.toString()),N.info("RestaurantId localStorage'a kaydedildi",{restaurantId:H}),A.restaurantLogoPath&&(localStorage.setItem("restaurantLogoPath",A.restaurantLogoPath),N.info("Restaurant logo path localStorage'a kaydedildi",{restaurantLogoPath:A.restaurantLogoPath})),setTimeout(()=>{e("/onboarding/branch",{state:{message:"Restaurant bilgileriniz başarıyla kaydedildi. Şimdi şube bilgilerinizi girebilirsiniz.",restaurantId:H.toString()}})},2e3)}else console.error("RestaurantId alınamadı! Response:",B),u("Restaurant ID alınamadı. Lütfen tekrar deneyin.")}catch(X){console.error("Restaurant creation error:",X);const B=X;if(B.status===400&&B.errors){const H=[];for(const z in B.errors){const $=B.errors[z];Array.isArray($)?H.push(`${z}: ${$.join(", ")}`):H.push(`${z}: ${$}`)}u(H.join(`
`))}else B.status===409?u("Bu restaurant adı zaten kullanımda. Lütfen farklı bir ad deneyin."):B.status===0?u("Sunucuya bağlanılamıyor. Lütfen internet bağlantınızı kontrol edin."):u(B.message||"Restaurant kaydı sırasında bir hata oluştu. Lütfen tekrar deneyin.")}finally{i(!1)}}},te=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(Ds,{className:"h-12 w-12 mx-auto text-primary-600 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Restaurant Bilgileri"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Restaurant'ınızın temel bilgilerini girin"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"restaurantName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Restaurant Adı *"}),r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"restaurantName",name:"restaurantName",value:A.restaurantName,onChange:Q,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${o.restaurantName?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:"Restaurant adınızı girin"})]}),o.restaurantName&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.restaurantName})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"restaurantLogo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Restaurant Logosu"}),r.jsxs("div",{className:"relative",children:[r.jsx(zg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"file",id:"restaurantLogo",accept:"image/*",onChange:U("restaurantLogoPath"),disabled:y,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${y?"opacity-50 cursor-not-allowed":""} ${o.restaurantLogoPath?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white`}),y&&r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r.jsx("div",{className:"w-4 h-4 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"})})]}),y&&r.jsx("p",{className:"mt-1 text-sm text-blue-600 dark:text-blue-400",children:"Logo yükleniyor..."}),o.restaurantLogoPath&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.restaurantLogoPath}),A.restaurantLogoPath&&!y&&r.jsx("div",{className:"mt-3",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:A.restaurantLogoPath,alt:"Restaurant Logo Preview",className:"h-16 w-16 object-cover rounded-lg border border-gray-300 dark:border-gray-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"✓ Logo başarıyla yüklendi"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Cloudinary URL alındı"})]})]})})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"cuisineType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mutfak Türü *"}),r.jsxs("div",{className:"relative",children:[r.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("select",{id:"cuisineType",name:"cuisineType",value:A.cuisineType,onChange:Q,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${o.cuisineType?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white`,children:M.map(W=>r.jsx("option",{value:W.value,children:W.label},W.value))})]}),o.cuisineType&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.cuisineType})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"checkbox",id:"hasAlcoholService",name:"hasAlcoholService",checked:A.hasAlcoholService,onChange:Q,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),r.jsxs("label",{htmlFor:"hasAlcoholService",className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[r.jsx(BF,{className:"h-4 w-4 mr-2"}),"Alkol servisi yapıyoruz"]})]})]}),R=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(Bi,{className:"h-12 w-12 mx-auto text-primary-600 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Şirket Bilgileri"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Şirket bilgilerinizi girin"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"companyTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Şirket Unvanı *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"companyTitle",name:"companyTitle",value:A.companyTitle,onChange:Q,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${o.companyTitle?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:"Şirket unvanınızı girin"})]}),o.companyTitle&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.companyTitle})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"legalType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Hukuki Yapı *"}),r.jsxs("div",{className:"relative",children:[r.jsx(nn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsxs("select",{id:"legalType",name:"legalType",value:A.legalType,onChange:Q,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${o.legalType?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white`,children:[r.jsx("option",{value:"",children:"Hukuki yapı seçiniz"}),F.map(W=>r.jsx("option",{value:W,children:W},W))]})]}),o.legalType&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.legalType})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"mersisNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"MERSİS Numarası"}),r.jsxs("div",{className:"relative",children:[r.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"mersisNumber",name:"mersisNumber",value:A.mersisNumber,onChange:Q,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"MERSİS numaranızı girin"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"tradeRegistryNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ticaret Sicil Numarası"}),r.jsxs("div",{className:"relative",children:[r.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"tradeRegistryNumber",name:"tradeRegistryNumber",value:A.tradeRegistryNumber,onChange:Q,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Ticaret sicil numaranızı girin"})]})]})]}),D=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(da,{className:"h-12 w-12 mx-auto text-primary-600 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Yasal Belgeler"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Vergi ve belge bilgilerinizi girin"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"taxNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Vergi Numarası *"}),r.jsxs("div",{className:"relative",children:[r.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"taxNumber",name:"taxNumber",value:A.taxNumber,onChange:Q,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${o.taxNumber?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:"Vergi numaranızı girin"})]}),o.taxNumber&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.taxNumber})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"taxOffice",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Vergi Dairesi *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"taxOffice",name:"taxOffice",value:A.taxOffice,onChange:Q,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${o.taxOffice?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:"Vergi dairenizi girin"})]}),o.taxOffice&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.taxOffice})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"workPermitFile",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Çalışma İzni Belgesi"}),r.jsxs("div",{className:"relative",children:[r.jsx(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"file",id:"workPermitFile",accept:".pdf,.jpg,.jpeg,.png",onChange:U("workPermitFilePath"),disabled:v,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${v?"opacity-50 cursor-not-allowed":""} ${o.workPermitFilePath?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white`}),v&&r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r.jsx("div",{className:"w-4 h-4 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"})})]}),v&&r.jsx("p",{className:"mt-1 text-sm text-blue-600 dark:text-blue-400",children:"Çalışma izni belgesi yükleniyor..."}),o.workPermitFilePath&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.workPermitFilePath}),A.workPermitFilePath&&!v&&r.jsx("p",{className:"mt-1 text-sm text-green-600 dark:text-green-400 font-medium",children:"✓ Çalışma izni belgesi başarıyla yüklendi"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"foodCertificateFile",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Gıda Belgesi"}),r.jsxs("div",{className:"relative",children:[r.jsx(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"file",id:"foodCertificateFile",accept:".pdf,.jpg,.jpeg,.png",onChange:U("foodCertificateFilePath"),disabled:S,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${S?"opacity-50 cursor-not-allowed":""} ${o.foodCertificateFilePath?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white`}),S&&r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r.jsx("div",{className:"w-4 h-4 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"})})]}),S&&r.jsx("p",{className:"mt-1 text-sm text-blue-600 dark:text-blue-400",children:"Gıda belgesi yükleniyor..."}),o.foodCertificateFilePath&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.foodCertificateFilePath}),A.foodCertificateFilePath&&!S&&r.jsx("p",{className:"mt-1 text-sm text-green-600 dark:text-green-400 font-medium",children:"✓ Gıda belgesi başarıyla yüklendi"})]})]});return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx(re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"mb-8",children:r.jsxs(us,{to:"/register",className:"inline-flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200",children:[r.jsx(Bs,{className:"h-4 w-4"}),r.jsx("span",{children:"Kayıt Sayfasına Dön"})]})}),r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-8",children:[r.jsx("div",{className:"flex items-center justify-between",children:[1,2,3].map(W=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`
                  w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium
                  ${a>=W?"bg-primary-600 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-600 dark:text-gray-400"}
                `,children:W}),W<3&&r.jsx("div",{className:`
                    w-full h-1 ml-4
                    ${a>W?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"}
                  `,style:{width:"100px"}})]},W))}),r.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-600 dark:text-gray-400",children:[r.jsx("span",{children:"Temel Bilgiler"}),r.jsx("span",{children:"Şirket Bilgileri"}),r.jsx("span",{children:"Yasal Belgeler"})]})]}),t.state?.message&&r.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(xt,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-2"}),r.jsx("p",{className:"text-green-800 dark:text-green-200",children:t.state.message})]})}),r.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-white dark:bg-gray-800 shadow-xl rounded-lg overflow-hidden",children:r.jsxs("form",{onSubmit:ie,className:"p-8",children:[c&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(lt,{className:"h-5 w-5 text-red-600 dark:text-red-400 mr-2"}),r.jsx("p",{className:"text-red-800 dark:text-red-200",children:c})]})}),g&&r.jsx("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(xt,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-2"}),r.jsx("p",{className:"text-green-800 dark:text-green-200",children:g})]})}),a===1&&te(),a===2&&R(),a===3&&D(),r.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a>1&&r.jsx("button",{type:"button",onClick:Z,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:"Önceki Adım"}),r.jsx("div",{className:"flex-1"}),a<3?r.jsx("button",{type:"button",onClick:K,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200",children:"Sonraki Adım"}):r.jsx("button",{type:"submit",disabled:s||y||v||S,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Kaydediliyor..."})]}):y||v||S?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Dosyalar Yükleniyor..."})]}):r.jsx("span",{children:"Restaurant'ı Kaydet"})})]})]})})]})})};let jq=class{baseUrl="/api/Branches";async createOnboardingBranch(t){try{if(N.info("Branch oluşturma isteği gönderiliyor",t,{prefix:"BranchService"}),!t.branchName?.trim())throw new Error("Şube adı gereklidir");if(!t.restaurantId)throw new Error("Restaurant ID gereklidir");if(!t.createBranchWorkingHourCoreDto||t.createBranchWorkingHourCoreDto.length===0)throw new Error("En az bir gün için çalışma saati belirtmelisiniz");if(t.createBranchWorkingHourCoreDto.filter(s=>s.isWorkingDay).length===0)throw new Error("En az bir gün için çalışma saati belirtmelisiniz");const n=await se.post(`${this.baseUrl}/onboarding`,t);return N.info("Branch API Response alındı",n.data,{prefix:"BranchService"}),n.data}catch(a){throw N.error("Branch oluşturma hatası",a,{prefix:"BranchService"}),a.response?.data?.errors&&N.error("API Validation Hataları:",a.response.data.errors,{prefix:"BranchService"}),a}}async createBranch(t){try{N.info("Branch oluşturma isteği gönderiliyor",t,{prefix:"BranchService"});const a=await se.post(`${this.baseUrl}`,t);return N.info("Branch API Response alındı",a.data,{prefix:"BranchService"}),a.data}catch(a){throw N.error("Branch oluşturma hatası",a,{prefix:"BranchService"}),a}}async updateBranch(t,a){try{N.info("Branch güncelleme isteği gönderiliyor",{id:t,data:a},{prefix:"BranchService"});const n={branchName:a.branchName?.trim()||null,whatsappOrderNumber:a.whatsappOrderNumber?.trim()||null,branchLogoPath:a.branchLogoPath||null};a.createAddressDto&&(n.batchUpdateAddressDto={country:a.createAddressDto.country?.trim()||null,city:a.createAddressDto.city?.trim()||null,street:a.createAddressDto.street?.trim()||null,adressLine1:a.createAddressDto.addressLine1?.trim()||null,adressLine2:a.createAddressDto.addressLine2?.trim()||null,zipCode:a.createAddressDto.zipCode?.trim()||null}),a.createContactDto&&(n.batchUpdateContactDto={contactHeader:a.createContactDto.contactHeader?.trim()||null,location:a.createContactDto.location?.trim()||null,phone:a.createContactDto.phone?.trim()||null,mail:a.createContactDto.mail?.trim()||null,footerTitle:a.createContactDto.footerTitle?.trim()||null,footerDescription:a.createContactDto.footerDescription?.trim()||null,openTitle:a.createContactDto.openTitle?.trim()||null,openDays:a.createContactDto.openDays?.trim()||null,openHours:a.createContactDto.openHours?.trim()||null}),a.createBranchWorkingHourCoreDto&&a.createBranchWorkingHourCoreDto.length>0&&(n.batchUpdateBranchWorkingHourDto=a.createBranchWorkingHourCoreDto.map(i=>({dayOfWeek:i.dayOfWeek,openTime:i.openTime,closeTime:i.closeTime,isWorkingDay:i.isWorkingDay}))),N.info("Transformed batch update data",n,{prefix:"BranchService"});const s=await se.put(`${this.baseUrl}/${t}/batch-update`,n);return N.info("Branch Update API Response alındı",s.data,{prefix:"BranchService"}),s.data.data}catch(n){throw N.error("Branch güncelleme hatası",n,{prefix:"BranchService"}),n.response?.data?.errors&&N.error("API Validation Hataları:",n.response.data.errors,{prefix:"BranchService"}),n}}async getDeletedBranches(){try{N.info("Silinmiş şubeler getiriliyor",null,{prefix:"BranchService"});const t=await se.get(`${this.baseUrl}/deleted`);return N.info("Silinmiş şubeler başarıyla getirildi",{count:t.data?.length||0},{prefix:"BranchService"}),t.data||[]}catch(t){throw N.error("❌ Silinmiş şubeler getirilirken hata:",t,{prefix:"BranchService"}),t?.response?.status===401?new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."):t?.response?.status===403?new Error("Bu işlem için yetkiniz bulunmuyor."):t?.response?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`Silinmiş şubeler getirilirken hata oluştu: ${t?.message||"Bilinmeyen hata"}`)}}async getDeletedTables(t){try{N.info("Silinmiş masalar getiriliyor",{branchId:t},{prefix:"BranchService"});const a=t?`/api/branches/tables/deleted?branchId=${t}`:"/api/branches/tables/deleted",n=await se.get(a);return N.info("Silinmiş masalar başarıyla getirildi",{count:n.data?.length||0,branchId:t},{prefix:"BranchService"}),n.data||[]}catch(a){throw N.error("❌ Silinmiş masalar getirilirken hata:",a,{prefix:"BranchService"}),a?.response?.status===401?new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."):a?.response?.status===403?new Error("Bu işlem için yetkiniz bulunmuyor."):a?.response?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`Silinmiş masalar getirilirken hata oluştu: ${a?.message||"Bilinmeyen hata"}`)}}async restoreTable(t,a){try{N.info("Masa geri yükleniyor",{tableId:t},{prefix:"BranchService"});const n=await se.post(`/api/branches/tables/${t}/restore?branchId=${a}`);N.info("Masa başarıyla geri yüklendi",{tableId:t,response:n.status},{prefix:"BranchService"})}catch(n){if(N.error("❌ Masa geri yüklenirken hata:",n,{prefix:"BranchService"}),n?.response?.status===404)throw new Error("Geri yüklenecek masa bulunamadı.");if(n?.response?.status===400){const s=n?.response?.data;if(s?.errors){const i=Object.values(s.errors).flat();throw new Error(`Doğrulama hatası: ${i.join(", ")}`)}else throw new Error("Geçersiz masa geri yükleme isteği.")}else throw n?.response?.status===401?new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."):n?.response?.status===403?new Error("Bu işlem için yetkiniz bulunmuyor."):n?.response?.status===409?new Error("Bu masa zaten aktif durumda veya aynı isimde aktif bir masa mevcut."):n?.response?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`Masa geri yüklenirken hata oluştu: ${n?.message||"Bilinmeyen hata"}`)}}async restoreBranch(t,a=!1){try{N.info("Şube geri yükleniyor",{branchId:t,restoreWithCascade:a},{prefix:"BranchService"});const n=`${this.baseUrl}/${t}/restore?restoreWithCascade=${a}`,s=await se.post(n);N.info("Şube başarıyla geri yüklendi",{branchId:t,restoreWithCascade:a,response:s.status},{prefix:"BranchService"})}catch(n){if(N.error("❌ Şube geri yüklenirken hata:",n,{prefix:"BranchService"}),n?.response?.status===404)throw new Error("Geri yüklenecek şube bulunamadı.");if(n?.response?.status===400){const s=n?.response?.data;if(s?.errors){const i=Object.values(s.errors).flat();throw new Error(`Doğrulama hatası: ${i.join(", ")}`)}else throw new Error("Geçersiz şube geri yükleme isteği.")}else throw n?.response?.status===401?new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."):n?.response?.status===403?new Error("Bu işlem için yetkiniz bulunmuyor."):n?.response?.status===409?new Error("Bu şube zaten aktif durumda veya aynı isimde aktif bir şube mevcut."):n?.response?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`Şube geri yüklenirken hata oluştu: ${n?.message||"Bilinmeyen hata"}`)}}async deleteBranch(t){try{N.info("Branch silme isteği gönderiliyor",{id:t},{prefix:"BranchService"}),await se.delete(`${this.baseUrl}/${t}`),N.info("Branch başarıyla silindi",{id:t},{prefix:"BranchService"})}catch(a){throw N.error("Branch silme hatası",a,{prefix:"BranchService"}),a}}async getBranchesByRestaurantId(t){return(await se.get(`${this.baseUrl}/restaurant/${t}`)).data.data||[]}async getBranchById(t){try{N.info("Branch detayları API çağrısı başlatılıyor",{id:t},{prefix:"BranchService"});const a=["address","contact","workingHours"].join("%2C"),n=`${this.baseUrl}?branchId=${t}&include=${a}`;N.info("API URL:",n,{prefix:"BranchService"});const s=await se.get(n);if(N.info("Branch API Response alındı",s.data,{prefix:"BranchService"}),s.data&&s.data.data){const i=s.data.data;return i.id&&!i.branchId&&(i.branchId=i.id),i}if(s.data&&!s.data.data&&typeof s.data=="object"){const i=s.data;if(i.id&&i.branchName)return N.info("API yanıtı direkt branch formatında",null,{prefix:"BranchService"}),i.id&&!i.branchId&&(i.branchId=i.id),i}return null}catch(a){if(N.error("Branch detayları çekilirken hata",a,{prefix:"BranchService"}),a.status===404)return N.warn("Branch bulunamadı (404)",null,{prefix:"BranchService"}),null;throw a}}async getBranches(){try{if(N.info("Branch listesi API çağrısı başlatılıyor...",null,{prefix:"BranchService"}),!localStorage.getItem("token"))throw N.error("Token bulunamadı",null,{prefix:"BranchService"}),new Error("Oturum bilgisi bulunamadı. Lütfen tekrar giriş yapın.");const a=Ll();if(!a)throw N.error("Restaurant ID bulunamadı",null,{prefix:"BranchService"}),new Error("Restaurant bilgisi bulunamadı.");N.info(`Restaurant ID: ${a} ile şube listesi isteniyor`,null,{prefix:"BranchService"});const n=["address","contact","workingHours"].join("%2C");let s=`/api/Restaurants/branches?include=BranchIsOpen%2C${n}`,i;try{i=await se.get(s),N.info("İlk endpoint başarılı",i,{prefix:"BranchService"})}catch(l){N.warn("İlk endpoint başarısız, alternatif deneniyor",l,{prefix:"BranchService"}),s=`/api/Branches?restaurantId=${a}&include=BranchIsOpen%2C${n}`,i=await se.get(s),N.info("Alternatif endpoint başarılı",i,{prefix:"BranchService"})}if(N.info("Branch listesi API Response alındı",i,{prefix:"BranchService"}),!i.data)return N.warn("API response.data boş",null,{prefix:"BranchService"}),[];if(!Array.isArray(i.data))return N.warn("API response.data array değil, formatı:",i.data,{prefix:"BranchService"}),[];const o=i.data.map((l,c)=>{N.debug(`İşlenen item ${c}`,l,{prefix:"BranchService"});const u=l.branch||l;return N.debug(`Branch data ${c}`,u,{prefix:"BranchService"}),{id:u.branchId||u.id,branchId:u.branchId||u.id,branchName:u.branchName,whatsappOrderNumber:u.whatsappOrderNumber??null,email:u.email??null,branchStatus:u.branchStatus??!0,restaurantId:u.restaurantId??0,branchLogoPath:u.branchLogoPath??null,isOpenNow:u.isOpenNow??!1,isTemporarilyClosed:u.isTemporarilyClosed??!1,BranchIsOpen:u.BranchIsOpen,createAddressDto:{country:u.address?.country??null,city:u.address?.city??null,street:u.address?.street??null,zipCode:u.address?.zipCode??null,addressLine1:u.address?.addressLine1??null},workingHours:u.workingHours??[],address:u.address,contact:u.contact}});return N.info(`Branch listesi başarıyla işlendi, toplam: ${o.length}`,o,{prefix:"BranchService"}),o}catch(t){throw N.error("Branch listesi alınırken hata",t,{prefix:"BranchService"}),t?.status===401?new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."):t?.status===403?new Error("Bu işlem için yetkiniz bulunmuyor."):t?.status===404?new Error("Şube listesi bulunamadı."):t?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`Şube listesi alınırken hata oluştu: ${t?.message||"Bilinmeyen hata"}`)}}async toggleTemporaryClose(t,a,n){try{N.info("Branch temporary close güncelleme isteği",{branchId:t,isTemporarilyClosed:a,isOpenNow:n},{prefix:"BranchService"}),await se.patch(`${this.baseUrl}/${t}/temporary-close`,a),N.info("Branch temporary close durumu güncellendi",null,{prefix:"BranchService"})}catch(s){if(N.error("Branch temporary close güncelleme hatası",s,{prefix:"BranchService"}),s?.response?.status===400){const i=s?.response?.data;if(i?.errors){const o=Object.values(i.errors).flat();throw new Error(`Doğrulama hatası: ${o.join(", ")}`)}else throw new Error("Geçersiz istek. Lütfen verileri kontrol edin.")}else throw s?.response?.status===401?new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."):s?.response?.status===403?new Error("Bu işlem için yetkiniz bulunmuyor."):s?.response?.status===404?new Error("Şube bulunamadı."):s?.response?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`Şube durumu güncellenirken hata oluştu: ${s?.message||"Bilinmeyen hata"}`)}}async getBranchesDropdown(){try{N.info("Şube dropdown listesi API çağrısı başlatılıyor...",null,{prefix:"BranchService"});const t=await se.get("/api/Restaurants/branches/dropdown");return N.info("Şube dropdown listesi alındı",t.data,{prefix:"BranchService"}),t.data}catch(t){throw N.error("Şube dropdown listesi alınırken hata oluştu",t,{prefix:"BranchService"}),t}}async getTables(t,a,n=!0,s=!0){try{N.info("Masalar API çağrısı başlatılıyor",{branchId:t},{prefix:"BranchService"});const i=new URLSearchParams({branchId:t.toString(),onlyActive:n.toString(),includeCategory:s.toString()});a&&i.append("categoryId",a);const o=await se.get(`/api/branches/tables?${i.toString()}`);return N.info("Masalar alındı",o.data,{prefix:"BranchService"}),o.data}catch(i){throw N.error("Masalar alınırken hata oluştu",i,{prefix:"BranchService"}),i}}async getTableCategories(t,a,n=!1){try{N.info("Masa kategorileri API çağrısı başlatılıyor",{branchId:t,onlyActive:a,includeTableCount:n},{prefix:"BranchService"});const s=new URLSearchParams({branchId:t.toString(),onlyActive:a.toString(),includeTableCount:n.toString()}),i=await se.get(`/api/branches/table-categories?${s.toString()}`);return N.info("Masa kategorileri alındı",i.data,{prefix:"BranchService"}),i.data}catch(s){throw N.error("Masa kategorileri alınırken hata oluştu",s,{prefix:"BranchService"}),s}}async createTable(t,a){try{N.info("Masa oluşturma API çağrısı başlatılıyor",{data:t,branchId:a},{prefix:"BranchService"});const n=await se.post(`/api/branches/tables?branchId=${a}`,t);return N.info("Masa başarıyla oluşturuldu",n.data,{prefix:"BranchService"}),n.data}catch(n){throw N.error("Masa oluşturulurken hata oluştu",n,{prefix:"BranchService"}),n}}async createBatchTables(t,a){try{N.info("Toplu masa oluşturma API çağrısı başlatılıyor",{data:t,branchId:a},{prefix:"BranchService"});const n={timeout:12e4,headers:{"Content-Type":"application/json","X-Request-Type":"batch-operation"}},s=await se.post(`/api/branches/tables/batch?branchId=${a}`,t,n);return N.info("Toplu masa başarıyla oluşturuldu",s.data,{prefix:"BranchService"}),s.data}catch(n){throw N.error("Toplu masa oluşturulurken hata oluştu",n,{prefix:"BranchService"}),n}}async updateTable(t,a,n){try{N.info("Masa güncelleme API çağrısı başlatılıyor",{tableId:t,data:n},{prefix:"BranchService"});const s=await se.put(`/api/branches/tables/${t}?branchId=${a}`,n);return N.info("Masa başarıyla güncellendi",s.data,{prefix:"BranchService"}),s.data}catch(s){throw N.error("Masa güncellenirken hata oluştu",s,{prefix:"BranchService"}),s}}async deleteTable(t,a){try{N.info("Masa silme API çağrısı başlatılıyor",{tableId:t,branchId:a},{prefix:"BranchService"}),await se.delete(`/api/branches/tables/${t}?branchId=${a}`),N.info("Masa başarıyla silindi",{tableId:t,branchId:a},{prefix:"BranchService"})}catch(n){throw N.error("Masa silinirken hata oluştu",n,{prefix:"BranchService"}),n}}async toggleTableStatus(t,a,n){try{N.info("Masa durumu güncelleme isteği",{tableId:t,branchId:a,isActive:n},{prefix:"BranchService"}),await se.patch(`/api/branches/tables/${t}/toggle-status?branchId=${a}`,{isActive:n}),N.info("Masa durumu başarıyla güncellendi",{tableId:t,isActive:n},{prefix:"BranchService"})}catch(s){throw N.error("Masa durumu güncellenirken hata oluştu",s,{prefix:"BranchService"}),s}}async toggleTableOccupation(t,a,n){try{N.info("Masa doluluk durumu güncelleme isteği",{tableId:t,branchId:a,isOccupied:n},{prefix:"BranchService"}),await se.patch(`/api/branches/tables/${t}/occupation?branchId=${a}`,{isOccupied:n}),N.info("Masa doluluk durumu başarıyla güncellendi",{tableId:t,isOccupied:n},{prefix:"BranchService"})}catch(s){throw N.error("Masa doluluk durumu güncellenirken hata oluştu",s,{prefix:"BranchService"}),s}}};const Nr=new jq,Nq=()=>{const e=ya(),t=ys(),[a,n]=p.useState(1),[s,i]=p.useState(!1),[o,l]=p.useState({}),[c,u]=p.useState(""),[g,h]=p.useState(""),[x,b]=p.useState(null),[y,k]=p.useState(null),[v,j]=p.useState(null),[S,C]=p.useState(null),[P,E]=p.useState(!1),[A,I]=p.useState({branchName:"",whatsappOrderNumber:"",restaurantId:0,branchLogoPath:null,createAddressDto:{country:"",city:"",street:"",zipCode:"",addressLine1:"",addressLine2:""},createContactDto:{phone:"",mail:"",location:"",contactHeader:"",footerTitle:"",footerDescription:"",openTitle:"",openDays:"",openHours:""},createBranchWorkingHourCoreDto:[{dayOfWeek:1,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:2,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:3,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:4,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:5,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:6,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:0,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!1}]}),M=_=>`${_}:00`,F=_=>_.substring(0,5),Q=(_,Y)=>{const q=new Date(`2000-01-01T${_}`),G=new Date(`2000-01-01T${Y}`);if(G<=q){const ue=(new Date(`2000-01-02T${Y}`).getTime()-q.getTime())/(1e3*60*60);return ue<=12&&ue>0}return G>q},U=["Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"];p.useEffect(()=>{const _=t.state?.restaurantId,Y=localStorage.getItem("onboarding_restaurantId");let q=null;if(_){const G=parseInt(_);!isNaN(G)&&G>0&&(q=G)}else if(Y){const G=parseInt(Y);!isNaN(G)&&G>0&&(q=G)}q?(b(q),I(G=>({...G,restaurantId:q})),V(q)):N.warn("RestaurantId bulunamadı! OnboardingRestaurant sayfasına yönlendirilecek.")},[t.state]);const V=async _=>{try{const Y=localStorage.getItem("restaurantLogoPath");if(Y){k(Y);return}const q=await sn.getRestaurantManagementInfo();q&&q.restaurantLogoPath&&k(q.restaurantLogoPath)}catch(Y){N.error("Restaurant bilgileri alınırken hata oluştu",Y)}},K=_=>{const{name:Y,value:q}=_.target;if(Y.startsWith("address.")){const G=Y.split(".")[1];I(ee=>({...ee,createAddressDto:{...ee.createAddressDto,[G]:q||""}}))}else if(Y.startsWith("contact.")){const G=Y.split(".")[1];I(ee=>({...ee,createContactDto:{...ee.createContactDto,[G]:q||""}}))}else I(G=>({...G,[Y]:q||""}));o[Y]&&l(G=>({...G,[Y]:null}))},Z=(_,Y,q)=>{I(G=>({...G,createBranchWorkingHourCoreDto:G.createBranchWorkingHourCoreDto?.map((ee,ue)=>ue===_?Y==="openTime"||Y==="closeTime"?{...ee,[Y]:M(q)}:Y==="isWorkingDay"?{...ee,isWorkingDay:q}:{...ee,[Y]:q}:ee)||[]}))},ie=async _=>{const Y=_.target.files?.[0];if(Y){j(Y);const q=new FileReader;q.onload=G=>{C(G.target?.result)},q.readAsDataURL(Y),await te(Y)}},te=async _=>{const Y=_||v;if(Y){E(!0);try{const q=await Wi.uploadFile(Y);I(G=>({...G,branchLogoPath:q})),j(null)}catch(q){console.error("Logo yükleme hatası:",q),u("Logo yüklenirken hata oluştu. Lütfen tekrar deneyin.")}finally{E(!1)}}},R=_=>{const Y={};switch(_){case 1:A.branchName?.trim()||(Y.branchName="Şube adı gereklidir"),A.whatsappOrderNumber?.trim()||(Y.whatsappOrderNumber="WhatsApp sipariş numarası gereklidir");break;case 2:A.createAddressDto.country?.trim()||(Y["createAddressDto.country"]="Ülke gereklidir"),A.createAddressDto.city?.trim()||(Y["createAddressDto.city"]="Şehir gereklidir"),A.createAddressDto.street?.trim()||(Y["createAddressDto.street"]="Sokak gereklidir"),A.createAddressDto.addressLine1?.trim()||(Y["createAddressDto.addressLine1"]="Adres satırı 1 gereklidir"),A.createAddressDto.zipCode?.trim()||(Y["createAddressDto.zipCode"]="Posta kodu gereklidir");break;case 3:A.createContactDto.phone?.trim()||(Y["createContactDto.phone"]="Telefon numarası gereklidir"),A.createContactDto.mail?.trim()||(Y["createContactDto.mail"]="E-posta adresi gereklidir"),A.createContactDto.location?.trim()||(Y["createContactDto.location"]="Konum bilgisi gereklidir");const q=A.createBranchWorkingHourCoreDto?.filter(G=>G.isWorkingDay)||[];if(q.length===0)Y.workingHours="En az bir gün için çalışma saati belirtmelisiniz";else for(const G of q){if(!G.openTime||!G.closeTime){Y.workingHours="Tüm çalışma günleri için açılış ve kapanış saati belirtmelisiniz";break}if(!Q(G.openTime,G.closeTime)){const ee=F(G.openTime),ue=F(G.closeTime);G.closeTime<=G.openTime?Y.workingHours=`Geçersiz çalışma saati aralığı: ${ee} - ${ue}. Gece boyunca açık kalma süresi 12 saati geçemez.`:Y.workingHours=`Açılış saati (${ee}) kapanış saatinden (${ue}) önce olmalıdır`;break}}break}return l(Y),Object.keys(Y).length===0},D=()=>{R(a)&&n(_=>_+1)},W=()=>{n(_=>_-1)},X=async _=>{if(_.preventDefault(),u(""),h(""),!R(3))return;if(!x){u("Restaurant bilgisi bulunamadı. Lütfen tekrar restaurant oluşturun."),setTimeout(()=>{e("/onboarding/restaurant")},2e3);return}const Y=A.createBranchWorkingHourCoreDto||[],q=Y.filter(ue=>ue.isWorkingDay);if(q.length===0){u("En az bir gün için çalışma saati belirtmelisiniz.");return}for(const ue of q)if(!ue.openTime||!ue.closeTime){u("Tüm çalışma günleri için açılış ve kapanış saati belirtmelisiniz.");return}let G=A.branchLogoPath;!G&&y&&(G=y);const ee={branchName:A.branchName?.trim()||null,whatsappOrderNumber:A.whatsappOrderNumber?.trim()||null,restaurantId:x,branchLogoPath:G,createAddressDto:{country:A.createAddressDto.country?.trim()||null,city:A.createAddressDto.city?.trim()||null,street:A.createAddressDto.street?.trim()||null,zipCode:A.createAddressDto.zipCode?.trim()||null,addressLine1:A.createAddressDto.addressLine1?.trim()||null,addressLine2:A.createAddressDto.addressLine2?.trim()||null},createContactDto:{phone:A.createContactDto.phone?.trim()||null,mail:A.createContactDto.mail?.trim()||null,location:A.createContactDto.location?.trim()||null,contactHeader:A.createContactDto.contactHeader?.trim()||null,footerTitle:A.createContactDto.footerTitle?.trim()||null,footerDescription:A.createContactDto.footerDescription?.trim()||null,openTitle:A.createContactDto.openTitle?.trim()||null,openDays:A.createContactDto.openDays?.trim()||null,openHours:A.createContactDto.openHours?.trim()||null},createBranchWorkingHourCoreDto:Y};i(!0);try{const ue=await Nr.createOnboardingBranch(ee);if(ue.branchId){h("Şube bilgileriniz başarıyla kaydedildi! Yönlendiriliyorsunuz...");const le=ue.branchId;localStorage.setItem("onboarding_branchId",le.toString()),setTimeout(()=>{e("/onboarding/complete")},2e3)}else u("Şube ID alınamadı. Lütfen tekrar deneyin.")}catch(ue){const le=ue;if(le.status===400&&le.errors){const ae=[];for(const Be in le.errors){const he=le.errors[Be];Array.isArray(he)?ae.push(`${Be}: ${he.join(", ")}`):ae.push(`${Be}: ${he}`)}u(ae.join(`
`))}else le.status===409?u("Bu şube adı zaten kullanımda. Lütfen farklı bir ad deneyin."):le.status===0?u("Sunucuya bağlanılamıyor. Lütfen internet bağlantınızı kontrol edin."):le.status===500?u("Sunucu hatası oluştu. Lütfen daha sonra tekrar deneyin veya form verilerinizi kontrol edin."):u(le.message||"Şube kaydı sırasında bir hata oluştu. Lütfen tekrar deneyin.")}finally{i(!1)}},B=({checked:_,onChange:Y,disabled:q})=>r.jsx("button",{type:"button",onClick:()=>!q&&Y(!_),disabled:q,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${_?"bg-primary-600":"bg-gray-200 dark:bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${_?"translate-x-6":"translate-x-1"}`})}),H=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"branchName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Şube Adı *"}),r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"branchName",name:"branchName",value:A.branchName||"",onChange:K,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${o.branchName?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:"Şube adını girin"})]}),o.branchName&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.branchName})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"whatsappOrderNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"WhatsApp Sipariş Numarası *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"tel",id:"whatsappOrderNumber",name:"whatsappOrderNumber",value:A.whatsappOrderNumber||"",onChange:K,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${o.whatsappOrderNumber?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:"WhatsApp sipariş numarasını girin"})]}),o.whatsappOrderNumber&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.whatsappOrderNumber})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Şube Logosu (Opsiyonel)"}),r.jsxs("div",{className:"space-y-4",children:[(S||A.branchLogoPath)&&r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("img",{src:S||A.branchLogoPath||"",alt:"Şube logosu önizleme",className:"w-24 h-24 object-cover rounded-lg border-2 border-gray-300 dark:border-gray-600"}),A.branchLogoPath&&r.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"✓ Logo başarıyla yüklendi"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("input",{type:"file",id:"branchLogo",accept:"image/*",onChange:ie,className:"hidden",disabled:P}),r.jsxs("label",{htmlFor:"branchLogo",className:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-200 ${P?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[r.jsx(li,{className:"h-4 w-4 mr-2"}),P?"Yükleniyor...":"Logo Seç"]})]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF formatları desteklenir. Maksimum dosya boyutu: 5MB"}),y&&!A.branchLogoPath&&r.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(on,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Otomatik Logo Kullanımı"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Şube logosu yüklemezseniz, restaurant logosu otomatik olarak şube logosu olarak kullanılacaktır."})]})]})})]})]})]}),z=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"address.country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ülke *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Yi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"address.country",name:"address.country",value:A.createAddressDto.country||"",onChange:K,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${o["createAddressDto.country"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:"Ülke adını girin"})]}),o["createAddressDto.country"]&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o["createAddressDto.country"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"address.city",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Şehir *"}),r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"address.city",name:"address.city",value:A.createAddressDto.city||"",onChange:K,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${o["createAddressDto.city"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:"Şehir adını girin"})]}),o["createAddressDto.city"]&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o["createAddressDto.city"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"address.street",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sokak *"}),r.jsxs("div",{className:"relative",children:[r.jsx(cv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"address.street",name:"address.street",value:A.createAddressDto.street||"",onChange:K,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${o["createAddressDto.street"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:"Sokak adını girin"})]}),o["createAddressDto.street"]&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o["createAddressDto.street"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"address.zipCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Posta Kodu *"}),r.jsxs("div",{className:"relative",children:[r.jsx(da,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"address.zipCode",name:"address.zipCode",value:A.createAddressDto.zipCode||"",onChange:K,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${o["createAddressDto.zipCode"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:"Posta kodunu girin"})]}),o["createAddressDto.zipCode"]&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o["createAddressDto.zipCode"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"address.addressLine1",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Adres Satırı 1 *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"address.addressLine1",name:"address.addressLine1",value:A.createAddressDto.addressLine1||"",onChange:K,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${o["createAddressDto.addressLine1"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:"Detaylı adres bilgisi girin"})]}),o["createAddressDto.addressLine1"]&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o["createAddressDto.addressLine1"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"address.addressLine2",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Adres Satırı 2 (Opsiyonel)"}),r.jsxs("div",{className:"relative",children:[r.jsx(Vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"address.addressLine2",name:"address.addressLine2",value:A.createAddressDto.addressLine2||"",onChange:K,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Ek adres bilgisi girin (opsiyonel)"})]})]})]}),$=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact.phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Telefon Numarası *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"tel",id:"contact.phone",name:"contact.phone",value:A.createContactDto.phone||"",onChange:K,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${o["createContactDto.phone"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:"Telefon numarasını girin"})]}),o["createContactDto.phone"]&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o["createContactDto.phone"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact.mail",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"E-posta Adresi *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"email",id:"contact.mail",name:"contact.mail",value:A.createContactDto.mail||"",onChange:K,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${o["createContactDto.mail"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:"E-posta adresini girin"})]}),o["createContactDto.mail"]&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o["createContactDto.mail"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact.location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Konum Bilgisi *"}),r.jsxs("div",{className:"relative",children:[r.jsx($r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"contact.location",name:"contact.location",value:A.createContactDto.location||"",onChange:K,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${o["createContactDto.location"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:"Konum bilgisini girin (Örn: 40.9795,28.7225)"})]}),o["createContactDto.location"]&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o["createContactDto.location"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact.contactHeader",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"İletişim Başlığı (Opsiyonel)"}),r.jsxs("div",{className:"relative",children:[r.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"contact.contactHeader",name:"contact.contactHeader",value:A.createContactDto.contactHeader||"",onChange:K,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"İletişim başlığını girin (opsiyonel)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact.footerTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Footer Başlığı (Opsiyonel)"}),r.jsxs("div",{className:"relative",children:[r.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"contact.footerTitle",name:"contact.footerTitle",value:A.createContactDto.footerTitle||"",onChange:K,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Footer başlığını girin (opsiyonel)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact.footerDescription",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Footer Açıklaması (Opsiyonel)"}),r.jsxs("div",{className:"relative",children:[r.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("textarea",{id:"contact.footerDescription",name:"contact.footerDescription",value:A.createContactDto.footerDescription||"",onChange:K,rows:3,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Footer açıklamasını girin (opsiyonel)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact.openTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Çalışma Saatleri Başlığı (Opsiyonel)"}),r.jsxs("div",{className:"relative",children:[r.jsx(zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"contact.openTitle",name:"contact.openTitle",value:A.createContactDto.openTitle||"",onChange:K,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Çalışma saatleri başlığını girin (opsiyonel)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact.openDays",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Açık Günler (Opsiyonel)"}),r.jsxs("div",{className:"relative",children:[r.jsx(zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"contact.openDays",name:"contact.openDays",value:A.createContactDto.openDays||"",onChange:K,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Açık günleri girin (opsiyonel)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact.openHours",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Açık Saatler (Opsiyonel)"}),r.jsxs("div",{className:"relative",children:[r.jsx(zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"contact.openHours",name:"contact.openHours",value:A.createContactDto.openHours||"",onChange:K,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Açık saatleri girin (opsiyonel)"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zt,{className:"h-6 w-6 text-primary-600"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Çalışma Saatleri"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"İşletmenizin çalışma saatlerini belirleyin. Gece boyunca açık kalabilirsiniz (örn: 23:00 - 02:00)."}),r.jsx("div",{className:"space-y-3",children:A.createBranchWorkingHourCoreDto?.map((_,Y)=>r.jsxs("div",{className:`relative group p-5 border border-gray-200 dark:border-gray-700 rounded-xl transition-all duration-200 hover:shadow-md ${_.isWorkingDay?"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 border-green-200 dark:border-green-700":"bg-gray-50 dark:bg-gray-800/50"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"min-w-[100px]",children:r.jsx("span",{className:"text-base font-medium text-gray-900 dark:text-gray-100",children:U[Y]})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(B,{checked:_.isWorkingDay,onChange:q=>Z(Y,"isWorkingDay",q)}),r.jsx("span",{className:`text-sm font-medium transition-colors ${_.isWorkingDay?"text-green-700 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:_.isWorkingDay?"Açık":"Kapalı"})]})]}),r.jsxs("div",{className:`flex items-center space-x-3 transition-opacity ${_.isWorkingDay?"":"opacity-40"}`,children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Açılış"}),r.jsx("input",{title:"time",type:"time",value:F(_.openTime),onChange:q=>Z(Y,"openTime",q.target.value),disabled:!_.isWorkingDay,className:`px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium transition-all focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${_.isWorkingDay?"hover:border-primary-300":"cursor-not-allowed bg-gray-100 dark:bg-gray-800"}`})]}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"w-6 h-px bg-gray-300 dark:bg-gray-600"})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Kapanış"}),r.jsx("input",{title:"time",type:"time",value:F(_.closeTime),onChange:q=>Z(Y,"closeTime",q.target.value),disabled:!_.isWorkingDay,className:`px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium transition-all focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${_.isWorkingDay?"hover:border-primary-300":"cursor-not-allowed bg-gray-100 dark:bg-gray-800"}`})]})]})]}),_.isWorkingDay&&r.jsx("div",{className:"mt-3 pt-3 border-t border-green-200 dark:border-green-700/50",children:r.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["✓ Bu gün müşteriler sipariş verebilecek",F(_.closeTime)<=F(_.openTime)&&r.jsx("span",{className:"ml-2 text-blue-600 dark:text-blue-400",children:"(Gece boyunca açık)"})]})})]},_.dayOfWeek))}),o.workingHours&&r.jsx("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(lt,{className:"h-5 w-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:o.workingHours})]})}),r.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(on,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Çalışma Saatleri Hakkında"}),r.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[r.jsx("li",{children:"• Burada belirlediğiniz saatler, müşterilerin QR menünüz üzerinden sipariş verebileceği zamanları belirler."}),r.jsx("li",{children:"• Kapalı günlerde sipariş alınmaz, ancak kapalı günler de veritabanında saklanır."}),r.jsx("li",{children:"• Gece boyunca açık kalabilirsiniz (örn: 23:00 - 02:00). Bu durumda kapanış saati ertesi güne geçer."}),r.jsx("li",{children:"• Gece boyunca açık kalma süresi maksimum 12 saat olabilir."})]})]})]})})]})]});return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-800",children:[r.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"md:flex md:items-center md:justify-between",children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs(us,{to:"/onboarding/restaurant",className:"inline-flex items-center text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 mb-2",children:[r.jsx(Bs,{className:"w-4 h-4 mr-1"}),"Restaurant Bilgilerine Geri Dön"]}),r.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 dark:text-white sm:text-3xl sm:truncate",children:"Şube Bilgileri"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Restoranınızın şube bilgilerini adım adım girebilirsiniz"})]})})})}),r.jsxs("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"px-4 sm:px-0 mb-8",children:r.jsx("nav",{"aria-label":"Progress",children:r.jsx("ol",{role:"list",className:"flex items-center",children:[{id:1,name:"Temel Bilgiler",icon:Ds},{id:2,name:"Adres Bilgileri",icon:cv},{id:3,name:"İletişim Bilgileri",icon:Gr}].map((_,Y)=>{const q=_.icon;return r.jsx("li",{className:`relative ${Y!==2?"pr-8 sm:pr-20":""}`,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`${a>=_.id?"bg-primary-600 border-primary-600":"bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-600"} rounded-full transition-colors duration-200 h-8 w-8 flex items-center justify-center border-2`,children:r.jsx(q,{className:`w-4 h-4 ${a>=_.id?"text-white":"text-gray-500 dark:text-gray-400"}`})}),r.jsx("div",{className:`hidden sm:block text-sm font-medium ${a>=_.id?"text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400"} ml-2`,children:_.name}),Y!==2&&r.jsx("div",{className:`hidden sm:block absolute top-4 right-0 w-16 h-0.5 transition-colors duration-200 ${a>_.id?"bg-primary-600 dark:bg-primary-400":"bg-gray-300 dark:bg-gray-600"}`})]})},_.name)})})})}),c&&r.jsx(re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-4 rounded-md bg-red-50 dark:bg-red-900/20 p-4 mx-4 sm:mx-0",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(lt,{className:"h-5 w-5 text-red-400"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Hata"}),r.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300 whitespace-pre-line",children:c})]})]})}),g&&r.jsx(re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-4 rounded-md bg-green-50 dark:bg-green-900/20 p-4 mx-4 sm:mx-0",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(xt,{className:"h-5 w-5 text-green-400"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Başarılı"}),r.jsx("div",{className:"mt-2 text-sm text-green-700 dark:text-green-300",children:g})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg mx-4 sm:mx-0",children:r.jsxs("form",{onSubmit:X,className:"space-y-8 divide-y divide-gray-200 dark:divide-gray-700",children:[a===1&&r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(Ds,{className:"h-12 w-12 mx-auto text-primary-600 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Şube Bilgileri"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Şubenizin temel bilgilerini girin"})]}),H()]}),a===2&&r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx($r,{className:"h-12 w-12 mx-auto text-primary-600 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Adres Bilgileri"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Şubenizin adres bilgilerini girin"})]}),z()]}),a===3&&r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(Gr,{className:"h-12 w-12 mx-auto text-primary-600 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"İletişim Bilgileri"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Şubenizin iletişim bilgilerini girin"})]}),$()]}),r.jsxs("div",{className:"px-8 py-4 bg-gray-50 dark:bg-gray-800/50 flex items-center justify-between",children:[r.jsxs("button",{type:"button",onClick:W,disabled:a===1,className:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md shadow-sm ${a===1?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:[r.jsx(Bs,{className:"w-4 h-4 mr-2"}),"Geri"]}),a<3?r.jsxs("button",{type:"button",onClick:D,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:["İleri",r.jsx(Ii,{className:"w-4 h-4 ml-2"})]}):r.jsx("button",{type:"submit",disabled:s,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white ${s?"bg-primary-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"}`,children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Kaydediliyor..."]}):"Kaydet"})]})]})})]})]})},Cq=()=>{const e=ya(),[t,a]=p.useState(10);return p.useEffect(()=>{const n=setInterval(()=>{a(s=>s-1)},1e3);return()=>clearInterval(n)},[]),p.useEffect(()=>{t<=0&&(localStorage.removeItem("onboarding_userId"),localStorage.removeItem("onboarding_restaurantId"),localStorage.removeItem("onboarding_branchId"),localStorage.removeItem("userId"),localStorage.removeItem("token"),e("/login"))},[t,e]),r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:r.jsx("div",{className:"max-w-2xl mx-auto px-4 py-16 sm:px-6 sm:py-24 lg:px-8",children:r.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden",children:r.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[r.jsx(re.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"mx-auto flex items-center justify-center h-24 w-24 rounded-full bg-green-100 dark:bg-green-900",children:r.jsx(xt,{className:"h-12 w-12 text-green-600 dark:text-green-400"})}),r.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Kayıt İşlemi Tamamlandı!"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Restaurant ve şube bilgileriniz başarıyla kaydedildi. Giriş sayfasına yönlendiriliyorsunuz..."})]}),r.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-6 flex items-center justify-center",children:[r.jsxs("div",{className:"relative",children:[r.jsx(OF,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"}),r.jsx("span",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-sm font-medium text-primary-600 dark:text-primary-400",children:t})]}),r.jsx("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:"saniye içinde yönlendirileceksiniz"})]})]})})})})},Sq=({item:e,isActive:t,index:a,onClick:n,onSelect:s})=>{const i=`
    relative w-80 h-[520px] transition-all duration-700 ease-out cursor-pointer
    ${t?"z-20 scale-100 opacity-100":"scale-[0.85] opacity-70 hover:opacity-90 hover:scale-[0.87]"}
    bg-white/95 dark:bg-gray-800/95 backdrop-blur-xl rounded-3xl shadow-2xl
    border border-white/20 dark:border-gray-700/30
    overflow-hidden group
    hover:shadow-3xl hover:border-white/30 dark:hover:border-gray-600/40
  `,o=()=>e.type==="branch"&&e.isTemporarilyClosed?r.jsx(lt,{className:"w-4 h-4"}):e.status?r.jsx(br,{className:"w-4 h-4"}):r.jsx(lt,{className:"w-4 h-4"}),l=()=>e.type==="branch"&&e.isTemporarilyClosed?"Geçici Kapalı":e.status?"Aktif":"Pasif",c=()=>e.type==="branch"&&e.isTemporarilyClosed?"bg-amber-500/90 text-white border-amber-400/50 shadow-amber-500/25":e.status?"bg-emerald-500/90 text-white border-emerald-400/50 shadow-emerald-500/25":"bg-red-500/90 text-white border-red-400/50 shadow-red-500/25",u=()=>e.isTemporarilyClosed?"bg-amber-50/80 dark:bg-amber-900/30 border-amber-200/50 dark:border-amber-700/50 text-amber-700 dark:text-amber-300":e.isOpenNow?"bg-emerald-50/80 dark:bg-emerald-900/30 border-emerald-200/50 dark:border-emerald-700/50 text-emerald-700 dark:text-emerald-300":"bg-red-50/80 dark:bg-red-900/30 border-red-200/50 dark:border-red-700/50 text-red-700 dark:text-red-300",g=()=>e.type==="restaurant"?"from-primary-500 via-primary-600 to-primary-700":"from-blue-500 via-blue-600 to-blue-700",h=()=>e.type==="restaurant"?"from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 focus:ring-primary-500/30":"from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 focus:ring-blue-500/30";return r.jsxs(re.div,{className:i,initial:!1,animate:{scale:t?1:.85,opacity:t?1:.7},whileHover:{scale:t?1.02:.87,opacity:t?1:.9},transition:{duration:.4,ease:[.4,0,.2,1]},onClick:n,children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-500/5 via-primary-600/5 to-primary-700/5 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),r.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-1000",children:[r.jsx("div",{className:"absolute top-10 left-10 w-2 h-2 bg-primary-400/30 rounded-full animate-ping"}),r.jsx("div",{className:"absolute top-20 right-20 w-1 h-1 bg-primary-500/40 rounded-full animate-pulse delay-300"}),r.jsx("div",{className:"absolute bottom-20 left-20 w-1.5 h-1.5 bg-primary-600/35 rounded-full animate-ping delay-700"})]}),r.jsx("div",{className:"absolute top-4 right-4 z-10",children:r.jsxs("div",{className:`
          flex items-center gap-2 px-3 py-2 rounded-full text-xs font-semibold 
          backdrop-blur-md border shadow-lg ${c()}
          transform transition-all duration-300 group-hover:scale-105
        `,children:[o(),r.jsx("span",{children:l()})]})}),e.status&&t&&r.jsx("div",{className:"absolute top-4 left-4 z-10",children:r.jsx(re.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"flex items-center justify-center w-8 h-8 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full shadow-lg",children:r.jsx(Ls,{className:"w-4 h-4 text-white"})})}),r.jsxs("div",{className:"p-6 flex flex-col h-full relative z-10",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-center justify-center w-20 h-20 mx-auto mb-6 rounded-3xl shadow-2xl transition-all duration-500 group-hover:shadow-3xl group-hover:scale-110",children:r.jsxs("div",{className:`
              w-full h-full rounded-3xl bg-gradient-to-br ${g()}
              flex items-center justify-center
              transform transition-all duration-500 group-hover:rotate-3
              overflow-hidden
            `,children:[e.logoPath?r.jsx("img",{src:e.logoPath,alt:`${e.name} logo`,className:"w-12 h-12 object-cover rounded-2xl bg-white/10",onError:x=>{x.currentTarget.style.display="none",x.currentTarget.nextElementSibling.classList.remove("hidden")}}):null,r.jsx("div",{className:e.logoPath?"hidden":"",children:e.type==="restaurant"?r.jsx(Ds,{className:"w-10 h-10 text-white drop-shadow-lg"}):r.jsx($r,{className:"w-10 h-10 text-white drop-shadow-lg"})})]})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white text-center mb-4 leading-tight group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-gray-900 group-hover:to-gray-600 dark:group-hover:from-white dark:group-hover:to-gray-300 group-hover:bg-clip-text transition-all duration-500",children:e.name}),e.type==="branch"&&r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:`
                flex items-center gap-2 px-4 py-3 rounded-2xl border backdrop-blur-sm
                transition-all duration-300 group-hover:scale-105 ${u()}
              `,children:[r.jsx(zt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:e.isTemporarilyClosed?"Geçici Kapalı":e.isOpenNow?"Açık":"Kapalı"})]})}),r.jsx("div",{className:"text-center mb-6",children:r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:e.type==="restaurant"?"Tüm restoran operasyonlarınızı yönetin, menülerinizi düzenleyin ve genel ayarlarınızı kontrol edin.":"Bu şubenin siparişlerini takip edin, masa durumlarını görüntüleyin ve günlük operasyonları yönetin."})})]}),r.jsxs(re.button,{onClick:x=>{x.stopPropagation(),s(e.id)},className:`
            w-full flex items-center justify-center px-6 py-4 rounded-2xl text-white font-semibold
            bg-gradient-to-r ${h()}
            transform transition-all duration-300 hover:scale-105 focus:outline-none focus:ring-4
            shadow-lg hover:shadow-2xl relative overflow-hidden group/button
          `,whileHover:{scale:1.05},whileTap:{scale:.98},children:[r.jsx("div",{className:"absolute inset-0 bg-white/20 transform -skew-x-12 -translate-x-full group-hover/button:translate-x-full transition-transform duration-700"}),e.type==="restaurant"?r.jsxs(r.Fragment,{children:[r.jsx(pr,{className:"w-5 h-5 mr-3 transition-transform duration-300 group-hover/button:scale-110"}),r.jsx("span",{children:"Restoran Yönetimine Git"})]}):r.jsxs(r.Fragment,{children:[r.jsx(xm,{className:"w-5 h-5 mr-3 transition-transform duration-300 group-hover/button:translate-x-1"}),r.jsx("span",{children:"Şubeyi Seç"})]})]})]})]})},$S=({text:e="Yükleniyor...",size:t="md"})=>{const a={sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"},n={sm:"gap-2",md:"gap-4",lg:"gap-6"};return r.jsxs("div",{className:`flex flex-col items-center justify-center ${n[t]}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx(re.div,{className:`${a[t]} rounded-full border-4 border-gray-200/30 dark:border-gray-700/30`,animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"}}),r.jsx(re.div,{className:"absolute inset-1 rounded-full border-4 border-transparent border-t-primary-500 border-r-primary-600",animate:{rotate:-360},transition:{duration:1.5,repeat:1/0,ease:"linear"}}),r.jsx(re.div,{className:"absolute inset-2 rounded-full border-2 border-transparent border-t-blue-500 border-l-blue-600",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),r.jsx(re.div,{className:"absolute inset-0 flex items-center justify-center",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:r.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full"})})]}),r.jsx(re.p,{className:"text-gray-600 dark:text-gray-400 font-medium text-center",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:e}),r.jsx("div",{className:"flex gap-1",children:[0,1,2].map(s=>r.jsx(re.div,{className:"w-2 h-2 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full",animate:{scale:[1,1.5,1]},transition:{duration:.8,repeat:1/0,delay:s*.2}},s))})]})},BS=({title:e="Bir Hata Oluştu",message:t,onRetry:a,onGoHome:n,showHomeButton:s=!1})=>r.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex items-center justify-center min-h-[400px] p-8",children:r.jsx("div",{className:"max-w-md w-full",children:r.jsxs("div",{className:"relative bg-white/90 dark:bg-gray-800/90 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 dark:border-gray-700/30 p-8 text-center overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500 to-orange-500"})}),r.jsxs(re.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.2},className:"relative flex items-center justify-center w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-red-500 to-orange-500 shadow-2xl",children:[r.jsx(oa,{className:"w-10 h-10 text-white"}),r.jsx(re.div,{className:"absolute inset-0 rounded-full border-4 border-red-500/30",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}})]}),r.jsx(re.h2,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:e}),r.jsx(re.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"text-gray-600 dark:text-gray-400 mb-8 leading-relaxed",children:t}),r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"flex flex-col gap-3",children:[a&&r.jsxs(re.button,{onClick:a,className:"flex items-center justify-center gap-3 w-full px-6 py-3 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-red-500/30 shadow-lg hover:shadow-xl",whileHover:{scale:1.05},whileTap:{scale:.98},children:[r.jsx(Un,{className:"w-5 h-5"}),"Tekrar Dene"]}),s&&n&&r.jsxs(re.button,{onClick:n,className:"flex items-center justify-center gap-3 w-full px-6 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-xl transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-gray-500/30",whileHover:{scale:1.05},whileTap:{scale:.98},children:[r.jsx(Vl,{className:"w-5 h-5"}),"Ana Sayfaya Dön"]})]})]})})}),Pq=()=>{const{isDark:e,toggleTheme:t}=mi();return r.jsxs(re.button,{onClick:t,className:"relative flex items-center justify-center w-14 h-8 bg-gray-200 dark:bg-gray-700 rounded-full shadow-inner transition-colors duration-300 focus:outline-none focus:ring-4 focus:ring-primary-500/30",whileTap:{scale:.95},children:[r.jsx(re.div,{className:"absolute inset-1 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full shadow-lg",animate:{x:e?24:0},transition:{type:"spring",stiffness:500,damping:30}}),r.jsx(re.div,{className:"absolute left-1 flex items-center justify-center w-6 h-6",animate:{scale:e?.8:1,opacity:e?.5:1},transition:{duration:.2},children:r.jsx(ym,{className:"w-4 h-4 text-yellow-500"})}),r.jsx(re.div,{className:"absolute right-1 flex items-center justify-center w-6 h-6",animate:{scale:e?1:.8,opacity:e?1:.5},transition:{duration:.2},children:r.jsx(Yk,{className:"w-4 h-4 text-blue-400"})})]})},Tq=()=>{const e=ya(),{requireAuth:t,clearAuth:a}=ew(),[n,s]=p.useState(null),[i,o]=p.useState(""),[l,c]=p.useState(!0),[u,g]=p.useState(!1),h=p.useRef(!0),x=p.useRef(!1),b=n?[{type:"restaurant",id:n.restaurantId,name:n.restaurantName,status:n.restaurantStatus,logoPath:n.restaurantLogoPath,canAccess:n.canAccessRestaurantPanel},...n.availableBranches.map(E=>({type:"branch",id:E.branchId,name:E.branchName,status:E.branchStatus,isOpenNow:E.isOpenNow,isTemporarilyClosed:E.isTemporarilyClosed}))]:[],{currentSlide:y,goToSlide:k,handlers:v}=VF({totalItems:b.length}),j=async()=>{if(!x.current){if(!t()){c(!1);return}c(!0);try{x.current=!0;const E=await Ko.getSelectionScreenData();if(h.current){if(!E||!E.data)throw new Error("API yanıtı boş");s(E.data),o(""),c(!1)}}catch(E){h.current&&(o(E.message||"Veri yüklenirken bir hata oluştu"),c(!1))}finally{x.current=!1}}};p.useEffect(()=>((async()=>{if(h.current=!0,!!t()){if(Hg()){N.info("Branch-only user detected, redirecting to dashboard"),e("/dashboard");return}if(g(!0),!x.current){c(!0);try{x.current=!0;const I=await Ko.getSelectionScreenData();if(h.current){if(!I||!I.data)throw new Error("API yanıtı boş");s(I.data),o(""),c(!1)}}catch(I){h.current&&(o(I.message||"Veri yüklenirken bir hata oluştu"),c(!1))}finally{x.current=!1}}}})(),()=>{h.current=!1}),[]);const S=()=>{n?.restaurantId&&(N.info("Restaurant selected:",n.restaurantId),localStorage.setItem("restaurantName",n.restaurantName),localStorage.removeItem("selectedBranchId"),localStorage.removeItem("selectedBranchName"),e("/dashboard"))},C=E=>{if(E){N.info("Branch selected:",E);const A=n?.availableBranches.find(I=>I.branchId===Number(E));localStorage.setItem("selectedBranchId",E.toString()),localStorage.setItem("selectedBranchName",A?.branchName||"Bilinmeyen Şube"),e("/dashboard")}},P=()=>{a(),e("/",{replace:!0})};return u?l&&!n?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-blue-50 to-gray-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:r.jsx($S,{text:"Veriler yükleniyor..."})}):i?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-blue-50 to-gray-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:r.jsx(BS,{message:i,onRetry:()=>{x.current=!1,j()}})}):n?((!n.availableBranches||!Array.isArray(n.availableBranches))&&(N.error("Invalid data format:",n),n.availableBranches=[]),r.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-primary-50 via-blue-50 to-gray-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx(re.div,{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-primary-400/20 to-primary-600/20 rounded-full blur-3xl",animate:{scale:[1,1.2,1],rotate:[0,90,0]},transition:{duration:20,repeat:1/0}}),r.jsx(re.div,{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-blue-600/20 rounded-full blur-3xl",animate:{scale:[1.2,1,1.2],rotate:[90,0,90]},transition:{duration:25,repeat:1/0}})]}),r.jsx("header",{className:"relative z-10 w-full px-6 py-6 backdrop-blur-md bg-white/30 dark:bg-gray-900/30 border-b border-white/20 dark:border-gray-700/20",children:r.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[r.jsxs(re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl shadow-xl",children:r.jsx(Vn,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Hoş Geldiniz"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n?.restaurantName})]})]}),r.jsxs(re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex items-center gap-4",children:[r.jsx(Pq,{}),r.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 rounded-xl text-gray-700 dark:text-gray-300 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-all duration-300 transform hover:scale-105",children:[r.jsx(nc,{size:20}),r.jsx("span",{children:"Çıkış"})]})]})]})}),r.jsx("main",{className:"flex-1 flex items-center justify-center p-8 relative z-10",children:r.jsxs("div",{className:"relative w-full max-w-6xl mx-auto",children:[r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Hangi paneli kullanmak istiyorsunuz?"}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Restoran yönetimi için genel kontrol panelini veya belirli bir şube için özel yönetim panelini seçin."})]}),r.jsx("div",{className:"relative flex justify-center items-center min-h-[600px]",onTouchStart:v.handleTouchStart,onTouchMove:v.handleTouchMove,onTouchEnd:v.handleTouchEnd,onMouseDown:v.handleMouseDown,onMouseMove:v.handleMouseMove,onMouseUp:v.handleMouseUp,children:b.map((E,A)=>{const I=A-y,M=I===0;return r.jsx("div",{className:"absolute",style:{left:"50%",transform:`translateX(${-50+I*70}%)`,zIndex:M?20:10-Math.abs(I)},children:r.jsx(Sq,{item:E,isActive:M,index:A,onClick:()=>!M&&k(A),onSelect:E.type==="restaurant"?S:C})},`${E.type}-${E.id}`)})}),r.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"flex justify-center gap-3 mt-12",children:b.map((E,A)=>r.jsxs(re.button,{onClick:()=>k(A),className:`relative transition-all duration-300 ${y===A?"w-10 h-3":"w-3 h-3 hover:w-5"}`,whileHover:{scale:1.2},whileTap:{scale:.9},children:[r.jsx("div",{className:`w-full h-full rounded-full transition-all duration-300 ${y===A?"bg-gradient-to-r from-primary-600 to-primary-700 shadow-lg":"bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500"}`}),y===A&&r.jsx(re.div,{className:"absolute inset-0 rounded-full bg-gradient-to-r from-primary-600 to-primary-700",initial:{scale:0},animate:{scale:1},transition:{duration:.3}})]},A))})]})})]})):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-blue-50 to-gray-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:r.jsx(BS,{title:"Veri Bulunamadı",message:"Lütfen daha sonra tekrar deneyin.",onRetry:()=>{x.current=!1,j()}})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-blue-50 to-gray-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:r.jsx($S,{text:"Kimlik doğrulanıyor..."})})},Aq=({onSearch:e,onResultClick:t})=>{const[a,n]=p.useState(""),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState([]),g=p.useRef(null),{t:h,isRTL:x}=qe();si(g,()=>i(!1));const b=y=>{const k=y.target.value;n(k),i(!0),k.trim()?(l(!0),setTimeout(()=>{e(k),l(!1)},300)):u([])};return r.jsxs("div",{className:"relative",ref:g,dir:x?"rtl":"ltr",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:h("common.search"),value:a,onChange:b,className:`w-64 py-2 text-sm bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${x?"pr-10 pl-4":"pl-10 pr-4"}`}),r.jsx(Ja,{className:`absolute top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 ${x?"right-3":"left-3"}`})]}),s&&r.jsx("div",{className:`absolute top-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto ${x?"right-0 left-0":"left-0 right-0"}`,children:o?r.jsxs("div",{className:"p-4 text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-2 border-gray-300 dark:border-gray-600 border-t-primary-600"}),r.jsx("span",{className:`${x?"mr-2":"ml-2"} text-sm text-gray-500 dark:text-gray-400`,children:h("search.searching")})]}):c.length>0?r.jsx("div",{className:"py-2",children:c.map(y=>r.jsx("button",{onClick:()=>{t(y),i(!1),n(""),u([])},className:`w-full px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150 ${x?"text-right":"text-left"}`,children:r.jsxs("div",{className:`flex items-center ${x?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsxs("div",{className:"flex-shrink-0",children:[y.type==="product"&&r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),y.type==="order"&&r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),y.type==="branch"&&r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),y.type==="customer"&&r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"})]}),r.jsxs("div",{className:`flex-1 ${x?"mr-3":"ml-3"}`,children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y.title}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:y.description})]}),r.jsx("div",{className:`${x?"mr-2":"ml-2"}`,children:r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${y.type==="product"?"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300":y.type==="order"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":y.type==="branch"?"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300":"bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300"}`,children:y.type==="product"?h("search.types.product"):y.type==="order"?h("search.types.order"):y.type==="branch"?h("search.types.branch"):h("search.types.customer")})})]})},y.id))}):a.length>0?r.jsx("div",{className:"p-4 text-center",children:r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:h("search.noResults")})}):null})]})},Mq=({branchName:e,onTabChange:t,onLogout:a,isBranchOnly:n})=>{const[s,i]=p.useState(!1),[o,l]=p.useState(null),[c,u]=p.useState(!0),g=p.useRef(null),{t:h,isRTL:x}=qe();si(g,()=>i(!1)),p.useEffect(()=>{let v=!0;return(async()=>{try{const S=await Ko.getUserProfile();v&&l(S.data)}catch(S){if(v){const{logger:C}=await Lo(async()=>{const{logger:P}=await Promise.resolve().then(()=>Kd);return{logger:P}},void 0);C.error("ProfileDropdown: Kullanıcı bilgileri alınamadı",S)}}finally{v&&u(!1)}})(),()=>{v=!1}},[]);const b=()=>{if(!o)return{displayName:h("profile.defaultName"),initials:"K"};const{appUser:v}=o,j=`${v.name} ${v.surname}`.trim(),S=`${v.name?.charAt(0)||""}${v.surname?.charAt(0)||""}`.toUpperCase();return{displayName:j||h("profile.defaultName"),initials:S||"K"}},{displayName:y,initials:k}=b();return c?r.jsx("div",{className:"relative",children:r.jsxs("div",{className:`flex items-center ${x?"space-x-reverse space-x-3":"space-x-3"} p-2 rounded-lg`,children:[r.jsx("div",{className:"hidden md:block",children:r.jsx("div",{className:`h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse mb-1 ${x?"text-right":"text-left"}`})}),r.jsx("div",{className:"h-8 w-8 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"}),r.jsx("div",{className:"h-4 w-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]})}):r.jsxs("div",{className:"relative",ref:g,dir:x?"rtl":"ltr",children:[r.jsxs("button",{onClick:()=>i(!s),className:`flex items-center ${x?"space-x-reverse space-x-3":"space-x-3"} p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200`,children:[r.jsxs("div",{className:`hidden md:block ${x?"text-right":"text-left"}`,children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y}),e&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e})]}),r.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium text-white",children:k})}),r.jsx(lr,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&r.jsx("div",{className:`absolute mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50 ${x?"left-0":"right-0"}`,children:r.jsxs("div",{className:"py-2",children:[r.jsxs("button",{onClick:()=>{t("profile"),i(!1)},className:`w-full px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center ${x?"text-right space-x-reverse space-x-3":"text-left space-x-3"}`,children:[r.jsx(ln,{className:"h-4 w-4"}),r.jsx("span",{children:h("profile.title")})]}),!n&&r.jsxs("button",{onClick:()=>{t("settings"),i(!1)},className:`w-full px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center ${x?"text-right space-x-reverse space-x-3":"text-left space-x-3"}`,children:[r.jsx(Yr,{className:"h-4 w-4"}),r.jsx("span",{children:h("settings.title")})]}),r.jsx("hr",{className:"my-2 border-gray-200 dark:border-gray-700"}),r.jsxs("button",{onClick:()=>{a(),i(!1)},className:`w-full px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 flex items-center ${x?"text-right space-x-reverse space-x-3":"text-left space-x-3"}`,children:[r.jsx(nc,{className:"h-4 w-4"}),r.jsx("span",{children:h("auth.logout")})]})]})})]})},Iq=({toggleSidebar:e,activeTab:t,branchName:a,onLogout:n,onSearch:s,onSearchResultClick:i,isBranchOnly:o,onTabChange:l})=>{const{isDark:c,toggleTheme:u}=mi(),{t:g,language:h}=qe(),x=h==="ar",b=()=>{switch(t){case"overview":return{title:g("dashboard.overview.title"),description:g("dashboard.overview.description")};case"branches":return{title:g("dashboard.branches.title"),description:g("dashboard.branches.description")};case"orders":return{title:g("dashboard.orders.title"),description:g("dashboard.orders.description")};case"products":return{title:g("dashboard.products.title"),description:g("dashboard.products.description")};case"tables":return{title:g("dashboard.tables.title"),description:g("dashboard.tables.description")};case"users":return{title:g("dashboard.users.title"),description:g("dashboard.users.description")};case"settings":return{title:g("dashboard.settings.title"),description:g("dashboard.settings.description")};case"profile":return{title:g("dashboard.profile.title"),description:g("dashboard.profile.description")};default:return{title:"",description:""}}},{title:y,description:k}=b();return r.jsx("div",{className:`fixed top-0 z-40 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 shadow-sm ${x?"left-0 right-0 lg:left-0 lg:right-64":"left-0 right-0 lg:left-64 lg:right-0"}`,children:r.jsx("nav",{className:"w-full px-4 lg:px-8 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:`flex items-center ${x?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-md text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(iM,{className:"h-6 w-6"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:y}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:k})]})]}),r.jsxs("div",{className:`flex items-center ${x?"space-x-reverse space-x-4":"space-x-4"}`,children:[r.jsx(Aq,{onSearch:s,onResultClick:i}),r.jsx(lw,{variant:"navbar"}),r.jsx("button",{onClick:u,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",title:g(c?"theme.toggleToLight":"theme.toggleToDark"),"aria-label":g("accessibility.theme"),children:c?r.jsx(ym,{className:"h-5 w-5"}):r.jsx(Yk,{className:"h-5 w-5"})}),r.jsxs("button",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200 relative","aria-label":g("accessibility.notifications"),title:g("notifications.title"),children:[r.jsx(lv,{className:"h-5 w-5"}),r.jsx("span",{className:`absolute -top-1 ${x?"-left-1":"-right-1"} h-3 w-3 bg-red-500 rounded-full text-xs text-white flex items-center justify-center`,children:"3"})]}),r.jsx(Mq,{branchName:a,onTabChange:l,onLogout:n,isBranchOnly:o})]})]})})})},Eq=({isOpen:e,onClose:t,activeTab:a,setActiveTab:n,restaurantName:s,branchName:i,isBranchOnly:o,onLogout:l,onSelectBranch:c,onBackToMain:u})=>{const g=ya(),{isDark:h}=mi(),{t:x,language:b}=qe(),y=b==="ar",k=(j,S)=>{g(`/dashboard/${j}`),n(S),e&&t()},v=()=>{g("/")};return r.jsxs(r.Fragment,{children:[e&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:t}),r.jsx("aside",{className:`fixed inset-y-0 ${y?"right-0":"left-0"} z-30 w-64 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${e?"translate-x-0":y?"translate-x-full":"-translate-x-full"}`,children:r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:`px-6 py-5 flex items-center justify-between border-b border-gray-200 dark:border-gray-700 ${y?"flex-row-reverse":""}`,children:[r.jsxs("button",{onClick:v,className:"flex items-center hover:opacity-80 transition-opacity duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 rounded-lg p-1",children:[r.jsx(pr,{className:"h-8 w-8 text-primary-600 dark:text-primary-400"}),r.jsx("span",{className:`${y?"mr-3":"ml-3"} text-xl font-bold text-gray-900 dark:text-white`,children:x("dashboard.sidebar.title")})]}),r.jsx("button",{onClick:t,className:"lg:hidden p-2 rounded-md text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(at,{className:"h-6 w-6"})})]}),r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsx("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 truncate",children:s})}),r.jsxs("nav",{className:"mt-5 flex-1 px-3 space-y-1",children:[r.jsxs("button",{onClick:()=>k("overview","overview"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="overview"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${y?"text-right":"text-left"}`,children:[r.jsx($l,{className:`h-5 w-5 ${y?"ml-3":"mr-3"}`}),r.jsx("span",{className:"truncate",children:x("dashboard.overview.title")})]}),r.jsxs("button",{onClick:()=>k("RestaurantManagement","RestaurantManagement"),className:`w-full flex items-center text-sm px-3 py-2 rounded-md transition-colors duration-200 ${a==="RestaurantManagement"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${y?"text-right":"text-left"}`,children:[r.jsx(EF,{className:`h-5 w-5 ${y?"ml-3":"mr-3"}`}),r.jsx("span",{className:"truncate",children:x("dashboard.RestaurantManagement.title")})]}),!i&&!o&&r.jsxs("button",{onClick:()=>k("branches","branches"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="branches"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${y?"text-right":"text-left"}`,children:[r.jsx(Ds,{className:`h-5 w-5 ${y?"ml-3":"mr-3"}`}),r.jsx("span",{className:"truncate",children:x("dashboard.branches.title")})]}),r.jsxs("button",{onClick:()=>k("ResturantOrders","ResturantOrders"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="ResturantOrders"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${y?"text-right":"text-left"}`,children:[r.jsx(da,{className:`h-5 w-5 ${y?"ml-3":"mr-3"}`}),r.jsx("span",{children:x("dashboard.orders.title")})]}),r.jsxs("button",{onClick:()=>k("products","products"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="products"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${y?"text-right":"text-left"}`,children:[r.jsx(Aa,{className:`h-5 w-5 ${y?"ml-3":"mr-3"}`}),r.jsx("span",{children:x("dashboard.products.title")})]}),r.jsxs("button",{onClick:()=>k("ingredients","ingredients"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="ingredients"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${y?"text-right":"text-left"}`,children:[r.jsx(bF,{className:`h-5 w-5 ${y?"ml-3":"mr-3"}`}),r.jsx("span",{children:x("dashboard.ingredients.title")})]}),r.jsxs("button",{onClick:()=>k("tables","tables"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="tables"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${y?"text-right":"text-left"}`,children:[r.jsx($l,{className:`h-5 w-5 ${y?"ml-3":"mr-3"}`}),r.jsx("span",{children:x("dashboard.tables.title")})]}),r.jsxs("button",{onClick:()=>k("orderTypeResturant","orderTypeResturant"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="orderTypeResturant"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${y?"text-right":"text-left"}`,children:[r.jsx(Vu,{className:`h-5 w-5 ${y?"ml-3":"mr-3"}`}),r.jsx("span",{children:x("dashboard.orderType.title")})]}),!o&&r.jsxs("button",{onClick:()=>k("users","users"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="users"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${y?"text-right":"text-left"}`,children:[r.jsx(Ht,{className:`h-5 w-5 ${y?"ml-3":"mr-3"}`}),r.jsx("span",{children:x("dashboard.users.title")})]}),!o&&r.jsxs("button",{onClick:()=>k("ResturantSettings","ResturantSettings"),className:`w-full flex items-center px-4 py-3 rounded-lg ${a==="ResturantSettings"?"bg-primary-50 text-primary-700 dark:bg-primary-900/50 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${y?"text-right":"text-left"}`,children:[r.jsx(Yr,{className:`h-5 w-5 ${y?"ml-3":"mr-3"}`}),r.jsx("span",{children:x("dashboard.settings.title")})]})]}),r.jsx("div",{className:"px-4 py-4 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("button",{onClick:l,className:`w-full flex items-center px-4 py-3 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg ${y?"text-right":"text-left"}`,children:[r.jsx(nc,{className:`h-5 w-5 ${y?"ml-3":"mr-3"}`}),r.jsx("span",{children:x("dashboard.sidebar.logout")})]})})]})})]})},Oq=({branch:e,onEdit:t,onDelete:a,onPurge:n,onToggleTemporaryClose:s})=>{const[i,o]=p.useState(!1),[l,c]=p.useState(!1),{t:u,language:g}=qe(),h=g==="ar",b=e.isTemporarilyClosed?{color:"bg-amber-500/90 text-white border-amber-400/50 shadow-amber-500/25",icon:r.jsx(zt,{className:"w-4 h-4"}),text:u("branchCard.status.temporaryClosed")}:e.isOpenNow?{color:"bg-emerald-500/90 text-white border-emerald-400/50 shadow-emerald-500/25",icon:r.jsx(xt,{className:"w-4 h-4"}),text:u("branchCard.status.open")}:{color:"bg-green-500/90 text-white border-green-400/50 shadow-green-500/25",icon:r.jsx(fa,{className:"w-4 h-4"}),text:u("branchCard.status.open")},y=e.branchStatus?" text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300",k=async v=>{c(!0);try{await s(e.branchId,v)}finally{c(!1)}};return r.jsxs(re.div,{className:"relative w-full max-w-xs h-[370px] bg-white/95 dark:bg-gray-800/95 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 dark:border-gray-700/30 overflow-hidden group hover:shadow-3xl hover:border-white/30 dark:hover:border-gray-600/40 transition-all duration-700 flex flex-col cursor-pointer",initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},whileHover:{scale:1.04,boxShadow:"0 8px 32px 0 rgba(31,38,135,0.12)"},transition:{duration:.4,ease:[.4,0,.2,1]},children:[r.jsx("div",{className:`absolute top-4 ${h?"left-4":"right-4"} z-10`,children:r.jsxs("div",{className:`flex items-center ${h?"space-x-reverse space-x-2":"space-x-2"} px-3 py-2 rounded-full text-xs font-semibold backdrop-blur-md border shadow-lg ${b.color} transform transition-all duration-300 group-hover:scale-105`,children:[b.icon,r.jsx("span",{children:b.text})]})}),r.jsxs("div",{className:`absolute top-4 ${h?"right-4":"left-4"} z-10`,children:[r.jsx("button",{onClick:v=>{v.stopPropagation(),o(!i)},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:r.jsx(Wd,{className:"h-5 w-5"})}),r.jsx(jt,{children:i&&r.jsxs(re.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.18},className:`absolute ${h?"right-0":"left-0"} top-full mt-2 w-48 bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-10`,children:[r.jsxs("button",{onClick:()=>{t(e),o(!1)},className:`w-full flex items-center ${h?"space-x-reverse space-x-2":"space-x-2"} px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors ${h?"text-right":"text-left"}`,children:[r.jsx(Kl,{className:"h-4 w-4"}),r.jsx("span",{children:u("branchCard.actions.edit")})]}),r.jsxs("button",{onClick:()=>{a(e),o(!1)},className:`w-full flex items-center ${h?"space-x-reverse space-x-2":"space-x-2"} px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors ${h?"text-right":"text-left"}`,children:[r.jsx(er,{className:"h-4 w-4"}),r.jsx("span",{children:u("branchCard.actions.delete")})]}),r.jsxs("button",{onClick:()=>{n(e),o(!1)},className:`w-full flex items-center ${h?"space-x-reverse space-x-2":"space-x-2"} px-4 py-2 text-sm text-red-700 dark:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors border-t border-gray-200 dark:border-gray-700 ${h?"text-right":"text-left"}`,children:[r.jsx(oa,{className:"h-4 w-4"}),r.jsx("span",{children:u("branchCard.actions.purge")||"Permanent Delete"})]})]})})]}),r.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 pt-12 pb-4 px-6",children:[r.jsx("div",{className:"flex items-center justify-center w-20 h-20 mb-4 rounded-3xl shadow-2xl transition-all duration-500 group-hover:shadow-3xl group-hover:scale-110 bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700",children:e.branchLogoPath?r.jsx("img",{src:e.branchLogoPath,alt:`${e.branchName} ${u("branchCard.alt.logo")}`,className:"w-12 h-12 object-cover rounded-2xl bg-white/10"}):r.jsx(pr,{className:"w-10 h-10 text-white drop-shadow-lg"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white text-center mb-2 leading-tight group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-gray-900 group-hover:to-gray-600 dark:group-hover:from-white dark:group-hover:to-gray-300 group-hover:bg-clip-text transition-all duration-500",children:e.branchName}),r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsxs("div",{className:`flex items-center ${h?"space-x-reverse space-x-2":"space-x-2"} px-4 py-3 rounded-2xl border backdrop-blur-sm transition-all duration-300 group-hover:scale-105 ${e.isTemporarilyClosed?"bg-amber-50/80 dark:bg-amber-900/30 border-amber-200/50 dark:border-amber-700/50 text-amber-700 dark:text-amber-300":e.isOpenNow?"bg-emerald-50/80 dark:bg-emerald-900/30 border-emerald-200/50 dark:border-emerald-700/50 text-emerald-700 dark:text-emerald-300":"bg-red-50/80 dark:bg-green-900/30 border-green-200/50 dark:border-green-700/50 text-green-700 dark:text-green-300"}`,children:[r.jsx(zt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:e.isTemporarilyClosed?u("branchCard.status.temporaryClosed"):(e.isOpenNow,u("branchCard.status.open"))})]})}),r.jsxs("div",{className:`flex items-center ${h?"space-x-reverse space-x-2":"space-x-2"} mt-2`,children:[r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"isTemporarilyClosed",type:"checkbox",className:"sr-only peer",checked:e.isTemporarilyClosed,onChange:v=>k(v.target.checked),disabled:l}),r.jsx("div",{className:`w-11 h-6 bg-gray-200 dark:bg-gray-700 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 transition-colors duration-200 ${e.isTemporarilyClosed?"bg-amber-500 dark:bg-amber-600":"bg-emerald-500 dark:bg-emerald-600"}`}),r.jsx("div",{className:`absolute ${h?"right-1":"left-1"} top-1 bg-white w-4 h-4 rounded-full transition-transform duration-200 ${e.isTemporarilyClosed?h?"-translate-x-5":"translate-x-5":""} ${l?"animate-pulse":""}`})]}),e.isTemporarilyClosed&&r.jsx("span",{className:`text-xs text-amber-600 dark:text-amber-400 font-medium flex items-center ${h?"space-x-reverse space-x-1":"space-x-1"} ${h?"mr-1":"ml-1"}`,children:r.jsx(Wo,{className:"w-3 h-3"})})]})]}),r.jsxs("div",{className:"flex items-center justify-center pb-4 flex-col gap-1",children:[r.jsx("div",{className:`rounded-full px-3 py-1 text-xs font-semibold ${y}`,children:e.branchStatus?u("branchCard.status.active"):u("branchCard.status.inactive")}),e.BranchIsOpen!==void 0&&r.jsxs("div",{className:"mt-1 text-xs text-blue-600 dark:text-blue-300 font-semibold",children:[u("branchCard.labels.apiBranchOpen")," ",String(e.BranchIsOpen)]})]})]})},Dq=({isOpen:e,onClose:t,onSubmit:a,formData:n,setFormData:s,isSubmitting:i,onInputChange:o,onWorkingHourChange:l})=>{const{t:c,language:u}=qe(),g=u==="ar",[h,x]=p.useState(1),[b,y]=p.useState({}),[k,v]=p.useState(null),[j,S]=p.useState(n.branchLogoPath||null),[C,P]=p.useState(!1),E=Array.isArray(c("branchModal.workingHours.days"))?c("branchModal.workingHours.days"):u==="ar"?["الإثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت","الأحد"]:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];p.useEffect(()=>{S(n.branchLogoPath||null)},[n.branchLogoPath]);const A=X=>X.substring(0,5),I=X=>`${X}:00`,M=({checked:X,onChange:B,disabled:H})=>r.jsx("button",{type:"button",onClick:()=>!H&&B(!X),disabled:H,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${X?"bg-primary-600":"bg-gray-200 dark:bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${X?g?"-translate-x-6":"translate-x-6":g?"-translate-x-1":"translate-x-1"}`})}),F=X=>{const B={};return X===1?(n.branchName?.trim()||(B.branchName=c("branchModal.errors.branchName")),n.whatsappOrderNumber?.trim()||(B.whatsappOrderNumber=c("branchModal.errors.whatsappNumber"))):X===2?(n.createAddressDto.country?.trim()||(B["address.country"]=c("branchModal.errors.country")),n.createAddressDto.city?.trim()||(B["address.city"]=c("branchModal.errors.city")),n.createAddressDto.street?.trim()||(B["address.street"]=c("branchModal.errors.street")),n.createAddressDto.addressLine1?.trim()||(B["address.addressLine1"]=c("branchModal.errors.addressLine1")),n.createAddressDto.zipCode?.trim()||(B["address.zipCode"]=c("branchModal.errors.zipCode"))):X===3&&(n.createContactDto.phone?.trim()||(B["contact.phone"]=c("branchModal.errors.phone")),n.createContactDto.mail?.trim()||(B["contact.mail"]=c("branchModal.errors.email")),n.createContactDto.location?.trim()||(B["contact.location"]=c("branchModal.errors.location"))),y(B),Object.keys(B).length===0},Q=X=>{const{name:B,value:H}=X.target;let z;if(B.startsWith("address.")){const $=B.split(".")[1];z={...n,createAddressDto:{...n.createAddressDto,[$]:H}}}else if(B.startsWith("contact.")){const $=B.split(".")[1];z={...n,createContactDto:{...n.createContactDto,[$]:H}}}else z={...n,[B]:H};s(z),b[B]&&y($=>({...$,[B]:""})),o(X)},U=(X,B,H)=>{if(!n.createBranchWorkingHourCoreDto)return;const z={...n,createBranchWorkingHourCoreDto:n.createBranchWorkingHourCoreDto.map(($,_)=>_===X?B==="openTime"||B==="closeTime"?{...$,[B]:I(H)}:B==="isWorkingDay"?{...$,isWorkingDay:H}:{...$,[B]:H}:$)};s(z),l(X,B,H)},V=async X=>{const B=X.target.files?.[0];if(B){v(B);const H=new FileReader;H.onload=z=>{S(z.target?.result)},H.readAsDataURL(B),await K(B)}},K=async X=>{const B=X||k;if(B){P(!0);try{const H=await Wi.uploadFile(B);s(z=>({...z,branchLogoPath:H})),v(null)}catch(H){console.error("Logo upload error:",H)}finally{P(!1)}}},Z=()=>{F(h)&&h<3&&x(h+1)},ie=()=>{h>1&&x(h-1)},te=async()=>{F(3)&&await a(n)},R=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:c("branchModal.sections.basicInfo")}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"branchName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.branchName.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:`absolute ${g?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"branchName",name:"branchName",value:n.branchName||"",onChange:Q,className:`w-full ${g?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${b.branchName?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${g?"text-right":"text-left"}`,placeholder:c("branchModal.fields.branchName.placeholder")})]}),b.branchName&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b.branchName})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"whatsappOrderNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.whatsappNumber.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(Gr,{className:`absolute ${g?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"tel",id:"whatsappOrderNumber",name:"whatsappOrderNumber",value:n.whatsappOrderNumber||"",onChange:Q,className:`w-full ${g?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${b.whatsappOrderNumber?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${g?"text-right":"text-left"}`,placeholder:c("branchModal.fields.whatsappNumber.placeholder")})]}),b.whatsappOrderNumber&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b.whatsappOrderNumber})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.branchLogo.label")}),r.jsxs("div",{className:"space-y-4",children:[(j||n.branchLogoPath)&&r.jsxs("div",{className:`flex items-center ${g?"space-x-reverse space-x-4":"space-x-4"}`,children:[r.jsx("img",{src:j||n.branchLogoPath||"",alt:c("branchModal.fields.branchLogo.preview"),className:"w-24 h-24 object-cover rounded-lg border-2 border-gray-300 dark:border-gray-600"}),n.branchLogoPath&&r.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:c("branchModal.fields.branchLogo.success")})]}),r.jsxs("div",{className:`flex items-center ${g?"space-x-reverse space-x-4":"space-x-4"}`,children:[r.jsx("input",{type:"file",id:"branchLogo",accept:"image/*",onChange:V,className:"hidden",disabled:C}),r.jsxs("label",{htmlFor:"branchLogo",className:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-200 ${C?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[r.jsx(li,{className:`h-4 w-4 ${g?"ml-2":"mr-2"}`}),c(C?"branchModal.fields.branchLogo.uploading":"branchModal.fields.branchLogo.select")]})]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c("branchModal.fields.branchLogo.supportText")})]})]})]})]})}),D=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:c("branchModal.sections.addressInfo")}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.country.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(Yi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"country",name:"address.country",value:n.createAddressDto.country||"",onChange:Q,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${b["address.country"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:c("branchModal.fields.country.placeholder")})]}),b["address.country"]&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b["address.country"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.city.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"city",name:"address.city",value:n.createAddressDto.city||"",onChange:Q,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${b["address.city"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:c("branchModal.fields.city.placeholder")})]}),b["address.city"]&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b["address.city"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.street.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(cv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"street",name:"address.street",value:n.createAddressDto.street||"",onChange:Q,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${b["address.street"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:c("branchModal.fields.street.placeholder")})]}),b["address.street"]&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b["address.street"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.zipCode.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(da,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"zipCode",name:"address.zipCode",value:n.createAddressDto.zipCode||"",onChange:Q,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${b["address.zipCode"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:c("branchModal.fields.zipCode.placeholder")})]}),b["address.zipCode"]&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b["address.zipCode"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"addressLine1",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.addressLine1.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(Vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"addressLine1",name:"address.addressLine1",value:n.createAddressDto.addressLine1||"",onChange:Q,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${b["address.addressLine1"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:c("branchModal.fields.addressLine1.placeholder")})]}),b["address.addressLine1"]&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b["address.addressLine1"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"addressLine2",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.addressLine2.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(Vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"addressLine2",name:"address.addressLine2",value:n.createAddressDto.addressLine2||"",onChange:Q,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:c("branchModal.fields.addressLine2.placeholder")})]})]})]})]})}),W=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:c("branchModal.sections.contactInfo")}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.phone.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(Gr,{className:`absolute ${g?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"tel",id:"phone",name:"contact.phone",value:n.createContactDto.phone||"",onChange:Q,className:`w-full ${g?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${b["contact.phone"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${g?"text-right":"text-left"}`,placeholder:c("branchModal.fields.phone.placeholder")})]}),b["contact.phone"]&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b["contact.phone"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"mail",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.email.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(Ws,{className:`absolute ${g?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"email",id:"mail",name:"contact.mail",value:n.createContactDto.mail||"",onChange:Q,className:`w-full ${g?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${b["contact.mail"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${g?"text-right":"text-left"}`,placeholder:c("branchModal.fields.email.placeholder")})]}),b["contact.mail"]&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b["contact.mail"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.location.label")}),r.jsxs("div",{className:"relative",children:[r.jsx($r,{className:`absolute ${g?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"location",name:"contact.location",value:n.createContactDto.location||"",onChange:Q,className:`w-full ${g?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${b["contact.location"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${g?"text-right":"text-left"}`,placeholder:c("branchModal.fields.location.placeholder")})]}),b["contact.location"]&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b["contact.location"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contactHeader",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.contactHeader.label")}),r.jsx("input",{type:"text",id:"contactHeader",name:"contact.contactHeader",value:n.createContactDto.contactHeader||"",onChange:Q,className:"w-full py-3 px-4 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:c("branchModal.fields.contactHeader.placeholder")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"footerTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.footerTitle.label")}),r.jsx("input",{type:"text",id:"footerTitle",name:"contact.footerTitle",value:n.createContactDto.footerTitle||"",onChange:Q,className:"w-full py-3 px-4 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:c("branchModal.fields.footerTitle.placeholder")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"footerDescription",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.footerDescription.label")}),r.jsx("input",{type:"text",id:"footerDescription",name:"contact.footerDescription",value:n.createContactDto.footerDescription||"",onChange:Q,className:"w-full py-3 px-4 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:c("branchModal.fields.footerDescription.placeholder")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"openTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.openTitle.label")}),r.jsx("input",{type:"text",id:"openTitle",name:"contact.openTitle",value:n.createContactDto.openTitle||"",onChange:Q,className:"w-full py-3 px-4 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:c("branchModal.fields.openTitle.placeholder")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"openDays",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.openDays.label")}),r.jsx("input",{type:"text",id:"openDays",name:"contact.openDays",value:n.createContactDto.openDays||"",onChange:Q,className:"w-full py-3 px-4 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:c("branchModal.fields.openDays.placeholder")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"openHours",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.openHours.label")}),r.jsx("input",{type:"text",id:"openHours",name:"contact.openHours",value:n.createContactDto.openHours||"",onChange:Q,className:"w-full py-3 px-4 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:c("branchModal.fields.openHours.placeholder")})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:`flex items-center ${g?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(zt,{className:"h-6 w-6 text-primary-600"}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c("branchModal.sections.workingHours")})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c("branchModal.workingHours.description")}),r.jsx("div",{className:"space-y-3",children:n.createBranchWorkingHourCoreDto?.map((X,B)=>r.jsxs("div",{className:`relative group p-5 border border-gray-200 dark:border-gray-700 rounded-xl transition-all duration-200 hover:shadow-md ${X.isWorkingDay?"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 border-green-200 dark:border-green-700":"bg-gray-50 dark:bg-gray-800/50"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:`flex items-center ${g?"space-x-reverse space-x-4":"space-x-4"}`,children:[r.jsx("div",{className:"min-w-[100px]",children:r.jsx("span",{className:"text-base font-medium text-gray-900 dark:text-gray-100",children:E[X.dayOfWeek===0?6:X.dayOfWeek-1]})}),r.jsxs("div",{className:`flex items-center ${g?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx(M,{checked:X.isWorkingDay,onChange:H=>U(B,"isWorkingDay",H)}),r.jsx("span",{className:`text-sm font-medium transition-colors ${X.isWorkingDay?"text-green-700 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:X.isWorkingDay?c("branchModal.workingHours.open"):c("branchModal.workingHours.closed")})]})]}),r.jsxs("div",{className:`flex items-center ${g?"space-x-reverse space-x-3":"space-x-3"} transition-opacity ${X.isWorkingDay?"":"opacity-40"}`,children:[r.jsxs("div",{className:`flex items-center ${g?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:c("branchModal.workingHours.openTime")}),r.jsx("input",{title:"time",type:"time",value:A(X.openTime),onChange:H=>U(B,"openTime",H.target.value),disabled:!X.isWorkingDay,className:`px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium transition-all focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${X.isWorkingDay?"hover:border-primary-300":"cursor-not-allowed bg-gray-100 dark:bg-gray-800"}`})]}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"w-6 h-px bg-gray-300 dark:bg-gray-600"})}),r.jsxs("div",{className:`flex items-center ${g?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:c("branchModal.workingHours.closeTime")}),r.jsx("input",{title:"time",type:"time",value:A(X.closeTime),onChange:H=>U(B,"closeTime",H.target.value),disabled:!X.isWorkingDay,className:`px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium transition-all focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${X.isWorkingDay?"hover:border-primary-300":"cursor-not-allowed bg-gray-100 dark:bg-gray-800"}`})]})]})]}),X.isWorkingDay&&r.jsx("div",{className:"mt-3 pt-3 border-t border-green-200 dark:border-green-700/50",children:r.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:c("branchModal.workingHours.canOrder")})})]},X.dayOfWeek))}),r.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg",children:r.jsxs("div",{className:`flex items-start ${g?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx(on,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:c("branchModal.workingHours.infoTitle")}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:c("branchModal.workingHours.infoText")})]})]})})]})]});return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-6xl h-[95vh] flex flex-col",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n.branchName?c("branchModal.title.edit"):c("branchModal.title.add")}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:c("branchModal.subtitle")})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:r.jsx(at,{className:"h-6 w-6"})})]})}),r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{"aria-label":"Progress",children:r.jsx("ol",{role:"list",className:"flex items-center",children:[{id:1,name:c("branchModal.steps.basic"),icon:pr},{id:2,name:c("branchModal.steps.address"),icon:$r},{id:3,name:c("branchModal.steps.contact"),icon:zt}].map((X,B)=>{const H=X.icon,z=h>=X.id;return r.jsx("li",{className:`relative ${B!==2?g?"pl-8 sm:pl-20":"pr-8 sm:pr-20":""}`,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{type:"button",disabled:!z,onClick:()=>z&&x(X.id),className:`focus:outline-none transition-shadow duration-200 rounded-full ${z?"hover:shadow-lg":""}`,"aria-label":X.name,children:r.jsx("div",{className:`${h>=X.id?"bg-primary-600 border-primary-600":"bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-600"} rounded-full transition-colors duration-200 h-10 w-10 flex items-center justify-center border-2`,children:r.jsx(H,{className:`w-5 h-5 ${h>=X.id?"text-white":"text-gray-500 dark:text-gray-400"}`})})}),r.jsx("div",{className:`hidden sm:block text-sm font-medium ${h>=X.id?"text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400"} ${g?"mr-3":"ml-3"}`,children:X.name}),B!==2&&r.jsx("div",{className:`hidden sm:block absolute top-5 ${g?"left-0":"right-0"} w-20 h-0.5 transition-colors duration-200 ${h>X.id?"bg-primary-600 dark:bg-primary-400":"bg-gray-300 dark:bg-gray-600"}`})]})},X.name)})})})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[h===1&&R(),h===2&&D(),h===3&&W()]}),r.jsxs("div",{className:"flex justify-between items-center p-6 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[r.jsxs("button",{type:"button",onClick:h===1?t:ie,className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-200",children:[h===1?r.jsx(at,{className:`w-4 h-4 ${g?"ml-2":"mr-2"}`}):g?r.jsx(Ii,{className:"w-4 h-4 ml-2"}):r.jsx(Bs,{className:"w-4 h-4 mr-2"}),c(h===1?"branchModal.buttons.cancel":"branchModal.buttons.back")]}),r.jsxs("button",{type:"button",onClick:h===3?te:Z,className:"inline-flex items-center px-4 py-2 text-sm fonßt-medium rounded-md bg-primary-600 text-white hover:bg-primary-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:i,children:[c(h===3?i?"branchModal.buttons.saving":"branchModal.buttons.save":"branchModal.buttons.next"),h===3?r.jsx(r.Fragment,{}):g?r.jsx(Bs,{className:"w-4 h-4 ml-2"}):r.jsx(Ii,{className:"w-4 h-4 ml-2"})]})]})]})}):null},Rq=({isOpen:e,onClose:t,onSubmit:a,branchDetail:n,isSubmitting:s})=>{const{t:i,isRTL:o}=qe(),[l,c]=p.useState({branchName:"",restaurantId:n.restaurantId,whatsappOrderNumber:null,branchLogoPath:null,createAddressDto:{country:null,city:null,street:null,zipCode:null,addressLine1:null,addressLine2:null},createContactDto:{phone:null,mail:null,location:null,contactHeader:null,footerTitle:null,footerDescription:null,openTitle:null,openDays:null,openHours:null},createBranchWorkingHourCoreDto:[]}),[u,g]=p.useState(!1),[h,x]=p.useState("general"),[b,y]=p.useState({}),[k,v]=p.useState(!1),[j,S]=p.useState(null),[C,P]=p.useState(null),E=[{dayOfWeek:1,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:2,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:3,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:4,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:5,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:6,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:0,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0}],A=K=>i(`branchManagement.form.dayNames.${K}`);p.useEffect(()=>{if(n&&e){N.info("Initializing form data from branch detail",n,{prefix:"BranchEditModal"});const K={branchName:n.branchName||"",restaurantId:n.restaurantId,whatsappOrderNumber:n.whatsappOrderNumber||null,branchLogoPath:n.branchLogoPath||null,createAddressDto:{country:n.address?.country||null,city:n.address?.city||null,street:n.address?.street||null,zipCode:n.address?.zipCode||null,addressLine1:n.address?.addressLine1||null,addressLine2:n.address?.addressLine2||null},createContactDto:{phone:n.contact?.phone||null,mail:n.contact?.mail||null,location:n.contact?.location||null,contactHeader:n.contact?.contactHeader||null,footerTitle:n.contact?.footerTitle||null,footerDescription:n.contact?.footerDescription||null,openTitle:n.contact?.openTitle||null,openDays:n.contact?.openDays||null,openHours:n.contact?.openHours||null},createBranchWorkingHourCoreDto:n.workingHours?.length?n.workingHours.map(Z=>({dayOfWeek:Z.dayOfWeek,openTime:Z.openTime||"08:00:00",closeTime:Z.closeTime||"22:00:00",isWorkingDay:Z.isWorkingDay??!0})):E};c(K),P(n.branchLogoPath),g(!1),x("general"),y({}),S(null)}},[n,e]);const I=()=>{const K={};return l.branchName?.trim()||(K.branchName=i("branchManagement.form.branchNameRequired")),l.createBranchWorkingHourCoreDto?.some(ie=>ie.isWorkingDay)||(K.workingHours=i("branchManagement.form.workingHoursRequired")),y(K),Object.keys(K).length===0},M=K=>{const{name:Z,value:ie}=K.target;if(Z.includes(".")){const[te,R]=Z.split(".");c(D=>({...D,[te]:{...D[te],[R]:ie||null}}))}else c(te=>({...te,[Z]:ie||null}));g(!0),b[Z]&&y(te=>{const R={...te};return delete R[Z],R})},F=(K,Z,ie)=>{c(te=>({...te,createBranchWorkingHourCoreDto:te.createBranchWorkingHourCoreDto.map((R,D)=>D===K?{...R,[Z]:ie}:R)})),g(!0),b.workingHours&&y(te=>{const R={...te};return delete R.workingHours,R})},Q=async K=>{const Z=K.target.files?.[0];if(Z){if(!Z.type.startsWith("image/")){S(i("branchManagement.modal.errors.invalidFileType"));return}if(Z.size>5*1024*1024){S(i("branchManagement.modal.errors.fileSizeError"));return}S(null),v(!0);try{const ie=new FileReader;ie.onload=D=>{P(D.target?.result)},ie.readAsDataURL(Z);const te=l.branchLogoPath,R=await Wi.uploadFile(Z,te||void 0);c(D=>({...D,branchLogoPath:R})),g(!0),N.info("Image uploaded successfully",{newImageUrl:R},{prefix:"BranchEditModal"})}catch(ie){N.error("Image upload failed",ie,{prefix:"BranchEditModal"}),S(i("branchManagement.modal.errors.imageUploadError")),P(l.branchLogoPath)}finally{v(!1),K.target.value=""}}},U=async()=>{if(l.branchLogoPath)try{await Wi.deleteFile(l.branchLogoPath),c(K=>({...K,branchLogoPath:null})),P(null),g(!0),N.info("Image removed successfully",null,{prefix:"BranchEditModal"})}catch(K){N.error("Image removal failed",K,{prefix:"BranchEditModal"}),S(i("branchManagement.modal.errors.imageRemoveError"))}},V=async K=>{if(K.preventDefault(),!I()){b.branchName&&x("general"),b.workingHours&&x("workingHours");return}S(null);try{const Z={branchName:l.branchName?.trim()||null,whatsappOrderNumber:l.whatsappOrderNumber?.trim()||null,restaurantId:l.restaurantId,branchLogoPath:l.branchLogoPath||null,createAddressDto:{country:l.createAddressDto.country?.trim()||null,city:l.createAddressDto.city?.trim()||null,street:l.createAddressDto.street?.trim()||null,zipCode:l.createAddressDto.zipCode?.trim()||null,addressLine1:l.createAddressDto.addressLine1?.trim()||null,addressLine2:l.createAddressDto.addressLine2?.trim()||null},createContactDto:{phone:l.createContactDto.phone?.trim()||null,mail:l.createContactDto.mail?.trim()||null,location:l.createContactDto.location?.trim()||null,contactHeader:l.createContactDto.contactHeader?.trim()||null,footerTitle:l.createContactDto.footerTitle?.trim()||null,footerDescription:l.createContactDto.footerDescription?.trim()||null,openTitle:l.createContactDto.openTitle?.trim()||null,openDays:l.createContactDto.openDays?.trim()||null,openHours:l.createContactDto.openHours?.trim()||null},createBranchWorkingHourCoreDto:l.createBranchWorkingHourCoreDto?.map(ie=>({dayOfWeek:ie.dayOfWeek,openTime:ie.openTime,closeTime:ie.closeTime,isWorkingDay:ie.isWorkingDay}))||[]};N.info("Submitting branch update data",Z,{prefix:"BranchEditModal"}),await a(Z),N.info("Branch update successful",null,{prefix:"BranchEditModal"})}catch(Z){if(N.error("Branch update failed",Z,{prefix:"BranchEditModal"}),Z?.response?.status===400){const ie=Z?.response?.data;if(ie?.errors){const te={};Object.entries(ie.errors).forEach(([R,D])=>{if(Array.isArray(D)&&D.length>0){const W=R.toLowerCase();W.includes("branchname")?te.branchName=D[0]:W.includes("address")?(te.address=D[0],x("address")):W.includes("contact")?(te.contact=D[0],x("contact")):W.includes("workinghour")?(te.workingHours=D[0],x("workingHours")):te[R]=D[0]}}),y(te),S(i("branchManagement.modal.errors.validationFailed"))}else S(i("branchManagement.modal.errors.dataValidationError"))}else Z?.response?.status===401?(S(i("branchManagement.error.sessionExpired")),setTimeout(()=>{window.location.href="/login"},2e3)):Z?.response?.status===403?S(i("branchManagement.error.noPermission")):Z?.response?.status===404?(S(i("branchManagement.error.branchNotFound")),setTimeout(()=>{window.location.reload()},2e3)):Z?.response?.status===0||!navigator.onLine?S(i("branchManagement.error.connectionError")):S(Z?.message||i("branchManagement.error.unknownError"))}};return e?r.jsx(jt,{children:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 overflow-y-auto h-full w-full z-50 flex items-start justify-center p-4",children:r.jsxs(re.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`relative w-full max-w-4xl bg-white dark:bg-gray-800 shadow-xl rounded-lg mt-8 mb-8 ${o?"rtl":"ltr"}`,children:[r.jsxs("div",{className:`flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700 ${o?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${o?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:r.jsx(pr,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:i("branchManagement.modal.editTitle",{branchName:n.branchName})}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:i("branchManagement.modal.editDescription")})]})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":i("common.close"),children:r.jsx(at,{className:"h-6 w-6"})})]}),j&&r.jsx("div",{className:"mx-6 mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(oa,{className:"h-5 w-5 text-red-400 dark:text-red-500"})}),r.jsxs("div",{className:`${o?"mr-3":"ml-3"}`,children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:i("branchManagement.modal.errors.updateError")}),r.jsx("p",{className:"mt-1 text-sm text-red-700 dark:text-red-300",children:j})]}),r.jsx("button",{onClick:()=>S(null),className:`${o?"mr-auto":"ml-auto"} flex-shrink-0 text-red-400 hover:text-red-600 dark:hover:text-red-300`,"aria-label":i("common.dismiss"),children:r.jsx(at,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:r.jsx("nav",{className:`-mb-px flex ${o?"space-x-reverse space-x-8":"space-x-8"} overflow-x-auto`,children:[{id:"general",label:i("branchManagement.modal.tabs.general"),icon:r.jsx(pr,{className:"w-4 h-4"}),hasError:!!b.branchName},{id:"address",label:i("branchManagement.modal.tabs.address"),icon:r.jsx($r,{className:"w-4 h-4"}),hasError:!!b.address},{id:"contact",label:i("branchManagement.modal.tabs.contact"),icon:r.jsx(Gr,{className:"w-4 h-4"}),hasError:!!b.contact},{id:"workingHours",label:i("branchManagement.modal.tabs.workingHours"),icon:r.jsx(zt,{className:"w-4 h-4"}),hasError:!!b.workingHours}].map(K=>r.jsxs("button",{onClick:()=>x(K.id),className:`py-3 px-1 border-b-2 font-medium text-sm flex items-center ${o?"space-x-reverse space-x-2":"space-x-2"} transition-colors whitespace-nowrap ${h===K.id?"border-blue-500 text-blue-600 dark:text-blue-400":K.hasError?"border-red-300 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[K.icon,r.jsx("span",{children:K.label}),K.hasError&&r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full flex-shrink-0"})]},K.id))})}),r.jsxs("form",{onSubmit:V,className:"space-y-6",children:[h==="general"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[i("branchManagement.form.branchName")," *"]}),r.jsx("input",{type:"text",name:"branchName",value:l.branchName,onChange:M,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 transition-colors bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${b.branchName?"border-red-300 dark:border-red-600 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"}`,placeholder:i("branchManagement.form.branchNamePlaceholder")}),b.branchName&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[r.jsx(oa,{className:"w-4 h-4"}),b.branchName]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("branchManagement.form.whatsappNumber")}),r.jsx("input",{type:"text",name:"whatsappOrderNumber",value:l.whatsappOrderNumber||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:i("branchManagement.form.whatsappPlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:i("branchManagement.form.branchLogo")}),C&&r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:C,alt:i("branchManagement.form.branchLogo"),className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-300 dark:border-gray-600 shadow-sm"}),!k&&r.jsx("button",{type:"button",onClick:U,className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 transition-colors shadow-lg",title:i("branchManagement.form.logoRemove"),children:r.jsx(er,{className:"w-4 h-4"})}),k&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:`flex items-center ${o?"space-x-reverse space-x-4":"space-x-4"}`,children:[r.jsx("input",{type:"file",id:"logoUpload",accept:"image/*",onChange:Q,className:"hidden",disabled:k}),r.jsx("label",{htmlFor:"logoUpload",className:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${k?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:k?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 dark:border-gray-400 ${o?"ml-2":"mr-2"}`}),i("branchManagement.modal.errors.uploadingImage")]}):r.jsxs(r.Fragment,{children:[r.jsx(li,{className:`h-4 w-4 ${o?"ml-2":"mr-2"}`}),i(C?"branchManagement.form.logoChange":"branchManagement.form.logoUpload")]})}),!C&&!k&&r.jsxs("div",{className:`flex items-center text-gray-400 dark:text-gray-500 ${o?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(Qk,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm",children:i("branchManagement.form.logoNotSelected")})]})]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:i("branchManagement.form.logoInstructions")})]})]})]}),h==="address"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("branchManagement.form.country")}),r.jsx("input",{type:"text",name:"createAddressDto.country",value:l.createAddressDto.country||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:i("branchManagement.form.countryPlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("branchManagement.form.city")}),r.jsx("input",{type:"text",name:"createAddressDto.city",value:l.createAddressDto.city||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:i("branchManagement.form.cityPlaceholder")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("branchManagement.form.street")}),r.jsx("input",{type:"text",name:"createAddressDto.street",value:l.createAddressDto.street||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:i("branchManagement.form.streetPlaceholder")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("branchManagement.form.zipCode")}),r.jsx("input",{type:"text",name:"createAddressDto.zipCode",value:l.createAddressDto.zipCode||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:i("branchManagement.form.zipCodePlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("branchManagement.form.addressLine1")}),r.jsx("input",{type:"text",name:"createAddressDto.addressLine1",value:l.createAddressDto.addressLine1||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:i("branchManagement.form.addressLine1Placeholder")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("branchManagement.form.addressLine2")}),r.jsx("input",{type:"text",name:"createAddressDto.addressLine2",value:l.createAddressDto.addressLine2||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:i("branchManagement.form.addressLine2Placeholder")})]})]}),h==="contact"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("branchManagement.form.phone")}),r.jsx("input",{type:"tel",name:"createContactDto.phone",value:l.createContactDto.phone||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:i("branchManagement.form.phonePlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("branchManagement.form.email")}),r.jsx("input",{type:"email",name:"createContactDto.mail",value:l.createContactDto.mail||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:i("branchManagement.form.emailPlaceholder")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("branchManagement.form.location")}),r.jsx("input",{type:"text",name:"createContactDto.location",value:l.createContactDto.location||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:i("branchManagement.form.locationPlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("branchManagement.form.contactHeader")}),r.jsx("input",{type:"text",name:"createContactDto.contactHeader",value:l.createContactDto.contactHeader||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:i("branchManagement.form.contactHeaderPlaceholder")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("branchManagement.form.footerTitle")}),r.jsx("input",{type:"text",name:"createContactDto.footerTitle",value:l.createContactDto.footerTitle||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:i("branchManagement.form.footerTitlePlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("branchManagement.form.openTitle")}),r.jsx("input",{type:"text",name:"createContactDto.openTitle",value:l.createContactDto.openTitle||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:i("branchManagement.form.openTitlePlaceholder")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("branchManagement.form.footerDescription")}),r.jsx("textarea",{name:"createContactDto.footerDescription",value:l.createContactDto.footerDescription||"",onChange:M,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors resize-none",placeholder:i("branchManagement.form.footerDescriptionPlaceholder")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("branchManagement.form.openDays")}),r.jsx("input",{type:"text",name:"createContactDto.openDays",value:l.createContactDto.openDays||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:i("branchManagement.form.openDaysPlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("branchManagement.form.openHours")}),r.jsx("input",{type:"text",name:"createContactDto.openHours",value:l.createContactDto.openHours||"",onChange:M,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:i("branchManagement.form.openHoursPlaceholder")})]})]})]}),h==="workingHours"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:`flex items-center ${o?"space-x-reverse space-x-2":"space-x-2"} mb-4`,children:[r.jsx(zt,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),r.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:i("branchManagement.form.workingHours")})]}),b.workingHours&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 mb-4",children:r.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-2",children:[r.jsx(oa,{className:"w-4 h-4"}),b.workingHours]})}),l.createBranchWorkingHourCoreDto.map((K,Z)=>r.jsxs("div",{className:`flex items-center ${o?"space-x-reverse space-x-4":"space-x-4"} p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-700/50`,children:[r.jsx("div",{className:"w-24 flex-shrink-0",children:r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:A(K.dayOfWeek)})}),r.jsxs("div",{className:`flex items-center ${o?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx("input",{title:"isWorkingDay",type:"checkbox",checked:K.isWorkingDay,onChange:ie=>F(Z,"isWorkingDay",ie.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:i("branchManagement.form.isOpen")})]}),K.isWorkingDay&&r.jsxs(r.Fragment,{children:[r.jsx("div",{children:r.jsx("input",{title:"time",type:"time",value:K.openTime,onChange:ie=>F(Z,"openTime",ie.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 transition-colors"})}),r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"-"}),r.jsx("div",{children:r.jsx("input",{title:"time",type:"time",value:K.closeTime,onChange:ie=>F(Z,"closeTime",ie.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 transition-colors"})})]})]},Z))]}),r.jsxs("div",{className:`flex justify-end ${o?"space-x-reverse space-x-3":"space-x-3"} pt-6 border-t border-gray-200 dark:border-gray-700`,children:[r.jsx("button",{type:"button",onClick:t,disabled:s,className:"px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i("common.cancel")}),r.jsx("button",{type:"submit",disabled:s||!u||k,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 border border-transparent rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),i("branchManagement.modal.buttons.updating")]}):i("branchManagement.modal.buttons.update")})]})]})]})]})})}):null},$q=({onClick:e})=>{const{t,language:a}=qe(),n=a==="ar";return r.jsxs(re.button,{onClick:e,className:"relative w-full max-w-xs h-[370px] bg-white/95 dark:bg-gray-800/95 backdrop-blur-xl rounded-3xl shadow-2xl border-2 border-dashed border-blue-300 dark:border-blue-700/40 overflow-hidden group flex flex-col items-center justify-center transition-all duration-700 cursor-pointer hover:border-blue-500 dark:hover:border-blue-400 hover:shadow-3xl",initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},whileHover:{scale:1.04,boxShadow:"0 8px 32px 0 rgba(31,38,135,0.12)"},transition:{duration:.4,ease:[.4,0,.2,1]},type:"button",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-blue-600/5 to-blue-700/5 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),r.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-1000 pointer-events-none",children:[r.jsx("div",{className:`absolute top-10 ${n?"right-10":"left-10"} w-2 h-2 bg-blue-400/30 rounded-full animate-ping`}),r.jsx("div",{className:`absolute top-20 ${n?"left-20":"right-20"} w-1 h-1 bg-blue-500/40 rounded-full animate-pulse delay-300`}),r.jsx("div",{className:`absolute bottom-20 ${n?"right-20":"left-20"} w-1.5 h-1.5 bg-blue-600/35 rounded-full animate-ping delay-700`})]}),r.jsx("div",{className:"flex items-center justify-center w-20 h-20 mb-4 rounded-3xl shadow-2xl transition-all duration-500 group-hover:shadow-3xl group-hover:scale-110 bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700",children:r.jsx(Nt,{className:"w-12 h-12 text-white drop-shadow-lg"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center mb-2 leading-tight group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-gray-900 group-hover:to-gray-600 dark:group-hover:from-white dark:group-hover:to-gray-300 group-hover:bg-clip-text transition-all duration-500",children:t("addBranchCard.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center px-4",children:t("addBranchCard.description")})]})},Vi=({isOpen:e,onClose:t,onConfirm:a,title:n,isSubmitting:s=!1,itemType:i,message:o})=>{const{t:l,isRTL:c}=qe(),[u,g]=p.useState(null),h=async()=>{g(null);try{await a(),t()}catch(x){N.error("Silme hatası:",x),g(l("confirmDeleteModal.errors.deleteFailed"))}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"delete-modal-title","aria-describedby":"delete-modal-description",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4 shadow-xl",dir:c?"rtl":"ltr",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:r.jsx(oa,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),r.jsx("h3",{id:"delete-modal-title",className:"text-lg font-semibold text-gray-900 dark:text-white",children:n})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":l("confirmDeleteModal.accessibility.closeModal"),children:r.jsx(at,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300 flex items-center gap-2",children:[r.jsx(oa,{className:"h-4 w-4 flex-shrink-0"}),o]}),r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:[r.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300 flex items-center gap-2",children:[r.jsx(oa,{className:"h-4 w-4 flex-shrink-0"}),l("confirmDeleteModal.warning")]}),i==="table"&&r.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300 mt-2 flex items-center gap-2",children:[r.jsx(oa,{className:"h-4 w-4 flex-shrink-0"}),l("confirmDeleteModal.deleteTableWarning")]})]})}),u&&r.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",role:"alert","aria-live":"polite",children:r.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-2",children:[r.jsx(oa,{className:"h-4 w-4 flex-shrink-0"}),u]})}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,disabled:s,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",children:l("confirmDeleteModal.buttons.cancel")}),r.jsx("button",{type:"button",onClick:h,disabled:s,className:"px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l("confirmDeleteModal.buttons.deleting")]}):r.jsxs(r.Fragment,{children:[r.jsx(er,{className:"h-4 w-4"}),l("confirmDeleteModal.buttons.delete")]})})]})]})]})}):null};class Bq{baseUrl="/api/Purge";async purgeBranch(t){try{N.info("Branch purge isteği gönderiliyor:",t);const a={branchId:t},n=await se.post(`${this.baseUrl}/branch`,a);return N.info("Branch başarıyla purge edildi:",n.data),n.data}catch(a){throw N.error("Branch purge edilirken hata oluştu:",a),a}}async purgeRestaurant(t){try{N.info("Restaurant purge isteği gönderiliyor:",t);const a={restaurantId:t},n=await se.post(`${this.baseUrl}/restaurant`,a);return N.info("Restaurant başarıyla purge edildi:",n.data),n.data}catch(a){throw N.error("Restaurant purge edilirken hata oluştu:",a),a}}}const VM=new Bq,Lq=()=>{const{t:e,isRTL:t}=qe(),[a,n]=p.useState([]),[s,i]=p.useState(!1),[o,l]=p.useState(null),[c,u]=p.useState(!1),[g,h]=p.useState(!1),[x,b]=p.useState(null),[y,k]=p.useState(!1),v=ya(),[j,S]=p.useState(!1),[C,P]=p.useState(null),[E,A]=p.useState(!1),[I,M]=p.useState(!1),[F,Q]=p.useState(null),[U,V]=p.useState(!1),K=[{dayOfWeek:1,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:2,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:3,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:4,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:5,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:6,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:0,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0}],Z=()=>({branchName:null,whatsappOrderNumber:null,restaurantId:Ll()||0,branchLogoPath:null,createAddressDto:{country:null,city:null,street:null,zipCode:null,addressLine1:null,addressLine2:null},createContactDto:{phone:null,mail:null,location:null,contactHeader:null,footerTitle:null,footerDescription:null,openTitle:null,openDays:null,openHours:null},createBranchWorkingHourCoreDto:K}),[ie,te]=p.useState(Z()),[R,D]=p.useState(!1);p.useEffect(()=>{if(N.info("BranchManagement component mount oldu",null,{prefix:"BranchManagement"}),!localStorage.getItem("token")){N.error("Token bulunamadı",null,{prefix:"BranchManagement"}),l(e("branchManagement.error.sessionExpired"));return}const we=Ll();if(!we){N.error("Restaurant ID bulunamadı",null,{prefix:"BranchManagement"}),l(e("branchManagement.error.restaurantIdNotFound"));return}N.info(`Restaurant ID: ${we} ile şube listesi isteniyor`,null,{prefix:"BranchManagement"}),W()},[e]);const W=async()=>{i(!0),l("");try{N.info("Şube listesi alınıyor...",null,{prefix:"BranchManagement"});const he=await Nr.getBranches();N.info(`Şube listesi alındı, toplam: ${he.length}`,he,{prefix:"BranchManagement"}),n(he)}catch(he){N.error("Şube listesi alınırken hata",he,{prefix:"BranchManagement"});let we=e("branchManagement.error.loadFailed");he?.response?.status===401?(we=e("branchManagement.error.sessionExpired"),setTimeout(()=>{window.location.href="/login"},3e3)):he?.response?.status===403?we=e("branchManagement.error.noPermission"):he?.response?.status===404?we=e("branchManagement.error.branchNotFound"):he?.response?.status===0||!navigator.onLine?we=e("branchManagement.error.connectionError"):he?.message&&(we=he.message),l(we)}finally{i(!1)}},X=he=>{const{name:we,value:De}=he.target;if(we.includes(".")){const[Ze,pt]=we.split(".");te(mt=>({...mt,[Ze]:{...mt[Ze],[pt]:De}}))}else te(Ze=>({...Ze,[we]:De}));D(!0)},B=(he,we,De)=>{te(Ze=>({...Ze,createBranchWorkingHourCoreDto:Ze.createBranchWorkingHourCoreDto?Ze.createBranchWorkingHourCoreDto.map((pt,mt)=>mt===he?Object.assign({},pt,{[we]:De}):pt):[]})),D(!0)},H=async he=>{k(!0);try{const we=Ll();if(!we){l(e("branchManagement.error.restaurantIdNotFound"));return}const De={branchName:he.branchName?.trim()||null,whatsappOrderNumber:he.whatsappOrderNumber?.trim()||null,restaurantId:we,branchLogoPath:he.branchLogoPath||null,createAddressDto:{country:he.createAddressDto.country?.trim()||null,city:he.createAddressDto.city?.trim()||null,street:he.createAddressDto.street?.trim()||null,zipCode:he.createAddressDto.zipCode?.trim()||null,addressLine1:he.createAddressDto.addressLine1?.trim()||null,addressLine2:he.createAddressDto.addressLine2?.trim()||null},createContactDto:{phone:he.createContactDto.phone?.trim()||null,mail:he.createContactDto.mail?.trim()||null,location:he.createContactDto.location?.trim()||null,contactHeader:he.createContactDto.contactHeader?.trim()||null,footerTitle:he.createContactDto.footerTitle?.trim()||null,footerDescription:he.createContactDto.footerDescription?.trim()||null,openTitle:he.createContactDto.openTitle?.trim()||null,openDays:he.createContactDto.openDays?.trim()||null,openHours:he.createContactDto.openHours?.trim()||null},createBranchWorkingHourCoreDto:he.createBranchWorkingHourCoreDto?.map(Ze=>({dayOfWeek:Ze.dayOfWeek,openTime:Ze.openTime,closeTime:Ze.closeTime,isWorkingDay:Ze.isWorkingDay}))||null};g&&x?(await Nr.updateBranch(x.branchId,De),N.info("Branch successfully updated",{branchId:x.branchId},{prefix:"BranchManagement"})):(await Nr.createBranch(De),N.info("Branch successfully created",null,{prefix:"BranchManagement"})),await W(),le()}catch(we){N.error("Error submitting branch:",we,{prefix:"BranchManagement"});let De=e(g?"branchManagement.error.updateFailed":"branchManagement.error.createFailed");we?.response?.status===401?De=e("branchManagement.error.sessionExpired"):we?.response?.status===403?De=e("branchManagement.error.noPermission"):we?.response?.status===404?De=e("branchManagement.error.branchNotFound"):we?.response?.status===0||!navigator.onLine?De=e("branchManagement.error.connectionError"):we?.message&&(De=we.message),l(De)}finally{k(!1)}},z=async he=>{try{N.info(`Fetching branch details for branchId: ${he.branchId}`,null,{prefix:"BranchManagement"});const we=await Nr.getBranchById(he.branchId);N.info("Branch details fetched with includes",we,{prefix:"BranchManagement"}),we?(b(we),h(!0),u(!0),D(!1),N.info("Edit mode activated for branch",{branchId:we.branchId,branchName:we.branchName},{prefix:"BranchManagement"})):(N.error("No branch details returned",null,{prefix:"BranchManagement"}),l(e("branchManagement.error.detailsLoadFailed")))}catch(we){N.error("Error loading branch details",we,{prefix:"BranchManagement"});let De=e("branchManagement.error.detailsLoadFailed");we?.response?.status===401?De=e("branchManagement.error.sessionExpired"):we?.response?.status===403?De=e("branchManagement.error.noPermission"):we?.response?.status===404&&(De=e("branchManagement.error.branchNotFound")),l(De)}},$=he=>{P(he),S(!0)},_=async()=>{if(!C)throw new Error(e("branchManagement.error.branchNotFound"));A(!0);const he=C;n(we=>we.filter(De=>De.branchId!==C.branchId));try{await Nr.deleteBranch(C.branchId),N.info("Branch deleted successfully",{branchId:C.branchId},{prefix:"BranchManagement"}),P(null),S(!1),await W()}catch(we){N.error("Error deleting branch:",we,{prefix:"BranchManagement"}),n(Ze=>[...Ze,he].sort((pt,mt)=>pt.branchId-mt.branchId));let De=e("branchManagement.error.deleteFailed");throw we?.response?.status===401?De=e("branchManagement.error.sessionExpired"):we?.response?.status===403?De=e("branchManagement.error.noPermission"):we?.response?.status===404?De=e("branchManagement.error.branchNotFound"):we?.response?.status===409?De=e("branchManagement.error.branchInUse"):we?.message&&(De=we.message),l(De),setTimeout(()=>l(null),5e3),new Error(De)}finally{A(!1)}},Y=()=>{S(!1),P(null)},q=he=>{Q(he),M(!0)},G=async()=>{if(!F)throw new Error(e("branchManagement.error.branchNotFound"));V(!0);const he=F;n(we=>we.filter(De=>De.branchId!==F.branchId));try{await VM.purgeBranch(F.branchId),N.info("Branch purged successfully",{branchId:F.branchId},{prefix:"BranchManagement"}),Q(null),M(!1),await W()}catch(we){N.error("Error purging branch:",we,{prefix:"BranchManagement"}),n(Ze=>[...Ze,he].sort((pt,mt)=>pt.branchId-mt.branchId));let De=e("branchManagement.error.purgeFailed")||"Failed to permanently delete branch";throw we?.response?.status===401?De=e("branchManagement.error.sessionExpired"):we?.response?.status===403?De=e("branchManagement.error.noPermission"):we?.response?.status===404?De=e("branchManagement.error.branchNotFound"):we?.message&&(De=we.message),l(De),setTimeout(()=>l(null),5e3),new Error(De)}finally{V(!1)}},ee=()=>{M(!1),Q(null)},ue=()=>{te(Z()),h(!1),b(null),u(!0),D(!1)},le=()=>{u(!1),h(!1),b(null),te(Z()),D(!1)},ae=async(he,we)=>{const De=a.find(pt=>pt.branchId===he),Ze=De?De.isOpenNow:!1;try{n(pt=>pt.map(mt=>mt.branchId===he?{...mt,isTemporarilyClosed:we}:mt)),await Nr.toggleTemporaryClose(he,we,Ze)}catch(pt){n(ut=>ut.map(Et=>Et.branchId===he?{...Et,isTemporarilyClosed:!we}:Et));let mt=e("branchManagement.error.statusUpdateFailed");pt?.response?.status===401?mt=e("branchManagement.error.sessionExpired"):pt?.response?.status===403?mt=e("branchManagement.error.noPermission"):pt?.response?.status===404?mt=e("branchManagement.error.branchNotFound"):pt?.message&&(mt=pt.message),l(mt),setTimeout(()=>l(null),3e3)}},Be=()=>{l(null)};return r.jsxs("div",{className:`min-h-screen bg-gray-50 dark:bg-gray-900 ${t?"rtl":"ltr"}`,children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:e("branchManagement.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("branchManagement.description")}),r.jsxs("button",{onClick:()=>{v("/dashboard/RecycleBin",{state:{source:"branches"}})},className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors duration-200",children:[r.jsx(er,{className:"h-4 w-4"}),r.jsx("span",{children:e("productsContent.actions.RecycleBin")})]})]}),o&&r.jsx(re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(oa,{className:"h-5 w-5 text-red-400 dark:text-red-500"})}),r.jsxs("div",{className:`${t?"mr-3":"ml-3"} flex-1`,children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:e("branchManagement.error.title")}),r.jsx("p",{className:"mt-1 text-sm text-red-700 dark:text-red-300",children:o})]}),r.jsx("button",{onClick:Be,className:`${t?"mr-auto":"ml-auto"} flex-shrink-0 text-red-400 hover:text-red-600 dark:hover:text-red-300 transition-colors`,"aria-label":e("common.dismiss"),children:r.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),s&&r.jsxs("div",{className:"flex justify-center items-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400"}),r.jsx("span",{className:`${t?"mr-3":"ml-3"} text-gray-600 dark:text-gray-400`,children:e("branchManagement.loading")})]}),!s&&!o&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:r.jsx($q,{onClick:ue})}),a.map((he,we)=>r.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:(we+1)*.1},children:r.jsx(Oq,{branch:he,onEdit:z,onDelete:()=>$(he),onPurge:()=>q(he),onToggleTemporaryClose:ae})},he.branchId))]}),!s&&!o&&a.length===0&&r.jsxs(re.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 dark:text-gray-500 mb-4",children:r.jsx(pr,{className:"mx-auto h-16 w-16"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:e("branchManagement.noBranches.title")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 max-w-md mx-auto",children:e("branchManagement.noBranches.description")}),r.jsxs("button",{onClick:ue,className:"inline-flex items-center px-6 py-3 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[r.jsx(Nt,{className:`h-5 w-5 ${t?"ml-2":"mr-2"}`}),e("branchManagement.addBranch")]})]})]}),c&&r.jsx(r.Fragment,{children:g&&x?r.jsx(Rq,{isOpen:c,onClose:le,onSubmit:H,branchDetail:x,isSubmitting:y}):r.jsx(Dq,{isOpen:c,onClose:le,onSubmit:H,formData:ie,setFormData:te,isSubmitting:y,hasChanges:R,onInputChange:X,onWorkingHourChange:B})}),r.jsx(Vi,{isOpen:j,onClose:Y,onConfirm:_,title:e("branchManagement.deleteConfirm.title"),message:e("branchManagement.deleteConfirm.description"),isSubmitting:E,itemType:"branch",itemName:C?.branchName||""}),r.jsx(Vi,{isOpen:I,onClose:ee,onConfirm:G,title:e("branchManagement.purgeConfirm.title")||"Permanent Deletion Warning",message:e("branchManagement.purgeConfirm.description")||"This will PERMANENTLY delete the branch and ALL associated data. This action CANNOT be undone!",isSubmitting:U,itemType:"branch-purge",itemName:F?.branchName||""})]})};class _q{async getAllUsers(){try{N.info("🔍 getAllUsers çağrılıyor...",null,{prefix:"UserService"});const t=await Ms({method:"GET",url:"/api/Users"});return N.info("✅ getAllUsers başarılı",t,{prefix:"UserService"}),{success:!0,data:Array.isArray(t)?t:[]}}catch(t){throw N.error("❌ getAllUsers hatası",t,{prefix:"UserService"}),t}}async createUser(t){try{N.info("🔍 createUser çağrılıyor...",t,{prefix:"UserService"});const a=await Ms({method:"POST",url:"/api/Users",data:t});return N.info("✅ createUser başarılı",a,{prefix:"UserService"}),{success:!0,data:a}}catch(a){throw N.error("❌ createUser hatası",a,{prefix:"UserService"}),a}}async getRoles(){try{N.info("🔍 getRoles çağrılıyor...",null,{prefix:"UserService"});const t=await Ms({method:"GET",url:"/api/Roles"});return N.info("✅ getRoles başarılı",t,{prefix:"UserService"}),{success:!0,data:Array.isArray(t)?t:[]}}catch(t){throw N.error("❌ getRoles hatası",t,{prefix:"UserService"}),t}}async createRole(t){try{N.info("🔍 createRole çağrılıyor...",t,{prefix:"UserService"});const a=await Ms({method:"POST",url:"/api/Roles",data:t});return N.info("✅ createRole başarılı",a,{prefix:"UserService"}),{success:!0,data:a}}catch(a){throw N.error("❌ createRole hatası",a,{prefix:"UserService"}),a}}}const Z0=new _q,Fq=[{id:1,name:"user.read",description:"Kullanıcıları Görüntüleme",category:"User Management"},{id:2,name:"user.write",description:"Kullanıcı Ekleme/Düzenleme",category:"User Management"},{id:3,name:"user.delete",description:"Kullanıcı Silme",category:"User Management"},{id:4,name:"restaurant.read",description:"Restoran Bilgilerini Görüntüleme",category:"Restaurant Management"},{id:5,name:"restaurant.write",description:"Restoran Bilgilerini Düzenleme",category:"Restaurant Management"},{id:6,name:"branch.read",description:"Şube Bilgilerini Görüntüleme",category:"Branch Management"},{id:7,name:"branch.write",description:"Şube Bilgilerini Düzenleme",category:"Branch Management"},{id:8,name:"order.read",description:"Siparişleri Görüntüleme",category:"Order Management"},{id:9,name:"order.write",description:"Sipariş İşlemleri",category:"Order Management"},{id:10,name:"product.read",description:"Ürünleri Görüntüleme",category:"Product Management"},{id:11,name:"product.write",description:"Ürün Ekleme/Düzenleme",category:"Product Management"},{id:12,name:"analytics.read",description:"Raporları Görüntüleme",category:"Analytics"}],zq=()=>{const{t:e,isRTL:t}=qe(),[a,n]=p.useState([]),[s,i]=p.useState([]),[o,l]=p.useState("grid"),[c,u]=p.useState("users"),[g,h]=p.useState(""),[x,b]=p.useState("all"),[y,k]=p.useState(!0),[v,j]=p.useState(null),[S,C]=p.useState(null),[P,E]=p.useState("all"),[A,I]=p.useState(!1),[M,F]=p.useState(!1),[Q,U]=p.useState(!1),[V,K]=p.useState(!1),Z=p.useRef(null);si(Z,()=>{C(null)}),p.useEffect(()=>{R(),D()},[]);const ie=p.useMemo(()=>{if(!Array.isArray(a))return[];let q=a;if(P!=="all"&&(q=q.filter(G=>P==="active"||P==="inactive"?P==="active"?G.isActive:!G.isActive:G.roles.includes(P))),g){const G=g.toLowerCase();q=q.filter(ee=>ee.fullName.toLowerCase().includes(G)||ee.email.toLowerCase().includes(G)||ee.phoneNumber.includes(g)||ee.restaurantName.toLowerCase().includes(G))}return q},[a,P,g]),te=p.useMemo(()=>{if(!Array.isArray(s))return[];let q=s;if(P!=="all"&&(P==="active"||P==="inactive"?q=q.filter(G=>P==="active"?G.isActive:!G.isActive):q=q.filter(G=>G.category.toLowerCase().includes(P.toLowerCase()))),g){const G=g.toLowerCase();q=q.filter(ee=>ee.name.toLowerCase().includes(G)||ee.description?.toLowerCase().includes(G)||ee.category.toLowerCase().includes(G)||ee.restaurantName.toLowerCase().includes(G))}return q},[s,P,g]),R=p.useCallback(async()=>{try{k(!0),j(null);const q=await Z0.getAllUsers();if(q.success&&q.data){const G=Array.isArray(q.data)?q.data:[];n(G),N.info("Kullanıcılar başarıyla yüklendi",G,{prefix:"UserManagement"})}else throw new Error(e("userManagementPage.error.loadFailed"))}catch(q){N.error("Kullanıcılar yüklenirken hata",q,{prefix:"UserManagement"}),j(q.message||e("userManagementPage.error.loadFailed")),n([])}finally{k(!1)}},[e]),D=p.useCallback(async()=>{try{const q=await Z0.getRoles();if(q.success&&q.data){const G=Array.isArray(q.data)?q.data:[];i(G),N.info("Roller başarıyla yüklendi",G,{prefix:"UserManagement"})}else throw new Error(e("userManagementPage.error.rolesLoadFailed"))}catch(q){N.error("Roller yüklenirken hata",q,{prefix:"UserManagement"}),i([])}},[e]),W=p.useCallback(async q=>{try{F(!0);const G=await Z0.createRole(q);if(G.success)N.info("Rol başarıyla oluşturuldu",G.data,{prefix:"UserManagement"}),I(!1),await D();else throw new Error(e("userManagementPage.error.createRoleFailed"))}catch(G){N.error("Rol oluşturulurken hata",G,{prefix:"UserManagement"})}finally{F(!1)}},[D,e]),X=p.useCallback(async q=>{try{K(!0);const G=await Z0.createUser(q);if(G.success)N.info("Kullanıcı başarıyla oluşturuldu",G.data,{prefix:"UserManagement"}),U(!1),await R();else throw new Error(e("userManagementPage.error.createUserFailed"))}catch(G){N.error("Kullanıcı oluşturulurken hata",G,{prefix:"UserManagement"})}finally{K(!1)}},[R,e]),B=p.useCallback(q=>q?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",[]),H=p.useCallback(q=>{switch(q){case"RestaurantOwner":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"BranchManager":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"Staff":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},[]),z=p.useCallback(q=>{switch(q){case"RestaurantOwner":return r.jsx(Ug,{className:"h-3 w-3"});case"BranchManager":return r.jsx(Ya,{className:"h-3 w-3"});case"Staff":return r.jsx(ln,{className:"h-3 w-3"});default:return r.jsx(ln,{className:"h-3 w-3"})}},[]),$=p.useCallback(q=>{const G=new Date(q);return new Intl.DateTimeFormat(t?"ar-SA":"tr-TR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(G)},[t]),_=p.useMemo(()=>{if(!Array.isArray(a))return{total:0,active:0,owners:0,managers:0,staff:0};const q=a.length,G=a.filter(ae=>ae.isActive).length,ee=a.filter(ae=>ae.roles.includes("RestaurantOwner")).length,ue=a.filter(ae=>ae.roles.includes("BranchManager")).length,le=a.filter(ae=>ae.roles.includes("Staff")).length;return{total:q,active:G,owners:ee,managers:ue,staff:le}},[a]),Y=p.useMemo(()=>{if(!Array.isArray(s))return{total:0,active:0,system:0,custom:0,totalUsers:0};const q=s.length,G=s.filter(ae=>ae.isActive).length,ee=s.filter(ae=>ae.isSystemRole).length,ue=s.filter(ae=>!ae.isSystemRole).length,le=s.reduce((ae,Be)=>ae+Be.userCount,0);return{total:q,active:G,system:ee,custom:ue,totalUsers:le}},[s]);return y?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("userManagementPage.loading")})]})}):v?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 rounded-lg p-6",children:[r.jsx("h3",{className:"text-red-800 dark:text-red-400 font-semibold mb-2",children:e("userManagementPage.error.title")}),r.jsx("p",{className:"text-red-600 dark:text-red-500 mb-4",children:v}),r.jsx("button",{onClick:R,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e("userManagementPage.error.retry")})]})})}):r.jsxs("div",{className:"space-y-6",dir:t?"rtl":"ltr",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e("userManagementPage.title")}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500 dark:text-gray-400",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ht,{className:"h-4 w-4"}),e("userManagementPage.stats.total")," ",c==="users"?_.total:Y.total," ",e(c==="users"?"userManagementPage.stats.users":"userManagementPage.stats.roles")]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Do,{className:"h-4 w-4"}),c==="users"?_.active:Y.active," ",e("userManagementPage.stats.active")]})]})]}),c==="users"?r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 rounded-lg p-3 min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ug,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:e("userManagementPage.stats.owner")}),r.jsx("p",{className:"font-semibold text-purple-800 dark:text-purple-300",children:_.owners})]})]})}),r.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 rounded-lg p-3 min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ya,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:e("userManagementPage.stats.manager")}),r.jsx("p",{className:"font-semibold text-blue-800 dark:text-blue-300",children:_.managers})]})]})}),r.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/30 rounded-lg p-3 min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ln,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:e("userManagementPage.stats.staff")}),r.jsx("p",{className:"font-semibold text-indigo-800 dark:text-indigo-300",children:_.staff})]})]})})]}):r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 rounded-lg p-3 min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(nn,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:e("userManagementPage.stats.system")}),r.jsx("p",{className:"font-semibold text-emerald-800 dark:text-emerald-300",children:Y.system})]})]})}),r.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 rounded-lg p-3 min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ya,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:e("userManagementPage.stats.custom")}),r.jsx("p",{className:"font-semibold text-blue-800 dark:text-blue-300",children:Y.custom})]})]})}),r.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/30 rounded-lg p-3 min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ht,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:e("userManagementPage.stats.totalUsers")}),r.jsx("p",{className:"font-semibold text-indigo-800 dark:text-indigo-300",children:Y.totalUsers})]})]})})]})]}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsxs("nav",{className:`-mb-px flex ${t?"space-x-reverse space-x-8":"space-x-8"}`,children:[r.jsx("button",{onClick:()=>u("users"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${c==="users"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ht,{className:"h-4 w-4"}),e("userManagementPage.tabs.users"),r.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-0.5 rounded-full text-xs",children:_.total})]})}),r.jsx("button",{onClick:()=>u("roles"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${c==="roles"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(nn,{className:"h-4 w-4"}),e("userManagementPage.tabs.roles"),r.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-0.5 rounded-full text-xs",children:Y.total})]})})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex flex-1 gap-4 w-full sm:w-auto",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Ja,{className:`absolute ${t?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400`}),r.jsx("input",{type:"text",placeholder:e(c==="users"?"userManagementPage.controls.search":"userManagementPage.controls.searchRoles"),value:g,onChange:q=>h(q.target.value),className:`w-full ${t?"pr-10 pl-4":"pl-10 pr-4"} py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500`})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{title:"selectedCategory",value:P,onChange:q=>E(q.target.value),className:`appearance-none bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 ${t?"pl-8 pr-4":"pr-8"} text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,children:[r.jsx("option",{value:"all",children:e("userManagementPage.controls.filterAll")}),r.jsx("option",{value:"RestaurantOwner",children:e("userManagementPage.controls.filterOwner")}),r.jsx("option",{value:"BranchManager",children:e("userManagementPage.controls.filterManager")}),r.jsx("option",{value:"Staff",children:e("userManagementPage.controls.filterStaff")}),r.jsx("option",{value:"active",children:e("userManagementPage.controls.filterActive")}),r.jsx("option",{value:"inactive",children:e("userManagementPage.controls.filterInactive")})]}),r.jsx(lr,{className:`absolute ${t?"left-2":"right-2"} top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none`})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[c==="users"&&r.jsxs("button",{onClick:()=>U(!0),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:[r.jsx(qg,{className:`h-4 w-4 ${t?"ml-2":"mr-2"}`}),e("userManagementPage.controls.addUser")]}),c==="roles"&&r.jsxs("button",{onClick:()=>I(!0),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:[r.jsx(nn,{className:`h-4 w-4 ${t?"ml-2":"mr-2"}`}),e("userManagementPage.controls.addRole")]}),r.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>l("grid"),className:`p-2 rounded-md transition-colors ${o==="grid"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:r.jsx(ni,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>l("list"),className:`p-2 rounded-md transition-colors ${o==="list"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:r.jsx(nM,{className:"h-4 w-4"})})]})]})]}),c==="users"?r.jsxs(r.Fragment,{children:[ie.length===0&&!y&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ln,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:e("userManagementPage.noResults.usersNotFound")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e(g||P!=="all"?"userManagementPage.noResults.searchEmpty":"userManagementPage.noResults.usersEmpty")})]}),o==="grid"&&ie.length>0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.jsx(jt,{children:ie.map(q=>r.jsxs(re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold text-lg",children:q.fullName.split(" ").map(G=>G[0]).join("").slice(0,2)}),r.jsxs("div",{className:`${t?"mr-3":"ml-3"} flex-1 min-w-0`,children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:q.fullName}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:q.email})]}),r.jsxs("div",{className:"relative",ref:Z,children:[r.jsx("button",{onClick:()=>C(S===q.id?null:q.id),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(Wd,{className:"h-5 w-5"})}),S===q.id&&r.jsx("div",{className:`absolute ${t?"left-0":"right-0"} mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5 z-10`,children:r.jsxs("div",{className:"py-1",children:[r.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:e("userManagementPage.actions.viewDetails")}),r.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:e("userManagementPage.actions.edit")}),r.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-600",children:q.isActive?e("userManagementPage.actions.deactivate"):e("userManagementPage.actions.activate")})]})})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx(Gr,{className:`h-4 w-4 text-gray-400 ${t?"ml-2":"mr-2"}`}),r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:q.phoneNumber})]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx(Bi,{className:`h-4 w-4 text-gray-400 ${t?"ml-2":"mr-2"}`}),r.jsx("span",{className:"text-gray-600 dark:text-gray-300 truncate",children:q.restaurantName})]}),q.branchName&&r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx($r,{className:`h-4 w-4 text-gray-400 ${t?"ml-2":"mr-2"}`}),r.jsx("span",{className:"text-gray-600 dark:text-gray-300 truncate",children:q.branchName})]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx(Fa,{className:`h-4 w-4 text-gray-400 ${t?"ml-2":"mr-2"}`}),r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:$(q.createdDate)})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:q.roles.map((G,ee)=>r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${H(G)}`,children:[z(G),e(`userManagementPage.roleTypes.${G}`)]},ee))}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${B(q.isActive)}`,children:[q.isActive?r.jsx(Do,{className:"h-3 w-3"}):r.jsx(Sl,{className:"h-3 w-3"}),q.isActive?e("userManagementPage.status.active"):e("userManagementPage.status.inactive")]})})]})]},q.id))})}),o==="list"&&ie.length>0&&r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:`px-6 py-3 ${t?"text-right":"text-left"} text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:e("userManagementPage.table.user")}),r.jsx("th",{scope:"col",className:`px-6 py-3 ${t?"text-right":"text-left"} text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:e("userManagementPage.table.contact")}),r.jsx("th",{scope:"col",className:`px-6 py-3 ${t?"text-right":"text-left"} text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:e("userManagementPage.table.roles")}),r.jsx("th",{scope:"col",className:`px-6 py-3 ${t?"text-right":"text-left"} text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:e("userManagementPage.table.location")}),r.jsx("th",{scope:"col",className:`px-6 py-3 ${t?"text-right":"text-left"} text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:e("userManagementPage.table.status")}),r.jsx("th",{scope:"col",className:`px-6 py-3 ${t?"text-right":"text-left"} text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:e("userManagementPage.table.registrationDate")}),r.jsx("th",{scope:"col",className:"relative px-6 py-3",children:r.jsx("span",{className:"sr-only",children:e("userManagementPage.table.actions")})})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:r.jsx(jt,{children:ie.map(q=>r.jsxs(re.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold",children:q.fullName.split(" ").map(G=>G[0]).join("").slice(0,2)}),r.jsxs("div",{className:`${t?"mr-4":"ml-4"}`,children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:q.fullName}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:q.userName})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:q.email}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:q.phoneNumber})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:q.roles.map((G,ee)=>r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${H(G)}`,children:[z(G),e(`userManagementPage.roleTypes.${G}`)]},ee))})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:q.restaurantName}),q.branchName&&r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:q.branchName})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${B(q.isActive)}`,children:[q.isActive?r.jsx(Do,{className:"h-3 w-3"}):r.jsx(Sl,{className:"h-3 w-3"}),q.isActive?e("userManagementPage.status.active"):e("userManagementPage.status.inactive")]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:$(q.createdDate)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"relative",ref:Z,children:[r.jsx("button",{onClick:()=>C(S===q.id?null:q.id),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:r.jsx(Wd,{className:"h-5 w-5"})}),S===q.id&&r.jsx("div",{className:`absolute ${t?"left-0":"right-0"} mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5 z-10`,children:r.jsxs("div",{className:"py-1",children:[r.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:e("userManagementPage.actions.viewDetails")}),r.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:e("userManagementPage.actions.edit")}),r.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-600",children:q.isActive?e("userManagementPage.actions.deactivate"):e("userManagementPage.actions.activate")})]})})]})})]},q.id))})})]})})})]}):r.jsxs(r.Fragment,{children:[te.length===0&&!y&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(nn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:e("userManagementPage.noResults.rolesNotFound")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e(g||P!=="all"?"userManagementPage.noResults.searchEmptyRoles":"userManagementPage.noResults.rolesEmpty")})]}),o==="grid"&&te.length>0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.jsx(jt,{children:te.map(q=>r.jsxs(re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center",children:r.jsx(nn,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:q.name}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:q.category})]})]}),r.jsxs("div",{className:"relative",ref:Z,children:[r.jsx("button",{onClick:()=>C(S===q.id?null:q.id),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(Wd,{className:"h-5 w-5"})}),S===q.id&&r.jsx("div",{className:`absolute ${t?"left-0":"right-0"} mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5 z-10`,children:r.jsxs("div",{className:"py-1",children:[r.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:e("userManagementPage.actions.viewDetails")}),r.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:e("userManagementPage.actions.edit")}),r.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-600",children:q.isActive?e("userManagementPage.actions.deactivate"):e("userManagementPage.actions.activate")})]})})]})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4 line-clamp-2",children:q.description||e("userManagementPage.roleDetails.noDescription")}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:e("userManagementPage.roleDetails.userCount")}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:q.userCount})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:e("userManagementPage.roleDetails.permissionCount")}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:q.permissionCount})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:e("userManagementPage.roleDetails.restaurant")}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate max-w-32",title:q.restaurantName,children:q.restaurantName})]}),q.branchName&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:e("userManagementPage.roleDetails.branch")}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate max-w-32",title:q.branchName,children:q.branchName})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${q.isActive?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[q.isActive?r.jsx(Do,{className:"h-3 w-3"}):r.jsx(Sl,{className:"h-3 w-3"}),q.isActive?e("userManagementPage.status.active"):e("userManagementPage.status.inactive")]}),q.isSystemRole&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:[r.jsx(Ya,{className:"h-3 w-3"}),e("userManagementPage.status.systemRole")]})]})]},q.id))})}),o==="list"&&te.length>0&&r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:`px-6 py-3 ${t?"text-right":"text-left"} text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:e("userManagementPage.table.role")}),r.jsx("th",{scope:"col",className:`px-6 py-3 ${t?"text-right":"text-left"} text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:e("userManagementPage.table.description")}),r.jsx("th",{scope:"col",className:`px-6 py-3 ${t?"text-right":"text-left"} text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:e("userManagementPage.table.statistics")}),r.jsx("th",{scope:"col",className:`px-6 py-3 ${t?"text-right":"text-left"} text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:e("userManagementPage.table.position")}),r.jsx("th",{scope:"col",className:`px-6 py-3 ${t?"text-right":"text-left"} text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider`,children:e("userManagementPage.table.status")}),r.jsx("th",{scope:"col",className:"relative px-6 py-3",children:r.jsx("span",{className:"sr-only",children:e("userManagementPage.table.actions")})})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:r.jsx(jt,{children:te.map(q=>r.jsxs(re.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center",children:r.jsx(nn,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{className:`${t?"mr-4":"ml-4"}`,children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:q.name}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:q.category})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900 dark:text-white max-w-xs truncate",children:q.description||e("userManagementPage.roleDetails.noDescription")})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[q.userCount," ",e("userManagementPage.roleDetails.users")]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[q.permissionCount," ",e("userManagementPage.roleDetails.permissions")]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:q.restaurantName}),q.branchName&&r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:q.branchName})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${q.isActive?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[q.isActive?r.jsx(Do,{className:"h-3 w-3"}):r.jsx(Sl,{className:"h-3 w-3"}),q.isActive?e("userManagementPage.status.active"):e("userManagementPage.status.inactive")]}),q.isSystemRole&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:[r.jsx(Ya,{className:"h-3 w-3"}),e("userManagementPage.status.systemRole")]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"relative",ref:Z,children:[r.jsx("button",{onClick:()=>C(S===q.id?null:q.id),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:r.jsx(Wd,{className:"h-5 w-5"})}),S===q.id&&r.jsx("div",{className:`absolute ${t?"left-0":"right-0"} mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5 z-10`,children:r.jsxs("div",{className:"py-1",children:[r.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:e("userManagementPage.actions.viewDetails")}),r.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:e("userManagementPage.actions.edit")}),r.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-600",children:q.isActive?e("userManagementPage.actions.deactivate"):e("userManagementPage.actions.activate")})]})})]})})]},q.id))})})]})})})]}),A&&r.jsx(Uq,{isOpen:A,onClose:()=>I(!1),onSubmit:W,permissions:Fq,isLoading:M}),Q&&r.jsx(qq,{isOpen:Q,onClose:()=>U(!1),onSubmit:X,roles:s,isLoading:V})]})},Uq=({isOpen:e,onClose:t,onSubmit:a,permissions:n,isLoading:s})=>{const{t:i,isRTL:o}=qe(),[l,c]=p.useState({name:"",description:"",restaurantId:null,branchId:null,category:"",isActive:!0,permissionIds:[]}),[u,g]=p.useState({}),[h,x]=p.useState([]),b=()=>{const j={};return!l.name||l.name.length<3?j.name=i("userManagementPage.createRole.validation.nameRequired"):l.name.length>50&&(j.name=i("userManagementPage.createRole.validation.nameMaxLength")),l.description&&l.description.length>200&&(j.description=i("userManagementPage.createRole.validation.descriptionMaxLength")),l.category&&l.category.length>50&&(j.category=i("userManagementPage.createRole.validation.categoryMaxLength")),g(j),Object.keys(j).length===0},y=j=>{if(j.preventDefault(),!b())return;const S={...l,permissionIds:h.length>0?h:null,description:l.description||null,restaurantId:l.restaurantId||null,branchId:l.branchId||null,category:l.category||null};a(S)},k=j=>{x(S=>S.includes(j)?S.filter(C=>C!==j):[...S,j])},v=n.reduce((j,S)=>(j[S.category]||(j[S.category]=[]),j[S.category].push(S),j),{});return e?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),r.jsxs(re.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"relative w-full max-w-2xl rounded-xl bg-white dark:bg-gray-800 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(nn,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),i("userManagementPage.createRole.title")]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"✕"})]}),r.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i("userManagementPage.createRole.roleName")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"name",required:!0,maxLength:50,value:l.name,onChange:j=>c(S=>({...S,name:j.target.value})),className:`w-full rounded-lg border px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 ${u.name?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:i("userManagementPage.createRole.roleNamePlaceholder")}),u.name&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.name})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:i("userManagementPage.createRole.category")}),r.jsx("input",{type:"text",id:"category",maxLength:50,value:l.category||"",onChange:j=>c(S=>({...S,category:j.target.value})),className:`w-full rounded-lg border px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 ${u.category?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:i("userManagementPage.createRole.categoryPlaceholder")}),u.category&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.category})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:i("userManagementPage.createRole.description")}),r.jsx("textarea",{id:"description",rows:3,maxLength:200,value:l.description||"",onChange:j=>c(S=>({...S,description:j.target.value})),className:`w-full rounded-lg border px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 ${u.description?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:i("userManagementPage.createRole.descriptionPlaceholder")}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[u.description&&r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u.description}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-auto",children:[(l.description||"").length,"/200"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"restaurantId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:i("userManagementPage.createRole.restaurantId")}),r.jsx("input",{type:"number",id:"restaurantId",min:"0",value:l.restaurantId||"",onChange:j=>c(S=>({...S,restaurantId:j.target.value?parseInt(j.target.value):null})),className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:i("userManagementPage.createRole.restaurantIdPlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"branchId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:i("userManagementPage.createRole.branchId")}),r.jsx("input",{type:"number",id:"branchId",min:"0",value:l.branchId||"",onChange:j=>c(S=>({...S,branchId:j.target.value?parseInt(j.target.value):null})),className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:i("userManagementPage.createRole.branchIdPlaceholder")})]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:l.isActive,onChange:j=>c(S=>({...S,isActive:j.target.checked})),className:"h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),r.jsx("label",{htmlFor:"isActive",className:`${o?"mr-2":"ml-2"} text-sm text-gray-700 dark:text-gray-300`,children:i("userManagementPage.createRole.isActive")})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[i("userManagementPage.createRole.permissions")," (",h.length," ",i("userManagementPage.createRole.permissionsSelected"),")"]}),r.jsx("div",{className:"max-h-64 overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-700/50",children:Object.entries(v).map(([j,S])=>r.jsxs("div",{className:"mb-4 last:mb-0",children:[r.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2 text-sm",children:i(`userManagementPage.permissionCategories.${j}`)||j}),r.jsx("div",{className:"space-y-2",children:S.map(C=>r.jsxs("label",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600/50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:h.includes(C.id),onChange:()=>k(C.id),className:"mt-0.5 h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-white",children:C.name}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:C.description})]})]},C.id))})]},j))})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:t,disabled:s,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none disabled:opacity-50",children:i("userManagementPage.createRole.cancel")}),r.jsxs("button",{type:"submit",disabled:s,className:"px-6 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[s&&r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i(s?"userManagementPage.createRole.creating":"userManagementPage.createRole.create")]})]})]})]})]})}):null},qq=({isOpen:e,onClose:t,onSubmit:a,roles:n,isLoading:s})=>{const{t:i,isRTL:o}=qe(),[l,c]=p.useState({name:"",surName:"",userName:"",email:"",password:"",passwordConfirm:"",phoneNumber:"",restaurantId:null,branchId:null,profileImage:"",userCreatorId:"",roleIdsList:[],isActive:!0}),[u,g]=p.useState({}),[h,x]=p.useState([]),[b,y]=p.useState(!1),[k,v]=p.useState(!1),[j,S]=p.useState("restaurant"),C=()=>{const I={};if(!l.name||l.name.length===0?I.name=i("userManagementPage.createUser.validation.nameRequired"):l.name.length>50&&(I.name=i("userManagementPage.createUser.validation.nameMaxLength")),!l.surName||l.surName.length===0?I.surName=i("userManagementPage.createUser.validation.surnameRequired"):l.surName.length>50&&(I.surName=i("userManagementPage.createUser.validation.surnameMaxLength")),!l.userName){const M=`${l.name.toLowerCase()}.${l.surName.toLowerCase()}`.replace(/[^a-z.]/g,"");c(F=>({...F,userName:M}))}return!l.email||l.email.length===0?I.email=i("userManagementPage.createUser.validation.emailRequired"):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(I.email=i("userManagementPage.createUser.validation.emailInvalid")),!l.password||l.password.length<6?I.password=i("userManagementPage.createUser.validation.passwordRequired"):l.password.length>100&&(I.password=i("userManagementPage.createUser.validation.passwordMaxLength")),!l.passwordConfirm||l.passwordConfirm.length===0?I.passwordConfirm=i("userManagementPage.createUser.validation.passwordConfirmRequired"):l.password!==l.passwordConfirm&&(I.passwordConfirm=i("userManagementPage.createUser.validation.passwordMismatch")),(!l.phoneNumber||l.phoneNumber.length===0)&&(I.phoneNumber=i("userManagementPage.createUser.validation.phoneRequired")),j==="restaurant"?(!l.restaurantId||l.restaurantId<=0)&&(I.restaurantId=i("userManagementPage.createUser.validation.restaurantIdRequired")):(!l.branchId||l.branchId<=0)&&(I.branchId=i("userManagementPage.createUser.validation.branchIdRequired")),h.length===0&&(I.roles=i("userManagementPage.createUser.validation.rolesRequired")),g(I),Object.keys(I).length===0},P=I=>{if(I.preventDefault(),!C())return;const M=()=>{try{const Q=localStorage.getItem("token")||sessionStorage.getItem("token");if(Q){const U=JSON.parse(atob(Q.split(".")[1]));return U.user_id||U.sub||""}return""}catch{return""}},F={...l,userName:l.userName||`${l.name.toLowerCase()}.${l.surName.toLowerCase()}`.replace(/[^a-z.]/g,""),restaurantId:j==="restaurant"?l.restaurantId:null,branchId:j==="branch"?l.branchId:null,profileImage:l.profileImage||"",userCreatorId:l.userCreatorId||M(),roleIdsList:h};a(F)},E=I=>{x(M=>M.includes(I)?M.filter(F=>F!==I):[...M,I])},A=I=>{S(I),c(I==="restaurant"?M=>({...M,branchId:null}):M=>({...M,restaurantId:null})),g(M=>{const F={...M};return delete F.restaurantId,delete F.branchId,F})};return e?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),r.jsxs(re.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"relative w-full max-w-4xl rounded-xl bg-white dark:bg-gray-800 shadow-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-6 py-4 sticky top-0 bg-white dark:bg-gray-800",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(qg,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),i("userManagementPage.createUser.title")]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"✕"})]}),r.jsxs("form",{onSubmit:P,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:i("userManagementPage.createUser.personalInfo")}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i("userManagementPage.createUser.firstName")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"name",required:!0,maxLength:50,value:l.name,onChange:I=>c(M=>({...M,name:I.target.value})),className:`w-full rounded-lg border px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${u.name?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:i("userManagementPage.createUser.firstNamePlaceholder")}),u.name&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.name})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"surName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i("userManagementPage.createUser.lastName")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"surName",required:!0,maxLength:50,value:l.surName,onChange:I=>c(M=>({...M,surName:I.target.value})),className:`w-full rounded-lg border px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${u.surName?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:i("userManagementPage.createUser.lastNamePlaceholder")}),u.surName&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.surName})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{htmlFor:"userName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:i("userManagementPage.createUser.userName")}),r.jsx("input",{type:"text",id:"userName",value:l.userName,onChange:I=>c(M=>({...M,userName:I.target.value})),className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:i("userManagementPage.createUser.userNamePlaceholder")}),r.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:i("userManagementPage.createUser.userNameHint")})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:i("userManagementPage.createUser.contactInfo")}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i("userManagementPage.createUser.email")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",id:"email",required:!0,value:l.email,onChange:I=>c(M=>({...M,email:I.target.value})),className:`w-full rounded-lg border px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${u.email?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:i("userManagementPage.createUser.emailPlaceholder")}),u.email&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.email})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i("userManagementPage.createUser.phone")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",id:"phoneNumber",required:!0,value:l.phoneNumber??"",onChange:I=>c(M=>({...M,phoneNumber:I.target.value})),className:`w-full rounded-lg border px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${u.phoneNumber?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:i("userManagementPage.createUser.phonePlaceholder")}),u.phoneNumber&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.phoneNumber})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:i("userManagementPage.createUser.passwordInfo")}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i("userManagementPage.createUser.password")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:b?"text":"password",id:"password",required:!0,maxLength:100,minLength:6,value:l.password,onChange:I=>c(M=>({...M,password:I.target.value})),className:`w-full rounded-lg border px-4 py-2 ${o?"pl-10":"pr-10"} text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${u.password?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:i("userManagementPage.createUser.passwordPlaceholder")}),r.jsx("button",{type:"button",onClick:()=>y(!b),className:`absolute inset-y-0 ${o?"left-0 pl-3":"right-0 pr-3"} flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`,children:b?"👁️":"🔒"})]}),u.password&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.password})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"passwordConfirm",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i("userManagementPage.createUser.passwordConfirm")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:k?"text":"password",id:"passwordConfirm",required:!0,maxLength:100,minLength:6,value:l.passwordConfirm,onChange:I=>c(M=>({...M,passwordConfirm:I.target.value})),className:`w-full rounded-lg border px-4 py-2 ${o?"pl-10":"pr-10"} text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${u.passwordConfirm?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:i("userManagementPage.createUser.passwordConfirmPlaceholder")}),r.jsx("button",{type:"button",onClick:()=>v(!k),className:`absolute inset-y-0 ${o?"left-0 pl-3":"right-0 pr-3"} flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`,children:k?"👁️":"🔒"})]}),u.passwordConfirm&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.passwordConfirm})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:i("userManagementPage.createUser.locationInfo")}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[i("userManagementPage.createUser.locationType")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"locationType",value:"restaurant",checked:j==="restaurant",onChange:I=>A("restaurant"),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),r.jsx("span",{className:`${o?"mr-2":"ml-2"} text-sm text-gray-700 dark:text-gray-300`,children:i("userManagementPage.createUser.restaurant")})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"locationType",value:"branch",checked:j==="branch",onChange:I=>A("branch"),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),r.jsx("span",{className:`${o?"mr-2":"ml-2"} text-sm text-gray-700 dark:text-gray-300`,children:i("userManagementPage.createUser.branch")})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[j==="restaurant"?r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"restaurantId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i("userManagementPage.createUser.restaurantId")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",id:"restaurantId",min:"1",required:!0,value:l.restaurantId||"",onChange:I=>c(M=>({...M,restaurantId:I.target.value?parseInt(I.target.value):null})),className:`w-full rounded-lg border px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${u.restaurantId?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:i("userManagementPage.createUser.restaurantIdPlaceholder")}),u.restaurantId&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.restaurantId})]}):r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"branchId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i("userManagementPage.createUser.branchId")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",id:"branchId",min:"1",required:!0,value:l.branchId||"",onChange:I=>c(M=>({...M,branchId:I.target.value?parseInt(I.target.value):null})),className:`w-full rounded-lg border px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${u.branchId?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:i("userManagementPage.createUser.branchIdPlaceholder")}),u.branchId&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.branchId})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"profileImage",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:i("userManagementPage.createUser.profileImage")}),r.jsx("input",{type:"url",id:"profileImage",value:l.profileImage??"",onChange:I=>c(M=>({...M,profileImage:I.target.value})),className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:i("userManagementPage.createUser.profileImagePlaceholder")})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{htmlFor:"userCreatorId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:i("userManagementPage.createUser.userCreatorId")}),r.jsx("input",{type:"text",id:"userCreatorId",value:l.userCreatorId,onChange:I=>c(M=>({...M,userCreatorId:I.target.value})),className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:i("userManagementPage.createUser.userCreatorIdPlaceholder")})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:i("userManagementPage.createUser.roleAssignment")}),r.jsx("div",{className:"mb-4",children:r.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mb-3",children:i("userManagementPage.createUser.apiWarning")})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[i("userManagementPage.createUser.rolesLabel")," (",h.length," ",i("userManagementPage.createUser.rolesSelected"),") ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-700/50",children:n.length===0?r.jsxs("div",{className:"text-center py-6",children:[r.jsx(nn,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium mb-1",children:i("userManagementPage.createUser.noRoles.title")}),r.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs",children:i("userManagementPage.createUser.noRoles.description")}),r.jsx("div",{className:"mt-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:r.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:i("userManagementPage.createUser.noRoles.tip")})})]}):r.jsx("div",{className:"space-y-2",children:n.filter(I=>I.isActive).map(I=>r.jsxs("label",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600/50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:h.includes(I.id),onChange:()=>E(I.id),className:"mt-0.5 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-white",children:I.name}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[I.description," • ",I.userCount," ",i("userManagementPage.roleDetails.users")," • ",I.permissionCount," ",i("userManagementPage.roleDetails.permissions")]}),r.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:[I.restaurantName,I.branchName?` - ${I.branchName}`:""]})]})]},I.id))})}),u.roles&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.roles}),n.length===0&&r.jsx("div",{className:"mt-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"text-yellow-600 dark:text-yellow-400",children:"⚠️"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:i("userManagementPage.createUser.noRoles.warning")}),r.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300 mt-1",children:i("userManagementPage.createUser.noRoles.warningDescription")})]})]})})]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:l.isActive,onChange:I=>c(M=>({...M,isActive:I.target.checked})),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"isActive",className:`${o?"mr-2":"ml-2"} text-sm text-gray-700 dark:text-gray-300`,children:i("userManagementPage.createUser.isActive")})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700 sticky bottom-0 bg-white dark:bg-gray-800",children:[r.jsx("button",{type:"button",onClick:t,disabled:s,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none disabled:opacity-50",children:i("userManagementPage.createUser.cancel")}),r.jsxs("button",{type:"submit",disabled:s||n.length===0,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[s&&r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s?i("userManagementPage.createUser.creating"):n.length===0?i("userManagementPage.createUser.createRoleFirst"):i("userManagementPage.createUser.create")]})]})]})]})]})}):null};var Ur=(e=>(e.SELECT_CATEGORIES="select_categories",e.SELECT_PRODUCTS="select_products",e.REVIEW_SELECTION="review_selection",e))(Ur||{});const Gg="https://www.customcardsandgames.com/assets/images/noImageUploaded.png",At={primary:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 focus:ring-blue-500/50",success:"bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 focus:ring-emerald-500/50",neutral:"bg-gradient-to-r from-slate-600 to-gray-600 hover:from-slate-700 hover:to-gray-700 focus:ring-slate-500/50",danger:"bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-700 hover:to-rose-700 focus:ring-red-500/50",text:{primary:"text-slate-800 dark:text-slate-100",secondary:"text-slate-600 dark:text-slate-300",muted:"text-slate-500 dark:text-slate-400",error:"text-red-600 dark:text-red-400",success:"text-emerald-600 dark:text-emerald-400",warning:"text-amber-600 dark:text-amber-400"},background:{card:"bg-white/90 dark:bg-slate-800/90",cardHover:"hover:bg-white/95 dark:hover:bg-slate-800/95"}},Wq=[{value:"table",label:"TableCategoryModal.table",icon:Wu},{value:"chair",label:"TableCategoryModal.chair",icon:hF},{value:"utensils",label:"TableCategoryModal.service",icon:qi},{value:"tag",label:"TableCategoryModal.label",icon:sd},{value:"layers",label:"TableCategoryModal.layer",icon:jF}],Vq=["#ef4444","#f97316","#f59e0b","#eab308","#84cc16","#22c55e","#10b981","#14b8a6","#06b6d4","#0ea5e9","#3b82f6","#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899"],Js={Category:"bg-purple-100 text-purple-900 dark:bg-purple-900/20 dark:text-purple-300",BranchCategory:"bg-indigo-100 text-indigo-900 dark:bg-indigo-900/20 dark:text-indigo-300",Product:"bg-green-100 text-green-900 dark:bg-green-900/20 dark:text-green-300",BranchProduct:"bg-emerald-100 text-emerald-900 dark:bg-emerald-900/20 dark:text-emerald-300",BranchQRCode:"bg-cyan-100 text-cyan-900 dark:bg-cyan-900/20 dark:text-cyan-300",Order:"bg-amber-100 text-amber-900 dark:bg-amber-900/20 dark:text-amber-300",Restaurant:"bg-orange-100 text-orange-900 dark:bg-orange-900/20 dark:text-orange-300",Branch:"bg-blue-100 text-blue-900 dark:bg-blue-900/20 dark:text-blue-300",Admin:"bg-red-100 text-red-900 dark:bg-red-900/20 dark:text-red-300"},Hq=()=>{const{t:e,isRTL:t}=qe(),[a,n]=p.useState(null),[s,i]=p.useState(!0),[o,l]=p.useState(null);if(p.useEffect(()=>{let y=!0;return(async()=>{try{const v=await Ko.getUserProfile();y&&n(v.data)}catch(v){if(y){const{logger:j}=await Lo(async()=>{const{logger:S}=await Promise.resolve().then(()=>Kd);return{logger:S}},void 0);j.error("Profil verisi alınamadı",v),l(e("profile.error.loadFailed"))}}finally{y&&i(!1)}})(),()=>{y=!1}},[e]),s)return r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(o||!a)return r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx(fa,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:o||e("profile.error.loadFailed")})]})});const{appUser:c,appRoles:u}=a,g=`${c.name} ${c.surname}`.trim(),h=`${c.name?.charAt(0)||""}${c.surname?.charAt(0)||""}`,x=new Date(c.createdDate).toLocaleDateString("tr-TR"),b=u.length;return r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",dir:t?"rtl":"ltr",children:[r.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700 rounded-2xl p-8 text-white shadow-xl",children:r.jsxs("div",{className:`flex flex-col md:flex-row items-center space-y-6 md:space-y-0 ${t?"md:space-x-reverse md:space-x-8":"md:space-x-8"}`,children:[r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-3xl font-bold ring-4 ring-white/30",children:c.profileImage?r.jsx("img",{src:c.profileImage,alt:g,className:"w-full h-full rounded-full object-cover"}):h}),r.jsx("button",{className:`absolute -bottom-2 ${t?"-left-2":"-right-2"} bg-white text-primary-600 p-2 rounded-full shadow-lg group-hover:scale-110 transition-transform`,children:r.jsx(zg,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:`flex-1 ${t?"text-center md:text-right":"text-center md:text-left"}`,children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:g}),r.jsx("p",{className:"text-primary-100 text-lg mb-4",children:c.email}),r.jsxs("div",{className:`flex flex-wrap gap-3 ${t?"justify-center md:justify-end":"justify-center md:justify-start"}`,children:[r.jsxs("span",{className:`px-4 py-2 rounded-full text-sm font-medium flex items-center gap-2 ${c.isActive?"bg-green-500/20 text-green-100 border border-green-400/30":"bg-red-500/20 text-red-100 border border-red-400/30"}`,children:[c.isActive?r.jsx(xt,{className:"w-4 h-4"}):r.jsx(fa,{className:"w-4 h-4"}),c.isActive?e("profile.accountStatus.active"):e("profile.accountStatus.inactive")]}),[...new Set(u.map(y=>y.category))].map((y,k)=>r.jsxs("span",{className:"px-4 py-2 rounded-full text-sm font-medium bg-white/10 text-white border border-white/20 flex items-center gap-2",children:[r.jsx(Ug,{className:"w-4 h-4"}),e(`profile.categories.${y}`)||y]},k))]})]})]})}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg",children:[r.jsxs("div",{className:`flex items-center justify-between mb-6 ${t?"flex-row-reverse":""}`,children:[r.jsxs("h2",{className:`text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[r.jsx(ln,{className:"w-6 h-6 text-primary-600"}),e("profile.personalInfo")]}),r.jsx("button",{className:"text-primary-600 hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors",children:r.jsx(Vo,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 ${t?"text-right":"text-left"}`,children:e("profile.fields.firstName")}),r.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:r.jsx("p",{className:`font-medium text-gray-900 dark:text-white ${t?"text-right":"text-left"}`,children:c.name})})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 ${t?"text-right":"text-left"}`,children:e("profile.fields.lastName")}),r.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:r.jsx("p",{className:`font-medium text-gray-900 dark:text-white ${t?"text-right":"text-left"}`,children:c.surname})})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 ${t?"text-right":"text-left"}`,children:e("profile.fields.username")}),r.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:r.jsx("p",{className:`font-medium text-gray-900 dark:text-white ${t?"text-right":"text-left"}`,children:c.userName})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 ${t?"text-right":"text-left"}`,children:e("profile.fields.email")}),r.jsxs("div",{className:`p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[r.jsx(Ws,{className:"w-5 h-5 text-gray-400"}),r.jsx("p",{className:`font-medium text-gray-900 dark:text-white ${t?"text-right":"text-left"}`,children:c.email})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 ${t?"text-right":"text-left"}`,children:e("profile.fields.registrationDate")}),r.jsxs("div",{className:`p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[r.jsx(Fa,{className:"w-5 h-5 text-gray-400"}),r.jsx("p",{className:`font-medium text-gray-900 dark:text-white ${t?"text-right":"text-left"}`,children:x})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 ${t?"text-right":"text-left"}`,children:e("profile.accountStatus.status")}),r.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:r.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${c.isActive?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"} ${t?"flex-row-reverse":""}`,children:[c.isActive?r.jsx(xt,{className:"w-4 h-4"}):r.jsx(fa,{className:"w-4 h-4"}),c.isActive?e("profile.restaurant.status.active"):e("profile.restaurant.status.inactive")]})})]})]})]})]}),r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[c.restaurant&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg",children:[r.jsxs("h3",{className:`text-xl font-bold text-gray-900 dark:text-white flex items-center gap-3 mb-4 ${t?"flex-row-reverse":""}`,children:[r.jsx(pr,{className:"w-5 h-5 text-primary-600"}),e("profile.restaurant.info")]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 ${t?"text-right":"text-left"}`,children:e("profile.restaurant.name")}),r.jsx("p",{className:`font-medium text-gray-900 dark:text-white ${t?"text-right":"text-left"}`,children:c.restaurant.restaurantName})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 ${t?"text-right":"text-left"}`,children:e("profile.fields.status")}),r.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${c.restaurant.restaurantStatus?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"} ${t?"flex-row-reverse":""}`,children:[c.restaurant.restaurantStatus?r.jsx(xt,{className:"w-4 h-4"}):r.jsx(fa,{className:"w-4 h-4"}),c.restaurant.restaurantStatus?e("profile.restaurant.status.active"):e("profile.restaurant.status.inactive")]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg",children:[r.jsxs("h3",{className:`text-xl font-bold text-gray-900 dark:text-white flex items-center gap-3 mb-4 ${t?"flex-row-reverse":""}`,children:[r.jsx(hS,{className:"w-5 h-5 text-primary-600"}),e("profile.permissions.summary")]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:`flex justify-between items-center p-4 bg-primary-50 dark:bg-primary-900/20 rounded-xl ${t?"flex-row-reverse":""}`,children:[r.jsx("span",{className:"text-sm font-medium text-primary-800 dark:text-primary-200",children:e("profile.permissions.totalCategories")}),r.jsx("span",{className:"text-2xl font-bold text-primary-600",children:[...new Set(u.map(y=>y.category))].length})]}),r.jsxs("div",{className:`flex justify-between items-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl ${t?"flex-row-reverse":""}`,children:[r.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:e("profile.permissions.totalPermissions")}),r.jsx("span",{className:"text-2xl font-bold text-blue-600",children:b})]})]})]})]})]}),u.length>0&&r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg",children:[r.jsxs("h2",{className:`text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-3 mb-6 ${t?"flex-row-reverse":""}`,children:[r.jsx(hS,{className:"w-6 h-6 text-primary-600"}),e("profile.permissions.rolesAndPermissions")]}),r.jsx("div",{className:"space-y-6",children:(()=>{const y=u.reduce((k,v)=>{const j=v.category||"Other";return(k[j]=k[j]||[]).push(v),k},{});return Object.entries(y).map(([k,v])=>r.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[r.jsxs("div",{className:`flex items-center justify-between mb-4 ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`${t?"text-right":"text-left"}`,children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e(`profile.categories.${k}`)||k}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[v.length," ",e("profile.permissions.totalPermissions").toLowerCase()]})]}),r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400 rounded-full text-sm font-medium",children:v.length})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 uppercase tracking-wide flex items-center gap-2",children:[r.jsx("span",{className:`h-2 w-2 rounded-full ${Js[k]?.includes("bg-purple-100")?"bg-purple-500":Js[k]?.includes("bg-indigo-100")?"bg-indigo-500":Js[k]?.includes("bg-green-100")?"bg-green-500":Js[k]?.includes("bg-emerald-100")?"bg-emerald-500":Js[k]?.includes("bg-cyan-100")?"bg-cyan-500":Js[k]?.includes("bg-amber-100")?"bg-amber-500":Js[k]?.includes("bg-orange-100")?"bg-orange-500":Js[k]?.includes("bg-blue-100")?"bg-blue-500":Js[k]?.includes("bg-red-100")?"bg-red-500":"bg-gray-400"}`}),e(`profile.categories.${k}`)||k," (",v.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:v.map((j,S)=>{const C=e(`profile.permissionNames.${j.name}`)||j.description||j.name,P=Js[k]||"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-gray-300";return r.jsx("span",{className:`px-3 py-1.5 rounded-lg text-sm font-medium ${P}`,title:j.description,children:C},S)})})]})]},k))})()})]})]})},Kq=()=>{const{t:e,language:t}=qe(),a=t==="ar",[n]=p.useState([{id:1,last4:"4242",brand:"Visa",expMonth:12,expYear:2024,isDefault:!0},{id:2,last4:"8888",brand:"Mastercard",expMonth:6,expYear:2025,isDefault:!1}]),[s]=p.useState([{id:"INV-2024-001",date:"2024-12-01",amount:199,status:"paid",plan:"Pro Plan",description:"Aralık 2024 - Pro Plan Aboneliği"},{id:"INV-2024-002",date:"2024-11-01",amount:199,status:"paid",plan:"Pro Plan",description:"Kasım 2024 - Pro Plan Aboneliği"},{id:"INV-2024-003",date:"2024-10-01",amount:199,status:"paid",plan:"Pro Plan",description:"Ekim 2024 - Pro Plan Aboneliği"}]),[i]=p.useState("pro"),[o,l]=p.useState(!1),[c,u]=p.useState(null),[g,h]=p.useState("overview"),x=()=>{l(!0)},b=P=>{N.info("Delete card",{id:P})},y=P=>{N.info("Set default card",{id:P})},k=P=>{switch(P){case"basic":return r.jsx(Ls,{className:"h-5 w-5"});case"pro":return r.jsx(Ug,{className:"h-5 w-5"});case"enterprise":return r.jsx(nn,{className:"h-5 w-5"});default:return r.jsx(Ya,{className:"h-5 w-5"})}},v=P=>{switch(P){case"basic":return"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400";case"pro":return"bg-primary-100 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400";case"enterprise":return"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400";default:return"bg-gray-100 text-gray-600 dark:bg-gray-900/30 dark:text-gray-400"}},j=P=>{switch(P){case"paid":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},S=P=>{switch(P){case"paid":return r.jsx(xt,{className:"h-4 w-4"});case"pending":return r.jsx(zt,{className:"h-4 w-4"});case"failed":return r.jsx(fa,{className:"h-4 w-4"});default:return r.jsx(on,{className:"h-4 w-4"})}},C=[{id:"overview",label:e("subscription.tabs.overview"),icon:Ho},{id:"billing",label:e("subscription.tabs.billing"),icon:MF},{id:"usage",label:e("subscription.tabs.usage"),icon:Ht}];return r.jsxs("div",{className:"space-y-6",dir:a?"rtl":"ltr",children:[r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e("subscription.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:e("subscription.description")})]}),r.jsxs("div",{className:`flex items-center ${a?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(Yr,{className:`h-4 w-4 ${a?"ml-2":"mr-2"}`}),e("subscription.actions.settings")]}),r.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 rounded-lg transition-colors",children:[r.jsx(Nt,{className:`h-4 w-4 ${a?"ml-2":"mr-2"}`}),e("subscription.actions.upgrade")]})]})]}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:`flex ${a?"space-x-reverse space-x-8":"space-x-8"}`,children:C.map(P=>{const E=P.icon;return r.jsxs("button",{onClick:()=>h(P.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${g===P.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[r.jsx(E,{className:"h-4 w-4"}),r.jsx("span",{children:P.label})]},P.id)})})}),r.jsxs(jt,{mode:"wait",children:[g==="overview"&&r.jsxs(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`p-3 rounded-xl ${v(i)}`,children:k(i)}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white capitalize",children:[i," Plan"]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aktif aboneliğiniz"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"₺199"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"aylık"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:r.jsx(br,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Durum"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Aktif"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 rounded-lg",children:r.jsx(Fa,{className:"h-4 w-4 text-primary-600 dark:text-primary-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e("subscription.renewal")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"15 Aralık 2024"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsx(Ht,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Kullanıcı"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Sınırsız"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:r.jsx(nn,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Güvenlik"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"SSL korumalı"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:[r.jsx("span",{children:e("subscription.changePlan")}),r.jsx(xm,{className:"ml-1 h-4 w-4"})]}),r.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[r.jsx(da,{className:"h-4 w-4 mr-2"}),"Kullanım Raporu"]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:r.jsx(Ui,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Ödeme Yöntemleri"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Güvenli ödeme kartlarınızı yönetin"})]})]}),r.jsxs("button",{onClick:x,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors",children:[r.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Kart Ekle"]})]}),r.jsx("div",{className:"space-y-3",children:n.map((P,E)=>r.jsxs(re.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:E*.1},className:`flex items-center justify-between p-4 rounded-lg border transition-all duration-200 ${P.isDefault?"border-primary-200 bg-primary-50 dark:border-primary-700 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50"}`,onMouseEnter:()=>u(P.id),onMouseLeave:()=>u(null),children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${P.isDefault?"bg-primary-100 dark:bg-primary-900/30":"bg-gray-100 dark:bg-gray-600"}`,children:r.jsx(Ui,{className:`h-5 w-5 ${P.isDefault?"text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400"}`})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[P.brand," •••• ",P.last4]}),P.isDefault&&r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-900/50 dark:text-primary-300",children:[r.jsx(br,{className:"h-3 w-3 mr-1"}),"Varsayılan"]})]}),r.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center",children:[r.jsx(zt,{className:"h-3 w-3 mr-1"}),"Son Kullanma: ",P.expMonth,"/",P.expYear]})]})]}),r.jsx(jt,{children:c===P.id&&r.jsxs(re.div,{className:"flex items-center space-x-1",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.15},children:[!P.isDefault&&r.jsx("button",{onClick:()=>y(P.id),className:"p-1.5 text-primary-600 dark:text-primary-400 hover:bg-primary-100 dark:hover:bg-primary-900/30 rounded-md transition-colors",title:"Varsayılan yap",children:r.jsx(Vo,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>b(P.id),className:"p-1.5 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-md transition-colors",title:"Kartı sil",children:r.jsx(er,{className:"h-4 w-4"})})]})})]},P.id))}),n.length===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"p-3 bg-gray-100 dark:bg-gray-700 rounded-full w-fit mx-auto mb-3",children:r.jsx(lt,{className:"h-6 w-6 text-gray-400"})}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Henüz ödeme kartı eklenmemiş"}),r.jsxs("button",{onClick:x,className:"mt-3 inline-flex items-center px-4 py-2 text-sm font-medium text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:[r.jsx(Nt,{className:"h-4 w-4 mr-1"}),"İlk kartınızı ekleyin"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Toplam Ödeme"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"₺597"})]}),r.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:r.jsx(Qr,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Sonraki Fatura"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"₺199"})]}),r.jsx("div",{className:"p-3 bg-primary-100 dark:bg-primary-900/30 rounded-lg",children:r.jsx(Fa,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Kullanım"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"%85"})]}),r.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsx(Ho,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})})]})]},"overview"),g==="billing"&&r.jsxs(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Fatura Özeti"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Son 12 ayın fatura geçmişi"})]}),r.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:[r.jsx(Uu,{className:"h-4 w-4 mr-2"}),"Tümünü İndir"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"₺597"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Toplam Ödeme"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"3"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Toplam Fatura"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:"3"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ödenen"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"0"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bekleyen"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Fatura Geçmişi"}),r.jsx("div",{className:"space-y-4",children:s.map((P,E)=>r.jsxs(re.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:E*.1},className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`p-2 rounded-lg ${j(P.status)}`,children:S(P.status)}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:P.id}),r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${j(P.status)}`,children:P.status==="paid"?"Ödendi":P.status==="pending"?"Bekliyor":"Başarısız"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:P.description}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:P.date})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:["₺",P.amount]}),r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:P.plan})]}),r.jsx("button",{className:"p-2 text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(Uu,{className:"h-4 w-4"})})]})]},P.id))})]})]},"billing"),g==="usage"&&r.jsxs(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"QR Taramaları"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"1,847"}),r.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"+12% geçen aya göre"})]}),r.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:r.jsx(hs,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Siparişler"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"234"}),r.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"+8% geçen aya göre"})]}),r.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:r.jsx(Aa,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Kullanıcılar"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"12"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Aktif kullanıcı"})]}),r.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsx(Ht,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Depolama"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"85%"}),r.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"2.1GB / 5GB"})]}),r.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:r.jsx(rM,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsx(Ya,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e("subscription.availablePlans")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("subscription.selectPlan")})]})]}),r.jsx(gM,{})]})]},"usage")]}),r.jsx(jt,{children:o&&r.jsx(re.div,{className:"fixed inset-0 z-50 overflow-y-auto",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx(re.div,{className:"fixed inset-0 bg-black/50",onClick:()=>l(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),r.jsxs(re.div,{className:"relative w-full max-w-md rounded-xl bg-white dark:bg-gray-800 p-6 shadow-xl border border-gray-200 dark:border-gray-700",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:r.jsx(Hl,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Yeni Kart Ekle"})]}),r.jsxs("form",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Kart Numarası"}),r.jsx("input",{type:"text",id:"cardNumber",placeholder:"1234 5678 9012 3456",className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-gray-900 dark:text-white focus:border-primary-500 dark:focus:border-primary-400 focus:outline-none focus:ring-1 focus:ring-primary-500 dark:focus:ring-primary-400 transition-colors"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"expiry",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Son Kullanma"}),r.jsx("input",{type:"text",id:"expiry",placeholder:"MM/YY",className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-gray-900 dark:text-white focus:border-primary-500 dark:focus:border-primary-400 focus:outline-none focus:ring-1 focus:ring-primary-500 dark:focus:ring-primary-400 transition-colors"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"cvc",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"CVC"}),r.jsx("input",{type:"text",id:"cvc",placeholder:"123",className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-gray-900 dark:text-white focus:border-primary-500 dark:focus:border-primary-400 focus:outline-none focus:ring-1 focus:ring-primary-500 dark:focus:ring-primary-400 transition-colors"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none transition-colors",children:"İptal"}),r.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors",children:"Ekle"})]})]})]})]})})})]})};function Gq(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return p.useMemo(()=>n=>{t.forEach(s=>s(n))},t)}const ip=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Nc(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function dw(e){return"nodeType"in e}function gn(e){var t,a;return e?Nc(e)?e:dw(e)&&(t=(a=e.ownerDocument)==null?void 0:a.defaultView)!=null?t:window:window}function cw(e){const{Document:t}=gn(e);return e instanceof t}function Nm(e){return Nc(e)?!1:e instanceof gn(e).HTMLElement}function HM(e){return e instanceof gn(e).SVGElement}function Cc(e){return e?Nc(e)?e.document:dw(e)?cw(e)?e:Nm(e)||HM(e)?e.ownerDocument:document:document:document}const _s=ip?p.useLayoutEffect:p.useEffect;function op(e){const t=p.useRef(e);return _s(()=>{t.current=e}),p.useCallback(function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}function Qq(){const e=p.useRef(null),t=p.useCallback((n,s)=>{e.current=setInterval(n,s)},[]),a=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,a]}function Qu(e,t){t===void 0&&(t=[e]);const a=p.useRef(e);return _s(()=>{a.current!==e&&(a.current=e)},t),a}function Cm(e,t){const a=p.useRef();return p.useMemo(()=>{const n=e(a.current);return a.current=n,n},[...t])}function Qg(e){const t=op(e),a=p.useRef(null),n=p.useCallback(s=>{s!==a.current&&t?.(s,a.current),a.current=s},[]);return[a,n]}function Yg(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let ay={};function Sm(e,t){return p.useMemo(()=>{if(t)return t;const a=ay[e]==null?0:ay[e]+1;return ay[e]=a,e+"-"+a},[e,t])}function KM(e){return function(t){for(var a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++)n[s-1]=arguments[s];return n.reduce((i,o)=>{const l=Object.entries(o);for(const[c,u]of l){const g=i[c];g!=null&&(i[c]=g+e*u)}return i},{...t})}}const Gd=KM(1),Yu=KM(-1);function Yq(e){return"clientX"in e&&"clientY"in e}function lp(e){if(!e)return!1;const{KeyboardEvent:t}=gn(e.target);return t&&e instanceof t}function Xq(e){if(!e)return!1;const{TouchEvent:t}=gn(e.target);return t&&e instanceof t}function Xg(e){if(Xq(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:a}=e.touches[0];return{x:t,y:a}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:a}=e.changedTouches[0];return{x:t,y:a}}}return Yq(e)?{x:e.clientX,y:e.clientY}:null}const di=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:a}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(a?Math.round(a):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:a}=e;return"scaleX("+t+") scaleY("+a+")"}},Transform:{toString(e){if(e)return[di.Translate.toString(e),di.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:a,easing:n}=e;return t+" "+a+"ms "+n}}}),LS="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Zq(e){return e.matches(LS)?e:e.querySelector(LS)}const Jq={display:"none"};function eW(e){let{id:t,value:a}=e;return or.createElement("div",{id:t,style:Jq},a)}function tW(e){let{id:t,announcement:a,ariaLiveType:n="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return or.createElement("div",{id:t,style:s,role:"status","aria-live":n,"aria-atomic":!0},a)}function rW(){const[e,t]=p.useState("");return{announce:p.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const GM=p.createContext(null);function aW(e){const t=p.useContext(GM);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function nW(){const[e]=p.useState(()=>new Set),t=p.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[p.useCallback(n=>{let{type:s,event:i}=n;e.forEach(o=>{var l;return(l=o[s])==null?void 0:l.call(o,i)})},[e]),t]}const sW={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},iW={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:a}=e;return a?"Draggable item "+t.id+" was moved over droppable area "+a.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:a}=e;return a?"Draggable item "+t.id+" was dropped over droppable area "+a.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function oW(e){let{announcements:t=iW,container:a,hiddenTextDescribedById:n,screenReaderInstructions:s=sW}=e;const{announce:i,announcement:o}=rW(),l=Sm("DndLiveRegion"),[c,u]=p.useState(!1);if(p.useEffect(()=>{u(!0)},[]),aW(p.useMemo(()=>({onDragStart(h){let{active:x}=h;i(t.onDragStart({active:x}))},onDragMove(h){let{active:x,over:b}=h;t.onDragMove&&i(t.onDragMove({active:x,over:b}))},onDragOver(h){let{active:x,over:b}=h;i(t.onDragOver({active:x,over:b}))},onDragEnd(h){let{active:x,over:b}=h;i(t.onDragEnd({active:x,over:b}))},onDragCancel(h){let{active:x,over:b}=h;i(t.onDragCancel({active:x,over:b}))}}),[i,t])),!c)return null;const g=or.createElement(or.Fragment,null,or.createElement(eW,{id:n,value:s.draggable}),or.createElement(tW,{id:l,announcement:o}));return a?Nl.createPortal(g,a):g}var pa;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(pa||(pa={}));function Zg(){}function Jg(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function QM(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return p.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const Fs=Object.freeze({x:0,y:0});function YM(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function lW(e,t){const a=Xg(e);if(!a)return"0 0";const n={x:(a.x-t.left)/t.width*100,y:(a.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function XM(e,t){let{data:{value:a}}=e,{data:{value:n}}=t;return a-n}function dW(e,t){let{data:{value:a}}=e,{data:{value:n}}=t;return n-a}function _S(e){let{left:t,top:a,height:n,width:s}=e;return[{x:t,y:a},{x:t+s,y:a},{x:t,y:a+n},{x:t+s,y:a+n}]}function ZM(e,t){if(!e||e.length===0)return null;const[a]=e;return a[t]}function FS(e,t,a){return t===void 0&&(t=e.left),a===void 0&&(a=e.top),{x:t+e.width*.5,y:a+e.height*.5}}const JM=e=>{let{collisionRect:t,droppableRects:a,droppableContainers:n}=e;const s=FS(t,t.left,t.top),i=[];for(const o of n){const{id:l}=o,c=a.get(l);if(c){const u=YM(FS(c),s);i.push({id:l,data:{droppableContainer:o,value:u}})}}return i.sort(XM)},cW=e=>{let{collisionRect:t,droppableRects:a,droppableContainers:n}=e;const s=_S(t),i=[];for(const o of n){const{id:l}=o,c=a.get(l);if(c){const u=_S(c),g=s.reduce((x,b,y)=>x+YM(u[y],b),0),h=Number((g/4).toFixed(4));i.push({id:l,data:{droppableContainer:o,value:h}})}}return i.sort(XM)};function uW(e,t){const a=Math.max(t.top,e.top),n=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=s-n,l=i-a;if(n<s&&a<i){const c=t.width*t.height,u=e.width*e.height,g=o*l,h=g/(c+u-g);return Number(h.toFixed(4))}return 0}const mW=e=>{let{collisionRect:t,droppableRects:a,droppableContainers:n}=e;const s=[];for(const i of n){const{id:o}=i,l=a.get(o);if(l){const c=uW(l,t);c>0&&s.push({id:o,data:{droppableContainer:i,value:c}})}}return s.sort(dW)};function gW(e,t,a){return{...e,scaleX:t&&a?t.width/a.width:1,scaleY:t&&a?t.height/a.height:1}}function eI(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Fs}function hW(e){return function(a){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return s.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...a})}}const pW=hW(1);function tI(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function fW(e,t,a){const n=tI(t);if(!n)return e;const{scaleX:s,scaleY:i,x:o,y:l}=n,c=e.left-o-(1-s)*parseFloat(a),u=e.top-l-(1-i)*parseFloat(a.slice(a.indexOf(" ")+1)),g=s?e.width/s:e.width,h=i?e.height/i:e.height;return{width:g,height:h,top:u,right:c+g,bottom:u+h,left:c}}const xW={ignoreTransform:!1};function Sc(e,t){t===void 0&&(t=xW);let a=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:g}=gn(e).getComputedStyle(e);u&&(a=fW(a,u,g))}const{top:n,left:s,width:i,height:o,bottom:l,right:c}=a;return{top:n,left:s,width:i,height:o,bottom:l,right:c}}function zS(e){return Sc(e,{ignoreTransform:!0})}function yW(e){const t=e.innerWidth,a=e.innerHeight;return{top:0,left:0,right:t,bottom:a,width:t,height:a}}function bW(e,t){return t===void 0&&(t=gn(e).getComputedStyle(e)),t.position==="fixed"}function vW(e,t){t===void 0&&(t=gn(e).getComputedStyle(e));const a=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?a.test(i):!1})}function dp(e,t){const a=[];function n(s){if(t!=null&&a.length>=t||!s)return a;if(cw(s)&&s.scrollingElement!=null&&!a.includes(s.scrollingElement))return a.push(s.scrollingElement),a;if(!Nm(s)||HM(s)||a.includes(s))return a;const i=gn(e).getComputedStyle(s);return s!==e&&vW(s,i)&&a.push(s),bW(s,i)?a:n(s.parentNode)}return e?n(e):a}function rI(e){const[t]=dp(e,1);return t??null}function ny(e){return!ip||!e?null:Nc(e)?e:dw(e)?cw(e)||e===Cc(e).scrollingElement?window:Nm(e)?e:null:null}function aI(e){return Nc(e)?e.scrollX:e.scrollLeft}function nI(e){return Nc(e)?e.scrollY:e.scrollTop}function yv(e){return{x:aI(e),y:nI(e)}}var Pa;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Pa||(Pa={}));function sI(e){return!ip||!e?!1:e===document.scrollingElement}function iI(e){const t={x:0,y:0},a=sI(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-a.width,y:e.scrollHeight-a.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,l=e.scrollLeft>=n.x;return{isTop:s,isLeft:i,isBottom:o,isRight:l,maxScroll:n,minScroll:t}}const kW={x:.2,y:.2};function wW(e,t,a,n,s){let{top:i,left:o,right:l,bottom:c}=a;n===void 0&&(n=10),s===void 0&&(s=kW);const{isTop:u,isBottom:g,isLeft:h,isRight:x}=iI(e),b={x:0,y:0},y={x:0,y:0},k={height:t.height*s.y,width:t.width*s.x};return!u&&i<=t.top+k.height?(b.y=Pa.Backward,y.y=n*Math.abs((t.top+k.height-i)/k.height)):!g&&c>=t.bottom-k.height&&(b.y=Pa.Forward,y.y=n*Math.abs((t.bottom-k.height-c)/k.height)),!x&&l>=t.right-k.width?(b.x=Pa.Forward,y.x=n*Math.abs((t.right-k.width-l)/k.width)):!h&&o<=t.left+k.width&&(b.x=Pa.Backward,y.x=n*Math.abs((t.left+k.width-o)/k.width)),{direction:b,speed:y}}function jW(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:a,right:n,bottom:s}=e.getBoundingClientRect();return{top:t,left:a,right:n,bottom:s,width:e.clientWidth,height:e.clientHeight}}function oI(e){return e.reduce((t,a)=>Gd(t,yv(a)),Fs)}function NW(e){return e.reduce((t,a)=>t+aI(a),0)}function CW(e){return e.reduce((t,a)=>t+nI(a),0)}function lI(e,t){if(t===void 0&&(t=Sc),!e)return;const{top:a,left:n,bottom:s,right:i}=t(e);rI(e)&&(s<=0||i<=0||a>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const SW=[["x",["left","right"],NW],["y",["top","bottom"],CW]];class uw{constructor(t,a){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=dp(a),s=oI(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of SW)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(n),g=s[i]-u;return this.rect[c]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ou{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...a)})},this.target=t}add(t,a,n){var s;(s=this.target)==null||s.addEventListener(t,a,n),this.listeners.push([t,a,n])}}function PW(e){const{EventTarget:t}=gn(e);return e instanceof t?e:Cc(e)}function sy(e,t){const a=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(a**2+n**2)>t:"x"in t&&"y"in t?a>t.x&&n>t.y:"x"in t?a>t.x:"y"in t?n>t.y:!1}var ds;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ds||(ds={}));function US(e){e.preventDefault()}function TW(e){e.stopPropagation()}var _t;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(_t||(_t={}));const dI={start:[_t.Space,_t.Enter],cancel:[_t.Esc],end:[_t.Space,_t.Enter,_t.Tab]},AW=(e,t)=>{let{currentCoordinates:a}=t;switch(e.code){case _t.Right:return{...a,x:a.x+25};case _t.Left:return{...a,x:a.x-25};case _t.Down:return{...a,y:a.y+25};case _t.Up:return{...a,y:a.y-25}}};class cp{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:a}}=t;this.props=t,this.listeners=new Ou(Cc(a)),this.windowListeners=new Ou(gn(a)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ds.Resize,this.handleCancel),this.windowListeners.add(ds.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ds.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:a}=this.props,n=t.node.current;n&&lI(n),a(Fs)}handleKeyDown(t){if(lp(t)){const{active:a,context:n,options:s}=this.props,{keyboardCodes:i=dI,coordinateGetter:o=AW,scrollBehavior:l="smooth"}=s,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,g=u?{x:u.left,y:u.top}:Fs;this.referenceCoordinates||(this.referenceCoordinates=g);const h=o(t,{active:a,context:n.current,currentCoordinates:g});if(h){const x=Yu(h,g),b={x:0,y:0},{scrollableAncestors:y}=n.current;for(const k of y){const v=t.code,{isTop:j,isRight:S,isLeft:C,isBottom:P,maxScroll:E,minScroll:A}=iI(k),I=jW(k),M={x:Math.min(v===_t.Right?I.right-I.width/2:I.right,Math.max(v===_t.Right?I.left:I.left+I.width/2,h.x)),y:Math.min(v===_t.Down?I.bottom-I.height/2:I.bottom,Math.max(v===_t.Down?I.top:I.top+I.height/2,h.y))},F=v===_t.Right&&!S||v===_t.Left&&!C,Q=v===_t.Down&&!P||v===_t.Up&&!j;if(F&&M.x!==h.x){const U=k.scrollLeft+x.x,V=v===_t.Right&&U<=E.x||v===_t.Left&&U>=A.x;if(V&&!x.y){k.scrollTo({left:U,behavior:l});return}V?b.x=k.scrollLeft-U:b.x=v===_t.Right?k.scrollLeft-E.x:k.scrollLeft-A.x,b.x&&k.scrollBy({left:-b.x,behavior:l});break}else if(Q&&M.y!==h.y){const U=k.scrollTop+x.y,V=v===_t.Down&&U<=E.y||v===_t.Up&&U>=A.y;if(V&&!x.x){k.scrollTo({top:U,behavior:l});return}V?b.y=k.scrollTop-U:b.y=v===_t.Down?k.scrollTop-E.y:k.scrollTop-A.y,b.y&&k.scrollBy({top:-b.y,behavior:l});break}}this.handleMove(t,Gd(Yu(h,this.referenceCoordinates),b))}}}handleMove(t,a){const{onMove:n}=this.props;t.preventDefault(),n(a)}handleEnd(t){const{onEnd:a}=this.props;t.preventDefault(),this.detach(),a()}handleCancel(t){const{onCancel:a}=this.props;t.preventDefault(),this.detach(),a()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}cp.activators=[{eventName:"onKeyDown",handler:(e,t,a)=>{let{keyboardCodes:n=dI,onActivation:s}=t,{active:i}=a;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s?.({event:e.nativeEvent}),!0)}return!1}}];function qS(e){return!!(e&&"distance"in e)}function WS(e){return!!(e&&"delay"in e)}class mw{constructor(t,a,n){var s;n===void 0&&(n=PW(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=a;const{event:i}=t,{target:o}=i;this.props=t,this.events=a,this.document=Cc(o),this.documentListeners=new Ou(this.document),this.listeners=new Ou(n),this.windowListeners=new Ou(gn(o)),this.initialCoordinates=(s=Xg(i))!=null?s:Fs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:a,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ds.Resize,this.handleCancel),this.windowListeners.add(ds.DragStart,US),this.windowListeners.add(ds.VisibilityChange,this.handleCancel),this.windowListeners.add(ds.ContextMenu,US),this.documentListeners.add(ds.Keydown,this.handleKeydown),a){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(WS(a)){this.timeoutId=setTimeout(this.handleStart,a.delay),this.handlePending(a);return}if(qS(a)){this.handlePending(a);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,a){const{active:n,onPending:s}=this.props;s(n,t,this.initialCoordinates,a)}handleStart(){const{initialCoordinates:t}=this,{onStart:a}=this.props;t&&(this.activated=!0,this.documentListeners.add(ds.Click,TW,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ds.SelectionChange,this.removeTextSelection),a(t))}handleMove(t){var a;const{activated:n,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!s)return;const c=(a=Xg(t))!=null?a:Fs,u=Yu(s,c);if(!n&&l){if(qS(l)){if(l.tolerance!=null&&sy(u,l.tolerance))return this.handleCancel();if(sy(u,l.distance))return this.handleStart()}if(WS(l)&&sy(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:a}=this.props;this.detach(),this.activated||t(this.props.active),a()}handleCancel(){const{onAbort:t,onCancel:a}=this.props;this.detach(),this.activated||t(this.props.active),a()}handleKeydown(t){t.code===_t.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const MW={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class up extends mw{constructor(t){const{event:a}=t,n=Cc(a.target);super(t,MW,n)}}up.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:a}=e,{onActivation:n}=t;return!a.isPrimary||a.button!==0?!1:(n?.({event:a}),!0)}}];const IW={move:{name:"mousemove"},end:{name:"mouseup"}};var bv;(function(e){e[e.RightClick=2]="RightClick"})(bv||(bv={}));class EW extends mw{constructor(t){super(t,IW,Cc(t.event.target))}}EW.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:a}=e,{onActivation:n}=t;return a.button===bv.RightClick?!1:(n?.({event:a}),!0)}}];const iy={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class OW extends mw{constructor(t){super(t,iy)}static setup(){return window.addEventListener(iy.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(iy.move.name,t)};function t(){}}}OW.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:a}=e,{onActivation:n}=t;const{touches:s}=a;return s.length>1?!1:(n?.({event:a}),!0)}}];var Du;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Du||(Du={}));var eh;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(eh||(eh={}));function DW(e){let{acceleration:t,activator:a=Du.Pointer,canScroll:n,draggingRect:s,enabled:i,interval:o=5,order:l=eh.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:g,delta:h,threshold:x}=e;const b=$W({delta:h,disabled:!i}),[y,k]=Qq(),v=p.useRef({x:0,y:0}),j=p.useRef({x:0,y:0}),S=p.useMemo(()=>{switch(a){case Du.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Du.DraggableRect:return s}},[a,s,c]),C=p.useRef(null),P=p.useCallback(()=>{const A=C.current;if(!A)return;const I=v.current.x*j.current.x,M=v.current.y*j.current.y;A.scrollBy(I,M)},[]),E=p.useMemo(()=>l===eh.TreeOrder?[...u].reverse():u,[l,u]);p.useEffect(()=>{if(!i||!u.length||!S){k();return}for(const A of E){if(n?.(A)===!1)continue;const I=u.indexOf(A),M=g[I];if(!M)continue;const{direction:F,speed:Q}=wW(A,M,S,t,x);for(const U of["x","y"])b[U][F[U]]||(Q[U]=0,F[U]=0);if(Q.x>0||Q.y>0){k(),C.current=A,y(P,o),v.current=Q,j.current=F;return}}v.current={x:0,y:0},j.current={x:0,y:0},k()},[t,P,n,k,i,o,JSON.stringify(S),JSON.stringify(b),y,u,E,g,JSON.stringify(x)])}const RW={x:{[Pa.Backward]:!1,[Pa.Forward]:!1},y:{[Pa.Backward]:!1,[Pa.Forward]:!1}};function $W(e){let{delta:t,disabled:a}=e;const n=Yg(t);return Cm(s=>{if(a||!n||!s)return RW;const i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[Pa.Backward]:s.x[Pa.Backward]||i.x===-1,[Pa.Forward]:s.x[Pa.Forward]||i.x===1},y:{[Pa.Backward]:s.y[Pa.Backward]||i.y===-1,[Pa.Forward]:s.y[Pa.Forward]||i.y===1}}},[a,t,n])}function BW(e,t){const a=t!=null?e.get(t):void 0,n=a?a.node.current:null;return Cm(s=>{var i;return t==null?null:(i=n??s)!=null?i:null},[n,t])}function LW(e,t){return p.useMemo(()=>e.reduce((a,n)=>{const{sensor:s}=n,i=s.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...a,...i]},[]),[e,t])}var Xu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Xu||(Xu={}));var vv;(function(e){e.Optimized="optimized"})(vv||(vv={}));const VS=new Map;function _W(e,t){let{dragging:a,dependencies:n,config:s}=t;const[i,o]=p.useState(null),{frequency:l,measure:c,strategy:u}=s,g=p.useRef(e),h=v(),x=Qu(h),b=p.useCallback(function(j){j===void 0&&(j=[]),!x.current&&o(S=>S===null?j:S.concat(j.filter(C=>!S.includes(C))))},[x]),y=p.useRef(null),k=Cm(j=>{if(h&&!a)return VS;if(!j||j===VS||g.current!==e||i!=null){const S=new Map;for(let C of e){if(!C)continue;if(i&&i.length>0&&!i.includes(C.id)&&C.rect.current){S.set(C.id,C.rect.current);continue}const P=C.node.current,E=P?new uw(c(P),P):null;C.rect.current=E,E&&S.set(C.id,E)}return S}return j},[e,i,a,h,c]);return p.useEffect(()=>{g.current=e},[e]),p.useEffect(()=>{h||b()},[a,h]),p.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),p.useEffect(()=>{h||typeof l!="number"||y.current!==null||(y.current=setTimeout(()=>{b(),y.current=null},l))},[l,h,b,...n]),{droppableRects:k,measureDroppableContainers:b,measuringScheduled:i!=null};function v(){switch(u){case Xu.Always:return!1;case Xu.BeforeDragging:return a;default:return!a}}}function gw(e,t){return Cm(a=>e?a||(typeof t=="function"?t(e):e):null,[t,e])}function FW(e,t){return gw(e,t)}function zW(e){let{callback:t,disabled:a}=e;const n=op(t),s=p.useMemo(()=>{if(a||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,a]);return p.useEffect(()=>()=>s?.disconnect(),[s]),s}function mp(e){let{callback:t,disabled:a}=e;const n=op(t),s=p.useMemo(()=>{if(a||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[a]);return p.useEffect(()=>()=>s?.disconnect(),[s]),s}function UW(e){return new uw(Sc(e),e)}function HS(e,t,a){t===void 0&&(t=UW);const[n,s]=p.useState(null);function i(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??a)!=null?u:null}const g=t(e);return JSON.stringify(c)===JSON.stringify(g)?c:g})}const o=zW({callback(c){if(e)for(const u of c){const{type:g,target:h}=u;if(g==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),l=mp({callback:i});return _s(()=>{i(),e?(l?.observe(e),o?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),o?.disconnect())},[e]),n}function qW(e){const t=gw(e);return eI(e,t)}const KS=[];function WW(e){const t=p.useRef(e),a=Cm(n=>e?n&&n!==KS&&e&&t.current&&e.parentNode===t.current.parentNode?n:dp(e):KS,[e]);return p.useEffect(()=>{t.current=e},[e]),a}function VW(e){const[t,a]=p.useState(null),n=p.useRef(e),s=p.useCallback(i=>{const o=ny(i.target);o&&a(l=>l?(l.set(o,yv(o)),new Map(l)):null)},[]);return p.useEffect(()=>{const i=n.current;if(e!==i){o(i);const l=e.map(c=>{const u=ny(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,yv(u)]):null}).filter(c=>c!=null);a(l.length?new Map(l):null),n.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const u=ny(c);u?.removeEventListener("scroll",s)})}},[s,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>Gd(i,o),Fs):oI(e):Fs,[e,t])}function GS(e,t){t===void 0&&(t=[]);const a=p.useRef(null);return p.useEffect(()=>{a.current=null},t),p.useEffect(()=>{const n=e!==Fs;n&&!a.current&&(a.current=e),!n&&a.current&&(a.current=null)},[e]),a.current?Yu(e,a.current):Fs}function HW(e){p.useEffect(()=>{if(!ip)return;const t=e.map(a=>{let{sensor:n}=a;return n.setup==null?void 0:n.setup()});return()=>{for(const a of t)a?.()}},e.map(t=>{let{sensor:a}=t;return a}))}function KW(e,t){return p.useMemo(()=>e.reduce((a,n)=>{let{eventName:s,handler:i}=n;return a[s]=o=>{i(o,t)},a},{}),[e,t])}function cI(e){return p.useMemo(()=>e?yW(e):null,[e])}const QS=[];function GW(e,t){t===void 0&&(t=Sc);const[a]=e,n=cI(a?gn(a):null),[s,i]=p.useState(QS);function o(){i(()=>e.length?e.map(c=>sI(c)?n:new uw(t(c),c)):QS)}const l=mp({callback:o});return _s(()=>{l?.disconnect(),o(),e.forEach(c=>l?.observe(c))},[e]),s}function uI(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Nm(t)?t:e}function QW(e){let{measure:t}=e;const[a,n]=p.useState(null),s=p.useCallback(u=>{for(const{target:g}of u)if(Nm(g)){n(h=>{const x=t(g);return h?{...h,width:x.width,height:x.height}:x});break}},[t]),i=mp({callback:s}),o=p.useCallback(u=>{const g=uI(u);i?.disconnect(),g&&i?.observe(g),n(g?t(g):null)},[t,i]),[l,c]=Qg(o);return p.useMemo(()=>({nodeRef:l,rect:a,setRef:c}),[a,l,c])}const YW=[{sensor:up,options:{}},{sensor:cp,options:{}}],XW={current:{}},Tg={draggable:{measure:zS},droppable:{measure:zS,strategy:Xu.WhileDragging,frequency:vv.Optimized},dragOverlay:{measure:Sc}};class Ru extends Map{get(t){var a;return t!=null&&(a=super.get(t))!=null?a:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:a}=t;return!a})}getNodeFor(t){var a,n;return(a=(n=this.get(t))==null?void 0:n.node.current)!=null?a:void 0}}const ZW={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ru,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Zg},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Tg,measureDroppableContainers:Zg,windowRect:null,measuringScheduled:!1},mI={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Zg,draggableNodes:new Map,over:null,measureDroppableContainers:Zg},Pm=p.createContext(mI),gI=p.createContext(ZW);function JW(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ru}}}function eV(e,t){switch(t.type){case pa.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case pa.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case pa.DragEnd:case pa.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case pa.RegisterDroppable:{const{element:a}=t,{id:n}=a,s=new Ru(e.droppable.containers);return s.set(n,a),{...e,droppable:{...e.droppable,containers:s}}}case pa.SetDroppableDisabled:{const{id:a,key:n,disabled:s}=t,i=e.droppable.containers.get(a);if(!i||n!==i.key)return e;const o=new Ru(e.droppable.containers);return o.set(a,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:o}}}case pa.UnregisterDroppable:{const{id:a,key:n}=t,s=e.droppable.containers.get(a);if(!s||n!==s.key)return e;const i=new Ru(e.droppable.containers);return i.delete(a),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function tV(e){let{disabled:t}=e;const{active:a,activatorEvent:n,draggableNodes:s}=p.useContext(Pm),i=Yg(n),o=Yg(a?.id);return p.useEffect(()=>{if(!t&&!n&&i&&o!=null){if(!lp(i)||document.activeElement===i.target)return;const l=s.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const g of[c.current,u.current]){if(!g)continue;const h=Zq(g);if(h){h.focus();break}}})}},[n,t,s,o,i]),null}function hI(e,t){let{transform:a,...n}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...n}),a):a}function rV(e){return p.useMemo(()=>({draggable:{...Tg.draggable,...e?.draggable},droppable:{...Tg.droppable,...e?.droppable},dragOverlay:{...Tg.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function aV(e){let{activeNode:t,measure:a,initialRect:n,config:s=!0}=e;const i=p.useRef(!1),{x:o,y:l}=typeof s=="boolean"?{x:s,y:s}:s;_s(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!n)return;const u=t?.node.current;if(!u||u.isConnected===!1)return;const g=a(u),h=eI(g,n);if(o||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const x=rI(u);x&&x.scrollBy({top:h.y,left:h.x})}},[t,o,l,n,a])}const gp=p.createContext({...Fs,scaleX:1,scaleY:1});var Eo;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Eo||(Eo={}));const pI=p.memo(function(t){var a,n,s,i;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:g=YW,collisionDetection:h=mW,measuring:x,modifiers:b,...y}=t;const k=p.useReducer(eV,void 0,JW),[v,j]=k,[S,C]=nW(),[P,E]=p.useState(Eo.Uninitialized),A=P===Eo.Initialized,{draggable:{active:I,nodes:M,translate:F},droppable:{containers:Q}}=v,U=I!=null?M.get(I):null,V=p.useRef({initial:null,translated:null}),K=p.useMemo(()=>{var Pe;return I!=null?{id:I,data:(Pe=U?.data)!=null?Pe:XW,rect:V}:null},[I,U]),Z=p.useRef(null),[ie,te]=p.useState(null),[R,D]=p.useState(null),W=Qu(y,Object.values(y)),X=Sm("DndDescribedBy",o),B=p.useMemo(()=>Q.getEnabled(),[Q]),H=rV(x),{droppableRects:z,measureDroppableContainers:$,measuringScheduled:_}=_W(B,{dragging:A,dependencies:[F.x,F.y],config:H.droppable}),Y=BW(M,I),q=p.useMemo(()=>R?Xg(R):null,[R]),G=ke(),ee=FW(Y,H.draggable.measure);aV({activeNode:I!=null?M.get(I):null,config:G.layoutShiftCompensation,initialRect:ee,measure:H.draggable.measure});const ue=HS(Y,H.draggable.measure,ee),le=HS(Y?Y.parentElement:null),ae=p.useRef({activatorEvent:null,active:null,activeNode:Y,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:Q,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Be=Q.getNodeFor((a=ae.current.over)==null?void 0:a.id),he=QW({measure:H.dragOverlay.measure}),we=(n=he.nodeRef.current)!=null?n:Y,De=A?(s=he.rect)!=null?s:ue:null,Ze=!!(he.nodeRef.current&&he.rect),pt=qW(Ze?null:ue),mt=cI(we?gn(we):null),ut=WW(A?Be??Y:null),Et=GW(ut),tr=hI(b,{transform:{x:F.x-pt.x,y:F.y-pt.y,scaleX:1,scaleY:1},activatorEvent:R,active:K,activeNodeRect:ue,containerNodeRect:le,draggingNodeRect:De,over:ae.current.over,overlayNodeRect:he.rect,scrollableAncestors:ut,scrollableAncestorRects:Et,windowRect:mt}),Oe=q?Gd(q,F):null,Me=VW(ut),Vr=GS(Me),ur=GS(Me,[ue]),rr=Gd(tr,Vr),Tt=De?pW(De,tr):null,Se=K&&Tt?h({active:K,collisionRect:Tt,droppableRects:z,droppableContainers:B,pointerCoordinates:Oe}):null,Re=ZM(Se,"id"),[de,pe]=p.useState(null),ce=Ze?tr:Gd(tr,ur),Te=gW(ce,(i=de?.rect)!=null?i:null,ue),Le=p.useRef(null),ct=p.useCallback((Pe,fe)=>{let{sensor:Ge,options:ft}=fe;if(Z.current==null)return;const vt=M.get(Z.current);if(!vt)return;const kt=Pe.nativeEvent,Ot=new Ge({active:Z.current,activeNode:vt,event:kt,options:ft,context:ae,onAbort(Ut){if(!M.get(Ut))return;const{onDragAbort:Lr}=W.current,be={id:Ut};Lr?.(be),S({type:"onDragAbort",event:be})},onPending(Ut,va,Lr,be){if(!M.get(Ut))return;const{onDragPending:Ae}=W.current,We={id:Ut,constraint:va,initialCoordinates:Lr,offset:be};Ae?.(We),S({type:"onDragPending",event:We})},onStart(Ut){const va=Z.current;if(va==null)return;const Lr=M.get(va);if(!Lr)return;const{onDragStart:be}=W.current,me={activatorEvent:kt,active:{id:va,data:Lr.data,rect:V}};Nl.unstable_batchedUpdates(()=>{be?.(me),E(Eo.Initializing),j({type:pa.DragStart,initialCoordinates:Ut,active:va}),S({type:"onDragStart",event:me}),te(Le.current),D(kt)})},onMove(Ut){j({type:pa.DragMove,coordinates:Ut})},onEnd:mr(pa.DragEnd),onCancel:mr(pa.DragCancel)});Le.current=Ot;function mr(Ut){return async function(){const{active:Lr,collisions:be,over:me,scrollAdjustedTranslate:Ae}=ae.current;let We=null;if(Lr&&Ae){const{cancelDrop:Qe}=W.current;We={activatorEvent:kt,active:Lr,collisions:be,delta:Ae,over:me},Ut===pa.DragEnd&&typeof Qe=="function"&&await Promise.resolve(Qe(We))&&(Ut=pa.DragCancel)}Z.current=null,Nl.unstable_batchedUpdates(()=>{j({type:Ut}),E(Eo.Uninitialized),pe(null),te(null),D(null),Le.current=null;const Qe=Ut===pa.DragEnd?"onDragEnd":"onDragCancel";if(We){const Mt=W.current[Qe];Mt?.(We),S({type:Qe,event:We})}})}}},[M]),Pt=p.useCallback((Pe,fe)=>(Ge,ft)=>{const vt=Ge.nativeEvent,kt=M.get(ft);if(Z.current!==null||!kt||vt.dndKit||vt.defaultPrevented)return;const Ot={active:kt};Pe(Ge,fe.options,Ot)===!0&&(vt.dndKit={capturedBy:fe.sensor},Z.current=ft,ct(Ge,fe))},[M,ct]),Mr=LW(g,Pt);HW(g),_s(()=>{ue&&P===Eo.Initializing&&E(Eo.Initialized)},[ue,P]),p.useEffect(()=>{const{onDragMove:Pe}=W.current,{active:fe,activatorEvent:Ge,collisions:ft,over:vt}=ae.current;if(!fe||!Ge)return;const kt={active:fe,activatorEvent:Ge,collisions:ft,delta:{x:rr.x,y:rr.y},over:vt};Nl.unstable_batchedUpdates(()=>{Pe?.(kt),S({type:"onDragMove",event:kt})})},[rr.x,rr.y]),p.useEffect(()=>{const{active:Pe,activatorEvent:fe,collisions:Ge,droppableContainers:ft,scrollAdjustedTranslate:vt}=ae.current;if(!Pe||Z.current==null||!fe||!vt)return;const{onDragOver:kt}=W.current,Ot=ft.get(Re),mr=Ot&&Ot.rect.current?{id:Ot.id,rect:Ot.rect.current,data:Ot.data,disabled:Ot.disabled}:null,Ut={active:Pe,activatorEvent:fe,collisions:Ge,delta:{x:vt.x,y:vt.y},over:mr};Nl.unstable_batchedUpdates(()=>{pe(mr),kt?.(Ut),S({type:"onDragOver",event:Ut})})},[Re]),_s(()=>{ae.current={activatorEvent:R,active:K,activeNode:Y,collisionRect:Tt,collisions:Se,droppableRects:z,draggableNodes:M,draggingNode:we,draggingNodeRect:De,droppableContainers:Q,over:de,scrollableAncestors:ut,scrollAdjustedTranslate:rr},V.current={initial:De,translated:Tt}},[K,Y,Se,Tt,M,we,De,z,Q,de,ut,rr]),DW({...G,delta:F,draggingRect:Tt,pointerCoordinates:Oe,scrollableAncestors:ut,scrollableAncestorRects:Et});const pn=p.useMemo(()=>({active:K,activeNode:Y,activeNodeRect:ue,activatorEvent:R,collisions:Se,containerNodeRect:le,dragOverlay:he,draggableNodes:M,droppableContainers:Q,droppableRects:z,over:de,measureDroppableContainers:$,scrollableAncestors:ut,scrollableAncestorRects:Et,measuringConfiguration:H,measuringScheduled:_,windowRect:mt}),[K,Y,ue,R,Se,le,he,M,Q,z,de,$,ut,Et,H,_,mt]),fn=p.useMemo(()=>({activatorEvent:R,activators:Mr,active:K,activeNodeRect:ue,ariaDescribedById:{draggable:X},dispatch:j,draggableNodes:M,over:de,measureDroppableContainers:$}),[R,Mr,K,ue,j,X,M,de,$]);return or.createElement(GM.Provider,{value:C},or.createElement(Pm.Provider,{value:fn},or.createElement(gI.Provider,{value:pn},or.createElement(gp.Provider,{value:Te},u)),or.createElement(tV,{disabled:l?.restoreFocus===!1})),or.createElement(oW,{...l,hiddenTextDescribedById:X}));function ke(){const Pe=ie?.autoScrollEnabled===!1,fe=typeof c=="object"?c.enabled===!1:c===!1,Ge=A&&!Pe&&!fe;return typeof c=="object"?{...c,enabled:Ge}:{enabled:Ge}}}),nV=p.createContext(null),YS="button",sV="Draggable";function iV(e){let{id:t,data:a,disabled:n=!1,attributes:s}=e;const i=Sm(sV),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:g,draggableNodes:h,over:x}=p.useContext(Pm),{role:b=YS,roleDescription:y="draggable",tabIndex:k=0}=s??{},v=c?.id===t,j=p.useContext(v?gp:nV),[S,C]=Qg(),[P,E]=Qg(),A=KW(o,t),I=Qu(a);_s(()=>(h.set(t,{id:t,key:i,node:S,activatorNode:P,data:I}),()=>{const F=h.get(t);F&&F.key===i&&h.delete(t)}),[h,t]);const M=p.useMemo(()=>({role:b,tabIndex:k,"aria-disabled":n,"aria-pressed":v&&b===YS?!0:void 0,"aria-roledescription":y,"aria-describedby":g.draggable}),[n,b,k,v,y,g.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:M,isDragging:v,listeners:n?void 0:A,node:S,over:x,setNodeRef:C,setActivatorNodeRef:E,transform:j}}function fI(){return p.useContext(gI)}const oV="Droppable",lV={timeout:25};function dV(e){let{data:t,disabled:a=!1,id:n,resizeObserverConfig:s}=e;const i=Sm(oV),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=p.useContext(Pm),g=p.useRef({disabled:a}),h=p.useRef(!1),x=p.useRef(null),b=p.useRef(null),{disabled:y,updateMeasurementsFor:k,timeout:v}={...lV,...s},j=Qu(k??n),S=p.useCallback(()=>{if(!h.current){h.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{u(Array.isArray(j.current)?j.current:[j.current]),b.current=null},v)},[v]),C=mp({callback:S,disabled:y||!o}),P=p.useCallback((M,F)=>{C&&(F&&(C.unobserve(F),h.current=!1),M&&C.observe(M))},[C]),[E,A]=Qg(P),I=Qu(t);return p.useEffect(()=>{!C||!E.current||(C.disconnect(),h.current=!1,C.observe(E.current))},[E,C]),p.useEffect(()=>(l({type:pa.RegisterDroppable,element:{id:n,key:i,disabled:a,node:E,rect:x,data:I}}),()=>l({type:pa.UnregisterDroppable,key:i,id:n})),[n]),p.useEffect(()=>{a!==g.current.disabled&&(l({type:pa.SetDroppableDisabled,id:n,key:i,disabled:a}),g.current.disabled=a)},[n,i,a,l]),{active:o,rect:x,isOver:c?.id===n,node:E,over:c,setNodeRef:A}}function cV(e){let{animation:t,children:a}=e;const[n,s]=p.useState(null),[i,o]=p.useState(null),l=Yg(a);return!a&&!n&&l&&s(l),_s(()=>{if(!i)return;const c=n?.key,u=n?.props.id;if(c==null||u==null){s(null);return}Promise.resolve(t(u,i)).then(()=>{s(null)})},[t,n,i]),or.createElement(or.Fragment,null,a,n?p.cloneElement(n,{ref:o}):null)}const uV={x:0,y:0,scaleX:1,scaleY:1};function mV(e){let{children:t}=e;return or.createElement(Pm.Provider,{value:mI},or.createElement(gp.Provider,{value:uV},t))}const gV={position:"fixed",touchAction:"none"},hV=e=>lp(e)?"transform 250ms ease":void 0,pV=p.forwardRef((e,t)=>{let{as:a,activatorEvent:n,adjustScale:s,children:i,className:o,rect:l,style:c,transform:u,transition:g=hV}=e;if(!l)return null;const h=s?u:{...u,scaleX:1,scaleY:1},x={...gV,width:l.width,height:l.height,top:l.top,left:l.left,transform:di.Transform.toString(h),transformOrigin:s&&n?lW(n,l):void 0,transition:typeof g=="function"?g(n):g,...c};return or.createElement(a,{className:o,style:x,ref:t},i)}),fV=e=>t=>{let{active:a,dragOverlay:n}=t;const s={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(s[l]=a.node.style.getPropertyValue(l),a.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&n.node.style.setProperty(l,c);return o!=null&&o.active&&a.node.classList.add(o.active),o!=null&&o.dragOverlay&&n.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(s))a.node.style.setProperty(c,u);o!=null&&o.active&&a.node.classList.remove(o.active)}},xV=e=>{let{transform:{initial:t,final:a}}=e;return[{transform:di.Transform.toString(t)},{transform:di.Transform.toString(a)}]},yV={duration:250,easing:"ease",keyframes:xV,sideEffects:fV({styles:{active:{opacity:"0"}}})};function bV(e){let{config:t,draggableNodes:a,droppableContainers:n,measuringConfiguration:s}=e;return op((i,o)=>{if(t===null)return;const l=a.get(i);if(!l)return;const c=l.node.current;if(!c)return;const u=uI(o);if(!u)return;const{transform:g}=gn(o).getComputedStyle(o),h=tI(g);if(!h)return;const x=typeof t=="function"?t:vV(t);return lI(c,s.draggable.measure),x({active:{id:i,data:l.data,node:c,rect:s.draggable.measure(c)},draggableNodes:a,dragOverlay:{node:o,rect:s.dragOverlay.measure(u)},droppableContainers:n,measuringConfiguration:s,transform:h})})}function vV(e){const{duration:t,easing:a,sideEffects:n,keyframes:s}={...yV,...e};return i=>{let{active:o,dragOverlay:l,transform:c,...u}=i;if(!t)return;const g={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},h={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},x={x:c.x-g.x,y:c.y-g.y,...h},b=s({...u,active:o,dragOverlay:l,transform:{initial:c,final:x}}),[y]=b,k=b[b.length-1];if(JSON.stringify(y)===JSON.stringify(k))return;const v=n?.({active:o,dragOverlay:l,...u}),j=l.node.animate(b,{duration:t,easing:a,fill:"forwards"});return new Promise(S=>{j.onfinish=()=>{v?.(),S()}})}}let XS=0;function kV(e){return p.useMemo(()=>{if(e!=null)return XS++,XS},[e])}const wV=or.memo(e=>{let{adjustScale:t=!1,children:a,dropAnimation:n,style:s,transition:i,modifiers:o,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:g,active:h,activeNodeRect:x,containerNodeRect:b,draggableNodes:y,droppableContainers:k,dragOverlay:v,over:j,measuringConfiguration:S,scrollableAncestors:C,scrollableAncestorRects:P,windowRect:E}=fI(),A=p.useContext(gp),I=kV(h?.id),M=hI(o,{activatorEvent:g,active:h,activeNodeRect:x,containerNodeRect:b,draggingNodeRect:v.rect,over:j,overlayNodeRect:v.rect,scrollableAncestors:C,scrollableAncestorRects:P,transform:A,windowRect:E}),F=gw(x),Q=bV({config:n,draggableNodes:y,droppableContainers:k,measuringConfiguration:S}),U=F?v.setRef:void 0;return or.createElement(mV,null,or.createElement(cV,{animation:Q},h&&I?or.createElement(pV,{key:I,id:h.id,ref:U,as:l,activatorEvent:g,adjustScale:t,className:c,transition:i,rect:F,style:{zIndex:u,...s},transform:M},a):null))});function Qd(e,t,a){const n=e.slice();return n.splice(a<0?n.length+a:a,0,n.splice(t,1)[0]),n}function jV(e,t){return e.reduce((a,n,s)=>{const i=t.get(n);return i&&(a[s]=i),a},Array(e.length))}function J0(e){return e!==null&&e>=0}function NV(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}function CV(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const xI=e=>{let{rects:t,activeIndex:a,overIndex:n,index:s}=e;const i=Qd(t,n,a),o=t[s],l=i[s];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},eg={scaleX:1,scaleY:1},hw=e=>{var t;let{activeIndex:a,activeNodeRect:n,index:s,rects:i,overIndex:o}=e;const l=(t=i[a])!=null?t:n;if(!l)return null;if(s===a){const u=i[o];return u?{x:0,y:a<o?u.top+u.height-(l.top+l.height):u.top-l.top,...eg}:null}const c=SV(i,s,a);return s>a&&s<=o?{x:0,y:-l.height-c,...eg}:s<a&&s>=o?{x:0,y:l.height+c,...eg}:{x:0,y:0,...eg}};function SV(e,t,a){const n=e[t],s=e[t-1],i=e[t+1];return n?a<t?s?n.top-(s.top+s.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):s?n.top-(s.top+s.height):0:0}const yI="Sortable",bI=or.createContext({activeIndex:-1,containerId:yI,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:xI,disabled:{draggable:!1,droppable:!1}});function pw(e){let{children:t,id:a,items:n,strategy:s=xI,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:g}=fI(),h=Sm(yI,a),x=l.rect!==null,b=p.useMemo(()=>n.map(A=>typeof A=="object"&&"id"in A?A.id:A),[n]),y=o!=null,k=o?b.indexOf(o.id):-1,v=u?b.indexOf(u.id):-1,j=p.useRef(b),S=!NV(b,j.current),C=v!==-1&&k===-1||S,P=CV(i);_s(()=>{S&&y&&g(b)},[S,b,y,g]),p.useEffect(()=>{j.current=b},[b]);const E=p.useMemo(()=>({activeIndex:k,containerId:h,disabled:P,disableTransforms:C,items:b,overIndex:v,useDragOverlay:x,sortedRects:jV(b,c),strategy:s}),[k,h,P.draggable,P.droppable,C,b,v,c,x,s]);return or.createElement(bI.Provider,{value:E},t)}const PV=e=>{let{id:t,items:a,activeIndex:n,overIndex:s}=e;return Qd(a,n,s).indexOf(t)},TV=e=>{let{containerId:t,isSorting:a,wasDragging:n,index:s,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!n||l!==i&&s===o?!1:a?!0:o!==s&&t===c},AV={duration:200,easing:"ease"},vI="transform",MV=di.Transition.toString({property:vI,duration:0,easing:"linear"}),IV={roleDescription:"sortable"};function EV(e){let{disabled:t,index:a,node:n,rect:s}=e;const[i,o]=p.useState(null),l=p.useRef(a);return _s(()=>{if(!t&&a!==l.current&&n.current){const c=s.current;if(c){const u=Sc(n.current,{ignoreTransform:!0}),g={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(g.x||g.y)&&o(g)}}a!==l.current&&(l.current=a)},[t,a,n,s]),p.useEffect(()=>{i&&o(null)},[i]),i}function fw(e){let{animateLayoutChanges:t=TV,attributes:a,disabled:n,data:s,getNewIndex:i=PV,id:o,strategy:l,resizeObserverConfig:c,transition:u=AV}=e;const{items:g,containerId:h,activeIndex:x,disabled:b,disableTransforms:y,sortedRects:k,overIndex:v,useDragOverlay:j,strategy:S}=p.useContext(bI),C=OV(n,b),P=g.indexOf(o),E=p.useMemo(()=>({sortable:{containerId:h,index:P,items:g},...s}),[h,s,P,g]),A=p.useMemo(()=>g.slice(g.indexOf(o)),[g,o]),{rect:I,node:M,isOver:F,setNodeRef:Q}=dV({id:o,data:E,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...c}}),{active:U,activatorEvent:V,activeNodeRect:K,attributes:Z,setNodeRef:ie,listeners:te,isDragging:R,over:D,setActivatorNodeRef:W,transform:X}=iV({id:o,data:E,attributes:{...IV,...a},disabled:C.draggable}),B=Gq(Q,ie),H=!!U,z=H&&!y&&J0(x)&&J0(v),$=!j&&R,_=$&&z?X:null,q=z?_??(l??S)({rects:k,activeNodeRect:K,activeIndex:x,overIndex:v,index:P}):null,G=J0(x)&&J0(v)?i({id:o,items:g,activeIndex:x,overIndex:v}):P,ee=U?.id,ue=p.useRef({activeId:ee,items:g,newIndex:G,containerId:h}),le=g!==ue.current.items,ae=t({active:U,containerId:h,isDragging:R,isSorting:H,id:o,index:P,items:g,newIndex:ue.current.newIndex,previousItems:ue.current.items,previousContainerId:ue.current.containerId,transition:u,wasDragging:ue.current.activeId!=null}),Be=EV({disabled:!ae,index:P,node:M,rect:I});return p.useEffect(()=>{H&&ue.current.newIndex!==G&&(ue.current.newIndex=G),h!==ue.current.containerId&&(ue.current.containerId=h),g!==ue.current.items&&(ue.current.items=g)},[H,G,h,g]),p.useEffect(()=>{if(ee===ue.current.activeId)return;if(ee!=null&&ue.current.activeId==null){ue.current.activeId=ee;return}const we=setTimeout(()=>{ue.current.activeId=ee},50);return()=>clearTimeout(we)},[ee]),{active:U,activeIndex:x,attributes:Z,data:E,rect:I,index:P,newIndex:G,items:g,isOver:F,isSorting:H,isDragging:R,listeners:te,node:M,overIndex:v,over:D,setNodeRef:B,setActivatorNodeRef:W,setDroppableNodeRef:Q,setDraggableNodeRef:ie,transform:Be??q,transition:he()};function he(){if(Be||le&&ue.current.newIndex===P)return MV;if(!($&&!lp(V)||!u)&&(H||ae))return di.Transition.toString({...u,property:vI})}}function OV(e,t){var a,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(a=e?.draggable)!=null?a:t.draggable,droppable:(n=e?.droppable)!=null?n:t.droppable}}function th(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const DV=[_t.Down,_t.Right,_t.Up,_t.Left],kI=(e,t)=>{let{context:{active:a,collisionRect:n,droppableRects:s,droppableContainers:i,over:o,scrollableAncestors:l}}=t;if(DV.includes(e.code)){if(e.preventDefault(),!a||!n)return;const c=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const x=s.get(h.id);if(x)switch(e.code){case _t.Down:n.top<x.top&&c.push(h);break;case _t.Up:n.top>x.top&&c.push(h);break;case _t.Left:n.left>x.left&&c.push(h);break;case _t.Right:n.left<x.left&&c.push(h);break}});const u=cW({collisionRect:n,droppableRects:s,droppableContainers:c});let g=ZM(u,"id");if(g===o?.id&&u.length>1&&(g=u[1].id),g!=null){const h=i.get(a.id),x=i.get(g),b=x?s.get(x.id):null,y=x?.node.current;if(y&&b&&h&&x){const v=dp(y).some((A,I)=>l[I]!==A),j=wI(h,x),S=RV(h,x),C=v||!j?{x:0,y:0}:{x:S?n.width-b.width:0,y:S?n.height-b.height:0},P={x:b.left,y:b.top};return C.x&&C.y?P:Yu(P,C)}}}};function wI(e,t){return!th(e)||!th(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function RV(e,t){return!th(e)||!th(t)||!wI(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}class $V{baseUrl="/api/ProductAddons";async addProductAddon(t){try{const a={productId:t.productId,addonProductId:t.addonProductId,displayOrder:t.displayOrder||0,isRecommended:t.isRecommended||!1,marketingText:t.marketingText||""};N.info("Ürün eklentisi ekleniyor",{payload:a});const n=await se.post(this.baseUrl,a);return N.info("Ürün eklentisi başarıyla eklendi",{productId:t.productId,addonProductId:t.addonProductId,response:n.data}),n.data}catch(a){throw N.error("❌ Ürün eklentisi eklenirken hata:",a),a}}async updateProductAddon(t){try{const a={id:t.id,displayOrder:t.displayOrder,isRecommended:t.isRecommended,marketingText:t.marketingText};N.info("Ürün eklentisi güncelleniyor",{payload:a});const n=await se.put(`${this.baseUrl}/${t.id}`,a);return N.info("Ürün eklentisi başarıyla güncellendi",{addonId:t.id,response:n.data}),n.data}catch(a){throw N.error("❌ Ürün eklentisi güncellenirken hata:",a),a}}async deleteProductAddon(t){try{N.info("Ürün eklentisi siliniyor",{addonId:t}),await se.delete(`${this.baseUrl}/${t}`),N.info("Ürün eklentisi başarıyla silindi",{addonId:t})}catch(a){throw N.error("❌ Ürün eklentisi silinirken hata:",a),a}}async getProductAddon(t){try{N.info("Ürün eklentisi getiriliyor",{addonId:t});const a=await se.get(`${this.baseUrl}/${t}`);return N.info("Ürün eklentisi başarıyla getirildi",{addonId:t,response:a.data}),a.data}catch(a){throw N.error("❌ Ürün eklentisi getirilirken hata:",a),a}}async getProductAddons(t){try{N.info("Ürün eklentileri getiriliyor",{productId:t});const a=await se.get(`${this.baseUrl}/product/${t}`);return N.info("Ürün eklentileri başarıyla getirildi",{productId:t,addonCount:a.data?.length||0}),a.data||[]}catch(a){throw N.error("❌ Ürün eklentileri getirilirken hata:",a),a}}async getAvailableAddonProducts(){try{N.info("Mevcut eklenti ürünleri getiriliyor");const t=await se.get(`${this.baseUrl}/available`);return N.info("Mevcut eklenti ürünleri başarıyla getirildi",{productCount:t.data?.length||0}),t.data||[]}catch(t){throw N.error("❌ Mevcut eklenti ürünleri getirilirken hata:",t),t}}async reorderProductAddons(t,a){try{const n={productId:t,addonOrders:a};N.info("Ürün eklenti sıralaması güncelleniyor",{payload:n});for(const s of a)await this.updateProductAddon({id:s.addonId,displayOrder:s.newDisplayOrder});N.info("Ürün eklenti sıralaması başarıyla güncellendi",{productId:t,updatedAddons:a.length})}catch(n){throw N.error("❌ Ürün eklenti sıralaması güncellenirken hata:",n),n}}async addMultipleAddons(t,a){try{N.info("Çoklu ürün eklentisi ekleniyor",{productId:t,count:a.length});const n=[];for(let s=0;s<a.length;s++){const i=a[s],o=await this.addProductAddon({productId:t,addonProductId:i.addonProductId,displayOrder:s+1,isRecommended:i.isRecommended||!1,marketingText:i.marketingText||""});n.push(o)}return N.info("Çoklu ürün eklentisi başarıyla eklendi",{productId:t,addedCount:n.length}),n}catch(n){throw N.error("❌ Çoklu ürün eklentisi eklenirken hata:",n),n}}async removeMultipleAddons(t){try{N.info("Çoklu ürün eklentisi siliniyor",{addonIds:t});for(const a of t)await this.deleteProductAddon(a);N.info("Çoklu ürün eklentisi başarıyla silindi",{deletedCount:t.length})}catch(a){throw N.error("❌ Çoklu ürün eklentisi silinirken hata:",a),a}}}const Ci=new $V;class BV{baseUrl="/api";transformAPIDataToComponentData(t){return t.map(a=>({categoryId:a.categoryId,categoryName:a.categoryName,description:a.description||"",status:a.status,displayOrder:a.displayOrder,restaurantId:a.restaurantId,isExpanded:!0,products:a.products.map(n=>({id:n.productId,name:n.name,description:n.description||"",price:n.price,imageUrl:n.imageUrl||"",isAvailable:n.status,status:n.status,displayOrder:n.displayOrder,categoryId:a.categoryId}))}))}transformBranchCategoriesToComponentData(t){return t.map(a=>({categoryId:a.category.categoryId,categoryName:a.category.categoryName||a.displayName,description:a.category.description||"",status:a.isActive,displayOrder:a.displayOrder,restaurantId:a.category.restaurantId,isExpanded:!0,products:(a.products||[]).map(n=>({id:n.productId,name:n.productName,description:n.description||"",price:n.price,imageUrl:n.imageUrl||"",isAvailable:n.isActive,status:n.isActive,displayOrder:n.displayOrder,categoryId:a.category.categoryId}))}))}async getCategories(){try{const t=await se.get(`${this.baseUrl}/categories`,{params:{includes:"Products",onlyActive:""}});return this.transformAPIDataToComponentData(t.data)}catch(t){return N.error("Kategori verileri getirilirken hata:",t),[]}}async getBranchCategories(t){try{const a=new URLSearchParams({branchId:t.toString(),includes:"products"}),n=await se.get(`${this.baseUrl}/BranchCategories?${a.toString()}`);return this.transformBranchCategoriesToComponentData(n.data)}catch(a){return N.error("Error retrieving branch categories:",a),[]}}async createCategory(t){try{let a=t;N.info("Kategori ekleme isteği gönderiliyor",{payload:a});try{const n=await se.post(`${this.baseUrl}/categories`,a);return N.info("Kategori başarıyla eklendi",{data:n.data}),{categoryId:n.data.categoryId,categoryName:n.data.categoryName,description:n.data.description||"",status:n.data.status,displayOrder:n.data.displayOrder,restaurantId:n.data.restaurantId,isExpanded:!0,products:[],productId:void 0,name:void 0}}catch(n){if(n.response?.data?.errors&&n.response.data.errors.createCategoryDto){N.info("DTO wrapper gerekli, tekrar deneniyor..."),a={createCategoryDto:t};const s=await se.post(`${this.baseUrl}/categories`,a);return N.info("Kategori başarıyla eklendi (DTO wrapper ile)",{data:s.data}),{categoryId:s.data.categoryId,categoryName:s.data.categoryName,description:s.data.description||"",status:s.data.status,displayOrder:s.data.displayOrder,restaurantId:s.data.restaurantId,isExpanded:!0,products:[],productId:void 0,name:void 0}}throw n}}catch(a){throw N.error("❌ Kategori eklenirken hata:",a),a}}async createProduct(t){try{const a={name:t.name,description:t.description||"",price:t.price,categoryId:typeof t.categoryId=="string"?parseInt(t.categoryId):t.categoryId,status:t.status,displayOrder:t.displayOrder};t.imageUrl&&(a.imageUrl=t.imageUrl),N.info("Ürün ekleme isteği gönderiliyor",{payload:a});const n=await se.post(`${this.baseUrl}/products`,a);return N.info("Ürün başarıyla eklendi",{data:n.data}),{id:n.data.productId,name:n.data.name,description:n.data.description||"",price:n.data.price,imageUrl:n.data.imageUrl||"",isAvailable:n.data.status,status:n.data.status,displayOrder:n.data.displayOrder,categoryId:a.categoryId,originalProductId:0}}catch(a){throw N.error("❌ Ürün eklenirken hata:",a),a}}async updateProduct(t,a){try{const n={productId:t,...a.name&&{name:a.name},...a.description!==void 0&&{description:a.description},...a.price!==void 0&&{price:a.price},...a.categoryId&&{categoryId:a.categoryId},...a.isAvailable!==void 0&&{status:a.isAvailable},...a.imageUrl!==void 0&&{imageUrl:a.imageUrl},...a.displayOrder!==void 0&&{displayOrder:a.displayOrder}};N.info("Ürün güncelleme isteği gönderiliyor",{productId:t,payload:n});const s=await se.put(`${this.baseUrl}/products`,n);return N.info("Ürün başarıyla güncellendi",{data:s.data}),{id:s.data.productId,name:s.data.name,description:s.data.description||"",price:s.data.price,imageUrl:s.data.imageUrl||"",isAvailable:s.data.status,status:s.data.status,displayOrder:s.data.displayOrder,categoryId:s.data.categoryId,originalProductId:0}}catch(n){throw N.error("❌ Ürün güncellenirken hata:",n),n}}async deleteProduct(t){try{N.info("🔍 Starting product deletion debug process",{productId:t});try{const n=await this.getProductIngredients(t);N.info("📊 Product ingredients found",{productId:t,ingredientCount:n.length,ingredients:n.map(l=>({id:l.id,name:l.name}))});const s=await Ci.getProductAddons(t);N.info("📊 Product addons found",{productId:t,addonCount:s.length,addons:s.map(l=>({id:l.id,addonProductId:l.addonProductId}))});const o=(await this.getCategories()).flatMap(l=>l.products).find(l=>l.id===t);N.info("📊 Product details",{productId:t,product:o})}catch(n){N.error("🔍 Error checking related data:",n)}try{N.info("🧹 Attempting to clean ingredients only");const n=await this.getProductIngredients(t);for(const s of n){const i=s.ingredientId||s.id;await this.removeIngredientFromProduct(t,i),N.info("✅ Ingredient deleted",{productId:t,ingredientId:i})}}catch(n){N.error("❌ Ingredient deletion failed:",{productId:t,error:n.message,response:n.response?.data})}N.info("🗑️ Attempting product deletion");const a=await se.delete(`${this.baseUrl}/products/${t}`).catch(n=>{throw N.error("❌ Product deletion failed with detailed error:",{productId:t,status:n.response?.status,statusText:n.response?.statusText,errorData:n.response?.data,errorMessage:n.message,stack:n.stack}),n});N.info("✅ Product successfully deleted",{productId:t})}catch(a){throw N.error("💥 Complete deletion process failed:",{productId:t,errorType:a.constructor.name,message:a.message,response:a.response?.data,stack:a.stack}),a}}async deleteCategory(t){try{N.info("Kategori silme isteği gönderiliyor",{categoryId:t});const a=t;await se.delete(`${this.baseUrl}/categories/${a}`),N.info("Kategori başarıyla silindi",{categoryId:t})}catch(a){throw N.error("❌ Kategori silinirken hata:",a),a}}async getDeletedCategories(){try{N.info("Silinmiş kategoriler getiriliyor");const t=await se.get(`${this.baseUrl}/Categories/deleted`);return N.info("Silinmiş kategoriler başarıyla getirildi",{count:t.data?.length||0}),t.data||[]}catch(t){throw N.error("❌ Silinmiş kategoriler getirilirken hata:",t),t}}async deleteProductIngredient(t,a=0){try{N.info("Ürün malzeme silme isteği gönderiliyor",{productId:t,ingredientId:a});const n=t;await se.delete(`${this.baseUrl}/products/${n}/ingredients/${a}`),N.info("Ürün malzemesi başarıyla silindi",{productId:t,ingredientId:a})}catch(n){throw N.error("❌ Ürün malzemesi silinirken hata:",n),n}}async restoreProduct(t,a){try{N.info("Ürün geri yükleniyor",{productId:t,restoreWithCascade:a});const n=`${this.baseUrl}/Products/${t}/restore`,s=a!==void 0?{restoreWithCascade:a}:{},i=await se.post(n,null,{params:s});N.info("Ürün başarıyla geri yüklendi",{productId:t,restoreWithCascade:a,response:i.status})}catch(n){throw N.error("❌ Ürün geri yüklenirken hata:",n),n.response?.status===404?new Error("Geri yüklenecek ürün bulunamadı"):n.response?.status===400?new Error("Geçersiz ürün geri yükleme isteği"):new Error("Ürün geri yüklenirken bir hata oluştu")}}async restoreCategory(t,a){try{N.info("Kategori geri yükleniyor",{categoryId:t,restoreWithCascade:a});const n=`${this.baseUrl}/Categories/${t}/restore`,s=a!==void 0?{restoreWithCascade:a}:{},i=await se.post(n,null,{params:s});N.info("Kategori başarıyla geri yüklendi",{categoryId:t,restoreWithCascade:a,response:i.status})}catch(n){throw N.error("❌ Kategori geri yüklenirken hata:",n),n.response?.status===404?new Error("Geri yüklenecek kategori bulunamadı"):n.response?.status===400?new Error("Geçersiz kategori geri yükleme isteği"):new Error("Kategori geri yüklenirken bir hata oluştu")}}async getDeletedProducts(){try{N.info("Silinmiş ürünler getiriliyor");const t=await se.get(`${this.baseUrl}/Products/deleted`);return N.info("Silinmiş ürünler başarıyla getirildi",{count:t.data?.length||0}),t.data||[]}catch(t){throw N.error("❌ Silinmiş ürünler getirilirken hata:",t),t}}async updateCategory(t,a){try{const n={categoryId:t,...a.categoryName&&{categoryName:a.categoryName},...a.description!==void 0&&{description:a.description},...a.status!==void 0&&{status:a.status},...a.displayOrder!==void 0&&{displayOrder:a.displayOrder}};N.info("Kategori güncelleme isteği gönderiliyor",{categoryId:t,payload:n});const s=await se.put(`${this.baseUrl}/categories`,n);return N.info("Kategori başarıyla güncellendi",{data:s.data}),{categoryId:s.data.categoryId,categoryName:s.data.categoryName,description:s.data.description||"",status:s.data.status,displayOrder:s.data.displayOrder,restaurantId:s.data.restaurantId,isExpanded:!0,products:s.data.products?.map(o=>({id:o.productId,name:o.name,description:o.description||"",price:o.price,imageUrl:o.imageUrl||"",isAvailable:o.status,status:o.status,displayOrder:o.displayOrder,categoryId:s.data.categoryId,originalProductId:0}))||[],productId:void 0,name:void 0}}catch(n){throw N.error("❌ Kategori güncellenirken hata:",n),n}}async reorderCategories(t){try{const a={categoryOrders:t};N.info("Kategori sıralama isteği gönderiliyor",{payload:a,totalCategories:t.length});const n=await se.post(`${this.baseUrl}/Categories/reorder`,a);N.info("Kategori sıralaması başarıyla güncellendi",{updatedCategories:t.length,response:n.status})}catch(a){throw N.error("❌ Kategori sıralaması güncellenirken hata:",a),a.response?.status===400?new Error("Geçersiz kategori sıralama verisi"):a.response?.status===404?new Error("Bir veya daha fazla kategori bulunamadı"):new Error("Kategori sıralaması kaydedilirken bir hata oluştu")}}async reorderProducts(t){try{const a={productOrders:t};N.info("Ürün sıralama isteği gönderiliyor",{payload:a,totalProducts:t.length});const n=await se.post(`${this.baseUrl}/Products/reorder`,a);N.info("Ürün sıralaması başarıyla güncellendi",{updatedProducts:t.length,response:n.status})}catch(a){throw N.error("❌ Ürün sıralaması güncellenirken hata:",a),a.response?.status===400?new Error("Geçersiz ürün sıralama verisi"):a.response?.status===404?new Error("Bir veya daha fazla ürün bulunamadı"):new Error("Ürün sıralaması kaydedilirken bir hata oluştu")}}async addIngredientsToProduct(t,a){try{const n={productId:t,ingredients:a};N.info("Ürüne malzemeler ekleniyor",{productId:t,ingredients:a,payload:n});const s=await se.post(`${this.baseUrl}/Products/ingredients/batch`,n);N.info("Ürün malzemeleri başarıyla eklendi",{productId:t,ingredientCount:a.length,response:s.status})}catch(n){throw N.error("❌ Ürün malzemeleri eklenirken hata:",n),n}}async removeIngredientFromProduct(t,a){try{N.info("Ürün malzemesi siliniyor",{productId:t,ingredientId:a}),await se.delete(`${this.baseUrl}/Products/${t}/ingredients/${a}`),N.info("Ürün malzemesi başarıyla silindi",{productId:t,ingredientId:a})}catch(n){throw N.error("❌ Ürün malzemesi silinirken hata:",n),n}}async getProductIngredients(t){try{N.info("Ürün malzemeleri getiriliyor",{productId:t});const a=await se.get(`${this.baseUrl}/Products/${t}/ingredients`);return N.info("Ürün malzemeleri başarıyla getirildi",{productId:t,ingredientCount:a.data?.length||0}),a.data||[]}catch(a){throw N.error("❌ Ürün malzemeleri getirilirken hata:",a),a}}}const Vt=new BV,ZS=({isOpen:e,onClose:t,onSuccess:a})=>{const{t:n,isRTL:s}=qe(),[i,o]=p.useState({categoryName:"",status:!0}),[l,c]=p.useState(!1),[u,g]=p.useState({}),[h,x]=p.useState({}),b=()=>{const P={};return i.categoryName.trim()?i.categoryName.trim().length<2?P.categoryName=n("createCategoryModal.validation.nameMinLength"):i.categoryName.trim().length>50&&(P.categoryName=n("createCategoryModal.validation.nameMaxLength")):P.categoryName=n("createCategoryModal.form.categoryName.required"),g(P),Object.keys(P).length===0},y=(P,E)=>{o(A=>({...A,[P]:E})),u[P]&&g(A=>({...A,[P]:""}))},k=async()=>{if(b()){c(!0);try{const P={categoryName:i.categoryName.trim(),status:i.status};N.info("Kategori ekleme isteği gönderiliyor",{payload:P});const E=await se.post("/api/categories",P);N.info("Kategori başarıyla eklendi",{data:E.data}),a(),o({categoryName:"",status:!0}),g({}),t()}catch(P){if(N.error("❌ Kategori eklenirken hata:",P),N.error("❌ Kategori eklenirken detaylı hata:",{message:P.message,response:P.response,status:P.response?.status,data:P.response?.data}),P.response?.data?.errors){const E=P.response.data.errors;g(E)}else if(P.response?.data?.message){const E=P.response.data.message;P.response?.status===400?E.toLowerCase().includes("already exists")||E.toLowerCase().includes("zaten mevcut")||E.toLowerCase().includes("duplicate")?g({categoryName:n("createCategoryModal.errors.categoryExists")}):E.toLowerCase().includes("invalid")||E.toLowerCase().includes("geçersiz")?g({general:n("createCategoryModal.errors.invalidData")}):g({general:E||n("createCategoryModal.errors.general")}):P.response?.status===500?g({general:n("createCategoryModal.errors.serverError")}):g({general:E||n("createCategoryModal.errors.general")})}else P.message?.includes("network")||P.message?.includes("Network")?g({general:n("createCategoryModal.errors.networkError")}):g({general:n("createCategoryModal.errors.unknownError")})}finally{c(!1)}}},v=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),k())},j=i.categoryName.length,S=50,C=j>=2&&j<=S;return r.jsx(jt,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",dir:s?"rtl":"ltr",children:[r.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-gradient-to-br from-black/70 via-black/60 to-black/70 backdrop-blur-md",onClick:t}),r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs(re.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{type:"spring",duration:.5,bounce:.3},className:"relative w-full max-w-lg",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/20 via-purple-500/20 to-pink-500/20 blur-3xl rounded-3xl"}),r.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-500 via-primary-600 to-purple-600"}),r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative px-8 py-8",children:[r.jsx("button",{onClick:t,type:"button",className:`absolute top-6 z-50 ${s?"left-6":"right-6"} p-2.5 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110 text-white`,"aria-label":n("createCategoryModal.accessibility.closeModal"),children:r.jsx(at,{className:"w-5 h-5"})}),r.jsxs("div",{className:`flex items-start gap-4 ${s?"flex-row-reverse":""}`,children:[r.jsxs(re.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.2,duration:.6},className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-white/30 blur-xl rounded-2xl"}),r.jsx("div",{className:"relative p-4 bg-white/20 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg",children:r.jsx(Vn,{className:"w-8 h-8 text-white"})})]}),r.jsxs("div",{className:"flex-1 pt-1",children:[r.jsx(re.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl font-bold text-white mb-2",children:n("createCategoryModal.title")}),r.jsx(re.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"text-white/80 text-sm leading-relaxed",children:n("createCategoryModal.subtitle")})]})]})]})]}),r.jsxs("div",{className:"p-8 space-y-6","aria-label":n("createCategoryModal.accessibility.formTitle"),children:[r.jsx(jt,{children:u.general&&r.jsxs(re.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 to-red-600/10"}),r.jsx("div",{className:"relative p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl",children:r.jsxs("div",{className:`flex items-start gap-3 ${s?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"p-1.5 bg-red-100 dark:bg-red-800/30 rounded-lg",children:r.jsx(lt,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-300 mb-1",children:n("createCategoryModal.errors.errorLabel")}),r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u.general})]})]})})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{htmlFor:"categoryName",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 ${s?"flex-row-reverse":""}`,children:[r.jsx(sd,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),r.jsx("span",{children:n("createCategoryModal.form.categoryName.label")}),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",id:"categoryName",value:i.categoryName,onChange:P=>y("categoryName",P.target.value),onFocus:()=>x({...h,categoryName:!0}),onBlur:()=>x({...h,categoryName:!1}),onKeyPress:v,maxLength:S,className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${u.categoryName?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":h.categoryName?"border-primary-500 dark:border-primary-400 bg-primary-50/50 dark:bg-primary-900/10 focus:ring-4 focus:ring-primary-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400 dark:hover:border-gray-500"} focus:outline-none`,placeholder:n("createCategoryModal.form.categoryName.placeholder"),"aria-describedby":u.categoryName?"categoryName-error":void 0,"aria-required":"true"}),r.jsxs("div",{className:`absolute ${s?"left-4":"right-4"} top-1/2 -translate-y-1/2 flex items-center gap-2`,children:[i.categoryName&&C&&!u.categoryName&&r.jsx(re.div,{initial:{scale:0},animate:{scale:1},className:"p-1 bg-emerald-100 dark:bg-emerald-900/30 rounded-full",children:r.jsx(ai,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),r.jsxs("span",{className:`text-xs font-medium ${j>S?"text-red-600 dark:text-red-400":j>=S*.8?"text-yellow-600 dark:text-yellow-400":"text-gray-400 dark:text-gray-500"}`,children:[j,"/",S]})]})]}),r.jsx(jt,{children:u.categoryName&&r.jsxs(re.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},id:"categoryName-error",className:`flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${s?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(lt,{className:"w-4 h-4"}),u.categoryName]})})]}),r.jsx("div",{className:"relative rounded-2xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700/50 dark:to-gray-800/50 p-5 border border-gray-200 dark:border-gray-600",children:r.jsxs("label",{className:`flex items-center gap-4 cursor-pointer group ${s?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"checkbox",checked:i.status,onChange:P=>y("status",P.target.checked),className:"sr-only peer","aria-describedby":"status-description"}),r.jsx("div",{className:"w-14 h-7 bg-gray-300 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-emerald-500 peer-checked:to-emerald-600 shadow-inner"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white block mb-1",children:n("createCategoryModal.form.status.label")}),r.jsx("p",{id:"status-description",className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed",children:n("createCategoryModal.form.status.description")})]})]})}),r.jsxs("div",{className:`flex gap-3 pt-2 ${s?"flex-row-reverse":""}`,children:[r.jsx("button",{type:"button",onClick:t,disabled:l,className:"flex-1 px-6 py-4 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-xl font-semibold transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:n("createCategoryModal.buttons.cancel")}),r.jsxs("button",{type:"button",onClick:k,disabled:l||!i.categoryName.trim(),className:"flex-1 px-6 py-4 text-white bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed rounded-xl font-semibold transition-all duration-200 hover:scale-105 active:scale-95 hover:shadow-lg hover:shadow-primary-500/50 disabled:hover:shadow-none relative overflow-hidden group","aria-describedby":l?"submit-loading":void 0,children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),r.jsx("span",{className:`relative flex items-center justify-center gap-2 ${s?"flex-row-reverse":""}`,children:l?r.jsxs(r.Fragment,{children:[r.jsx(ot,{className:"w-5 h-5 animate-spin"}),r.jsx("span",{id:"submit-loading",children:n("createCategoryModal.buttons.creating")})]}):r.jsxs(r.Fragment,{children:[r.jsx(Vn,{className:"w-5 h-5"}),r.jsx("span",{children:n("createCategoryModal.buttons.create")})]})})]})]})]})]})]})})]})})},LV=({isOpen:e,onClose:t,onSuccess:a,categories:n,selectedCategoryId:s,onOpenIngredientSelection:i})=>{const{t:o,isRTL:l}=qe(),[c,u]=p.useState({name:"",description:"",price:0,categoryId:0,isAvailable:!0,imageFile:null,imageUrl:""}),[g,h]=p.useState(!1),[x,b]=p.useState(!1),[y,k]=p.useState({}),[v,j]=p.useState(""),[S,C]=p.useState(!1),[P,E]=p.useState(""),A=p.useRef(null);p.useEffect(()=>{if(e){N.info("Modal açıldı",{selectedCategoryId:s,categoriesCount:n.length,categories:n.map(D=>({id:D.categoryId,name:D.categoryName}))});let R=0;s&&n.find(D=>D.categoryId===s)?R=s:n.length>0&&(R=n[0].categoryId),u(D=>({...D,categoryId:R,imageUrl:"",imageFile:null})),j(""),k({})}},[e,s,n]);const I=()=>{const R={};c.name.trim()?c.name.trim().length<2?R.name=o("createProductModal.validation.nameMinLength"):c.name.trim().length>100&&(R.name=o("createProductModal.validation.nameMaxLength")):R.name=o("createProductModal.errors.nameRequired"),c.description.trim()?c.description.trim().length<5?R.description=o("createProductModal.validation.descriptionMinLength"):c.description.trim().length>500&&(R.description=o("createProductModal.validation.descriptionMaxLength")):R.description=o("createProductModal.errors.descriptionRequired"),c.price<=0?R.price=o("createProductModal.errors.priceMustBePositive"):c.price>=1e4&&(R.price=o("createProductModal.validation.priceMax"));const D=typeof c.categoryId=="string"?parseInt(c.categoryId):c.categoryId;return!D||D===0?R.categoryId=o("createProductModal.errors.categoryRequired"):n.find(X=>X.categoryId===D)||(R.categoryId=o("createProductModal.form.category.invalidCategory")||"Selected category is invalid"),k(R),Object.keys(R).length===0},M=(R,D)=>{u(W=>({...W,[R]:D})),y[R]&&k(W=>({...W,[R]:""}))},F=R=>{R.preventDefault(),R.stopPropagation(),R.type==="dragenter"||R.type==="dragover"?C(!0):R.type==="dragleave"&&C(!1)},Q=R=>{R.preventDefault(),R.stopPropagation(),C(!1);const D=R.dataTransfer.files;D&&D[0]&&U(D[0])},U=R=>{if(!R.type.startsWith("image/")){k(W=>({...W,image:o("createProductModal.errors.imageInvalid")}));return}if(R.size>5*1024*1024){k(W=>({...W,image:o("createProductModal.errors.imageTooLarge")}));return}u(W=>({...W,imageFile:R,imageUrl:""}));const D=new FileReader;D.onload=W=>{j(W.target?.result)},D.readAsDataURL(R),k(W=>({...W,image:""}))},V=R=>{const D=R.target.files?.[0];D&&U(D)},K=async()=>{if(c.imageFile)try{b(!0),N.info("Görsel yükleniyor",{fileName:c.imageFile.name});const R=await Wi.uploadFile(c.imageFile);return N.info("Görsel başarıyla yüklendi",{imageUrl:R}),R}catch(R){return N.error("❌ Görsel yüklenirken hata:",R),k(D=>({...D,image:o("createProductModal.errors.imageUploadFailed")})),Gg}finally{b(!1)}return Gg},Z=async()=>{if(I()){h(!0);try{const R=await K(),D=typeof c.categoryId=="string"?parseInt(c.categoryId):c.categoryId,W={name:c.name.trim(),description:c.description.trim(),price:c.price,categoryId:D,status:c.isAvailable,displayOrder:0,imageUrl:R};N.info("Ürün ekleme isteği gönderiliyor",{payload:W});const X=await Vt.createProduct(W);N.info("Ürün başarıyla eklendi",{data:X}),i&&i(X.id,X.name),a(),u({name:"",description:"",price:0,categoryId:0,isAvailable:!0,imageFile:null,imageUrl:""}),k({}),j(""),A.current&&(A.current.value=""),t()}catch(R){if(N.error("❌ Ürün eklenirken hata:",R),R.response?.data?.errors)k(R.response.data.errors);else if(R.response?.data?.message){const D=R.response.data.message;R.response?.status===400?k({general:D||o("createProductModal.errors.general")}):R.response?.status===500?k({general:o("createProductModal.errors.serverError")}):k({general:D||o("createProductModal.errors.general")})}else R.message?.includes("network")||R.message?.includes("Network")?k({general:o("createProductModal.errors.networkError")}):k({general:o("createProductModal.errors.unknownError")})}finally{h(!1)}}},ie=()=>{u(R=>({...R,imageFile:null,imageUrl:""})),j(""),A.current&&(A.current.value="")},te=c.name.trim()&&c.description.trim()&&c.price>0&&c.categoryId>0;return r.jsx(jt,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",dir:l?"rtl":"ltr",children:[r.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-gradient-to-br from-black/70 via-black/60 to-black/70 backdrop-blur-md",onClick:t}),r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs(re.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{type:"spring",duration:.5,bounce:.3},className:"relative w-full max-w-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 blur-3xl rounded-3xl"}),r.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"relative overflow-hidden flex-shrink-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 via-blue-600 to-purple-600"}),r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative px-8 py-6",children:[r.jsx("button",{onClick:t,type:"button",className:`absolute top-6 ${l?"left-6":"right-6"} p-2.5 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110 text-white z-10`,"aria-label":o("createProductModal.accessibility.closeModal"),children:r.jsx(at,{className:"w-5 h-5"})}),r.jsxs("div",{className:`flex items-start gap-4 ${l?"flex-row-reverse":""}`,children:[r.jsxs(re.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.2,duration:.6},className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-white/30 blur-xl rounded-2xl"}),r.jsx("div",{className:"relative p-4 bg-white/20 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg",children:r.jsx(Nt,{className:"w-8 h-8 text-white"})})]}),r.jsxs("div",{className:"flex-1 pt-1",children:[r.jsx(re.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl font-bold text-white mb-2",children:o("createProductModal.title")}),r.jsx(re.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"text-white/80 text-sm leading-relaxed",children:o("createProductModal.subtitle")})]})]})]})]}),r.jsxs("div",{className:"overflow-y-auto flex-1 p-8 space-y-6",children:[r.jsx(jt,{children:y.general&&r.jsxs(re.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 to-red-600/10"}),r.jsx("div",{className:"relative p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl",children:r.jsxs("div",{className:`flex items-start gap-3 ${l?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"p-1.5 bg-red-100 dark:bg-red-800/30 rounded-lg",children:r.jsx(lt,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-300 mb-1",children:o("createProductModal.errors.errorLabel")}),r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:y.general})]})]})})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 ${l?"flex-row-reverse":""}`,children:[r.jsx(Qk,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("createProductModal.form.productImage.label")})]}),v?r.jsx(re.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative group",children:r.jsxs("div",{className:"relative rounded-2xl overflow-hidden",children:[r.jsx("img",{src:v,alt:o("createProductModal.imageUpload.preview"),className:"w-full h-56 object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsx("button",{type:"button",onClick:ie,className:`absolute top-4 ${l?"left-4":"right-4"} p-2.5 bg-red-600 hover:bg-red-700 text-white rounded-xl shadow-lg transition-all duration-200 transform hover:scale-110 opacity-0 group-hover:opacity-100`,"aria-label":o("createProductModal.accessibility.removeImage"),children:r.jsx(at,{className:"w-4 h-4"})})]})}):r.jsx("div",{className:`relative border-2 border-dashed rounded-2xl p-8 text-center cursor-pointer transition-all duration-300 ${S?"border-blue-400 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/30 dark:to-blue-900/20 scale-105":y.image?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10":"border-gray-300 dark:border-gray-600 hover:border-blue-400 hover:bg-gradient-to-br hover:from-blue-50/50 hover:to-transparent dark:hover:from-blue-950/20"}`,onClick:()=>A.current?.click(),onDragEnter:F,onDragLeave:F,onDragOver:F,onDrop:Q,children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(re.div,{animate:{y:S?-10:0,scale:S?1.1:1},className:`p-4 rounded-2xl ${S?"bg-blue-600 shadow-lg shadow-blue-500/50":"bg-gray-100 dark:bg-gray-700"}`,children:r.jsx(li,{className:`h-10 w-10 ${S?"text-white":"text-gray-400 dark:text-gray-500"}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-base font-semibold text-gray-700 dark:text-gray-300 mb-1",children:o(S?"createProductModal.imageUpload.dragActive":"createProductModal.imageUpload.clickToUpload")}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[o("createProductModal.imageUpload.supportedFormats")," • ",o("createProductModal.imageUpload.maxSize")]})]})]})}),r.jsx("input",{title:"image upload",ref:A,type:"file",accept:"image/*",onChange:V,className:"hidden"}),r.jsx(jt,{children:y.image&&r.jsxs(re.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(lt,{className:"w-4 h-4"}),y.image]})})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"name",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(sd,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("createProductModal.form.productName.label")}),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",id:"name",value:c.name,onChange:R=>M("name",R.target.value),onFocus:()=>E("name"),onBlur:()=>E(""),maxLength:100,className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${y.name?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":P==="name"?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-900/10 focus:ring-4 focus:ring-blue-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400"} focus:outline-none`,placeholder:o("createProductModal.form.productName.placeholder"),"aria-required":"true"}),r.jsxs("div",{className:`absolute ${l?"left-4":"right-4"} top-1/2 -translate-y-1/2 flex items-center gap-2`,children:[c.name&&c.name.length>=2&&!y.name&&r.jsx(re.div,{initial:{scale:0},animate:{scale:1},children:r.jsx(ai,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),r.jsxs("span",{className:"text-xs text-gray-400",children:[c.name.length,"/100"]})]})]}),r.jsx(jt,{children:y.name&&r.jsxs(re.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(lt,{className:"w-4 h-4"}),y.name]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"price",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(Qr,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("createProductModal.form.price.label")}),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",id:"price",value:c.price||"",onChange:R=>{const D=R.target.value;if(D==="")M("price",0);else{const W=parseFloat(D);isNaN(W)||M("price",W)}},onFocus:()=>E("price"),onBlur:()=>E(""),step:"0.01",min:"0",className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${y.price?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":P==="price"?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-900/10 focus:ring-4 focus:ring-blue-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400"} focus:outline-none ${l?"pl-12":"pr-12"}`,placeholder:"0.00","aria-required":"true"}),r.jsx("div",{className:`absolute ${l?"left-4":"right-4"} top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 font-medium`,children:o("createProductModal.form.price.currency")})]}),r.jsx(jt,{children:y.price&&r.jsxs(re.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(lt,{className:"w-4 h-4"}),y.price]})})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"categoryId",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(Vn,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("createProductModal.form.category.label")}),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{id:"categoryId",value:c.categoryId,onChange:R=>{const D=parseInt(R.target.value)||0;M("categoryId",D)},onFocus:()=>E("categoryId"),onBlur:()=>E(""),className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 text-gray-900 dark:text-white ${y.categoryId?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":P==="categoryId"?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-900/10 focus:ring-4 focus:ring-blue-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400"} focus:outline-none`,"aria-required":"true",children:[r.jsx("option",{value:"0",children:o("createProductModal.form.category.placeholder")}),n.map(R=>r.jsx("option",{value:R.categoryId,children:R.categoryName},R.categoryId))]}),r.jsx(jt,{children:y.categoryId&&r.jsxs(re.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(lt,{className:"w-4 h-4"}),y.categoryId]})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"description",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(da,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("createProductModal.form.description.label")}),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{id:"description",value:c.description,onChange:R=>M("description",R.target.value),onFocus:()=>E("description"),onBlur:()=>E(""),maxLength:500,rows:3,className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 resize-none text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${y.description?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":P==="description"?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-900/10 focus:ring-4 focus:ring-blue-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400"} focus:outline-none`,placeholder:o("createProductModal.form.description.placeholder"),"aria-required":"true"}),r.jsxs("div",{className:`absolute ${l?"left-4":"right-4"} bottom-3 text-xs text-gray-400`,children:[c.description.length,"/500"]})]}),r.jsx(jt,{children:y.description&&r.jsxs(re.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(lt,{className:"w-4 h-4"}),y.description]})})]}),r.jsx("div",{className:"rounded-2xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700/50 dark:to-gray-800/50 p-5 border border-gray-200 dark:border-gray-600",children:r.jsxs("label",{className:`flex items-center gap-4 cursor-pointer group ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"checkbox",checked:c.isAvailable,onChange:R=>M("isAvailable",R.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-14 h-7 bg-gray-300 dark:bg-gray-600 peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-emerald-500 peer-checked:to-emerald-600 shadow-inner"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white block mb-1",children:o("createProductModal.form.status.label")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed",children:o("createProductModal.form.status.description")})]})]})})]}),r.jsx("div",{className:"flex-shrink-0 px-8 py-6 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:`flex gap-3 ${l?"flex-row-reverse":""}`,children:[r.jsx("button",{type:"button",onClick:t,disabled:g||x,className:"flex-1 px-6 py-4 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl font-semibold transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed border border-gray-300 dark:border-gray-600",children:o("createProductModal.buttons.cancel")}),r.jsxs("button",{type:"button",onClick:Z,disabled:g||x||!te,className:"flex-1 px-6 py-4 text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed rounded-xl font-semibold transition-all duration-200 hover:scale-105 active:scale-95 hover:shadow-lg hover:shadow-blue-500/50 disabled:hover:shadow-none relative overflow-hidden group",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),r.jsx("span",{className:`relative flex items-center justify-center gap-2 ${l?"flex-row-reverse":""}`,children:g||x?r.jsxs(r.Fragment,{children:[r.jsx(ot,{className:"w-5 h-5 animate-spin"}),r.jsx("span",{children:o(x?"createProductModal.buttons.uploading":"createProductModal.buttons.creating")})]}):r.jsxs(r.Fragment,{children:[r.jsx(Nt,{className:"w-5 h-5"}),r.jsx("span",{children:o("createProductModal.buttons.create")})]})})]})]})})]})]})})]})})},_V=({product:e,onEdit:t,onDelete:a,onOpenAddonsManagement:n})=>{const{t:s,isRTL:i}=qe(),[o,l]=p.useState(!1),[c,u]=p.useState([]),[g,h]=p.useState(!1),[x,b]=p.useState(null),[y,k]=p.useState([]),[v,j]=p.useState(!1),[S,C]=p.useState(null),{attributes:P,listeners:E,setNodeRef:A,transform:I,transition:M,isDragging:F}=fw({id:e.id}),Q={transform:di.Transform.toString(I),transition:M,opacity:F?.5:1},U=e.imageUrl&&e.imageUrl!=="string"&&e.imageUrl.trim()!==""&&!o;return p.useEffect(()=>{(async()=>{h(!0),j(!0),b(null),C(null);try{const K=await Vt.getProductIngredients(e.id);u(K),N.info("Ürün malzemeleri yüklendi",{productId:e.id,ingredientCount:K.length})}catch(K){N.error("Malzemeler yüklenirken hata:",K),b(s("SortableProduct.errors.loadingIngredients"))}finally{h(!1)}try{const K=await Ci.getProductAddons(e.id);k(K),N.info("Ürün eklentileri yüklendi",{productId:e.id,addonCount:K.length})}catch(K){N.error("Eklentiler yüklenirken hata:",K),C(s("SortableProduct.errors.loadingAddons"))}finally{j(!1)}})()},[e.id,s]),r.jsxs("div",{ref:A,style:Q,className:`group relative bg-white dark:bg-gray-800 rounded-2xl overflow-hidden transition-all duration-300 ${F?"shadow-2xl shadow-primary-500/20 ring-2 ring-primary-500 scale-105":"shadow-sm hover:shadow-xl border border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-600"}`,role:"article","aria-label":s("SortableProduct.accessibility.productCard"),children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-primary-500 via-purple-500 to-pink-500"}),r.jsxs("div",{className:`flex items-start gap-5 p-5 ${i?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"relative flex-shrink-0",children:[U?r.jsxs("div",{className:"relative group/image",children:[r.jsx("img",{src:e.imageUrl,alt:`${s("SortableProduct.accessibility.productImage")} - ${e.name}`,className:"w-24 h-24 rounded-xl object-cover bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 ring-2 ring-gray-200 dark:ring-gray-700 group-hover/image:ring-primary-300 dark:group-hover/image:ring-primary-600 transition-all duration-300",onError:()=>l(!0),loading:"lazy"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent rounded-xl opacity-0 group-hover/image:opacity-100 transition-opacity duration-300"})]}):r.jsx("div",{className:"w-24 h-24 rounded-xl bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center ring-2 ring-gray-200 dark:ring-gray-700 group-hover:ring-primary-300 dark:group-hover:ring-primary-600 transition-all duration-300",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-primary-500/10 blur-xl rounded-full"}),r.jsx(Ft,{className:"relative h-10 w-10 text-gray-400 dark:text-gray-500"})]})}),r.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-gradient-to-br from-primary-500 to-primary-600 text-white text-xs font-bold px-2.5 py-1 rounded-lg shadow-lg",children:["#",e.displayOrder]})]}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("div",{className:`flex items-start gap-3 ${i?"flex-row-reverse":""}`,children:[r.jsx("button",{...P,...E,className:"mt-1 p-2 text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-lg cursor-grab active:cursor-grabbing transition-all duration-200 hover:scale-110","aria-label":s("SortableProduct.accessibility.dragHandle"),title:s("SortableProduct.dragProduct"),children:r.jsx(qu,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[r.jsx("div",{className:`flex items-start gap-2 ${i?"flex-row-reverse":""}`,children:r.jsx("h4",{className:"flex-1 font-semibold text-lg text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:e.name})}),e.description&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed line-clamp-2",children:e.description}),r.jsx("div",{className:"space-y-2",children:g?r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/30 px-3 py-2 rounded-lg",children:[r.jsx(ot,{className:"h-4 w-4 animate-spin text-primary-500"}),r.jsx("span",{children:s("SortableProduct.loadingIngredients")})]}):x?r.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 px-3 py-2 rounded-lg border border-red-200 dark:border-red-800",children:[r.jsx(lt,{className:"h-4 w-4"}),r.jsx("span",{children:x})]}):c.length>0?r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/10 dark:to-amber-900/10 px-3 py-2.5 rounded-xl border border-orange-200 dark:border-orange-800",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-2 ${i?"flex-row-reverse":""}`,children:[r.jsx(rc,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"}),r.jsx("span",{className:"text-xs font-semibold text-orange-700 dark:text-orange-300 uppercase tracking-wide",children:s("SortableProduct.ingredients")}),r.jsx("span",{className:"text-xs text-orange-600 dark:text-orange-400 bg-orange-200 dark:bg-orange-800/50 px-2 py-0.5 rounded-full",children:c.length})]}),r.jsx("div",{className:`flex flex-wrap gap-1.5 ${i?"justify-end":""}`,children:c.map(V=>r.jsxs("span",{className:`inline-flex items-center gap-1 text-xs bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-2.5 py-1 rounded-lg border ${V.isAllergenic?"border-yellow-300 dark:border-yellow-700 ring-1 ring-yellow-200 dark:ring-yellow-800":"border-orange-200 dark:border-orange-800"}`,children:[V.ingredientName,V.isAllergenic&&r.jsx("span",{title:"Allergen",children:r.jsx(lt,{className:"h-3 w-3 text-yellow-500 dark:text-yellow-400","aria-label":s("SortableProduct.accessibility.allergenWarning")})})]},V.id))})]}):r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/30 px-3 py-2 rounded-lg",children:[r.jsx(rc,{className:"h-3.5 w-3.5 opacity-50"}),r.jsx("span",{children:s("SortableProduct.noIngredients")})]})}),r.jsx("div",{className:"space-y-2",children:v?r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/30 px-3 py-2 rounded-lg",children:[r.jsx(ot,{className:"h-4 w-4 animate-spin text-primary-500"}),r.jsx("span",{children:s("SortableProduct.loadingAddons")})]}):S?r.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 px-3 py-2 rounded-lg border border-red-200 dark:border-red-800",children:[r.jsx(lt,{className:"h-4 w-4"}),r.jsx("span",{children:S})]}):y.length>0?r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/10 dark:to-indigo-900/10 px-3 py-2.5 rounded-xl border border-blue-200 dark:border-blue-800",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-2 ${i?"flex-row-reverse":""}`,children:[r.jsx(Nt,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{className:"text-xs font-semibold text-blue-700 dark:text-blue-300 uppercase tracking-wide",children:s("SortableProduct.addons")}),r.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-200 dark:bg-blue-800/50 px-2 py-0.5 rounded-full",children:y.length})]}),r.jsx("div",{className:`flex flex-wrap gap-1.5 ${i?"justify-end":""}`,children:y.map(V=>r.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-2.5 py-1 rounded-lg border border-blue-200 dark:border-blue-800",children:[V.addonProduct?.name||`Product ${V.addonProductId}`,V.isRecommended&&r.jsx("span",{title:s("SortableProduct.recommended"),children:r.jsx(Vn,{className:"h-3 w-3 text-yellow-500","aria-label":s("SortableProduct.accessibility.recommendedAddon")})})]},V.id))})]}):r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/30 px-3 py-2 rounded-lg",children:[r.jsx(Nt,{className:"h-3.5 w-3.5 opacity-50"}),r.jsx("span",{children:s("SortableProduct.noAddons")})]})}),r.jsxs("div",{className:`flex items-center justify-between pt-3 border-t border-gray-100 dark:border-gray-700 ${i?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-primary-800 dark:from-primary-400 dark:to-primary-600 bg-clip-text text-transparent",children:e.price.toFixed(2)}),r.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"₺"})]}),r.jsxs("div",{className:`flex items-center gap-1 bg-gray-100 dark:bg-gray-700/50 rounded-xl p-1 ${i?"flex-row-reverse":""}`,children:[n&&r.jsx("button",{onClick:()=>n(e.id,e.name),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-emerald-600 dark:hover:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-all duration-200 hover:scale-110",title:s("SortableProduct.manageAddons"),"aria-label":s("SortableProduct.accessibility.addonsButton"),children:r.jsx(Nt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>t(e.id),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-lg transition-all duration-200 hover:scale-110",title:s("SortableProduct.editProduct"),"aria-label":s("SortableProduct.accessibility.editButton"),children:r.jsx(Kl,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>a(e.id),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200 hover:scale-110",title:s("SortableProduct.deleteProduct"),"aria-label":s("SortableProduct.accessibility.deleteButton"),children:r.jsx(er,{className:"h-4 w-4"})})]})]})]})]})})]})]})},FV=({category:e,isDark:t,onToggle:a,onEditProduct:n,onDeleteProduct:s,onEditCategory:i,onDeleteCategory:o,isReorderingProducts:l=!1,onOpenAddonsManagement:c,viewMode:u="list"})=>{const{t:g,isRTL:h}=qe(),{attributes:x,listeners:b,setNodeRef:y,transform:k,transition:v,isDragging:j}=fw({id:e.categoryId}),S={transform:di.Transform.toString(k),transition:v,opacity:j?.5:1},C=({product:P})=>{const E=P.imageUrl&&P.imageUrl!=="string"&&P.imageUrl.trim()!=="";return r.jsxs("div",{className:"group relative bg-white dark:bg-gray-800 rounded-2xl overflow-hidden border border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-600 transition-all duration-300 hover:shadow-2xl hover:shadow-primary-500/10 hover:-translate-y-1",children:[r.jsxs("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800",children:[E?r.jsx("img",{src:P.imageUrl,alt:P.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-primary-500/20 blur-2xl rounded-full"}),r.jsx(Ft,{className:"relative h-16 w-16 text-gray-400 dark:text-gray-500"})]})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsx("div",{className:"absolute top-3 right-3 z-10",children:r.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium backdrop-blur-md border transition-all duration-200 ${P.isAvailable?"bg-emerald-500/90 border-emerald-400/50 text-white shadow-lg shadow-emerald-500/25":"bg-gray-500/90 border-gray-400/50 text-white shadow-lg shadow-gray-500/25"}`,children:[P.isAvailable?r.jsx(cn,{className:"w-3 h-3"}):r.jsx(Wo,{className:"w-3 h-3"}),r.jsx("span",{children:P.isAvailable?g("status.active")||"Active":g("status.inactive")||"Inactive"})]})}),r.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-all duration-300",children:[r.jsx("button",{onClick:()=>n(P.id),className:"p-3 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-200 backdrop-blur-sm",title:g("SortableCategory.editProduct")||"Edit Product",children:r.jsx(Kl,{className:"w-4 h-4"})}),c&&r.jsx("button",{onClick:()=>c(P.id,P.name),className:"p-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-200",title:g("SortableCategory.manageAddons")||"Manage Addons",children:r.jsx(Nt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>s(P.id),className:"p-3 bg-red-600 hover:bg-red-700 text-white rounded-xl shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-200",title:g("SortableCategory.deleteProduct")||"Delete Product",children:r.jsx(er,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"absolute bottom-3 left-3 bg-black/50 backdrop-blur-md text-white text-xs px-2.5 py-1 rounded-full border border-white/20",children:["#",P.displayOrder]})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2 truncate text-lg group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:P.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2 leading-relaxed",children:P.description}),r.jsx("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100 dark:border-gray-700",children:r.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary-600 to-primary-800 dark:from-primary-400 dark:to-primary-600 bg-clip-text text-transparent",children:g("productsContent.currency.format",{amount:P.price.toFixed(2)})})})]})]})};return r.jsxs("div",{ref:y,style:S,className:`group relative bg-white dark:bg-gray-800 rounded-2xl overflow-hidden transition-all duration-300 ${j?"shadow-2xl shadow-primary-500/25 ring-2 ring-primary-500 scale-105":"shadow-md hover:shadow-xl border border-gray-200 dark:border-gray-700"} ${h?"text-right":"text-left"}`,role:"article","aria-label":g("SortableCategory.accessibility.categoryCard"),children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary-500 via-purple-500 to-pink-500"}),r.jsxs("div",{className:"relative p-6 bg-gradient-to-br from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-primary-500/5 to-purple-500/5 rounded-full blur-3xl -z-0"}),r.jsxs("div",{className:`relative flex items-center justify-between ${h?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-4 flex-1 ${h?"flex-row-reverse":""}`,children:[u==="list"&&r.jsx("button",{...x,...b,className:"p-2.5 text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-xl cursor-grab active:cursor-grabbing transition-all duration-200 hover:scale-110","aria-label":g("SortableCategory.accessibility.dragHandle"),title:g("SortableCategory.dragCategory"),children:r.jsx(qu,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:`flex items-center gap-3 mb-1 ${h?"flex-row-reverse":""}`,children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.categoryName,e.products.length>0&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 rounded-full",children:[r.jsx(Vn,{className:"w-3 h-3"}),e.products.length]})]}),l&&r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-primary-100 dark:bg-primary-900/30 rounded-full",children:[r.jsx(ot,{className:"w-3.5 h-3.5 animate-spin text-primary-600 dark:text-primary-400"}),r.jsx("span",{className:"text-xs font-medium text-primary-700 dark:text-primary-300",children:g("SortableCategory.reorderingProducts")||"Reordering..."})]})]}),e.description&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:e.description})]})]}),r.jsxs("div",{className:`flex items-center gap-2 ${h?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-1 bg-gray-100 dark:bg-gray-700/50 rounded-xl p-1 ${h?"flex-row-reverse":""}`,children:[r.jsx("button",{onClick:()=>i(e.categoryId),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-white dark:hover:bg-gray-600 rounded-lg transition-all duration-200",title:g("SortableCategory.editCategory"),disabled:l,children:r.jsx(Kl,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>o(e.categoryId),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-white dark:hover:bg-gray-600 rounded-lg transition-all duration-200",title:g("SortableCategory.deleteCategory"),disabled:l,children:r.jsx(er,{className:"h-4 w-4"})})]}),u==="list"&&r.jsx("button",{onClick:()=>a(e.categoryId),className:`p-2.5 rounded-xl transition-all duration-200 ${e.isExpanded?"bg-primary-600 text-white shadow-lg shadow-primary-500/25":"bg-gray-100 dark:bg-gray-700/50 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,disabled:l,title:e.isExpanded?g("SortableCategory.collapseCategory"):g("SortableCategory.expandCategory"),children:e.isExpanded?r.jsx(Cn,{className:`h-5 w-5 ${h?"rotate-180":""}`}):r.jsx(lr,{className:`h-5 w-5 ${h?"rotate-180":""}`})})]})]})]}),u==="list"?e.isExpanded&&r.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-900/30",children:r.jsx(pw,{items:e.products.map(P=>P.id),strategy:hw,children:r.jsxs("div",{className:`space-y-3 ${l?"opacity-70 pointer-events-none":""}`,children:[e.products.map(P=>r.jsx(_V,{product:P,isDark:t,onEdit:n,onDelete:s,onOpenAddonsManagement:c},P.id)),e.products.length===0&&r.jsxs("div",{className:"text-center py-16",children:[r.jsxs("div",{className:"relative inline-block",children:[r.jsx("div",{className:"absolute inset-0 bg-primary-500/10 blur-2xl rounded-full"}),r.jsx(Ft,{className:"relative h-16 w-16 mx-auto mb-4 text-gray-300 dark:text-gray-600"})]}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium mb-1",children:g("SortableCategory.noCategoryProducts")||"No products yet"}),r.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Add your first product to get started"})]})]})})}):r.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-900/30",children:e.products.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.products.map(P=>r.jsx(C,{product:P},P.id))}):r.jsxs("div",{className:"text-center py-16",children:[r.jsxs("div",{className:"relative inline-block",children:[r.jsx("div",{className:"absolute inset-0 bg-primary-500/10 blur-2xl rounded-full"}),r.jsx(Ft,{className:"relative h-16 w-16 mx-auto mb-4 text-gray-300 dark:text-gray-600"})]}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium mb-1",children:g("SortableCategory.noCategoryProducts")||"No products yet"}),r.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Add your first product to get started"})]})})]})},zV=({isOpen:e,onClose:t,onSuccess:a,category:n})=>{const{t:s,isRTL:i}=qe(),[o,l]=p.useState({categoryName:n.categoryName,description:n.description||"",status:n.status}),[c,u]=p.useState(!1),[g,h]=p.useState(null),[x,b]=p.useState(""),y=async()=>{if(o.categoryName.trim()){u(!0),h(null);try{await Vt.updateCategory(n.categoryId,{categoryName:o.categoryName,description:o.description,status:o.status}),N.info("Kategori başarıyla güncellendi",{categoryId:n.categoryId}),a(),t()}catch(E){N.error("Kategori güncelleme hatası:",E),h(s("editCategoryModal.errors.updateFailed"))}finally{u(!1)}}},k=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),y())},v=o.categoryName.length,j=o.description.length,S=50,C=200,P=v>=2&&v<=S;return r.jsx(jt,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",dir:i?"rtl":"ltr",children:[r.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-gradient-to-br from-black/70 via-black/60 to-black/70 backdrop-blur-md",onClick:t}),r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs(re.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{type:"spring",duration:.5,bounce:.3},className:"relative w-full max-w-lg",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/20 via-purple-500/20 to-pink-500/20 blur-3xl rounded-3xl"}),r.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-500 via-primary-600 to-purple-600"}),r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative px-8 py-8",children:[r.jsx("button",{onClick:t,type:"button",className:`absolute top-6 z-50 ${i?"left-6":"right-6"} p-2.5 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110 text-white`,"aria-label":s("editCategoryModal.accessibility.closeModal"),children:r.jsx(at,{className:"w-5 h-5"})}),r.jsxs("div",{className:`flex items-start gap-4 ${i?"flex-row-reverse":""}`,children:[r.jsxs(re.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.2,duration:.6},className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-white/30 blur-xl rounded-2xl"}),r.jsx("div",{className:"relative p-4 bg-white/20 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg",children:r.jsx(Vo,{className:"w-8 h-8 text-white"})})]}),r.jsxs("div",{className:"flex-1 pt-1",children:[r.jsx(re.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl font-bold text-white mb-2",children:s("editCategoryModal.title")}),r.jsx(re.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"text-white/80 text-sm leading-relaxed",children:s("editCategoryModal.subtitle")||"Update category information"})]})]})]})]}),r.jsxs("div",{className:"p-8 space-y-6","aria-label":s("editCategoryModal.accessibility.formTitle"),children:[r.jsx(jt,{children:g&&r.jsxs(re.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 to-red-600/10"}),r.jsx("div",{className:"relative p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl",children:r.jsxs("div",{className:`flex items-start gap-3 ${i?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"p-1.5 bg-red-100 dark:bg-red-800/30 rounded-lg",children:r.jsx(lt,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-300 mb-1",children:s("editCategoryModal.errors.errorLabel")||"Error"}),r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:g})]})]})})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{htmlFor:"categoryName",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 ${i?"flex-row-reverse":""}`,children:[r.jsx(sd,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),r.jsx("span",{children:s("editCategoryModal.form.categoryName.label")}),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",id:"categoryName",value:o.categoryName,onChange:E=>l({...o,categoryName:E.target.value}),onFocus:()=>b("categoryName"),onBlur:()=>b(""),onKeyPress:k,maxLength:S,className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${x==="categoryName"?"border-primary-500 dark:border-primary-400 bg-primary-50/50 dark:bg-primary-900/10 focus:ring-4 focus:ring-primary-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400 dark:hover:border-gray-500"} focus:outline-none`,placeholder:s("editCategoryModal.form.categoryName.placeholder"),"aria-required":"true"}),r.jsxs("div",{className:`absolute ${i?"left-4":"right-4"} top-1/2 -translate-y-1/2 flex items-center gap-2`,children:[o.categoryName&&P&&r.jsx(re.div,{initial:{scale:0},animate:{scale:1},className:"p-1 bg-emerald-100 dark:bg-emerald-900/30 rounded-full",children:r.jsx(ai,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),r.jsxs("span",{className:`text-xs font-medium ${v>S?"text-red-600 dark:text-red-400":v>=S*.8?"text-yellow-600 dark:text-yellow-400":"text-gray-400 dark:text-gray-500"}`,children:[v,"/",S]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{htmlFor:"description",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 ${i?"flex-row-reverse":""}`,children:[r.jsx(da,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),r.jsx("span",{children:s("editCategoryModal.form.description.label")})]}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{id:"description",value:o.description,onChange:E=>l({...o,description:E.target.value}),onFocus:()=>b("description"),onBlur:()=>b(""),maxLength:C,rows:4,className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 resize-none text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${x==="description"?"border-primary-500 dark:border-primary-400 bg-primary-50/50 dark:bg-primary-900/10 focus:ring-4 focus:ring-primary-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400 dark:hover:border-gray-500"} focus:outline-none`,placeholder:s("editCategoryModal.form.description.placeholder")}),r.jsxs("div",{className:`absolute ${i?"left-4":"right-4"} bottom-3 text-xs text-gray-400`,children:[j,"/",C]})]})]}),r.jsx("div",{className:"relative rounded-2xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700/50 dark:to-gray-800/50 p-5 border border-gray-200 dark:border-gray-600",children:r.jsxs("label",{className:`flex items-center gap-4 cursor-pointer group ${i?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"checkbox",checked:o.status,onChange:E=>l({...o,status:E.target.checked}),className:"sr-only peer","aria-describedby":"status-description"}),r.jsx("div",{className:"w-14 h-7 bg-gray-300 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-emerald-500 peer-checked:to-emerald-600 shadow-inner"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white block mb-1",children:s("editCategoryModal.form.status.label")}),r.jsx("p",{id:"status-description",className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed",children:s("editCategoryModal.form.status.description")})]})]})}),r.jsxs("div",{className:`flex gap-3 pt-2 ${i?"flex-row-reverse":""}`,children:[r.jsx("button",{type:"button",onClick:t,disabled:c,className:"flex-1 px-6 py-4 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-xl font-semibold transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:s("editCategoryModal.buttons.cancel")}),r.jsxs("button",{type:"button",onClick:y,disabled:c||!o.categoryName.trim(),className:"flex-1 px-6 py-4 text-white bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed rounded-xl font-semibold transition-all duration-200 hover:scale-105 active:scale-95 hover:shadow-lg hover:shadow-primary-500/50 disabled:hover:shadow-none relative overflow-hidden group","aria-describedby":c?"submit-loading":void 0,children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),r.jsx("span",{className:`relative flex items-center justify-center gap-2 ${i?"flex-row-reverse":""}`,children:c?r.jsxs(r.Fragment,{children:[r.jsx(ot,{className:"w-5 h-5 animate-spin"}),r.jsx("span",{id:"submit-loading",children:s("editCategoryModal.buttons.saving")})]}):r.jsxs(r.Fragment,{children:[r.jsx(ai,{className:"w-5 h-5"}),r.jsx("span",{children:s("editCategoryModal.buttons.save")})]})})]})]})]})]})]})})]})})},UV=({isOpen:e,onClose:t,onSuccess:a,product:n,categories:s,onOpenIngredientUpdate:i})=>{const{t:o,isRTL:l}=qe(),[c,u]=p.useState({name:n.name,description:n.description||"",price:n.price,categoryId:n.categoryId,isAvailable:n.isAvailable,imageUrl:n.imageUrl||"",imageFile:null}),[g,h]=p.useState(!1),[x,b]=p.useState(!1),[y,k]=p.useState(null),[v,j]=p.useState({}),[S,C]=p.useState(""),[P,E]=p.useState(!1),[A,I]=p.useState(""),M=p.useRef(null);p.useEffect(()=>{e&&n.imageUrl&&n.imageUrl!=="string"&&n.imageUrl.trim()!==""?C(n.imageUrl):C("")},[e,n.imageUrl]);const F=(z,$)=>{u(_=>({..._,[z]:$})),v[z]&&j(_=>({..._,[z]:""}))},Q=z=>{z.preventDefault(),z.stopPropagation(),z.type==="dragenter"||z.type==="dragover"?E(!0):z.type==="dragleave"&&E(!1)},U=z=>{z.preventDefault(),z.stopPropagation(),E(!1);const $=z.dataTransfer.files;$&&$[0]&&V($[0])},V=z=>{if(!z.type.startsWith("image/")){j(_=>({..._,image:o("editProductModal.errors.imageInvalid")}));return}if(z.size>5*1024*1024){j(_=>({..._,image:o("editProductModal.errors.imageTooLarge")}));return}u(_=>({..._,imageFile:z}));const $=new FileReader;$.onload=_=>{C(_.target?.result)},$.readAsDataURL(z),j(_=>({..._,image:""}))},K=z=>{const $=z.target.files?.[0];$&&V($)},Z=async()=>{if(!c.imageFile)return null;try{b(!0),N.info("Görsel yükleniyor",{fileName:c.imageFile.name});const z=await Wi.uploadFile(c.imageFile);return N.info("Görsel başarıyla yüklendi",{imageUrl:z}),z}catch(z){return N.error("❌ Görsel yüklenirken hata:",z),j($=>({...$,image:o("editProductModal.errors.imageUploadFailed")})),null}finally{b(!1)}},ie=()=>{u(z=>({...z,imageFile:null,imageUrl:""})),C(""),M.current&&(M.current.value="")},te=async()=>{h(!0),k(null),j({});try{let z=c.imageUrl;if(c.imageFile){const Y=await Z();if(!Y)return;z=Y}const $={name:c.name,description:c.description,price:c.price,categoryId:c.categoryId,isAvailable:c.isAvailable,imageUrl:z},_=await Vt.updateProduct(n.id,$);N.info("Ürün başarıyla güncellendi",{productId:n.id,updatedProductId:_.id}),i&&i(n.id,n.name),a(),t()}catch(z){if(N.error("Ürün güncelleme hatası:",z),z.response?.data?.errors)j(z.response.data.errors);else if(z.response?.data?.message){const $=z.response.data.message;z.response?.status===400?$.toLowerCase().includes("already exists")||$.toLowerCase().includes("zaten mevcut")||$.toLowerCase().includes("duplicate")?j({name:o("editProductModal.errors.nameAlreadyExists")}):k($||o("editProductModal.errors.updateFailed")):z.response?.status===404?k(o("editProductModal.errors.productNotFound")):z.response?.status===403?k(o("editProductModal.errors.permissionDenied")):z.response?.status>=500?k(o("editProductModal.errors.serverError")):k($||o("editProductModal.errors.updateFailed"))}else z.code==="NETWORK_ERROR"||!z.response?k(o("editProductModal.errors.networkError")):k(o("editProductModal.errors.updateFailed"))}finally{h(!1)}},R=c.name.length,D=c.description.length,W=100,X=500,B=R>=2&&R<=W,H=c.name.trim()&&c.price>0&&c.categoryId;return r.jsx(jt,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",dir:l?"rtl":"ltr",children:[r.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-gradient-to-br from-black/70 via-black/60 to-black/70 backdrop-blur-md",onClick:t}),r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs(re.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{type:"spring",duration:.5,bounce:.3},className:"relative w-full max-w-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 blur-3xl rounded-3xl"}),r.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"relative overflow-hidden flex-shrink-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 via-blue-600 to-purple-600"}),r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative px-8 py-6",children:[r.jsx("button",{onClick:t,type:"button",className:`absolute top-6 ${l?"left-6":"right-6"} p-2.5 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110 text-white z-10`,children:r.jsx(at,{className:"w-5 h-5"})}),r.jsxs("div",{className:`flex items-start gap-4 ${l?"flex-row-reverse":""}`,children:[r.jsxs(re.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.2,duration:.6},className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-white/30 blur-xl rounded-2xl"}),r.jsx("div",{className:"relative p-4 bg-white/20 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg",children:r.jsx(Vo,{className:"w-8 h-8 text-white"})})]}),r.jsxs("div",{className:"flex-1 pt-1",children:[r.jsx(re.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl font-bold text-white mb-2",children:o("editProductModal.title")}),r.jsx(re.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"text-white/80 text-sm leading-relaxed",children:o("editProductModal.subtitle")||"Update product information"})]})]})]})]}),r.jsxs("div",{className:"overflow-y-auto flex-1 p-8 space-y-6",children:[r.jsx(jt,{children:y&&r.jsxs(re.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 to-red-600/10"}),r.jsx("div",{className:"relative p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl",children:r.jsxs("div",{className:`flex items-start gap-3 ${l?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"p-1.5 bg-red-100 dark:bg-red-800/30 rounded-lg",children:r.jsx(lt,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-300 mb-1",children:o("editProductModal.errors.errorLabel")}),r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:y})]})]})})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 ${l?"flex-row-reverse":""}`,children:[r.jsx(Qk,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("editProductModal.form.productImage.label")})]}),S?r.jsx(re.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative group",children:r.jsxs("div",{className:"relative rounded-2xl overflow-hidden",children:[r.jsx("img",{src:S,alt:"Preview",className:"w-full h-56 object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsx("button",{type:"button",onClick:ie,className:`absolute top-4 ${l?"left-4":"right-4"} p-2.5 bg-red-600 hover:bg-red-700 text-white rounded-xl shadow-lg transition-all duration-200 transform hover:scale-110 opacity-0 group-hover:opacity-100`,children:r.jsx(at,{className:"w-4 h-4"})})]})}):r.jsx("div",{className:`relative border-2 border-dashed rounded-2xl p-8 text-center cursor-pointer transition-all duration-300 ${P?"border-blue-400 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/30 dark:to-blue-900/20 scale-105":v.image?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10":"border-gray-300 dark:border-gray-600 hover:border-blue-400 hover:bg-gradient-to-br hover:from-blue-50/50 hover:to-transparent dark:hover:from-blue-950/20"}`,onClick:()=>M.current?.click(),onDragEnter:Q,onDragLeave:Q,onDragOver:Q,onDrop:U,children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(re.div,{animate:{y:P?-10:0,scale:P?1.1:1},className:`p-4 rounded-2xl ${P?"bg-blue-600 shadow-lg shadow-blue-500/50":"bg-gray-100 dark:bg-gray-700"}`,children:r.jsx(li,{className:`h-10 w-10 ${P?"text-white":"text-gray-400 dark:text-gray-500"}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-base font-semibold text-gray-700 dark:text-gray-300 mb-1",children:o(P?"editProductModal.imageUpload.dragActive":"editProductModal.imageUpload.clickToUpload")}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[o("editProductModal.imageUpload.supportedFormats")," • ",o("editProductModal.imageUpload.maxSize")]})]})]})}),r.jsx("input",{title:"image upload",ref:M,type:"file",accept:"image/*",onChange:K,className:"hidden"}),r.jsx(jt,{children:v.image&&r.jsxs(re.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(lt,{className:"w-4 h-4"}),v.image]})})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"name",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(sd,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("editProductModal.form.productName.label")}),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",id:"name",value:c.name,onChange:z=>F("name",z.target.value),onFocus:()=>I("name"),onBlur:()=>I(""),maxLength:W,className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${v.name?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":A==="name"?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-900/10 focus:ring-4 focus:ring-blue-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400"} focus:outline-none`,placeholder:o("editProductModal.form.productName.placeholder"),"aria-required":"true"}),r.jsxs("div",{className:`absolute ${l?"left-4":"right-4"} top-1/2 -translate-y-1/2 flex items-center gap-2`,children:[c.name&&B&&!v.name&&r.jsx(re.div,{initial:{scale:0},animate:{scale:1},children:r.jsx(ai,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),r.jsxs("span",{className:"text-xs text-gray-400",children:[R,"/",W]})]})]}),r.jsx(jt,{children:v.name&&r.jsxs(re.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(lt,{className:"w-4 h-4"}),v.name]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"price",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(Qr,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("editProductModal.form.price.label")}),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",id:"price",value:c.price||"",onChange:z=>{const $=z.target.value;if($==="")F("price",0);else{const _=parseFloat($);isNaN(_)||F("price",_)}},onFocus:()=>I("price"),onBlur:()=>I(""),step:"0.01",min:"0",className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${v.price?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":A==="price"?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-900/10 focus:ring-4 focus:ring-blue-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400"} focus:outline-none ${l?"pl-12":"pr-12"}`,placeholder:"0.00","aria-required":"true"}),r.jsx("div",{className:`absolute ${l?"left-4":"right-4"} top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 font-medium`,children:o("editProductModal.form.price.currency")})]}),r.jsx(jt,{children:v.price&&r.jsxs(re.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(lt,{className:"w-4 h-4"}),v.price]})})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"categoryId",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(Vn,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("editProductModal.form.category.label")}),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{id:"categoryId",value:c.categoryId,onChange:z=>F("categoryId",z.target.value),onFocus:()=>I("categoryId"),onBlur:()=>I(""),className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 text-gray-900 dark:text-white ${v.categoryId?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":A==="categoryId"?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-900/10 focus:ring-4 focus:ring-blue-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400"} focus:outline-none`,"aria-required":"true",children:[r.jsx("option",{value:"",children:o("editProductModal.form.category.placeholder")}),s.map(z=>r.jsx("option",{value:z.categoryId,children:z.categoryName},z.categoryId))]}),r.jsx(jt,{children:v.categoryId&&r.jsxs(re.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(lt,{className:"w-4 h-4"}),v.categoryId]})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"description",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(da,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("editProductModal.form.description.label")})]}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{id:"description",value:c.description,onChange:z=>F("description",z.target.value),onFocus:()=>I("description"),onBlur:()=>I(""),maxLength:X,rows:3,className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 resize-none text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${v.description?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":A==="description"?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-900/10 focus:ring-4 focus:ring-blue-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400"} focus:outline-none`,placeholder:o("editProductModal.form.description.placeholder")}),r.jsxs("div",{className:`absolute ${l?"left-4":"right-4"} bottom-3 text-xs text-gray-400`,children:[D,"/",X]})]}),r.jsx(jt,{children:v.description&&r.jsxs(re.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(lt,{className:"w-4 h-4"}),v.description]})})]}),r.jsx("div",{className:"rounded-2xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700/50 dark:to-gray-800/50 p-5 border border-gray-200 dark:border-gray-600",children:r.jsxs("label",{className:`flex items-center gap-4 cursor-pointer group ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"checkbox",checked:c.isAvailable,onChange:z=>F("isAvailable",z.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-14 h-7 bg-gray-300 dark:bg-gray-600 peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-emerald-500 peer-checked:to-emerald-600 shadow-inner"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white block mb-1",children:o("editProductModal.form.status.label")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed",children:o("editProductModal.form.status.description")})]})]})})]}),r.jsx("div",{className:"flex-shrink-0 px-8 py-6 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:`flex gap-3 ${l?"flex-row-reverse":""}`,children:[r.jsx("button",{type:"button",onClick:t,disabled:g||x,className:"flex-1 px-6 py-4 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl font-semibold transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed border border-gray-300 dark:border-gray-600",children:o("editProductModal.buttons.cancel")}),r.jsxs("button",{type:"button",onClick:te,disabled:g||x||!H,className:"flex-1 px-6 py-4 text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed rounded-xl font-semibold transition-all duration-200 hover:scale-105 active:scale-95 hover:shadow-lg hover:shadow-blue-500/50 disabled:hover:shadow-none relative overflow-hidden group",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),r.jsx("span",{className:`relative flex items-center justify-center gap-2 ${l?"flex-row-reverse":""}`,children:g||x?r.jsxs(r.Fragment,{children:[r.jsx(ot,{className:"w-5 h-5 animate-spin"}),r.jsx("span",{children:o(x?"editProductModal.buttons.uploading":"editProductModal.buttons.updating")})]}):r.jsxs(r.Fragment,{children:[r.jsx(ai,{className:"w-5 h-5"}),r.jsx("span",{children:o("editProductModal.buttons.update")})]})})]})]})})]})]})})]})})};class qV{baseUrl="/api";async createIngredient(t){try{const a={name:t.name,isAllergenic:t.isAllergenic,isAvailable:t.isAvailable,allergenIds:t.allergenIds,allergenDetails:t.allergenDetails};N.info("Malzeme ekleme isteği gönderiliyor",{payload:a});const n=await se.post(`${this.baseUrl}/Ingredients`,a);return N.info("Malzeme başarıyla eklendi",{data:n.data}),{id:n.data.ingredientId,name:n.data.name,isAllergenic:n.data.isAllergenic,isAvailable:n.data.isAvailable,allergenIds:n.data.allergens?.map(i=>i.id)||[],allergenDetails:n.data.allergens?.map(i=>({allergenId:i.id,containsAllergen:i.containsAllergen!==null?i.containsAllergen:!0,note:i.note||""}))||[]}}catch(a){throw N.error("❌ Malzeme eklenirken hata:",a),a}}async updateIngredient(t){try{const a={ingredientId:t.id,name:t.name,isAllergenic:t.isAllergenic,isAvailable:t.isAvailable,allergenIds:t.allergenIds,allergenDetails:t.allergenDetails};N.info("Malzeme güncelleme isteği gönderiliyor",{id:t.id,payload:a});const n=await se.put(`${this.baseUrl}/Ingredients`,a);return N.info("Malzeme başarıyla güncellendi",{data:n.data}),{id:n.data.ingredientId,name:n.data.name,isAllergenic:n.data.isAllergenic,isAvailable:n.data.isAvailable,allergenIds:n.data.allergens?.map(i=>i.id)||[],allergenDetails:n.data.allergens?.map(i=>({allergenId:i.id,containsAllergen:i.containsAllergen!==null?i.containsAllergen:!0,note:i.note||""}))||[]}}catch(a){throw N.error("❌ Malzeme güncellenirken hata:",a),a}}async getIngredients(){try{N.info("Malzeme listesi getiriliyor");const t=await se.get(`${this.baseUrl}/Ingredients`,{params:{includes:"allergens"}});return N.info("Malzeme listesi başarıyla getirildi",{count:t.data.length}),t.data.map(n=>({id:n.ingredientId,name:n.name,isAllergenic:n.isAllergenic,isAvailable:n.isAvailable,allergenIds:n.allergens?.map(s=>s.id)||[],allergenDetails:n.allergens?.map(s=>({allergenId:s.id,containsAllergen:s.containsAllergen!==null?s.containsAllergen:!0,note:s.note||""}))||[]}))}catch(t){throw N.error("❌ Malzeme listesi getirilirken hata:",t),t}}async getIngredientById(t){try{N.info("Malzeme detayı getiriliyor",{id:t});const a=await se.get(`${this.baseUrl}/Ingredients/${t}`);return N.info("Malzeme detayı başarıyla getirildi",{data:a.data}),{id:a.data.ingredientId,name:a.data.name,isAllergenic:a.data.isAllergenic,isAvailable:a.data.isAvailable,allergenIds:a.data.allergens?.map(s=>s.id)||[],allergenDetails:a.data.allergens?.map(s=>({allergenId:s.id,containsAllergen:s.containsAllergen!==null?s.containsAllergen:!0,note:s.note||""}))||[]}}catch(a){throw N.error("❌ Malzeme detayı getirilirken hata:",a),a}}async deleteIngredient(t){try{N.info("Malzeme silme isteği gönderiliyor",{id:t}),await se.delete(`${this.baseUrl}/Ingredients/${t}`),N.info("Malzeme başarıyla silindi",{id:t})}catch(a){throw N.error("❌ Malzeme silinirken hata:",a),a}}}const oc=new qV,WV=({isOpen:e,onClose:t,onSuccess:a,productId:n,productName:s})=>{const{t:i,isRTL:o}=qe(),[l,c]=p.useState([]),[u,g]=p.useState([]),[h,x]=p.useState([]),[b,y]=p.useState(""),[k,v]=p.useState(!1),[j,S]=p.useState(!1),[C,P]=p.useState(null),E=()=>[{value:"g",label:i("productIngredientModal.units.grams")},{value:"ml",label:i("productIngredientModal.units.milliliters")},{value:"piece",label:i("productIngredientModal.units.pieces")},{value:"tbsp",label:i("productIngredientModal.units.tablespoons")},{value:"tsp",label:i("productIngredientModal.units.teaspoons")},{value:"cup",label:i("productIngredientModal.units.cups")},{value:"kg",label:i("productIngredientModal.units.kilograms")},{value:"l",label:i("productIngredientModal.units.liters")}],A=async()=>{if(e){v(!0),P(null);try{const V=await oc.getIngredients();c(V);try{const Z=(await Vt.getProductIngredients(n)).map(ie=>({ingredientId:ie.ingredientId||ie.id,quantity:ie.quantity||0,unit:ie.unit||"piece"}));x(Z),g([...Z]),N.info("Mevcut ürün malzemeleri yüklendi",{productId:n,currentIngredients:Z})}catch{N.info("Ürün malzemeleri bulunamadı (yeni ürün olabilir)",{productId:n}),x([]),g([])}N.info("Malzeme verileri yüklendi",{ingredientCount:V.length})}catch(V){N.error("Malzeme verileri yüklenirken hata:",V),P(i("productIngredientModal.errors.loadingData"))}finally{v(!1)}}};p.useEffect(()=>{e&&(A(),y(""))},[e,n]);const I=V=>{g(K=>K.some(Z=>Z.ingredientId===V)?K.filter(Z=>Z.ingredientId!==V):[...K,{ingredientId:V,quantity:1,unit:"piece"}])},M=(V,K,Z)=>{g(ie=>ie.map(te=>te.ingredientId===V?{...te,[K]:K==="quantity"?parseFloat(Z)||0:Z}:te))},F=async()=>{S(!0),P(null);for(const V of u){if(V.quantity<=0){P(i("productIngredientModal.errors.quantityRequired")),S(!1);return}if(!V.unit){P(i("productIngredientModal.errors.unitRequired")),S(!1);return}}try{const V=h.map(R=>R.ingredientId),K=u.map(R=>R.ingredientId),Z=V.filter(R=>!K.includes(R));for(const R of Z)try{await Vt.removeIngredientFromProduct(n,R),N.info("Malzeme başarıyla silindi",{productId:n,ingredientId:R})}catch(D){N.error("Malzeme silinirken hata:",{productId:n,ingredientId:R,error:D})}const ie=u.filter(R=>!V.includes(R.ingredientId));ie.length>0&&(await Vt.addIngredientsToProduct(n,ie),N.info("Yeni malzemeler başarıyla eklendi",{productId:n,addedCount:ie.length}));const te=u.filter(R=>V.includes(R.ingredientId));for(const R of te){const D=h.find(W=>W.ingredientId===R.ingredientId);if(D&&(D.quantity!==R.quantity||D.unit!==R.unit))try{await Vt.removeIngredientFromProduct(n,R.ingredientId),await Vt.addIngredientsToProduct(n,[R]),N.info("Malzeme miktarı/birimi güncellendi",{productId:n,ingredientId:R.ingredientId,oldQuantity:D.quantity,newQuantity:R.quantity,oldUnit:D.unit,newUnit:R.unit})}catch(W){N.error("Malzeme güncellenirken hata:",{productId:n,ingredientId:R.ingredientId,error:W})}}N.info("Ürün malzemeleri başarıyla kaydedildi",{productId:n,totalSelected:u.length,removed:Z.length,added:ie.length,updated:te.length}),a(),t()}catch(V){N.error("Malzemeler kaydedilirken hata:",V),P(i("productIngredientModal.errors.savingIngredients"))}finally{S(!1)}},Q=l.filter(V=>V.name.toLowerCase().includes(b.toLowerCase())),U=V=>V?.length?i("productIngredientModal.allergenInfo.count",{count:V.length}):"";return r.jsx(jt,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",dir:o?"rtl":"ltr",children:[r.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-gradient-to-br from-black/70 via-black/60 to-black/70 backdrop-blur-md",onClick:t}),r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs(re.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{type:"spring",duration:.5,bounce:.3},className:"relative w-full max-w-6xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/20 via-amber-500/20 to-yellow-500/20 blur-3xl rounded-3xl"}),r.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"relative overflow-hidden flex-shrink-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500 via-amber-600 to-yellow-600"}),r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative px-8 py-6",children:[r.jsx("button",{onClick:t,className:`absolute top-6 ${o?"left-6":"right-6"} p-2.5 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110 text-white z-10`,children:r.jsx(at,{className:"w-5 h-5"})}),r.jsxs("div",{className:`flex items-start gap-4 ${o?"flex-row-reverse":""}`,children:[r.jsxs(re.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.2,duration:.6},className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-white/30 blur-xl rounded-2xl"}),r.jsx("div",{className:"relative p-4 bg-white/20 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg",children:r.jsx(rc,{className:"w-8 h-8 text-white"})})]}),r.jsxs("div",{className:"flex-1 pt-1",children:[r.jsx(re.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl font-bold text-white mb-2",children:i("productIngredientModal.title")}),r.jsxs(re.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"text-white/80 text-sm leading-relaxed",children:[r.jsx("strong",{children:s})," ",i("productIngredientModal.subtitle")]})]})]})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-6",children:[r.jsx(jt,{children:C&&r.jsxs(re.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 to-red-600/10"}),r.jsx("div",{className:"relative p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl",children:r.jsxs("div",{className:`flex items-start gap-3 ${o?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"p-1.5 bg-red-100 dark:bg-red-800/30 rounded-lg",children:r.jsx(lt,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),r.jsx("span",{className:"text-sm text-red-700 dark:text-red-400",children:C})]})})]})}),r.jsxs("div",{className:"relative",children:[r.jsx(Ja,{className:`absolute top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 ${o?"right-4":"left-4"}`}),r.jsx("input",{type:"text",placeholder:i("productIngredientModal.search.placeholder"),value:b,onChange:V=>y(V.target.value),className:`w-full py-3 border-2 border-gray-300 dark:border-gray-600 rounded-2xl focus:ring-4 focus:ring-orange-500/20 focus:border-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-all duration-200 ${o?"pr-11 pl-4":"pl-11 pr-4"}`})]}),r.jsx("div",{className:"p-5 bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/10 dark:to-amber-900/10 rounded-2xl border border-orange-200 dark:border-orange-800",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[i("productIngredientModal.summary.selectedCount"),":",r.jsx("span",{className:"ml-2 px-3 py-1 bg-orange-100 dark:bg-orange-800/50 text-orange-700 dark:text-orange-300 rounded-lg font-bold",children:u.length})]}),JSON.stringify(u)!==JSON.stringify(h)&&r.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/30 px-3 py-1.5 rounded-lg",children:[r.jsx(oa,{className:"w-3 h-3"}),i("productIngredientModal.summary.hasChanges")]})]})}),r.jsx("div",{children:k?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(ot,{className:"w-8 h-8 animate-spin text-orange-600 mb-3"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:i("productIngredientModal.loading.ingredients")})]}):Q.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500 dark:text-gray-400",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx("div",{className:"absolute inset-0 bg-orange-500/10 blur-2xl rounded-full"}),r.jsx(Ft,{className:"relative w-12 h-12 opacity-50"})]}),r.jsx("p",{className:"text-center font-medium",children:i(b?"productIngredientModal.emptyState.noSearchResults":"productIngredientModal.emptyState.noIngredients")})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Q.map(V=>{const K=u.some(te=>te.ingredientId===V.id),Z=h.some(te=>te.ingredientId===V.id),ie=u.find(te=>te.ingredientId===V.id);return r.jsxs("div",{className:`group relative p-4 rounded-2xl transition-all duration-300 ${K?"ring-2 ring-orange-500 bg-orange-50 dark:bg-orange-900/20 shadow-lg":"bg-white dark:bg-gray-700 hover:shadow-md border border-gray-200 dark:border-gray-600"} ${V.isAvailable?"":"opacity-60"}`,children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r.jsx("button",{onClick:()=>I(V.id),className:`mt-0.5 w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all duration-200 ${K?"bg-orange-600 border-orange-600 text-white scale-110":"border-gray-300 dark:border-gray-600 hover:border-orange-400 hover:scale-105"}`,children:K&&r.jsx(br,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2 truncate",children:V.name}),r.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[r.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-lg ${V.isAvailable?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300"}`,children:V.isAvailable?i("productIngredientModal.status.available"):i("productIngredientModal.status.unavailable")}),V.isAllergenic&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-lg bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300",children:[r.jsx(oa,{className:"w-3 h-3"}),i("productIngredientModal.status.containsAllergens")]}),Z&&!K&&r.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-2 py-1 rounded-lg font-medium",children:i("productIngredientModal.status.toBeRemoved")}),!Z&&K&&r.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-2 py-1 rounded-lg font-medium",children:i("productIngredientModal.status.toBeAdded")})]}),V.isAllergenic&&V.allergenIds?.length>0&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:U(V.allergenIds)})]})]})}),K&&r.jsx("div",{className:"mt-3 pt-3 border-t border-orange-200 dark:border-orange-800 space-y-2",children:r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 block mb-1",children:i("productIngredientModal.form.quantity.label")}),r.jsx("input",{type:"number",value:ie?.quantity||1,onChange:te=>M(V.id,"quantity",te.target.value),min:"0",step:"0.1",className:"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-xl text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 block mb-1",children:i("productIngredientModal.form.unit.label")}),r.jsx("select",{title:"Unit",value:ie?.unit||"piece",onChange:te=>M(V.id,"unit",te.target.value),className:"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-xl text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",children:E().map(te=>r.jsx("option",{value:te.value,children:te.label},te.value))})]})]})})]},V.id)})})})]}),r.jsx("div",{className:"flex-shrink-0 px-8 py-6 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.jsx("span",{className:"px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium",children:i("productIngredientModal.footer.totalCount",{count:Q.length})})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:t,disabled:j,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 rounded-xl text-gray-700 dark:text-gray-300 font-semibold hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50",children:i("productIngredientModal.buttons.skip")}),r.jsxs("button",{type:"button",onClick:F,disabled:j||k,className:"px-6 py-3 bg-gradient-to-r from-orange-600 to-amber-600 text-white rounded-xl font-semibold hover:from-orange-700 hover:to-amber-700 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed transition-all duration-200 hover:scale-105 active:scale-95 hover:shadow-lg hover:shadow-orange-500/50 flex items-center gap-2 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),r.jsx("span",{className:"relative flex items-center gap-2",children:j?r.jsxs(r.Fragment,{children:[r.jsx(ot,{className:"w-4 h-4 animate-spin"}),i("productIngredientModal.buttons.saving")]}):r.jsxs(r.Fragment,{children:[r.jsx(Nt,{className:"w-4 h-4"}),i("productIngredientModal.buttons.saveIngredients")]})})]})]})]})})]})]})})]})})},VV=({isOpen:e,onClose:t,onSuccess:a,productId:n,productName:s})=>{const{t:i,isRTL:o}=qe(),[l,c]=p.useState([]),[u,g]=p.useState(new Map),[h,x]=p.useState(""),[b,y]=p.useState(!1),[k,v]=p.useState(!1),[j,S]=p.useState(null),C=()=>[{value:"g",label:i("productIngredientModal.units.grams")},{value:"ml",label:i("productIngredientModal.units.milliliters")},{value:"piece",label:i("productIngredientModal.units.pieces")},{value:"tbsp",label:i("productIngredientModal.units.tablespoons")},{value:"tsp",label:i("productIngredientModal.units.teaspoons")},{value:"cup",label:i("productIngredientModal.units.cups")},{value:"kg",label:i("productIngredientModal.units.kilograms")},{value:"l",label:i("productIngredientModal.units.liters")}];p.useEffect(()=>{e&&P()},[e,n]);const P=async()=>{y(!0),S(null);try{const[U,V]=await Promise.all([E(),Vt.getProductIngredients(n)]);c(U);const K=new Map;V.forEach(Z=>{K.set(Z.ingredientId||Z.id,{ingredientId:Z.ingredientId||Z.id,quantity:Z.quantity||1,unit:Z.unit||"piece"})}),g(K),N.info("Malzemeler başarıyla yüklendi",{totalIngredients:U.length,selectedCount:K.size,productId:n})}catch(U){N.error("Malzemeler yüklenirken hata:",U),S(i("ProductIngredientUpdateModal.errors.loadingIngredients"))}finally{y(!1)}},E=async()=>{try{return(await oc.getIngredients()).map(V=>({id:V.ingredientId||V.id,name:V.ingredientName||V.name||"Unknown Ingredient",unit:V.unit||"piece",price:V.price||0}))}catch(U){throw N.error("Tüm malzemeler alınamadı:",U),U}},A=U=>{const V=new Map(u);V.has(U.id)?V.delete(U.id):V.set(U.id,{ingredientId:U.id,quantity:1,unit:U.unit||"piece"}),g(V)},I=(U,V)=>{const K=new Map(u),Z=K.get(U);Z&&V>0&&(K.set(U,{...Z,quantity:V}),g(K))},M=(U,V)=>{const K=new Map(u),Z=K.get(U);Z&&(K.set(U,{...Z,unit:V}),g(K))},F=async()=>{v(!0),S(null);for(const[U,V]of u.entries()){if(V.quantity<=0){S(i("productIngredientModal.errors.quantityRequired")),v(!1);return}if(!V.unit){S(i("productIngredientModal.errors.unitRequired")),v(!1);return}}try{const U=await Vt.getProductIngredients(n),V=new Set(U.map(R=>R.ingredientId||R.id)),K=new Set(u.keys()),Z=Array.from(V).filter(R=>!K.has(R)),ie=Array.from(u.entries()).filter(([R])=>!V.has(R)).map(([R,D])=>D);for(const R of Z)await Vt.removeIngredientFromProduct(n,R);ie.length>0&&await Vt.addIngredientsToProduct(n,ie);const te=Array.from(u.entries()).filter(([R])=>V.has(R));for(const[R,D]of te){const W=U.find(X=>(X.ingredientId||X.id)===R);W&&(W.quantity!==D.quantity||W.unit!==D.unit)&&(await Vt.removeIngredientFromProduct(n,R),await Vt.addIngredientsToProduct(n,[D]))}N.info("Product ingredients updated successfully",{productId:n,removed:Z.length,added:ie.length,updated:te.length}),a(),t()}catch(U){N.error("Error saving ingredients:",U),S(i("ProductIngredientUpdateModal.errors.savingIngredients"))}finally{v(!1)}},Q=l.filter(U=>U.name.toLowerCase().includes(h.toLowerCase()));return r.jsx(jt,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",dir:o?"rtl":"ltr",children:[r.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-gradient-to-br from-black/70 via-black/60 to-black/70 backdrop-blur-md",onClick:t}),r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs(re.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{type:"spring",duration:.5,bounce:.3},className:"relative w-full max-w-6xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/20 via-amber-500/20 to-yellow-500/20 blur-3xl rounded-3xl"}),r.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"relative overflow-hidden flex-shrink-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br "}),r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative px-8 py-6",children:[r.jsx("button",{onClick:t,className:`absolute top-6 ${o?"left-6":"right-6"} p-2.5 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110 text-white z-10`,children:r.jsx(at,{className:"w-5 h-5"})}),r.jsxs("div",{className:`flex items-start gap-4 ${o?"flex-row-reverse":""}`,children:[r.jsxs(re.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.2,duration:.6},className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-white/30 blur-xl rounded-2xl"}),r.jsx("div",{className:"relative p-4 bg-white/20 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg",children:r.jsx(rc,{className:"w-8 h-8 text-white"})})]}),r.jsxs("div",{className:"flex-1 pt-1",children:[r.jsx(re.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl font-bold text-white mb-2",children:i("ProductIngredientUpdateModal.title")}),r.jsxs(re.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"text-white/80 text-sm leading-relaxed",children:[s," (ID: ",n,")"]})]})]})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-6",children:[r.jsx(jt,{children:j&&r.jsxs(re.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 to-red-600/10"}),r.jsx("div",{className:"relative p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl",children:r.jsxs("div",{className:`flex items-start gap-3 ${o?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"p-1.5 bg-red-100 dark:bg-red-800/30 rounded-lg",children:r.jsx(lt,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),r.jsx("span",{className:"text-sm text-red-700 dark:text-red-400",children:j})]})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ja,{className:`absolute top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 ${o?"right-4":"left-4"}`}),r.jsx("input",{type:"text",placeholder:i("ProductIngredientUpdateModal.searchPlaceholder"),value:h,onChange:U=>x(U.target.value),className:`w-full py-3 border-2 border-gray-300 dark:border-gray-600 rounded-2xl focus:ring-4 focus:ring-orange-500/20 focus:border-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-all duration-200 ${o?"pr-11 pl-4":"pl-11 pr-4"}`,disabled:b})]}),r.jsx("div",{className:"p-4 bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/10 dark:to-amber-900/10 rounded-2xl border border-orange-200 dark:border-orange-800",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[i("ProductIngredientUpdateModal.selectedCount"),":"]}),r.jsx("span",{className:"px-3 py-1 bg-orange-100 dark:bg-orange-800/50 text-orange-700 dark:text-orange-300 rounded-lg font-bold",children:u.size})]})})]}),b?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(ot,{className:"w-8 h-8 animate-spin text-orange-600 mb-3"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:i("ProductIngredientUpdateModal.loadingIngredients")})]}):Q.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500 dark:text-gray-400",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx("div",{className:"absolute inset-0 bg-orange-500/10 blur-2xl rounded-full"}),r.jsx(Ft,{className:"relative w-12 h-12 opacity-50"})]}),r.jsx("p",{className:"text-center font-medium",children:i(h?"ProductIngredientUpdateModal.noIngredientsFoundSearch":"ProductIngredientUpdateModal.noIngredientsFound")})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Q.map(U=>{const V=u.has(U.id),K=u.get(U.id);return r.jsxs("div",{className:`group relative p-4 rounded-2xl transition-all duration-300 cursor-pointer ${V?"ring-2 ring-blue-500 bg-orange-50 dark:bg-blue-900/20 shadow-lg":"bg-white dark:bg-gray-700 hover:shadow-md border border-gray-200 dark:border-gray-600"}`,onClick:()=>A(U),children:[r.jsx("div",{className:`absolute top-4 ${o?"left-4":"right-4"} w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all duration-200 ${V?"bg-blue-600 border-blue-600 text-white scale-110":"border-gray-300 dark:border-gray-600 hover:border-orange-400 hover:scale-105"}`,children:V&&r.jsx(br,{className:"w-4 h-4"})}),r.jsxs("div",{className:o?"pl-8":"pr-8",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:U.name}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[r.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium",children:[i("ProductIngredientUpdateModal.unit")," ",U.unit]}),U.price&&r.jsxs("span",{className:"text-xs px-2 py-1 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 rounded-lg font-medium",children:[U.price.toFixed(2)," ₺"]})]}),V&&r.jsx("div",{className:"pt-3 border-t border-orange-200 dark:border-orange-800 space-y-2",onClick:Z=>Z.stopPropagation(),children:r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 block mb-1",children:i("productIngredientModal.form.quantity.label")}),r.jsx("input",{type:"number",min:"0",step:"0.1",value:K?.quantity||1,onChange:Z=>I(U.id,parseFloat(Z.target.value)||0),className:"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-xl text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 block mb-1",children:i("productIngredientModal.form.unit.label")}),r.jsx("select",{title:"Unit",value:K?.unit||"piece",onChange:Z=>M(U.id,Z.target.value),className:"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-xl text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",children:C().map(Z=>r.jsx("option",{value:Z.value,children:Z.label},Z.value))})]})]})})]})]},U.id)})})]}),r.jsx("div",{className:"flex-shrink-0 px-8 py-6 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.jsxs("span",{className:"px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium",children:[u.size," ",i("ProductIngredientUpdateModal.selectedCount")]})}),r.jsxs("div",{className:`flex gap-3 ${o?"flex-row-reverse":""}`,children:[r.jsx("button",{onClick:t,disabled:k,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 rounded-xl text-gray-700 dark:text-gray-300 font-semibold hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50",children:i("ProductIngredientUpdateModal.cancel")}),r.jsxs("button",{onClick:F,disabled:k||b,className:"px-6 py-3 bg-gradient-to-r from-orange-600 to-amber-600 text-white rounded-xl font-semibold hover:from-orange-700 hover:to-amber-700 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed transition-all duration-200 hover:scale-105 active:scale-95 hover:shadow-lg hover:shadow-orange-500/50 flex items-center gap-2 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),r.jsx("span",{className:"relative flex items-center gap-2",children:k?r.jsxs(r.Fragment,{children:[r.jsx(ot,{className:"w-4 h-4 animate-spin"}),i("ProductIngredientUpdateModal.saving")]}):r.jsxs(r.Fragment,{children:[r.jsx(Ta,{className:"w-4 h-4"}),i("ProductIngredientUpdateModal.save")]})})]})]})]})})]})]})})]})})},HV=({addon:e,onRemove:t,isEditing:a,onEdit:n,onSaveEdit:s,onCancelEdit:i,editingData:o,onEditingDataChange:l})=>{const{t:c}=qe(),{attributes:u,listeners:g,setNodeRef:h,transform:x,transition:b,isDragging:y}=fw({id:e.id}),k={transform:di.Transform.toString(x),transition:b,opacity:y?.5:1},v=e.addonProduct,j=v?.imageUrl&&v.imageUrl.trim()!=="";return r.jsxs("div",{ref:h,style:k,className:`group relative bg-white dark:bg-gray-800 rounded-2xl overflow-hidden transition-all duration-300 ${y?"shadow-2xl shadow-primary-500/20 ring-2 ring-primary-500 scale-105":"shadow-sm hover:shadow-lg border border-gray-200 dark:border-gray-700"}`,children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}),r.jsxs("div",{className:"p-4 flex items-start gap-4",children:[r.jsx("button",{...u,...g,className:"mt-2 p-2 text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-lg cursor-grab active:cursor-grabbing transition-all duration-200 hover:scale-110",children:r.jsx(qu,{className:"h-4 w-4"})}),r.jsx("div",{className:"flex-shrink-0",children:j?r.jsx("div",{className:"relative group/image",children:r.jsx("img",{src:v.imageUrl,alt:v?.name,className:"w-20 h-20 rounded-xl object-cover bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 ring-2 ring-gray-200 dark:ring-gray-700",loading:"lazy"})}):r.jsx("div",{className:"w-20 h-20 rounded-xl bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center ring-2 ring-gray-200 dark:ring-gray-700",children:r.jsx(Ft,{className:"h-8 w-8 text-gray-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:v?.name||`Product ID: ${e.addonProductId}`}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-sm font-medium bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 rounded-lg",children:[r.jsx(Qr,{className:"h-3 w-3"}),v?.price?.toFixed(2)||"0.00"," ₺"]}),e.isRecommended&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 rounded-lg",children:[r.jsx(Ya,{className:"h-3 w-3 fill-current"}),c("productAddonsModal.form.isRecommended.badge")]})]})]}),r.jsx("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-700/50 rounded-xl p-1",children:a?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>s(e.id),className:"p-2 text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-all duration-200",children:r.jsx(Ta,{className:"h-4 w-4"})}),r.jsx("button",{onClick:i,className:"p-2 text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-all duration-200",children:r.jsx(fa,{className:"h-4 w-4"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>n(e.id),className:"p-2 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all duration-200",children:r.jsx(Vo,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>t(e.id),className:"p-2 text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200",children:r.jsx(er,{className:"h-4 w-4"})})]})})]}),a?r.jsxs("div",{className:"space-y-3 mt-3 p-3 bg-gray-50 dark:bg-gray-700/30 rounded-xl",children:[r.jsx("textarea",{value:o.marketingText,onChange:S=>l("marketingText",S.target.value),placeholder:c("productAddonsModal.form.marketingText.placeholder"),className:"w-full px-3 py-2 text-sm border-2 border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none transition-all duration-200",rows:2}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:o.isRecommended,onChange:S=>l("isRecommended",S.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-10 h-5 bg-gray-300 dark:bg-gray-600 peer-focus:ring-2 peer-focus:ring-primary-500 rounded-full peer peer-checked:after:translate-x-5 peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-yellow-500 peer-checked:to-yellow-600"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:c("productAddonsModal.form.isRecommended.label")})]})]}):r.jsxs(r.Fragment,{children:[e.marketingText&&r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 italic mt-2 p-2 bg-gray-50 dark:bg-gray-700/30 rounded-lg",children:['"',e.marketingText,'"']}),v?.description&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 line-clamp-2 mt-2",children:v.description})]})]})]})]})},KV=({isOpen:e,onClose:t,onSuccess:a,productId:n,productName:s})=>{const{t:i,isRTL:o}=qe(),[l,c]=p.useState([]),[u,g]=p.useState([]),[h,x]=p.useState(""),[b,y]=p.useState(new Map),[k,v]=p.useState(!1),[j,S]=p.useState(!1),[C,P]=p.useState(null),[E,A]=p.useState(null),[I,M]=p.useState({marketingText:"",isRecommended:!1}),F=QM(Jg(up,{activationConstraint:{distance:8}}),Jg(cp,{coordinateGetter:kI})),Q=async()=>{if(e){v(!0),P(null);try{const[z,$]=await Promise.all([Ci.getProductAddons(n),Vt.getCategories()]),_=$.flatMap(q=>q.products.map(G=>({id:G.id,name:G.name,price:G.price,imageUrl:G.imageUrl||"",description:G.description||"",isAvailable:G.isAvailable,categoryId:q.categoryId,categoryName:q.categoryName})));c(z),g(_);const Y=new Map;z.forEach(q=>{Y.set(q.addonProductId,{productId:q.addonProductId,marketingText:q.marketingText||"",isRecommended:q.isRecommended})}),y(Y),N.info("Eklenti verileri yüklendi",{productId:n,currentAddons:z.length,availableProducts:_.length})}catch(z){N.error("Eklenti verileri yüklenirken hata:",z),P(i("productAddonsModal.errors.loadingData"))}finally{v(!1)}}};p.useEffect(()=>{e&&(Q(),x(""),A(null))},[e,n]);const U=z=>{const $=new Map(b);$.has(z)?$.delete(z):$.set(z,{productId:z,marketingText:"",isRecommended:!1}),y($)},V=(z,$,_)=>{const Y=new Map(b),q=Y.get(z);q&&(Y.set(z,{...q,[$]:_}),y(Y))},K=async(z,$)=>{try{await Ci.updateProductAddon({id:z,...$}),c(_=>_.map(Y=>Y.id===z?{...Y,...$}:Y))}catch(_){N.error("Eklenti güncellenirken hata:",_),P(i("productAddonsModal.errors.updatingAddon"))}},Z=async z=>{try{const $=l.find(Y=>Y.id===z);if(!$)return;await Ci.deleteProductAddon(z),c(Y=>Y.filter(q=>q.id!==z));const _=new Map(b);_.delete($.addonProductId),y(_)}catch($){N.error("Eklenti silinirken hata:",$),P(i("productAddonsModal.errors.deletingAddon"))}},ie=async z=>{const{active:$,over:_}=z;if(!_||$.id===_.id)return;const Y=l.findIndex(ee=>ee.id===$.id),q=l.findIndex(ee=>ee.id===_.id),G=Qd(l,Y,q);c(G);try{const ee=G.map((ue,le)=>({addonId:ue.id,newDisplayOrder:le+1}));await Ci.reorderProductAddons(n,ee)}catch(ee){N.error("Eklenti sıralaması kaydedilirken hata:",ee),P(i("productAddonsModal.errors.savingOrder")),Q()}},te=z=>{const $=l.find(_=>_.id===z);$&&(A(z),M({marketingText:$.marketingText||"",isRecommended:$.isRecommended}))},R=async z=>{await K(z,I),A(null)},D=()=>{A(null),M({marketingText:"",isRecommended:!1})},W=(z,$)=>{M(_=>({..._,[z]:$}))},X=async()=>{S(!0),P(null);try{const z=new Set(l.map(q=>q.addonProductId)),$=new Set(b.keys()),_=Array.from($).filter(q=>!z.has(q)),Y=l.filter(q=>!$.has(q.addonProductId));for(const q of Y)await Ci.deleteProductAddon(q.id);if(_.length>0){const q=_.map(G=>{const ee=b.get(G);return{addonProductId:G,isRecommended:ee?.isRecommended||!1,marketingText:ee?.marketingText||""}});await Ci.addMultipleAddons(n,q)}for(const q of l){const G=b.get(q.addonProductId);G&&G.productId===q.addonProductId&&(q.marketingText!==G.marketingText||q.isRecommended!==G.isRecommended)&&await Ci.updateProductAddon({id:q.id,marketingText:G.marketingText,isRecommended:G.isRecommended})}N.info("Ürün eklentileri başarıyla kaydedildi",{productId:n,added:_.length,removed:Y.length}),a(),t()}catch(z){N.error("Eklentiler kaydedilirken hata:",z),P(i("productAddonsModal.errors.savingAddons"))}finally{S(!1)}},B=u.filter(z=>z.id===n?!1:z.name.toLowerCase().includes(h.toLowerCase())||z.description&&z.description.toLowerCase().includes(h.toLowerCase())),H=l.map(z=>{const $=u.find(_=>_.id===z.addonProductId);return{...z,addonProduct:$}});return r.jsx(jt,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",dir:o?"rtl":"ltr",children:[r.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-gradient-to-br from-black/70 via-black/60 to-black/70 backdrop-blur-md",onClick:t}),r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs(re.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{type:"spring",duration:.5,bounce:.3},className:"relative w-full max-w-7xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 blur-3xl rounded-3xl"}),r.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"relative overflow-hidden flex-shrink-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 via-blue-600 to-purple-600"}),r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative px-8 py-6",children:[r.jsx("button",{onClick:t,className:`absolute top-6 ${o?"left-6":"right-6"} p-2.5 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110 text-white z-10`,children:r.jsx(at,{className:"w-5 h-5"})}),r.jsxs("div",{className:`flex items-start gap-4 ${o?"flex-row-reverse":""}`,children:[r.jsxs(re.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.2,duration:.6},className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-white/30 blur-xl rounded-2xl"}),r.jsx("div",{className:"relative p-4 bg-white/20 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg",children:r.jsx(Vn,{className:"w-8 h-8 text-white"})})]}),r.jsxs("div",{className:"flex-1 pt-1",children:[r.jsx(re.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl font-bold text-white mb-2",children:i("productAddonsModal.title")}),r.jsxs(re.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"text-white/80 text-sm leading-relaxed",children:[r.jsx("strong",{children:s})," ",i("productAddonsModal.subtitle")]})]})]})]})]}),r.jsxs("div",{className:"flex-1 overflow-hidden flex",children:[r.jsxs("div",{className:"w-1/2 border-r border-gray-200 dark:border-gray-700 flex flex-col bg-gray-50/50 dark:bg-gray-900/30",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1 flex items-center gap-2",children:[i("productAddonsModal.panels.currentAddons.title"),r.jsx("span",{className:"inline-flex items-center px-2.5 py-1 text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full",children:l.length})]}),l.length>0&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i("productAddonsModal.panels.currentAddons.dragInstruction")})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:k?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(ot,{className:"w-8 h-8 animate-spin text-primary-600 mb-3"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:i("productAddonsModal.loading.addons")})]}):H.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500 dark:text-gray-400",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx("div",{className:"absolute inset-0 bg-primary-500/10 blur-2xl rounded-full"}),r.jsx(Ft,{className:"relative w-12 h-12 opacity-50"})]}),r.jsx("p",{className:"text-center font-medium mb-1",children:i("productAddonsModal.panels.currentAddons.emptyState.title")}),r.jsx("p",{className:"text-sm text-center",children:i("productAddonsModal.panels.currentAddons.emptyState.subtitle")})]}):r.jsx(pI,{sensors:F,collisionDetection:JM,onDragEnd:ie,children:r.jsx(pw,{items:H.map(z=>z.id),strategy:hw,children:r.jsx("div",{className:"space-y-3",children:H.map(z=>r.jsx(HV,{addon:z,onUpdate:K,onRemove:Z,isEditing:E===z.id,onEdit:te,onSaveEdit:R,onCancelEdit:D,editingData:I,onEditingDataChange:W},z.id))})})})})]}),r.jsxs("div",{className:"w-1/2 flex flex-col",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:i("productAddonsModal.panels.availableProducts.title")}),r.jsxs("div",{className:"relative",children:[r.jsx(Ja,{className:`absolute top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 ${o?"right-4":"left-4"}`}),r.jsx("input",{type:"text",placeholder:i("productAddonsModal.panels.availableProducts.searchPlaceholder"),value:h,onChange:z=>x(z.target.value),className:`w-full py-3 border-2 border-gray-300 dark:border-gray-600 rounded-2xl focus:ring-4 focus:ring-primary-500/20 focus:border-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-all duration-200 ${o?"pr-11 pl-4":"pl-11 pr-4"}`})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:k?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(ot,{className:"w-8 h-8 animate-spin text-primary-600 mb-3"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:i("productAddonsModal.loading.products")})]}):B.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500 dark:text-gray-400",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx("div",{className:"absolute inset-0 bg-primary-500/10 blur-2xl rounded-full"}),r.jsx(Ft,{className:"relative w-12 h-12 opacity-50"})]}),r.jsx("p",{children:i(h?"productAddonsModal.panels.availableProducts.emptyState.noResults":"productAddonsModal.panels.availableProducts.emptyState.noProducts")})]}):r.jsx("div",{className:"space-y-3",children:B.map(z=>{const $=b.has(z.id),_=b.get(z.id),Y=z.imageUrl&&z.imageUrl.trim()!=="";return r.jsxs("div",{className:`rounded-2xl transition-all duration-300 ${$?"ring-2 ring-primary-500 bg-primary-50 dark:bg-primary-900/20 shadow-lg":"bg-white dark:bg-gray-700 hover:shadow-md border border-gray-200 dark:border-gray-600"} ${z.isAvailable?"":"opacity-60"}`,children:[r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"pt-1",children:r.jsx("button",{onClick:()=>U(z.id),className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all duration-200 ${$?"bg-primary-600 border-primary-600 text-white scale-110":"border-gray-300 dark:border-gray-600 hover:border-primary-400 hover:scale-105"}`,children:$&&r.jsx(br,{className:"w-4 h-4"})})}),r.jsx("div",{className:"flex-shrink-0",children:Y?r.jsx("img",{src:z.imageUrl,alt:z.name,className:"w-16 h-16 rounded-xl object-cover bg-gray-200 dark:bg-gray-600 ring-2 ring-gray-200 dark:ring-gray-700",loading:"lazy"}):r.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center ring-2 ring-gray-200 dark:ring-gray-700",children:r.jsx(Ft,{className:"h-6 w-6 text-gray-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate mb-1",children:z.name}),z.description&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:z.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-sm font-medium bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 rounded-lg",children:[r.jsx(Qr,{className:"h-3 w-3"}),z.price.toFixed(2)," ₺"]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 px-2 py-1 bg-gray-100 dark:bg-gray-600 rounded-lg",children:z.categoryName})]}),!z.isAvailable&&r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-lg text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 mt-2",children:i("productAddonsModal.status.outOfStock")})]})]})}),$&&r.jsx("div",{className:"px-4 pb-4 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"pt-4 space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:i("productAddonsModal.form.marketingText.label")}),r.jsx("textarea",{value:_?.marketingText||"",onChange:q=>V(z.id,"marketingText",q.target.value),placeholder:i("productAddonsModal.form.marketingText.placeholder"),className:"w-full px-3 py-2 text-sm border-2 border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none transition-all duration-200",rows:2})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:_?.isRecommended||!1,onChange:q=>V(z.id,"isRecommended",q.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-10 h-5 bg-gray-300 dark:bg-gray-600 peer-focus:ring-2 peer-focus:ring-primary-500 rounded-full peer peer-checked:after:translate-x-5 peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-yellow-500 peer-checked:to-yellow-600"}),r.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-center gap-1 font-medium",children:[r.jsx(Ya,{className:"h-3.5 w-3.5"}),i("productAddonsModal.form.isRecommended.label")]})]})]})})]},z.id)})})})]})]}),C&&r.jsx("div",{className:"mx-8 mb-4",children:r.jsxs(re.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl flex items-center gap-3",children:[r.jsx(lt,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-red-700 dark:text-red-400",children:C})]})}),r.jsx("div",{className:"flex-shrink-0 px-8 py-6 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-3",children:[r.jsx("span",{className:"px-3 py-1.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg font-medium",children:i("productAddonsModal.counters.selectedProducts",{count:b.size})}),r.jsx("span",{className:"px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg",children:i("productAddonsModal.counters.availableProducts",{count:B.length})})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:t,disabled:j,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 rounded-xl text-gray-700 dark:text-gray-300 font-semibold hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50",children:i("productAddonsModal.buttons.cancel")}),r.jsxs("button",{type:"button",onClick:X,disabled:j||k,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed transition-all duration-200 hover:scale-105 active:scale-95 hover:shadow-lg hover:shadow-blue-500/50 flex items-center gap-2 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),r.jsx("span",{className:"relative flex items-center gap-2",children:j?r.jsxs(r.Fragment,{children:[r.jsx(ot,{className:"w-4 h-4 animate-spin"}),i("productAddonsModal.loading.saving")]}):r.jsxs(r.Fragment,{children:[r.jsx(Nt,{className:"w-4 h-4"}),i("productAddonsModal.buttons.saveAddons")]})})]})]})]})})]})]})})]})})},tg=-1,GV=`
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.textContent=GV,document.head.appendChild(e)}const QV=()=>{const{isDark:e}=mi(),{t,isRTL:a}=qe(),[n,s]=p.useState([]),[i,o]=p.useState(""),[l,c]=p.useState(null),u=ya(),[g,h]=p.useState([]),[x,b]=p.useState(null),[y,k]=p.useState(!1),[v,j]=p.useState(!1),[S,C]=p.useState("order_asc"),[P,E]=p.useState(!1),[A,I]=p.useState(!1),[M,F]=p.useState({status:"all",categories:[],priceRange:{min:0,max:1e3}}),Q=p.useRef(null),U=p.useRef(null),V=p.useRef(null),[K,Z]=p.useState(!1),[ie,te]=p.useState(!1),[R,D]=p.useState(!1),[W,X]=p.useState(!1),[B,H]=p.useState(!1),[z,$]=p.useState(!1),[_,Y]=p.useState(!1),[q,G]=p.useState(null),[ee,ue]=p.useState(!1),[le,ae]=p.useState(null),[Be,he]=p.useState(!1),[we,De]=p.useState(null),[Ze,pt]=p.useState(null),[mt,ut]=p.useState(""),[Et,tr]=p.useState(null),[Oe,Me]=p.useState(null),[Vr,ur]=p.useState(!0),[rr,Tt]=p.useState(!1),[Se,Re]=p.useState(!1),[de,pe]=p.useState(null);si(Q,()=>E(!1)),si(U,()=>I(!1)),si(V,()=>k(!1)),p.useEffect(()=>{(async()=>{j(!0);try{const Ae=await Nr.getBranchesDropdown(),We={branchId:tg,branchName:t("productsContent.branch.selectAll")||"All Branches"},Qe=[We,...Ae];h(Qe),x||b(We),N.info("Şube listesi başarıyla yüklendi",{branchCount:Ae.length})}catch(Ae){N.error("Şube listesi yüklenirken hata:",Ae)}finally{j(!1)}})()},[]),p.useEffect(()=>{x&&Pt()},[x]);const ce=me=>{b(me),k(!1)},Te=(me,Ae)=>{if(!me||me===0||isNaN(me)){console.error("❌ Invalid productId provided:",me),alert(t("productsContent.error.invalidData"));return}if(!Ae||Ae.trim()===""){console.error("❌ Invalid productName provided:",Ae),alert(t("productsContent.error.invalidData"));return}De({productId:me,productName:Ae}),he(!0)},Le=(me,Ae)=>{pe({productId:me,productName:Ae}),Re(!0)},ct=(me,Ae)=>{if(!me||me===0||isNaN(me)){console.error("❌ Invalid productId provided:",me),alert(t("productsContent.error.invalidData"));return}if(!Ae||Ae.trim()===""){console.error("❌ Invalid productName provided:",Ae),alert(t("productsContent.error.invalidData"));return}ae({productId:me,productName:Ae}),ue(!0)},Pt=async()=>{if(x)try{ur(!0);let me;x.branchId===tg?(me=await Vt.getCategories(),N.info("Tüm kategori verileri başarıyla yüklendi",{categoryCount:me.length})):(me=await Vt.getBranchCategories(x.branchId),N.info("Şube kategori verileri başarıyla yüklendi",{branchId:x.branchId,categoryCount:me.length})),s(me)}catch(me){N.error("Kategori verileri alınamadı:",me)}finally{ur(!1)}},ke=(me=>{const Ae=[...me];return Ae.sort((We,Qe)=>{switch(S){case"name_asc":return We.categoryName.localeCompare(Qe.categoryName);case"name_desc":return Qe.categoryName.localeCompare(We.categoryName);case"order_asc":return We.displayOrder-Qe.displayOrder;case"order_desc":return Qe.displayOrder-We.displayOrder;default:return We.displayOrder-Qe.displayOrder}}),Ae.map(We=>({...We,products:[...We.products].sort((Qe,Mt)=>{switch(S){case"name_asc":return Qe.name.localeCompare(Mt.name);case"name_desc":return Mt.name.localeCompare(Qe.name);case"price_asc":return Qe.price-Mt.price;case"price_desc":return Mt.price-Qe.price;case"order_asc":return Qe.displayOrder-Mt.displayOrder;case"order_desc":return Mt.displayOrder-Qe.displayOrder;default:return Qe.displayOrder-Mt.displayOrder}})}))})((me=>me.map(Ae=>{let We=Ae?.products?.filter(Qe=>!(M.status==="active"&&!Qe.isAvailable||M.status==="inactive"&&Qe.isAvailable||Qe.price<M.priceRange.min||Qe.price>M.priceRange.max||M.categories.length>0&&!M.categories.includes(Ae.categoryId)));return{...Ae,products:We}}).filter(Ae=>Ae?.products?.length>0||i===""&&M.status==="all"&&M.categories.length===0))((me=>i.trim()?me.map(Ae=>({...Ae,products:Ae?.products?.filter(We=>We.name.toLowerCase().includes(i.toLowerCase())||We.description&&We.description.toLowerCase().includes(i.toLowerCase()))})).filter(Ae=>Ae?.products?.length>0||Ae.categoryName.toLowerCase().includes(i.toLowerCase())):me)(n))),Pe=[{value:"order_asc",label:t("sort.order.asc")||"Order (A-Z)",icon:gs},{value:"order_desc",label:t("sort.order.desc")||"Order (Z-A)",icon:gs},{value:"name_asc",label:t("sort.name.asc")||"Name (A-Z)",icon:jg},{value:"name_desc",label:t("sort.name.desc")||"Name (Z-A)",icon:wg},{value:"price_asc",label:t("sort.price.asc")||"Price (Low-High)",icon:Qr},{value:"price_desc",label:t("sort.price.desc")||"Price (High-Low)",icon:Qr}],fe=me=>{s(n.map(Ae=>Ae.categoryId===me?{...Ae,isExpanded:!Ae.isExpanded}:Ae))},Ge=me=>{const Ae=n.flatMap(We=>We.products).find(We=>We.id===me);if(!Ae){N.error("Silinecek ürün bulunamadı:",{productId:me});return}pt({type:"product",id:me,title:t("productsContent.delete.product.title"),message:t("productsContent.delete.product.message",{productName:Ae.name}),onConfirm:async()=>{Tt(!0);try{await Vt.deleteProduct(me),s(n.map(We=>({...We,products:We.products?.filter(Qe=>Qe.id!==me)}))),N.info("Ürün başarıyla silindi",{productId:me})}finally{Tt(!1)}}}),H(!0)},ft=me=>{const Ae=n.flatMap(We=>We.products).find(We=>We.id===me);Ae?(Me(Ae),X(!0)):(N.error("Düzenlenecek ürün bulunamadı:",{productId:me}),alert(t("productsContent.error.productNotFound")+" "+t("productsContent.error.refreshPage")))},vt=me=>{const Ae=n.find(We=>We.categoryId===me);if(!Ae){alert(t("productsContent.error.categoryNotFound"));return}pt({type:"category",id:me,title:t("productsContent.delete.category.title"),message:Ae?.products?.length>0?t("products.delete.category.messageWithProducts",{categoryName:Ae.categoryName,productCount:Ae?.products?.length}):t("productsContent.delete.category.messageEmpty",{categoryName:Ae.categoryName}),onConfirm:async()=>{Tt(!0);try{await Vt.deleteCategory(me),s(n.filter(We=>We.categoryId!==me)),N.info("Kategori başarıyla silindi",{categoryId:me})}finally{Tt(!1)}}}),H(!0)},kt=me=>{const Ae=n.find(We=>We.categoryId===me);Ae?(tr(Ae),D(!0)):(N.error("Düzenlenecek kategori bulunamadı:",{categoryId:me}),alert(t("productsContent.error.categoryNotFound")+" "+t("productsContent.error.refreshPage")))},Ot=()=>{F({status:"all",categories:[],priceRange:{min:0,max:1e3}}),o(""),C("order_asc")},mr=M.status!=="all"||M.categories.length>0||M.priceRange.min>0||M.priceRange.max<1e3||i!=="",Ut=QM(Jg(up,{activationConstraint:{distance:8}}),Jg(cp,{coordinateGetter:kI})),va=me=>{c(me.active.id)},Lr=me=>{const{active:Ae,over:We}=me;if(!We)return;const Qe=Ae.id,Mt=We.id;if(Qe===Mt)return;const Qn=n.flatMap(Oa=>Oa.products).find(Oa=>Oa.id===Qe);if(Qn){const Oa=n.find(_r=>_r.categoryId===Mt),fr=n.flatMap(_r=>_r.products).find(_r=>_r.id===Mt);Oa?s(_r=>{const Bt=[..._r],Fr=Bt.find(qt=>qt.products?.some(Da=>Da.id===Qe));Fr&&(Fr.products=Fr.products?.filter(qt=>qt.id!==Qe));const gr=Bt.find(qt=>qt.categoryId===Mt);if(gr){const qt={...Qn,categoryId:Mt};gr.products?.push(qt)}return Bt}):fr&&Qn.categoryId!==fr.categoryId&&s(_r=>{const Bt=[..._r],Fr=Bt.find(qt=>qt.products?.some(Da=>Da.id===Qe));Fr&&(Fr.products=Fr.products?.filter(qt=>qt.id!==Qe));const gr=Bt.find(qt=>qt.categoryId===fr.categoryId);if(gr){const qt={...Qn,categoryId:fr.categoryId},Da=gr.products?.findIndex(ka=>ka.id===Mt);gr.products?.splice(Da,0,qt)}return Bt})}},be=async me=>{const{active:Ae,over:We}=me;if(c(null),!We||Ae.id===We.id)return;const Qe=Ae.id,Mt=We.id,Qn=n.find(Bt=>Bt.categoryId===Qe),Oa=n.find(Bt=>Bt.categoryId===Mt),fr=n.flatMap(Bt=>Bt.products).find(Bt=>Bt.id===Qe),_r=n.flatMap(Bt=>Bt.products).find(Bt=>Bt.id===Mt);if(Qn&&Oa){const Bt=n.findIndex(qt=>qt.categoryId===Qe),Fr=n.findIndex(qt=>qt.categoryId===Mt),gr=Qd(n,Bt,Fr);s(gr),$(!0);try{const qt=gr.map((Da,ka)=>({categoryId:Da.categoryId,newDisplayOrder:ka+1}));await Vt.reorderCategories(qt)}catch(qt){console.error("❌ Category reordering failed:",qt),s(n),alert(t("productsContent.dragDrop.categoryOrderSaveError"))}finally{$(!1)}return}if(fr&&_r&&fr.categoryId===_r.categoryId){const Bt=fr.categoryId,Fr=n.findIndex(ea=>ea.categoryId===Bt),gr=n[Fr],qt=gr?.products?.findIndex(ea=>ea.id===Qe),Da=gr?.products?.findIndex(ea=>ea.id===Mt),ka=[...n],fi=Qd(gr?.products,qt,Da);ka[Fr]={...gr,products:fi},s(ka),Y(!0),G(Bt);try{const ea=fi.map((ar,tl)=>({productId:ar.id,newDisplayOrder:tl+1}));await Vt.reorderProducts(ea)}catch(ea){console.error("❌ Product reordering failed:",ea),s(n),alert(t("productsContent.dragDrop.productOrderSaveError"))}finally{Y(!1),G(null)}return}if(fr&&Oa){if(fr.categoryId===Oa.categoryId)return;Y(!0),G(Oa.categoryId);try{await Vt.updateProduct(fr.id,{categoryId:Oa.categoryId}),await Pt()}catch(Bt){console.error("❌ Product category move failed:",Bt),alert(t("productsContent.dragDrop.productMoveError"))}finally{Y(!1),G(null)}return}if(fr&&_r&&fr.categoryId!==_r.categoryId){const Bt=_r.categoryId;Y(!0),G(Bt);try{await Vt.updateProduct(fr.id,{categoryId:Bt});const Fr=await Vt.getBranchCategories(x.branchId);s(Fr);const gr=Fr.find(qt=>qt.categoryId===Bt);if(gr){const qt=gr.products?.find(ka=>ka.id===fr.id),Da=gr.products?.find(ka=>ka.id===_r.id);if(qt&&Da){const ka=gr.products?.findIndex(ea=>ea.id===fr.id),fi=gr.products?.findIndex(ea=>ea.id===_r.id);if(ka!==fi){const ea=Qd(gr.products,ka,fi),ar=[...Fr],tl=ar.findIndex(ro=>ro.categoryId===Bt);ar[tl]={...gr,products:ea},s(ar);const rl=ea.map((ro,ao)=>({productId:ro.id,newDisplayOrder:ao+1}));await Vt.reorderProducts(rl)}}}}catch(Fr){console.error("❌ Cross-category product move failed:",Fr),Pt(),alert(t("productsContent.dragDrop.productMoveError"))}finally{Y(!1),G(null)}return}};return Vr?r.jsxs("div",{className:"space-y-6",dir:a?"rtl":"ltr",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-4"}),r.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded"})]})}),r.jsx("div",{className:"space-y-4",children:[1,2,3].map(me=>r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-2/3"})]})]})},me))})]}):x?n.length===0?r.jsxs("div",{className:"space-y-6",dir:a?"rtl":"ltr",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Ja,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400`}),r.jsx("input",{type:"text",placeholder:t("productsContent.search.placeholder"),value:i,onChange:me=>o(me.target.value),className:`w-full ${a?"pr-10 pl-4":"pl-10 pr-4"} py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,disabled:!0})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative",ref:V,children:[r.jsxs("button",{onClick:()=>k(!y),className:`flex items-center justify-between min-w-[200px] px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${a?"flex-row-reverse":""}`,children:[r.jsxs("span",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx(Ht,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 ${a?"ml-2":"mr-2"}`}),x?x.branchName:t("productsContent.branch.selectBranch")]}),r.jsx(lr,{className:`h-4 w-4 transition-transform duration-200 ${y?"transform rotate-180":""} ${a?"mr-2":"ml-2"}`})]}),y&&r.jsx("div",{className:`absolute z-20 mt-1 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 max-h-60 overflow-auto ${a?"right-0":"left-0"}`,children:g.map(me=>r.jsx("button",{onClick:()=>ce(me),className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${x?.branchId===me.branchId?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-200"} ${a?"text-right":"text-left"}`,children:me.branchName},me.branchId))})]}),r.jsxs("button",{onClick:()=>Z(!0),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-primary-700 dark:text-primary-300 bg-primary-50 dark:bg-primary-900/50 border border-primary-200 dark:border-primary-800 rounded-lg hover:bg-primary-100 dark:hover:bg-primary-900/70 transition-colors duration-200",children:[r.jsx(Nt,{className:"h-4 w-4"}),r.jsx("span",{children:t("productsContent.actions.addFirstCategory")})]})]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-12 text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:r.jsx(qi,{className:"h-12 w-12 text-gray-400"})}),r.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center",children:r.jsx(Nt,{className:"h-4 w-4 text-primary-600 dark:text-primary-400"})})]})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:t("productsContent.emptyState.noCategories.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto",children:x?.branchId===tg?t("productsContent.emptyState.noCategories.descriptionAllBranches")||"No categories found across all branches. Start by creating your first category.":t("productsContent.emptyState.noCategories.description")}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsxs("button",{onClick:()=>Z(!0),className:"flex items-center gap-2 px-6 py-3 text-white bg-primary-600 hover:bg-primary-700 rounded-lg font-medium transition-colors duration-200",children:[r.jsx(Nt,{className:"h-5 w-5"}),t("productsContent.emptyState.noCategories.addFirstCategory")]}),r.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg font-medium transition-colors duration-200",children:[r.jsx(Ft,{className:"h-5 w-5"}),t("productsContent.actions.importSampleMenu")]})]})]}),r.jsx(ZS,{isOpen:K,onClose:()=>Z(!1),onSuccess:Pt})]}):r.jsxs(pI,{sensors:Ut,collisionDetection:JM,onDragStart:va,onDragOver:Lr,onDragEnd:be,children:[r.jsxs("div",{className:"space-y-6",dir:a?"rtl":"ltr",children:[(z||_)&&r.jsxs("div",{className:`fixed top-4 ${a?"left-4":"right-4"} z-50 bg-primary-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2`,children:[r.jsx(ot,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{className:"text-sm",children:t(z?"productsContent.dragDrop.categoryReordering":q?"productsContent.dragDrop.productMoving":"productsContent.dragDrop.productReordering")})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Ja,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400`}),r.jsx("input",{type:"text",placeholder:t("productsContent.search.placeholder"),value:i,onChange:me=>o(me.target.value),className:`w-full ${a?"pr-10 pl-4":"pl-10 pr-4"} py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`})]}),r.jsxs("div",{className:`flex items-center gap-3 ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"relative",ref:V,children:[r.jsxs("button",{onClick:()=>k(!y),className:`flex items-center justify-between min-w-[200px] px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${a?"flex-row-reverse":""}`,children:[r.jsxs("span",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx(Ht,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 ${a?"ml-2":"mr-2"}`}),x?x.branchName:t("productsContent.branch.selectBranch")]}),r.jsx(lr,{className:`h-4 w-4 transition-transform duration-200 ${y?"transform rotate-180":""} ${a?"mr-2":"ml-2"}`})]}),y&&r.jsx("div",{className:`absolute z-20 mt-1 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 max-h-60 overflow-auto ${a?"right-0":"left-0"}`,children:g.map(me=>r.jsxs("button",{onClick:()=>ce(me),className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2 ${x?.branchId===me.branchId?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-200"} ${a?"text-right flex-row-reverse":"text-left"}`,children:[me.branchId===tg&&r.jsx(Ht,{className:`h-4 w-4 ${a?"ml-2":"mr-2"}`}),r.jsx("span",{children:me.branchName}),x?.branchId===me.branchId&&r.jsx(br,{className:`h-4 w-4 ${a?"mr-auto":"ml-auto"}`})]},me.branchId))})]}),mr&&r.jsxs("button",{onClick:Ot,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors duration-200",children:[r.jsx(at,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:t("clear.filters")||"Clear"})]}),r.jsxs("div",{className:"relative",ref:Q,children:[r.jsxs("button",{onClick:()=>E(!P),className:`flex items-center gap-2 px-3 py-2 text-sm font-medium border rounded-lg transition-colors duration-200 ${mr?"text-primary-700 dark:text-primary-300 bg-primary-50 dark:bg-primary-900/20 border-primary-200 dark:border-primary-800":"text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"}`,title:t("productsContent.search.filter"),children:[r.jsx(ac,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:t("productsContent.search.filter")}),r.jsx(lr,{className:`h-4 w-4 transition-transform ${P?"rotate-180":""}`})]}),P&&r.jsx("div",{className:"absolute top-full mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("filter.status")||"Status"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"all",label:t("filter.all")||"All",icon:Ft},{value:"active",label:t("filter.active")||"Active",icon:cn},{value:"inactive",label:t("filter.inactive")||"Inactive",icon:Wo}].map(me=>{const Ae=me.icon;return r.jsxs("button",{onClick:()=>F(We=>({...We,status:me.value})),className:`flex items-center gap-2 px-3 py-2 text-sm rounded-lg transition-colors ${M.status===me.value?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[r.jsx(Ae,{className:"h-4 w-4"}),r.jsx("span",{children:me.label})]},me.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("filter.categories")||"Categories"}),r.jsx("div",{className:"max-h-32 overflow-y-auto space-y-2",children:n.map(me=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:M.categories.includes(me.categoryId),onChange:Ae=>{Ae.target.checked?F(We=>({...We,categories:[...We.categories,me.categoryId]})):F(We=>({...We,categories:We.categories.filter(Qe=>Qe!==me.categoryId)}))},className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),r.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[me.categoryName," (",me?.products?.length,")"]})]},me.categoryId))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("filter.price.range")||"Price Range"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("input",{type:"number",placeholder:"Min",value:M.priceRange.min,onChange:me=>F(Ae=>({...Ae,priceRange:{...Ae.priceRange,min:parseFloat(me.target.value)||0}})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),r.jsx("input",{type:"number",placeholder:"Max",value:M.priceRange.max,onChange:me=>F(Ae=>({...Ae,priceRange:{...Ae.priceRange,max:parseFloat(me.target.value)||1e3}})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]})})]}),r.jsxs("div",{className:"relative",ref:U,children:[r.jsxs("button",{onClick:()=>I(!A),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-200",title:t("productsContent.search.sort"),children:[r.jsx(fm,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:t("productsContent.search.sort")}),r.jsx(lr,{className:`h-4 w-4 transition-transform ${A?"rotate-180":""}`})]}),A&&r.jsx("div",{className:"absolute top-full mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:r.jsx("div",{className:"p-2",children:Pe.map(me=>{const Ae=me.icon;return r.jsxs("button",{onClick:()=>{C(me.value),I(!1)},className:`w-full flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-colors ${S===me.value?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[r.jsx(Ae,{className:"h-4 w-4"}),r.jsx("span",{children:me.label}),S===me.value&&r.jsx(br,{className:"h-4 w-4 ml-auto"})]},me.value)})})})]}),r.jsxs("button",{onClick:()=>Z(!0),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-primary-700 dark:text-primary-300 bg-primary-50 dark:bg-primary-900/50 border border-primary-200 dark:border-primary-800 rounded-lg hover:bg-primary-100 dark:hover:bg-primary-900/70 transition-colors duration-200",children:[r.jsx(Nt,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:t("productsContent.actions.newCategory")})]}),r.jsxs("button",{onClick:()=>{ut(""),te(!0)},className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors duration-200",children:[r.jsx(Nt,{className:"h-4 w-4"}),r.jsx("span",{children:t("productsContent.actions.newProduct")})]}),r.jsxs("button",{onClick:()=>{u("/dashboard/RecycleBin",{state:{source:"products"}})},className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors duration-200",children:[r.jsx(er,{className:"h-4 w-4"}),r.jsx("span",{children:t("productsContent.actions.RecycleBin")})]})]})]})}),r.jsx(pw,{items:ke.map(me=>me.categoryId),strategy:hw,children:r.jsx("div",{className:"space-y-4",children:ke.map(me=>r.jsx(FV,{category:me,isDark:e,onToggle:fe,onEditProduct:ft,onDeleteProduct:Ge,onEditCategory:kt,onDeleteCategory:vt,activeId:l,onOpenAddonsManagement:Te,allCategories:n,isReorderingProducts:_&&q===me.categoryId,viewMode:"list"},me.categoryId))})}),r.jsx(wV,{children:l?(()=>{const me=n.find(We=>We.categoryId===l),Ae=n.flatMap(We=>We.products).find(We=>We.id===l);if(me)return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-4 rotate-3 scale-105",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:me.categoryName}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:me.description})]});if(Ae){const We=Ae.imageUrl&&Ae.imageUrl!=="string"&&Ae.imageUrl.trim()!=="";return r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 shadow-lg border border-gray-200 dark:border-gray-600 rotate-3 scale-105",children:r.jsxs("div",{className:`flex items-start gap-3 ${a?"flex-row-reverse":""}`,children:[We?r.jsx("img",{src:Ae.imageUrl,alt:Ae.name,className:"w-12 h-12 rounded-lg object-cover bg-gray-200 dark:bg-gray-600 flex-shrink-0"}):r.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 dark:bg-gray-600 flex items-center justify-center flex-shrink-0",children:r.jsx(Ft,{className:"h-5 w-5 text-gray-400"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:Ae.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:Ae.description}),r.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:t("productsContent.currency.format",{amount:Ae.price.toFixed(2)})})]})]})})}return null})():null})]}),r.jsx(ZS,{isOpen:K,onClose:()=>Z(!1),onSuccess:Pt}),r.jsx(LV,{isOpen:ie,onClose:()=>{te(!1),ut("")},onSuccess:Pt,categories:n,onOpenIngredientSelection:Le}),R&&Et&&r.jsx(zV,{isOpen:R,onClose:()=>{D(!1),tr(null)},onSuccess:Pt,category:Et}),W&&Oe&&r.jsx(UV,{isOpen:W,onClose:()=>{X(!1),Me(null)},onSuccess:Pt,product:Oe,categories:n,onOpenIngredientUpdate:ct}),ee&&le&&r.jsx(VV,{isOpen:ee,onClose:()=>{ue(!1),ae(null)},onSuccess:Pt,productId:le.productId,productName:le.productName}),B&&Ze&&r.jsx(Vi,{isOpen:B,onClose:()=>{H(!1),pt(null)},onConfirm:Ze.onConfirm,title:Ze.title,message:Ze.message,isSubmitting:rr}),Be&&we&&r.jsx(KV,{isOpen:Be,onClose:()=>{he(!1),De(null)},onSuccess:Pt,productId:we.productId,productName:we.productName}),Se&&de&&r.jsx(WV,{isOpen:Se,onClose:()=>{Re(!1),pe(null)},onSuccess:Pt,productId:de.productId,productName:de.productName})]}):r.jsxs("div",{className:"space-y-6",dir:a?"rtl":"ltr",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Ja,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400`}),r.jsx("input",{type:"text",placeholder:t("productsContent.search.placeholder"),className:`w-full ${a?"pr-10 pl-4":"pl-10 pr-4"} py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,disabled:!0})]}),r.jsxs("div",{className:"relative",ref:V,children:[r.jsxs("button",{onClick:()=>k(!y),className:`flex items-center justify-between min-w-[200px] px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${a?"flex-row-reverse":""}`,disabled:v,children:[r.jsxs("span",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx(Ht,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 ${a?"ml-2":"mr-2"}`}),t(v?"productsContent.branch.loading":"productsContent.branch.selectBranch")]}),r.jsx(lr,{className:`h-4 w-4 transition-transform duration-200 ${y?"transform rotate-180":""} ${a?"mr-2":"ml-2"}`})]}),y&&r.jsx("div",{className:`absolute z-20 mt-1 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 max-h-60 overflow-auto ${a?"right-0":"left-0"}`,children:g.length===0?r.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:t("productsContent.branch.noBranches")}):g.map(me=>r.jsx("button",{onClick:()=>ce(me),className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200 ${a?"text-right":"text-left"}`,children:me.branchName},me.branchId))})]})]})}),r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ht,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t("productsContent.branch.selectBranchMessage")})]})})]})},YV=()=>{const{t:e,language:t}=qe(),a=t==="ar",n=[{id:"general",label:e("restaurantManagement.tabs.general"),icon:pr},{id:"legal",label:e("restaurantManagement.tabs.legal"),icon:da},{id:"about",label:e("restaurantManagement.tabs.about"),icon:on}],[s,i]=p.useState(null),[o,l]=p.useState("general"),[c,u]=p.useState(!1),[g,h]=p.useState(!1),[x,b]=p.useState(!1),[y,k]=p.useState({}),[v,j]=p.useState(!1),[S,C]=p.useState({imageUrl:"",title:"",description:"",restaurantId:0}),[P,E]=p.useState({show:!1,type:"info",message:""}),[A,I]=p.useState(null),[M,F]=p.useState(null),{uploadLogo:Q,isUploading:U}=PU(),V=p.useRef(!1),K=p.useRef(null),Z=p.useRef(null),ie=(z,$)=>{E({show:!0,type:z,message:$}),setTimeout(()=>E(_=>({..._,show:!1})),5e3)},te=async()=>{try{const z=await sn.getRestaurantManagementInfo();if(i(z),z){const $={};Object.entries(z).forEach(([_,Y])=>{$[_]=Y===null||Y==="string"?"":Y}),k($)}N.info("Restaurant info refreshed successfully")}catch(z){N.error("Failed to refresh restaurant info",z),ie("error",e("restaurantManagement.error.loadFailed"))}};p.useEffect(()=>{if(V.current)return;V.current=!0,(async()=>{u(!0);try{const $=Ll();if(!$){ie("error",e("restaurantManagement.error.userInfoFailed"));return}const _=await sn.getRestaurantManagementInfo();if(i(_),_){const Y={};Object.entries(_).forEach(([q,G])=>{Y[q]=G===null||G==="string"?"":G}),k(Y)}C({imageUrl:"",title:"",description:"",restaurantId:$}),N.info("Restaurant management info loaded successfully")}catch($){N.error("Failed to fetch restaurant management info",$),ie("error",e("restaurantManagement.error.loadFailed"))}finally{u(!1)}})()},[]);const R=z=>{const{name:$,value:_,type:Y}=z.target,q=Y==="checkbox"?z.target.checked:_;k(G=>({...G,[$]:q})),h(!0)},D=z=>{const{name:$,value:_}=z.target;C(Y=>({...Y,[$]:_})),b(!0)},W=z=>{const $=z.target.files?.[0];if($){if(!$.type.startsWith("image/")){ie("error",e("restaurantManagement.error.imageValidationFailed"));return}if($.size>5*1024*1024){ie("error",e("restaurantManagement.error.fileSizeError"));return}I($),h(!0)}},X=z=>{const $=z.target.files?.[0];if($){if(!$.type.startsWith("image/")){ie("error",e("restaurantManagement.error.imageValidationFailed"));return}if($.size>5*1024*1024){ie("error",e("restaurantManagement.error.fileSizeError"));return}F($),b(!0)}},B=async()=>{if(!(!g&&!A)){u(!0);try{let z={...y};if(A)try{const $=await Q(A,y.restaurantLogoPath);z.restaurantLogoPath=$,ie("success",e("restaurantManagement.success.logoUploaded"))}catch($){N.error("Logo upload failed",$),ie("error",e("restaurantManagement.error.logoUploadFailed"));return}await sn.updateRestaurantManagementInfo(z),k(z),h(!1),I(null),N.info("Restaurant management info updated successfully"),ie("success",e("restaurantManagement.success.infoUpdated")),await te()}catch(z){N.error("Failed to update restaurant management info",z),ie("error",e("restaurantManagement.error.updateFailed"))}finally{u(!1)}}},H=async()=>{if(!S.title?.trim()||!S.description?.trim()){ie("error","Başlık ve açıklama alanları zorunludur");return}u(!0);try{const z=Ll();if(!z){ie("error","Kullanıcı bilgileri alınamadı");return}let $={...S,restaurantId:z};if(M)try{const _=await Q(M);$.imageUrl=_}catch(_){N.error("About image upload failed",_),ie("error","Görsel yüklenirken hata oluştu");return}await sn.createAbout($),N.info("About section created successfully"),ie("success","Hakkında bölümü başarıyla eklendi"),j(!1),C({imageUrl:"",title:"",description:"",restaurantId:z}),F(null),b(!1),await te()}catch(z){N.error("Failed to create about section",z),ie("error","Hakkında bölümü oluşturulurken hata oluştu")}finally{u(!1)}};return c&&!s?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("dashboard.restaurant.loading")})]})}):r.jsxs("div",{className:"space-y-6",dir:a?"rtl":"ltr",children:[r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e("dashboard.restaurant.title")}),(g||x)&&r.jsxs("div",{className:`flex items-center ${a?"space-x-reverse space-x-2":"space-x-2"} text-orange-600 dark:text-orange-400`,children:[r.jsx(lt,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Kaydedilmemiş değişiklikler var"})]})]}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:`-mb-px flex ${a?"space-x-reverse space-x-8":"space-x-8"}`,children:n.map(z=>{const $=z.icon;return r.jsxs("button",{onClick:()=>l(z.id),className:`group inline-flex items-center ${a?"space-x-reverse space-x-2":"space-x-2"} py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${o===z.id?"border-primary-600 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[r.jsx($,{className:`h-5 w-5 ${o===z.id?"text-primary-600 dark:text-primary-400":"text-gray-400 group-hover:text-gray-500"}`}),r.jsx("span",{children:z.label})]},z.id)})})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[o==="general"&&r.jsxs("div",{className:"p-8 space-y-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:e("restaurantManagement.GeneralInformation")}),r.jsxs("div",{className:"space-y-6 border-b border-gray-200 dark:border-gray-700 pb-8",children:[r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:e("restaurant.restaurantLogo")}),r.jsxs("button",{type:"button",onClick:()=>K.current?.click(),disabled:U,className:`inline-flex items-center ${a?"space-x-reverse space-x-2":"space-x-2"} px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed`,children:[r.jsx(zg,{className:"h-4 w-4"}),r.jsx("span",{children:U?"Yükleniyor...":"Logo Yükle"})]})]}),r.jsx("input",{title:"logoInputRef",ref:K,type:"file",accept:"image/*",onChange:W,className:"hidden"}),r.jsxs("div",{className:`flex items-center ${a?"space-x-reverse space-x-4":"space-x-4"}`,children:[(y.restaurantLogoPath||A)&&r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:A?URL.createObjectURL(A):y.restaurantLogoPath,alt:"Restaurant Logo",className:"h-20 w-20 object-cover rounded-lg border border-gray-200 dark:border-gray-600"}),A&&r.jsx("div",{className:`absolute -top-2 ${a?"-left-2":"-right-2"} bg-green-500 text-white rounded-full p-1`,children:r.jsx(li,{className:"h-3 w-3"})})]}),A&&r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("p",{className:"font-medium",children:A.name}),r.jsxs("p",{children:[(A.size/1024/1024).toFixed(2)," MB"]})]})]})]}),r.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"restaurantName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e("dashboard.restaurant.restaurantName")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Ds,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"restaurantName",name:"restaurantName",value:y.restaurantName||"",onChange:R,className:`w-full ${a?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:e("dashboard.restaurant.placeholders.restaurantName"),required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"restaurantStatus",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("dashboard.restaurant.restaurantStatus")}),r.jsxs("div",{className:"relative",children:[r.jsx(xt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsxs("select",{id:"restaurantStatus",name:"restaurantStatus",value:y.restaurantStatus?"true":"false",disabled:!0,className:"w-full pl-10 pr-4 py-3 border rounded-lg transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 cursor-not-allowed",children:[r.jsx("option",{value:"true",children:"Aktif"}),r.jsx("option",{value:"false",children:"Pasif"})]})]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Bu alan sistem tarafından yönetilir"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"cuisineTypeId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mutfak Türü"}),r.jsxs("div",{className:"relative",children:[r.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsxs("select",{id:"cuisineTypeId",name:"cuisineTypeId",value:y.cuisineTypeId||"",onChange:R,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"Seçiniz"}),r.jsx("option",{value:"1",children:"Türk Mutfağı"}),r.jsx("option",{value:"2",children:"İtalyan Mutfağı"}),r.jsx("option",{value:"3",children:"Çin Mutfağı"}),r.jsx("option",{value:"4",children:"Fast Food"}),r.jsx("option",{value:"5",children:"Deniz Ürünleri"}),r.jsx("option",{value:"6",children:"Et Yemekleri"})]})]})]})]})]}),o==="legal"&&r.jsxs("div",{className:"p-8 space-y-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:e("dashboard.restaurant.companyInfo")}),r.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"companyTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Şirket Ünvanı"}),r.jsxs("div",{className:"relative",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"companyTitle",name:"companyTitle",value:y.companyTitle||"",onChange:R,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"ABC Gıda A.Ş."})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"taxNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Vergi Numarası"}),r.jsxs("div",{className:"relative",children:[r.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"taxNumber",name:"taxNumber",value:y.taxNumber||"",onChange:R,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"1234567890"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"taxOffice",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Vergi Dairesi"}),r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"taxOffice",name:"taxOffice",value:y.taxOffice||"",onChange:R,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"İstanbul Vergi Dairesi"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"mersisNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mersis Numarası"}),r.jsxs("div",{className:"relative",children:[r.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"mersisNumber",name:"mersisNumber",value:y.mersisNumber||"",onChange:R,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Mersis numarası"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"tradeRegistryNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ticaret Sicil Numarası"}),r.jsxs("div",{className:"relative",children:[r.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"tradeRegistryNumber",name:"tradeRegistryNumber",value:y.tradeRegistryNumber||"",onChange:R,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Ticaret sicil numarası"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"legalType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Şirket Türü"}),r.jsxs("div",{className:"relative",children:[r.jsx(da,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsxs("select",{id:"legalType",name:"legalType",value:y.legalType||"",onChange:R,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"Seçiniz"}),r.jsx("option",{value:"Anonim Şirket",children:"Anonim Şirket"}),r.jsx("option",{value:"Limited Şirket",children:"Limited Şirket"}),r.jsx("option",{value:"Kollektif Şirket",children:"Kollektif Şirket"}),r.jsx("option",{value:"Komandit Şirket",children:"Komandit Şirket"}),r.jsx("option",{value:"Şahıs Şirketi",children:"Şahıs Şirketi"})]})]})]})]})]}),o==="about"&&r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Hakkında Bölümü"}),!s?.about&&r.jsxs("button",{onClick:()=>j(!0),className:"inline-flex items-center space-x-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors duration-200",children:[r.jsx(on,{className:"h-4 w-4"}),r.jsx("span",{children:"Hakkında Bilgisi Ekle"})]})]}),s?.about?r.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6 space-y-4",children:typeof s.about=="string"?r.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:s.about}):r.jsxs(r.Fragment,{children:[s.about?.title&&r.jsx("h4",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:s.about.title}),s.about?.imageUrl&&r.jsx("div",{className:"mb-4",children:r.jsx("img",{src:s.about.imageUrl,alt:s.about.title||"Restaurant About",className:"w-full max-w-md h-48 object-cover rounded-lg border border-gray-200 dark:border-gray-600"})}),s.about?.description&&r.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap leading-relaxed",children:s.about.description})]})}):r.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[r.jsx(on,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Henüz hakkında bilgisi eklenmemiş"}),r.jsx("button",{onClick:()=>j(!0),className:"btn-primary",children:"İlk Hakkında Bilgisini Ekle"})]})]})]}),(g||A)&&r.jsx("div",{className:`fixed bottom-6 ${a?"left-6":"right-6"} z-10`,children:r.jsxs("div",{className:`bg-white dark:bg-gray-800 shadow-lg border border-gray-200 dark:border-gray-700 rounded-xl p-4 flex items-center ${a?"space-x-reverse space-x-4":"space-x-4"}`,children:[r.jsxs("div",{className:`flex items-center ${a?"space-x-reverse space-x-2":"space-x-2"} text-orange-600 dark:text-orange-400`,children:[r.jsx(lt,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Değişikliklerinizi kaydedin"})]}),r.jsx("button",{onClick:B,disabled:c,className:`inline-flex items-center ${a?"space-x-reverse space-x-2":"space-x-2"} px-6 py-2 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors duration-200`,children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Kaydediliyor..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(xt,{className:"h-4 w-4"}),r.jsx("span",{children:"Kaydet"})]})})]})}),v&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),r.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:"​"}),r.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 px-6 pt-6 pb-4",children:[r.jsxs("div",{className:`flex items-center justify-between mb-6 ${a?"flex-row-reverse":""}`,children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e("dashboard.restaurant.addAboutInfo")}),r.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(at,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Görsel"}),r.jsxs("div",{className:`flex items-center ${a?"space-x-reverse space-x-4":"space-x-4"}`,children:[r.jsxs("button",{type:"button",onClick:()=>Z.current?.click(),disabled:U,className:`inline-flex items-center ${a?"space-x-reverse space-x-2":"space-x-2"} px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed`,children:[r.jsx(zg,{className:"h-4 w-4"}),r.jsx("span",{children:U?"Yükleniyor...":"Görsel Seç"})]}),M&&r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:M.name})]}),r.jsx("input",{title:"aboutImageInputRef",ref:Z,type:"file",accept:"image/*",onChange:X,className:"hidden"}),M&&r.jsx("img",{src:URL.createObjectURL(M),alt:"Preview",className:"mt-4 h-24 w-24 object-cover rounded-lg border border-gray-200 dark:border-gray-600"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"aboutTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Başlık ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(da,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"aboutTitle",name:"title",value:S.title||"",onChange:D,className:`w-full ${a?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:e("dashboard.restaurant.placeholders.aboutStory"),required:!0})]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"aboutDescription",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Açıklama ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{id:"aboutDescription",name:"description",rows:4,value:S.description||"",onChange:D,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 resize-none",placeholder:e("dashboard.restaurant.placeholders.aboutDetails"),required:!0})]})]})]}),r.jsxs("div",{className:`bg-gray-50 dark:bg-gray-900 px-6 py-4 flex ${a?"justify-start":"justify-end"} ${a?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",children:"İptal"}),r.jsx("button",{onClick:H,disabled:c||!S.title?.trim()||!S.description?.trim(),className:`inline-flex items-center ${a?"space-x-reverse space-x-2":"space-x-2"} px-4 py-2 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed text-white text-sm font-medium rounded-md`,children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Kaydediliyor..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(xt,{className:"h-4 w-4"}),r.jsx("span",{children:"Kaydet"})]})})]})]})]})}),P.show&&r.jsx("div",{className:`fixed top-4 ${a?"left-4":"right-4"} z-50 max-w-sm w-full`,children:r.jsx("div",{className:`rounded-lg shadow-lg p-4 ${P.type==="success"?"bg-green-100 border border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-200":P.type==="error"?"bg-red-100 border border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-200":"bg-blue-100 border border-blue-200 text-blue-800 dark:bg-blue-900 dark:border-blue-700 dark:text-blue-200"}`,children:r.jsxs("div",{className:`flex items-center ${a?"space-x-reverse space-x-2":"space-x-2"}`,children:[P.type==="success"&&r.jsx(xt,{className:"h-5 w-5 flex-shrink-0"}),P.type==="error"&&r.jsx(lt,{className:"h-5 w-5 flex-shrink-0"}),P.type==="info"&&r.jsx(on,{className:"h-5 w-5 flex-shrink-0"}),r.jsx("p",{className:"text-sm font-medium",children:P.message}),r.jsx("button",{onClick:()=>E(z=>({...z,show:!1})),className:`${a?"mr-auto":"ml-auto"} text-gray-400 hover:text-gray-600`,children:r.jsx(at,{className:"h-4 w-4"})})]})})})]})},XV=({showAlways:e=!1,className:t=""})=>{const{isOnline:a,isConnecting:n,testConnection:s}=qM();return!e&&a?null:r.jsx("div",{className:`fixed top-4 right-4 z-50 ${t}`,children:r.jsxs("div",{className:`
        flex items-center gap-2 px-3 py-2 rounded-lg shadow-lg transition-all duration-300
        ${a?"bg-green-500 text-white":"bg-red-500 text-white"}
        ${n?"animate-pulse":""}
      `,children:[n?r.jsx(Un,{className:"w-4 h-4 animate-spin"}):a?r.jsx(Jk,{className:"w-4 h-4"}):r.jsx($F,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:n?"Bağlantı test ediliyor...":a?"Çevrimiçi":"Çevrimdışı"}),!a&&r.jsx("button",{onClick:s,className:"ml-2 px-2 py-1 text-xs bg-white/20 hover:bg-white/30 rounded transition-colors",disabled:n,children:"Yenile"})]})})};class ZV{baseUrl="/api";async getAllergens(){try{N.info("Allergen listesi getiriliyor");const t=await se.get(`${this.baseUrl}/Allergen`);return N.info("Allergen listesi başarıyla getirildi",{count:t.data.length}),t.data.map(n=>({id:n.id,code:n.code??"",name:n.name,icon:n.icon??"",displayOrder:n.displayOrder,description:n.description??""})).sort((n,s)=>n.displayOrder-s.displayOrder)}catch(t){throw N.error("❌ Allergen listesi getirilirken hata:",t),t}}async getAllergenById(t){try{N.info("Allergen detayı getiriliyor",{id:t});const a=await se.get(`${this.baseUrl}/Allergen/${t}`);return N.info("Allergen detayı başarıyla getirildi",{data:a.data}),{id:a.data.id,code:a.data.code??"",name:a.data.name,icon:a.data.icon??"",displayOrder:a.data.displayOrder,description:a.data.description??""}}catch(a){throw N.error("❌ Allergen detayı getirilirken hata:",a),a}}async getActiveAllergens(){try{return await this.getAllergens()}catch(t){throw N.error("❌ Aktif allergen listesi getirilirken hata:",t),t}}async getAllergenByCode(t){try{return(await this.getAllergens()).find(s=>s.code===t)||null}catch(a){throw N.error("❌ Allergen koda göre getirilirken hata:",a),a}}}const JS=({isOpen:e,onClose:t,onSuccess:a,ingredient:n,allergens:s,isEdit:i=!1})=>{const{t:o,isRTL:l}=qe(),[c,u]=p.useState({name:"",isAllergenic:!1,isAvailable:!0}),[g,h]=p.useState([]),[x,b]=p.useState({}),[y,k]=p.useState(!1),[v,j]=p.useState(null),[S,C]=p.useState({}),[P,E]=p.useState("medium"),[A,I]=p.useState("comfortable"),[M,F]=p.useState({basicInfo:!1,allergenInfo:!1}),Q={small:"text-xs",medium:"text-sm",large:"text-base"},U={compact:"space-y-3",comfortable:"space-y-6",spacious:"space-y-8"},V={compact:"p-4",comfortable:"p-6",spacious:"p-8"},K={compact:"gap-3",comfortable:"gap-6",spacious:"gap-8"},Z=()=>{E($=>$==="small"?"medium":$==="medium"?"large":"small")},ie=()=>{I($=>$==="compact"?"comfortable":$==="comfortable"?"spacious":"compact")},te=$=>{F(_=>({..._,[$]:!_[$]}))},R=$=>{try{const _=`allergens.${$.code}.name`,Y=`allergens.${$.code}.description`,q=o(_),G=o(Y);return{name:q===_?$.name:q,description:G===Y?$.description:G}}catch{return{name:$.name,description:$.description}}};p.useEffect(()=>{e&&(n?(u({name:n.name,isAllergenic:n.isAllergenic,isAvailable:n.isAvailable}),h(s.filter($=>n.allergenIds?.includes($.id))),b(n?.allergenDetails?.reduce(($,_)=>($[_.allergenId]=_,$),{})||{})):(u({name:"",isAllergenic:!1,isAvailable:!0}),h([]),b({})),j(null),C({}))},[e,n,s]);const D=($,_)=>{u(Y=>({...Y,[$]:_})),$==="isAllergenic"&&_===!1&&(h([]),b({})),S[$]&&C(Y=>({...Y,[$]:""}))},W=$=>{if(!c.isAllergenic)return;g.find(Y=>Y.id===$.id)?(h(Y=>Y.filter(q=>q.id!==$.id)),b(Y=>{const q={...Y};return delete q[$.id],q})):(h(Y=>[...Y,$]),b(Y=>({...Y,[$.id]:{allergenId:$.id,containsAllergen:!0,note:""}})))},X=($,_,Y)=>{b(q=>({...q,[$]:{...q[$],[_]:Y}}))},B=()=>{const $={};return c.name.trim()||($.name=o("IngredientsContent.ingredientNameRequired")),C($),Object.keys($).length===0},H=async()=>{if(B()){k(!0),j(null);try{const $={...i&&n&&{id:n.id},name:c.name.trim(),isAllergenic:c.isAllergenic,isAvailable:c.isAvailable,allergenIds:c.isAllergenic?g?.map(_=>_.id):[],allergenDetails:c.isAllergenic?Object.values(x):[]};i?await oc.updateIngredient($):await oc.createIngredient($),N.info(i?"Malzeme güncellendi":"Malzeme eklendi",$),a(),t()}catch($){N.error(i?"Malzeme güncelleme hatası":"Malzeme ekleme hatası",$),$.response?.data?.errors?C($.response.data.errors):$.response?.data?.message?j($.response.data.message):j(o(i?"IngredientsContent.updateError":"IngredientsContent.createError"))}finally{k(!1)}}},z=()=>{y||t()};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto ${l?"text-right":"text-left"} ${Q[P]}`,role:"dialog","aria-labelledby":"ingredient-form-title","aria-label":o("IngredientsContent.accessibility.formModal"),children:[r.jsxs("div",{className:`flex items-center justify-between ${V[A]} border-b border-gray-200 dark:border-gray-700 ${l?"flex-row-reverse":""}`,children:[r.jsx("h2",{id:"ingredient-form-title",className:"text-xl font-semibold text-gray-800 dark:text-white",children:o(i?"IngredientsContent.editIngredient":"IngredientsContent.addNewIngredient")}),r.jsxs("div",{className:`flex items-center gap-2 ${l?"flex-row-reverse":""}`,children:[r.jsxs("button",{onClick:Z,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors flex items-center gap-1",title:`Font Size: ${P}`,disabled:y,children:[r.jsx(Vu,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),r.jsx("span",{className:"text-[10px] font-semibold uppercase text-gray-600 dark:text-gray-400",children:P[0]})]}),r.jsxs("button",{onClick:ie,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors flex items-center gap-1",title:`Density: ${A}`,disabled:y,children:[r.jsx(sM,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),r.jsx("span",{className:"text-[10px] font-semibold uppercase text-gray-600 dark:text-gray-400",children:A[0]})]}),r.jsx("button",{onClick:z,disabled:y,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed p-2","aria-label":o("IngredientsContent.accessibility.closeModal"),children:r.jsx(at,{className:"w-6 h-6"})})]})]}),r.jsxs("div",{className:`${V[A]} ${U[A]}`,children:[v&&r.jsxs("div",{className:`bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center gap-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(lt,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),r.jsx("span",{className:"text-red-700 dark:text-red-400",children:v})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsxs("button",{onClick:()=>te("basicInfo"),className:`w-full flex items-center justify-between ${V[A]} hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors rounded-t-lg ${M.basicInfo?"rounded-b-lg":""}`,type:"button",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:o("IngredientsContent.basicInfo")}),M.basicInfo?r.jsx(lr,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):r.jsx(Cn,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})]}),!M.basicInfo&&r.jsx("div",{className:`${V[A]} pt-0`,children:r.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 ${K[A]}`,children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"name",className:"block font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o("IngredientsContent.ingredientName")," *"]}),r.jsx("input",{type:"text",id:"name",value:c.name,onChange:$=>D("name",$.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors ${S.name?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:o("IngredientsContent.enterIngredientName"),"aria-describedby":S.name?"name-error":void 0,disabled:y}),S.name&&r.jsx("p",{id:"name-error",className:"mt-1 text-red-600 dark:text-red-400",children:S.name})]}),r.jsxs("div",{className:`${U[A]} ${A==="spacious"?"space-y-6":"space-y-4"}`,children:[r.jsxs("div",{className:`flex items-center ${l?"flex-row-reverse":""}`,children:[r.jsx("input",{type:"checkbox",id:"isAllergenic",checked:c.isAllergenic,onChange:$=>D("isAllergenic",$.target.checked),disabled:y,className:"w-4 h-4 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600 rounded disabled:opacity-50"}),r.jsx("label",{htmlFor:"isAllergenic",className:`font-medium text-gray-700 dark:text-gray-300 ${l?"mr-2":"ml-2"}`,children:o("IngredientsContent.containsAllergensCheckbox")})]}),r.jsxs("div",{className:`flex items-center ${l?"flex-row-reverse":""}`,children:[r.jsx("input",{type:"checkbox",id:"isAvailable",checked:c.isAvailable,onChange:$=>D("isAvailable",$.target.checked),disabled:y,className:"w-4 h-4 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600 rounded disabled:opacity-50"}),r.jsx("label",{htmlFor:"isAvailable",className:`font-medium text-gray-700 dark:text-gray-300 ${l?"mr-2":"ml-2"}`,children:o("IngredientsContent.availableForUse")})]})]})]})})]}),r.jsxs("div",{className:`bg-gray-50 dark:bg-gray-700/50 rounded-lg transition-opacity ${c.isAllergenic?"opacity-100":"opacity-50"}`,children:[r.jsxs("button",{onClick:()=>te("allergenInfo"),className:`w-full flex items-center justify-between ${V[A]} hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors rounded-t-lg ${M.allergenInfo?"rounded-b-lg":""}`,type:"button",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:o("IngredientsContent.allergenInfo")}),M.allergenInfo?r.jsx(lr,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):r.jsx(Cn,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})]}),!M.allergenInfo&&r.jsxs("div",{className:`${V[A]} pt-0`,children:[r.jsx("div",{className:`mb-${A==="compact"?"3":A==="comfortable"?"4":"6"}`,children:r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:c.isAllergenic?o("IngredientsContent.selectAllergensMessage"):o("IngredientsContent.enableAllergenMessage")})}),r.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 ${A==="compact"?"gap-3":A==="comfortable"?"gap-4":"gap-6"} mb-${A==="compact"?"4":"6"}`,role:"group","aria-label":o("IngredientsContent.accessibility.allergenSelection"),children:s.sort(($,_)=>$.displayOrder-_.displayOrder).map($=>{const _=g.find(G=>G.id===$.id),Y=!c.isAllergenic||y,q=R($);return r.jsx("div",{onClick:()=>!Y&&W($),className:`${A==="compact"?"p-3":A==="comfortable"?"p-4":"p-5"} rounded-lg border-2 transition-all ${Y?"cursor-not-allowed opacity-50 border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-700":_?"cursor-pointer border-primary-500 bg-primary-50 dark:bg-primary-900/30 shadow-md":"cursor-pointer border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 hover:border-primary-300 hover:shadow-sm"}`,role:"button",tabIndex:Y?-1:0,"aria-pressed":_?"true":"false","aria-disabled":Y,onKeyDown:G=>{!Y&&(G.key==="Enter"||G.key===" ")&&(G.preventDefault(),W($))},children:r.jsxs("div",{className:`flex items-center justify-between ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${A==="compact"?"gap-2":"gap-3"} ${l?"flex-row-reverse":""}`,children:[r.jsx("span",{className:A==="spacious"?"text-3xl":"text-2xl",children:$.icon}),r.jsxs("div",{children:[r.jsx("h4",{className:`font-medium ${Y?"text-gray-400 dark:text-gray-500":"text-gray-800 dark:text-white"}`,children:q.name}),r.jsx("p",{className:`${Y?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:q.description})]})]}),_&&!Y&&r.jsx("div",{className:"w-6 h-6 bg-primary-500 rounded-full flex items-center justify-center",children:r.jsx(br,{className:"w-4 h-4 text-white"})})]})},$.id)})}),g.length>0&&c.isAllergenic&&r.jsxs("div",{className:`border-t border-gray-200 dark:border-gray-600 pt-${A==="compact"?"4":"6"}`,children:[r.jsx("h4",{className:`text-lg font-semibold text-gray-800 dark:text-white mb-${A==="compact"?"3":"4"}`,children:o("IngredientsContent.allergenDetails")}),r.jsx("div",{className:A==="compact"?"space-y-3":"space-y-4",children:g.sort(($,_)=>$.displayOrder-_.displayOrder).map($=>{const _=R($);return r.jsxs("div",{className:`bg-white dark:bg-gray-800 ${A==="compact"?"p-3":"p-4"} rounded-lg border border-gray-200 dark:border-gray-600`,children:[r.jsxs("div",{className:`flex items-center justify-between ${A==="compact"?"mb-2":"mb-3"} ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-2 ${l?"flex-row-reverse":""}`,children:[r.jsx("span",{className:"text-xl",children:$.icon}),r.jsx("h5",{className:"font-medium text-gray-800 dark:text-white",children:_.name})]}),r.jsx("button",{type:"button",onClick:()=>W($),disabled:y,className:"text-gray-400 hover:text-red-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":`Remove ${_.name}`,children:r.jsx(at,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 ${A==="compact"?"gap-3":"gap-4"}`,children:[r.jsx("div",{children:r.jsxs("label",{className:`flex items-center ${l?"flex-row-reverse":""}`,children:[r.jsx("input",{type:"checkbox",checked:x[$.id]?.containsAllergen||!1,onChange:Y=>X($.id,"containsAllergen",Y.target.checked),disabled:y,className:"w-4 h-4 text-primary-600 border-gray-300 dark:border-gray-600 rounded focus:ring-primary-500 disabled:opacity-50"}),r.jsx("span",{className:`text-gray-700 dark:text-gray-300 ${l?"mr-2":"ml-2"}`,children:o("IngredientsContent.containsThisAllergen")})]})}),r.jsx("div",{children:r.jsx("input",{type:"text",placeholder:o("IngredientsContent.additionalNotes"),value:x[$.id]?.note||"",onChange:Y=>X($.id,"note",Y.target.value),disabled:y,className:`w-full ${A==="compact"?"px-2 py-1.5":"px-3 py-2"} border border-gray-300 dark:border-gray-600 rounded-md focus:ring-1 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 disabled:opacity-50 disabled:cursor-not-allowed`})})]})]},$.id)})})]})]})]}),r.jsxs("div",{className:`flex justify-end ${A==="compact"?"space-x-3":"space-x-4"} pt-${A==="compact"?"4":"6"} border-t border-gray-200 dark:border-gray-700 ${l?"space-x-reverse flex-row-reverse":""}`,children:[r.jsx("button",{type:"button",onClick:z,disabled:y,className:`${A==="compact"?"px-4 py-2":A==="comfortable"?"px-6 py-3":"px-8 py-4"} border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,"aria-label":o("IngredientsContent.cancel"),children:o("IngredientsContent.cancel")}),r.jsx("button",{type:"button",onClick:H,disabled:y||!c.name.trim(),className:`${A==="compact"?"px-4 py-2":A==="comfortable"?"px-6 py-3":"px-8 py-4"} bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center gap-2`,"aria-label":o(i?"IngredientsContent.update":"IngredientsContent.add"),children:y?r.jsxs(r.Fragment,{children:[r.jsx(ot,{className:"w-5 h-5 animate-spin"}),o(i?"IngredientsContent.updating":"IngredientsContent.adding")]}):r.jsxs(r.Fragment,{children:[r.jsx(Nt,{className:"w-5 h-5"}),o(i?"IngredientsContent.update":"IngredientsContent.add")]})})]})]})]})}):null},JV=(e,t)=>{let a=null;return(...n)=>{a&&clearTimeout(a),a=setTimeout(()=>e(...n),t)}},eH=()=>{const{t:e,isRTL:t}=qe(),[a,n]=p.useState([]),[s,i]=p.useState([]),[o,l]=p.useState(!1),[c,u]=p.useState(""),[g,h]=p.useState("grid"),[x,b]=p.useState("name_asc"),[y,k]=p.useState(!1),[v,j]=p.useState(!1),[S,C]=p.useState({status:"all",allergen:"all",selectedAllergens:[]}),P=p.useRef(null),E=p.useRef(null),[A,I]=p.useState(!1),[M,F]=p.useState(!1),[Q,U]=p.useState(!1),[V,K]=p.useState(null),[Z,ie]=p.useState(!1);p.useEffect(()=>{const _=Y=>{P.current&&!P.current.contains(Y.target)&&k(!1),E.current&&!E.current.contains(Y.target)&&j(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const te=async()=>{l(!0);try{const Y=await new ZV().getAllergens();i(Y);const q=await oc.getIngredients();n(q),N.info("Data loaded successfully",{allergenCount:Y.length,ingredientCount:q.length})}catch(_){N.error("Data loading error:",_),i([]),n([])}finally{l(!1)}};p.useEffect(()=>{te()},[]);const R=p.useMemo(()=>JV(u,300),[]),D=()=>{C({status:"all",allergen:"all",selectedAllergens:[]}),u(""),b("name_asc")},W=S.status!=="all"||S.allergen!=="all"||S.selectedAllergens.length>0||c!=="",X=p.useMemo(()=>{let _=a;return c.trim()&&(_=_.filter(Y=>Y.name.toLowerCase().includes(c.toLowerCase()))),_=_.filter(Y=>!(S.status==="available"&&!Y.isAvailable||S.status==="unavailable"&&Y.isAvailable||S.allergen==="allergenic"&&!Y.isAllergenic||S.allergen==="non-allergenic"&&Y.isAllergenic||S.selectedAllergens.length>0&&!S.selectedAllergens.some(G=>Y.allergenIds?.includes(G)))),[..._].sort((Y,q)=>{switch(x){case"name_asc":return Y.name.localeCompare(q.name);case"name_desc":return q.name.localeCompare(Y.name);case"status_asc":return Number(Y.isAvailable)-Number(q.isAvailable);case"status_desc":return Number(q.isAvailable)-Number(Y.isAvailable);case"allergen_asc":return Number(Y.isAllergenic)-Number(q.isAllergenic);case"allergen_desc":return Number(q.isAllergenic)-Number(Y.isAllergenic);default:return Y.name.localeCompare(q.name)}})},[a,c,S,x,s]),B=_=>{K(_),F(!0)},H=_=>{K(_),U(!0)},z=async()=>{if(V){ie(!0);try{await oc.deleteIngredient(V.id),n(_=>_.filter(Y=>Y.id!==V.id)),N.info("Ingredient deleted",{id:V.id})}catch(_){throw N.error("Ingredient deletion error:",_),_}finally{ie(!1)}}},$=[{value:"name_asc",label:e("sort.name.asc")||"Name (A-Z)",icon:jg},{value:"name_desc",label:e("sort.name.desc")||"Name (Z-A)",icon:wg},{value:"status_asc",label:e("sort.status.asc")||"Status (Unavailable first)",icon:jg},{value:"status_desc",label:e("sort.status.desc")||"Status (Available first)",icon:wg},{value:"allergen_asc",label:e("sort.allergen.asc")||"Allergen (Non-allergenic first)",icon:jg},{value:"allergen_desc",label:e("sort.allergen.desc")||"Allergen (Allergenic first)",icon:wg}];return o?r.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},className:`space-y-6 ${t?"text-right":"text-left"}`,children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-md border border-gray-200/50 dark:border-gray-700/50 p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-4"}),r.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded"})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(_=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-md border border-gray-200/50 dark:border-gray-700/50 p-6 animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-2/3"})]})]},_))})]}):r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`space-y-6 ${t?"text-right":"text-left"}`,children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-md border border-gray-200/50 dark:border-gray-700/50 p-6",children:r.jsxs("div",{className:`flex flex-col md:flex-row md:items-center md:justify-between gap-4 ${t?"md:flex-row-reverse":""}`,children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Ja,{className:`absolute top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 ${t?"right-3":"left-3"}`}),r.jsx("input",{type:"text",placeholder:e("IngredientsContent.searchPlaceholder"),onChange:_=>R(_.target.value),className:"w-full py-3 px-10 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 shadow-sm transition-shadow duration-200 focus:shadow-md","aria-label":e("IngredientsContent.accessibility.searchInput")})]}),r.jsxs("div",{className:`flex items-center gap-3 flex-wrap ${t?"flex-row-reverse":""}`,children:[W&&r.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.status!=="all"&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full",children:["Status: ",S.status,r.jsx("button",{onClick:()=>C(_=>({..._,status:"all"})),children:r.jsx(at,{className:"h-3 w-3"})})]}),S.allergen!=="all"&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full",children:["Allergen: ",S.allergen,r.jsx("button",{onClick:()=>C(_=>({..._,allergen:"all"})),children:r.jsx(at,{className:"h-3 w-3"})})]}),S.selectedAllergens.map(_=>{const Y=s.find(q=>q.id===_);return Y?r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full",children:[Y.name,r.jsx("button",{onClick:()=>C(q=>({...q,selectedAllergens:q.selectedAllergens.filter(G=>G!==_)})),children:r.jsx(at,{className:"h-3 w-3"})})]},_):null}),c&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full",children:['Search: "',c,'"',r.jsx("button",{onClick:()=>u(""),children:r.jsx(at,{className:"h-3 w-3"})})]}),r.jsx("button",{onClick:D,className:"text-sm text-red-600 dark:text-red-400 hover:underline",children:"Clear All"})]}),r.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-full p-1 shadow-sm",children:[r.jsx("button",{onClick:()=>h("grid"),className:`px-4 py-2 rounded-full transition-all duration-200 ${g==="grid"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:e("productsContent.viewMode.grid"),children:r.jsx(ni,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>h("list"),className:`px-4 py-2 rounded-full transition-all duration-200 ${g==="list"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:e("productsContent.viewMode.list"),children:r.jsx(nM,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"relative",ref:P,children:[r.jsxs("button",{onClick:()=>k(!y),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border rounded-xl transition-all duration-200 shadow-sm ${W?"text-primary-700 dark:text-primary-300 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-900/30 border-primary-200 dark:border-primary-800":"text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:shadow-md"}`,title:e("IngredientsContent.filter"),children:[r.jsx(ac,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:e("IngredientsContent.filter")}),r.jsx(lr,{className:`h-4 w-4 transition-transform duration-200 ${y?"rotate-180":""}`})]}),r.jsx(jt,{children:y&&r.jsx(re.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute top-full mt-2 w-96 bg-white dark:bg-gray-800 border border-gray-200/50 dark:border-gray-700/50 rounded-2xl shadow-xl z-50 overflow-hidden",children:r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3",children:e("filter.status")||"Status"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"all",label:e("filter.all")||"All",icon:Ft},{value:"available",label:e("filter.active")||"Available",icon:cn},{value:"unavailable",label:e("filter.inactive")||"Unavailable",icon:Wo}].map(_=>{const Y=_.icon;return r.jsxs("button",{onClick:()=>C(q=>({...q,status:_.value})),className:`flex items-center gap-2 px-4 py-2 text-sm rounded-xl transition-all duration-200 ${S.status===_.value?"bg-gradient-to-r from-primary-100 to-primary-200 dark:from-primary-900/50 dark:to-primary-900/70 text-primary-700 dark:text-primary-300 shadow-sm":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:shadow-sm"}`,children:[r.jsx(Y,{className:"h-4 w-4"}),r.jsx("span",{children:_.label})]},_.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3",children:e("filter.allergen")||"Allergen Type"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"all",label:e("filter.all")||"All",icon:Ft},{value:"allergenic",label:e("filter.allergenic")||"Allergenic",icon:oa},{value:"non-allergenic",label:e("filter.nonallergenic")||"Non-allergenic",icon:nn}].map(_=>{const Y=_.icon;return r.jsxs("button",{onClick:()=>C(q=>({...q,allergen:_.value})),className:`flex items-center gap-2 px-4 py-2 text-sm rounded-xl transition-all duration-200 ${S.allergen===_.value?"bg-gradient-to-r from-primary-100 to-primary-200 dark:from-primary-900/50 dark:to-primary-900/70 text-primary-700 dark:text-primary-300 shadow-sm":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:shadow-sm"}`,children:[r.jsx(Y,{className:"h-4 w-4"}),r.jsx("span",{children:_.label})]},_.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3",children:e("filter.specific.allergens")||"Specific Allergens"}),r.jsx("div",{className:"max-h-40 overflow-y-auto space-y-3 pr-2",children:s.map(_=>r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer text-sm",children:[r.jsx("input",{type:"checkbox",checked:S.selectedAllergens.includes(_.id),onChange:Y=>{const q=Y.target.checked?[...S.selectedAllergens,_.id]:S.selectedAllergens.filter(G=>G!==_.id);C(G=>({...G,selectedAllergens:q}))},className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500 transition-colors"}),r.jsxs("span",{className:"text-gray-800 dark:text-gray-200",children:[_.icon," ",_.name]})]},_.id))})]}),r.jsx("button",{onClick:()=>k(!1),className:"w-full py-2 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition-colors shadow-sm",children:"Apply Filters"})]})})})]}),r.jsxs("div",{className:"relative",ref:E,children:[r.jsxs("button",{onClick:()=>j(!v),className:"flex items-center gap-2 px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl hover:shadow-md transition-all duration-200 shadow-sm",title:e("IngredientsContent.sort"),children:[r.jsx(fm,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:e("IngredientsContent.sort")}),r.jsx(lr,{className:`h-4 w-4 transition-transform duration-200 ${v?"rotate-180":""}`})]}),r.jsx(jt,{children:v&&r.jsx(re.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute top-full mt-2 w-64 bg-white dark:bg-gray-800 border border-gray-200/50 dark:border-gray-700/50 rounded-2xl shadow-xl z-50 overflow-hidden",children:r.jsx("div",{className:"p-3 space-y-1",children:$.map(_=>{const Y=_.icon;return r.jsxs("button",{onClick:()=>{b(_.value),j(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm rounded-xl transition-all duration-200 ${x===_.value?"bg-gradient-to-r from-primary-100 to-primary-200 dark:from-primary-900/50 dark:to-primary-900/70 text-primary-700 dark:text-primary-300 shadow-sm":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:shadow-sm"}`,children:[r.jsx(Y,{className:"h-4 w-4"}),r.jsx("span",{children:_.label}),x===_.value&&r.jsx(br,{className:"h-4 w-4 ml-auto"})]},_.value)})})})})]}),r.jsxs("button",{onClick:()=>I(!0),className:`flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-xl hover:from-primary-700 hover:to-primary-800 transition-all duration-200 shadow-md hover:shadow-lg ${t?"flex-row-reverse":""}`,"aria-label":e("IngredientsContent.accessibility.addButton"),children:[r.jsx(Nt,{className:"w-5 h-5"}),e("IngredientsContent.newIngredient")]})]})]})}),r.jsx(jt,{mode:"wait",children:g==="grid"?r.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:X.length===0?r.jsxs(re.div,{initial:{scale:.95},animate:{scale:1},className:"col-span-full flex flex-col items-center justify-center py-16 bg-white dark:bg-gray-800 rounded-2xl shadow-md border border-gray-200/50 dark:border-gray-700/50",children:[r.jsx(Ft,{className:"h-20 w-20 text-gray-300 dark:text-gray-600 mb-4"}),r.jsx("p",{className:"text-lg font-medium text-gray-500 dark:text-gray-400",children:e(c||W?"IngredientsContent.noIngredientsFound":"IngredientsContent.noIngredientsYet")})]}):X.map((_,Y)=>r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Y*.05},whileHover:{scale:1.02,transition:{duration:.2}},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-md border border-gray-200/50 dark:border-gray-700/50 p-6 hover:shadow-xl transition-shadow duration-300 group",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("h3",{className:"font-bold text-xl text-gray-900 dark:text-white",children:_.name}),r.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[r.jsx("button",{onClick:()=>B(_),className:"p-2 text-gray-500 hover:text-primary-600 dark:hover:text-primary-400 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:e("IngredientsContent.edit"),children:r.jsx(Kl,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>H(_),className:"p-2 text-gray-500 hover:text-red-600 dark:hover:text-red-400 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:e("IngredientsContent.delete"),children:r.jsx(er,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("span",{className:`inline-flex px-4 py-1 text-sm font-semibold rounded-full shadow-sm ${_.isAvailable?"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-900/50 text-green-800 dark:text-green-300":"bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/30 dark:to-red-900/50 text-red-800 dark:text-red-300"}`,children:_.isAvailable?e("IngredientsContent.available"):e("IngredientsContent.unavailable")}),_?.isAllergenic?r.jsxs("div",{className:"space-y-2",children:[r.jsx("span",{className:"inline-flex px-4 py-1 text-sm font-semibold rounded-full shadow-sm bg-gradient-to-r from-yellow-100 to-yellow-200 dark:from-yellow-900/30 dark:to-yellow-900/50 text-yellow-800 dark:text-yellow-300",children:e("IngredientsContent.containsAllergens")}),_?.allergenIds?.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 text-sm text-gray-600 dark:text-gray-400",children:s.filter(q=>_.allergenIds.includes(q.id)).map(q=>r.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-full",children:[q.icon," ",q.name]},q.id))})]}):r.jsx("span",{className:"inline-flex px-4 py-1 text-sm font-semibold rounded-full shadow-sm bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-900/50 text-green-800 dark:text-green-300",children:e("IngredientsContent.noAllergens")})]})]},_.id))},"grid"):r.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-md border border-gray-200/50 dark:border-gray-700/50 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full divide-y divide-gray-200 dark:divide-gray-700",role:"table","aria-label":e("IngredientsContent.accessibility.ingredientsTable"),children:[r.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:`px-6 py-4 text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider ${t?"text-right":"text-left"}`,children:e("IngredientsContent.ingredientName")}),r.jsx("th",{className:`px-6 py-4 text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider ${t?"text-right":"text-left"}`,children:e("IngredientsContent.status")}),r.jsx("th",{className:`px-6 py-4 text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider ${t?"text-right":"text-left"}`,children:e("IngredientsContent.allergenInfo")}),r.jsx("th",{className:`px-6 py-4 text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider ${t?"text-right":"text-left"}`,children:e("IngredientsContent.actions")})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:X.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"px-6 py-12 text-center",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Ft,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mb-4"}),r.jsx("p",{className:"text-lg font-medium text-gray-500 dark:text-gray-400",children:e(c||W?"IngredientsContent.noIngredientsFound":"IngredientsContent.noIngredientsYet")})]})})}):X.map((_,Y)=>r.jsxs(re.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Y*.05},className:"hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100 dark:hover:from-gray-700/50 dark:hover:to-gray-800/50 transition-colors duration-200",children:[r.jsx("td",{className:"px-6 py-5 whitespace-nowrap font-medium text-gray-900 dark:text-white text-lg",children:_.name}),r.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full shadow-sm ${_.isAvailable?"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-900/50 text-green-800 dark:text-green-300":"bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/30 dark:to-red-900/50 text-red-800 dark:text-red-300"}`,"aria-label":e("IngredientsContent.accessibility.statusBadge"),children:_.isAvailable?e("IngredientsContent.available"):e("IngredientsContent.unavailable")})}),r.jsx("td",{className:"px-6 py-5",children:r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:_?.isAllergenic?r.jsxs("div",{className:"space-y-1",children:[r.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-semibold rounded-full shadow-sm bg-gradient-to-r from-yellow-100 to-yellow-200 dark:from-yellow-900/30 dark:to-yellow-900/50 text-yellow-800 dark:text-yellow-300","aria-label":e("IngredientsContent.accessibility.allergenBadge"),children:e("IngredientsContent.containsAllergens")}),_?.allergenIds?.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 text-sm text-gray-600 dark:text-gray-400",children:s.filter(q=>_.allergenIds.includes(q.id)).map(q=>r.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-full",children:[q.icon," ",q.name]},q.id))})]}):r.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-semibold rounded-full shadow-sm bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-900/50 text-green-800 dark:text-green-300","aria-label":e("IngredientsContent.accessibility.allergenBadge"),children:e("IngredientsContent.noAllergens")})})}),r.jsx("td",{className:`px-6 py-5 whitespace-nowrap ${t?"text-left":"text-right"}`,children:r.jsxs("div",{className:`flex items-center gap-3 ${t?"flex-row-reverse justify-end":""}`,children:[r.jsx("button",{onClick:()=>B(_),className:"p-2 text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 rounded-full hover:bg-primary-100 dark:hover:bg-primary-900/20 transition-colors",title:e("IngredientsContent.edit"),"aria-label":e("IngredientsContent.accessibility.editButton"),children:r.jsx(Kl,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>H(_),className:"p-2 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 rounded-full hover:bg-red-100 dark:hover:bg-red-900/20 transition-colors",title:e("IngredientsContent.delete"),"aria-label":e("IngredientsContent.accessibility.deleteButton"),children:r.jsx(er,{className:"w-5 h-5"})})]})})]},_.id))})]})})},"list")}),r.jsx(JS,{isOpen:A,onClose:()=>I(!1),onSuccess:te,allergens:s,isEdit:!1}),r.jsx(JS,{isOpen:M,onClose:()=>{F(!1),K(null)},onSuccess:te,ingredient:V,allergens:s,isEdit:!0}),r.jsx(Vi,{isOpen:Q,onClose:()=>{U(!1),K(null)},onConfirm:z,title:e("IngredientsContent.deleteIngredient"),message:V?e("IngredientsContent.deleteConfirmMessage").replace("{name}",V.name):"",isSubmitting:Z,itemName:V?.name})]})},tH=({isOpen:e,onClose:t,activeTab:a,setActiveTab:n,restaurantName:s,branchName:i,isBranchOnly:o,onLogout:l})=>{const c=ya(),{t:u,language:g}=qe(),h=g==="ar",x=(y,k)=>{c(`/dashboard/${y}`),n(k),e&&t()},b=()=>{c("/")};return r.jsxs(r.Fragment,{children:[e&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:t}),r.jsx("aside",{className:`fixed inset-y-0 ${h?"right-0":"left-0"} z-30 w-64 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${e?"translate-x-0":h?"translate-x-full":"-translate-x-full"}`,children:r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:`px-6 py-5 flex items-center justify-between border-b border-gray-200 dark:border-gray-700 ${h?"flex-row-reverse":""}`,children:[r.jsxs("button",{onClick:b,className:"flex items-center hover:opacity-80 transition-opacity duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 rounded-lg p-1",children:[r.jsx(pr,{className:"h-8 w-8 text-primary-600 dark:text-primary-400"}),r.jsx("span",{className:`${h?"mr-3":"ml-3"} text-xl font-bold text-gray-900 dark:text-white`,children:u("dashboard.sidebar.title")})]}),r.jsx("button",{onClick:t,className:"lg:hidden p-2 rounded-md text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(at,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 truncate",children:s}),i&&r.jsxs("div",{className:`mt-1 flex items-center ${h?"space-x-reverse":""} space-x-2`,children:[r.jsx("span",{className:"text-sm text-primary-600 dark:text-primary-400 font-medium",children:i}),r.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-primary-100 text-primary-800 dark:bg-primary-900/50 dark:text-primary-300",children:u("dashboard.sidebar.branch")})]})]}),r.jsxs("nav",{className:"mt-5 flex-1 px-3 space-y-1",children:[r.jsxs("button",{onClick:()=>x("branchProducts","branchProducts"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="branchProducts"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(Aa,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:u("dashboard.products.title")})]}),r.jsxs("button",{onClick:()=>x("TableManagement","TableManagement"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="TableManagement"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx($l,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:u("dashboard.tables.title")})]}),r.jsxs("button",{onClick:()=>x("BranchManagement","BranchManagement"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="BranchManagement"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx($l,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:u("dashboard.branchManagementTitle")})]}),r.jsxs("button",{onClick:()=>x("Branchorders","Branchorders"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="Branchorders"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx($l,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:u("dashboard.orders.title")})]}),r.jsxs("button",{onClick:()=>x("orderType","orderType"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="orderType"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(Vu,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:u("dashboard.orderType.title")})]}),r.jsxs("button",{onClick:()=>x("moneyCase","moneyCase"),className:`w-full flex items-center px-1 py-2 rounded-md transition-colors duration-200 ${a==="orderType"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(Vu,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:u("dashboard.moneyCase.title")})]}),!o&&r.jsxs("button",{onClick:()=>x("users","users"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="users"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(Ht,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:u("dashboard.users.title")})]}),!o&&r.jsxs("button",{onClick:()=>x("BranchSettings","BranchSettings"),className:`w-full flex items-center px-4 py-3 rounded-lg ${a==="BranchSettings"?"bg-primary-50 text-primary-700 dark:bg-primary-900/50 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(Yr,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:u("dashboard.settings.title")})]})]}),r.jsx("div",{className:"px-4 py-4 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("button",{onClick:l,className:`w-full flex items-center px-4 py-3 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg ${h?"text-right":"text-left"}`,children:[r.jsx(nc,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:u("dashboard.sidebar.logout")})]})})]})})]})};class rH{baseUrl="/api/BranchCategories";transformAPIDataToComponentData(t){return t.map(a=>({categoryId:a.categoryId,categoryName:a.categoryName,description:a.description||"",status:a.status,displayOrder:a.displayOrder,restaurantId:a.restaurantId,isExpanded:a.isExpanded??!0,products:a.products?.map(n=>({id:n.productId,name:n.name,description:n.description||"",price:n.price,imageUrl:n.imageUrl||"",isAvailable:n.status,status:n.status,displayOrder:n.displayOrder,categoryId:a.categoryId}))||[],productId:void 0,name:void 0}))}async getAvailableProductsForBranch(t){try{const{categoryId:a,onlyActive:n,includes:s}=t,i=new URLSearchParams;a&&i.append("categoryId",a.toString()),n!==void 0&&i.append("onlyActive",n.toString()),s&&i.append("includes",s);const o=await se.get(`/api/BranchProducts/branch/available-products?${i.toString()}`);return N.info("Available products for branch retrieved successfully",{categoryId:a,onlyActive:n,includes:s,count:o.data.length}),o.data}catch(a){return N.error("Error retrieving available products for branch:",a),[]}}async getAvailableCategoriesForBranch(){try{const t=new URLSearchParams({includes:"products"}),a=await se.get(`${this.baseUrl}/branch/available-categories?${t.toString()}`);return N.info("Available categories for branch retrieved successfully",{count:a.data.length}),this.transformAPIDataToComponentData(a.data)}catch(t){return N.error("Error retrieving available categories for branch:",t),[]}}async getBranchCategories(){try{const t=await se.get(`${this.baseUrl}`,{params:{includeInactive:!0}});return N.info("Branch categories retrieved successfully",{count:t.data}),t.data}catch(t){return N.error("Error retrieving branch categories:",t),[]}}async getPublicCategoriesForBranch(t){try{const a=await se.get(`${this.baseUrl}/branch/${t}/public-categories`);return N.info("Public categories for branch retrieved successfully",{branchId:t,count:a.data.length}),this.transformAPIDataToComponentData(a.data)}catch(a){return N.error("Error retrieving public categories for branch:",a),[]}}async getBranchCategory(t){try{const a=await se.get(`${this.baseUrl}/category/${t}`);return N.info("Branch category retrieved successfully",{categoryId:t}),{categoryId:a.data.categoryId,categoryName:a.data.categoryName,description:a.data.description||"",status:a.data.status,displayOrder:a.data.displayOrder,restaurantId:a.data.restaurantId,isExpanded:!0,products:a.data.products.map(s=>({productId:s.productId,id:s.productId,name:s.name,description:s.description||"",price:s.price,imageUrl:s.imageUrl||"",isAvailable:s.status,status:s.status,displayOrder:s.displayOrder,categoryId:a.data.categoryId,originalProductId:s.productId})),productId:void 0,name:void 0}}catch(a){return N.error("Error retrieving branch category:",a),null}}async createBranchCategory(t){try{const a=t;N.info("Creating branch category",{payload:a});try{const n=await se.post(`${this.baseUrl}`,a);return N.info("Branch category created successfully",{data:n.data}),n.data}catch(n){if(n.response?.data?.errors&&n.response.data.errors.createBranchCategoryDto){N.info("DTO wrapper required, retrying...");const s={createBranchCategoryDto:t},i=await se.post(`${this.baseUrl}`,s);return N.info("Branch category created successfully (with DTO wrapper)",{data:i.data}),{categoryId:i.data.categoryId,categoryName:i.data.categoryName,description:i.data.description||"",status:i.data.status,displayOrder:i.data.displayOrder,restaurantId:i.data.restaurantId,isExpanded:!0,products:[],productId:void 0,name:void 0}}throw n}}catch(a){throw N.error("❌ Error creating branch category:",a),a}}async updateBranchCategory(t){try{const a={branchCategoryId:t.branchCategoryId,isActive:t.isActive??!0,displayName:t.displayName??"",displayOrder:t.displayOrder??0};N.info("Updating branch category",{payload:a});const n=await se.put(`${this.baseUrl}`,a);return N.info("Branch category updated successfully",{data:n.data}),{categoryId:n.data.categoryId,categoryName:n.data.categoryName,description:n.data.description||"",status:n.data.status,displayOrder:n.data.displayOrder,restaurantId:n.data.restaurantId,isExpanded:!0,products:n.data.products?.map(i=>({productId:i.productId,id:i.productId,name:i.name,description:i.description||"",price:i.price,imageUrl:i.imageUrl||"",isAvailable:i.status,status:i.status,displayOrder:i.displayOrder,categoryId:n.data.categoryId}))||[],productId:void 0,name:void 0}}catch(a){throw N.error("❌ Error updating branch category:",a),a}}async deleteBranchCategory(t){try{N.info("Deleting branch category",{id:t}),await se.delete(`${this.baseUrl}`,{params:{id:t}}),N.info("Branch category deleted successfully",{id:t})}catch(a){throw N.error("❌ Error deleting branch category:",a),a}}async reorderBranchCategories(t){try{const a={categoryOrders:t};N.info("Reordering branch categories",{payload:a,totalCategories:t.length});const n=await se.post(`${this.baseUrl}/reorder`,a);N.info("Branch categories reordered successfully",{updatedCategories:t.length,response:n.status})}catch(a){throw N.error("❌ Error reordering branch categories:",a),a.response?.status===400?new Error("Invalid branch category reorder data"):a.response?.status===404?new Error("One or more branch categories not found"):new Error("Error occurred while saving branch category order")}}async batchUpdateBranchCategories(t){try{const a={categoryIds:t};N.info("Batch updating branch categories",{payload:a,totalCategories:t.length});const n=await se.post(`${this.baseUrl}/batch-update`,a);N.info("Branch categories batch updated successfully",{updatedCategories:t.length,response:n.status})}catch(a){throw N.error("❌ Error batch updating branch categories:",a),a.response?.status===400?new Error("Invalid batch update data"):a.response?.status===404?new Error("One or more categories not found"):new Error("Error occurred while batch updating categories")}}async getDeletedBranchCategories(){try{N.info("Fetching deleted branch categories");const t=await se.get(`${this.baseUrl}/deleted`);return N.info("Deleted branch categories retrieved successfully",{count:t.data.length}),t.data}catch(t){return N.error("❌ Error retrieving deleted branch categories:",t),[]}}async restoreBranchCategory(t){try{N.info("Restoring branch category",{id:t}),await se.post(`${this.baseUrl}/${t}/restore`),N.info("Branch category restored successfully",{id:t})}catch(a){throw N.error("❌ Error restoring branch category:",a),a}}}const Ts=new rH;class aH{baseUrl="/api/BranchProducts";transformComplexAPIDataToComponentData(t){return t.map(a=>({productId:a.branchProductId,name:a.product?.name||`Product ${a.productId}`,description:"",price:a.price,imageUrl:a.product?.imageUrl||"",isAvailable:a.isActive,status:a.isActive,displayOrder:a.displayOrder,categoryId:a.branchCategoryId,branchProductId:a.branchProductId,originalProductId:a.productId,product:a.product,branchCategory:a.branchCategory,ingredients:a.ingredients,allergens:a.allergens,orderDetails:a.orderDetails}))}transformSimpleAPIDataToComponentData(t){return t.map(a=>({id:a.branchProductId,branchProductId:a.branchProductId,name:a.name,description:a.description||"",price:a.price,imageUrl:a.imageUrl||"",isAvailable:a.isActive??a.status??!0,status:a.isActive??a.status??!0,displayOrder:a.displayOrder||0,categoryId:a.branchCategoryId,originalProductId:a.productId}))}transformSingleProduct(t){return{id:t.branchProductId||t.productId,name:t.name,description:t.description||"",price:t.price,imageUrl:t.imageUrl||"",isAvailable:t.isActive??t.status??!0,status:t.status??!0,displayOrder:t.displayOrder||0,categoryId:t.branchCategoryId,branchProductId:t.branchProductId,originalProductId:t.productId}}async getBranchProducts(t){try{let a=this.baseUrl;if(t&&t.length>0){const o=t.join(", ");a+=`?includes=${encodeURIComponent(o)}`,N.info("Fetching branch products with includes",{includes:o,url:a})}const n=await se.get(a),s=n.data[0];return s&&(s.product||s.branchCategory||s.ingredients||s.allergens)?(N.info("Using complex transformation for response with includes"),this.transformComplexAPIDataToComponentData(n.data)):(N.info("Using simple transformation for basic response"),this.transformSimpleAPIDataToComponentData(n.data))}catch(a){return N.error("Error retrieving branch products:",a),[]}}async getBranchProductsWithDetails(){return this.getBranchProducts(["product","branchCategory","ingredients","allergens","orderDetails"])}async getBranchProductsWithIngredientsAndAllergens(){return this.getBranchProducts(["ingredients","allergens"])}async getBranchProduct(t){try{const a=await se.get(`${this.baseUrl}/${t}`);return N.info("Branch product retrieved successfully",{id:t}),this.transformSingleProduct(a.data)}catch(a){return N.error("Error retrieving branch product:",a),null}}async getBranchMenu(t,a){try{let n=`${this.baseUrl}/branch/${t}/menu`;if(a&&a.length>0){const i=a.join(", ");n+=`?includes=${encodeURIComponent(i)}`}const s=await se.get(`${this.baseUrl}/branch/${t}/menu`);return N.info("Branch menu retrieved successfully",{branchId:t,hasIncludes:!!a?.length,branchName:s.data?.branchName,categoriesCount:s.data?.categories?.length}),s.data}catch(n){throw N.error("Error retrieving branch menu:",n),n}}async createBranchProduct(t){try{const a=t;N.info("Creating branch product",{payload:a});try{const n=await se.post(`${this.baseUrl}`,a);return N.info("Branch product created successfully",{data:n.data}),this.transformSingleProduct(n.data)}catch(n){if(n.response?.data?.errors&&n.response.data.errors.createBranchProductDto){N.info("DTO wrapper required, retrying...");const s={createBranchProductDto:t},i=await se.post(`${this.baseUrl}`,s);return N.info("Branch product created successfully (with DTO wrapper)",{data:i.data}),this.transformSingleProduct(i.data)}throw n}}catch(a){throw N.error("❌ Error creating branch product:",a),a}}async updateBranchProduct(t,a){try{const n={branchProductId:a.branchProductId??t,price:a.price??0,isActive:a.isActive??!0,displayOrder:a.displayOrder??0,branchCategoryId:a.branchCategoryId??0};N.info("Updating branch product",{id:t,payload:n});const s=await se.put(`${this.baseUrl}/${t}`,n);return N.info("Branch product updated successfully",{id:t,data:s.data}),this.transformSingleProduct(s.data)}catch(n){throw N.error("❌ Error updating branch product:",n),n}}async deleteBranchProduct(t){try{N.info("Deleting branch product",{id:t}),await se.delete(`${this.baseUrl}/${t}`),N.info("Branch product deleted successfully",{id:t})}catch(a){throw N.error("❌ Error deleting branch product:",a),a}}async reorderBranchProducts(t){try{const a={productOrders:t};N.info("Reordering branch products",{payload:a,totalProducts:t.length});const n=await se.post(`${this.baseUrl}/reorder`,a);N.info("Branch products reordered successfully",{updatedProducts:t.length,response:n.status})}catch(a){throw N.error("❌ Error reordering branch products:",a),a.response?.status===400?new Error("Invalid branch product reorder data"):a.response?.status===404?new Error("One or more branch products not found"):new Error("Error occurred while saving branch product order")}}async activateBranchProducts(t){try{N.info("Activating multiple branch products",{branchProductIds:t});const a=t.map(n=>this.updateBranchProduct(n,{isActive:!0}));await Promise.all(a),N.info("Branch products activated successfully",{count:t.length})}catch(a){throw N.error("❌ Error activating branch products:",a),a}}async deactivateBranchProducts(t){try{N.info("Deactivating multiple branch products",{branchProductIds:t});const a=t.map(n=>this.updateBranchProduct(n,{isActive:!1}));await Promise.all(a),N.info("Branch products deactivated successfully",{count:t.length})}catch(a){throw N.error("❌ Error deactivating branch products:",a),a}}async updateBranchProductPrices(t){try{N.info("Updating multiple branch product prices",{updates:t});const a=t.map(n=>this.updateBranchProduct(n.branchProductId,{price:n.newPrice}));await Promise.all(a),N.info("Branch product prices updated successfully",{count:t.length})}catch(a){throw N.error("❌ Error updating branch product prices:",a),a}}async getDeletedBranchProducts(){try{N.info("Fetching deleted branch products");const t=await se.get(`${this.baseUrl}/deleted`);return N.info("Deleted branch products retrieved successfully",{count:t.data.length}),t.data}catch(t){return N.error("❌ Error retrieving deleted branch products:",t),[]}}async restoreBranchProduct(t){try{N.info("Restoring branch product",{id:t}),await se.post(`${this.baseUrl}/${t}/restore`),N.info("Branch product restored successfully",{id:t})}catch(a){throw N.error("❌ Error restoring branch product:",a),a}}}const Pi=new aH,nH=({isOpen:e,onClose:t,product:a})=>{const{t:n,isRTL:s}=qe(),i=(l,c)=>{try{const u=`allergens.${l}.name`,g=n(u);return g===u?c:g}catch{return c}};if(!e||!a)return null;const o=l=>{l.target===l.currentTarget&&t()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:o,children:r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl ${s?"rtl":"ltr"}`,children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-600 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20",children:r.jsxs("div",{className:`flex items-center justify-between ${s?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-4 ${s?"space-x-reverse":""}`,children:[a.imageUrl&&r.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-16 h-16 rounded-xl object-cover border-2 border-white dark:border-gray-700 shadow-md"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.name}),r.jsxs("div",{className:`flex items-center space-x-3 mt-2 ${s?"space-x-reverse":""}`,children:[r.jsxs("span",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:["$",a.price.toFixed(2)]}),a.isSelected&&r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400",children:n("branchCategories.productDetails.addedToBranch")})]})]})]}),r.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:r.jsx(at,{className:"h-6 w-6"})})]})}),r.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-120px)]",children:r.jsxs("div",{className:"p-6 space-y-8",children:[a.allergens&&a.allergens.length>0&&r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl p-6 border border-red-200 dark:border-red-800",children:[r.jsxs("div",{className:`flex items-center space-x-3 mb-4 ${s?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center",children:r.jsx(lt,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("branchCategories.productDetails.allergens")}),r.jsx("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-sm font-medium",children:a.allergens.length})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:a.allergens.map(l=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-red-200 dark:border-red-800",children:[r.jsxs("div",{className:`flex items-center space-x-2 ${s?"space-x-reverse":""}`,children:[r.jsx("span",{className:"text-2xl",children:l.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:i(l.code,l.name)}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:l.code}),l.presence&&r.jsx("div",{className:`text-xs px-2 py-1 rounded-full mt-1 ${l.presence===1?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:l.presence===1?n("branchCategories.productDetails.contains"):n("branchCategories.productDetails.mayContain")})]})]}),l.note&&r.jsx("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-300",children:l.note})]},l.allergenId))})]}),a.ingredients&&a.ingredients.length>0&&r.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[r.jsxs("div",{className:`flex items-center space-x-3 mb-4 ${s?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:r.jsx(qi,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("branchCategories.productDetails.ingredients")}),r.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full text-sm font-medium",children:a.ingredients.length})]}),r.jsx("div",{className:"space-y-4",children:a.ingredients.map(l=>r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-green-200 dark:border-green-800",children:r.jsx("div",{className:`flex items-start justify-between ${s?"flex-row-reverse":""}`,children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:`flex items-center space-x-3 mb-2 ${s?"space-x-reverse":""}`,children:[r.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:l.ingredientName}),l.isAllergenic&&r.jsx("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full text-xs font-medium",children:n("branchCategories.productDetails.allergenic")}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l.isAvailable?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:l.isAvailable?n("branchCategories.productDetails.available"):n("branchCategories.productDetails.unavailable")})]}),r.jsxs("div",{className:`flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-300 ${s?"space-x-reverse":""}`,children:[r.jsxs("span",{children:[n("branchCategories.productDetails.quantity")," ",l.quantity," ",l.unit]}),r.jsxs("span",{children:[n("branchCategories.productDetails.ingredientId")," ",l.ingredientId]})]}),l.allergens&&l.allergens.length>0&&r.jsxs("div",{className:"mt-3",children:[r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:n("branchCategories.productDetails.allergenInformation")}),r.jsx("div",{className:`flex flex-wrap gap-2 ${s?"flex-row-reverse":""}`,children:l.allergens.map(c=>r.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full text-xs ${s?"space-x-reverse":""}`,children:[r.jsx("span",{children:c.icon}),r.jsx("span",{children:i(c.code,c.name)})]},c.id))})]})]})})},l.id))})]}),(a.product||a.orderDetails)&&r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-6",children:[r.jsxs("div",{className:`flex items-center space-x-3 mb-4 ${s?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:r.jsx(Ft,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("branchCategories.productDetails.additionalInformation")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.product&&r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-3",children:n("branchCategories.productDetails.originalProduct")}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:`flex justify-between text-sm ${s?"flex-row-reverse":""}`,children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:n("branchCategories.productDetails.originalPrice")}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["$",a.product.price.toFixed(2)]})]}),r.jsxs("div",{className:`flex justify-between text-sm ${s?"flex-row-reverse":""}`,children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:n("branchCategories.productDetails.originalStatus")}),r.jsx("span",{className:`font-medium ${a.product.status?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:a.product.status?n("branchCategories.status.active"):n("branchCategories.status.inactive")})]}),r.jsxs("div",{className:`flex justify-between text-sm ${s?"flex-row-reverse":""}`,children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:n("branchCategories.productDetails.originalDisplayOrder")}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a.product.displayOrder})]})]})]}),a.orderDetails&&r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-3",children:n("branchCategories.productDetails.orderDetails")}),r.jsx("pre",{className:"text-sm text-gray-600 dark:text-gray-300 bg-white dark:bg-gray-800 p-3 rounded-lg border",children:JSON.stringify(a.orderDetails,null,2)})]})]})]})]})}),r.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50",children:r.jsxs("div",{className:`flex items-center justify-between ${s?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n("branchCategories.productDetails.lastUpdated")," ",new Date().toLocaleDateString()]}),r.jsxs("button",{onClick:t,className:`px-6 py-3 bg-blue-600 dark:bg-blue-500 text-white rounded-xl hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors flex items-center gap-2 ${s?"flex-row-reverse":""}`,children:[r.jsx(br,{className:"h-4 w-4"}),n("branchCategories.productDetails.close")]})]})})]})})},sH=({activeTab:e,branchId:t,categories:a,branchCategories:n,selectedCategories:s,selectedProducts:i,categoriesWithProducts:o,currentStep:l,expandedCategories:c,expandedBranchCategories:u,isReorderMode:g,hasUnsavedChanges:h,isReordering:x,isLoading:b,isSaving:y,isLoadingProducts:k,isLoadingBranchProducts:v,searchTerm:j,setSearchTerm:S,setSelectedCategories:C,setSelectedProducts:P,setCurrentStep:E,setExpandedCategories:A,setExpandedBranchCategories:I,setIsReorderMode:M,handleShowProductDetails:F,onCategorySelect:Q,onProductSelect:U,onSelectAllProducts:V,onClearAllProducts:K,onProceedToProductSelection:Z,onProceedToReview:ie,onBackToCategorySelection:te,onBackToProductSelection:R,onSave:D,onMoveUp:W,onMoveDown:X,onSaveOrder:B,onAddProduct:H,onRemoveProduct:z,onDeleteCategory:$,onRefresh:_,setActiveTab:Y,editedProductPrices:q,editedCategoryNames:G,editingProductId:ee,editingCategoryId:ue,onProductPriceEdit:le,onProductPriceChange:ae,onProductPriceSave:Be,onProductPriceCancel:he,onCategoryNameEdit:we,onCategoryNameChange:De,onCategoryNameSave:Ze,onCategoryNameCancel:pt,getProductPrice:mt,getCategoryName:ut,handleShowProductAddons:Et,isCategoryActive:tr})=>{const{t:Oe,isRTL:Me}=qe(),Vr=ya(),[ur,rr]=p.useState(""),Tt=ke=>{const Pe=new Set(c);Pe.has(ke)?Pe.delete(ke):Pe.add(ke),A(Pe)},Se=ke=>{const Pe=new Set(u);Pe.has(ke)?Pe.delete(ke):Pe.add(ke),I(Pe)},Re=(ke,Pe)=>{const fe=ut(ke,Pe);rr(fe),we(ke,Pe)},de=ke=>{ur.trim()&&(De(ke,ur),Ze(ke)),rr("")},pe=ke=>{pt(ke),rr("")},ce=a.filter(ke=>ke?.categoryName?.toLowerCase().includes(j.toLowerCase())||ke?.description?.toLowerCase().includes(j.toLowerCase())),Te=o.filter(ke=>ke?.categoryName?.toLowerCase().includes(j.toLowerCase())||ke?.description?.toLowerCase().includes(j.toLowerCase())||ke.products?.some(Pe=>Pe.name?.toLowerCase().includes(j.toLowerCase())||Pe.description?.toLowerCase().includes(j.toLowerCase()))),Le=ce.filter(ke=>!n.some(Pe=>Pe.categoryId===ke.categoryId)),ct=()=>o.map(ke=>({...ke,selectedProducts:ke.products.filter(Pe=>i.has(Pe.id))})).filter(ke=>s.has(ke.categoryId)),Pt=({originalPrice:ke,isEditing:Pe,onEdit:fe,onSave:Ge,onCancel:ft,onChange:vt,currentPrice:kt,showEditButton:Ot=!0})=>{const mr=Math.abs(kt-ke)>.001;return Pe?r.jsxs("div",{className:`flex items-center space-x-2 ${Me?"space-x-reverse":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx(Qr,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-3 w-3 text-gray-400"}),r.jsx("input",{title:"number",type:"number",step:"1",min:"0",value:kt,onChange:Ut=>vt(Ut.target.value),className:"pl-6 pr-2 py-1 w-20 text-sm border border-blue-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0,onKeyDown:Ut=>{Ut.key==="Enter"&&Ge(),Ut.key==="Escape"&&ft()}})]}),r.jsx("button",{onClick:Ge,className:"p-1 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:r.jsx(br,{className:"h-3 w-3"})}),r.jsx("button",{onClick:ft,className:"p-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:r.jsx(at,{className:"h-3 w-3"})})]}):r.jsxs("div",{className:`flex items-center space-x-2 ${Me?"space-x-reverse":""}`,children:[r.jsxs("span",{className:`font-bold ${mr?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:["$",kt.toFixed(2)]}),mr&&r.jsxs("span",{className:"text-xs text-gray-500 line-through",children:["$",ke.toFixed(2)]}),Ot&&r.jsx("button",{onClick:fe,className:"p-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",title:"Edit price",children:r.jsx(Vo,{className:"h-3 w-3"})})]})},Mr=({categoryId:ke,originalName:Pe,currentDisplayName:fe,showEditButton:Ge=!0,isActive:ft=!0})=>{const vt=ue===ke,kt=fe!==Pe;return vt?r.jsxs("div",{className:`flex items-center space-x-2 ${Me?"space-x-reverse":""}`,children:[r.jsx("input",{title:"editingCategoryName",type:"text",value:ur,onChange:Ot=>rr(Ot.target.value),className:"px-3 py-2 border border-blue-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0,onKeyDown:Ot=>{Ot.key==="Enter"&&de(ke),Ot.key==="Escape"&&pe(ke)}}),r.jsx("button",{onClick:()=>de(ke),className:"p-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors",children:r.jsx(br,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>pe(ke),className:"p-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",children:r.jsx(at,{className:"h-4 w-4"})})]}):r.jsxs("div",{className:`flex items-center space-x-2 ${Me?"space-x-reverse":""}`,children:[r.jsx("h4",{className:`text-xl font-bold ${kt?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:fe}),kt&&r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(was: ",Pe,")"]}),Ge&&ft&&r.jsx("button",{onClick:()=>Re(ke,fe),className:"p-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",title:"Edit category name",children:r.jsx(Vo,{className:"h-3 w-3"})}),!ft&&r.jsx("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-xs font-medium",children:"Inactive"})]})},pn=()=>r.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 mb-8 ${Me?"rtl":"ltr"}`,children:r.jsxs("div",{className:`flex items-center justify-between ${Me?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-8 ${Me?"space-x-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${l===Ur.SELECT_CATEGORIES?"text-blue-600 dark:text-blue-400":l===Ur.SELECT_PRODUCTS||l===Ur.REVIEW_SELECTION?"text-green-600 dark:text-green-400":"text-gray-400 dark:text-gray-500"} ${Me?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${Me?"ml-3":"mr-3"} font-semibold ${l===Ur.SELECT_CATEGORIES?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":l===Ur.SELECT_PRODUCTS||l===Ur.REVIEW_SELECTION?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500"}`,children:l===Ur.SELECT_CATEGORIES?"1":r.jsx(br,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:Oe("branchCategories.steps.chooseCategories")}),r.jsxs("div",{className:"text-sm opacity-70",children:[s.size," ",Oe("branchCategories.steps.selected"),G.size>0&&r.jsxs("span",{className:"ml-2 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-xs",children:[G.size," edited"]})]})]})]}),r.jsx(Ii,{className:`h-5 w-5 text-gray-300 dark:text-gray-600 ${Me?"rotate-180":""}`}),r.jsxs("div",{className:`flex items-center ${l===Ur.SELECT_PRODUCTS?"text-blue-600 dark:text-blue-400":l===Ur.REVIEW_SELECTION?"text-green-600 dark:text-green-400":"text-gray-400 dark:text-gray-500"} ${Me?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${Me?"ml-3":"mr-3"} font-semibold ${l===Ur.SELECT_PRODUCTS?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":l===Ur.REVIEW_SELECTION?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500"}`,children:l===Ur.SELECT_PRODUCTS?"2":l===Ur.REVIEW_SELECTION?r.jsx(br,{className:"h-5 w-5"}):"2"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:Oe("branchCategories.steps.selectProducts")}),r.jsxs("div",{className:"text-sm opacity-70",children:[i.size," ",Oe("branchCategories.steps.selected"),q.size>0&&r.jsxs("span",{className:"ml-2 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full text-xs",children:[q.size," prices edited"]})]})]})]}),r.jsx(Ii,{className:`h-5 w-5 text-gray-300 dark:text-gray-600 ${Me?"rotate-180":""}`}),r.jsxs("div",{className:`flex items-center ${l===Ur.REVIEW_SELECTION?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500"} ${Me?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${Me?"ml-3":"mr-3"} font-semibold ${l===Ur.REVIEW_SELECTION?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500"}`,children:"3"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:Oe("branchCategories.steps.reviewAdd")}),r.jsx("div",{className:"text-sm opacity-70",children:Oe("branchCategories.steps.finalStep")})]})]})]}),r.jsxs("div",{className:`flex space-x-3 ${Me?"space-x-reverse":""}`,children:[l===Ur.SELECT_PRODUCTS&&r.jsxs("button",{onClick:te,className:`px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors flex items-center gap-2 ${Me?"flex-row-reverse":""}`,children:[r.jsx(Bs,{className:`h-4 w-4 ${Me?"rotate-180":""}`}),Oe("branchCategories.steps.back")]}),l===Ur.REVIEW_SELECTION&&r.jsxs("button",{onClick:R,className:`px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors flex items-center gap-2 ${Me?"flex-row-reverse":""}`,children:[r.jsx(Bs,{className:`h-4 w-4 ${Me?"rotate-180":""}`}),Oe("branchCategories.steps.back")]})]})]})}),fn=ke=>{if(g||!u.has(ke.categoryId)||!ke.products||ke.products.length===0)return null;const Pe=tr?tr(ke.categoryId):!0;return r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 p-6 bg-gray-50 dark:bg-gray-700/50",children:[!Pe&&r.jsx("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:r.jsxs("div",{className:`flex items-center ${Me?"flex-row-reverse":""}`,children:[r.jsx(lt,{className:`h-5 w-5 text-red-600 dark:text-red-400 ${Me?"ml-3":"mr-3"}`}),r.jsx("span",{className:"text-red-700 dark:text-red-300 font-medium",children:"This category is inactive"})]})}),r.jsxs("div",{className:`flex items-center justify-between mb-4 ${Me?"flex-row-reverse":""}`,children:[r.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:Oe("branchCategories.products.inCategory")}),r.jsxs("div",{className:`flex items-center space-x-4 text-sm ${Me?"space-x-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-2 ${Me?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[ke.selectedProductsCount||0," ",Oe("branchCategories.products.added")]})]}),r.jsxs("div",{className:`flex items-center space-x-2 ${Me?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),r.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[ke.unselectedProductsCount||0," ",Oe("branchCategories.products.available")]})]}),r.jsxs("div",{className:`flex items-center space-x-2 ${Me?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-300"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ke.products.map(fe=>{const Ge=fe.isSelected,ft=fe.ingredients||fe.allergens,vt=mt(fe.id,fe.price),kt=ee===fe.id;return r.jsxs("div",{className:`relative flex flex-col p-4 rounded-xl border-2 transition-all ${Ge?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"} ${Me?"space-x-reverse":""}`,children:[r.jsx("div",{className:`absolute -top-2 ${Me?"-left-2":"-right-2"} w-6 h-6 rounded-full flex items-center justify-center ${Ge?"bg-green-600 dark:bg-green-500":"bg-gray-400 dark:bg-gray-500"}`,children:Ge?r.jsx(br,{className:"h-4 w-4 text-white"}):r.jsx(Nt,{className:"h-4 w-4 text-white"})}),r.jsx("div",{className:`absolute -top-2 ${Me?"-right-2":"-left-0"}`,children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${fe.status?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-400"}`,children:fe.status?Oe("branchCategories.status.active"):Oe("branchCategories.status.inactive")})}),r.jsxs("div",{className:`flex items-start space-x-3 mb-3 mt-2 ${Me?"space-x-reverse":""}`,children:[fe.imageUrl&&r.jsx("img",{src:fe.imageUrl,alt:fe.name,className:"w-12 h-12 rounded-lg object-cover flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white truncate flex items-center",children:fe.name}),fe.description&&r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-1",children:fe.description})]})]}),r.jsx("div",{className:"mb-3",children:r.jsx(Pt,{productId:fe.id,originalPrice:fe.price,currentPrice:vt,isEditing:kt,onEdit:()=>le(fe.id,fe.price),onSave:()=>Be(fe.id),onCancel:()=>he(fe.id),onChange:Ot=>ae(fe.id,Ot),showEditButton:Ge})}),ft&&r.jsxs("div",{className:`flex items-center space-x-2 mb-3 ${Me?"space-x-reverse":""}`,children:[fe.ingredients&&fe.ingredients.length>0&&r.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full text-xs font-medium",children:[fe.ingredients.length," ",Oe("branchCategories.products.ingredients")]}),fe.allergens&&fe.allergens.length>0&&r.jsxs("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-xs font-medium",children:[fe.allergens.length," ",Oe("branchCategories.products.allergens")]})]}),r.jsxs("div",{className:`flex items-center justify-between ${Me?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex space-x-1 ${Me?"space-x-reverse":""}`,children:[ft&&r.jsx("button",{onClick:()=>F(fe),className:"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",title:Oe("branchCategories.products.viewDetails"),children:r.jsx(cn,{className:"h-4 w-4"})}),fe.isSelected&&fe.branchProductId&&Et&&r.jsxs("button",{onClick:()=>Et(fe),disabled:b,className:`p-2 rounded-lg transition-colors flex items-center justify-center ${fe.hasAddons?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 hover:bg-purple-200 dark:hover:bg-purple-800/50":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:`Configure Addons${fe.hasAddons?` (${fe.addonsCount})`:""}`,children:[r.jsx(TF,{className:"h-4 w-4"}),fe.hasAddons&&r.jsx("span",{className:"ml-1 text-xs font-medium",children:fe.addonsCount})]})]}),Ge?r.jsx("button",{onClick:async()=>{const Ot=fe.branchProductId||fe.id;await z(Ot,fe.name),setTimeout(()=>{_()},500)},disabled:b,className:"px-3 py-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors disabled:opacity-50 text-sm font-medium",title:Oe("branchCategories.products.removeFromBranch"),children:b?"Removing...":"Remove"}):r.jsx("button",{onClick:async()=>{const Ot=fe.id;await H(Ot,ke.branchCategoryId),setTimeout(()=>{_()},500)},disabled:b,className:"px-3 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors disabled:opacity-50 text-sm font-medium",title:Oe("branchCategories.products.addToBranch"),children:b?"Adding...":"Add"})]})]},fe.id)})}),r.jsx("div",{className:"mt-4 p-4 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:`flex items-center justify-between text-sm ${Me?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-6 ${Me?"space-x-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-2 ${Me?"space-x-reverse":""}`,children:[r.jsx(xt,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),r.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[r.jsx("span",{className:"font-medium",children:ke.selectedProductsCount||0})," ",Oe("branchCategories.products.addedToBranch")]})]}),r.jsxs("div",{className:`flex items-center space-x-2 ${Me?"space-x-reverse":""}`,children:[r.jsx(Ft,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}),r.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[r.jsx("span",{className:"font-medium",children:ke.unselectedProductsCount||0})," ",Oe("branchCategories.products.moreAvailableToAdd")]})]}),r.jsxs("div",{className:`flex items-center space-x-2 ${Me?"space-x-reverse":""}`,children:[r.jsx(on,{className:"h-4 w-4 text-blue-400 dark:text-blue-500"}),r.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[r.jsx("span",{className:"font-medium",children:ke.products?.filter(fe=>fe.ingredients||fe.allergens).length||0})," ",Oe("branchCategories.products.withDetailedInfo")]})]})]}),r.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[Oe("branchCategories.manage.total")," ",ke.products?.length||0," ",Oe("branchCategories.products.products")]})]})})]})};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 mb-8 overflow-hidden",children:r.jsxs("div",{className:"flex",children:[r.jsx("button",{onClick:()=>Y("add"),className:`flex-1 py-6 px-8 text-lg font-semibold transition-all ${e==="add"?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 border-b-4 border-blue-600 dark:border-blue-400":"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:`flex items-center justify-center space-x-3 ${Me?"space-x-reverse":""}`,children:[r.jsx(Nt,{className:"h-6 w-6"}),r.jsx("span",{children:Oe("branchCategories.tabs.addNew")}),Le.some(ke=>ke.status)&&r.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 px-3 py-1 rounded-full text-sm font-medium",children:Le.filter(ke=>ke.status).length})]})}),r.jsx("button",{onClick:()=>Y("manage"),className:`flex-1 py-6 px-8 text-lg font-semibold transition-all ${e==="manage"?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 border-b-4 border-blue-600 dark:border-blue-400":"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:`flex items-center justify-center space-x-3 ${Me?"space-x-reverse":""}`,children:[r.jsx(ni,{className:"h-6 w-6"}),r.jsx("span",{children:Oe("branchCategories.tabs.manageExisting")}),r.jsx("span",{className:"bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400 px-3 py-1 rounded-full text-sm font-medium",children:n.length})]})})]})}),e==="add"?r.jsxs(r.Fragment,{children:[r.jsx(pn,{}),l===Ur.SELECT_CATEGORIES&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:[r.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700",children:r.jsxs("div",{className:`flex items-center justify-between ${Me?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Oe("branchCategories.addCategories.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:Oe("branchCategories.addCategories.subtitle")})]}),r.jsxs("div",{className:`flex items-center space-x-4 ${Me?"space-x-reverse":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ja,{className:`absolute ${Me?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 h-5 w-5`}),r.jsx("input",{type:"text",placeholder:Oe("branchCategories.search.categories"),value:j,onChange:ke=>S(ke.target.value),className:`${Me?"pr-10 pl-4":"pl-10 pr-4"} py-3 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent w-80 bg-white dark:bg-gray-700 text-gray-900 dark:text-white`})]}),r.jsxs("button",{onClick:_,disabled:b,className:`px-4 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-xl transition-colors flex items-center gap-2 text-gray-700 dark:text-gray-300 ${Me?"flex-row-reverse":""}`,children:[r.jsx(Un,{className:`h-4 w-4 ${b?"animate-spin":""}`}),Oe("branchCategories.actions.refresh")]})]})]})}),r.jsx("div",{className:"p-6",children:b?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ot,{className:"h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:Oe("branchCategories.actions.loading")})]}):Le.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ds,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:Oe("branchCategories.addCategories.noAvailable")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:Oe("branchCategories.addCategories.allAdded")})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Le.map(ke=>{const Pe=s.has(ke.categoryId),fe=ut(ke.categoryId,ke.categoryName),Ge=ue===ke.categoryId;return r.jsxs("div",{className:`relative rounded-2xl border-2 transition-all cursor-pointer hover:shadow-lg ${Pe?"border-blue-300 dark:border-blue-600 bg-blue-50 dark:bg-blue-900/20 shadow-md":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-500"}`,onClick:Ge?void 0:()=>Q(ke.categoryId),children:[Pe&&r.jsx("div",{className:`absolute -top-2 ${Me?"-left-2":"-right-2"} w-6 h-6 bg-blue-600 dark:bg-blue-500 rounded-full flex items-center justify-center`,children:r.jsx(br,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:`flex items-start justify-between mb-4 ${Me?"flex-row-reverse":""}`,children:r.jsxs("div",{className:"flex-1",children:[r.jsx(Mr,{categoryId:ke.categoryId,originalName:ke.categoryName,currentDisplayName:fe,showEditButton:!1}),ke.description&&r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-3 mt-2",children:ke.description})]})}),r.jsx("div",{className:`flex items-center justify-between ${Me?"flex-row-reverse":""}`,children:r.jsxs("div",{className:`flex items-center space-x-4 ${Me?"space-x-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-2 ${Me?"space-x-reverse":""}`,children:[r.jsx(Ft,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}),r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[ke.products?.length," ",Oe("branchCategories.products.products")]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${ke.status?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:ke.status?Oe("branchCategories.status.active"):Oe("branchCategories.status.inactive")})]})})]})]},ke.categoryId)})})}),s.size>0&&r.jsx("div",{className:"p-6 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:r.jsxs("div",{className:`flex items-center justify-between ${Me?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[r.jsx("span",{className:"font-medium",children:s.size})," ",Oe("branchCategories.addCategories.categoriesSelected"),G.size>0&&r.jsxs("span",{className:"ml-2 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-xs",children:[G.size," with custom names"]})]}),r.jsxs("div",{className:`flex space-x-3 ${Me?"space-x-reverse":""}`,children:[r.jsx("button",{onClick:()=>C(new Set),className:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:Oe("branchCategories.addCategories.clearSelection")}),r.jsxs("button",{onClick:Z,className:`px-8 py-3 bg-blue-600 dark:bg-blue-500 text-white rounded-xl hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors flex items-center gap-2 ${Me?"flex-row-reverse":""}`,children:[Oe("branchCategories.addCategories.nextSelectProducts"),r.jsx(Ii,{className:`h-4 w-4 ${Me?"rotate-180":""}`})]})]})]})})]}),l===Ur.SELECT_PRODUCTS&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:[r.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700",children:r.jsxs("div",{className:`flex items-center justify-between ${Me?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Oe("branchCategories.selectProducts.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:Oe("branchCategories.selectProducts.subtitle")})]}),r.jsxs("div",{className:`flex items-center space-x-4 ${Me?"space-x-reverse":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ja,{className:`absolute ${Me?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 h-5 w-5`}),r.jsx("input",{type:"text",placeholder:Oe("branchCategories.search.products"),value:j,onChange:ke=>S(ke.target.value),className:`${Me?"pr-10 pl-4":"pl-10 pr-4"} py-3 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent w-80 bg-white dark:bg-gray-700 text-gray-900 dark:text-white`})]}),r.jsxs("div",{className:`flex space-x-2 ${Me?"space-x-reverse":""}`,children:[r.jsx("button",{onClick:V,className:"px-4 py-3 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-xl hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors",children:Oe("branchCategories.selectProducts.selectAll")}),r.jsx("button",{onClick:K,className:"px-4 py-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-xl hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",children:Oe("branchCategories.selectProducts.clearAll")})]})]})]})}),r.jsx("div",{className:"p-6",children:k?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ot,{className:"h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:Oe("branchCategories.actions.loading")})]}):Te.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ft,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:Oe("branchCategories.selectProducts.noProducts")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:Oe("branchCategories.selectProducts.noProductsInCategories")})]}):r.jsx("div",{className:"space-y-8",children:Te.map(ke=>{const Pe=ut(ke.categoryId,ke.categoryName);return r.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-2xl overflow-hidden",children:[r.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-700/50 border-b border-gray-200 dark:border-gray-600 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>Tt(ke.categoryId),children:r.jsxs("div",{className:`flex items-center justify-between ${Me?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-4 ${Me?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:r.jsx(Ds,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[Pe,Pe!==ke.categoryName&&r.jsx("span",{className:"ml-2 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-xs",children:"edited"})]}),Le.some(fe=>fe.status)&&r.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 px-3 py-1 rounded-full text-sm font-medium",children:r.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[Le.filter(fe=>fe.status).length," ",Oe("branchCategories.selectProducts.available")]})})]})]}),r.jsxs("div",{className:`flex items-center space-x-4 ${Me?"space-x-reverse":""}`,children:[r.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:Le.some(fe=>fe.status)&&r.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 px-3 py-1 rounded-full text-sm font-medium",children:r.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[Le.filter(fe=>fe.status).length," ",Oe("branchCategories.selectProducts.selected")]})})}),c.has(ke.categoryId)?r.jsx(Cn,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}):r.jsx(lr,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})]})]})}),c.has(ke.categoryId)&&r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ke.products.map(fe=>{const Ge=i.has(fe.id),ft=mt(fe.id,fe.price),vt=ee===fe.id;return r.jsxs("div",{className:`relative rounded-xl border-2 transition-all hover:shadow-md ${Ge?"border-green-300 dark:border-green-600 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[Ge&&r.jsx("div",{className:`absolute -top-2 ${Me?"-left-2":"-right-2"} w-6 h-6 bg-green-600 dark:bg-green-500 rounded-full flex items-center justify-center`,children:r.jsx(br,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:`flex items-start justify-between mb-3 ${Me?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-bold text-gray-900 dark:text-white mb-1",children:fe.name}),fe.description&&r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-2 line-clamp-2",children:fe.description})]}),fe.imageUrl&&r.jsx("img",{src:fe.imageUrl,alt:fe.name,className:`w-12 h-12 rounded-lg object-cover ${Me?"mr-3":"ml-3"}`})]}),r.jsxs("div",{className:`flex items-center justify-between ${Me?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-3 ${Me?"space-x-reverse":""}`,children:[r.jsx(Pt,{productId:fe.id,originalPrice:fe.price,currentPrice:ft,isEditing:vt,onEdit:()=>le(fe.id,fe.price),onSave:()=>Be(fe.id),onCancel:()=>he(fe.id),onChange:kt=>ae(fe.id,kt),showEditButton:Ge}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${fe.status?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:fe.status?Oe("branchCategories.status.Aktif"):Oe("branchCategories.status.inactive")})]}),r.jsx("div",{className:`flex items-center space-x-2 ${Me?"space-x-reverse":""}`,children:r.jsx("button",{onClick:()=>U(fe.id),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${Ge?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/50":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 hover:bg-blue-200 dark:hover:bg-blue-900/50"}`,children:Ge?"Remove":"Select"})})]})]})]},fe.id)})})})]},ke.categoryId)})})}),r.jsx("div",{className:"p-6 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:r.jsxs("div",{className:`flex items-center justify-between ${Me?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[r.jsx("span",{className:"font-medium",children:i.size})," ",Oe("branchCategories.selectProducts.productsSelectedFrom")," ",r.jsx("span",{className:"font-medium",children:s.size})," ",Oe("branchCategories.selectProducts.categories"),q.size>0&&r.jsxs("span",{className:"ml-2 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full text-xs",children:[q.size," with custom prices"]})]}),r.jsx("div",{className:`flex space-x-3 ${Me?"space-x-reverse":""}`,children:r.jsxs("button",{onClick:ie,className:`px-8 py-3 bg-blue-600 dark:bg-blue-500 text-white rounded-xl hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors flex items-center gap-2 ${Me?"flex-row-reverse":""}`,children:[Oe("branchCategories.selectProducts.reviewSelection"),r.jsx(Ii,{className:`h-4 w-4 ${Me?"rotate-180":""}`})]})})]})})]}),l===Ur.REVIEW_SELECTION&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:[r.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700",children:r.jsx("div",{className:`flex items-center justify-between ${Me?"flex-row-reverse":""}`,children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Oe("branchCategories.review.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:Oe("branchCategories.review.subtitle")})]})})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-8",children:ct().map(ke=>{const Pe=ut(ke.categoryId,ke.categoryName),fe=Pe!==ke.categoryName;return r.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-2xl overflow-hidden",children:[r.jsx("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800",children:r.jsxs("div",{className:`flex items-center justify-between ${Me?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-4 ${Me?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-12 h-12 bg-blue-600 dark:bg-blue-500 rounded-xl flex items-center justify-center",children:r.jsx(Ds,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[Pe,fe&&r.jsx("span",{className:"ml-2 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-xs",children:"Custom name"})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:ke.selectedProducts.length>0?`${ke.selectedProducts.length} ${Oe("branchCategories.review.of")} ${ke.products.length} ${Oe("branchCategories.review.productsSelected")}`:`${Oe("branchCategories.review.all")} ${ke.products.length} ${Oe("branchCategories.review.productsWillBeAdded")}`})]})]}),r.jsxs("div",{className:`text-${Me?"left":"right"}`,children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",ke.selectedProducts.length>0?ke.selectedProducts.reduce((Ge,ft)=>{const vt=mt(ft.id,ft.price);return Ge+vt},0).toFixed(2):ke.products.reduce((Ge,ft)=>{const vt=mt(ft.id,ft.price);return Ge+vt},0).toFixed(2)]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:Oe("branchCategories.review.totalValue")})]})]})}),ke.selectedProducts.length>0&&r.jsxs("div",{className:"p-6",children:[r.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-4",children:Oe("branchCategories.review.selectedProducts")}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ke.selectedProducts.map(Ge=>{const ft=mt(Ge.id,Ge.price),vt=Math.abs(ft-Ge.price)>.001;return r.jsxs("div",{className:`flex items-center space-x-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800 ${Me?"space-x-reverse":""}`,children:[Ge.imageUrl&&r.jsx("img",{src:Ge.imageUrl,alt:Ge.name,className:"w-10 h-10 rounded-lg object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:Ge.name}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["$",ft.toFixed(2),vt&&r.jsx("span",{className:"ml-2 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full text-xs",children:"Custom price"})]})]}),r.jsx("div",{className:"w-5 h-5 bg-green-600 dark:bg-green-500 rounded-full flex items-center justify-center",children:r.jsx(br,{className:"h-3 w-3 text-white"})})]},Ge.id)})})]})]},ke.categoryId)})})}),r.jsx("div",{className:"p-6 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:r.jsxs("div",{className:`flex items-center justify-between ${Me?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-lg font-medium text-gray-900 dark:text-white",children:[Oe("branchCategories.review.readyToAdd")," ",s.size," ",Oe("branchCategories.manage.categories"),i.size>0&&` ${Oe("branchCategories.review.with")} ${i.size} ${Oe("branchCategories.products.products")}`]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:[Oe("branchCategories.review.availableInBranch")," ",t,(G.size>0||q.size>0)&&r.jsxs("span",{className:"ml-2",children:[G.size>0&&r.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-xs mr-2",children:[G.size," custom names"]}),q.size>0&&r.jsxs("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full text-xs",children:[q.size," custom prices"]})]})]})]}),r.jsxs("div",{className:`flex space-x-3 ${Me?"space-x-reverse":""}`,children:[r.jsx("button",{onClick:()=>{C(new Set),P(new Set),E(Ur.SELECT_CATEGORIES)},className:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:Oe("branchCategories.review.startOver")}),r.jsxs("button",{onClick:D,disabled:y,className:`px-8 py-3 bg-green-600 dark:bg-green-500 text-white rounded-xl hover:bg-green-700 dark:hover:bg-green-600 transition-colors flex items-center gap-2 disabled:opacity-50 ${Me?"flex-row-reverse":""}`,children:[y?r.jsx(ot,{className:"h-4 w-4 animate-spin"}):r.jsx(Ta,{className:"h-4 w-4"}),Oe(y?"branchCategories.review.adding":"branchCategories.review.addToBranch")]})]})]})})]})]}):r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:[r.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700",children:r.jsxs("div",{className:`flex items-center justify-between ${Me?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Oe("branchCategories.manage.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:Oe("branchCategories.manage.subtitle")})]}),r.jsxs("div",{className:`flex items-center space-x-4 ${Me?"space-x-reverse":""}`,children:[h&&g&&r.jsxs("button",{onClick:B,disabled:x,className:`px-4 py-3 bg-green-600 dark:bg-green-500 text-white rounded-xl hover:bg-green-700 dark:hover:bg-green-600 transition-colors flex items-center gap-2 disabled:opacity-50 ${Me?"flex-row-reverse":""}`,children:[x?r.jsx(ot,{className:"h-4 w-4 animate-spin"}):r.jsx(Ta,{className:"h-4 w-4"}),Oe(x?"branchCategories.manage.saving":"branchCategories.manage.saveOrder")]}),r.jsxs("button",{onClick:()=>M(!g),className:`px-4 py-3 rounded-xl transition-colors flex items-center gap-2 ${g?"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 hover:bg-orange-200 dark:hover:bg-orange-900/50":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"} ${Me?"flex-row-reverse":""}`,children:[r.jsx(qu,{className:"h-4 w-4"}),Oe(g?"branchCategories.manage.exitReorder":"branchCategories.manage.reorder")]}),r.jsxs("button",{onClick:()=>{Vr("/dashboard/RecycleBin",{state:{source:"branchProducts"}})},className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors duration-200",children:[r.jsx(er,{className:"h-4 w-4"}),r.jsx("span",{children:Oe("productsContent.actions.RecycleBin")})]})]})]})}),r.jsx("div",{className:"p-6",children:v?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ot,{className:"h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:Oe("branchCategories.actions.loading")})]}):n.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ds,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:Oe("branchCategories.manage.noCategoriesAdded")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:Oe("branchCategories.manage.noCategoriesAddedDesc")}),r.jsx("button",{onClick:()=>Y("add"),className:"px-6 py-3 bg-blue-600 dark:bg-blue-500 text-white rounded-xl hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors",children:Oe("branchCategories.manage.addCategories")})]}):r.jsx("div",{className:"space-y-4",children:n.map((ke,Pe)=>{const fe=tr?tr(ke.categoryId):!0;return r.jsxs("div",{className:`border-2 rounded-2xl transition-all ${fe?g?"border-orange-200 dark:border-orange-800 bg-orange-50 dark:bg-orange-900/20 cursor-move":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-500":"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/10 opacity-75"}`,children:[r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:`flex items-center justify-between ${Me?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-4 ${Me?"space-x-reverse":""}`,children:[g&&fe&&r.jsx(qu,{className:"h-6 w-6 text-gray-400 dark:text-gray-500"}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center font-bold text-blue-600 dark:text-blue-400",children:ke.displayOrder}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Mr,{categoryId:ke.categoryId,originalName:ke.category.categoryName,currentDisplayName:ke.displayName,isActive:fe}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[Oe("branchCategories.manage.original")," ",ke.category.categoryName]}),r.jsxs("div",{className:`flex items-center space-x-4 mt-1 ${Me?"space-x-reverse":""}`,children:[r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:ke.selectedProductsCount||0})," ",Oe("branchCategories.manage.added")]}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:ke.unselectedProductsCount||0})," ",Oe("branchCategories.manage.available")]}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Oe("branchCategories.manage.total")," ",ke.products?.length||0]})]})]}),!g&&ke.products&&ke.products.length>0&&r.jsx("button",{onClick:()=>Se(ke.categoryId),className:"p-2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:u.has(ke.categoryId)?r.jsx(Cn,{className:"h-5 w-5"}):r.jsx(lr,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:`flex items-center space-x-4 ${Me?"space-x-reverse":""}`,children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${ke.isActive?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:ke.isActive?Oe("branchCategories.manage.active"):Oe("branchCategories.manage.inactive")}),g?r.jsxs("div",{className:`flex space-x-2 ${Me?"space-x-reverse":""}`,children:[r.jsx("button",{onClick:()=>W(Pe),disabled:Pe===0,className:"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Cannot reorder inactive category",children:r.jsx(fm,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>X(Pe),disabled:Pe===n.length-1,className:"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Cannot reorder inactive category",children:r.jsx(pF,{className:"h-4 w-4"})})]}):r.jsxs("div",{className:`flex items-center space-x-2 ${Me?"space-x-reverse":""}`,children:[(ke.selectedProductsCount||0)>0&&r.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 rounded-lg text-xs ${Me?"space-x-reverse":""}`,children:[r.jsx(lt,{className:"h-3 w-3"}),r.jsxs("span",{children:[ke.selectedProductsCount," ",Oe("branchCategories.products.products")]})]}),r.jsx("button",{onClick:()=>$(ke.branchCategoryId,ke.displayName),disabled:(ke.selectedProductsCount||0)>0,className:`p-2 rounded-lg transition-colors ${(ke.selectedProductsCount||0)>0?"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed opacity-50":"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/50"}`,title:fe?(ke.selectedProductsCount||0)>0?Oe("branchCategories.messages.error.cannotDeleteTooltip",{count:ke.selectedProductsCount??0}):Oe("branchCategories.actions.delete"):"Cannot delete inactive category",children:r.jsx(er,{className:"h-4 w-4"})})]})]})]})}),fn(ke)]},ke.branchCategoryId)})})})]})]})};class iH{baseUrl="/api/BranchProductAddons";async getAvailableBranchProductAddons(){try{const t=`${this.baseUrl}/available`,a=await se.get(t),n=Array.isArray(a.data)?a.data:[];return N.info("Available branch product addons başarıyla alındı",{addonsCount:n.length,addons:n.map(s=>({mainProductName:s.mainProductName,addonProductName:s.addonProductName,addonPrice:s.addonPrice,addonCategoryName:s.addonCategoryName,isRecommended:s.isRecommended}))}),n}catch(t){throw N.error("Available branch product addons getirme hatası",t,{prefix:"BranchProductAddonsService"}),t?.response?.status===401?new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."):t?.response?.status===403?new Error("Bu işlem için yetkiniz bulunmuyor."):t?.response?.status===404?new Error("Branch product addons bulunamadı."):t?.response?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`Branch product addons bilgileri getirilirken hata oluştu: ${t?.message||"Bilinmeyen hata"}`)}}async getBranchProductAddons(t){try{N.info("Branch product addons getirme isteği gönderiliyor",{branchProductId:t},{prefix:"BranchProductAddonsService"});const a=`${this.baseUrl}/branch-product/${t}`,n=await se.get(a),s=Array.isArray(n.data)?n.data:[];return N.info("Branch product addons başarıyla alındı",{branchProductId:t,addonsCount:s.length},{prefix:"BranchProductAddonsService"}),s}catch(a){N.error("Branch product addons getirme hatası",a,{prefix:"BranchProductAddonsService"}),this.handleError(a,"Branch product addons getirilirken hata oluştu")}}async getBranchProductAddonsGrouped(t){try{N.info("Branch product addons grouped getirme isteği gönderiliyor",{branchProductId:t},{prefix:"BranchProductAddonsService"});const a=`${this.baseUrl}/branch-product/${t}/grouped`,n=await se.get(a);return N.info("Branch product addons grouped başarıyla alındı",{branchProductId:t},{prefix:"BranchProductAddonsService"}),n.data}catch(a){N.error("Branch product addons grouped getirme hatası",a,{prefix:"BranchProductAddonsService"}),this.handleError(a,"Grouped branch product addons getirilirken hata oluştu")}}async getBranchProductAddon(t){try{N.info("Branch product addon detayı getirme isteği gönderiliyor",{id:t},{prefix:"BranchProductAddonsService"});const a=`${this.baseUrl}/${t}`,n=await se.get(a);return N.info("Branch product addon detayı başarıyla alındı",{id:t},{prefix:"BranchProductAddonsService"}),n.data}catch(a){N.error("Branch product addon detayı getirme hatası",a,{prefix:"BranchProductAddonsService"}),this.handleError(a,"Branch product addon detayı getirilirken hata oluştu")}}async updateBranchProductAddon(t,a){try{N.info("Branch product addon güncelleme isteği gönderiliyor",{id:t,data:a},{prefix:"BranchProductAddonsService"});const n=`${this.baseUrl}/${t}`,s=await se.put(n,a);return N.info("Branch product addon başarıyla güncellendi",{id:t},{prefix:"BranchProductAddonsService"}),s.data}catch(n){N.error("Branch product addon güncelleme hatası",n,{prefix:"BranchProductAddonsService"}),this.handleError(n,"Branch product addon güncellenirken hata oluştu")}}async deleteBranchProductAddon(t){try{N.info("Branch product addon silme isteği gönderiliyor",{id:t},{prefix:"BranchProductAddonsService"});const a=`${this.baseUrl}/${t}`;await se.delete(a),N.info("Branch product addon başarıyla silindi",{id:t},{prefix:"BranchProductAddonsService"})}catch(a){N.error("Branch product addon silme hatası",a,{prefix:"BranchProductAddonsService"}),this.handleError(a,"Branch product addon silinirken hata oluştu")}}async createBranchProductAddon(t){try{N.info("Branch product addon oluşturma isteği gönderiliyor",{data:t},{prefix:"BranchProductAddonsService"});const a=await se.post(this.baseUrl,t);return N.info("Branch product addon başarıyla oluşturuldu",{id:a.data.id},{prefix:"BranchProductAddonsService"}),a.data}catch(a){N.error("Branch product addon oluşturma hatası",a,{prefix:"BranchProductAddonsService"}),this.handleError(a,"Branch product addon oluşturulurken hata oluştu")}}async batchUpdateBranchProductAddons(t){try{N.info("Branch product addons batch güncelleme isteği gönderiliyor",{branchProductId:t.branchProductId,addonsCount:t.addons.length},{prefix:"BranchProductAddonsService"});const a=`${this.baseUrl}/batch-update`,n=await se.post(a,t);return N.info("Branch product addons batch güncelleme başarıyla tamamlandı",{branchProductId:t.branchProductId},{prefix:"BranchProductAddonsService"}),n.data}catch(a){N.error("Branch product addons batch güncelleme hatası",a,{prefix:"BranchProductAddonsService"}),this.handleError(a,"Branch product addons batch güncellenirken hata oluştu")}}async reorderBranchProductAddons(t,a){try{N.info("Branch product addons reorder isteği gönderiliyor",{branchProductId:t,itemsCount:a.length},{prefix:"BranchProductAddonsService"});const n=`${this.baseUrl}/branch-product/${t}/reorder`;await se.put(n,a),N.info("Branch product addons reorder başarıyla tamamlandı",{branchProductId:t},{prefix:"BranchProductAddonsService"})}catch(n){N.error("Branch product addons reorder hatası",n,{prefix:"BranchProductAddonsService"}),this.handleError(n,"Branch product addons sıralanırken hata oluştu")}}handleError(t,a){if(t?.response?.status===400){const n=t?.response?.data;if(n?.errors){const s=Object.values(n.errors).flat();throw new Error(`Doğrulama hatası: ${s.join(", ")}`)}else throw new Error("Geçersiz istek. Lütfen verileri kontrol edin.")}else throw t?.response?.status===401?new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."):t?.response?.status===403?new Error("Bu işlem için yetkiniz bulunmuyor."):t?.response?.status===404?new Error("Kayıt bulunamadı."):t?.response?.status===409?new Error("Bu kayıt zaten mevcut."):t?.response?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`${a}: ${t?.message||"Bilinmeyen hata"}`)}}const $o=new iH,e4=({addon:e,isRTL:t,isSaving:a,onToggle:n,onPropertyChange:s,onUpdate:i,t:o})=>{const[l,c]=p.useState(!1),u=e.editedSpecialPrice!==e.currentSpecialPrice||e.editedMarketingText!==e.currentMarketingText||e.editedMaxQuantity!==e.currentMaxQuantity||e.editedMinQuantity!==e.currentMinQuantity||e.editedGroupTag!==e.currentGroupTag||e.editedIsGroupRequired!==e.currentIsGroupRequired;return r.jsxs("div",{className:`group relative rounded-2xl border-2 transition-all duration-300 overflow-hidden backdrop-blur-sm ${e.isAssigned?"border-emerald-300 dark:border-emerald-700 bg-gradient-to-br from-emerald-50 via-green-50/50 to-emerald-50 dark:from-emerald-900/20 dark:via-green-900/10 dark:to-emerald-900/20 shadow-lg shadow-emerald-500/10 hover:shadow-xl hover:shadow-emerald-500/20":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:border-indigo-300 dark:hover:border-indigo-700 hover:shadow-xl shadow-md"}`,children:[e.isAssigned&&r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent pointer-events-none"}),r.jsx("div",{className:"relative p-6",children:r.jsxs("div",{className:"flex items-start justify-between ",children:[r.jsxs("div",{className:`flex items-start ${t?"space-x-reverse space-x-4":"space-x-4"} flex-1 min-w-0`,children:[e.addonImageUrl?r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("img",{src:e.addonImageUrl,alt:e.addonProductName,className:"w-20 h-20 object-cover rounded-2xl shadow-lg ring-2 ring-white dark:ring-gray-700"}),e.isRecommended&&r.jsx("div",{className:"absolute -top-2 -right-2 w-7 h-7 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(Ya,{className:"w-4 h-4 text-white fill-current"})})]}):r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg",children:r.jsx(Ft,{className:"w-8 h-8 text-gray-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:`flex items-center ${t?"space-x-reverse space-x-2":"space-x-2"} mb-2`,children:[r.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-lg truncate",children:e.addonProductName}),e.isRecommended&&!e.addonImageUrl&&r.jsxs("div",{className:`flex items-center ${t?"space-x-reverse space-x-1":"space-x-1"} px-2 py-1 bg-gradient-to-r from-amber-100 to-orange-100 dark:from-amber-900/30 dark:to-orange-900/30 rounded-lg`,children:[r.jsx(Ya,{className:"w-3.5 h-3.5 text-amber-600 dark:text-amber-400 fill-current"}),r.jsx("span",{className:"text-xs text-amber-700 dark:text-amber-300 font-bold",children:o("addonModal.status.recommended")})]})]}),e.addonProductDescription&&r.jsx("p",{className:`text-gray-600 dark:text-gray-400 text-sm mb-3 line-clamp-2 leading-relaxed ${t?"text-right":""}`,children:e.addonProductDescription}),r.jsxs("div",{className:`flex items-center ${t?"space-x-reverse space-x-3":"space-x-3"} flex-wrap gap-2`,children:[r.jsxs("div",{className:"flex items-center bg-gradient-to-r from-emerald-100 to-green-100 dark:from-emerald-900/30 dark:to-green-900/30 px-3 py-1.5 rounded-xl",children:[r.jsx(Qr,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400 mr-0.5"}),r.jsx("span",{className:"text-emerald-700 dark:text-emerald-300 font-bold text-lg",children:e.isAssigned&&e.editedSpecialPrice!==e.addonPrice?e.editedSpecialPrice:e.addonPrice}),e.isAssigned&&e.editedSpecialPrice!==e.addonPrice&&r.jsxs("span",{className:`text-gray-400 line-through text-sm ${t?"mr-2":"ml-2"}`,children:["$",e.addonPrice]})]}),e.addonCategoryName&&r.jsx("span",{className:"bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 text-indigo-700 dark:text-indigo-300 px-3 py-1.5 rounded-xl text-xs font-semibold border border-indigo-200 dark:border-indigo-800",children:e.addonCategoryName})]}),e.isAssigned&&e.editedMarketingText&&r.jsx("div",{className:`mt-3 p-2.5 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl border border-indigo-200 dark:border-indigo-800 ${t?"text-right":""}`,children:r.jsxs("p",{className:"text-xs text-indigo-700 dark:text-indigo-300 font-medium italic",children:['"',e.editedMarketingText,'"']})})]})]}),r.jsxs("div",{className:`flex flex-col ${t?"items-start mr-4":"items-end ml-4"} space-y-3`,children:[e.isAssigned&&r.jsxs("span",{className:"bg-gradient-to-r from-emerald-500 to-green-500 text-white px-4 py-1.5 rounded-xl text-xs font-bold shadow-lg",children:["✓ ",o("addonModal.status.assigned")]}),r.jsxs("div",{className:`flex items-center ${t?"space-x-reverse space-x-2":"space-x-2"}`,children:[e.isAssigned&&r.jsx("button",{onClick:()=>c(!l),className:"p-2.5 bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl hover:from-indigo-200 hover:to-purple-200 dark:hover:from-indigo-900/50 dark:hover:to-purple-900/50 transition-all shadow-sm hover:shadow-md",title:"Configure",children:l?r.jsx(Cn,{className:"w-4 h-4"}):r.jsx(lr,{className:"w-4 h-4"})}),r.jsxs("button",{onClick:n,disabled:a,className:`px-5 py-2.5 rounded-xl font-bold transition-all duration-300 disabled:opacity-50 flex items-center ${t?"space-x-reverse space-x-2":"space-x-2"} shadow-lg hover:shadow-xl hover:scale-105 active:scale-95 ${e.isAssigned?"bg-gradient-to-r from-red-500 to-pink-600 text-white hover:from-red-600 hover:to-pink-700":"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white"}`,children:[a?r.jsx(ot,{className:"w-4 h-4 animate-spin"}):e.isAssigned?r.jsx(er,{className:"w-4 h-4"}):r.jsx(Nt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:e.isAssigned?o("addonModal.actions.remove"):o("addonModal.actions.add")})]})]})]})]})}),e.isAssigned&&l&&r.jsx("div",{className:"px-6 pb-6 border-t-2 border-emerald-200 dark:border-emerald-800 bg-gradient-to-br from-emerald-50/50 to-green-50/30 dark:from-emerald-900/10 dark:to-green-900/5",children:r.jsxs("div",{className:"pt-5",children:[r.jsxs("div",{className:`flex items-center ${t?"space-x-reverse space-x-2":"space-x-2"} mb-5`,children:[r.jsx(Yr,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),r.jsx("h5",{className:`text-base font-bold text-gray-900 dark:text-white ${t?"text-right":""}`,children:o("addonModal.configuration.title")})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 ${t?"text-right":""}`,children:o("addonModal.configuration.specialPrice")}),r.jsxs("div",{className:"relative",children:[r.jsx(Qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-5 h-5 text-emerald-500 ${t?"right-4":"left-4"}`}),r.jsx("input",{title:"number",type:"number",step:"0.01",value:e.editedSpecialPrice||e.addonPrice,onChange:g=>s(e.addonBranchProductId,"specialPrice",parseFloat(g.target.value)||0),className:`w-full py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all font-semibold ${t?"pr-12 pl-4 text-right":"pl-12 pr-4"}`})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 ${t?"text-right":""}`,children:o("addonModal.configuration.minQuantity")}),r.jsx("input",{title:"number",type:"number",min:"0",step:"1",value:e.editedMinQuantity||0,onChange:g=>s(e.addonBranchProductId,"minQuantity",parseInt(g.target.value)||0),className:`w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all font-semibold ${t?"text-right":""}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 ${t?"text-right":""}`,children:o("addonModal.configuration.maxQuantity")}),r.jsx("input",{title:"number",type:"number",min:"1",value:e.editedMaxQuantity||10,onChange:g=>s(e.addonBranchProductId,"maxQuantity",parseInt(g.target.value)||10),className:`w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all font-semibold ${t?"text-right":""}`})]}),r.jsx("div",{}),r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx("label",{className:`block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 ${t?"text-right":""}`,children:o("addonModal.configuration.marketingText")}),r.jsx("input",{type:"text",placeholder:o("addonModal.configuration.placeholders.marketingText"),value:e.editedMarketingText||"",onChange:g=>s(e.addonBranchProductId,"marketingText",g.target.value),className:`w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all placeholder-gray-400 ${t?"text-right":""}`})]}),u&&r.jsx("div",{className:"sm:col-span-2 flex items-center justify-between",children:r.jsxs("button",{onClick:i,disabled:a||!u,className:`w-full px-6 py-3.5 bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 disabled:from-gray-400 disabled:to-gray-500 text-white rounded-xl flex items-center justify-center disabled:opacity-50 font-bold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95 ${t?"flex-row-reverse":""} space-x-2`,children:[a?r.jsx(ot,{className:`w-5 h-5 animate-spin ${t?"ml-2":"mr-2"}`}):r.jsx(Ta,{className:`w-5 h-5 ${t?"ml-2":"mr-2"}`}),r.jsx("span",{children:o("addonModal.actions.saveChanges")})]})})]})]})})]})},oH=({isOpen:e,onClose:t,product:a,availableAddons:n,onSave:s})=>{const{t:i,isRTL:o}=qe(),[l,c]=p.useState([]),[u,g]=p.useState([]),[h,x]=p.useState(""),[b,y]=p.useState(!1),[k,v]=p.useState(!1),[j,S]=p.useState(null),[C,P]=p.useState(null),[E,A]=p.useState(null);p.useEffect(()=>{e&&a?.branchProductId?I():e&&M([])},[e,a?.branchProductId,n]),p.useEffect(()=>{if(!h.trim())g(l);else{const R=l.filter(D=>D.addonProductName.toLowerCase().includes(h.toLowerCase())||D.addonProductDescription?.toLowerCase().includes(h.toLowerCase())||D.addonCategoryName?.toLowerCase().includes(h.toLowerCase()));g(R)}},[h,l]),p.useEffect(()=>{if(C||j){const R=setTimeout(()=>{P(null),S(null)},3e3);return()=>clearTimeout(R)}},[C,j]);const I=async()=>{if(a?.branchProductId){y(!0),S(null);try{const R=await $o.getBranchProductAddons(a.branchProductId);M(R)}catch(R){console.error("Error loading product addons:",R),S(i("addonModal.messages.errors.loadFailed")),M([])}finally{y(!1)}}},M=R=>{if(!a?.branchProductId){c([]);return}const W=n.filter(X=>X.mainBranchProductId===a.branchProductId).map(X=>{const B=R.find(H=>H.addonBranchProductId===X.addonBranchProductId);return{...X,assignmentId:B?.id,isAssigned:!!B,currentSpecialPrice:B?.specialPrice??X.addonPrice,currentMarketingText:B?.marketingText??X.marketingText,currentMaxQuantity:B?.maxQuantity??10,currentMinQuantity:B?.minQuantity??0,currentGroupTag:B?.groupTag??"",currentIsGroupRequired:B?.isGroupRequired??!1,currentIsActive:B?.isActive??!0,currentDisplayOrder:B?.displayOrder??X.suggestedDisplayOrder,editedSpecialPrice:B?.specialPrice??X.addonPrice,editedMarketingText:B?.marketingText??X.marketingText,editedMaxQuantity:B?.maxQuantity??10,editedMinQuantity:B?.minQuantity??0,editedGroupTag:B?.groupTag??"",editedIsGroupRequired:B?.isGroupRequired??!1,editedIsRecommended:X.isRecommended}});c(W)},F=async R=>{if(!(!a?.branchProductId||E===R.addonBranchProductId)){A(R.addonBranchProductId),v(!0),S(null);try{if(R.isAssigned&&R.assignmentId)c(D=>D.map(W=>W.addonBranchProductId===R.addonBranchProductId?{...W,isAssigned:!1,assignmentId:void 0}:W)),await $o.deleteBranchProductAddon(R.assignmentId),P(i("addonModal.messages.success.addonRemoved")),await new Promise(D=>setTimeout(D,500));else if(!R.isAssigned){const D={mainBranchProductId:a.branchProductId,addonBranchProductId:R.addonBranchProductId,isActive:!0,specialPrice:R.editedSpecialPrice||R.addonPrice,marketingText:R.editedMarketingText||R.marketingText,maxQuantity:R.editedMaxQuantity||10,minQuantity:R.editedMinQuantity||0,groupTag:R.editedGroupTag||"",isGroupRequired:R.editedIsGroupRequired||!1},W=await $o.createBranchProductAddon(D);P(i("addonModal.messages.success.addonAdded"))}if(await I(),s&&a?.branchProductId){const D=l.map(B=>B.addonBranchProductId===R.addonBranchProductId?{...B,isAssigned:!R.isAssigned}:B),W=D.filter(B=>B.isAssigned).map(B=>B.addonBranchProductId),X=D.filter(B=>B.isAssigned).reduce((B,H)=>(B[H.addonBranchProductId]={specialPrice:H.editedSpecialPrice,marketingText:H.editedMarketingText,maxQuantity:H.editedMaxQuantity,minQuantity:H.editedMinQuantity,groupTag:H.editedGroupTag,isGroupRequired:H.editedIsGroupRequired},B),{});s(a.branchProductId,W,X)}}catch(D){console.error("Error toggling addon:",D),S(i("addonModal.messages.errors.updateFailed")+": "+(D.message||"Unknown error")),await I()}finally{v(!1),A(null)}}},Q=(R,D,W)=>{c(X=>X.map(B=>B.addonBranchProductId===R?{...B,[`edited${D.charAt(0).toUpperCase()+D.slice(1)}`]:W}:B))},U=async R=>{if(!(!R.assignmentId||E===R.addonBranchProductId)){A(R.addonBranchProductId),v(!0),S(null);try{const D={isActive:R.currentIsActive??!0,specialPrice:R.editedSpecialPrice||R.addonPrice,marketingText:R.editedMarketingText||R.marketingText,maxQuantity:R.editedMaxQuantity||10,minQuantity:R.editedMinQuantity||0,groupTag:R.editedGroupTag||"",isGroupRequired:R.editedIsGroupRequired||!1};if(await $o.updateBranchProductAddon(R.assignmentId,D),await I(),P(i("addonModal.messages.success.addonUpdated")),s&&a?.branchProductId){const W=l.filter(B=>B.isAssigned).map(B=>B.addonBranchProductId),X=l.filter(B=>B.isAssigned).reduce((B,H)=>(B[H.addonBranchProductId]={specialPrice:H.editedSpecialPrice,marketingText:H.editedMarketingText,maxQuantity:H.editedMaxQuantity,minQuantity:H.editedMinQuantity,groupTag:H.editedGroupTag,isGroupRequired:H.editedIsGroupRequired},B),{});s(a.branchProductId,W,X)}}catch(D){console.error("Error updating addon:",D),S(i("addonModal.messages.errors.propertiesFailed"))}finally{v(!1),A(null)}}},V=()=>{c([]),x(""),S(null),P(null),A(null),t()};if(!e||!a)return null;const K=u.filter(R=>R.isAssigned),Z=u.filter(R=>!R.isAssigned),ie=K.length,te=u.length;return r.jsxs("div",{dir:o?"rtl":"ltr",className:"fixed inset-0 z-50 overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gradient-to-br from-gray-900/80 via-purple-900/50 to-blue-900/80 backdrop-blur-md",onClick:V}),r.jsxs("div",{className:"inline-block w-full max-w-6xl px-0 py-0 my-4 overflow-hidden text-right transition-all transform bg-white dark:bg-gray-900 shadow-2xl rounded-3xl border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("div",{className:"relative bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 px-8 py-6 text-white overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"32px 32px"}})}),r.jsxs("div",{className:"relative z-10 flex items-center justify-between ",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:`flex items-center ${o?"space-x-reverse space-x-3":"space-x-3"} mb-4`,children:[r.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-xl rounded-2xl flex items-center justify-center shadow-lg border border-white/30",children:r.jsx(Yr,{className:"w-7 h-7"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold mb-1 tracking-tight",children:i("addonModal.title")}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vn,{className:"w-4 h-4 text-purple-200"}),r.jsx("p",{className:"text-purple-100 text-base font-medium",children:a.name})]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("div",{className:"group bg-white/15 backdrop-blur-xl border border-white/20 rounded-2xl px-4 py-2.5 hover:bg-white/25 transition-all duration-300 shadow-lg",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:r.jsx(Ft,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold text-white",children:te}),r.jsx("div",{className:"text-xs text-purple-100 font-medium",children:i("addonModal.stats.available")})]})]})}),r.jsx("div",{className:"group bg-emerald-500/20 backdrop-blur-xl border border-emerald-300/30 rounded-2xl px-4 py-2.5 hover:bg-emerald-500/30 transition-all duration-300 shadow-lg",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-emerald-400/30 rounded-lg flex items-center justify-center",children:r.jsx(br,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold text-white",children:ie}),r.jsx("div",{className:"text-xs text-emerald-100 font-medium",children:i("addonModal.stats.assigned")})]})]})}),r.jsx("div",{className:"group bg-amber-500/20 backdrop-blur-xl border border-amber-300/30 rounded-2xl px-4 py-2.5 hover:bg-amber-500/30 transition-all duration-300 shadow-lg",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-amber-400/30 rounded-lg flex items-center justify-center",children:r.jsx(Ya,{className:"w-4 h-4 text-white fill-current"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold text-white",children:K.filter(R=>R.isRecommended).length}),r.jsx("div",{className:"text-xs text-amber-100 font-medium",children:i("addonModal.stats.recommended")})]})]})})]})]}),r.jsxs("div",{className:`flex items-center ${o?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx("button",{onClick:I,disabled:b,className:"p-3 bg-white/15 hover:bg-white/25 backdrop-blur-xl border border-white/20 rounded-2xl transition-all duration-300 shadow-lg hover:scale-105 active:scale-95",title:i("addonModal.refresh"),children:r.jsx(Un,{className:`w-5 h-5 ${b?"animate-spin":""}`})}),r.jsx("button",{onClick:V,className:"p-3 bg-white/15 hover:bg-white/25 backdrop-blur-xl border border-white/20 rounded-2xl transition-all duration-300 shadow-lg hover:scale-105 active:scale-95",children:r.jsx(at,{className:"w-5 h-5"})})]})]})]}),r.jsxs("div",{className:"px-8 py-6",children:[j&&r.jsx("div",{className:`mb-6 p-4 bg-gradient-to-r from-red-50 to-red-100/50 dark:from-red-900/20 dark:to-red-800/10 ${o?"border-r-4 border-l-0":"border-l-4"} border-red-500 rounded-xl shadow-sm`,children:r.jsxs("div",{className:`flex items-center ${o?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-xl flex items-center justify-center mr-3",children:r.jsx(lt,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),r.jsx("span",{className:"text-red-800 dark:text-red-300 text-sm font-medium",children:j})]})}),C&&r.jsx("div",{className:`mb-6 p-4 bg-gradient-to-r from-emerald-50 to-emerald-100/50 dark:from-emerald-900/20 dark:to-emerald-800/10 ${o?"border-r-4 border-l-0":"border-l-4"} border-emerald-500 rounded-xl shadow-sm`,children:r.jsxs("div",{className:`flex items-center ${o?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"w-10 h-10 bg-emerald-100 dark:bg-emerald-900/30 rounded-xl flex items-center justify-center mr-3",children:r.jsx(br,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),r.jsx("span",{className:"text-emerald-800 dark:text-emerald-300 text-sm font-medium",children:C})]})}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative group",children:[r.jsx(Ja,{className:`absolute top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-indigo-500 transition-colors ${o?"right-5":"left-5"}`}),r.jsx("input",{type:"text",placeholder:i("addonModal.search.placeholder"),value:h,onChange:R=>x(R.target.value),className:`w-full py-4 border-2 border-gray-200 dark:border-gray-700 rounded-2xl bg-gray-50/50 dark:bg-gray-800/50 text-gray-900 dark:text-white focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all placeholder-gray-400 text-base backdrop-blur-sm ${o?"pr-14 pl-6 text-right":"pl-14 pr-6"}`})]})}),r.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar pr-2",children:b?r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[r.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-indigo-100 dark:border-indigo-900/30"}),r.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-indigo-600 border-t-transparent animate-spin"})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-lg",children:i("addonModal.loading")}),r.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm mt-2",children:"Please wait a moment"})]})}):u.length===0?r.jsxs("div",{className:"text-center py-20",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:r.jsx(Ft,{className:"h-12 w-12 text-gray-400"})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:i("addonModal.emptyState.title")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 max-w-md mx-auto text-lg",children:i("addonModal.emptyState.description")}),r.jsxs("div",{className:`inline-flex items-center px-6 py-3 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-2xl border border-indigo-200 dark:border-indigo-800 shadow-sm ${o?"flex-row-reverse":""}`,children:[r.jsx(Ls,{className:`w-5 h-5 ${o?"ml-2":"mr-2"} text-indigo-600 dark:text-indigo-400`}),r.jsxs("span",{className:"text-indigo-700 dark:text-indigo-300 font-medium",children:[i("addonModal.emptyState.productId")," ",a.branchProductId]})]})]}):r.jsxs("div",{className:"space-y-8",children:[K.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:`flex items-center ${o?"space-x-reverse space-x-3":"space-x-3"} mb-5`,children:[r.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full shadow-lg shadow-emerald-500/50"}),r.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white text-xl",children:[i("addonModal.sections.assignedAddons")," ",r.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:["(",K.length,")"]})]}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-emerald-200 to-transparent dark:from-emerald-800"})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:K.map(R=>r.jsx(e4,{addon:R,isRTL:o,isSaving:E===R.addonBranchProductId,onToggle:()=>F(R),onPropertyChange:Q,onUpdate:()=>U(R),t:i},R.addonBranchProductId))})]}),Z.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:`flex items-center ${o?"space-x-reverse space-x-3":"space-x-3"} mb-5`,children:[r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full shadow-lg shadow-gray-400/50"}),r.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white text-xl",children:[i("addonModal.sections.availableAddons")," ",r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["(",Z.length,")"]})]}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-gray-200 to-transparent dark:from-gray-700"})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-5",children:Z.map(R=>r.jsx(e4,{addon:R,isRTL:o,isSaving:E===R.addonBranchProductId,onToggle:()=>F(R),onPropertyChange:Q,onUpdate:()=>U(R),t:i},R.addonBranchProductId))})]})]})})]}),r.jsx("div",{className:"px-8 py-5 bg-gradient-to-r from-gray-50 to-gray-100/50 dark:from-gray-800/50 dark:to-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:`flex items-center justify-between ${o?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(br,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[ie," ",i("addonModal.footer.summary")," ",te," ",i(te===1?"addonModal.footer.addon":"addonModal.footer.addons")," ",i("addonModal.footer.assigned")]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"All changes saved automatically"})]})]}),r.jsx("button",{onClick:V,className:"px-8 py-3 bg-gradient-to-r from-gray-800 to-gray-900 dark:from-gray-700 dark:to-gray-600 hover:from-gray-700 hover:to-gray-800 text-white rounded-xl text-sm font-semibold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95",children:i("addonModal.actions.done")})]})})]})]}),r.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: rgba(156, 163, 175, 0.1);
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: linear-gradient(180deg, rgba(99, 102, 241, 0.4), rgba(168, 85, 247, 0.4));
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(180deg, rgba(99, 102, 241, 0.6), rgba(168, 85, 247, 0.6));
        }
      `})]})},lH=({branchId:e=1})=>{const{t,isRTL:a}=qe(),[n,s]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState([]),[u,g]=p.useState(new Set),[h,x]=p.useState(new Set),[b,y]=p.useState([]),[k,v]=p.useState(""),[j,S]=p.useState("add"),[C,P]=p.useState("select_categories"),[E,A]=p.useState(new Set),[I,M]=p.useState(new Set),[F,Q]=p.useState(new Map),[U,V]=p.useState(new Map),[K,Z]=p.useState(null),[ie,te]=p.useState(null),[R,D]=p.useState(null),[W,X]=p.useState(!1),[B,H]=p.useState(null),[z,$]=p.useState(!1),[_,Y]=p.useState([]),[q,G]=p.useState(new Map),[ee,ue]=p.useState(!1),[le,ae]=p.useState(!1),[Be,he]=p.useState(!1),[we,De]=p.useState(!1),[Ze,pt]=p.useState({isOpen:!1,branchCategoryId:null,categoryName:""}),[mt,ut]=p.useState(!1),[Et,tr]=p.useState(!1),[Oe,Me]=p.useState(!1),[Vr,ur]=p.useState(!1),[rr,Tt]=p.useState(!1),[Se,Re]=p.useState(null),[de,pe]=p.useState(null);p.useEffect(()=>{ce()},[]);const ce=async()=>{try{ue(!0);const xe=await $o.getAvailableBranchProductAddons();Y(xe)}catch(xe){console.error("Error fetching available addons:",xe),Re("Failed to load available addons")}finally{ue(!1)}},Te=async xe=>{try{const Ee=await $o.getBranchProductAddons(xe);return G($e=>{const _e=new Map($e);return _e.set(xe,{branchProductId:xe,availableAddons:_,selectedAddons:Ee,isLoading:!1}),_e}),Ee}catch(Ee){return console.error("Error fetching product addons:",Ee),Re("Failed to load product addons"),[]}},Le=async xe=>{if(!xe.branchProductId){Re("Product must be added to branch first before configuring addons");return}for(const Ee of i)if(Ee.products?.find(_e=>_e.branchProductId===xe.branchProductId)){Ee.categoryId;break}H(xe),$(!0),await Te(xe.branchProductId)},ct=()=>{H(null),$(!1)};let Pt=!1;const Mr=async(xe,Ee,$e)=>{if(!(mt||Pt)){Math.random().toString(36).substring(2,15);try{Pt=!0,ut(!0);for(const _e of Ee){const Ue=$e[_e]||{},dt={mainBranchProductId:xe,addonBranchProductId:_e,isActive:!0,specialPrice:Ue.specialPrice||0,marketingText:Ue.marketingText||"",maxQuantity:Ue.maxQuantity||10,minQuantity:Ue.minQuantity||0,groupTag:Ue.groupTag||"",isGroupRequired:Ue.isGroupRequired||!1};await $o.createBranchProductAddon(dt)}o(_e=>_e.map(Ue=>({...Ue,products:Ue.products?.map(dt=>dt.branchProductId===xe?{...dt,addonsCount:Ee.length,hasAddons:Ee.length>0}:dt)}))),pe(`Successfully configured ${Ee.length} addons for the product`),ct()}catch(_e){Re(`Failed to save product addons: ${_e.message||"Unknown error"}`)}finally{ut(!1),Pt=!1}}},pn=(xe,Ee)=>{if(j==="manage"){for(const Ue of i)if(Ue.products?.find($t=>$t.id===xe&&$t.isSelected)){Ue.categoryId;break}}else for(const Ue of b)if(Ue.products.find($t=>$t.id===xe)){Ue.categoryId;break}Z(xe);const $e=new Map(F);let _e=Ee;if(j==="manage")for(const Ue of i){const dt=Ue.products?.find($t=>$t.id===xe&&$t.isSelected);if(dt){_e=dt.price;break}}$e.set(xe,{productId:xe,originalPrice:Ee,newPrice:_e}),Q($e)},fn=(xe,Ee)=>{const $e=parseFloat(Ee)||0,_e=new Map(F),Ue=_e.get(xe);Ue?(_e.set(xe,{...Ue,newPrice:$e}),Q(_e)):console.warn("No existing edit state found for product:",xe)},ke=async xe=>{if(j==="manage"){const Ee=F.get(xe);Ee&&Math.abs(Ee.newPrice-Ee.originalPrice)>.001&&await Ut(xe,Ee.newPrice)}Z(null)},Pe=xe=>{Z(null);const Ee=new Map(F),$e=Ee.get(xe);$e&&(Ee.set(xe,{...$e,newPrice:$e.originalPrice}),Q(Ee))},fe=(xe,Ee)=>{if(!Qe(xe)){Re(t("branchCategories.messages.error.categoryInactive")||"Cannot edit inactive category");return}te(xe);const $e=new Map(U),_e=j==="manage"&&i.find(Ue=>Ue.categoryId===xe)?.displayName||Ee;$e.set(xe,{categoryId:xe,originalName:Ee,newName:_e}),V($e)},Ge=(xe,Ee)=>{const $e=new Map(U),_e=$e.get(xe)||{categoryId:xe,originalName:n.find(Ue=>Ue.categoryId===xe)?.categoryName||"",newName:""};$e.set(xe,{..._e,newName:Ee.trim()}),V($e)},ft=async(xe,Ee)=>{let $e,_e="";if(V(Ue=>{const dt=Ue.get(xe);return $e=Ee?.trim()||dt?.newName?.trim(),_e=dt?.originalName||n.find($t=>$t.categoryId===xe)?.categoryName||"",Ue}),await new Promise(Ue=>setTimeout(Ue,0)),!$e){te(null);return}if($e===_e){console.warn("No changes to save:",{categoryId:xe,nameToSave:$e,originalName:_e}),te(null);return}try{await mr(xe,$e),V(Ue=>{const dt=new Map(Ue);return dt.set(xe,{categoryId:xe,originalName:$e??"",newName:$e??""}),dt}),s(Ue=>Ue.map(dt=>dt.categoryId===xe?{...dt,categoryName:$e??""}:dt))}catch(Ue){console.error("Failed to save category name:",Ue);return}te(null)},vt=xe=>{te(null);const Ee=new Map(U),$e=Ee.get(xe);$e&&(Ee.set(xe,{...$e,newName:$e.originalName}),V(Ee))},kt=(xe,Ee)=>{const $e=F.get(xe);if($e)return $e.newPrice;if(j==="manage")for(const _e of i){const Ue=_e.products?.find(dt=>dt.id===xe&&dt.isSelected);if(Ue)return Ue.price}return Ee},Ot=(xe,Ee)=>{const $e=U.get(xe);return $e?$e.newName:j==="manage"&&i.find(Ue=>Ue.categoryId===xe)?.displayName||Ee},mr=async(xe,Ee)=>{try{const $e=i.find(Ue=>Ue.categoryId===xe);if(!$e){Re("Branch category not found");return}ut(!0),await Ts.updateBranchCategory({displayName:Ee,branchCategoryId:$e.branchCategoryId}),o(Ue=>Ue.map(dt=>dt.categoryId===xe?{...dt,displayName:Ee}:dt)),pe(`Category name updated to "${Ee}"`);const _e=new Map(U);_e.delete(xe),V(_e)}catch($e){console.error("Error updating category name:",$e),Re("Failed to update category name")}finally{ut(!1)}},Ut=async(xe,Ee)=>{try{let $e=null,_e=-1,Ue,dt,$t;for(let Qt=0;Qt<i.length;Qt++){const Ye=i[Qt].products?.find(Wt=>Wt.id===xe&&Wt.isSelected);if(Ye&&Ye.branchProductId){$e=Ye.branchProductId,_e=Qt,Ue=Ye.status,dt=Ye.displayOrder,$t=i[Qt].branchCategoryId;break}}if(!$e||$t===void 0){Re("Branch product or category not found");return}ut(!0);const Zt={branchProductId:$e,price:Ee,isActive:Ue??!0,displayOrder:dt??0,branchCategoryId:$t};await Pi.updateBranchProduct($e,Zt),o(Qt=>{const Ye=[...Qt];return _e>=0&&Ye[_e].products&&(Ye[_e]={...Ye[_e],products:Ye[_e].products.map(Wt=>Wt.id===xe?{...Wt,price:Ee}:Wt)}),Ye}),pe(`Product price updated to $${Ee.toFixed(2)}`);const Ct=new Map(F);Ct.delete(xe),Q(Ct)}catch($e){console.error("Error updating product price:",$e),Re("Failed to update product price")}finally{ut(!1)}},va=xe=>{D(xe),X(!0)},Lr=()=>{D(null),X(!1)};p.useEffect(()=>{be(),me()},[]),p.useEffect(()=>{j==="manage"&&i.length>0&&Ae()},[j,i.length]),p.useEffect(()=>{if(de||Se){const xe=setTimeout(()=>{pe(null),Re(null)},5e3);return()=>clearTimeout(xe)}},[de,Se]),p.useEffect(()=>{const xe=i.some((Ee,$e)=>{const _e=l[$e];return!_e||Ee.displayOrder!==_e.displayOrder});he(xe)},[i,l]);const be=async()=>{ut(!0),Re(null);try{const xe=await Ts.getAvailableCategoriesForBranch();s(xe)}catch(xe){console.error("Error fetching available categories:",xe),Re(t("branchCategories.messages.error.loadingCategories"))}finally{ut(!1)}},me=async()=>{ut(!0),Re(null);try{const xe=await Ts.getBranchCategories(),$e=(Array.isArray(xe)?xe:xe.count||[]).sort((_e,Ue)=>_e.displayOrder-Ue.displayOrder);o($e),c([...$e])}catch(xe){console.error("Error fetching existing branch categories:",xe),Re(t("branchCategories.messages.error.loadingCategories"))}finally{ut(!1)}},Ae=async()=>{Tt(!0);try{const xe=await Pi.getBranchProductsWithDetails(),Ee=await Promise.all(i.map(async $e=>{try{const _e=xe.filter(Ye=>Ye.branchCategory?.categoryId===$e.categoryId),Ue=await Promise.all(_e.map(async Ye=>{const Wt=Ye.originalProductId;Wt||console.error("❌ Cannot determine product ID for branch product:",Ye);let Ra=0,no=!1;if(Ye.branchProductId)try{Ra=(await $o.getBranchProductAddons(Ye.branchProductId)).length,no=Ra>0}catch(Dt){console.warn("Failed to fetch addons for product:",Ye.branchProductId,Dt)}return{id:Wt,branchProductId:Ye.branchProductId,originalProductId:Wt,name:Ye.name,description:Ye?.description,price:Ye.price,imageUrl:Ye?.imageUrl,status:Ye.status,displayOrder:Ye.displayOrder,isSelected:!0,addonsCount:Ra,hasAddons:no,allergens:Ye.allergens?Ye.allergens.map((Dt,so)=>({id:Dt.id??Dt.allergenId??so+1,allergenId:Dt.allergenId??so+1,allergenCode:Dt.code??"",code:typeof Dt.code=="string"?Dt.code:Dt.code??"",name:Dt.name??"",icon:Dt.icon??"",note:Dt.note??"",description:Dt.description??null,productCount:Dt.productCount??0,containsAllergen:Dt.containsAllergen??!1,presence:Dt.presence??"",displayOrder:Dt.displayOrder??so+1})):[],ingredients:Ye.ingredients?Ye.ingredients.map((Dt,so)=>({id:Dt.id??so+1,ingredientId:Dt.ingredientId??0,name:Dt.ingredientName??"",ingredientName:Dt.ingredientName??"",productId:Dt.productId??Wt,quantity:Dt.quantity??0,unit:Dt.unit??"",isAllergenic:Dt.isAllergenic??!1,isAvailable:Dt.isAvailable??!0,allergenIds:Dt.allergenIds??[],allergens:Dt.allergens?Dt.allergens.map((wa,io)=>({id:wa.id??wa.allergenId??io+1,allergenId:wa.allergenId??io+1,allergenCode:wa.code??"",code:typeof wa.code=="string"?wa.code:wa.code??"",name:wa.name??"",icon:wa.icon??"",note:wa.note??"",description:wa.description??null,productCount:wa.productCount??0,containsAllergen:wa.containsAllergen??!1,presence:wa.presence??""})):[],restaurantId:Dt.restaurantId??0,products:Dt.products??[],productIngredients:Dt.productIngredients??[]})):[]}})),$t=(await Ts.getAvailableProductsForBranch({categoryId:$e.categoryId,onlyActive:!0,includes:"category,ingredients,allergens,addons"})).map(Ye=>({id:Ye.productId,productId:Ye.productId,name:Ye.name,description:Ye.description,price:Ye.price,imageUrl:Ye.imageUrl,isAvailable:Ye.status,status:Ye.status,displayOrder:Ye.displayOrder,categoryId:$e.categoryId,isSelected:!1,originalProductId:Ye.productId,addonsCount:0,hasAddons:!1})),Zt=new Set(Ue.map(Ye=>Ye.id).filter(Boolean)),Ct=$t.filter(Ye=>!Zt.has(Ye.id)),Qt=[...Ue.filter(Ye=>Ye.id),...Ct];return Qt.sort((Ye,Wt)=>Ye.isSelected&&!Wt.isSelected?-1:!Ye.isSelected&&Wt.isSelected?1:(Ye.displayOrder||0)-(Wt.displayOrder||0)),{...$e,products:Qt,selectedProductsCount:Ue.filter(Ye=>Ye.id).length,unselectedProductsCount:Ct.length}}catch(_e){return console.error(`Error fetching products for category ${$e.categoryId}:`,_e),{...$e,products:[],selectedProductsCount:0,unselectedProductsCount:0}}}));o(Ee),c([...Ee])}catch(xe){console.error("❌ Error fetching branch categories with detailed products:",xe),o(Ee=>Ee.map($e=>({...$e,products:[],selectedProductsCount:0,unselectedProductsCount:0}))),c(Ee=>Ee.map($e=>({...$e,products:[],selectedProductsCount:0,unselectedProductsCount:0})))}finally{Tt(!1)}},We=async()=>{if(u.size!==0){ur(!0),Re(null);try{const xe=[];for(const _e of u){const Ue=await Ts.getAvailableProductsForBranch({categoryId:_e,onlyActive:!1,includes:"category,ingredients,allergens,addons"});Ue.length>0&&xe.push(...Ue)}const Ee=new Map;xe.forEach(_e=>{const Ue=_e.category.categoryId;Ee.has(Ue)||Ee.set(Ue,{categoryId:Ue,categoryName:_e.category.categoryName,description:"",status:_e.category.status,displayOrder:_e.category.displayOrder,restaurantId:_e.category.restaurantId,products:[],productId:void 0,name:void 0,isExpanded:!1});const dt={productId:_e.productId,id:_e.productId,name:_e.name,description:_e.description||"",price:_e.price,imageUrl:_e.imageUrl||"",isAvailable:_e.status,status:_e.status,displayOrder:_e.displayOrder,categoryId:Ue,originalProductId:_e.originalProductId};Ee.get(Ue).products.push(dt)});const $e=Array.from(Ee.values());y($e),A(new Set($e.map(_e=>_e.categoryId)))}catch(xe){console.error("Error fetching products for categories:",xe),Re(t("branchCategories.messages.error.loadingProducts"))}finally{ur(!1)}}},Qe=xe=>j==="manage"?i.find(_e=>_e.categoryId===xe)?.isActive??!0:n.find($e=>$e.categoryId===xe)?.status??!0,Mt=async()=>{if(u.size===0){Re(t("branchCategories.error.selectCategory")||"Please select at least one category");return}await We(),P("select_products"),v("")},Qn=()=>{P("review_selection"),v("")},Oa=()=>{P("select_categories"),x(new Set),y([]),v(""),Q(new Map),V(new Map)},fr=()=>{P("select_products"),v("")},_r=xe=>{const Ee=new Set(u);if(Ee.has(xe)){Ee.delete(xe);const $e=b.find(Ue=>Ue.categoryId===xe)?.products||[],_e=new Set(h);$e.forEach(Ue=>_e.delete(Ue.id)),x(_e)}else Ee.add(xe);g(Ee)},Bt=xe=>{const Ee=new Set(h);if(Ee.has(xe)){Ee.delete(xe);const $e=new Map(F);$e.delete(xe),Q($e)}else Ee.add(xe);x(Ee)},Fr=()=>{const xe=new Set(b.flatMap(Ee=>Ee.products.map($e=>$e.id)));x(xe)},gr=()=>{x(new Set),Q(new Map)},qt=(xe,Ee)=>{i.find($e=>$e.branchCategoryId===xe),pt({isOpen:!0,branchCategoryId:xe,categoryName:Ee})},Da=()=>{pt({isOpen:!1,branchCategoryId:null,categoryName:""})},ka=async()=>{if(Ze.branchCategoryId){Me(!0),Re(null);try{await Ts.deleteBranchCategory(Ze.branchCategoryId);const xe=i.filter(Ee=>Ee.branchCategoryId!==Ze.branchCategoryId).map((Ee,$e)=>({...Ee,displayOrder:$e+1}));o(xe),c(xe),await be(),pe(t("branchCategories.messages.success.categoryDeleted")),Da()}catch(xe){console.error("Error deleting branch category:",xe),Re(t("branchCategories.messages.error.deletingCategory"))}finally{Me(!1)}}},fi=async()=>{if(!e){Re(t("branchCategories.error.branchIdRequired")||"Branch ID is required");return}if(u.size===0){Re(t("branchCategories.error.selectAtLeastOne")||"Please select at least one category");return}tr(!0),Re(null),pe(null);try{let xe=0;const Ee=new Map;for(const $t of u){const Zt=n.find(Ct=>Ct.categoryId===$t);if(Zt)try{const Ct=Ot($t,Zt.categoryName),Qt={categoryId:Zt.categoryId,displayName:Ct,isActive:Zt.status,displayOrder:i.length+xe+1},Ye=await Ts.createBranchCategory(Qt);Ye.id&&Ee.set($t,Ye.id),xe++}catch(Ct){throw console.error("Error creating branch category:",$t,Ct),new Error(t("branchCategories.error.createCategory",{name:Zt.categoryName})||`Error creating category ${Zt.categoryName}`)}}let $e=0;if(h.size>0)for(const $t of h){let Zt=null,Ct=null;for(const Ye of b){const Wt=Ye.products.find(Ra=>Ra.id===$t);if(Wt){Zt=Wt,Ct=Ye.categoryId;break}}if(!Zt||!Ct)continue;const Qt=Ee.get(Ct);if(Qt)try{const Wt={price:kt($t,Zt.price),isActive:Zt.status,productId:Zt.id,branchCategoryId:Qt},Ra=await Pi.createBranchProduct(Wt);$e++}catch(Ye){console.error("Error creating branch product:",$t,Ye)}}const _e=xe===1?"category":"categories",Ue=$e===1?"product":"products";let dt=`Added ${xe} ${_e} to branch`;$e>0&&(dt=`Added ${xe} ${_e} and ${$e} ${Ue} to branch`),pe(dt),g(new Set),x(new Set),y([]),Q(new Map),V(new Map),P("select_categories"),await new Promise($t=>setTimeout($t,1e3)),await me(),await be()}catch(xe){console.error("Error saving branch categories and products:",xe),Re(xe.message||"Failed to add categories and products to branch")}finally{tr(!1)}},ea=async(xe,Ee)=>{try{const $e=window.scrollY;let _e=null,Ue=-1;if(!i.find(Ct=>Ct.branchCategoryId===Ee)){Re(t("branchCategories.messages.error.categoryNotFound"));return}for(let Ct=0;Ct<i.length;Ct++){const Qt=i[Ct].products?.find(Ye=>Ye.id===xe);if(Qt){_e=Qt,Ue=Ct;break}}if(!_e||Ue===-1){Re(t("branchCategories.messages.error.productNotFound"));return}const $t=[...i],Zt=$t[Ue].products?.map(Ct=>Ct.id===xe?{...Ct,isSelected:!0}:Ct)||[];$t[Ue]={...$t[Ue],products:Zt,selectedProductsCount:($t[Ue].selectedProductsCount||0)+1,unselectedProductsCount:Math.max(0,($t[Ue].unselectedProductsCount||0)-1)},o($t),ut(!0);try{const Ct={price:_e.price,productId:_e.id,isActive:_e.status,branchCategoryId:Ee},Qt=await Pi.createBranchProduct(Ct);o(Ye=>{const Wt=[...Ye],Ra=Wt[Ue].products?.map(no=>no.id===xe?{...no,isSelected:!0,branchProductId:Qt.branchProductId||Qt.id}:no)||[];return Wt[Ue]={...Wt[Ue],products:Ra},Wt}),pe(t("branchCategories.messages.success.productAdded",{name:_e.name}))}catch(Ct){console.error("API call failed, reverting optimistic update:",Ct),o(Qt=>{const Ye=[...Qt],Wt=Ye[Ue].products?.map(Ra=>Ra.id===xe?{...Ra,isSelected:!1,branchProductId:void 0}:Ra)||[];return Ye[Ue]={...Ye[Ue],products:Wt,selectedProductsCount:Math.max(0,(Ye[Ue].selectedProductsCount||1)-1),unselectedProductsCount:(Ye[Ue].unselectedProductsCount||0)+1},Ye}),Re(t("branchCategories.messages.error.addingProduct"))}finally{ut(!1),setTimeout(()=>{window.scrollTo(0,$e)},100)}}catch($e){console.error("Error adding product to category:",$e),Re(t("branchCategories.messages.error.addingProduct")),ut(!1)}},ar=async(xe,Ee)=>{try{const $e=window.scrollY;let _e=null,Ue=-1;for(let Zt=0;Zt<i.length;Zt++){const Ct=i[Zt].products?.find(Qt=>Qt.branchProductId===xe);if(Ct){_e=Ct,Ue=Zt;break}}if(!_e||Ue===-1){Re(t("branchCategories.messages.error.productNotFound"));return}const dt=[...i],$t=dt[Ue].products?.map(Zt=>Zt.branchProductId===xe?{...Zt,isSelected:!1,branchProductId:void 0,addonsCount:0,hasAddons:!1}:Zt)||[];dt[Ue]={...dt[Ue],products:$t,selectedProductsCount:Math.max(0,(dt[Ue].selectedProductsCount||1)-1),unselectedProductsCount:(dt[Ue].unselectedProductsCount||0)+1},o(dt),ut(!0);try{await Pi.deleteBranchProduct(xe),pe(t("branchCategories.messages.success.productRemoved",{name:Ee||_e.name}))}catch(Zt){console.error("API call failed, reverting optimistic update:",Zt);const Ct=[...i],Qt=Ct[Ue].products?.map(Ye=>Ye.id===_e.id?{...Ye,isSelected:!0,branchProductId:xe}:Ye)||[];Ct[Ue]={...Ct[Ue],products:Qt,selectedProductsCount:(Ct[Ue].selectedProductsCount||0)+1,unselectedProductsCount:Math.max(0,(Ct[Ue].unselectedProductsCount||1)-1)},o(Ct),Re(t("branchCategories.messages.error.removingProduct"))}finally{ut(!1),setTimeout(()=>{window.scrollTo(0,$e)},100)}}catch($e){console.error("Error removing product from category:",$e),Re(t("branchCategories.messages.error.removingProduct")),ut(!1)}},tl=xe=>{if(i[xe],xe>0){const Ee=[...i];[Ee[xe],Ee[xe-1]]=[Ee[xe-1],Ee[xe]],Ee.forEach(($e,_e)=>{$e.displayOrder=_e+1}),o(Ee)}},rl=xe=>{if(i[xe],xe<i.length-1){const Ee=[...i];[Ee[xe],Ee[xe+1]]=[Ee[xe+1],Ee[xe]],Ee.forEach(($e,_e)=>{$e.displayOrder=_e+1}),o(Ee)}},ro=xe=>_,ao=async()=>{De(!0),Re(null);try{const xe=i.map(Ee=>({branchCategoryId:Ee.branchCategoryId,newDisplayOrder:Ee.displayOrder}));await Ts.reorderBranchCategories(xe),c([...i]),ae(!1),pe(t("branchCategories.messages.success.orderSaved"))}catch(xe){console.error("Error saving category order:",xe),Re(t("branchCategories.messages.error.savingOrder"))}finally{De(!1)}};return r.jsx("div",{className:`min-h-screen bg-gray-50 dark:bg-gray-900 ${a?"rtl":"ltr"}`,children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:t("branchCategories.header")}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:t("branchCategories.subheader",{branchId:e})})]}),r.jsx("div",{className:`flex items-center space-x-4 ${a?"space-x-reverse":""}`,children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 px-4 py-2",children:r.jsxs("div",{className:`flex items-center space-x-2 text-sm ${a?"space-x-reverse":""}`,children:[r.jsx(Fa,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:t("branchCategories.lastUpdated")})]})})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:t("branchCategories.stats.availableCategories")}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:n.length})]}),r.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/30 rounded-xl",children:r.jsx(Ds,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:t("branchCategories.stats.activeCategories")}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:i.length})]}),r.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/30 rounded-xl",children:r.jsx(br,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:t("branchCategories.stats.selectedCategories")}),r.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:u.size})]}),r.jsx("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/30 rounded-xl",children:r.jsx(Nt,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:t("branchCategories.stats.selectedProducts")}),r.jsx("p",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:h.size})]}),r.jsx("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/30 rounded-xl",children:r.jsx(Ft,{className:"h-8 w-8 text-orange-600 dark:text-orange-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:t("branchCategories.stats.avalibleAddons")}),r.jsx("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:_.length})]}),r.jsx("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/30 rounded-xl",children:r.jsx(PF,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})})]})})]}),Se&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx(lt,{className:`h-5 w-5 text-red-600 dark:text-red-400 ${a?"ml-3":"mr-3"}`}),r.jsx("span",{className:"text-red-700 dark:text-red-300 font-medium",children:Se})]}),r.jsx("button",{onClick:()=>Re(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200",children:r.jsx(at,{className:"h-4 w-4"})})]})}),de&&r.jsx("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl",children:r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx(xt,{className:`h-5 w-5 text-green-600 dark:text-green-400 ${a?"ml-3":"mr-3"}`}),r.jsx("span",{className:"text-green-700 dark:text-green-300 font-medium",children:de})]}),r.jsx("button",{onClick:()=>pe(null),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200",children:r.jsx(at,{className:"h-4 w-4"})})]})}),r.jsx(sH,{activeTab:j,branchId:e,categories:n,branchCategories:i,selectedCategories:u,selectedProducts:h,categoriesWithProducts:b,currentStep:C,expandedCategories:E,expandedBranchCategories:I,isReorderMode:le,hasUnsavedChanges:Be,isReordering:we,isLoading:mt,isSaving:Et,isLoadingProducts:Vr,isLoadingBranchProducts:rr,searchTerm:k,setSearchTerm:v,setSelectedCategories:g,setSelectedProducts:x,setCurrentStep:P,setExpandedCategories:A,setExpandedBranchCategories:M,setIsReorderMode:ae,setEditingProductId:Z,setEditingCategoryId:te,handleShowProductAddons:Le,handleShowProductDetails:va,onCategorySelect:_r,onProductSelect:Bt,onSelectAllProducts:Fr,onClearAllProducts:gr,onProceedToProductSelection:Mt,onProceedToReview:Qn,onBackToCategorySelection:Oa,onBackToProductSelection:fr,onSave:fi,onMoveUp:tl,onMoveDown:rl,onSaveOrder:ao,onAddProduct:ea,onRemoveProduct:ar,onDeleteCategory:qt,onRefresh:be,setActiveTab:S,editedProductPrices:F,editedCategoryNames:U,editingProductId:K,editingCategoryId:ie,onProductPriceEdit:pn,onProductPriceChange:fn,onProductPriceSave:ke,onProductPriceCancel:Pe,onCategoryNameEdit:fe,onCategoryNameChange:Ge,onCategoryNameSave:ft,onCategoryNameCancel:vt,getProductPrice:kt,getCategoryName:Ot,isCategoryActive:Qe}),r.jsx(Vi,{isOpen:Ze.isOpen,onClose:Da,onConfirm:ka,title:t("branchCategories.deleteModal.title"),message:t("branchCategories.deleteModal.message",{name:Ze.categoryName}),isSubmitting:Oe,itemType:"category",itemName:Ze.categoryName}),r.jsx(nH,{isOpen:W,onClose:Lr,product:R}),r.jsx(oH,{isOpen:z,onClose:ct,product:B,availableAddons:ro(B?.branchProductId||0),onSave:Mr,isLoading:mt})]})})};class dH{baseUrl="/api/branches";async getCategories(t=!0,a=!0){try{N.info("Masa kategorileri API çağrısı başlatılıyor",{onlyActive:t,includeTableCount:a},{prefix:"TableService"});const n=new URLSearchParams({includeTableCount:a.toString()}),s=await se.get(`${this.baseUrl}/table-categories?${n.toString()}`);return N.info("Masa kategorileri alındı",s.data,{prefix:"TableService"}),s.data}catch(n){throw N.error("Masa kategorileri alınırken hata oluştu",n,{prefix:"TableService"}),n}}async getCategoryById(t){try{N.info("Kategori detayları API çağrısı başlatılıyor",{categoryId:t},{prefix:"TableService"});const a=await se.get(`${this.baseUrl}/table-categories/${t}`);return N.info("Kategori detayları alındı",a.data,{prefix:"TableService"}),a.data}catch(a){if(a?.status===404)return N.warn("Kategori bulunamadı (404)",{categoryId:t},{prefix:"TableService"}),null;throw N.error("Kategori detayları alınırken hata oluştu",a,{prefix:"TableService"}),a}}async createCategory(t){try{if(N.info("Kategori oluşturma API çağrısı başlatılıyor",{data:t},{prefix:"TableService"}),!t.categoryName||!t.categoryName.trim())throw new Error("Kategori adı gereklidir");if(!t.colorCode)throw new Error("Renk kodu gereklidir");if(!t.iconClass)throw new Error("İkon sınıfı gereklidir");const a=await se.post(`${this.baseUrl}/table-categories`,t);return N.info("Kategori başarıyla oluşturuldu",a.data,{prefix:"TableService"}),a.data}catch(a){throw N.error("Kategori oluşturulurken hata oluştu",a,{prefix:"TableService"}),a}}async updateCategory(t,a,n){try{if(N.info("Kategori güncelleme API çağrısı başlatılıyor",{categoryId:t,data:a},{prefix:"TableService"}),!a.categoryName||!a.categoryName.trim())throw new Error("Kategori adı gereklidir");if(!a.colorCode)throw new Error("Renk kodu gereklidir");if(!a.iconClass)throw new Error("İkon sınıfı gereklidir");const s={categoryName:a.categoryName,description:a.description||"",colorCode:a.colorCode,iconClass:a.iconClass,displayOrder:a.displayOrder||0,isActive:a.isActive,rowVersion:a.rowVersion||""},i=n?`${this.baseUrl}/table-categories/${t}?branchId=${n}`:`${this.baseUrl}/table-categories/${t}`,o=await se.put(i,s);return N.info("Kategori başarıyla güncellendi",o.data,{prefix:"TableService"}),o.data}catch(s){throw N.error("Kategori güncellenirken hata oluştu",s,{prefix:"TableService"}),s}}async deleteCategory(t,a){try{if(N.info("Kategori silme API çağrısı başlatılıyor",{categoryId:t},{prefix:"TableService"}),!t||t<=0)throw new Error("Geçerli bir kategori ID gereklidir");await se.delete(`${this.baseUrl}/table-categories/${t}?branchId=${a||""}  `),N.info("Kategori başarıyla silindi",{categoryId:t},{prefix:"TableService"})}catch(n){throw N.error("Kategori silinirken hata oluştu",n,{prefix:"TableService"}),n}}async toggleCategoryStatus(t,a){try{if(N.info("Kategori durumu güncelleme isteği",{categoryId:t,isActive:a},{prefix:"TableService"}),!t||t<=0)throw new Error("Geçerli bir kategori ID gereklidir");const n={isActive:a};await se.patch(`${this.baseUrl}/table-categories/${t}/toggle-status`,n),N.info("Kategori durumu başarıyla güncellendi",{categoryId:t,isActive:a},{prefix:"TableService"})}catch(n){throw N.error("Kategori durumu güncellenirken hata oluştu",n,{prefix:"TableService"}),n}}async reorderCategories(t){try{if(N.info("Kategori sıralama güncelleme isteği",{categoryOrders:t},{prefix:"TableService"}),!t||t.length===0)throw new Error("Sıralanacak kategori bilgisi gereklidir");const a={categoryOrders:t};await se.patch(`${this.baseUrl}/table-categories/reorder`,a),N.info("Kategori sıralaması başarıyla güncellendi",{count:t.length},{prefix:"TableService"})}catch(a){throw N.error("Kategori sıralaması güncellenirken hata oluştu",a,{prefix:"TableService"}),a}}async getTables(t,a=!0,n=!0){try{N.info("Masalar API çağrısı başlatılıyor",{categoryId:t,onlyActive:a,includeCategory:n},{prefix:"TableService"});const s=new URLSearchParams({onlyActive:a.toString(),includeCategory:n.toString()});t&&s.append("categoryId",t);const i=await se.get(`${this.baseUrl}/tables?${s.toString()}`);return N.info("Masalar alındı",i.data,{prefix:"TableService"}),i.data}catch(s){throw N.error("Masalar alınırken hata oluştu",s,{prefix:"TableService"}),s}}async getTableCategories(t=!0,a=!0){return this.getCategories(t,a)}async createTable(t){try{if(N.info("Masa oluşturma API çağrısı başlatılıyor",{data:t},{prefix:"TableService"}),!t.menuTableCategoryId)throw new Error("Masa kategorisi gereklidir");if(!t.capacity||t.capacity<=0)throw new Error("Masa kapasitesi en az 1 olmalıdır");const a=await se.post(`${this.baseUrl}/tables`,t);return N.info("Masa başarıyla oluşturuldu",a.data,{prefix:"TableService"}),a.data}catch(a){throw N.error("Masa oluşturulurken hata oluştu",a,{prefix:"TableService"}),a}}async createBatchTables(t){try{if(N.info("Toplu masa oluşturma API çağrısı başlatılıyor",{data:t},{prefix:"TableService"}),!t.items||t.items.length===0)throw new Error("En az bir masa oluşturma verisi gereklidir");t.items.forEach((s,i)=>{if(!s.categoryId)throw new Error(`${i+1}. öğe için kategori ID gereklidir`);if(!s.quantity||s.quantity<=0)throw new Error(`${i+1}. öğe için masa sayısı en az 1 olmalıdır`);if(!s.capacity||s.capacity<=0)throw new Error(`${i+1}. öğe için masa kapasitesi en az 1 olmalıdır`)});const a={timeout:12e4,headers:{"Content-Type":"application/json","X-Request-Type":"batch-operation"}},n=await se.post(`${this.baseUrl}/tables/batch`,t,a);return N.info("Toplu masa başarıyla oluşturuldu",n.data,{prefix:"TableService"}),n.data}catch(a){throw N.error("Toplu masa oluşturulurken hata oluştu",a,{prefix:"TableService"}),a}}async updateTable(t,a){try{if(N.info("Masa güncelleme API çağrısı başlatılıyor",{tableId:t,data:a},{prefix:"TableService"}),!a.id||a.id!==t)throw new Error("Masa ID uyumsuzluğu");if(!a.menuTableCategoryId)throw new Error("Masa kategorisi gereklidir");if(!a.capacity||a.capacity<=0)throw new Error("Masa kapasitesi en az 1 olmalıdır");const n=await se.put(`${this.baseUrl}/tables/${t}`,a);return N.info("Masa başarıyla güncellendi",n.data,{prefix:"TableService"}),n.data}catch(n){throw N.error("Masa güncellenirken hata oluştu",n,{prefix:"TableService"}),n}}async deleteTable(t){try{if(N.info("Masa silme API çağrısı başlatılıyor",{tableId:t},{prefix:"TableService"}),!t||t<=0)throw new Error("Geçerli bir masa ID gereklidir");await se.delete(`${this.baseUrl}/tables/${t}`),N.info("Masa başarıyla silindi",{tableId:t},{prefix:"TableService"})}catch(a){throw N.error("Masa silinirken hata oluştu",a,{prefix:"TableService"}),a}}async toggleTableStatus(t,a){try{if(N.info("Masa durumu güncelleme isteği",{tableId:t,isActive:a},{prefix:"TableService"}),!t||t<=0)throw new Error("Geçerli bir masa ID gereklidir");const n={isActive:a};await se.patch(`${this.baseUrl}/tables/${t}/status`,n),N.info("Masa durumu başarıyla güncellendi",{tableId:t,isActive:a},{prefix:"TableService"})}catch(n){throw N.error("Masa durumu güncellenirken hata oluştu",n,{prefix:"TableService"}),n}}async toggleTableOccupation(t,a){try{if(N.info("Masa doluluk durumu güncelleme isteği",{tableId:t,isOccupied:a},{prefix:"TableService"}),!t||t<=0)throw new Error("Geçerli bir masa ID gereklidir");const n={isOccupied:a};await se.patch(`${this.baseUrl}/tables/${t}/occupation`,n),N.info("Masa doluluk durumu başarıyla güncellendi",{tableId:t,isOccupied:a},{prefix:"TableService"})}catch(n){throw N.error("Masa doluluk durumu güncellenirken hata oluştu",n,{prefix:"TableService"}),n}}async getTableById(t){try{N.info("Masa detayları API çağrısı başlatılıyor",{tableId:t},{prefix:"TableService"});const a=await se.get(`${this.baseUrl}/tables/${t}`);return N.info("Masa detayları alındı",a.data,{prefix:"TableService"}),a.data}catch(a){if(a?.status===404)return N.warn("Masa bulunamadı (404)",{tableId:t},{prefix:"TableService"}),null;throw N.error("Masa detayları alınırken hata oluştu",a,{prefix:"TableService"}),a}}async batchUpdateTableStatus(t,a){try{if(N.info("Toplu masa durumu güncelleme isteği",{tableIds:t,isActive:a},{prefix:"TableService"}),!t||t.length===0)throw new Error("En az bir masa seçilmelidir");const n={tableIds:t,isActive:a},s={timeout:6e4,headers:{"Content-Type":"application/json","X-Request-Type":"batch-operation"}};await se.patch(`${this.baseUrl}/tables/batch-status`,n,s),N.info("Toplu masa durumu başarıyla güncellendi",{count:t.length,isActive:a},{prefix:"TableService"})}catch(n){throw N.error("Toplu masa durumu güncellenirken hata oluştu",n,{prefix:"TableService"}),n}}async getTableStatistics(){try{N.info("Masa istatistikleri API çağrısı başlatılıyor",null,{prefix:"TableService"});const t=await se.get(`${this.baseUrl}/tables/statistics`);return N.info("Masa istatistikleri alındı",t.data,{prefix:"TableService"}),t.data}catch(t){throw N.error("Masa istatistikleri alınırken hata oluştu",t,{prefix:"TableService"}),t}}async reorderTables(t){try{if(N.info("Masa sıralama güncelleme isteği",{tableOrders:t},{prefix:"TableService"}),!t||t.length===0)throw new Error("Sıralanacak masa bilgisi gereklidir");const a={tableOrders:t};await se.patch(`${this.baseUrl}/tables/reorder`,a),N.info("Masa sıralaması başarıyla güncellendi",{count:t.length},{prefix:"TableService"})}catch(a){throw N.error("Masa sıralaması güncellenirken hata oluştu",a,{prefix:"TableService"}),a}}async batchDeleteTables(t){try{if(N.info("Toplu masa silme isteği",{tableIds:t},{prefix:"TableService"}),!t||t.length===0)throw new Error("Silinecek masa seçilmelidir");const a={tableIds:t},n={timeout:6e4,headers:{"Content-Type":"application/json","X-Request-Type":"batch-operation"}};await se.delete(`${this.baseUrl}/tables/batch`,{data:a,...n}),N.info("Toplu masa silme başarıyla tamamlandı",{count:t.length},{prefix:"TableService"})}catch(a){throw N.error("Toplu masa silinirken hata oluştu",a,{prefix:"TableService"}),a}}async clearTable(t){try{if(N.info("Masa temizleme API çağrısı başlatılıyor",{tableId:t},{prefix:"TableService"}),!t||t<=0)throw new Error("Geçerli bir masa ID gereklidir");const a=await se.post(`${this.baseUrl}/tables/${t}/clear`,{reason:"string"});return N.info("Masa durumu başarıyla temizlendi/değiştirildi",{tableId:t,message:a.data.message,endedSessions:a.data.endedSessions},{prefix:"TableService"}),a.data}catch(a){throw N.error("Masa temizlenirken hata oluştu",a,{prefix:"TableService"}),a}}async getDeletedTableCategories(){try{N.info("Silinmiş masa kategorileri API çağrısı başlatılıyor",null,{prefix:"TableService"});const t=await se.get(`${this.baseUrl}/table-categories/deleted`);return N.info("Silinmiş masa kategorileri alındı",{count:t.data.length},{prefix:"TableService"}),t.data}catch(t){return N.error("Silinmiş masa kategorileri alınırken hata oluştu",t,{prefix:"TableService"}),[]}}async restoreTableCategory(t){try{if(N.info("Masa kategorisi geri yükleme isteği",{categoryId:t},{prefix:"TableService"}),!t||t<=0)throw new Error("Geçerli bir kategori ID gereklidir");await se.post(`${this.baseUrl}/table-categories/${t}/restore`),N.info("Masa kategorisi başarıyla geri yüklendi",{categoryId:t},{prefix:"TableService"})}catch(a){throw N.error("Masa kategorisi geri yüklenirken hata oluştu",a,{prefix:"TableService"}),a}}async getDeletedTables(t){try{N.info("Silinmiş masalar API çağrısı başlatılıyor",{branchId:t},{prefix:"TableService"});const a=await se.get(`${this.baseUrl}/tables/deleted?branchId=${t||""}`);return N.info("Silinmiş masalar alındı",{count:a.data.length},{prefix:"TableService"}),a.data}catch(a){return N.error("Silinmiş masalar alınırken hata oluştu",a,{prefix:"TableService"}),[]}}async restoreTable(t,a){try{if(N.info("Masa geri yükleme isteği",{tableId:t},{prefix:"TableService"}),!t||t<=0)throw new Error("Geçerli bir masa ID gereklidir");await se.post(`${this.baseUrl}/tables/${t}/restore?branchId=${a||""}`),N.info("Masa başarıyla geri yüklendi",{tableId:t},{prefix:"TableService"})}catch(n){throw N.error("Masa geri yüklenirken hata oluştu",n,{prefix:"TableService"}),n}}}const qr=new dH,cH=({table:e,isEditing:t,isToggling:a,isClearing:n=!1,onEdit:s,onCancelEdit:i,onUpdate:o,onDelete:l,onToggleStatus:c,onToggleOccupation:u,onClearTable:g,onShowQRCode:h,onTableChange:x})=>{const{t:b,isRTL:y}=qe();return r.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:`flex items-start justify-between mb-3 ${y?"flex-row-reverse":""}`,children:[t?r.jsxs("div",{className:`flex-1 ${y?"ml-2":"mr-2"}`,children:[r.jsx("input",{type:"text",value:e.menuTableName,onChange:k=>x(e.id,{menuTableName:k.target.value}),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:b("BranchTableManagement.tableNamePlaceholder")}),r.jsx("input",{type:"number",value:e.capacity,onChange:k=>x(e.id,{capacity:parseInt(k.target.value)||1}),min:"1",className:"w-full mt-1 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:b("BranchTableManagement.capacityPlaceholder")})]}):r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.menuTableName}),r.jsxs("p",{className:"text-sm text-left text-gray-500 dark:text-gray-400",children:[b("BranchTableManagement.capacityPlaceholder"),": ",e.capacity]})]}),r.jsx("div",{className:`flex gap-1 ${y?"flex-row-reverse":""}`,children:t?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>o(e.id,e),className:"p-1 text-green-600 hover:text-green-800",title:b("BranchTableManagement.save"),children:r.jsx(Ta,{className:"h-3 w-3"})}),r.jsx("button",{onClick:i,className:"p-1 text-gray-600 hover:text-gray-800",title:b("BranchTableManagement.cancel"),children:r.jsx(fa,{className:"h-3 w-3"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>h(e),className:"p-1 text-blue-600 hover:text-blue-800",title:b("BranchTableManagement.showQRCode"),children:r.jsx(hs,{className:"h-3 w-3"})}),r.jsx("button",{onClick:s,className:"p-1 text-yellow-600 hover:text-yellow-800",title:b("BranchTableManagement.edit"),children:r.jsx(Xh,{className:"h-3 w-3"})}),r.jsx("button",{onClick:()=>l(e.id),className:"p-1 text-red-600 hover:text-red-800",title:b("BranchTableManagement.delete"),children:r.jsx(er,{className:"h-3 w-3"})})]})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("button",{onClick:()=>c(e.id,!e.isActive),disabled:a,className:`flex items-center gap-1 ${y?"flex-row-reverse":""}`,children:[a?r.jsx(ot,{className:"h-3 w-3 animate-spin text-gray-400"}):e.isActive?r.jsx(Zk,{className:"h-4 w-4 text-green-500"}):r.jsx(Xk,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:`text-xs ${e.isActive?"text-green-600":"text-gray-500"}`,children:e.isActive?b("BranchTableManagement.active"):b("BranchTableManagement.inactive")})]})}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("button",{onClick:()=>u(e.id,!e.isOccupied),disabled:!e.isActive||a,className:`flex items-center gap-1 ${y?"flex-row-reverse":""}`,children:[e.isOccupied?r.jsx(Sl,{className:"h-4 w-4 text-red-500"}):r.jsx(Do,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{className:`text-xs ${e.isOccupied?"text-red-600":"text-green-600"}`,children:e.isOccupied?b("BranchTableManagement.occupied"):b("BranchTableManagement.available")})]})}),r.jsx("div",{className:"flex items-center justify-center pt-2 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("button",{onClick:()=>g(e.id),disabled:!e.isActive||n||a,className:`w-full px-3 py-2 text-xs font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${e.isOccupied?"bg-orange-100 hover:bg-orange-200 text-orange-700 dark:bg-orange-900/30 dark:hover:bg-orange-900/50 dark:text-orange-300":"bg-blue-100 hover:bg-blue-200 text-blue-700 dark:bg-blue-900/30 dark:hover:bg-blue-900/50 dark:text-blue-300"} flex items-center justify-center gap-2 ${y?"flex-row-reverse":""}`,title:e.isOccupied?b("BranchTableManagement.clearTable"):b("BranchTableManagement.refreshTable"),children:[n?r.jsx(ot,{className:"h-3 w-3 animate-spin"}):r.jsx(Un,{className:"h-3 w-3"}),n?b("BranchTableManagement.clearing"):e.isOccupied?b("BranchTableManagement.clearTable"):b("BranchTableManagement.refreshTable")]})})]})]})},uH=({category:e,tables:t,isExpanded:a,isEditing:n,isToggling:s,editingTable:i,showAddTable:o,toggleLoading:l,onToggleExpansion:c,onStartEditing:u,onCancelEditing:g,onUpdateCategory:h,onDeleteCategory:x,onToggleCategoryStatus:b,onCategoryChange:y,onShowAddTable:k,onHideAddTable:v,onAddTable:j,onStartTableEdit:S,onCancelTableEdit:C,onUpdateTable:P,onDeleteTable:E,onToggleTableStatus:A,onToggleTableOccupation:I,onShowQRCode:M,onTableChange:F,newTable:Q,onNewTableChange:U,onClearTable:V})=>{const{t:K,isRTL:Z}=qe(),ie=te=>{const D={table:ni,users:Ht,grid:Bi,building:Bi,settings:Yr}[te]||ni;return r.jsx(D,{className:"h-4 w-4"})};return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>!n&&c(e.id),children:r.jsxs("div",{className:`flex items-center justify-between ${Z?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-4 ${Z?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-2 ${Z?"flex-row-reverse":""}`,children:[a?r.jsx(lr,{className:"h-5 w-5 text-gray-500"}):r.jsx(xm,{className:"h-5 w-5 text-gray-500"}),r.jsx("div",{className:"p-2 rounded-lg flex items-center justify-center",style:{backgroundColor:`${e.colorCode}20`,color:e.colorCode},children:ie(e.iconClass)})]}),n?r.jsxs("div",{className:`flex items-center gap-3 ${Z?"flex-row-reverse":""}`,children:[r.jsx("input",{type:"text",value:e.categoryName,onChange:te=>y(e.id,{categoryName:te.target.value}),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",onClick:te=>te.stopPropagation(),placeholder:K("BranchTableManagement.categoryNamePlaceholder")}),r.jsx("input",{title:"colorCode",type:"color",value:e.colorCode,onChange:te=>y(e.id,{colorCode:te.target.value}),className:"w-8 h-8 border border-gray-300 dark:border-gray-600 rounded",onClick:te=>te.stopPropagation()})]}):r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.categoryName}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.length," ",K("BranchTableManagement.tablesCount")]})]})]}),r.jsxs("div",{className:`flex items-center gap-2 ${Z?"flex-row-reverse":""}`,children:[r.jsx("button",{onClick:te=>{te.stopPropagation(),b(e.id,!e.isActive)},disabled:s,className:"flex items-center gap-1",title:e.isActive?K("BranchTableManagement.deactivate"):K("BranchTableManagement.activate"),children:s?r.jsx(ot,{className:"h-4 w-4 animate-spin text-gray-400"}):e.isActive?r.jsx(Zk,{className:"h-5 w-5 text-green-500"}):r.jsx(Xk,{className:"h-5 w-5 text-gray-400"})}),n?r.jsxs("div",{className:`flex gap-1 ${Z?"flex-row-reverse":""}`,children:[r.jsx("button",{onClick:te=>{te.stopPropagation(),h(e.id,e)},className:"p-1 text-green-600 hover:text-green-800",title:K("BranchTableManagement.save"),children:r.jsx(Ta,{className:"h-4 w-4"})}),r.jsx("button",{onClick:te=>{te.stopPropagation(),g()},className:"p-1 text-gray-600 hover:text-gray-800",title:K("BranchTableManagement.cancel"),children:r.jsx(fa,{className:"h-4 w-4"})})]}):r.jsxs("div",{className:`flex gap-1 ${Z?"flex-row-reverse":""}`,children:[r.jsx("button",{onClick:te=>{te.stopPropagation(),u(e.id)},className:"p-1 text-yellow-600 hover:text-yellow-800",title:K("BranchTableManagement.edit"),children:r.jsx(Xh,{className:"h-4 w-4"})}),r.jsx("button",{onClick:te=>{te.stopPropagation(),x(e.id)},className:"p-1 text-red-600 hover:text-red-800",title:K("BranchTableManagement.delete"),children:r.jsx(er,{className:"h-4 w-4"})})]})]})]})}),a&&r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:[r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("button",{onClick:()=>k(e.id),className:`px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 text-sm ${Z?"flex-row-reverse":""}`,children:[r.jsx(Nt,{className:"h-4 w-4"}),K("BranchTableManagement.addTable")]})}),o===e.id&&r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-blue-50 dark:bg-blue-900/20",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{children:r.jsx("input",{type:"text",value:Q.menuTableName,onChange:te=>U({menuTableName:te.target.value}),placeholder:K("BranchTableManagement.tableNamePlaceholder"),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),r.jsx("div",{children:r.jsx("input",{type:"number",value:Q.capacity,onChange:te=>U({capacity:parseInt(te.target.value)||1}),placeholder:K("BranchTableManagement.capacityPlaceholder"),min:"1",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),r.jsxs("div",{className:`flex gap-2 ${Z?"flex-row-reverse":""}`,children:[r.jsxs("button",{onClick:()=>j(e.id),className:`px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 ${Z?"flex-row-reverse":""}`,children:[r.jsx(Ta,{className:"h-4 w-4"}),K("BranchTableManagement.save")]}),r.jsxs("button",{onClick:v,className:`px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 flex items-center gap-2 ${Z?"flex-row-reverse":""}`,children:[r.jsx(fa,{className:"h-4 w-4"}),K("BranchTableManagement.cancel")]})]})]})}),r.jsx("div",{className:"p-4",children:t.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ni,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:K("BranchTableManagement.noTables")})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(te=>r.jsx(cH,{table:te,onClearTable:V,isEditing:i===te.id,isToggling:l.tables.has(te.id),onEdit:()=>S(te.id),onCancelEdit:C,onUpdate:P,onDelete:E,onToggleStatus:A,onToggleOccupation:I,onShowQRCode:M,onTableChange:F},te.id))})})]})]})},mH=({isOpen:e,onClose:t,table:a,qrCodeImageUrl:n})=>{const{t:s}=qe(),[i,o]=p.useState(!1),[l,c]=p.useState(!1);if(!e)return null;const u=()=>`${window.location.origin}/table/qr/${a.qrCode}`,g=async()=>{o(!0);try{const b=await(await fetch(n)).blob(),y=window.URL.createObjectURL(b),k=document.createElement("a");k.href=y,k.download=`table-${a.menuTableName}-qr.png`,document.body.appendChild(k),k.click(),window.URL.revokeObjectURL(y),document.body.removeChild(k)}catch(x){console.error("Error downloading QR code:",x)}finally{o(!1)}},h=async()=>{c(!0);try{await navigator.clipboard.writeText(u()),setTimeout(()=>c(!1),2e3)}catch(x){console.error("Error copying URL:",x),c(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s("BranchTableManagement.qrCodeTitle",{tableName:a.menuTableName})}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(at,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"bg-white p-4 rounded-xl border-2 border-gray-200 inline-block",children:r.jsx("img",{src:n,alt:s("BranchTableManagement.qrCodeTitle",{tableName:a.menuTableName}),className:"w-48 h-48 mx-auto",onError:x=>{x.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMDAgNzBDOTQuNDc3MiA3MCA5MCA3NC40NzcyIDkwIDgwVjEyMEM5MCA5NC40NzcyIDk0LjQ3NzIgOTAgMTAwIDkwSDE0MEM5NC40NzcyIDkwIDkwIDk0LjQ3NzIgOTAgMTAwVjE0MEg5MFY4MEg5MFY3MEgxMDBaIiBmaWxsPSIjOUI5QkEwIi8+Cjx0ZXh0IHg9IjEwMCIgeT0iMTMwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5QjlCQTAiIHRleHQtYW5jaG9yPSJtaWRkbGUiPk5vIFFSIENvZGU8L3RleHQ+Cjwvc3ZnPgo="}})}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-3",children:s("BranchTableManagement.qrCodeDescription")})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:g,disabled:i,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[i?r.jsx(ot,{className:"h-4 w-4 animate-spin"}):r.jsx(ni,{className:"h-4 w-4"}),s(i?"BranchTableManagement.downloading":"BranchTableManagement.downloadQR")]}),r.jsx("button",{onClick:h,className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center gap-2",children:l?r.jsxs(r.Fragment,{children:[r.jsx(xt,{className:"h-4 w-4 text-green-600"}),s("BranchTableManagement.copied")]}):r.jsxs(r.Fragment,{children:[r.jsx(ni,{className:"h-4 w-4"}),s("BranchTableManagement.copyQRUrl")]})})]})]})})},gH=()=>{const{t:e,isRTL:t}=qe(),[a,n]=p.useState([]),[s,i]=p.useState([]),[o,l]=p.useState(new Set),[c,u]=p.useState(null),[g,h]=p.useState(null),[x,b]=p.useState(""),[y,k]=p.useState(!1),[v,j]=p.useState(!1),[S,C]=p.useState(null),[P,E]=p.useState(null),[A,I]=p.useState(!1),[M,F]=p.useState(null),[Q,U]=p.useState(!1),V=ya(),[K,Z]=p.useState({isOpen:!1,table:null}),[ie,te]=p.useState({categories:new Set,tables:new Set}),[R,D]=p.useState({categoryName:"",colorCode:"#3b82f6",iconClass:"table",isActive:!0}),[W,X]=p.useState({menuTableName:"",capacity:4,isActive:!0}),[B,H]=p.useState([{categoryId:0,quantity:1,capacity:4,displayOrder:null,isActive:!0}]),[z,$]=p.useState(!1),[_,Y]=p.useState(new Set),q=["table","users","grid","building","settings"];p.useEffect(()=>{we(),De()},[]),p.useEffect(()=>{if(P||S){const de=setTimeout(()=>{E(null),C(null)},5e3);return()=>clearTimeout(de)}},[P,S]);const G=de=>{if(!de)return"";const ce=`${window.location.origin}/table/qr/${de}`;return`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(ce)}`},ee=de=>s.filter(pe=>pe.menuTableCategoryId===de),ue=a.filter(de=>de.categoryName.toLowerCase().includes(x.toLowerCase())),le=()=>{H(de=>[...de,{categoryId:0,quantity:1,capacity:4,displayOrder:null,isActive:!0}])},ae=de=>{H(pe=>pe.filter((ce,Te)=>Te!==de))},Be=async de=>{Y(pe=>new Set(pe).add(de));try{const pe=await qr.clearTable(de);i(ce=>ce.map(Te=>Te.id===de?{...Te,isOccupied:!1}:Te)),E(pe.message||"Table cleared successfully"),await we()}catch(pe){console.error("Error clearing table:",pe),pe.status===415?C("Server configuration error. Please contact support."):pe.status===404?C("Table not found. Please refresh the page."):pe.status===400?C("Invalid table operation. Please try again."):C("Failed to clear table. Please try again.")}finally{Y(pe=>{const ce=new Set(pe);return ce.delete(de),ce})}},he=(de,pe,ce)=>{H(Te=>Te.map((Le,ct)=>ct===de?{...Le,[pe]:ce}:Le))},we=async()=>{k(!0),C(null);try{const de=await qr.getCategories(!0,!0);n(de),de.length>0&&l(new Set([de[0].id]))}catch(de){console.error("Error fetching categories:",de),C(e("BranchTableManagement.error.fetchCategoriesFailed"))}finally{k(!1)}},De=async()=>{C(null);try{const pe=(await qr.getTables(void 0,!1,!0)).map(ce=>({...ce,qrCode:ce.qrCode||"",qrCodeImageUrl:ce.qrCode?G(ce.qrCode):"",displayOrder:ce.displayOrder??0}));i(pe)}catch(de){console.error("Error fetching tables:",de),C(e("BranchTableManagement.error.tableUpdated"))}},Ze=async()=>{k(!0);try{await Promise.all([we(),De()]),E(e("BranchTableManagement.success.dataRefreshed"))}catch{C(e("BranchTableManagement.error.updateTableStatusFailed"))}finally{k(!1)}},pt=async()=>{const de=B.filter(pe=>pe.categoryId>0&&pe.quantity>0&&pe.capacity>0);if(de.length===0){C(e("BranchTableManagement.error.addTableFailed"));return}$(!0);try{const pe={items:de};await qr.createBatchTables(pe),await De(),await we(),U(!1),H([{categoryId:0,quantity:1,capacity:4,displayOrder:null,isActive:!0}]),E(e("BranchTableManagement.success.tableAdded"))}catch(pe){console.error("Error creating batch tables:",pe),C(e("BranchTableManagement.error.batchCreateFailed"))}finally{$(!1)}},mt=de=>{const pe=new Set(o);pe.has(de)?pe.delete(de):pe.add(de),l(pe)},ut=async(de,pe)=>{te(Le=>({...Le,categories:new Set(Le.categories).add(de)}));const ce=a.find(Le=>Le.id===de);if(!ce){console.error("Category not found for status toggle:",{categoryId:de}),te(Le=>{const ct=new Set(Le.categories);return ct.delete(de),{...Le,categories:ct}});return}const Te=[...a];n(Le=>Le.map(ct=>ct.id===de?{...ct,isActive:pe}:ct));try{const Le={id:ce.id,displayOrder:ce.displayOrder,categoryName:ce.categoryName,colorCode:ce.colorCode,iconClass:ce.iconClass,isActive:pe,rowVersion:ce.rowVersion||""};await qr.updateCategory(de,Le),E(e(`BranchTableManagement.success.category${pe?"Activated":"Deactivated"}`))}catch(Le){console.error("Error updating category status:",Le),n(Te),C(e("BranchTableManagement.error.updateCategoryStatusFailed"))}finally{te(Le=>{const ct=new Set(Le.categories);return ct.delete(de),{...Le,categories:ct}})}},Et=async(de,pe)=>{te(Te=>({...Te,tables:new Set(Te.tables).add(de)}));const ce=s.find(Te=>Te.id===de);if(!ce){console.error("Table not found for status toggle:",{tableId:de}),te(Te=>{const Le=new Set(Te.tables);return Le.delete(de),{...Te,tables:Le}});return}try{const Te={id:ce.id,menuTableName:ce.menuTableName,menuTableCategoryId:ce.menuTableCategoryId,capacity:ce.capacity,isActive:pe,isOccupied:ce.isOccupied,rowVersion:ce.rowVersion||""};await qr.updateTable(de,Te),await De(),E(e(`BranchTableManagement.success.table${pe?"Activated":"Deactivated"}`))}catch(Te){console.error("Error updating table status:",Te),C(e("BranchTableManagement.error.updateTableStatusFailed"))}finally{te(Te=>{const Le=new Set(Te.tables);return Le.delete(de),{...Te,tables:Le}})}},tr=async(de,pe)=>{te(Te=>({...Te,tables:new Set(Te.tables).add(de)}));const ce=[...s];i(Te=>Te.map(Le=>Le.id===de?{...Le,isOccupied:pe}:Le));try{await qr.toggleTableOccupation(de,pe),E(e(`BranchTableManagement.success.table${pe?"Occupied":"Available"}`))}catch(Te){console.error("Error updating table occupation:",Te),i(ce),C(e("BranchTableManagement.error.updateTableOccupationFailed"))}finally{te(Te=>{const Le=new Set(Te.tables);return Le.delete(de),{...Te,tables:Le}})}},Oe=async()=>{if(!R.categoryName.trim()){C(e("BranchTableManagement.error.categoryNameRequired"));return}const de={categoryName:R.categoryName,colorCode:R.colorCode,iconClass:R.iconClass,displayOrder:a.length,isActive:R.isActive};j(!0);try{await qr.createCategory(de),await we(),D({categoryName:"",colorCode:"#3b82f6",iconClass:"table",isActive:!0}),I(!1),E(e("BranchTableManagement.success.categoryAdded"))}catch(pe){console.error("Error adding category:",pe),C(e("BranchTableManagement.error.addCategoryFailed"))}finally{j(!1)}},Me=async(de,pe)=>{try{const ce=a.find(Le=>Le.id===de);if(!ce){C(e("BranchTableManagement.error.categoryNotFound"));return}const Te={id:de,displayOrder:ce.displayOrder,categoryName:pe.categoryName||ce.categoryName,colorCode:pe.colorCode||ce.colorCode,iconClass:pe.iconClass||ce.iconClass,isActive:pe.isActive!==void 0?pe.isActive:ce.isActive,rowVersion:ce.rowVersion||""};await qr.updateCategory(de,Te),await we(),u(null),E(e("BranchTableManagement.success.categoryUpdated"))}catch(ce){console.error("Error updating category:",ce),C(e("BranchTableManagement.error.updateCategoryFailed"))}},Vr=async de=>{if(ee(de).length>0){C(e("BranchTableManagement.error.categoryHasTables"));return}try{await qr.deleteCategory(de),await we(),E(e("BranchTableManagement.success.categoryDeleted"))}catch(ce){console.error("Error deleting category:",ce),C(e("BranchTableManagement.error.deleteCategoryFailed"))}},ur=async de=>{if(!W.menuTableName.trim()){C(e("BranchTableManagement.error.tableNameRequired"));return}const pe={menuTableName:W.menuTableName,menuTableCategoryId:de,capacity:W.capacity,displayOrder:ee(de).length,isActive:W.isActive};try{await qr.createTable(pe),await De(),await we(),X({menuTableName:"",capacity:4,isActive:!0}),F(null),E(e("BranchTableManagement.success.tableAdded"))}catch(ce){console.error("Error adding table:",ce),C(e("BranchTableManagement.error.addTableFailed"))}},rr=async(de,pe)=>{try{const ce=s.find(Le=>Le.id===de);if(!ce){C(e("BranchTableManagement.error.tableNotFound"));return}const Te={id:de,menuTableName:pe.menuTableName||ce.menuTableName,menuTableCategoryId:pe.menuTableCategoryId||ce.menuTableCategoryId,capacity:pe.capacity||ce.capacity,isActive:pe.isActive!==void 0?pe.isActive:ce.isActive,isOccupied:pe.isOccupied!==void 0?pe.isOccupied:ce.isOccupied,rowVersion:ce.rowVersion||""};await qr.updateTable(de,Te),await De(),h(null),E(e("BranchTableManagement.success.tableUpdated"))}catch(ce){console.error("Error updating table:",ce),C(e("BranchTableManagement.error.updateTableFailed"))}},Tt=async de=>{try{await qr.deleteTable(de),await De(),await we(),E(e("BranchTableManagement.success.tableDeleted"))}catch(pe){console.error("Error deleting table:",pe),C(e("BranchTableManagement.error.deleteTableFailed"))}},Se=de=>{Z({isOpen:!0,table:de})},Re=()=>{Z({isOpen:!1,table:null})};return r.jsx("div",{className:`min-h-screen bg-gray-50 dark:bg-gray-900 ${t?"rtl":"ltr"}`,children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("BranchTableManagement.header")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:e("BranchTableManagement.subheader")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center ",children:[r.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:r.jsx(Bi,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:`${t?"mr-4":"ml-4"}`,children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:e("BranchTableManagement.totalCategories")}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.length})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center ",children:[r.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:r.jsx(ni,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:`${t?"mr-4":"ml-4"}`,children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:e("BranchTableManagement.totalTables")}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.length})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center ",children:[r.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 rounded-lg",children:r.jsx(Sl,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:`${t?"mr-4":"ml-4"}`,children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:e("BranchTableManagement.occupiedTables")}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.filter(de=>de.isOccupied).length})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center ",children:[r.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsx(Do,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{className:`${t?"mr-4":"ml-4"}`,children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:e("BranchTableManagement.availableTables")}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.filter(de=>de.isActive&&!de.isOccupied).length})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:r.jsxs("div",{className:`flex flex-col lg:flex-row gap-4 justify-between ${t?"lg:flex-row-reverse":""}`,children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ja,{className:`absolute ${t?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 h-4 w-4`}),r.jsx("input",{type:"text",placeholder:e("BranchTableManagement.searchPlaceholder"),value:x,onChange:de=>b(de.target.value),className:`w-full ${t?"pr-10 pl-4":"pl-10 pr-4"} py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`})]})}),r.jsxs("div",{className:`flex gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsxs("button",{onClick:Ze,disabled:y,className:`px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 flex items-center gap-2 transition-colors ${t?"flex-row-reverse":""}`,children:[r.jsx(Un,{className:`h-4 w-4 ${y?"animate-spin":""}`}),e("BranchTableManagement.refresh")]}),r.jsxs("button",{onClick:()=>U(!0),className:`px-4 py-2 bg-green-600 dark:bg-green-700 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-600 flex items-center gap-2 transition-colors ${t?"flex-row-reverse":""}`,children:[r.jsx(xF,{className:"h-4 w-4"}),e("BranchTableManagement.batchCreateTables")]}),r.jsxs("button",{onClick:()=>I(!0),className:`px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 flex items-center gap-2 transition-colors ${t?"flex-row-reverse":""}`,children:[r.jsx(Nt,{className:"h-4 w-4"}),e("BranchTableManagement.addCategory")]}),r.jsxs("button",{onClick:()=>{V("/dashboard/RecycleBin",{state:{source:"tableCategories"}})},className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors duration-200",children:[r.jsx(er,{className:"h-4 w-4"}),r.jsx("span",{children:e("productsContent.actions.RecycleBin")})]})]})]})}),S&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${t?"flex-row-reverse":""}`,children:[r.jsx(lt,{className:`h-5 w-5 text-red-600 dark:text-red-400 ${t?"ml-2":"mr-2"}`}),r.jsx("span",{className:"text-red-700 dark:text-red-300",children:S})]}),r.jsx("button",{onClick:()=>C(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200",children:r.jsx(at,{className:"h-4 w-4"})})]})}),P&&r.jsx("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${t?"flex-row-reverse":""}`,children:[r.jsx(xt,{className:`h-5 w-5 text-green-600 dark:text-green-400 ${t?"ml-2":"mr-2"}`}),r.jsx("span",{className:"text-green-700 dark:text-green-300",children:P})]}),r.jsx("button",{onClick:()=>E(null),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200",children:r.jsx(at,{className:"h-4 w-4"})})]})}),A&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:e("BranchTableManagement.addCategoryTitle")}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("BranchTableManagement.categoryNameLabel")}),r.jsx("input",{type:"text",value:R.categoryName,onChange:de=>D(pe=>({...pe,categoryName:de.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:e("BranchTableManagement.categoryNamePlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("BranchTableManagement.colorLabel")}),r.jsxs("div",{className:`flex gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsx("input",{type:"color",title:"colorCode",value:R.colorCode,onChange:de=>D(pe=>({...pe,colorCode:de.target.value})),className:"w-12 h-10 border border-gray-300 dark:border-gray-600 rounded-lg"}),r.jsx("input",{type:"text",title:"colorCode",value:R.colorCode,onChange:de=>D(pe=>({...pe,colorCode:de.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("BranchTableManagement.iconLabel")}),r.jsx("select",{title:"iconClass",value:R.iconClass,onChange:de=>D(pe=>({...pe,iconClass:de.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:q.map(de=>r.jsx("option",{value:de,children:de},de))})]}),r.jsxs("div",{className:`flex items-end gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsxs("button",{onClick:Oe,disabled:v,className:`px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[v?r.jsx(ot,{className:"h-4 w-4 animate-spin"}):r.jsx(Ta,{className:"h-4 w-4"}),e(v?"BranchTableManagement.saving":"BranchTableManagement.save")]}),r.jsxs("button",{onClick:()=>I(!1),disabled:v,className:`px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsx(fa,{className:"h-4 w-4"}),e("BranchTableManagement.cancel")]})]})]})]}),Q&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e("BranchTableManagement.batchCreateTables")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e("BranchTableManagement.multiCategory")})]}),r.jsx("button",{onClick:()=>U(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(at,{className:"h-6 w-6"})})]}),r.jsx("div",{className:"space-y-4 mb-6",children:B.map((de,pe)=>r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:[e("BranchTableManagement.category")," ",pe+1]}),B.length>1&&r.jsx("button",{onClick:()=>ae(pe),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(at,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("BranchTableManagement.category")}),r.jsxs("select",{title:"categoryId",value:de.categoryId,onChange:ce=>he(pe,"categoryId",parseInt(ce.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-600 text-gray-900 dark:text-white",children:[r.jsxs("option",{value:0,children:["                            ",e("BranchTableManagement.SelectCategory")," "]}),a.filter(ce=>ce.isActive).map(ce=>r.jsx("option",{value:ce.id,children:ce.categoryName},ce.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("BranchTableManagement.Quantity")}),r.jsx("input",{title:"quantity",type:"number",min:"1",max:"50",value:de.quantity,onChange:ce=>he(pe,"quantity",parseInt(ce.target.value)||1),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-600 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("BranchTableManagement.Capacity")}),r.jsx("input",{title:"capacity",type:"number",min:"1",max:"20",value:de.capacity,onChange:ce=>he(pe,"capacity",parseInt(ce.target.value)||1),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-600 text-gray-900 dark:text-white"})]})]})]},pe))}),r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("button",{onClick:le,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center gap-2",children:[r.jsx(Nt,{className:"h-4 w-4"}),e("BranchTableManagement.addCategoryTitle")]})}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx("button",{onClick:()=>U(!1),disabled:z,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:opacity-50",children:e("BranchTableManagement.cancel")}),r.jsxs("button",{onClick:pt,disabled:z,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[z?r.jsx(ot,{className:"h-4 w-4 animate-spin"}):r.jsx(ni,{className:"h-4 w-4"}),e(z?"BranchTableManagement.creatingTables":"BranchTableManagement.createTables")]})]})]})})}),y?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ot,{className:"h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("BranchTableManagement.loading")})]}):r.jsx("div",{className:"space-y-4",children:ue.map(de=>r.jsx(uH,{onClearTable:Be,category:de,tables:ee(de.id),isExpanded:o.has(de.id),isEditing:c===de.id,isToggling:ie.categories.has(de.id),editingTable:g,showAddTable:M,toggleLoading:ie,onToggleExpansion:mt,onStartEditing:u,onCancelEditing:()=>u(null),onUpdateCategory:Me,onDeleteCategory:Vr,onToggleCategoryStatus:ut,onCategoryChange:(pe,ce)=>{n(Te=>Te.map(Le=>Le.id===pe?{...Le,...ce}:Le))},onShowAddTable:F,onHideAddTable:()=>F(null),onAddTable:ur,onStartTableEdit:h,onCancelTableEdit:()=>h(null),onUpdateTable:rr,onDeleteTable:Tt,onToggleTableStatus:Et,onToggleTableOccupation:tr,onShowQRCode:Se,onTableChange:(pe,ce)=>{i(Te=>Te.map(Le=>Le.id===pe?{...Le,...ce}:Le))},newTable:W,onNewTableChange:pe=>X(ce=>({...ce,...pe}))},de.id))}),!y&&ue.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Bi,{className:"h-12 w-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:e("BranchTableManagement.noCategories")}),r.jsx("button",{onClick:()=>I(!0),className:"px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors",children:e("BranchTableManagement.addFirstCategory")})]}),K.table&&r.jsx(mH,{isOpen:K.isOpen,onClose:Re,table:K.table,qrCodeImageUrl:G(K.table.qrCode||"")})]})})};class hH{baseUrl="/api/OrderTypes";async getOrderTypes(t){try{const a=t?`${this.baseUrl}?branchId=${t}`:this.baseUrl;N.info("OrderType listesi getirme isteği gönderiliyor",{branchId:t},{prefix:"OrderTypeService"});const n=await se.get(a);N.info("OrderType API Raw Response:",n,{prefix:"OrderTypeService"}),N.info("OrderType API Response Data:",n.data,{prefix:"OrderTypeService"});let s=[];if(Array.isArray(n.data))s=n.data;else if(n.data&&typeof n.data=="object"&&"data"in n.data){const i=n.data.data;Array.isArray(i)?s=i:i&&(s=[i])}else n.data&&(s=[n.data]);return N.info("OrderType listesi başarıyla alındı",{branchId:t,orderTypeCount:s.length,orderTypes:s.map(i=>({id:i.id,name:i.name,code:i.code,isActive:i.isActive,isStandard:i.isStandard,activeOrderCount:i.activeOrderCount}))},{prefix:"OrderTypeService"}),s}catch(a){N.error("OrderType listesi getirme hatası",a,{prefix:"OrderTypeService"}),N.error("Error response:",a?.response,{prefix:"OrderTypeService"}),N.error("Error response data:",a?.response?.data,{prefix:"OrderTypeService"}),this.handleError(a,"OrderType listesi getirilirken hata oluştu")}}async getOrderTypesBySessionId(){try{N.info("Session OrderType listesi getirme isteği gönderiliyor",{prefix:"OrderTypeService"});const t=await se.get(`${this.baseUrl}/GetOrderTypesBySessionId`);N.info("Session OrderType API Raw Response:",t,{prefix:"OrderTypeService"}),N.info("Session OrderType API Response Data:",t.data,{prefix:"OrderTypeService"});let a=[];if(Array.isArray(t.data))a=t.data;else if(t.data&&typeof t.data=="object"&&"data"in t.data){const n=t.data.data;Array.isArray(n)?a=n:n&&(a=[n])}else t.data&&(a=[t.data]);return N.info("Session OrderType listesi başarıyla alındı",{orderTypeCount:a.length,orderTypes:a.map(n=>({id:n.id,name:n.name,code:n.code,isActive:n.isActive,branchId:n.branchId,requiresTable:n.requiresTable,requiresAddress:n.requiresAddress,requiresPhone:n.requiresPhone,serviceCharge:n.serviceCharge,estimatedMinutes:n.estimatedMinutes}))},{prefix:"OrderTypeService"}),a}catch(t){N.error("Session OrderType listesi getirme hatası",t,{prefix:"OrderTypeService"}),N.error("Error response:",t?.response,{prefix:"OrderTypeService"}),N.error("Error response data:",t?.response?.data,{prefix:"OrderTypeService"}),this.handleError(t,"Session OrderType listesi getirilirken hata oluştu")}}async getOrderTypesByOnlineSessionId(){try{N.info("Online Session OrderType listesi getirme isteği gönderiliyor",{prefix:"OrderTypeService"});const t=await se.get("/api/OrderTypes/GetOrderTypesByOnlineSessionId");N.info("Online Session OrderType API Raw Response:",t,{prefix:"OrderTypeService"}),N.info("Online Session OrderType API Response Data:",t.data,{prefix:"OrderTypeService"});let a=[];if(Array.isArray(t.data))a=t.data;else if(t.data&&typeof t.data=="object"&&"data"in t.data){const n=t.data.data;Array.isArray(n)?a=n:n&&(a=[n])}else t.data&&(a=[t.data]);return N.info("Online Session OrderType listesi başarıyla alındı",{orderTypeCount:a.length,orderTypes:a.map(n=>({id:n.id,name:n.name,code:n.code,isActive:n.isActive,branchId:n.branchId,requiresName:n.requiresName,requiresTable:n.requiresTable,requiresAddress:n.requiresAddress,requiresPhone:n.requiresPhone,minOrderAmount:n.minOrderAmount,serviceCharge:n.serviceCharge,estimatedMinutes:n.estimatedMinutes}))},{prefix:"OrderTypeService"}),console.log("Online Session Order Types Fetched:",a),a}catch(t){N.error("Online Session OrderType listesi getirme hatası",t,{prefix:"OrderTypeService"}),N.error("Error response:",t?.response,{prefix:"OrderTypeService"}),N.error("Error response data:",t?.response?.data,{prefix:"OrderTypeService"}),this.handleError(t,"Online Session OrderType listesi getirilirken hata oluştu")}}async getOrderTypeById(t){try{N.info("OrderType detay getirme isteği gönderiliyor",{id:t},{prefix:"OrderTypeService"});const a=await se.get(`${this.baseUrl}/${t}`);return N.info("OrderType detayı başarıyla alındı",a.data,{prefix:"OrderTypeService"}),a.data.data}catch(a){N.error("OrderType detay getirme hatası",a,{prefix:"OrderTypeService"}),this.handleError(a,"OrderType detayı getirilirken hata oluştu")}}async updateOrderType(t,a){try{N.info("OrderType güncelleme isteği gönderiliyor",{id:t,data:a},{prefix:"OrderTypeService"});const n={id:a.id,name:a.name?.trim()||"",code:a.code?.trim()||"",description:a.description?.trim()||"",icon:a.icon?.trim()||"",isActive:a.isActive,displayOrder:a.displayOrder||0,requiresName:a.requiresName,requiresTable:a.requiresTable,requiresAddress:a.requiresAddress,requiresPhone:a.requiresPhone,minOrderAmount:a.minOrderAmount||0,serviceCharge:a.serviceCharge||0,estimatedMinutes:a.estimatedMinutes||0,rowVersion:a.rowVersion},s=await se.put(`${this.baseUrl}/${t}`,n);return N.info("OrderType başarıyla güncellendi",s.data,{prefix:"OrderTypeService"}),s.data.data}catch(n){N.error("OrderType güncelleme hatası",n,{prefix:"OrderTypeService"}),n.response?.data?.errors&&N.error("API Validation Hataları:",n.response.data.errors,{prefix:"OrderTypeService"}),this.handleError(n,"OrderType güncellenirken hata oluştu")}}async deleteOrderType(t){try{N.info("OrderType silme isteği gönderiliyor",{id:t},{prefix:"OrderTypeService"}),await se.delete(`${this.baseUrl}/${t}`),N.info("OrderType başarıyla silindi",{id:t},{prefix:"OrderTypeService"})}catch(a){N.error("OrderType silme hatası",a,{prefix:"OrderTypeService"}),this.handleError(a,"OrderType silinirken hata oluştu")}}async updateOrderTypeSettings(t,a){try{N.info("OrderType ayarları güncelleme isteği gönderiliyor",{id:t,data:a},{prefix:"OrderTypeService"});const n=await se.put(`${this.baseUrl}/${t}/settings`,a);let s=null;if((n.status===204||n.status===200)&&(n.data===""||n.data===null||n.data===void 0))return s={id:a.id,isActive:a.isActive,minOrderAmount:a.minOrderAmount,serviceCharge:a.serviceCharge,estimatedMinutes:a.estimatedMinutes,requiresName:a.requiresName,requiresTable:a.requiresTable,requiresAddress:a.requiresAddress,requiresPhone:a.requiresPhone,rowVersion:this.generateNewRowVersion(a.rowVersion),updatedAt:new Date().toISOString(),name:void 0,code:void 0,description:void 0,icon:void 0},N.info("Created mock OrderType from successful empty response",s,{prefix:"OrderTypeService"}),s;if(n.data)if(typeof n.data=="object"&&!Array.isArray(n.data)&&"id"in n.data&&"rowVersion"in n.data)s=n.data;else if("data"in n.data&&n.data.data){const i=n.data.data;typeof i=="object"&&!Array.isArray(i)&&"id"in i&&"rowVersion"in i&&(s=i)}else"isSuccess"in n.data&&n.data.data&&typeof n.data.data=="object"&&!Array.isArray(n.data.data)&&(s=n.data.data);if(!s)throw N.error("Invalid API response structure:",{responseData:n.data,responseStatus:n.status,responseType:typeof n.data,isArray:Array.isArray(n.data)},{prefix:"OrderTypeService"}),new Error("Sunucudan geçersiz yanıt alındı - lütfen yanıt yapısını kontrol edin");return N.info("OrderType ayarları başarıyla güncellendi",s,{prefix:"OrderTypeService"}),s}catch(n){N.error("OrderType ayarları güncelleme hatası",n,{prefix:"OrderTypeService"}),N.error("Error response:",n?.response,{prefix:"OrderTypeService"}),N.error("Error response data:",n?.response?.data,{prefix:"OrderTypeService"}),n.response?.data?.errors&&N.error("API Validation Hataları:",n.response.data.errors,{prefix:"OrderTypeService"}),this.handleError(n,"OrderType ayarları güncellenirken hata oluştu")}}generateNewRowVersion(t){try{return Date.now().toString()}catch{return Date.now().toString()}}async getActiveOrderTypesByBranch(t){try{N.info("Branch aktif OrderType listesi getirme isteği gönderiliyor",{branchId:t},{prefix:"OrderTypeService"});const a=await se.get(`${this.baseUrl}/branch/${t}/active`);let n=[];if(Array.isArray(a.data))n=a.data;else if(a.data&&typeof a.data=="object"&&"data"in a.data){const s=a.data.data;Array.isArray(s)?n=s:s&&(n=[s])}else a.data&&(n=[a.data]);return N.info("Branch aktif OrderType listesi başarıyla alındı",{branchId:t,orderTypeCount:n.length,activeOrderTypes:n.map(s=>({id:s.id,name:s.name,code:s.code,isActive:s.isActive,isStandard:s.isStandard,activeOrderCount:s.activeOrderCount}))},{prefix:"OrderTypeService"}),n}catch(a){N.error("Branch aktif OrderType listesi getirme hatası",a,{prefix:"OrderTypeService"}),this.handleError(a,"Branch aktif OrderType listesi getirilirken hata oluştu")}}async reorderOrderTypes(t){try{N.info("OrderType sıralama güncelleme isteği gönderiliyor",t,{prefix:"OrderTypeService"}),await se.put(`${this.baseUrl}/reorder`,t),N.info("OrderType sıralaması başarıyla güncellendi",null,{prefix:"OrderTypeService"})}catch(a){N.error("OrderType sıralama güncelleme hatası",a,{prefix:"OrderTypeService"}),a.response?.data?.errors&&N.error("API Validation Hataları:",a.response.data.errors,{prefix:"OrderTypeService"}),this.handleError(a,"OrderType sıralaması güncellenirken hata oluştu")}}handleError(t,a){if(t?.response?.status===401)throw new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın.");if(t?.response?.status===403)throw new Error("Bu işlem için yetkiniz bulunmuyor.");if(t?.response?.status===404)throw new Error("İstenen kayıt bulunamadı.");if(t?.response?.status===400){const n=t?.response?.data;if(n?.errors){const s=Object.values(n.errors).flat();throw new Error(`Doğrulama hatası: ${s.join(", ")}`)}else throw new Error("Geçersiz istek. Lütfen verileri kontrol edin.")}else throw t?.response?.status===409?new Error("Bu kayıt zaten mevcut veya çakışma var."):t?.response?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`${a}: ${t?.message||"Bilinmeyen hata"}`)}}const Xl=new hH,pH=()=>{const{t:e,isRTL:t}=qe(),[a,n]=p.useState([]),[s,i]=p.useState(!0),[o,l]=p.useState(null),[c,u]=p.useState({}),[g,h]=p.useState("");p.useEffect(()=>{x()},[]);const x=async()=>{try{i(!0),l(null);const v=await Xl.getOrderTypes();n(v)}catch(v){l(v.message||e("dashboard.orderType.loadingError"))}finally{i(!1)}},b=async v=>{try{u(C=>({...C,[v.id]:!0})),l(null),h("");const j={id:v.id,name:v.name,code:v.code,description:v.description,icon:v.icon,isActive:v.isActive,displayOrder:v.displayOrder,requiresName:v.requiresName??!1,requiresTable:v.requiresTable,requiresAddress:v.requiresAddress,requiresPhone:v.requiresPhone,minOrderAmount:v.minOrderAmount,serviceCharge:v.serviceCharge,estimatedMinutes:v.estimatedMinutes,rowVersion:v.rowVersion},S=await Xl.updateOrderTypeSettings(v.id,j);S?n(C=>C.map(P=>P.id===v.id?S:P)):await x(),h(e("dashboard.orderType.settingsUpdated")),setTimeout(()=>h(""),3e3)}catch(j){console.error("Update error:",j),console.error("Error details:",{message:j.message,response:j.response?.data,status:j.response?.status}),l(j.message||e("dashboard.orderType.updateError"))}finally{u(j=>({...j,[v.id]:!1}))}},y=(v,j,S)=>{n(C=>C.map(P=>P.id===v?{...P,[j]:S}:P))},k=v=>{b(v)};return s?r.jsx("div",{className:"flex items-center justify-center min-h-96 bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ot,{className:"w-10 h-10 animate-spin mx-auto mb-6 text-indigo-600 dark:text-indigo-400"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg font-medium",children:e("dashboard.orderType.loading")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-2",children:e("dashboard.orderType.pleaseWait")})]})}):r.jsx("div",{className:`min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 transition-colors duration-300 ${t?"rtl":"ltr"}`,children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"mb-12",children:r.jsxs("div",{className:"flex items-center gap-4 mb-4 ",children:[r.jsx("div",{className:"p-3 bg-indigo-600 dark:bg-indigo-500 rounded-xl shadow-lg",children:r.jsx(Yr,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:e("dashboard.orderType.title")}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mt-2",children:e("dashboard.orderType.subtitle")})]})]})}),g&&r.jsx("div",{className:`mb-8 p-4 rounded-xl border-l-4 border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 shadow-lg animate-fade-in ${t?"border-r-4 border-l-0":""}`,children:r.jsxs("div",{className:`flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[r.jsx(xt,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),r.jsx("p",{className:"text-emerald-800 dark:text-emerald-200 font-medium",children:g})]})}),o&&r.jsx("div",{className:`mb-8 p-4 rounded-xl border-l-4 border-red-500 bg-red-50 dark:bg-red-900/20 shadow-lg ${t?"border-r-4 border-l-0":""}`,children:r.jsxs("div",{className:`flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[r.jsx(lt,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),r.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:o})]})}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:a.map(v=>r.jsx("div",{className:"group bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-[1.02] border border-gray-200 dark:border-gray-700 overflow-hidden",children:r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:`flex items-center justify-between mb-6 ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-4 ${t?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`p-4 rounded-xl text-3xl shadow-md ${v.isActive?"bg-gradient-to-br from-indigo-500 to-purple-600 dark:from-indigo-400 dark:to-purple-500":"bg-gray-50 dark:bg-gray-700"} transition-colors duration-300`,children:v.icon}),r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-200",children:v.name}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:v.description}),r.jsxs("div",{className:`flex items-center gap-2 mt-2 ${t?"flex-row-reverse":""}`,children:[r.jsx(zt,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["~",v.estimatedMinutes," ",e("dashboard.orderType.minutes")]})]})]})]}),v.activeOrderCount>0&&r.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-200 text-sm font-semibold rounded-xl border border-indigo-200 dark:border-indigo-800 ${t?"flex-row-reverse":""}`,children:[r.jsx(Ht,{className:"w-4 h-4"}),v.activeOrderCount," ",e("dashboard.orderType.active")]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:`flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600 ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:e("dashboard.orderType.activeStatus")}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e("dashboard.orderType.activeStatusDescription")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:e("dashboard.orderType.activeStatus"),type:"checkbox",checked:v.isActive,onChange:j=>y(v.id,"isActive",j.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-14 h-7 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer transition-all duration-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-6 after:w-6 after:transition-all after:shadow-md peer-checked:bg-indigo-600 dark:peer-checked:bg-indigo-500"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-700 dark:to-gray-600 p-4 rounded-xl border border-blue-200 dark:border-gray-600",children:[r.jsx("h4",{className:`text-sm font-bold text-gray-900 dark:text-white mb-4 ${t?"text-right":"text-left"}`,children:e("dashboard.orderType.requirements")||"Required Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsx(ln,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e("dashboard.orderType.requiresName")||"Requires Name"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:e("dashboard.orderType.requiresName")||"Requires Name",type:"checkbox",checked:v.requiresName??!1,onChange:j=>y(v.id,"requiresName",j.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer transition-all duration-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all after:shadow-md peer-checked:bg-blue-600 dark:peer-checked:bg-blue-500"})]})]}),r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsx(Wu,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e("dashboard.orderType.requiresTable")||"Requires Table"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:e("dashboard.orderType.requiresTable")||"Requires Table",type:"checkbox",checked:v.requiresTable,onChange:j=>y(v.id,"requiresTable",j.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer transition-all duration-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all after:shadow-md peer-checked:bg-green-600 dark:peer-checked:bg-green-500"})]})]}),r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsx($r,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e("dashboard.orderType.requiresAddress")||"Requires Address"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:e("dashboard.orderType.requiresAddress")||"Requires Address",type:"checkbox",checked:v.requiresAddress,onChange:j=>y(v.id,"requiresAddress",j.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer transition-all duration-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all after:shadow-md peer-checked:bg-purple-600 dark:peer-checked:bg-purple-500"})]})]}),r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsx(Gr,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"}),r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e("dashboard.orderType.requiresPhone")||"Requires Phone"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:e("dashboard.orderType.requiresPhone")||"Requires Phone",type:"checkbox",checked:v.requiresPhone,onChange:j=>y(v.id,"requiresPhone",j.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 dark:peer-focus:ring-orange-800 rounded-full peer transition-all duration-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all after:shadow-md peer-checked:bg-orange-600 dark:peer-checked:bg-orange-500"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 ",children:[r.jsx(Qr,{className:"w-4 h-4"}),e("dashboard.orderType.minOrderAmount")]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",step:"1",value:v.minOrderAmount,onChange:j=>y(v.id,"minOrderAmount",parseFloat(j.target.value)||0),className:`w-full px-4 py-3 ${t?"pr-10 text-right":"pl-10"} border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent transition-all duration-200 shadow-sm`,placeholder:"0.00"}),r.jsx("span",{className:`absolute ${t?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400`,children:"₺"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 ",children:[r.jsx(Qr,{className:"w-4 h-4"}),e("dashboard.orderType.serviceCharge")]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",step:"1",value:v.serviceCharge,onChange:j=>y(v.id,"serviceCharge",parseFloat(j.target.value)||0),className:`w-full px-4 py-3 ${t?"pr-10 text-right":"pl-10"} border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent transition-all duration-200 shadow-sm`,placeholder:"0.00"}),r.jsx("span",{className:`absolute ${t?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400`,children:"₺"})]})]}),r.jsx("button",{onClick:()=>k(v),disabled:c[v.id],className:`w-full flex items-center justify-center gap-3 px-6 py-4 rounded-xl font-semibold text-white transition-all duration-300 transform ${c[v.id]?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed scale-95":"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 dark:from-indigo-500 dark:to-purple-500 dark:hover:from-indigo-600 dark:hover:to-purple-600 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95"} ${t?"flex-row-reverse":""}`,children:c[v.id]?r.jsxs(r.Fragment,{children:[r.jsx(ot,{className:"w-5 h-5 animate-spin"}),e("dashboard.orderType.updating")]}):r.jsxs(r.Fragment,{children:[r.jsx(Ta,{className:"w-5 h-5"}),e("dashboard.orderType.saveSettings")]})})]})]})},v.id))}),a.length>0&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 p-6 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between ",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold",children:a.length}),r.jsx("div",{className:"text-blue-100 font-medium",children:e("dashboard.orderType.totalOrderTypes")})]}),r.jsx(Yr,{className:"w-8 h-8 text-blue-200"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 dark:from-emerald-600 dark:to-emerald-700 p-6 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between ",children:[r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("div",{className:"text-3xl font-bold",children:a.filter(v=>v.isActive).length}),r.jsx("div",{className:"text-emerald-100 font-medium",children:e("dashboard.orderType.activeTypes")})]}),r.jsx(xt,{className:"w-8 h-8 text-emerald-200"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 dark:from-orange-600 dark:to-orange-700 p-6 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between ",children:[r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("div",{className:"text-3xl font-bold",children:a.reduce((v,j)=>v+j.activeOrderCount,0)}),r.jsx("div",{className:"text-orange-100 font-medium",children:e("dashboard.orderType.totalActiveOrders")})]}),r.jsx(Ht,{className:"w-8 h-8 text-orange-200"})]})})]})]})})};function jI(e){var t,a,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(a=jI(e[t]))&&(n&&(n+=" "),n+=a)}else for(a in e)e[a]&&(n&&(n+=" "),n+=a);return n}function Gt(){for(var e,t,a=0,n="",s=arguments.length;a<s;a++)(e=arguments[a])&&(t=jI(e))&&(n&&(n+=" "),n+=t);return n}var oy={},ly={},t4;function fH(){return t4||(t4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==="__proto__"}e.isUnsafeProperty=t}(ly)),ly}var dy={},r4;function NI(){return r4||(r4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}e.isDeepKey=t}(dy)),dy}var cy={},a4;function CI(){return a4||(a4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="string"||typeof a=="symbol"?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}e.toKey=t}(cy)),cy}var uy={},n4;function xw(){return n4||(n4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){const n=[],s=a.length;if(s===0)return n;let i=0,o="",l="",c=!1;for(a.charCodeAt(0)===46&&(n.push(""),i++);i<s;){const u=a[i];l?u==="\\"&&i+1<s?(i++,o+=a[i]):u===l?l="":o+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(o),o=""):o+=u:u==="["?(c=!0,o&&(n.push(o),o="")):u==="."?o&&(n.push(o),o=""):o+=u,i++}return o&&n.push(o),n}e.toPath=t}(uy)),uy}var s4;function yw(){return s4||(s4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fH(),a=NI(),n=CI(),s=xw();function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const g=l[c];return g===void 0?a.isDeepKey(c)?i(l,s.toPath(c),u):u:g}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const g=l[c];return g===void 0?u:g}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const g=l[c];return g===void 0?u:g}}}function o(l,c,u){if(c.length===0)return u;let g=l;for(let h=0;h<c.length;h++){if(g==null||t.isUnsafeProperty(c[h]))return u;g=g[c[h]]}return g===void 0?u:g}e.get=i}(oy)),oy}var my,i4;function xH(){return i4||(i4=1,my=yw().get),my}var yH=xH();const Go=zs(yH);var gy={exports:{}},dr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o4;function bH(){if(o4)return dr;o4=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function y(k){if(typeof k=="object"&&k!==null){var v=k.$$typeof;switch(v){case e:switch(k=k.type,k){case a:case s:case n:case c:case u:case x:return k;default:switch(k=k&&k.$$typeof,k){case o:case l:case h:case g:return k;case i:return k;default:return v}}case t:return v}}}return dr.ContextConsumer=i,dr.ContextProvider=o,dr.Element=e,dr.ForwardRef=l,dr.Fragment=a,dr.Lazy=h,dr.Memo=g,dr.Portal=t,dr.Profiler=s,dr.StrictMode=n,dr.Suspense=c,dr.SuspenseList=u,dr.isContextConsumer=function(k){return y(k)===i},dr.isContextProvider=function(k){return y(k)===o},dr.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},dr.isForwardRef=function(k){return y(k)===l},dr.isFragment=function(k){return y(k)===a},dr.isLazy=function(k){return y(k)===h},dr.isMemo=function(k){return y(k)===g},dr.isPortal=function(k){return y(k)===t},dr.isProfiler=function(k){return y(k)===s},dr.isStrictMode=function(k){return y(k)===n},dr.isSuspense=function(k){return y(k)===c},dr.isSuspenseList=function(k){return y(k)===u},dr.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===a||k===s||k===n||k===c||k===u||typeof k=="object"&&k!==null&&(k.$$typeof===h||k.$$typeof===g||k.$$typeof===o||k.$$typeof===i||k.$$typeof===l||k.$$typeof===b||k.getModuleId!==void 0)},dr.typeOf=y,dr}var l4;function vH(){return l4||(l4=1,gy.exports=bH()),gy.exports}var kH=vH(),Za=e=>e===0?0:e>0?1:-1,Hn=e=>typeof e=="number"&&e!=+e,Al=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Je=e=>(typeof e=="number"||e instanceof Number)&&!Hn(e),ci=e=>Je(e)||typeof e=="string",wH=0,Zl=e=>{var t=++wH;return"".concat(e||"").concat(t)},ps=function(t,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(t)&&typeof t!="string")return n;var i;if(Al(t)){if(a==null)return n;var o=t.indexOf("%");i=a*parseFloat(t.slice(0,o))/100}else i=+t;return Hn(i)&&(i=n),s&&a!=null&&i>a&&(i=a),i},SI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,a={},n=0;n<t;n++)if(!a[e[n]])a[e[n]]=!0;else return!0;return!1},jl=(e,t)=>Je(e)&&Je(t)?a=>e+a*(t-e):()=>t;function Dd(e,t,a){return Je(e)&&Je(t)?e+a*(t-e):t}function PI(e,t,a){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Go(n,t))===a)}var Rr=e=>e===null||typeof e>"u",Tm=e=>Rr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),jH=["viewBox","children"],NH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],d4=["points","pathLength"],hy={svg:jH,polygon:d4,polyline:d4},bw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],vw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(p.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var n={};return Object.keys(a).forEach(s=>{bw.includes(s)&&(n[s]=i=>a[s](a,i))}),n},CH=(e,t,a)=>n=>(e(t,a,n),null),kw=(e,t,a)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];bw.includes(s)&&typeof i=="function"&&(n||(n={}),n[s]=CH(i,t,a))}),n},c4=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",u4=null,py=null,TI=e=>{if(e===u4&&Array.isArray(py))return py;var t=[];return p.Children.forEach(e,a=>{Rr(a)||(kH.isFragment(a)?t=t.concat(TI(a.props.children)):t.push(a))}),py=t,u4=e,t};function hp(e,t){var a=[],n=[];return Array.isArray(t)?n=t.map(s=>c4(s)):n=[c4(t)],TI(e).forEach(s=>{var i=Go(s,"type.displayName")||Go(s,"type.name");n.indexOf(i)!==-1&&a.push(s)}),a}var pp=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,SH=(e,t,a,n)=>{var s,i=(s=n&&hy?.[n])!==null&&s!==void 0?s:[];return t.startsWith("data-")||typeof e!="function"&&(n&&i.includes(t)||NH.includes(t))||a&&bw.includes(t)},It=(e,t,a)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(p.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(i=>{var o;SH((o=n)===null||o===void 0?void 0:o[i],i,t,a)&&(s[i]=n[i])}),s},PH=["children","width","height","viewBox","className","style","title","desc"];function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},kv.apply(null,arguments)}function TH(e,t){if(e==null)return{};var a,n,s=AH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function AH(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var ww=p.forwardRef((e,t)=>{var{children:a,width:n,height:s,viewBox:i,className:o,style:l,title:c,desc:u}=e,g=TH(e,PH),h=i||{width:n,height:s,x:0,y:0},x=Gt("recharts-surface",o);return p.createElement("svg",kv({},It(g,!0,"svg"),{className:x,width:n,height:s,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),p.createElement("title",null,c),p.createElement("desc",null,u),a)}),MH=["children","className"];function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},wv.apply(null,arguments)}function IH(e,t){if(e==null)return{};var a,n,s=EH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function EH(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var xa=p.forwardRef((e,t)=>{var{children:a,className:n}=e,s=IH(e,MH),i=Gt("recharts-layer",n);return p.createElement("g",wv({className:i},It(s,!0),{ref:t}),a)}),AI=p.createContext(null),OH=()=>p.useContext(AI);function yr(e){return function(){return e}}const MI=Math.cos,rh=Math.sin,Hs=Math.sqrt,ah=Math.PI,fp=2*ah,jv=Math.PI,Nv=2*jv,bl=1e-6,DH=Nv-bl;function II(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=arguments[t]+e[t]}function RH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return II;const a=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*a)/a+n[s]}}class $H{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?II:RH(t)}moveTo(t,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,a){this._append`L${this._x1=+t},${this._y1=+a}`}quadraticCurveTo(t,a,n,s){this._append`Q${+t},${+a},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,a,n,s,i,o){this._append`C${+t},${+a},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,a,n,s,i){if(t=+t,a=+a,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-a,g=o-t,h=l-a,x=g*g+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=a}`;else if(x>bl)if(!(Math.abs(h*c-u*g)>bl)||!i)this._append`L${this._x1=t},${this._y1=a}`;else{let b=n-o,y=s-l,k=c*c+u*u,v=b*b+y*y,j=Math.sqrt(k),S=Math.sqrt(x),C=i*Math.tan((jv-Math.acos((k+x-v)/(2*j*S)))/2),P=C/S,E=C/j;Math.abs(P-1)>bl&&this._append`L${t+P*g},${a+P*h}`,this._append`A${i},${i},0,0,${+(h*b>g*y)},${this._x1=t+E*c},${this._y1=a+E*u}`}}arc(t,a,n,s,i,o){if(t=+t,a=+a,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,g=a+c,h=1^o,x=o?s-i:i-s;this._x1===null?this._append`M${u},${g}`:(Math.abs(this._x1-u)>bl||Math.abs(this._y1-g)>bl)&&this._append`L${u},${g}`,n&&(x<0&&(x=x%Nv+Nv),x>DH?this._append`A${n},${n},0,1,${h},${t-l},${a-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=g}`:x>bl&&this._append`A${n},${n},0,${+(x>=jv)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=a+n*Math.sin(i)}`)}rect(t,a,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function jw(e){let t=3;return e.digits=function(a){if(!arguments.length)return t;if(a==null)t=null;else{const n=Math.floor(a);if(!(n>=0))throw new RangeError(`invalid digits: ${a}`);t=n}return e},()=>new $H(t)}function Nw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function EI(e){this._context=e}EI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function xp(e){return new EI(e)}function OI(e){return e[0]}function DI(e){return e[1]}function RI(e,t){var a=yr(!0),n=null,s=xp,i=null,o=jw(l);e=typeof e=="function"?e:e===void 0?OI:yr(e),t=typeof t=="function"?t:t===void 0?DI:yr(t);function l(c){var u,g=(c=Nw(c)).length,h,x=!1,b;for(n==null&&(i=s(b=o())),u=0;u<=g;++u)!(u<g&&a(h=c[u],u,c))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(h,u,c),+t(h,u,c));if(b)return i=null,b+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:yr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:yr(+c),l):t},l.defined=function(c){return arguments.length?(a=typeof c=="function"?c:yr(!!c),l):a},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function rg(e,t,a){var n=null,s=yr(!0),i=null,o=xp,l=null,c=jw(u);e=typeof e=="function"?e:e===void 0?OI:yr(+e),t=typeof t=="function"?t:yr(t===void 0?0:+t),a=typeof a=="function"?a:a===void 0?DI:yr(+a);function u(h){var x,b,y,k=(h=Nw(h)).length,v,j=!1,S,C=new Array(k),P=new Array(k);for(i==null&&(l=o(S=c())),x=0;x<=k;++x){if(!(x<k&&s(v=h[x],x,h))===j)if(j=!j)b=x,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=x-1;y>=b;--y)l.point(C[y],P[y]);l.lineEnd(),l.areaEnd()}j&&(C[x]=+e(v,x,h),P[x]=+t(v,x,h),l.point(n?+n(v,x,h):C[x],a?+a(v,x,h):P[x]))}if(S)return l=null,S+""||null}function g(){return RI().defined(s).curve(o).context(i)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:yr(+h),n=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:yr(+h),u):e},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:yr(+h),u):n},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:yr(+h),a=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:yr(+h),u):t},u.y1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:yr(+h),u):a},u.lineX0=u.lineY0=function(){return g().x(e).y(t)},u.lineY1=function(){return g().x(e).y(a)},u.lineX1=function(){return g().x(n).y(t)},u.defined=function(h){return arguments.length?(s=typeof h=="function"?h:yr(!!h),u):s},u.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),u):o},u.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),u):i},u}class $I{constructor(t,a){this._context=t,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,a){switch(t=+t,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,a,t,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,t,this._y0,t,a);break}}this._x0=t,this._y0=a}}function BH(e){return new $I(e,!0)}function LH(e){return new $I(e,!1)}const Cw={draw(e,t){const a=Hs(t/ah);e.moveTo(a,0),e.arc(0,0,a,0,fp)}},_H={draw(e,t){const a=Hs(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},BI=Hs(1/3),FH=BI*2,zH={draw(e,t){const a=Hs(t/FH),n=a*BI;e.moveTo(0,-a),e.lineTo(n,0),e.lineTo(0,a),e.lineTo(-n,0),e.closePath()}},UH={draw(e,t){const a=Hs(t),n=-a/2;e.rect(n,n,a,a)}},qH=.8908130915292852,LI=rh(ah/10)/rh(7*ah/10),WH=rh(fp/10)*LI,VH=-MI(fp/10)*LI,HH={draw(e,t){const a=Hs(t*qH),n=WH*a,s=VH*a;e.moveTo(0,-a),e.lineTo(n,s);for(let i=1;i<5;++i){const o=fp*i/5,l=MI(o),c=rh(o);e.lineTo(c*a,-l*a),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},fy=Hs(3),KH={draw(e,t){const a=-Hs(t/(fy*3));e.moveTo(0,a*2),e.lineTo(-fy*a,-a),e.lineTo(fy*a,-a),e.closePath()}},as=-.5,ns=Hs(3)/2,Cv=1/Hs(12),GH=(Cv/2+1)*3,QH={draw(e,t){const a=Hs(t/GH),n=a/2,s=a*Cv,i=n,o=a*Cv+a,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(as*n-ns*s,ns*n+as*s),e.lineTo(as*i-ns*o,ns*i+as*o),e.lineTo(as*l-ns*c,ns*l+as*c),e.lineTo(as*n+ns*s,as*s-ns*n),e.lineTo(as*i+ns*o,as*o-ns*i),e.lineTo(as*l+ns*c,as*c-ns*l),e.closePath()}};function YH(e,t){let a=null,n=jw(s);e=typeof e=="function"?e:yr(e||Cw),t=typeof t=="function"?t:yr(t===void 0?64:+t);function s(){let i;if(a||(a=i=n()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),i)return a=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:yr(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:yr(+i),s):t},s.context=function(i){return arguments.length?(a=i??null,s):a},s}function nh(){}function sh(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function _I(e){this._context=e}_I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XH(e){return new _I(e)}function FI(e){this._context=e}FI.prototype={areaStart:nh,areaEnd:nh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZH(e){return new FI(e)}function zI(e){this._context=e}zI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,n):this._context.moveTo(a,n);break;case 3:this._point=4;default:sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JH(e){return new zI(e)}function UI(e){this._context=e}UI.prototype={areaStart:nh,areaEnd:nh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function eK(e){return new UI(e)}function m4(e){return e<0?-1:1}function g4(e,t,a){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(a-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(m4(i)+m4(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function h4(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function xy(e,t,a){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*a,i,o)}function ih(e){this._context=e}ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xy(this,this._t0,h4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xy(this,h4(this,a=g4(this,e,t)),a);break;default:xy(this,this._t0,a=g4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function qI(e){this._context=new WI(e)}(qI.prototype=Object.create(ih.prototype)).point=function(e,t){ih.prototype.point.call(this,t,e)};function WI(e){this._context=e}WI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,n,s,i){this._context.bezierCurveTo(t,e,n,a,i,s)}};function tK(e){return new ih(e)}function rK(e){return new qI(e)}function VI(e){this._context=e}VI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var n=p4(e),s=p4(t),i=0,o=1;o<a;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function p4(e){var t,a=e.length-1,n,s=new Array(a),i=new Array(a),o=new Array(a);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<a-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[a-1]=2,i[a-1]=7,o[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[a-1]=o[a-1]/i[a-1],t=a-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[a-1]=(e[a]+s[a-1])/2,t=0;t<a-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function aK(e){return new VI(e)}function yp(e,t){this._context=e,this._t=t}yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function nK(e){return new yp(e,.5)}function sK(e){return new yp(e,0)}function iK(e){return new yp(e,1)}function lc(e,t){if((o=e.length)>1)for(var a=1,n,s,i=e[t[0]],o,l=i.length;a<o;++a)for(s=i,i=e[t[a]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Sv(e){for(var t=e.length,a=new Array(t);--t>=0;)a[t]=t;return a}function oK(e,t){return e[t]}function lK(e){const t=[];return t.key=e,t}function dK(){var e=yr([]),t=Sv,a=lc,n=oK;function s(i){var o=Array.from(e.apply(this,arguments),lK),l,c=o.length,u=-1,g;for(const h of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,i)]).data=h;for(l=0,g=Nw(t(o));l<c;++l)o[g[l]].index=l;return a(o,g),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:yr(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:yr(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Sv:typeof i=="function"?i:yr(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(a=i??lc,s):a},s}function cK(e,t){if((n=e.length)>0){for(var a,n,s=0,i=e[0].length,o;s<i;++s){for(o=a=0;a<n;++a)o+=e[a][s][1]||0;if(o)for(a=0;a<n;++a)e[a][s][1]/=o}lc(e,t)}}function uK(e,t){if((s=e.length)>0){for(var a=0,n=e[t[0]],s,i=n.length;a<i;++a){for(var o=0,l=0;o<s;++o)l+=e[o][a][1]||0;n[a][1]+=n[a][0]=-l/2}lc(e,t)}}function mK(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var a=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var g=e[t[l]],h=g[n][1]||0,x=g[n-1][1]||0,b=(h-x)/2,y=0;y<l;++y){var k=e[t[y]],v=k[n][1]||0,j=k[n-1][1]||0;b+=v-j}c+=h,u+=b*h}s[n-1][1]+=s[n-1][0]=a,c&&(a-=u/c)}s[n-1][1]+=s[n-1][0]=a,lc(e,t)}}var gK=["type","size","sizeType"];function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Pv.apply(null,arguments)}function f4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function x4(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?f4(Object(a),!0).forEach(function(n){hK(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f4(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function hK(e,t,a){return(t=pK(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pK(e){var t=fK(e,"string");return typeof t=="symbol"?t:t+""}function fK(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xK(e,t){if(e==null)return{};var a,n,s=yK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function yK(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var HI={symbolCircle:Cw,symbolCross:_H,symbolDiamond:zH,symbolSquare:UH,symbolStar:HH,symbolTriangle:KH,symbolWye:QH},bK=Math.PI/180,vK=e=>{var t="symbol".concat(Tm(e));return HI[t]||Cw},kK=(e,t,a)=>{if(t==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*bK;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},wK=(e,t)=>{HI["symbol".concat(Tm(e))]=t},Sw=e=>{var{type:t="circle",size:a=64,sizeType:n="area"}=e,s=xK(e,gK),i=x4(x4({},s),{},{type:t,size:a,sizeType:n}),o=()=>{var h=vK(t),x=YH().type(h).size(kK(a,n,t));return x()},{className:l,cx:c,cy:u}=i,g=It(i,!0);return c===+c&&u===+u&&a===+a?p.createElement("path",Pv({},g,{className:Gt("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};Sw.registerSymbol=wK;function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Tv.apply(null,arguments)}function y4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function jK(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(a),!0).forEach(function(n){Pw(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y4(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Pw(e,t,a){return(t=NK(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function NK(e){var t=CK(e,"string");return typeof t=="symbol"?t:t+""}function CK(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ss=32;class Tw extends p.PureComponent{renderIcon(t,a){var{inactiveColor:n}=this.props,s=ss/2,i=ss/6,o=ss/3,l=t.inactive?n:t.color,c=a??t.type;if(c==="none")return null;if(c==="plainline")return p.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:ss,y2:s,className:"recharts-legend-icon"});if(c==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(ss,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(c==="rect")return p.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ss/8,"h").concat(ss,"v").concat(ss*3/4,"h").concat(-ss,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var u=jK({},t);return delete u.legendIcon,p.cloneElement(t.legendIcon,u)}return p.createElement(Sw,{fill:l,cx:s,cy:s,size:ss,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:a,layout:n,formatter:s,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:ss,height:ss},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((g,h)=>{var x=g.formatter||s,b=Gt({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:g.inactive});if(g.type==="none")return null;var y=g.inactive?i:g.color,k=x?x(g.value,g,h):g.value;return p.createElement("li",Tv({className:b,style:c,key:"legend-item-".concat(h)},kw(this.props,g,h)),p.createElement(ww,{width:a,height:a,viewBox:l,style:u,"aria-label":"".concat(k," legend icon")},this.renderIcon(g,o)),p.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},k))})}render(){var{payload:t,layout:a,align:n}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?n:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}Pw(Tw,"displayName","Legend");Pw(Tw,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var yy={},by={},b4;function SK(){return b4||(b4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,n){const s=new Map;for(let i=0;i<a.length;i++){const o=a[i],l=n(o);s.has(l)||s.set(l,o)}return Array.from(s.values())}e.uniqBy=t}(by)),by}var vy={},v4;function KI(){return v4||(v4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a}e.identity=t}(vy)),vy}var ky={},wy={},jy={},k4;function PK(){return k4||(k4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Number.isSafeInteger(a)&&a>=0}e.isLength=t}(jy)),jy}var w4;function Aw(){return w4||(w4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PK();function a(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=a}(wy)),wy}var Ny={},j4;function TK(){return j4||(j4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="object"&&a!==null}e.isObjectLike=t}(Ny)),Ny}var N4;function AK(){return N4||(N4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aw(),a=TK();function n(s){return a.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n}(ky)),ky}var Cy={},Sy={},C4;function MK(){return C4||(C4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yw();function a(n){return function(s){return t.get(s,n)}}e.property=a}(Sy)),Sy}var Py={},Ty={},Ay={},My={},S4;function GI(){return S4||(S4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a!==null&&(typeof a=="object"||typeof a=="function")}e.isObject=t}(My)),My}var Iy={},P4;function QI(){return P4||(P4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null||typeof a!="object"&&typeof a!="function"}e.isPrimitive=t}(Iy)),Iy}var Ey={},T4;function Mw(){return T4||(T4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,n){return a===n||Number.isNaN(a)&&Number.isNaN(n)}e.eq=t}(Ey)),Ey}var A4;function IK(){return A4||(A4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iw(),a=GI(),n=QI(),s=Mw();function i(h,x,b){return typeof b!="function"?t.isMatch(h,x):o(h,x,function y(k,v,j,S,C,P){const E=b(k,v,j,S,C,P);return E!==void 0?!!E:o(k,v,y,P)},new Map)}function o(h,x,b,y){if(x===h)return!0;switch(typeof x){case"object":return l(h,x,b,y);case"function":return Object.keys(x).length>0?o(h,{...x},b,y):s.eq(h,x);default:return a.isObject(h)?typeof x=="string"?x==="":!0:s.eq(h,x)}}function l(h,x,b,y){if(x==null)return!0;if(Array.isArray(x))return u(h,x,b,y);if(x instanceof Map)return c(h,x,b,y);if(x instanceof Set)return g(h,x,b,y);const k=Object.keys(x);if(h==null)return k.length===0;if(k.length===0)return!0;if(y&&y.has(x))return y.get(x)===h;y&&y.set(x,h);try{for(let v=0;v<k.length;v++){const j=k[v];if(!n.isPrimitive(h)&&!(j in h)||x[j]===void 0&&h[j]!==void 0||x[j]===null&&h[j]!==null||!b(h[j],x[j],j,h,x,y))return!1}return!0}finally{y&&y.delete(x)}}function c(h,x,b,y){if(x.size===0)return!0;if(!(h instanceof Map))return!1;for(const[k,v]of x.entries()){const j=h.get(k);if(b(j,v,k,h,x,y)===!1)return!1}return!0}function u(h,x,b,y){if(x.length===0)return!0;if(!Array.isArray(h))return!1;const k=new Set;for(let v=0;v<x.length;v++){const j=x[v];let S=!1;for(let C=0;C<h.length;C++){if(k.has(C))continue;const P=h[C];let E=!1;if(b(P,j,v,h,x,y)&&(E=!0),E){k.add(C),S=!0;break}}if(!S)return!1}return!0}function g(h,x,b,y){return x.size===0?!0:h instanceof Set?u([...h],[...x],b,y):!1}e.isMatchWith=i,e.isSetMatch=g}(Ay)),Ay}var M4;function Iw(){return M4||(M4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IK();function a(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=a}(Ty)),Ty}var Oy={},Dy={},Ry={},I4;function YI(){return I4||(I4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Object.getOwnPropertySymbols(a).filter(n=>Object.prototype.propertyIsEnumerable.call(a,n))}e.getSymbols=t}(Ry)),Ry}var $y={},E4;function Ew(){return E4||(E4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}e.getTag=t}($y)),$y}var By={},O4;function Ow(){return O4||(O4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",a="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",g="[object Array]",h="[object Function]",x="[object ArrayBuffer]",b="[object Object]",y="[object Error]",k="[object DataView]",v="[object Uint8Array]",j="[object Uint8ClampedArray]",S="[object Uint16Array]",C="[object Uint32Array]",P="[object BigUint64Array]",E="[object Int8Array]",A="[object Int16Array]",I="[object Int32Array]",M="[object BigInt64Array]",F="[object Float32Array]",Q="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=x,e.arrayTag=g,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=P,e.booleanTag=s,e.dataViewTag=k,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=F,e.float64ArrayTag=Q,e.functionTag=h,e.int16ArrayTag=A,e.int32ArrayTag=I,e.int8ArrayTag=E,e.mapTag=c,e.numberTag=n,e.objectTag=b,e.regexpTag=t,e.setTag=u,e.stringTag=a,e.symbolTag=o,e.uint16ArrayTag=S,e.uint32ArrayTag=C,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=j}(By)),By}var Ly={},D4;function EK(){return D4||(D4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}e.isTypedArray=t}(Ly)),Ly}var R4;function XI(){return R4||(R4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YI(),a=Ew(),n=Ow(),s=QI(),i=EK();function o(g,h){return l(g,void 0,g,new Map,h)}function l(g,h,x,b=new Map,y=void 0){const k=y?.(g,h,x,b);if(k!=null)return k;if(s.isPrimitive(g))return g;if(b.has(g))return b.get(g);if(Array.isArray(g)){const v=new Array(g.length);b.set(g,v);for(let j=0;j<g.length;j++)v[j]=l(g[j],j,x,b,y);return Object.hasOwn(g,"index")&&(v.index=g.index),Object.hasOwn(g,"input")&&(v.input=g.input),v}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const v=new RegExp(g.source,g.flags);return v.lastIndex=g.lastIndex,v}if(g instanceof Map){const v=new Map;b.set(g,v);for(const[j,S]of g)v.set(j,l(S,j,x,b,y));return v}if(g instanceof Set){const v=new Set;b.set(g,v);for(const j of g)v.add(l(j,void 0,x,b,y));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(i.isTypedArray(g)){const v=new(Object.getPrototypeOf(g)).constructor(g.length);b.set(g,v);for(let j=0;j<g.length;j++)v[j]=l(g[j],j,x,b,y);return v}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const v=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return b.set(g,v),c(v,g,x,b,y),v}if(typeof File<"u"&&g instanceof File){const v=new File([g],g.name,{type:g.type});return b.set(g,v),c(v,g,x,b,y),v}if(g instanceof Blob){const v=new Blob([g],{type:g.type});return b.set(g,v),c(v,g,x,b,y),v}if(g instanceof Error){const v=new g.constructor;return b.set(g,v),v.message=g.message,v.name=g.name,v.stack=g.stack,v.cause=g.cause,c(v,g,x,b,y),v}if(typeof g=="object"&&u(g)){const v=Object.create(Object.getPrototypeOf(g));return b.set(g,v),c(v,g,x,b,y),v}return g}function c(g,h,x=g,b,y){const k=[...Object.keys(h),...t.getSymbols(h)];for(let v=0;v<k.length;v++){const j=k[v],S=Object.getOwnPropertyDescriptor(g,j);(S==null||S.writable)&&(g[j]=l(h[j],j,x,b,y))}}function u(g){switch(a.getTag(g)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c}(Dy)),Dy}var $4;function OK(){return $4||($4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XI();function a(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=a}(Oy)),Oy}var B4;function DK(){return B4||(B4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iw(),a=OK();function n(s){return s=a.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n}(Py)),Py}var _y={},Fy={},zy={},L4;function RK(){return L4||(L4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XI(),a=Ow();function n(s,i){return t.cloneDeepWith(s,(o,l,c,u)=>{const g=i?.(o,l,c,u);if(g!=null)return g;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case a.numberTag:case a.stringTag:case a.booleanTag:{const h=new s.constructor(s?.valueOf());return t.copyProperties(h,s),h}case a.argumentsTag:{const h={};return t.copyProperties(h,s),h.length=s.length,h[Symbol.iterator]=s[Symbol.iterator],h}default:return}})}e.cloneDeepWith=n}(zy)),zy}var _4;function $K(){return _4||(_4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RK();function a(n){return t.cloneDeepWith(n)}e.cloneDeep=a}(Fy)),Fy}var Uy={},qy={},F4;function ZI(){return F4||(F4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function a(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=a}(qy)),qy}var Wy={},z4;function BK(){return z4||(z4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ew();function a(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=a}(Wy)),Wy}var U4;function LK(){return U4||(U4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NI(),a=ZI(),n=BK(),s=xw();function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?c=s.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let g=0;g<c.length;g++){const h=c[g];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||n.isArguments(u))&&a.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}e.has=i}(Uy)),Uy}var q4;function _K(){return q4||(q4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iw(),a=CI(),n=$K(),s=yw(),i=LK();function o(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=a.toKey(l);break}}return c=n.cloneDeep(c),function(u){const g=s.get(u,l);return g===void 0?i.has(u,l):c===void 0?g===void 0:t.isMatch(g,c)}}e.matchesProperty=o}(_y)),_y}var W4;function FK(){return W4||(W4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KI(),a=MK(),n=DK(),s=_K();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return a.property(o)}}e.iteratee=i}(Cy)),Cy}var V4;function zK(){return V4||(V4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SK(),a=KI(),n=AK(),s=FK();function i(o,l=a.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(l)):[]}e.uniqBy=i}(yy)),yy}var Vy,H4;function UK(){return H4||(H4=1,Vy=zK().uniqBy),Vy}var qK=UK();const K4=zs(qK);function JI(e,t,a){return t===!0?K4(e,a):typeof t=="function"?K4(e,t):e}var Hy={exports:{}},Ky={},Gy={exports:{}},Qy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G4;function WK(){if(G4)return Qy;G4=1;var e=yc();function t(h,x){return h===x&&(h!==0||1/h===1/x)||h!==h&&x!==x}var a=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(h,x){var b=x(),y=n({inst:{value:b,getSnapshot:x}}),k=y[0].inst,v=y[1];return i(function(){k.value=b,k.getSnapshot=x,c(k)&&v({inst:k})},[h,b,x]),s(function(){return c(k)&&v({inst:k}),h(function(){c(k)&&v({inst:k})})},[h]),o(b),b}function c(h){var x=h.getSnapshot;h=h.value;try{var b=x();return!a(h,b)}catch{return!0}}function u(h,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return Qy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,Qy}var Q4;function VK(){return Q4||(Q4=1,Gy.exports=WK()),Gy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y4;function HK(){if(Y4)return Ky;Y4=1;var e=yc(),t=VK();function a(u,g){return u===g&&(u!==0||1/u===1/g)||u!==u&&g!==g}var n=typeof Object.is=="function"?Object.is:a,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,c=e.useDebugValue;return Ky.useSyncExternalStoreWithSelector=function(u,g,h,x,b){var y=i(null);if(y.current===null){var k={hasValue:!1,value:null};y.current=k}else k=y.current;y=l(function(){function j(A){if(!S){if(S=!0,C=A,A=x(A),b!==void 0&&k.hasValue){var I=k.value;if(b(I,A))return P=I}return P=A}if(I=P,n(C,A))return I;var M=x(A);return b!==void 0&&b(I,M)?(C=A,I):(C=A,P=M)}var S=!1,C,P,E=h===void 0?null:h;return[function(){return j(g())},E===null?void 0:function(){return j(E())}]},[g,h,x,b]);var v=s(u,y[0],y[1]);return o(function(){k.hasValue=!0,k.value=v},[v]),c(v),v},Ky}var X4;function KK(){return X4||(X4=1,Hy.exports=HK()),Hy.exports}var GK=KK(),Dw=p.createContext(null),QK=e=>e,Br=()=>{var e=p.useContext(Dw);return e?e.store.dispatch:QK},Ag=()=>{},YK=()=>Ag,XK=(e,t)=>e===t;function it(e){var t=p.useContext(Dw);return GK.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:YK,t?t.store.getState:Ag,t?t.store.getState:Ag,t?e:Ag,XK)}function ZK(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function JK(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function eG(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(a=>typeof a=="function")){const a=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${a}]`)}}var Z4=e=>Array.isArray(e)?e:[e];function tG(e){const t=Array.isArray(e[0])?e[0]:e;return eG(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function rG(e,t){const a=[],{length:n}=e;for(let s=0;s<n;s++)a.push(e[s].apply(null,t));return a}var aG=class{constructor(e){this.value=e}deref(){return this.value}},nG=typeof WeakRef<"u"?WeakRef:aG,sG=0,J4=1;function ag(){return{s:sG,v:void 0,o:null,p:null}}function e6(e,t={}){let a=ag();const{resultEqualityCheck:n}=t;let s,i=0;function o(){let l=a;const{length:c}=arguments;for(let h=0,x=c;h<x;h++){const b=arguments[h];if(typeof b=="function"||typeof b=="object"&&b!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const k=y.get(b);k===void 0?(l=ag(),y.set(b,l)):l=k}else{let y=l.p;y===null&&(l.p=y=new Map);const k=y.get(b);k===void 0?(l=ag(),y.set(b,l)):l=k}}const u=l;let g;if(l.s===J4)g=l.v;else if(g=e.apply(null,arguments),i++,n){const h=s?.deref?.()??s;h!=null&&n(h,g)&&(g=h,i!==0&&i--),s=typeof g=="object"&&g!==null||typeof g=="function"?new nG(g):g}return u.s=J4,u.v=g,g}return o.clearCache=()=>{a=ag(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function iG(e,...t){const a=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,l,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),ZK(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const g={...a,...c},{memoize:h,memoizeOptions:x=[],argsMemoize:b=e6,argsMemoizeOptions:y=[]}=g,k=Z4(x),v=Z4(y),j=tG(s),S=h(function(){return i++,u.apply(null,arguments)},...k),C=b(function(){o++;const E=rG(j,arguments);return l=S.apply(null,E),l},...v);return Object.assign(C,{resultFunc:u,memoizedResultFunc:S,dependencies:j,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:b})};return Object.assign(n,{withTypes:()=>n}),n}var Ne=iG(e6),oG=Object.assign((e,t=Ne)=>{JK(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const a=Object.keys(e),n=a.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[a[c]]=l,o),{}))},{withTypes:()=>oG}),Yy={},Xy={},Zy={},eP;function lG(){return eP||(eP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const a=(n,s,i)=>{if(n!==s){const o=t(n),l=t(s);if(o===l&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=a}(Zy)),Zy}var Jy={},eb={},tP;function t6(){return tP||(tP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"||a instanceof Symbol}e.isSymbol=t}(eb)),eb}var rP;function dG(){return rP||(rP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t6(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!a.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s}(Jy)),Jy}var aP;function cG(){return aP||(aP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lG(),a=dG(),n=xw();function s(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(b=>String(b));const u=(b,y)=>{let k=b;for(let v=0;v<y.length&&k!=null;++v)k=k[y[v]];return k},g=(b,y)=>y==null||b==null?y:typeof b=="object"&&"key"in b?Object.hasOwn(y,b.key)?y[b.key]:u(y,b.path):typeof b=="function"?b(y):Array.isArray(b)?u(y,b):typeof y=="object"?y[b]:y,h=o.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||a.isKey(b)?b:{key:b,path:n.toPath(b)}));return i.map(b=>({original:b,criteria:h.map(y=>g(y,b))})).slice().sort((b,y)=>{for(let k=0;k<h.length;k++){const v=t.compareValues(b.criteria[k],y.criteria[k],l[k]);if(v!==0)return v}return 0}).map(b=>b.original)}e.orderBy=s}(Xy)),Xy}var tb={},nP;function uG(){return nP||(nP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,n=1){const s=[],i=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const g=l[u];Array.isArray(g)&&c<i?o(g,c+1):s.push(g)}};return o(a,0),s}e.flatten=t}(tb)),tb}var rb={},sP;function r6(){return sP||(sP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZI(),a=Aw(),n=GI(),s=Mw();function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&a.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?s.eq(c[l],o):!1}e.isIterateeCall=i}(rb)),rb}var iP;function mG(){return iP||(iP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cG(),a=uG(),n=r6();function s(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,a.flatten(o),["asc"])}e.sortBy=s}(Yy)),Yy}var ab,oP;function gG(){return oP||(oP=1,ab=mG().sortBy),ab}var hG=gG();const bp=zs(hG);var a6=e=>e.legend.settings,pG=e=>e.legend.size,fG=e=>e.legend.payload,xG=Ne([fG,a6],(e,t)=>{var{itemSorter:a}=t,n=e.flat(1);return a?bp(n,a):n});function yG(){return it(xG)}var ng=1;function n6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,a]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>ng||Math.abs(o.left-t.left)>ng||Math.abs(o.top-t.top)>ng||Math.abs(o.width-t.width)>ng)&&a({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function La(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var bG=typeof Symbol=="function"&&Symbol.observable||"@@observable",lP=bG,nb=()=>Math.random().toString(36).substring(7).split("").join("."),vG={INIT:`@@redux/INIT${nb()}`,REPLACE:`@@redux/REPLACE${nb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nb()}`},oh=vG;function Rw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function s6(e,t,a){if(typeof e!="function")throw new Error(La(2));if(typeof t=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(La(0));if(typeof t=="function"&&typeof a>"u"&&(a=t,t=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(La(1));return a(s6)(e,t)}let n=e,s=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((v,j)=>{o.set(j,v)}))}function g(){if(c)throw new Error(La(3));return s}function h(v){if(typeof v!="function")throw new Error(La(4));if(c)throw new Error(La(5));let j=!0;u();const S=l++;return o.set(S,v),function(){if(j){if(c)throw new Error(La(6));j=!1,u(),o.delete(S),i=null}}}function x(v){if(!Rw(v))throw new Error(La(7));if(typeof v.type>"u")throw new Error(La(8));if(typeof v.type!="string")throw new Error(La(17));if(c)throw new Error(La(9));try{c=!0,s=n(s,v)}finally{c=!1}return(i=o).forEach(S=>{S()}),v}function b(v){if(typeof v!="function")throw new Error(La(10));n=v,x({type:oh.REPLACE})}function y(){const v=h;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(La(11));function S(){const P=j;P.next&&P.next(g())}return S(),{unsubscribe:v(S)}},[lP](){return this}}}return x({type:oh.INIT}),{dispatch:x,subscribe:h,getState:g,replaceReducer:b,[lP]:y}}function kG(e){Object.keys(e).forEach(t=>{const a=e[t];if(typeof a(void 0,{type:oh.INIT})>"u")throw new Error(La(12));if(typeof a(void 0,{type:oh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(La(13))})}function i6(e){const t=Object.keys(e),a={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(a[o]=e[o])}const n=Object.keys(a);let s;try{kG(a)}catch(i){s=i}return function(o={},l){if(s)throw s;let c=!1;const u={};for(let g=0;g<n.length;g++){const h=n[g],x=a[h],b=o[h],y=x(b,l);if(typeof y>"u")throw l&&l.type,new Error(La(14));u[h]=y,c=c||y!==b}return c=c||n.length!==Object.keys(o).length,c?u:o}}function lh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,a)=>(...n)=>t(a(...n)))}function wG(...e){return t=>(a,n)=>{const s=t(a,n);let i=()=>{throw new Error(La(15))};const o={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=lh(...l)(s.dispatch),{...s,dispatch:i}}}function o6(e){return Rw(e)&&"type"in e&&typeof e.type=="string"}var l6=Symbol.for("immer-nothing"),dP=Symbol.for("immer-draftable"),Kn=Symbol.for("immer-state");function Es(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var dc=Object.getPrototypeOf;function Jl(e){return!!e&&!!e[Kn]}function Hi(e){return e?d6(e)||Array.isArray(e)||!!e[dP]||!!e.constructor?.[dP]||kp(e)||wp(e):!1}var jG=Object.prototype.constructor.toString();function d6(e){if(!e||typeof e!="object")return!1;const t=dc(e);if(t===null)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return a===Object?!0:typeof a=="function"&&Function.toString.call(a)===jG}function dh(e,t){vp(e)===0?Reflect.ownKeys(e).forEach(a=>{t(a,e[a],e)}):e.forEach((a,n)=>t(n,a,e))}function vp(e){const t=e[Kn];return t?t.type_:Array.isArray(e)?1:kp(e)?2:wp(e)?3:0}function Av(e,t){return vp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c6(e,t,a){const n=vp(e);n===2?e.set(t,a):n===3?e.add(a):e[t]=a}function NG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function kp(e){return e instanceof Map}function wp(e){return e instanceof Set}function vl(e){return e.copy_||e.base_}function Mv(e,t){if(kp(e))return new Map(e);if(wp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const a=d6(e);if(t===!0||t==="class_only"&&!a){const n=Object.getOwnPropertyDescriptors(e);delete n[Kn];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(dc(e),n)}else{const n=dc(e);if(n!==null&&a)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function $w(e,t=!1){return jp(e)||Jl(e)||!Hi(e)||(vp(e)>1&&(e.set=e.add=e.clear=e.delete=CG),Object.freeze(e),t&&Object.entries(e).forEach(([a,n])=>$w(n,!0))),e}function CG(){Es(2)}function jp(e){return Object.isFrozen(e)}var SG={};function ed(e){const t=SG[e];return t||Es(0,e),t}var Zu;function u6(){return Zu}function PG(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cP(e,t){t&&(ed("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Iv(e){Ev(e),e.drafts_.forEach(TG),e.drafts_=null}function Ev(e){e===Zu&&(Zu=e.parent_)}function uP(e){return Zu=PG(Zu,e)}function TG(e){const t=e[Kn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];return e!==void 0&&e!==a?(a[Kn].modified_&&(Iv(t),Es(4)),Hi(e)&&(e=ch(t,e),t.parent_||uh(t,e)),t.patches_&&ed("Patches").generateReplacementPatches_(a[Kn].base_,e,t.patches_,t.inversePatches_)):e=ch(t,a,[]),Iv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==l6?e:void 0}function ch(e,t,a){if(jp(t))return t;const n=t[Kn];if(!n)return dh(t,(s,i)=>gP(e,n,t,s,i,a)),t;if(n.scope_!==e)return t;if(!n.modified_)return uh(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),dh(i,(l,c)=>gP(e,n,s,l,c,a,o)),uh(e,s,!1),a&&e.patches_&&ed("Patches").generatePatches_(n,a,e.patches_,e.inversePatches_)}return n.copy_}function gP(e,t,a,n,s,i,o){if(Jl(s)){const l=i&&t&&t.type_!==3&&!Av(t.assigned_,n)?i.concat(n):void 0,c=ch(e,s,l);if(c6(a,n,c),Jl(c))e.canAutoFreeze_=!1;else return}else o&&a.add(s);if(Hi(s)&&!jp(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ch(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(a,n)&&uh(e,s)}}function uh(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$w(t,a)}function AG(e,t){const a=Array.isArray(e),n={type_:a?1:0,scope_:t?t.scope_:u6(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=Bw;a&&(s=[n],i=Ju);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,l}var Bw={get(e,t){if(t===Kn)return e;const a=vl(e);if(!Av(a,t))return MG(e,a,t);const n=a[t];return e.finalized_||!Hi(n)?n:n===sb(e.base_,t)?(ib(e),e.copy_[t]=Dv(n,e)):n},has(e,t){return t in vl(e)},ownKeys(e){return Reflect.ownKeys(vl(e))},set(e,t,a){const n=m6(vl(e),t);if(n?.set)return n.set.call(e.draft_,a),!0;if(!e.modified_){const s=sb(vl(e),t),i=s?.[Kn];if(i&&i.base_===a)return e.copy_[t]=a,e.assigned_[t]=!1,!0;if(NG(a,s)&&(a!==void 0||Av(e.base_,t)))return!0;ib(e),Ov(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_[t]=!0),!0},deleteProperty(e,t){return sb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ib(e),Ov(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=vl(e),n=Reflect.getOwnPropertyDescriptor(a,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:a[t]}},defineProperty(){Es(11)},getPrototypeOf(e){return dc(e.base_)},setPrototypeOf(){Es(12)}},Ju={};dh(Bw,(e,t)=>{Ju[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ju.deleteProperty=function(e,t){return Ju.set.call(this,e,t,void 0)};Ju.set=function(e,t,a){return Bw.set.call(this,e[0],t,a,e[0])};function sb(e,t){const a=e[Kn];return(a?vl(a):e)[t]}function MG(e,t,a){const n=m6(t,a);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function m6(e,t){if(!(t in e))return;let a=dc(e);for(;a;){const n=Object.getOwnPropertyDescriptor(a,t);if(n)return n;a=dc(a)}}function Ov(e){e.modified_||(e.modified_=!0,e.parent_&&Ov(e.parent_))}function ib(e){e.copy_||(e.copy_=Mv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var IG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,a,n)=>{if(typeof t=="function"&&typeof a!="function"){const i=a;a=t;const o=this;return function(c=i,...u){return o.produce(c,g=>a.call(this,g,...u))}}typeof a!="function"&&Es(6),n!==void 0&&typeof n!="function"&&Es(7);let s;if(Hi(t)){const i=uP(this),o=Dv(t,void 0);let l=!0;try{s=a(o),l=!1}finally{l?Iv(i):Ev(i)}return cP(i,n),mP(s,i)}else if(!t||typeof t!="object"){if(s=a(t),s===void 0&&(s=t),s===l6&&(s=void 0),this.autoFreeze_&&$w(s,!0),n){const i=[],o=[];ed("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else Es(1,t)},this.produceWithPatches=(t,a)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,s;return[this.produce(t,a,(o,l)=>{n=o,s=l}),n,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Hi(e)||Es(8),Jl(e)&&(e=Li(e));const t=uP(this),a=Dv(e,void 0);return a[Kn].isManual_=!0,Ev(t),a}finishDraft(e,t){const a=e&&e[Kn];(!a||!a.isManual_)&&Es(9);const{scope_:n}=a;return cP(n,t),mP(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let a;for(a=t.length-1;a>=0;a--){const s=t[a];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}a>-1&&(t=t.slice(a+1));const n=ed("Patches").applyPatches_;return Jl(e)?n(e,t):this.produce(e,s=>n(s,t))}};function Dv(e,t){const a=kp(e)?ed("MapSet").proxyMap_(e,t):wp(e)?ed("MapSet").proxySet_(e,t):AG(e,t);return(t?t.scope_:u6()).drafts_.push(a),a}function Li(e){return Jl(e)||Es(10,e),g6(e)}function g6(e){if(!Hi(e)||jp(e))return e;const t=e[Kn];let a;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=Mv(e,t.scope_.immer_.useStrictShallowCopy_)}else a=Mv(e,!0);return dh(a,(n,s)=>{c6(a,n,g6(s))}),t&&(t.finalized_=!1),a}var Gn=new IG,h6=Gn.produce;Gn.produceWithPatches.bind(Gn);Gn.setAutoFreeze.bind(Gn);Gn.setUseStrictShallowCopy.bind(Gn);Gn.applyPatches.bind(Gn);Gn.createDraft.bind(Gn);Gn.finishDraft.bind(Gn);function p6(e){return({dispatch:a,getState:n})=>s=>i=>typeof i=="function"?i(a,n,e):s(i)}var EG=p6(),OG=p6,DG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lh:lh.apply(null,arguments)};function fs(e,t){function a(...n){if(t){let s=t(...n);if(!s)throw new Error(qn(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return a.toString=()=>`${e}`,a.type=e,a.match=n=>o6(n)&&n.type===e,a}var f6=class Pu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Pu.prototype)}static get[Symbol.species](){return Pu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Pu(...t[0].concat(this)):new Pu(...t.concat(this))}};function hP(e){return Hi(e)?h6(e,()=>{}):e}function sg(e,t,a){return e.has(t)?e.get(t):e.set(t,a(t)).get(t)}function RG(e){return typeof e=="boolean"}var $G=()=>function(t){const{thunk:a=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new f6;return a&&(RG(a)?o.push(EG):o.push(OG(a.extraArgument))),o},BG="RTK_autoBatch",pP=e=>t=>{setTimeout(t,e)},LG=(e={type:"raf"})=>t=>(...a)=>{const n=t(...a);let s=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:pP(10):e.type==="callback"?e.queueNotification:pP(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(g=>g()))};return Object.assign({},n,{subscribe(g){const h=()=>s&&g(),x=n.subscribe(h);return l.add(g),()=>{x(),l.delete(g)}},dispatch(g){try{return s=!g?.meta?.[BG],i=!s,i&&(o||(o=!0,c(u))),n.dispatch(g)}finally{s=!0}}})},_G=e=>function(a){const{autoBatch:n=!0}=a??{};let s=new f6(e);return n&&s.push(LG(typeof n=="object"?n:void 0)),s};function FG(e){const t=$G(),{reducer:a=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof a=="function")l=a;else if(Rw(a))l=i6(a);else throw new Error(qn(1));let c;typeof n=="function"?c=n(t):c=t();let u=lh;s&&(u=DG({trace:!1,...typeof s=="object"&&s}));const g=wG(...c),h=_G(g);let x=typeof o=="function"?o(h):h();const b=u(...x);return s6(l,i,b)}function x6(e){const t={},a=[];let n;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(qn(28));if(l in t)throw new Error(qn(29));return t[l]=o,s},addMatcher(i,o){return a.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,a,n]}function zG(e){return typeof e=="function"}function UG(e,t){let[a,n,s]=x6(t),i;if(zG(e))i=()=>hP(e());else{const l=hP(e);i=()=>l}function o(l=i(),c){let u=[a[c.type],...n.filter(({matcher:g})=>g(c)).map(({reducer:g})=>g)];return u.filter(g=>!!g).length===0&&(u=[s]),u.reduce((g,h)=>{if(h)if(Jl(g)){const b=h(g,c);return b===void 0?g:b}else{if(Hi(g))return h6(g,x=>h(x,c));{const x=h(g,c);if(x===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return g},l)}return o.getInitialState=i,o}var qG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",WG=(e=21)=>{let t="",a=e;for(;a--;)t+=qG[Math.random()*64|0];return t},VG=Symbol.for("rtk-slice-createasyncthunk");function HG(e,t){return`${e}/${t}`}function KG({creators:e}={}){const t=e?.asyncThunk?.[VG];return function(n){const{name:s,reducerPath:i=s}=n;if(!s)throw new Error(qn(11));const o=(typeof n.reducers=="function"?n.reducers(QG()):n.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(C,P){const E=typeof C=="string"?C:C.type;if(!E)throw new Error(qn(12));if(E in c.sliceCaseReducersByType)throw new Error(qn(13));return c.sliceCaseReducersByType[E]=P,u},addMatcher(C,P){return c.sliceMatchers.push({matcher:C,reducer:P}),u},exposeAction(C,P){return c.actionCreators[C]=P,u},exposeCaseReducer(C,P){return c.sliceCaseReducersByName[C]=P,u}};l.forEach(C=>{const P=o[C],E={reducerName:C,type:HG(s,C),createNotation:typeof n.reducers=="function"};XG(P)?JG(E,P,u,t):YG(E,P,u)});function g(){const[C={},P=[],E=void 0]=typeof n.extraReducers=="function"?x6(n.extraReducers):[n.extraReducers],A={...C,...c.sliceCaseReducersByType};return UG(n.initialState,I=>{for(let M in A)I.addCase(M,A[M]);for(let M of c.sliceMatchers)I.addMatcher(M.matcher,M.reducer);for(let M of P)I.addMatcher(M.matcher,M.reducer);E&&I.addDefaultCase(E)})}const h=C=>C,x=new Map,b=new WeakMap;let y;function k(C,P){return y||(y=g()),y(C,P)}function v(){return y||(y=g()),y.getInitialState()}function j(C,P=!1){function E(I){let M=I[C];return typeof M>"u"&&P&&(M=sg(b,E,v)),M}function A(I=h){const M=sg(x,P,()=>new WeakMap);return sg(M,I,()=>{const F={};for(const[Q,U]of Object.entries(n.selectors??{}))F[Q]=GG(U,I,()=>sg(b,I,v),P);return F})}return{reducerPath:C,getSelectors:A,get selectors(){return A(E)},selectSlice:E}}const S={name:s,reducer:k,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...j(i),injectInto(C,{reducerPath:P,...E}={}){const A=P??i;return C.inject({reducerPath:A,reducer:k},E),{...S,...j(A,!0)}}};return S}}function GG(e,t,a,n){function s(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=a()),e(l,...o)}return s.unwrapped=e,s}var bs=KG();function QG(){function e(t,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...a}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...a){return t(...a)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:a}},asyncThunk:e}}function YG({type:e,reducerName:t,createNotation:a},n,s){let i,o;if("reducer"in n){if(a&&!ZG(n))throw new Error(qn(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?fs(e,o):fs(e))}function XG(e){return e._reducerDefinitionType==="asyncThunk"}function ZG(e){return e._reducerDefinitionType==="reducerWithPrepare"}function JG({type:e,reducerName:t},a,n,s){if(!s)throw new Error(qn(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:g}=a,h=s(e,i,g);n.exposeAction(t,h),o&&n.addCase(h.fulfilled,o),l&&n.addCase(h.pending,l),c&&n.addCase(h.rejected,c),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(t,{fulfilled:o||ig,pending:l||ig,rejected:c||ig,settled:u||ig})}function ig(){}var eQ="task",y6="listener",b6="completed",Lw="cancelled",tQ=`task-${Lw}`,rQ=`task-${b6}`,Rv=`${y6}-${Lw}`,aQ=`${y6}-${b6}`,Np=class{constructor(e){this.code=e,this.message=`${eQ} ${Lw} (reason: ${e})`}name="TaskAbortError";message},_w=(e,t)=>{if(typeof e!="function")throw new TypeError(qn(32))},mh=()=>{},v6=(e,t=mh)=>(e.catch(t),e),k6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),zl=(e,t)=>{const a=e.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ul=e=>{if(e.aborted){const{reason:t}=e;throw new Np(t)}};function w6(e,t){let a=mh;return new Promise((n,s)=>{const i=()=>s(new Np(e.reason));if(e.aborted){i();return}a=k6(e,i),t.finally(()=>a()).then(n,s)}).finally(()=>{a=mh})}var nQ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(a){return{status:a instanceof Np?"cancelled":"rejected",error:a}}finally{t?.()}},gh=e=>t=>v6(w6(e,t).then(a=>(Ul(e),a))),j6=e=>{const t=gh(e);return a=>t(new Promise(n=>setTimeout(n,a)))},{assign:Yd}=Object,fP={},Cp="listenerMiddleware",sQ=(e,t)=>{const a=n=>k6(e,()=>zl(n,e.reason));return(n,s)=>{_w(n);const i=new AbortController;a(i);const o=nQ(async()=>{Ul(e),Ul(i.signal);const l=await n({pause:gh(i.signal),delay:j6(i.signal),signal:i.signal});return Ul(i.signal),l},()=>zl(i,rQ));return s?.autoJoin&&t.push(o.catch(mh)),{result:gh(e)(o),cancel(){zl(i,tQ)}}}},iQ=(e,t)=>{const a=async(n,s)=>{Ul(t);let i=()=>{};const l=[new Promise((c,u)=>{let g=e({predicate:n,effect:(h,x)=>{x.unsubscribe(),c([h,x.getState(),x.getOriginalState()])}});i=()=>{g(),u()}})];s!=null&&l.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await w6(t,Promise.race(l));return Ul(t),c}finally{i()}};return(n,s)=>v6(a(n,s))},N6=e=>{let{type:t,actionCreator:a,matcher:n,predicate:s,effect:i}=e;if(t)s=fs(t).match;else if(a)t=a.type,s=a.match;else if(n)s=n;else if(!s)throw new Error(qn(21));return _w(i),{predicate:s,type:t,effect:i}},C6=Yd(e=>{const{type:t,predicate:a,effect:n}=N6(e);return{id:WG(),effect:n,type:t,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(qn(22))}}},{withTypes:()=>C6}),xP=(e,t)=>{const{type:a,effect:n,predicate:s}=N6(t);return Array.from(e.values()).find(i=>(typeof a=="string"?i.type===a:i.predicate===s)&&i.effect===n)},$v=e=>{e.pending.forEach(t=>{zl(t,Rv)})},oQ=e=>()=>{e.forEach($v),e.clear()},yP=(e,t,a)=>{try{e(t,a)}catch(n){setTimeout(()=>{throw n},0)}},S6=Yd(fs(`${Cp}/add`),{withTypes:()=>S6}),lQ=fs(`${Cp}/removeAll`),P6=Yd(fs(`${Cp}/remove`),{withTypes:()=>P6}),dQ=(...e)=>{console.error(`${Cp}/error`,...e)},Am=(e={})=>{const t=new Map,{extra:a,onError:n=dQ}=e;_w(n);const s=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),h=>{g.unsubscribe(),h?.cancelActive&&$v(g)}),i=g=>{const h=xP(t,g)??C6(g);return s(h)};Yd(i,{withTypes:()=>i});const o=g=>{const h=xP(t,g);return h&&(h.unsubscribe(),g.cancelActive&&$v(h)),!!h};Yd(o,{withTypes:()=>o});const l=async(g,h,x,b)=>{const y=new AbortController,k=iQ(i,y.signal),v=[];try{g.pending.add(y),await Promise.resolve(g.effect(h,Yd({},x,{getOriginalState:b,condition:(j,S)=>k(j,S).then(Boolean),take:k,delay:j6(y.signal),pause:gh(y.signal),extra:a,signal:y.signal,fork:sQ(y.signal,v),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((j,S,C)=>{j!==y&&(zl(j,Rv),C.delete(j))})},cancel:()=>{zl(y,Rv),g.pending.delete(y)},throwIfCancelled:()=>{Ul(y.signal)}})))}catch(j){j instanceof Np||yP(n,j,{raisedBy:"effect"})}finally{await Promise.all(v),zl(y,aQ),g.pending.delete(y)}},c=oQ(t);return{middleware:g=>h=>x=>{if(!o6(x))return h(x);if(S6.match(x))return i(x.payload);if(lQ.match(x)){c();return}if(P6.match(x))return o(x.payload);let b=g.getState();const y=()=>{if(b===fP)throw new Error(qn(23));return b};let k;try{if(k=h(x),t.size>0){const v=g.getState(),j=Array.from(t.values());for(const S of j){let C=!1;try{C=S.predicate(x,v,b)}catch(P){C=!1,yP(n,P,{raisedBy:"predicate"})}C&&l(S,x,g,y)}}}finally{b=fP}return k},startListening:i,stopListening:o,clearListeners:c}};function qn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var cQ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},T6=bs({name:"chartLayout",initialState:cQ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:uQ,setLayout:mQ,setChartSize:gQ,setScale:hQ}=T6.actions,pQ=T6.reducer;function bP(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function vP(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(a),!0).forEach(function(n){fQ(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function fQ(e,t,a){return(t=xQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xQ(e){var t=yQ(e,"string");return typeof t=="symbol"?t:t+""}function yQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hh=Math.PI/180,bQ=e=>e*180/Math.PI,la=(e,t,a,n)=>({x:e+Math.cos(-hh*n)*a,y:t+Math.sin(-hh*n)*a}),A6=function(t,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(a-(n.top||0)-(n.bottom||0)))/2},vQ=(e,t)=>{var{x:a,y:n}=e,{x:s,y:i}=t;return Math.sqrt((a-s)**2+(n-i)**2)},kQ=(e,t)=>{var{x:a,y:n}=e,{cx:s,cy:i}=t,o=vQ({x:a,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var l=(a-s)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:bQ(c),angleInRadian:c}},wQ=e=>{var{startAngle:t,endAngle:a}=e,n=Math.floor(t/360),s=Math.floor(a/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:a-i*360}},jQ=(e,t)=>{var{startAngle:a,endAngle:n}=t,s=Math.floor(a/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},NQ=(e,t)=>{var{x:a,y:n}=e,{radius:s,angle:i}=kQ({x:a,y:n},t),{innerRadius:o,outerRadius:l}=t;if(s<o||s>l||s===0)return null;var{startAngle:c,endAngle:u}=wQ(t),g=i,h;if(c<=u){for(;g>u;)g-=360;for(;g<c;)g+=360;h=g>=c&&g<=u}else{for(;g>c;)g-=360;for(;g<u;)g+=360;h=g>=u&&g<=c}return h?vP(vP({},t),{},{radius:s,angle:jQ(g,t)}):null};function kP(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function cs(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(a),!0).forEach(function(n){CQ(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function CQ(e,t,a){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function SQ(e){var t=PQ(e,"string");return typeof t=="symbol"?t:t+""}function PQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pr(e,t,a){return Rr(e)||Rr(t)?a:ci(t)?Go(e,t,a):typeof t=="function"?t(e):a}var TQ=(e,t,a,n,s)=>{var i,o=-1,l=(i=t?.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?a[c-1].coordinate:a[l-1].coordinate,g=a[c].coordinate,h=c>=l-1?a[0].coordinate:a[c+1].coordinate,x=void 0;if(Za(g-u)!==Za(h-g)){var b=[];if(Za(h-g)===Za(s[1]-s[0])){x=h;var y=g+s[1]-s[0];b[0]=Math.min(y,(y+u)/2),b[1]=Math.max(y,(y+u)/2)}else{x=u;var k=h+s[1]-s[0];b[0]=Math.min(g,(k+g)/2),b[1]=Math.max(g,(k+g)/2)}var v=[Math.min(g,(x+g)/2),Math.max(g,(x+g)/2)];if(e>v[0]&&e<=v[1]||e>=b[0]&&e<=b[1]){({index:o}=a[c]);break}}else{var j=Math.min(u,h),S=Math.max(u,h);if(e>(j+g)/2&&e<=(S+g)/2){({index:o}=a[c]);break}}}else if(t){for(var C=0;C<l;C++)if(C===0&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C>0&&C<l-1&&e>(t[C].coordinate+t[C-1].coordinate)/2&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C===l-1&&e>(t[C].coordinate+t[C-1].coordinate)/2){({index:o}=t[C]);break}}return o},AQ=(e,t,a)=>{if(t&&a){var{width:n,height:s}=a,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&Je(e[i]))return cs(cs({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&Je(e[o]))return cs(cs({},e),{},{[o]:e[o]+(s||0)})}return e},gi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",M6=(e,t,a,n)=>{if(n)return e.map(l=>l.coordinate);var s,i,o=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===a&&(i=!0),l.coordinate));return s||o.push(t),i||o.push(a),o},I6=(e,t,a)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:g,ticks:h,niceTicks:x,axisType:b}=e;if(!o)return null;var y=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,k=s==="category"&&o.bandwidth?o.bandwidth()/y:0;if(k=b==="angleAxis"&&i&&i.length>=2?Za(i[0]-i[1])*2*k:k,h||x){var v=(h||x||[]).map((j,S)=>{var C=n?n.indexOf(j):j;return{coordinate:o(C)+k,value:j,offset:k,index:S}});return v.filter(j=>!Hn(j.coordinate))}return c&&u?u.map((j,S)=>({coordinate:o(j)+k,value:j,index:S,offset:k})):o.ticks&&g!=null?o.ticks(g).map((j,S)=>({coordinate:o(j)+k,value:j,offset:k,index:S})):o.domain().map((j,S)=>({coordinate:o(j)+k,value:n?n[j]:j,index:S,offset:k}))},wP=1e-4,MQ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var a=t.length,n=e.range(),s=Math.min(n[0],n[1])-wP,i=Math.max(n[0],n[1])+wP,o=e(t[0]),l=e(t[a-1]);(o<s||o>i||l<s||l>i)&&e.domain([t[0],t[a-1]])}},IQ=e=>{var t=e.length;if(!(t<=0))for(var a=0,n=e[0].length;a<n;++a)for(var s=0,i=0,o=0;o<t;++o){var l=Hn(e[o][a][1])?e[o][a][0]:e[o][a][1];l>=0?(e[o][a][0]=s,e[o][a][1]=s+l,s=e[o][a][1]):(e[o][a][0]=i,e[o][a][1]=i+l,i=e[o][a][1])}},EQ=e=>{var t=e.length;if(!(t<=0))for(var a=0,n=e[0].length;a<n;++a)for(var s=0,i=0;i<t;++i){var o=Hn(e[i][a][1])?e[i][a][0]:e[i][a][1];o>=0?(e[i][a][0]=s,e[i][a][1]=s+o,s=e[i][a][1]):(e[i][a][0]=0,e[i][a][1]=0)}},OQ={sign:IQ,expand:cK,none:lc,silhouette:uK,wiggle:mK,positive:EQ},DQ=(e,t,a)=>{var n=OQ[a],s=dK().keys(t).value((i,o)=>+Pr(i,o,0)).order(Sv).offset(n);return s(e)};function E6(e){return e==null?void 0:String(e)}function ph(e){var{axis:t,ticks:a,bandSize:n,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Rr(s[t.dataKey])){var l=PI(a,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return a[i]?a[i].coordinate+n/2:null}var c=Pr(s,Rr(o)?t.dataKey:o);return Rr(c)?null:t.scale(c)}var RQ=e=>{var t=e.flat(2).filter(Je);return[Math.min(...t),Math.max(...t)]},$Q=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],BQ=(e,t,a)=>{if(e!=null)return $Q(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,l=o.reduce((c,u)=>{var g=RQ(u.slice(t,a+1));return[Math.min(c[0],g[0]),Math.max(c[1],g[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},jP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,em=(e,t,a)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!a||n>0)return n}if(e&&t&&t.length>=2){for(var s=bp(t,g=>g.coordinate),i=1/0,o=1,l=s.length;o<l;o++){var c=s[o],u=s[o-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return a?void 0:0};function CP(e){var{tooltipEntrySettings:t,dataKey:a,payload:n,value:s,name:i}=e;return cs(cs({},t),{},{dataKey:a,payload:n,value:s,name:i})}function Pc(e,t){if(e)return String(e);if(typeof t=="string")return t}function LQ(e,t,a,n,s){if(a==="horizontal"||a==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return n?NQ({x:e,y:t},n):null}var _Q=(e,t,a,n)=>{var s=t.find(u=>u&&u.index===a);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:o}=n;return cs(cs(cs({},n),la(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=s.coordinate,{angle:c}=n;return cs(cs(cs({},n),la(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},FQ=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Xi=e=>e.layout.width,Zi=e=>e.layout.height,zQ=e=>e.layout.scale,O6=e=>e.layout.margin,Fw=Ne(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),zw=Ne(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),D6="data-recharts-item-index",R6="data-recharts-item-data-key",Sp=60;function SP(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Po(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(a),!0).forEach(function(n){UQ(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):SP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function UQ(e,t,a){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function qQ(e){var t=WQ(e,"string");return typeof t=="symbol"?t:t+""}function WQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VQ=e=>e.brush.height,Ma=Ne([Xi,Zi,O6,VQ,Fw,zw,a6,pG],(e,t,a,n,s,i,o,l)=>{var c=i.reduce((y,k)=>{var{orientation:v}=k;if(!k.mirror&&!k.hide){var j=typeof k.width=="number"?k.width:Sp;return Po(Po({},y),{},{[v]:y[v]+j})}return y},{left:a.left||0,right:a.right||0}),u=s.reduce((y,k)=>{var{orientation:v}=k;return!k.mirror&&!k.hide?Po(Po({},y),{},{[v]:Go(y,"".concat(v))+k.height}):y},{top:a.top||0,bottom:a.bottom||0}),g=Po(Po({},u),c),h=g.bottom;g.bottom+=n,g=AQ(g,o,l);var x=e-g.left-g.right,b=t-g.top-g.bottom;return Po(Po({brushBottom:h},g),{},{width:Math.max(x,0),height:Math.max(b,0)})}),HQ=Ne(Ma,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),$6=Ne(Xi,Zi,(e,t)=>({x:0,y:0,width:e,height:t})),KQ=p.createContext(null),hn=()=>p.useContext(KQ)!=null,Pp=e=>e.brush,Tp=Ne([Pp,Ma,O6],(e,t,a)=>({height:e.height,x:Je(e.x)?e.x:t.left,y:Je(e.y)?e.y:t.top+t.height+t.brushBottom-(a?.bottom||0),width:Je(e.width)?e.width:t.width})),Uw=()=>{var e,t=hn(),a=it(HQ),n=it(Tp),s=(e=it(Pp))===null||e===void 0?void 0:e.padding;return!t||!n||!s?a:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},GQ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},B6=()=>{var e;return(e=it(Ma))!==null&&e!==void 0?e:GQ},qw=()=>it(Xi),Ww=()=>it(Zi),QQ={top:0,right:0,bottom:0,left:0},YQ=()=>{var e;return(e=it(t=>t.layout.margin))!==null&&e!==void 0?e:QQ},cr=e=>e.layout.layoutType,Ap=()=>it(cr),XQ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},L6=bs({name:"legend",initialState:XQ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var a=Li(e).payload.indexOf(t.payload);a>-1&&e.payload.splice(a,1)}}}),{setLegendSize:PP,setLegendSettings:ZQ,addLegendPayload:_6,removeLegendPayload:F6}=L6.actions,JQ=L6.reducer,eY=["contextPayload"];function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Bv.apply(null,arguments)}function TP(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function cc(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(a),!0).forEach(function(n){Vw(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):TP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Vw(e,t,a){return(t=tY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tY(e){var t=rY(e,"string");return typeof t=="symbol"?t:t+""}function rY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aY(e,t){if(e==null)return{};var a,n,s=nY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function nY(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function sY(e){return e.value}function iY(e){var{contextPayload:t}=e,a=aY(e,eY),n=JI(t,e.payloadUniqBy,sY),s=cc(cc({},a),{},{payload:n});return p.isValidElement(e.content)?p.cloneElement(e.content,s):typeof e.content=="function"?p.createElement(e.content,s):p.createElement(Tw,s)}function oY(e,t,a,n,s,i){var{layout:o,align:l,verticalAlign:c}=t,u,g;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((n||0)-i.width)/2}:u=l==="right"?{right:a&&a.right||0}:{left:a&&a.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?g={top:((s||0)-i.height)/2}:g=c==="bottom"?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),cc(cc({},u),g)}function lY(e){var t=Br();return p.useEffect(()=>{t(ZQ(e))},[t,e]),null}function dY(e){var t=Br();return p.useEffect(()=>(t(PP(e)),()=>{t(PP({width:0,height:0}))}),[t,e]),null}function cY(e){var t=yG(),a=OH(),n=YQ(),{width:s,height:i,wrapperStyle:o,portal:l}=e,[c,u]=n6([t]),g=qw(),h=Ww(),x=g-(n.left||0)-(n.right||0),b=Mm.getWidthOrHeight(e.layout,i,s,x),y=l?o:cc(cc({position:"absolute",width:b?.width||s||"auto",height:b?.height||i||"auto"},oY(o,e,n,g,h,c)),o),k=l??a;if(k==null)return null;var v=p.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:u},p.createElement(lY,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),p.createElement(dY,{width:c.width,height:c.height}),p.createElement(iY,Bv({},e,b,{margin:n,chartWidth:g,chartHeight:h,contextPayload:t})));return Nl.createPortal(v,k)}class Mm extends p.PureComponent{static getWidthOrHeight(t,a,n,s){return t==="vertical"&&Je(a)?{height:a}:t==="horizontal"?{width:n||s}:null}render(){return p.createElement(cY,this.props)}}Vw(Mm,"displayName","Legend");Vw(Mm,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Lv.apply(null,arguments)}function AP(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function ob(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(a),!0).forEach(function(n){uY(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):AP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function uY(e,t,a){return(t=mY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mY(e){var t=gY(e,"string");return typeof t=="symbol"?t:t+""}function gY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hY(e){return Array.isArray(e)&&ci(e[0])&&ci(e[1])?e.join(" ~ "):e}var pY=e=>{var{separator:t=" : ",contentStyle:a={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:g,labelFormatter:h,accessibilityLayer:x=!1}=e,b=()=>{if(i&&i.length){var E={padding:0,margin:0},A=(l?bp(i,l):i).map((I,M)=>{if(I.type==="none")return null;var F=I.formatter||o||hY,{value:Q,name:U}=I,V=Q,K=U;if(F){var Z=F(Q,U,I,M,i);if(Array.isArray(Z))[V,K]=Z;else if(Z!=null)V=Z;else return null}var ie=ob({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:ie},ci(K)?p.createElement("span",{className:"recharts-tooltip-item-name"},K):null,ci(K)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},V),p.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:E},A)}return null},y=ob({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),k=ob({margin:0},s),v=!Rr(g),j=v?g:"",S=Gt("recharts-default-tooltip",c),C=Gt("recharts-tooltip-label",u);v&&h&&i!==void 0&&i!==null&&(j=h(g,i));var P=x?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",Lv({className:S,style:y},P),p.createElement("p",{className:C,style:k},p.isValidElement(j)?j:"".concat(j)),b())},bu="recharts-tooltip-wrapper",fY={visibility:"hidden"};function xY(e){var{coordinate:t,translateX:a,translateY:n}=e;return Gt(bu,{["".concat(bu,"-right")]:Je(a)&&t&&Je(t.x)&&a>=t.x,["".concat(bu,"-left")]:Je(a)&&t&&Je(t.x)&&a<t.x,["".concat(bu,"-bottom")]:Je(n)&&t&&Je(t.y)&&n>=t.y,["".concat(bu,"-top")]:Je(n)&&t&&Je(t.y)&&n<t.y})}function MP(e){var{allowEscapeViewBox:t,coordinate:a,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&Je(i[n]))return i[n];var g=a[n]-l-(s>0?s:0),h=a[n]+s;if(t[n])return o[n]?g:h;var x=c[n];if(x==null)return 0;if(o[n]){var b=g,y=x;return b<y?Math.max(h,x):Math.max(g,x)}if(u==null)return 0;var k=h+l,v=x+u;return k>v?Math.max(g,x):Math.max(h,x)}function yY(e){var{translateX:t,translateY:a,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(a,"px, 0)"):"translate(".concat(t,"px, ").concat(a,"px)")}}function bY(e){var{allowEscapeViewBox:t,coordinate:a,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,g,h;return o.height>0&&o.width>0&&a?(g=MP({allowEscapeViewBox:t,coordinate:a,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=MP({allowEscapeViewBox:t,coordinate:a,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=yY({translateX:g,translateY:h,useTranslate3d:l})):u=fY,{cssProperties:u,cssClasses:xY({translateX:g,translateY:h,coordinate:a})}}function IP(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function og(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(a),!0).forEach(function(n){_v(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):IP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function _v(e,t,a){return(t=vY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vY(e){var t=kY(e,"string");return typeof t=="symbol"?t:t+""}function kY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wY extends p.PureComponent{constructor(){super(...arguments),_v(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_v(this,"handleKeyDown",t=>{if(t.key==="Escape"){var a,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&a!==void 0?a:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,a;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:a,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:g,reverseDirection:h,useTranslate3d:x,viewBox:b,wrapperStyle:y,lastBoundingBox:k,innerRef:v,hasPortalFromProps:j}=this.props,{cssClasses:S,cssProperties:C}=bY({allowEscapeViewBox:a,coordinate:o,offsetTopLeft:u,position:g,reverseDirection:h,tooltipBox:{height:k.height,width:k.width},useTranslate3d:x,viewBox:b}),P=j?{}:og(og({transition:c&&t?"transform ".concat(n,"ms ").concat(s):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),E=og(og({},P),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:E,ref:v},i)}}var jY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),id={isSsr:jY()},z6=()=>it(e=>e.rootProps.accessibilityLayer);function un(e){return Number.isFinite(e)}function uc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Fv.apply(null,arguments)}function EP(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function OP(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(a),!0).forEach(function(n){NY(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):EP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function NY(e,t,a){return(t=CY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function CY(e){var t=SY(e,"string");return typeof t=="symbol"?t:t+""}function SY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DP={curveBasisClosed:ZH,curveBasisOpen:JH,curveBasis:XH,curveBumpX:BH,curveBumpY:LH,curveLinearClosed:eK,curveLinear:xp,curveMonotoneX:tK,curveMonotoneY:rK,curveNatural:aK,curveStep:nK,curveStepAfter:iK,curveStepBefore:sK},lg=e=>un(e.x)&&un(e.y),vu=e=>e.x,ku=e=>e.y,PY=(e,t)=>{if(typeof e=="function")return e;var a="curve".concat(Tm(e));return(a==="curveMonotone"||a==="curveBump")&&t?DP["".concat(a).concat(t==="vertical"?"Y":"X")]:DP[a]||xp},TY=e=>{var{type:t="linear",points:a=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=PY(t,s),l=i?a.filter(lg):a,c;if(Array.isArray(n)){var u=i?n.filter(h=>lg(h)):n,g=l.map((h,x)=>OP(OP({},h),{},{base:u[x]}));return s==="vertical"?c=rg().y(ku).x1(vu).x0(h=>h.base.x):c=rg().x(vu).y1(ku).y0(h=>h.base.y),c.defined(lg).curve(o),c(g)}return s==="vertical"&&Je(n)?c=rg().y(ku).x1(vu).x0(n):Je(n)?c=rg().x(vu).y1(ku).y0(n):c=RI().x(vu).y(ku),c.defined(lg).curve(o),c(l)},Xd=e=>{var{className:t,points:a,path:n,pathRef:s}=e;if((!a||!a.length)&&!n)return null;var i=a&&a.length?TY(e):n;return p.createElement("path",Fv({},It(e,!1),vw(e),{className:Gt("recharts-curve",t),d:i===null?void 0:i,ref:s}))},AY=["x","y","top","left","width","height","className"];function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},zv.apply(null,arguments)}function RP(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function MY(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(a),!0).forEach(function(n){IY(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):RP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function IY(e,t,a){return(t=EY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function EY(e){var t=OY(e,"string");return typeof t=="symbol"?t:t+""}function OY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DY(e,t){if(e==null)return{};var a,n,s=RY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function RY(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var $Y=(e,t,a,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(a),BY=e=>{var{x:t=0,y:a=0,top:n=0,left:s=0,width:i=0,height:o=0,className:l}=e,c=DY(e,AY),u=MY({x:t,y:a,top:n,left:s,width:i,height:o},c);return!Je(t)||!Je(a)||!Je(i)||!Je(o)||!Je(n)||!Je(s)?null:p.createElement("path",zv({},It(u,!0),{className:Gt("recharts-cross",l),d:$Y(t,a,i,o,n,s)}))};function LY(e,t,a,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:a.left+.5,y:e==="horizontal"?a.top+.5:t.y-s,width:e==="horizontal"?n:a.width-1,height:e==="horizontal"?a.height-1:n}}function $P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function _Y(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(a),!0).forEach(function(n){FY(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$P(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function FY(e,t,a){return(t=zY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function zY(e){var t=UY(e,"string");return typeof t=="symbol"?t:t+""}function UY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vs(e,t){var a=_Y({},e),n=t,s=Object.keys(t),i=s.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),a);return i}var lb={},db={},cb={},BP;function qY(){return BP||(BP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(!a||typeof a!="object")return!1;const n=Object.getPrototypeOf(a);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(a)==="[object Object]":!1}e.isPlainObject=t}(cb)),cb}var LP;function WY(){return LP||(LP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qY(),a=YI(),n=Ew(),s=Ow(),i=Mw();function o(u,g,h){return l(u,g,void 0,void 0,void 0,void 0,h)}function l(u,g,h,x,b,y,k){const v=k(u,g,h,x,b,y);if(v!==void 0)return v;if(typeof u==typeof g)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===g;case"number":return u===g||Object.is(u,g);case"function":return u===g;case"object":return c(u,g,y,k)}return c(u,g,y,k)}function c(u,g,h,x){if(Object.is(u,g))return!0;let b=n.getTag(u),y=n.getTag(g);if(b===s.argumentsTag&&(b=s.objectTag),y===s.argumentsTag&&(y=s.objectTag),b!==y)return!1;switch(b){case s.stringTag:return u.toString()===g.toString();case s.numberTag:{const j=u.valueOf(),S=g.valueOf();return i.eq(j,S)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(u.valueOf(),g.valueOf());case s.regexpTag:return u.source===g.source&&u.flags===g.flags;case s.functionTag:return u===g}h=h??new Map;const k=h.get(u),v=h.get(g);if(k!=null&&v!=null)return k===g;h.set(u,g),h.set(g,u);try{switch(b){case s.mapTag:{if(u.size!==g.size)return!1;for(const[j,S]of u.entries())if(!g.has(j)||!l(S,g.get(j),j,u,g,h,x))return!1;return!0}case s.setTag:{if(u.size!==g.size)return!1;const j=Array.from(u.values()),S=Array.from(g.values());for(let C=0;C<j.length;C++){const P=j[C],E=S.findIndex(A=>l(P,A,void 0,u,g,h,x));if(E===-1)return!1;S.splice(E,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(g)||u.length!==g.length)return!1;for(let j=0;j<u.length;j++)if(!l(u[j],g[j],j,u,g,h,x))return!1;return!0}case s.arrayBufferTag:return u.byteLength!==g.byteLength?!1:c(new Uint8Array(u),new Uint8Array(g),h,x);case s.dataViewTag:return u.byteLength!==g.byteLength||u.byteOffset!==g.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(g),h,x);case s.errorTag:return u.name===g.name&&u.message===g.message;case s.objectTag:{if(!(c(u.constructor,g.constructor,h,x)||t.isPlainObject(u)&&t.isPlainObject(g)))return!1;const S=[...Object.keys(u),...a.getSymbols(u)],C=[...Object.keys(g),...a.getSymbols(g)];if(S.length!==C.length)return!1;for(let P=0;P<S.length;P++){const E=S[P],A=u[E];if(!Object.hasOwn(g,E))return!1;const I=g[E];if(!l(A,I,E,u,g,h,x))return!1}return!0}default:return!1}}finally{h.delete(u),h.delete(g)}}e.isEqualWith=o}(db)),db}var ub={},_P;function VY(){return _P||(_P=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(ub)),ub}var FP;function HY(){return FP||(FP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WY(),a=VY();function n(s,i){return t.isEqualWith(s,i,a.noop)}e.isEqual=n}(lb)),lb}var mb,zP;function KY(){return zP||(zP=1,mb=HY().isEqual),mb}var GY=KY();const QY=zs(GY);function YY(e){var t={},a=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){s=e.setTimeout(i.bind(null,u),c);return}i(c),s=e.setTimeout(i.bind(null,u));return}typeof o=="object"&&(t=o,a(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(a=o,()=>{a=()=>null}),getTimeoutController:()=>e}}var fh=1e-4,U6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],q6=(e,t)=>e.map((a,n)=>a*t**n).reduce((a,n)=>a+n),UP=(e,t)=>a=>{var n=U6(e,t);return q6(n,a)},XY=(e,t)=>a=>{var n=U6(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return q6(s,a)},qP=function(){for(var t,a,n,s,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,a,s]=[0,0,1,1];break;case"ease":[t,n,a,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,a,s]=[.42,0,1,1];break;case"ease-out":[t,n,a,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,a,s]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,a,s]=c[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else o.length===4&&([t,n,a,s]=o);var u=UP(t,a),g=UP(n,s),h=XY(t,a),x=y=>y>1?1:y<0?0:y,b=y=>{for(var k=y>1?1:y,v=k,j=0;j<8;++j){var S=u(v)-k,C=h(v);if(Math.abs(S-k)<fh||C<fh)return g(v);v=x(v-S/C)}return g(v)};return b.isStepper=!1,b},ZY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:n=8,dt:s=17}=t,i=(o,l,c)=>{var u=-(o-l)*a,g=c*n,h=c+(u-g)*s/1e3,x=c*s/1e3+o;return Math.abs(x-l)<fh&&Math.abs(h)<fh?[l,0]:[x,h]};return i.isStepper=!0,i.dt=s,i},JY=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qP(e);case"spring":return ZY();default:if(e.split("(")[0]==="cubic-bezier")return qP(e)}return typeof e=="function"?e:null};function WP(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function VP(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(a),!0).forEach(function(n){eX(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):WP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function eX(e,t,a){return(t=tX(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tX(e){var t=rX(e,"string");return typeof t=="symbol"?t:t+""}function rX(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aX=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),nX=(e,t,a)=>e.map(n=>"".concat(aX(n)," ").concat(t,"ms ").concat(a)).join(","),sX=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((a,n)=>a.filter(s=>n.includes(s))),tm=(e,t)=>Object.keys(t).reduce((a,n)=>VP(VP({},a),{},{[n]:e(n,t[n])}),{});function HP(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function _a(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(a),!0).forEach(function(n){iX(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):HP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function iX(e,t,a){return(t=oX(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function oX(e){var t=lX(e,"string");return typeof t=="symbol"?t:t+""}function lX(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xh=(e,t,a)=>e+(t-e)*a,Uv=e=>{var{from:t,to:a}=e;return t!==a},W6=(e,t,a)=>{var n=tm((s,i)=>{if(Uv(i)){var[o,l]=e(i.from,i.to,i.velocity);return _a(_a({},i),{},{from:o,velocity:l})}return i},t);return a<1?tm((s,i)=>Uv(i)?_a(_a({},i),{},{velocity:xh(i.velocity,n[s].velocity,a),from:xh(i.from,n[s].from,a)}):i,t):W6(e,n,a-1)};function dX(e,t,a,n,s,i){var o,l=n.reduce((x,b)=>_a(_a({},x),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),c=()=>tm((x,b)=>b.from,l),u=()=>!Object.values(l).filter(Uv).length,g=null,h=x=>{o||(o=x);var b=x-o,y=b/a.dt;l=W6(a,l,y),s(_a(_a(_a({},e),t),c())),o=x,u()||(g=i.setTimeout(h))};return()=>(g=i.setTimeout(h),()=>{g()})}function cX(e,t,a,n,s,i,o){var l=null,c=s.reduce((h,x)=>_a(_a({},h),{},{[x]:[e[x],t[x]]}),{}),u,g=h=>{u||(u=h);var x=(h-u)/n,b=tm((k,v)=>xh(...v,a(x)),c);if(i(_a(_a(_a({},e),t),b)),x<1)l=o.setTimeout(g);else{var y=tm((k,v)=>xh(...v,a(1)),c);i(_a(_a(_a({},e),t),y))}};return()=>(l=o.setTimeout(g),()=>{l()})}const uX=(e,t,a,n,s,i)=>{var o=sX(e,t);return a.isStepper===!0?dX(e,t,a,o,s,i):cX(e,t,a,n,o,s,i)};class mX{setTimeout(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=a?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}var gX=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},qv.apply(null,arguments)}function hX(e,t){if(e==null)return{};var a,n,s=pX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function pX(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function KP(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function To(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(a),!0).forEach(function(n){Ml(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):KP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Ml(e,t,a){return(t=fX(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fX(e){var t=xX(e,"string");return typeof t=="symbol"?t:t+""}function xX(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yX(){return YY(new mX)}class Hw extends p.PureComponent{constructor(t,a){super(t,a),Ml(this,"mounted",!1),Ml(this,"manager",null),Ml(this,"stopJSAnimation",null),Ml(this,"unSubscribe",null);var{isActive:n,attributeName:s,from:i,to:o,children:l,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:o});return}if(i){if(typeof l=="function"){this.state={style:i};return}this.state={style:s?{[s]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:a}=this.props;this.mounted=!0,!(!t||!a)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:a,canBegin:n,attributeName:s,shouldReAnimate:i,to:o,from:l}=this.props,{style:c}=this.state;if(n){if(!a){var u={style:s?{[s]:o}:o};this.state&&c&&(s&&c[s]!==o||!s&&c!==o)&&this.setState(u);return}if(!(QY(t.to,o)&&t.canBegin&&t.isActive)){var g=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var h=g||i?l:t.to;if(this.state&&c){var x={style:s?{[s]:h}:h};(s&&c[s]!==h||!s&&c!==h)&&this.setState(x)}this.runAnimation(To(To({},this.props),{},{from:h,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:a,to:n,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c}=t,u=uX(a,n,JY(i),s,this.changeStyle,this.manager.getTimeoutController()),g=()=>{this.stopJSAnimation=u()};this.manager.start([c,o,g,s,l])}runAnimation(t){var{begin:a,duration:n,attributeName:s,to:i,easing:o,onAnimationStart:l,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof u=="function"||o==="spring"){this.runJSAnimation(t);return}var g=s?{[s]:i}:i,h=nX(Object.keys(g),n,o);this.manager.start([l,a,To(To({},g),{},{transition:h}),n,c])}render(){var t=this.props,{children:a,begin:n,duration:s,attributeName:i,easing:o,isActive:l,from:c,to:u,canBegin:g,onAnimationEnd:h,shouldReAnimate:x,onAnimationReStart:b,animationManager:y}=t,k=hX(t,gX),v=p.Children.count(a),j=this.state.style;if(typeof a=="function")return a(j);if(!l||v===0||s<=0)return a;var S=C=>{var{style:P={},className:E}=C.props,A=p.cloneElement(C,To(To({},k),{},{style:To(To({},P),j),className:E}));return A};return v===1?S(p.Children.only(a)):p.createElement("div",null,p.Children.map(a,C=>S(C)))}}Ml(Hw,"displayName","Animate");Ml(Hw,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var bX=p.createContext(null);function Qo(e){var t,a,n=p.useContext(bX);return p.createElement(Hw,qv({},e,{animationManager:(t=(a=e.animationManager)!==null&&a!==void 0?a:n)!==null&&t!==void 0?t:yX()}))}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},yh.apply(null,arguments)}var GP=(e,t,a,n,s)=>{var i=Math.min(Math.abs(a)/2,Math.abs(n)/2),o=n>=0?1:-1,l=a>=0?1:-1,c=n>=0&&a>=0||n<0&&a<0?1:0,u;if(i>0&&s instanceof Array){for(var g=[0,0,0,0],h=0,x=4;h<x;h++)g[h]=s[h]>i?i:s[h];u="M".concat(e,",").concat(t+o*g[0]),g[0]>0&&(u+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(c,",").concat(e+l*g[0],",").concat(t)),u+="L ".concat(e+a-l*g[1],",").concat(t),g[1]>0&&(u+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(c,`,
        `).concat(e+a,",").concat(t+o*g[1])),u+="L ".concat(e+a,",").concat(t+n-o*g[2]),g[2]>0&&(u+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(c,`,
        `).concat(e+a-l*g[2],",").concat(t+n)),u+="L ".concat(e+l*g[3],",").concat(t+n),g[3]>0&&(u+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*g[3])),u+="Z"}else if(i>0&&s===+s&&s>0){var b=Math.min(i,s);u="M ".concat(e,",").concat(t+o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+l*b,",").concat(t,`
            L `).concat(e+a-l*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+a,",").concat(t+o*b,`
            L `).concat(e+a,",").concat(t+n-o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+a-l*b,",").concat(t+n,`
            L `).concat(e+l*b,",").concat(t+n,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*b," Z")}else u="M ".concat(e,",").concat(t," h ").concat(a," v ").concat(n," h ").concat(-a," Z");return u},vX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},V6=e=>{var t=vs(e,vX),a=p.useRef(null),[n,s]=p.useState(-1);p.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var j=a.current.getTotalLength();j&&s(j)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:g}=t,{animationEasing:h,animationDuration:x,animationBegin:b,isAnimationActive:y,isUpdateAnimationActive:k}=t;if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var v=Gt("recharts-rectangle",g);return k?p.createElement(Qo,{canBegin:n>0,from:{width:l,height:c,x:i,y:o},to:{width:l,height:c,x:i,y:o},duration:x,animationEasing:h,isActive:k},j=>{var{width:S,height:C,x:P,y:E}=j;return p.createElement(Qo,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,isActive:y,easing:h},p.createElement("path",yh({},It(t,!0),{className:v,d:GP(P,E,S,C,u),ref:a})))}):p.createElement("path",yh({},It(t,!0),{className:v,d:GP(i,o,l,c,u)}))};function H6(e){var{cx:t,cy:a,radius:n,startAngle:s,endAngle:i}=e,o=la(t,a,n,s),l=la(t,a,n,i);return{points:[o,l],cx:t,cy:a,radius:n,startAngle:s,endAngle:i}}function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Wv.apply(null,arguments)}var kX=(e,t)=>{var a=Za(t-e),n=Math.min(Math.abs(t-e),359.999);return a*n},dg=e=>{var{cx:t,cy:a,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,g=Math.asin(l/u)/hh,h=c?s:s+i*g,x=la(t,a,u,h),b=la(t,a,n,h),y=c?s-i*g:s,k=la(t,a,u*Math.cos(g*hh),y);return{center:x,circleTangency:b,lineTangency:k,theta:g}},K6=e=>{var{cx:t,cy:a,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,l=kX(i,o),c=i+l,u=la(t,a,s,i),g=la(t,a,s,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(n>0){var x=la(t,a,n,i),b=la(t,a,n,c);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(x.x,",").concat(x.y," Z")}else h+="L ".concat(t,",").concat(a," Z");return h},wX=e=>{var{cx:t,cy:a,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,g=Za(u-c),{circleTangency:h,lineTangency:x,theta:b}=dg({cx:t,cy:a,radius:s,angle:c,sign:g,cornerRadius:i,cornerIsExternal:l}),{circleTangency:y,lineTangency:k,theta:v}=dg({cx:t,cy:a,radius:s,angle:u,sign:-g,cornerRadius:i,cornerIsExternal:l}),j=l?Math.abs(c-u):Math.abs(c-u)-b-v;if(j<0)return o?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):K6({cx:t,cy:a,innerRadius:n,outerRadius:s,startAngle:c,endAngle:u});var S="M ".concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(g<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(j>180),",").concat(+(g<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(g<0),",").concat(k.x,",").concat(k.y,`
  `);if(n>0){var{circleTangency:C,lineTangency:P,theta:E}=dg({cx:t,cy:a,radius:n,angle:c,sign:g,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:A,lineTangency:I,theta:M}=dg({cx:t,cy:a,radius:n,angle:u,sign:-g,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),F=l?Math.abs(c-u):Math.abs(c-u)-E-M;if(F<0&&i===0)return"".concat(S,"L").concat(t,",").concat(a,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(g<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(F>180),",").concat(+(g>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(g<0),",").concat(P.x,",").concat(P.y,"Z")}else S+="L".concat(t,",").concat(a,"Z");return S},jX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},G6=e=>{var t=vs(e,jX),{cx:a,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:g,className:h}=t;if(i<s||u===g)return null;var x=Gt("recharts-sector",h),b=i-s,y=ps(o,b,0,!0),k;return y>0&&Math.abs(u-g)<360?k=wX({cx:a,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(y,b/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:g}):k=K6({cx:a,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:g}),p.createElement("path",Wv({},It(t,!0),{className:x,d:k}))};function NX(e,t,a){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=a.top,o=a.top+a.height;else if(e==="vertical")s=t.y,o=s,n=a.left,i=a.left+a.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:g,angle:h}=t,x=la(l,c,u,h),b=la(l,c,g,h);n=x.x,s=x.y,i=b.x,o=b.y}else return H6(t);return[{x:n,y:s},{x:i,y:o}]}var gb={},hb={},pb={},QP;function CX(){return QP||(QP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t6();function a(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=a}(pb)),pb}var YP;function SX(){return YP||(YP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CX();function a(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=a}(hb)),hb}var XP;function PX(){return XP||(XP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r6(),a=SX();function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=a.toFinite(s),i===void 0?(i=s,s=0):i=a.toFinite(i),o=o===void 0?s<i?1:-1:a.toFinite(o);const l=Math.max(Math.ceil((i-s)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=s,s+=o;return c}e.range=n}(gb)),gb}var fb,ZP;function TX(){return ZP||(ZP=1,fb=PX().range),fb}var AX=TX();const Q6=zs(AX);function _o(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function MX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kw(e){let t,a,n;e.length!==2?(t=_o,a=(l,c)=>_o(e(l),c),n=(l,c)=>e(l)-c):(t=e===_o||e===MX?e:IX,a=e,n=e);function s(l,c,u=0,g=l.length){if(u<g){if(t(c,c)!==0)return g;do{const h=u+g>>>1;a(l[h],c)<0?u=h+1:g=h}while(u<g)}return u}function i(l,c,u=0,g=l.length){if(u<g){if(t(c,c)!==0)return g;do{const h=u+g>>>1;a(l[h],c)<=0?u=h+1:g=h}while(u<g)}return u}function o(l,c,u=0,g=l.length){const h=s(l,c,u,g-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:s,center:o,right:i}}function IX(){return 0}function Y6(e){return e===null?NaN:+e}function*EX(e,t){for(let a of e)a!=null&&(a=+a)>=a&&(yield a)}const OX=Kw(_o),Im=OX.right;Kw(Y6).center;class JP extends Map{constructor(t,a=$X){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(e5(this,t))}has(t){return super.has(e5(this,t))}set(t,a){return super.set(DX(this,t),a)}delete(t){return super.delete(RX(this,t))}}function e5({_intern:e,_key:t},a){const n=t(a);return e.has(n)?e.get(n):a}function DX({_intern:e,_key:t},a){const n=t(a);return e.has(n)?e.get(n):(e.set(n,a),a)}function RX({_intern:e,_key:t},a){const n=t(a);return e.has(n)&&(a=e.get(n),e.delete(n)),a}function $X(e){return e!==null&&typeof e=="object"?e.valueOf():e}function BX(e=_o){if(e===_o)return X6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,a)=>{const n=e(t,a);return n||n===0?n:(e(a,a)===0)-(e(t,t)===0)}}function X6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const LX=Math.sqrt(50),_X=Math.sqrt(10),FX=Math.sqrt(2);function bh(e,t,a){const n=(t-e)/Math.max(0,a),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=LX?10:i>=_X?5:i>=FX?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=a&&a<2?bh(e,t,a*2):[l,c,u]}function Vv(e,t,a){if(t=+t,e=+e,a=+a,!(a>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?bh(t,e,a):bh(e,t,a);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function Hv(e,t,a){return t=+t,e=+e,a=+a,bh(e,t,a)[2]}function Kv(e,t,a){t=+t,e=+e,a=+a;const n=t<e,s=n?Hv(t,e,a):Hv(e,t,a);return(n?-1:1)*(s<0?1/-s:s)}function t5(e,t){let a;for(const n of e)n!=null&&(a<n||a===void 0&&n>=n)&&(a=n);return a}function r5(e,t){let a;for(const n of e)n!=null&&(a>n||a===void 0&&n>=n)&&(a=n);return a}function Z6(e,t,a=0,n=1/0,s){if(t=Math.floor(t),a=Math.floor(Math.max(0,a)),n=Math.floor(Math.min(e.length-1,n)),!(a<=t&&t<=n))return e;for(s=s===void 0?X6:BX(s);n>a;){if(n-a>600){const c=n-a+1,u=t-a+1,g=Math.log(c),h=.5*Math.exp(2*g/3),x=.5*Math.sqrt(g*h*(c-h)/c)*(u-c/2<0?-1:1),b=Math.max(a,Math.floor(t-u*h/c+x)),y=Math.min(n,Math.floor(t+(c-u)*h/c+x));Z6(e,t,b,y,s)}const i=e[t];let o=a,l=n;for(wu(e,a,t),s(e[n],i)>0&&wu(e,a,n);o<l;){for(wu(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[a],i)===0?wu(e,a,l):(++l,wu(e,l,n)),l<=t&&(a=l+1),t<=l&&(n=l-1)}return e}function wu(e,t,a){const n=e[t];e[t]=e[a],e[a]=n}function zX(e,t,a){if(e=Float64Array.from(EX(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return r5(e);if(t>=1)return t5(e);var n,s=(n-1)*t,i=Math.floor(s),o=t5(Z6(e,i).subarray(0,i+1)),l=r5(e.subarray(i+1));return o+(l-o)*(s-i)}}function UX(e,t,a=Y6){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+a(e[0],0,e);if(t>=1)return+a(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+a(e[i],i,e),l=+a(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function qX(e,t,a){e=+e,t=+t,a=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+a;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/a))|0,i=new Array(s);++n<s;)i[n]=e+n*a;return i}function ks(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ji(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Gv=Symbol("implicit");function Gw(){var e=new JP,t=[],a=[],n=Gv;function s(i){let o=e.get(i);if(o===void 0){if(n!==Gv)return n;e.set(i,o=t.push(i)-1)}return a[o%a.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new JP;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(a=Array.from(i),s):a.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Gw(t,a).unknown(n)},ks.apply(s,arguments),s}function Qw(){var e=Gw().unknown(void 0),t=e.domain,a=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,g=.5;delete e.unknown;function h(){var x=t().length,b=s<n,y=b?s:n,k=b?n:s;i=(k-y)/Math.max(1,x-c+u*2),l&&(i=Math.floor(i)),y+=(k-y-i*(x-c))*g,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=qX(x).map(function(j){return y+i*j});return a(b?v.reverse():v)}return e.domain=function(x){return arguments.length?(t(x),h()):t()},e.range=function(x){return arguments.length?([n,s]=x,n=+n,s=+s,h()):[n,s]},e.rangeRound=function(x){return[n,s]=x,n=+n,s=+s,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(x){return arguments.length?(l=!!x,h()):l},e.padding=function(x){return arguments.length?(c=Math.min(1,u=+x),h()):c},e.paddingInner=function(x){return arguments.length?(c=Math.min(1,x),h()):c},e.paddingOuter=function(x){return arguments.length?(u=+x,h()):u},e.align=function(x){return arguments.length?(g=Math.max(0,Math.min(1,x)),h()):g},e.copy=function(){return Qw(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(g)},ks.apply(h(),arguments)}function J6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return J6(t())},e}function WX(){return J6(Qw.apply(null,arguments).paddingInner(1))}function Yw(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function eE(e,t){var a=Object.create(e.prototype);for(var n in t)a[n]=t[n];return a}function Em(){}var rm=.7,vh=1/rm,Zd="\\s*([+-]?\\d+)\\s*",am="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VX=/^#([0-9a-f]{3,8})$/,HX=new RegExp(`^rgb\\(${Zd},${Zd},${Zd}\\)$`),KX=new RegExp(`^rgb\\(${ii},${ii},${ii}\\)$`),GX=new RegExp(`^rgba\\(${Zd},${Zd},${Zd},${am}\\)$`),QX=new RegExp(`^rgba\\(${ii},${ii},${ii},${am}\\)$`),YX=new RegExp(`^hsl\\(${am},${ii},${ii}\\)$`),XX=new RegExp(`^hsla\\(${am},${ii},${ii},${am}\\)$`),a5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yw(Em,nm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:n5,formatHex:n5,formatHex8:ZX,formatHsl:JX,formatRgb:s5,toString:s5});function n5(){return this.rgb().formatHex()}function ZX(){return this.rgb().formatHex8()}function JX(){return tE(this).formatHsl()}function s5(){return this.rgb().formatRgb()}function nm(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=VX.exec(e))?(a=t[1].length,t=parseInt(t[1],16),a===6?i5(t):a===3?new Sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):a===8?cg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):a===4?cg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=HX.exec(e))?new Sn(t[1],t[2],t[3],1):(t=KX.exec(e))?new Sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=GX.exec(e))?cg(t[1],t[2],t[3],t[4]):(t=QX.exec(e))?cg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YX.exec(e))?d5(t[1],t[2]/100,t[3]/100,1):(t=XX.exec(e))?d5(t[1],t[2]/100,t[3]/100,t[4]):a5.hasOwnProperty(e)?i5(a5[e]):e==="transparent"?new Sn(NaN,NaN,NaN,0):null}function i5(e){return new Sn(e>>16&255,e>>8&255,e&255,1)}function cg(e,t,a,n){return n<=0&&(e=t=a=NaN),new Sn(e,t,a,n)}function eZ(e){return e instanceof Em||(e=nm(e)),e?(e=e.rgb(),new Sn(e.r,e.g,e.b,e.opacity)):new Sn}function Qv(e,t,a,n){return arguments.length===1?eZ(e):new Sn(e,t,a,n??1)}function Sn(e,t,a,n){this.r=+e,this.g=+t,this.b=+a,this.opacity=+n}Yw(Sn,Qv,eE(Em,{brighter(e){return e=e==null?vh:Math.pow(vh,e),new Sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?rm:Math.pow(rm,e),new Sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sn(ql(this.r),ql(this.g),ql(this.b),kh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:o5,formatHex:o5,formatHex8:tZ,formatRgb:l5,toString:l5}));function o5(){return`#${Il(this.r)}${Il(this.g)}${Il(this.b)}`}function tZ(){return`#${Il(this.r)}${Il(this.g)}${Il(this.b)}${Il((isNaN(this.opacity)?1:this.opacity)*255)}`}function l5(){const e=kh(this.opacity);return`${e===1?"rgb(":"rgba("}${ql(this.r)}, ${ql(this.g)}, ${ql(this.b)}${e===1?")":`, ${e})`}`}function kh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ql(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Il(e){return e=ql(e),(e<16?"0":"")+e.toString(16)}function d5(e,t,a,n){return n<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new Os(e,t,a,n)}function tE(e){if(e instanceof Os)return new Os(e.h,e.s,e.l,e.opacity);if(e instanceof Em||(e=nm(e)),!e)return new Os;if(e instanceof Os)return e;e=e.rgb();var t=e.r/255,a=e.g/255,n=e.b/255,s=Math.min(t,a,n),i=Math.max(t,a,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(a-n)/l+(a<n)*6:a===i?o=(n-t)/l+2:o=(t-a)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Os(o,l,c,e.opacity)}function rZ(e,t,a,n){return arguments.length===1?tE(e):new Os(e,t,a,n??1)}function Os(e,t,a,n){this.h=+e,this.s=+t,this.l=+a,this.opacity=+n}Yw(Os,rZ,eE(Em,{brighter(e){return e=e==null?vh:Math.pow(vh,e),new Os(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?rm:Math.pow(rm,e),new Os(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,n=a+(a<.5?a:1-a)*t,s=2*a-n;return new Sn(xb(e>=240?e-240:e+120,s,n),xb(e,s,n),xb(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Os(c5(this.h),ug(this.s),ug(this.l),kh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=kh(this.opacity);return`${e===1?"hsl(":"hsla("}${c5(this.h)}, ${ug(this.s)*100}%, ${ug(this.l)*100}%${e===1?")":`, ${e})`}`}}));function c5(e){return e=(e||0)%360,e<0?e+360:e}function ug(e){return Math.max(0,Math.min(1,e||0))}function xb(e,t,a){return(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)*255}const Xw=e=>()=>e;function aZ(e,t){return function(a){return e+a*t}}function nZ(e,t,a){return e=Math.pow(e,a),t=Math.pow(t,a)-e,a=1/a,function(n){return Math.pow(e+n*t,a)}}function sZ(e){return(e=+e)==1?rE:function(t,a){return a-t?nZ(t,a,e):Xw(isNaN(t)?a:t)}}function rE(e,t){var a=t-e;return a?aZ(e,a):Xw(isNaN(e)?t:e)}const u5=function e(t){var a=sZ(t);function n(s,i){var o=a((s=Qv(s)).r,(i=Qv(i)).r),l=a(s.g,i.g),c=a(s.b,i.b),u=rE(s.opacity,i.opacity);return function(g){return s.r=o(g),s.g=l(g),s.b=c(g),s.opacity=u(g),s+""}}return n.gamma=e,n}(1);function iZ(e,t){t||(t=[]);var a=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<a;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function oZ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lZ(e,t){var a=t?t.length:0,n=e?Math.min(a,e.length):0,s=new Array(n),i=new Array(a),o;for(o=0;o<n;++o)s[o]=Tc(e[o],t[o]);for(;o<a;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function dZ(e,t){var a=new Date;return e=+e,t=+t,function(n){return a.setTime(e*(1-n)+t*n),a}}function wh(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}}function cZ(e,t){var a={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?a[s]=Tc(e[s],t[s]):n[s]=t[s];return function(i){for(s in a)n[s]=a[s](i);return n}}var Yv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yb=new RegExp(Yv.source,"g");function uZ(e){return function(){return e}}function mZ(e){return function(t){return e(t)+""}}function gZ(e,t){var a=Yv.lastIndex=yb.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Yv.exec(e))&&(s=yb.exec(t));)(i=s.index)>a&&(i=t.slice(a,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:wh(n,s)})),a=yb.lastIndex;return a<t.length&&(i=t.slice(a),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?mZ(c[0].x):uZ(t):(t=c.length,function(u){for(var g=0,h;g<t;++g)l[(h=c[g]).i]=h.x(u);return l.join("")})}function Tc(e,t){var a=typeof t,n;return t==null||a==="boolean"?Xw(t):(a==="number"?wh:a==="string"?(n=nm(t))?(t=n,u5):gZ:t instanceof nm?u5:t instanceof Date?dZ:oZ(t)?iZ:Array.isArray(t)?lZ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cZ:wh)(e,t)}function Zw(e,t){return e=+e,t=+t,function(a){return Math.round(e*(1-a)+t*a)}}function hZ(e,t){t===void 0&&(t=e,e=Tc);for(var a=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);a<n;)i[a]=e(s,s=t[++a]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function pZ(e){return function(){return e}}function jh(e){return+e}var m5=[0,1];function dn(e){return e}function Xv(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:pZ(isNaN(t)?NaN:.5)}function fZ(e,t){var a;return e>t&&(a=e,e=t,t=a),function(n){return Math.max(e,Math.min(t,n))}}function xZ(e,t,a){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=Xv(s,n),i=a(o,i)):(n=Xv(n,s),i=a(i,o)),function(l){return i(n(l))}}function yZ(e,t,a){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=Xv(e[o],e[o+1]),i[o]=a(t[o],t[o+1]);return function(l){var c=Im(e,l,1,n)-1;return i[c](s[c](l))}}function Om(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Mp(){var e=m5,t=m5,a=Tc,n,s,i,o=dn,l,c,u;function g(){var x=Math.min(e.length,t.length);return o!==dn&&(o=fZ(e[0],e[x-1])),l=x>2?yZ:xZ,c=u=null,h}function h(x){return x==null||isNaN(x=+x)?i:(c||(c=l(e.map(n),t,a)))(n(o(x)))}return h.invert=function(x){return o(s((u||(u=l(t,e.map(n),wh)))(x)))},h.domain=function(x){return arguments.length?(e=Array.from(x,jh),g()):e.slice()},h.range=function(x){return arguments.length?(t=Array.from(x),g()):t.slice()},h.rangeRound=function(x){return t=Array.from(x),a=Zw,g()},h.clamp=function(x){return arguments.length?(o=x?!0:dn,g()):o!==dn},h.interpolate=function(x){return arguments.length?(a=x,g()):a},h.unknown=function(x){return arguments.length?(i=x,h):i},function(x,b){return n=x,s=b,g()}}function Jw(){return Mp()(dn,dn)}function bZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nh(e,t){if((a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var a,n=e.slice(0,a);return[n.length>1?n[0]+n.slice(2):n,+e.slice(a+1)]}function mc(e){return e=Nh(Math.abs(e)),e?e[1]:NaN}function vZ(e,t){return function(a,n){for(var s=a.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(a.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function kZ(e){return function(t){return t.replace(/[0-9]/g,function(a){return e[+a]})}}var wZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sm(e){if(!(t=wZ.exec(e)))throw new Error("invalid format: "+e);var t;return new ej({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sm.prototype=ej.prototype;function ej(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ej.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jZ(e){e:for(var t=e.length,a=1,n=-1,s;a<t;++a)switch(e[a]){case".":n=s=a;break;case"0":n===0&&(n=a),s=a;break;default:if(!+e[a])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var aE;function NZ(e,t){var a=Nh(e,t);if(!a)return e+"";var n=a[0],s=a[1],i=s-(aE=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Nh(e,Math.max(0,t+i-1))[0]}function g5(e,t){var a=Nh(e,t);if(!a)return e+"";var n=a[0],s=a[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const h5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>g5(e*100,t),r:g5,s:NZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function p5(e){return e}var f5=Array.prototype.map,x5=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function CZ(e){var t=e.grouping===void 0||e.thousands===void 0?p5:vZ(f5.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?p5:kZ(f5.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=sm(h);var x=h.fill,b=h.align,y=h.sign,k=h.symbol,v=h.zero,j=h.width,S=h.comma,C=h.precision,P=h.trim,E=h.type;E==="n"?(S=!0,E="g"):h5[E]||(C===void 0&&(C=12),P=!0,E="g"),(v||x==="0"&&b==="=")&&(v=!0,x="0",b="=");var A=k==="$"?a:k==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",I=k==="$"?n:/[%p]/.test(E)?o:"",M=h5[E],F=/[defgprs%]/.test(E);C=C===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function Q(U){var V=A,K=I,Z,ie,te;if(E==="c")K=M(U)+K,U="";else{U=+U;var R=U<0||1/U<0;if(U=isNaN(U)?c:M(Math.abs(U),C),P&&(U=jZ(U)),R&&+U==0&&y!=="+"&&(R=!1),V=(R?y==="("?y:l:y==="-"||y==="("?"":y)+V,K=(E==="s"?x5[8+aE/3]:"")+K+(R&&y==="("?")":""),F){for(Z=-1,ie=U.length;++Z<ie;)if(te=U.charCodeAt(Z),48>te||te>57){K=(te===46?s+U.slice(Z+1):U.slice(Z))+K,U=U.slice(0,Z);break}}}S&&!v&&(U=t(U,1/0));var D=V.length+U.length+K.length,W=D<j?new Array(j-D+1).join(x):"";switch(S&&v&&(U=t(W+U,W.length?j-K.length:1/0),W=""),b){case"<":U=V+U+K+W;break;case"=":U=V+W+U+K;break;case"^":U=W.slice(0,D=W.length>>1)+V+U+K+W.slice(D);break;default:U=W+V+U+K;break}return i(U)}return Q.toString=function(){return h+""},Q}function g(h,x){var b=u((h=sm(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(mc(x)/3)))*3,k=Math.pow(10,-y),v=x5[8+y/3];return function(j){return b(k*j)+v}}return{format:u,formatPrefix:g}}var mg,tj,nE;SZ({thousands:",",grouping:[3],currency:["$",""]});function SZ(e){return mg=CZ(e),tj=mg.format,nE=mg.formatPrefix,mg}function PZ(e){return Math.max(0,-mc(Math.abs(e)))}function TZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mc(t)/3)))*3-mc(Math.abs(e)))}function AZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mc(t)-mc(e))+1}function sE(e,t,a,n){var s=Kv(e,t,a),i;switch(n=sm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=TZ(s,o))&&(n.precision=i),nE(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=AZ(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=PZ(s))&&(n.precision=i-(n.type==="%")*2);break}}return tj(n)}function Xo(e){var t=e.domain;return e.ticks=function(a){var n=t();return Vv(n[0],n[n.length-1],a??10)},e.tickFormat=function(a,n){var s=t();return sE(s[0],s[s.length-1],a??10,n)},e.nice=function(a){a==null&&(a=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,g=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);g-- >0;){if(u=Hv(o,l,a),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function iE(){var e=Jw();return e.copy=function(){return Om(e,iE())},ks.apply(e,arguments),Xo(e)}function oE(e){var t;function a(n){return n==null||isNaN(n=+n)?t:n}return a.invert=a,a.domain=a.range=function(n){return arguments.length?(e=Array.from(n,jh),a):e.slice()},a.unknown=function(n){return arguments.length?(t=n,a):t},a.copy=function(){return oE(e).unknown(t)},e=arguments.length?Array.from(e,jh):[0,1],Xo(a)}function lE(e,t){e=e.slice();var a=0,n=e.length-1,s=e[a],i=e[n],o;return i<s&&(o=a,a=n,n=o,o=s,s=i,i=o),e[a]=t.floor(s),e[n]=t.ceil(i),e}function y5(e){return Math.log(e)}function b5(e){return Math.exp(e)}function MZ(e){return-Math.log(-e)}function IZ(e){return-Math.exp(-e)}function EZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function OZ(e){return e===10?EZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function DZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function v5(e){return(t,a)=>-e(-t,a)}function rj(e){const t=e(y5,b5),a=t.domain;let n=10,s,i;function o(){return s=DZ(n),i=OZ(n),a()[0]<0?(s=v5(s),i=v5(i),e(MZ,IZ)):e(y5,b5),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(a(l),o()):a()},t.ticks=l=>{const c=a();let u=c[0],g=c[c.length-1];const h=g<u;h&&([u,g]=[g,u]);let x=s(u),b=s(g),y,k;const v=l==null?10:+l;let j=[];if(!(n%1)&&b-x<v){if(x=Math.floor(x),b=Math.ceil(b),u>0){for(;x<=b;++x)for(y=1;y<n;++y)if(k=x<0?y/i(-x):y*i(x),!(k<u)){if(k>g)break;j.push(k)}}else for(;x<=b;++x)for(y=n-1;y>=1;--y)if(k=x>0?y/i(-x):y*i(x),!(k<u)){if(k>g)break;j.push(k)}j.length*2<v&&(j=Vv(u,g,v))}else j=Vv(x,b,Math.min(b-x,v)).map(i);return h?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=sm(c)).precision==null&&(c.trim=!0),c=tj(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return g=>{let h=g/i(Math.round(s(g)));return h*n<n-.5&&(h*=n),h<=u?c(g):""}},t.nice=()=>a(lE(a(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function dE(){const e=rj(Mp()).domain([1,10]);return e.copy=()=>Om(e,dE()).base(e.base()),ks.apply(e,arguments),e}function k5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function w5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function aj(e){var t=1,a=e(k5(t),w5(t));return a.constant=function(n){return arguments.length?e(k5(t=+n),w5(t)):t},Xo(a)}function cE(){var e=aj(Mp());return e.copy=function(){return Om(e,cE()).constant(e.constant())},ks.apply(e,arguments)}function j5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function RZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $Z(e){return e<0?-e*e:e*e}function nj(e){var t=e(dn,dn),a=1;function n(){return a===1?e(dn,dn):a===.5?e(RZ,$Z):e(j5(a),j5(1/a))}return t.exponent=function(s){return arguments.length?(a=+s,n()):a},Xo(t)}function sj(){var e=nj(Mp());return e.copy=function(){return Om(e,sj()).exponent(e.exponent())},ks.apply(e,arguments),e}function BZ(){return sj.apply(null,arguments).exponent(.5)}function N5(e){return Math.sign(e)*e*e}function LZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function uE(){var e=Jw(),t=[0,1],a=!1,n;function s(i){var o=LZ(e(i));return isNaN(o)?n:a?Math.round(o):o}return s.invert=function(i){return e.invert(N5(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,jh)).map(N5)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(a=!!i,s):a},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return uE(e.domain(),t).round(a).clamp(e.clamp()).unknown(n)},ks.apply(s,arguments),Xo(s)}function mE(){var e=[],t=[],a=[],n;function s(){var o=0,l=Math.max(1,t.length);for(a=new Array(l-1);++o<l;)a[o-1]=UX(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Im(a,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?a[l-1]:e[0],l<a.length?a[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(_o),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return a.slice()},i.copy=function(){return mE().domain(e).range(t).unknown(n)},ks.apply(i,arguments)}function gE(){var e=0,t=1,a=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Im(n,c,0,a)]:i}function l(){var c=-1;for(n=new Array(a);++c<a;)n[c]=((c+1)*t-(c-a)*e)/(a+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(a=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=a?[n[a-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return gE().domain([e,t]).range(s).unknown(i)},ks.apply(Xo(o),arguments)}function hE(){var e=[.5],t=[0,1],a,n=1;function s(i){return i!=null&&i<=i?t[Im(e,i,0,n)]:a}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return hE().domain(e).range(t).unknown(a)},ks.apply(s,arguments)}const bb=new Date,vb=new Date;function ba(e,t,a,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>ba(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),a&&(s.count=(i,o)=>(bb.setTime(+i),vb.setTime(+o),e(bb),e(vb),Math.floor(a(bb,vb))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Ch=ba(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ch.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ba(t=>{t.setTime(Math.floor(t/e)*e)},(t,a)=>{t.setTime(+t+a*e)},(t,a)=>(a-t)/e):Ch);Ch.range;const Ei=1e3,ms=Ei*60,Oi=ms*60,Ki=Oi*24,ij=Ki*7,C5=Ki*30,kb=Ki*365,El=ba(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getUTCSeconds());El.range;const oj=ba(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ei)},(e,t)=>{e.setTime(+e+t*ms)},(e,t)=>(t-e)/ms,e=>e.getMinutes());oj.range;const lj=ba(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ms)},(e,t)=>(t-e)/ms,e=>e.getUTCMinutes());lj.range;const dj=ba(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ei-e.getMinutes()*ms)},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getHours());dj.range;const cj=ba(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getUTCHours());cj.range;const Dm=ba(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ms)/Ki,e=>e.getDate()-1);Dm.range;const Ip=ba(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ki,e=>e.getUTCDate()-1);Ip.range;const pE=ba(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ki,e=>Math.floor(e/Ki));pE.range;function od(e){return ba(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,a)=>{t.setDate(t.getDate()+a*7)},(t,a)=>(a-t-(a.getTimezoneOffset()-t.getTimezoneOffset())*ms)/ij)}const Ep=od(0),Sh=od(1),_Z=od(2),FZ=od(3),gc=od(4),zZ=od(5),UZ=od(6);Ep.range;Sh.range;_Z.range;FZ.range;gc.range;zZ.range;UZ.range;function ld(e){return ba(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a*7)},(t,a)=>(a-t)/ij)}const Op=ld(0),Ph=ld(1),qZ=ld(2),WZ=ld(3),hc=ld(4),VZ=ld(5),HZ=ld(6);Op.range;Ph.range;qZ.range;WZ.range;hc.range;VZ.range;HZ.range;const uj=ba(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());uj.range;const mj=ba(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mj.range;const Gi=ba(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ba(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,a)=>{t.setFullYear(t.getFullYear()+a*e)});Gi.range;const Qi=ba(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ba(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a*e)});Qi.range;function fE(e,t,a,n,s,i){const o=[[El,1,Ei],[El,5,5*Ei],[El,15,15*Ei],[El,30,30*Ei],[i,1,ms],[i,5,5*ms],[i,15,15*ms],[i,30,30*ms],[s,1,Oi],[s,3,3*Oi],[s,6,6*Oi],[s,12,12*Oi],[n,1,Ki],[n,2,2*Ki],[a,1,ij],[t,1,C5],[t,3,3*C5],[e,1,kb]];function l(u,g,h){const x=g<u;x&&([u,g]=[g,u]);const b=h&&typeof h.range=="function"?h:c(u,g,h),y=b?b.range(u,+g+1):[];return x?y.reverse():y}function c(u,g,h){const x=Math.abs(g-u)/h,b=Kw(([,,v])=>v).right(o,x);if(b===o.length)return e.every(Kv(u/kb,g/kb,h));if(b===0)return Ch.every(Math.max(Kv(u,g,h),1));const[y,k]=o[x/o[b-1][2]<o[b][2]/x?b-1:b];return y.every(k)}return[l,c]}const[KZ,GZ]=fE(Qi,mj,Op,pE,cj,lj),[QZ,YZ]=fE(Gi,uj,Ep,Dm,dj,oj);function wb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function jb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ju(e,t,a){return{y:e,m:t,d:a,H:0,M:0,S:0,L:0}}function XZ(e){var t=e.dateTime,a=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Nu(s),g=Cu(s),h=Nu(i),x=Cu(i),b=Nu(o),y=Cu(o),k=Nu(l),v=Cu(l),j=Nu(c),S=Cu(c),C={a:R,A:D,b:W,B:X,c:null,d:I5,e:I5,f:vJ,g:MJ,G:EJ,H:xJ,I:yJ,j:bJ,L:xE,m:kJ,M:wJ,p:B,q:H,Q:D5,s:R5,S:jJ,u:NJ,U:CJ,V:SJ,w:PJ,W:TJ,x:null,X:null,y:AJ,Y:IJ,Z:OJ,"%":O5},P={a:z,A:$,b:_,B:Y,c:null,d:E5,e:E5,f:BJ,g:KJ,G:QJ,H:DJ,I:RJ,j:$J,L:bE,m:LJ,M:_J,p:q,q:G,Q:D5,s:R5,S:FJ,u:zJ,U:UJ,V:qJ,w:WJ,W:VJ,x:null,X:null,y:HJ,Y:GJ,Z:YJ,"%":O5},E={a:Q,A:U,b:V,B:K,c:Z,d:A5,e:A5,f:gJ,g:T5,G:P5,H:M5,I:M5,j:dJ,L:mJ,m:lJ,M:cJ,p:F,q:oJ,Q:pJ,s:fJ,S:uJ,u:rJ,U:aJ,V:nJ,w:tJ,W:sJ,x:ie,X:te,y:T5,Y:P5,Z:iJ,"%":hJ};C.x=A(a,C),C.X=A(n,C),C.c=A(t,C),P.x=A(a,P),P.X=A(n,P),P.c=A(t,P);function A(ee,ue){return function(le){var ae=[],Be=-1,he=0,we=ee.length,De,Ze,pt;for(le instanceof Date||(le=new Date(+le));++Be<we;)ee.charCodeAt(Be)===37&&(ae.push(ee.slice(he,Be)),(Ze=S5[De=ee.charAt(++Be)])!=null?De=ee.charAt(++Be):Ze=De==="e"?" ":"0",(pt=ue[De])&&(De=pt(le,Ze)),ae.push(De),he=Be+1);return ae.push(ee.slice(he,Be)),ae.join("")}}function I(ee,ue){return function(le){var ae=ju(1900,void 0,1),Be=M(ae,ee,le+="",0),he,we;if(Be!=le.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(ue&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(he=jb(ju(ae.y,0,1)),we=he.getUTCDay(),he=we>4||we===0?Ph.ceil(he):Ph(he),he=Ip.offset(he,(ae.V-1)*7),ae.y=he.getUTCFullYear(),ae.m=he.getUTCMonth(),ae.d=he.getUTCDate()+(ae.w+6)%7):(he=wb(ju(ae.y,0,1)),we=he.getDay(),he=we>4||we===0?Sh.ceil(he):Sh(he),he=Dm.offset(he,(ae.V-1)*7),ae.y=he.getFullYear(),ae.m=he.getMonth(),ae.d=he.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),we="Z"in ae?jb(ju(ae.y,0,1)).getUTCDay():wb(ju(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(we+5)%7:ae.w+ae.U*7-(we+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,jb(ae)):wb(ae)}}function M(ee,ue,le,ae){for(var Be=0,he=ue.length,we=le.length,De,Ze;Be<he;){if(ae>=we)return-1;if(De=ue.charCodeAt(Be++),De===37){if(De=ue.charAt(Be++),Ze=E[De in S5?ue.charAt(Be++):De],!Ze||(ae=Ze(ee,le,ae))<0)return-1}else if(De!=le.charCodeAt(ae++))return-1}return ae}function F(ee,ue,le){var ae=u.exec(ue.slice(le));return ae?(ee.p=g.get(ae[0].toLowerCase()),le+ae[0].length):-1}function Q(ee,ue,le){var ae=b.exec(ue.slice(le));return ae?(ee.w=y.get(ae[0].toLowerCase()),le+ae[0].length):-1}function U(ee,ue,le){var ae=h.exec(ue.slice(le));return ae?(ee.w=x.get(ae[0].toLowerCase()),le+ae[0].length):-1}function V(ee,ue,le){var ae=j.exec(ue.slice(le));return ae?(ee.m=S.get(ae[0].toLowerCase()),le+ae[0].length):-1}function K(ee,ue,le){var ae=k.exec(ue.slice(le));return ae?(ee.m=v.get(ae[0].toLowerCase()),le+ae[0].length):-1}function Z(ee,ue,le){return M(ee,t,ue,le)}function ie(ee,ue,le){return M(ee,a,ue,le)}function te(ee,ue,le){return M(ee,n,ue,le)}function R(ee){return o[ee.getDay()]}function D(ee){return i[ee.getDay()]}function W(ee){return c[ee.getMonth()]}function X(ee){return l[ee.getMonth()]}function B(ee){return s[+(ee.getHours()>=12)]}function H(ee){return 1+~~(ee.getMonth()/3)}function z(ee){return o[ee.getUTCDay()]}function $(ee){return i[ee.getUTCDay()]}function _(ee){return c[ee.getUTCMonth()]}function Y(ee){return l[ee.getUTCMonth()]}function q(ee){return s[+(ee.getUTCHours()>=12)]}function G(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var ue=A(ee+="",C);return ue.toString=function(){return ee},ue},parse:function(ee){var ue=I(ee+="",!1);return ue.toString=function(){return ee},ue},utcFormat:function(ee){var ue=A(ee+="",P);return ue.toString=function(){return ee},ue},utcParse:function(ee){var ue=I(ee+="",!0);return ue.toString=function(){return ee},ue}}}var S5={"-":"",_:" ",0:"0"},Ia=/^\s*\d+/,ZZ=/^%/,JZ=/[\\^$*+?|[\]().{}]/g;function Xt(e,t,a){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<a?new Array(a-i+1).join(t)+s:s)}function eJ(e){return e.replace(JZ,"\\$&")}function Nu(e){return new RegExp("^(?:"+e.map(eJ).join("|")+")","i")}function Cu(e){return new Map(e.map((t,a)=>[t.toLowerCase(),a]))}function tJ(e,t,a){var n=Ia.exec(t.slice(a,a+1));return n?(e.w=+n[0],a+n[0].length):-1}function rJ(e,t,a){var n=Ia.exec(t.slice(a,a+1));return n?(e.u=+n[0],a+n[0].length):-1}function aJ(e,t,a){var n=Ia.exec(t.slice(a,a+2));return n?(e.U=+n[0],a+n[0].length):-1}function nJ(e,t,a){var n=Ia.exec(t.slice(a,a+2));return n?(e.V=+n[0],a+n[0].length):-1}function sJ(e,t,a){var n=Ia.exec(t.slice(a,a+2));return n?(e.W=+n[0],a+n[0].length):-1}function P5(e,t,a){var n=Ia.exec(t.slice(a,a+4));return n?(e.y=+n[0],a+n[0].length):-1}function T5(e,t,a){var n=Ia.exec(t.slice(a,a+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),a+n[0].length):-1}function iJ(e,t,a){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),a+n[0].length):-1}function oJ(e,t,a){var n=Ia.exec(t.slice(a,a+1));return n?(e.q=n[0]*3-3,a+n[0].length):-1}function lJ(e,t,a){var n=Ia.exec(t.slice(a,a+2));return n?(e.m=n[0]-1,a+n[0].length):-1}function A5(e,t,a){var n=Ia.exec(t.slice(a,a+2));return n?(e.d=+n[0],a+n[0].length):-1}function dJ(e,t,a){var n=Ia.exec(t.slice(a,a+3));return n?(e.m=0,e.d=+n[0],a+n[0].length):-1}function M5(e,t,a){var n=Ia.exec(t.slice(a,a+2));return n?(e.H=+n[0],a+n[0].length):-1}function cJ(e,t,a){var n=Ia.exec(t.slice(a,a+2));return n?(e.M=+n[0],a+n[0].length):-1}function uJ(e,t,a){var n=Ia.exec(t.slice(a,a+2));return n?(e.S=+n[0],a+n[0].length):-1}function mJ(e,t,a){var n=Ia.exec(t.slice(a,a+3));return n?(e.L=+n[0],a+n[0].length):-1}function gJ(e,t,a){var n=Ia.exec(t.slice(a,a+6));return n?(e.L=Math.floor(n[0]/1e3),a+n[0].length):-1}function hJ(e,t,a){var n=ZZ.exec(t.slice(a,a+1));return n?a+n[0].length:-1}function pJ(e,t,a){var n=Ia.exec(t.slice(a));return n?(e.Q=+n[0],a+n[0].length):-1}function fJ(e,t,a){var n=Ia.exec(t.slice(a));return n?(e.s=+n[0],a+n[0].length):-1}function I5(e,t){return Xt(e.getDate(),t,2)}function xJ(e,t){return Xt(e.getHours(),t,2)}function yJ(e,t){return Xt(e.getHours()%12||12,t,2)}function bJ(e,t){return Xt(1+Dm.count(Gi(e),e),t,3)}function xE(e,t){return Xt(e.getMilliseconds(),t,3)}function vJ(e,t){return xE(e,t)+"000"}function kJ(e,t){return Xt(e.getMonth()+1,t,2)}function wJ(e,t){return Xt(e.getMinutes(),t,2)}function jJ(e,t){return Xt(e.getSeconds(),t,2)}function NJ(e){var t=e.getDay();return t===0?7:t}function CJ(e,t){return Xt(Ep.count(Gi(e)-1,e),t,2)}function yE(e){var t=e.getDay();return t>=4||t===0?gc(e):gc.ceil(e)}function SJ(e,t){return e=yE(e),Xt(gc.count(Gi(e),e)+(Gi(e).getDay()===4),t,2)}function PJ(e){return e.getDay()}function TJ(e,t){return Xt(Sh.count(Gi(e)-1,e),t,2)}function AJ(e,t){return Xt(e.getFullYear()%100,t,2)}function MJ(e,t){return e=yE(e),Xt(e.getFullYear()%100,t,2)}function IJ(e,t){return Xt(e.getFullYear()%1e4,t,4)}function EJ(e,t){var a=e.getDay();return e=a>=4||a===0?gc(e):gc.ceil(e),Xt(e.getFullYear()%1e4,t,4)}function OJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xt(t/60|0,"0",2)+Xt(t%60,"0",2)}function E5(e,t){return Xt(e.getUTCDate(),t,2)}function DJ(e,t){return Xt(e.getUTCHours(),t,2)}function RJ(e,t){return Xt(e.getUTCHours()%12||12,t,2)}function $J(e,t){return Xt(1+Ip.count(Qi(e),e),t,3)}function bE(e,t){return Xt(e.getUTCMilliseconds(),t,3)}function BJ(e,t){return bE(e,t)+"000"}function LJ(e,t){return Xt(e.getUTCMonth()+1,t,2)}function _J(e,t){return Xt(e.getUTCMinutes(),t,2)}function FJ(e,t){return Xt(e.getUTCSeconds(),t,2)}function zJ(e){var t=e.getUTCDay();return t===0?7:t}function UJ(e,t){return Xt(Op.count(Qi(e)-1,e),t,2)}function vE(e){var t=e.getUTCDay();return t>=4||t===0?hc(e):hc.ceil(e)}function qJ(e,t){return e=vE(e),Xt(hc.count(Qi(e),e)+(Qi(e).getUTCDay()===4),t,2)}function WJ(e){return e.getUTCDay()}function VJ(e,t){return Xt(Ph.count(Qi(e)-1,e),t,2)}function HJ(e,t){return Xt(e.getUTCFullYear()%100,t,2)}function KJ(e,t){return e=vE(e),Xt(e.getUTCFullYear()%100,t,2)}function GJ(e,t){return Xt(e.getUTCFullYear()%1e4,t,4)}function QJ(e,t){var a=e.getUTCDay();return e=a>=4||a===0?hc(e):hc.ceil(e),Xt(e.getUTCFullYear()%1e4,t,4)}function YJ(){return"+0000"}function O5(){return"%"}function D5(e){return+e}function R5(e){return Math.floor(+e/1e3)}var Rd,kE,wE;XJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function XJ(e){return Rd=XZ(e),kE=Rd.format,Rd.parse,wE=Rd.utcFormat,Rd.utcParse,Rd}function ZJ(e){return new Date(e)}function JJ(e){return e instanceof Date?+e:+new Date(+e)}function gj(e,t,a,n,s,i,o,l,c,u){var g=Jw(),h=g.invert,x=g.domain,b=u(".%L"),y=u(":%S"),k=u("%I:%M"),v=u("%I %p"),j=u("%a %d"),S=u("%b %d"),C=u("%B"),P=u("%Y");function E(A){return(c(A)<A?b:l(A)<A?y:o(A)<A?k:i(A)<A?v:n(A)<A?s(A)<A?j:S:a(A)<A?C:P)(A)}return g.invert=function(A){return new Date(h(A))},g.domain=function(A){return arguments.length?x(Array.from(A,JJ)):x().map(ZJ)},g.ticks=function(A){var I=x();return e(I[0],I[I.length-1],A??10)},g.tickFormat=function(A,I){return I==null?E:u(I)},g.nice=function(A){var I=x();return(!A||typeof A.range!="function")&&(A=t(I[0],I[I.length-1],A??10)),A?x(lE(I,A)):g},g.copy=function(){return Om(g,gj(e,t,a,n,s,i,o,l,c,u))},g}function eee(){return ks.apply(gj(QZ,YZ,Gi,uj,Ep,Dm,dj,oj,El,kE).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tee(){return ks.apply(gj(KZ,GZ,Qi,mj,Op,Ip,cj,lj,El,wE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dp(){var e=0,t=1,a,n,s,i,o=dn,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(s===0?.5:(h=(i(h)-a)*s,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,a=i(e=+e),n=i(t=+t),s=a===n?0:1/(n-a),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function g(h){return function(x){var b,y;return arguments.length?([b,y]=x,o=h(b,y),u):[o(0),o(1)]}}return u.range=g(Tc),u.rangeRound=g(Zw),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,a=h(e),n=h(t),s=a===n?0:1/(n-a),u}}function Zo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function jE(){var e=Xo(Dp()(dn));return e.copy=function(){return Zo(e,jE())},Ji.apply(e,arguments)}function NE(){var e=rj(Dp()).domain([1,10]);return e.copy=function(){return Zo(e,NE()).base(e.base())},Ji.apply(e,arguments)}function CE(){var e=aj(Dp());return e.copy=function(){return Zo(e,CE()).constant(e.constant())},Ji.apply(e,arguments)}function hj(){var e=nj(Dp());return e.copy=function(){return Zo(e,hj()).exponent(e.exponent())},Ji.apply(e,arguments)}function ree(){return hj.apply(null,arguments).exponent(.5)}function SE(){var e=[],t=dn;function a(n){if(n!=null&&!isNaN(n=+n))return t((Im(e,n,1)-1)/(e.length-1))}return a.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(_o),a},a.interpolator=function(n){return arguments.length?(t=n,a):t},a.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},a.quantiles=function(n){return Array.from({length:n+1},(s,i)=>zX(e,i/n))},a.copy=function(){return SE(t).domain(e)},Ji.apply(a,arguments)}function Rp(){var e=0,t=.5,a=1,n=1,s,i,o,l,c,u=dn,g,h=!1,x;function b(k){return isNaN(k=+k)?x:(k=.5+((k=+g(k))-i)*(n*k<n*i?l:c),u(h?Math.max(0,Math.min(1,k)):k))}b.domain=function(k){return arguments.length?([e,t,a]=k,s=g(e=+e),i=g(t=+t),o=g(a=+a),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,b):[e,t,a]},b.clamp=function(k){return arguments.length?(h=!!k,b):h},b.interpolator=function(k){return arguments.length?(u=k,b):u};function y(k){return function(v){var j,S,C;return arguments.length?([j,S,C]=v,u=hZ(k,[j,S,C]),b):[u(0),u(.5),u(1)]}}return b.range=y(Tc),b.rangeRound=y(Zw),b.unknown=function(k){return arguments.length?(x=k,b):x},function(k){return g=k,s=k(e),i=k(t),o=k(a),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,b}}function PE(){var e=Xo(Rp()(dn));return e.copy=function(){return Zo(e,PE())},Ji.apply(e,arguments)}function TE(){var e=rj(Rp()).domain([.1,1,10]);return e.copy=function(){return Zo(e,TE()).base(e.base())},Ji.apply(e,arguments)}function AE(){var e=aj(Rp());return e.copy=function(){return Zo(e,AE()).constant(e.constant())},Ji.apply(e,arguments)}function pj(){var e=nj(Rp());return e.copy=function(){return Zo(e,pj()).exponent(e.exponent())},Ji.apply(e,arguments)}function aee(){return pj.apply(null,arguments).exponent(.5)}const Tu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qw,scaleDiverging:PE,scaleDivergingLog:TE,scaleDivergingPow:pj,scaleDivergingSqrt:aee,scaleDivergingSymlog:AE,scaleIdentity:oE,scaleImplicit:Gv,scaleLinear:iE,scaleLog:dE,scaleOrdinal:Gw,scalePoint:WX,scalePow:sj,scaleQuantile:mE,scaleQuantize:gE,scaleRadial:uE,scaleSequential:jE,scaleSequentialLog:NE,scaleSequentialPow:hj,scaleSequentialQuantile:SE,scaleSequentialSqrt:ree,scaleSequentialSymlog:CE,scaleSqrt:BZ,scaleSymlog:cE,scaleThreshold:hE,scaleTime:eee,scaleUtc:tee,tickFormat:sE},Symbol.toStringTag,{value:"Module"}));var dd=e=>e.chartData,fj=Ne([dd],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),xj=(e,t,a,n)=>n?fj(e):dd(e);function pc(e){if(Array.isArray(e)&&e.length===2){var[t,a]=e;if(un(t)&&un(a))return!0}return!1}function $5(e,t,a){return a?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function nee(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[a,n]=e,s,i;if(un(a))s=a;else if(typeof a=="function")return;if(un(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(pc(o))return o}}function see(e,t,a){if(!(!a&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,a);if(pc(n))return $5(n,t,a)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,l;if(s==="auto")t!=null&&(o=Math.min(...t));else if(Je(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t?.[0]))}catch{}else if(typeof s=="string"&&jP.test(s)){var c=jP.exec(s);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t?.[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(Je(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t?.[1]))}catch{}else if(typeof i=="string"&&NP.test(i)){var g=NP.exec(i);if(g==null||t==null)l=void 0;else{var h=+g[1];l=t[1]+h}}else l=t?.[1];var x=[o,l];if(pc(x))return t==null?x:$5(x,t,a)}}}var Ac=1e9,iee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bj,Tr=!0,xs="[DecimalError] ",Wl=xs+"Invalid argument: ",yj=xs+"Exponent out of range: ",Mc=Math.floor,kl=Math.pow,oee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fn,Sa=1e7,jr=7,ME=9007199254740991,Th=Mc(ME/jr),tt={};tt.absoluteValue=tt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};tt.comparedTo=tt.cmp=function(e){var t,a,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,a=n<s?n:s;t<a;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};tt.decimalPlaces=tt.dp=function(){var e=this,t=e.d.length-1,a=(t-e.e)*jr;if(t=e.d[t],t)for(;t%10==0;t/=10)a--;return a<0?0:a};tt.dividedBy=tt.div=function(e){return _i(this,new this.constructor(e))};tt.dividedToIntegerBy=tt.idiv=function(e){var t=this,a=t.constructor;return hr(_i(t,new a(e),0,1),a.precision)};tt.equals=tt.eq=function(e){return!this.cmp(e)};tt.exponent=function(){return ca(this)};tt.greaterThan=tt.gt=function(e){return this.cmp(e)>0};tt.greaterThanOrEqualTo=tt.gte=function(e){return this.cmp(e)>=0};tt.isInteger=tt.isint=function(){return this.e>this.d.length-2};tt.isNegative=tt.isneg=function(){return this.s<0};tt.isPositive=tt.ispos=function(){return this.s>0};tt.isZero=function(){return this.s===0};tt.lessThan=tt.lt=function(e){return this.cmp(e)<0};tt.lessThanOrEqualTo=tt.lte=function(e){return this.cmp(e)<1};tt.logarithm=tt.log=function(e){var t,a=this,n=a.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Fn))throw Error(xs+"NaN");if(a.s<1)throw Error(xs+(a.s?"NaN":"-Infinity"));return a.eq(Fn)?new n(0):(Tr=!1,t=_i(im(a,i),im(e,i),i),Tr=!0,hr(t,s))};tt.minus=tt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OE(t,e):IE(t,(e.s=-e.s,e))};tt.modulo=tt.mod=function(e){var t,a=this,n=a.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(xs+"NaN");return a.s?(Tr=!1,t=_i(a,e,0,1).times(e),Tr=!0,a.minus(t)):hr(new n(a),s)};tt.naturalExponential=tt.exp=function(){return EE(this)};tt.naturalLogarithm=tt.ln=function(){return im(this)};tt.negated=tt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};tt.plus=tt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?IE(t,e):OE(t,(e.s=-e.s,e))};tt.precision=tt.sd=function(e){var t,a,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wl+e);if(t=ca(s)+1,n=s.d.length-1,a=n*jr+1,n=s.d[n],n){for(;n%10==0;n/=10)a--;for(n=s.d[0];n>=10;n/=10)a++}return e&&t>a?t:a};tt.squareRoot=tt.sqrt=function(){var e,t,a,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(xs+"NaN")}for(e=ca(l),Tr=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=ti(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Mc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),a=c.precision,s=o=a+3;;)if(i=n,n=i.plus(_i(l,i,o+2)).times(.5),ti(i.d).slice(0,o)===(t=ti(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(hr(i,a+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Tr=!0,hr(n,a)};tt.times=tt.mul=function(e){var t,a,n,s,i,o,l,c,u,g=this,h=g.constructor,x=g.d,b=(e=new h(e)).d;if(!g.s||!e.s)return new h(0);for(e.s*=g.s,a=g.e+e.e,c=x.length,u=b.length,c<u&&(i=x,x=b,b=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+b[n]*x[s-n-1]+t,i[s--]=l%Sa|0,t=l/Sa|0;i[s]=(i[s]+t)%Sa|0}for(;!i[--o];)i.pop();return t?++a:i.shift(),e.d=i,e.e=a,Tr?hr(e,h.precision):e};tt.toDecimalPlaces=tt.todp=function(e,t){var a=this,n=a.constructor;return a=new n(a),e===void 0?a:(ui(e,0,Ac),t===void 0?t=n.rounding:ui(t,0,8),hr(a,e+ca(a)+1,t))};tt.toExponential=function(e,t){var a,n=this,s=n.constructor;return e===void 0?a=td(n,!0):(ui(e,0,Ac),t===void 0?t=s.rounding:ui(t,0,8),n=hr(new s(n),e+1,t),a=td(n,!0,e+1)),a};tt.toFixed=function(e,t){var a,n,s=this,i=s.constructor;return e===void 0?td(s):(ui(e,0,Ac),t===void 0?t=i.rounding:ui(t,0,8),n=hr(new i(s),e+ca(s)+1,t),a=td(n.abs(),!1,e+ca(n)+1),s.isneg()&&!s.isZero()?"-"+a:a)};tt.toInteger=tt.toint=function(){var e=this,t=e.constructor;return hr(new t(e),ca(e)+1,t.rounding)};tt.toNumber=function(){return+this};tt.toPower=tt.pow=function(e){var t,a,n,s,i,o,l=this,c=l.constructor,u=12,g=+(e=new c(e));if(!e.s)return new c(Fn);if(l=new c(l),!l.s){if(e.s<1)throw Error(xs+"Infinity");return l}if(l.eq(Fn))return l;if(n=c.precision,e.eq(Fn))return hr(l,n);if(t=e.e,a=e.d.length-1,o=t>=a,i=l.s,o){if((a=g<0?-g:g)<=ME){for(s=new c(Fn),t=Math.ceil(n/jr+4),Tr=!1;a%2&&(s=s.times(l),L5(s.d,t)),a=Mc(a/2),a!==0;)l=l.times(l),L5(l.d,t);return Tr=!0,e.s<0?new c(Fn).div(s):hr(s,n)}}else if(i<0)throw Error(xs+"NaN");return i=i<0&&e.d[Math.max(t,a)]&1?-1:1,l.s=1,Tr=!1,s=e.times(im(l,n+u)),Tr=!0,s=EE(s),s.s=i,s};tt.toPrecision=function(e,t){var a,n,s=this,i=s.constructor;return e===void 0?(a=ca(s),n=td(s,a<=i.toExpNeg||a>=i.toExpPos)):(ui(e,1,Ac),t===void 0?t=i.rounding:ui(t,0,8),s=hr(new i(s),e,t),a=ca(s),n=td(s,e<=a||a<=i.toExpNeg,e)),n};tt.toSignificantDigits=tt.tosd=function(e,t){var a=this,n=a.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ui(e,1,Ac),t===void 0?t=n.rounding:ui(t,0,8)),hr(new n(a),e,t)};tt.toString=tt.valueOf=tt.val=tt.toJSON=tt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ca(e),a=e.constructor;return td(e,t<=a.toExpNeg||t>=a.toExpPos)};function IE(e,t){var a,n,s,i,o,l,c,u,g=e.constructor,h=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),Tr?hr(t,h):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(h/jr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),a=0;i;)a=(c[--i]=c[i]+u[i]+a)/Sa|0,c[i]%=Sa;for(a&&(c.unshift(a),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Tr?hr(t,h):t}function ui(e,t,a){if(e!==~~e||e<t||e>a)throw Error(Wl+e)}function ti(e){var t,a,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",a=jr-n.length,a&&(i+=Oo(a)),i+=n;o=e[t],n=o+"",a=jr-n.length,a&&(i+=Oo(a))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var _i=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Sa|0,o=i/Sa|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function a(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Sa+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,g,h,x,b,y,k,v,j,S,C,P,E,A,I,M,F=n.constructor,Q=n.s==s.s?1:-1,U=n.d,V=s.d;if(!n.s)return new F(n);if(!s.s)throw Error(xs+"Division by zero");for(c=n.e-s.e,I=V.length,E=U.length,b=new F(Q),y=b.d=[],u=0;V[u]==(U[u]||0);)++u;if(V[u]>(U[u]||0)&&--c,i==null?S=i=F.precision:o?S=i+(ca(n)-ca(s))+1:S=i,S<0)return new F(0);if(S=S/jr+2|0,u=0,I==1)for(g=0,V=V[0],S++;(u<E||g)&&S--;u++)C=g*Sa+(U[u]||0),y[u]=C/V|0,g=C%V|0;else{for(g=Sa/(V[0]+1)|0,g>1&&(V=e(V,g),U=e(U,g),I=V.length,E=U.length),P=I,k=U.slice(0,I),v=k.length;v<I;)k[v++]=0;M=V.slice(),M.unshift(0),A=V[0],V[1]>=Sa/2&&++A;do g=0,l=t(V,k,I,v),l<0?(j=k[0],I!=v&&(j=j*Sa+(k[1]||0)),g=j/A|0,g>1?(g>=Sa&&(g=Sa-1),h=e(V,g),x=h.length,v=k.length,l=t(h,k,x,v),l==1&&(g--,a(h,I<x?M:V,x))):(g==0&&(l=g=1),h=V.slice()),x=h.length,x<v&&h.unshift(0),a(k,h,v),l==-1&&(v=k.length,l=t(V,k,I,v),l<1&&(g++,a(k,I<v?M:V,v))),v=k.length):l===0&&(g++,k=[0]),y[u++]=g,l&&k[0]?k[v++]=U[P]||0:(k=[U[P]],v=1);while((P++<E||k[0]!==void 0)&&S--)}return y[0]||y.shift(),b.e=c,hr(b,o?i+ca(b)+1:i)}}();function EE(e,t){var a,n,s,i,o,l,c=0,u=0,g=e.constructor,h=g.precision;if(ca(e)>16)throw Error(yj+ca(e));if(!e.s)return new g(Fn);for(Tr=!1,l=h,o=new g(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(kl(2,u))/Math.LN10*2+5|0,l+=n,a=s=i=new g(Fn),g.precision=l;;){if(s=hr(s.times(e),l),a=a.times(++c),o=i.plus(_i(s,a,l)),ti(o.d).slice(0,l)===ti(i.d).slice(0,l)){for(;u--;)i=hr(i.times(i),l);return g.precision=h,t==null?(Tr=!0,hr(i,h)):i}i=o}}function ca(e){for(var t=e.e*jr,a=e.d[0];a>=10;a/=10)t++;return t}function Nb(e,t,a){if(t>e.LN10.sd())throw Tr=!0,a&&(e.precision=a),Error(xs+"LN10 precision limit exceeded");return hr(new e(e.LN10),t)}function Oo(e){for(var t="";e--;)t+="0";return t}function im(e,t){var a,n,s,i,o,l,c,u,g,h=1,x=10,b=e,y=b.d,k=b.constructor,v=k.precision;if(b.s<1)throw Error(xs+(b.s?"NaN":"-Infinity"));if(b.eq(Fn))return new k(0);if(t==null?(Tr=!1,u=v):u=t,b.eq(10))return t==null&&(Tr=!0),Nb(k,u);if(u+=x,k.precision=u,a=ti(y),n=a.charAt(0),i=ca(b),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&a.charAt(1)>3;)b=b.times(e),a=ti(b.d),n=a.charAt(0),h++;i=ca(b),n>1?(b=new k("0."+a),i++):b=new k(n+"."+a.slice(1))}else return c=Nb(k,u+2,v).times(i+""),b=im(new k(n+"."+a.slice(1)),u-x).plus(c),k.precision=v,t==null?(Tr=!0,hr(b,v)):b;for(l=o=b=_i(b.minus(Fn),b.plus(Fn),u),g=hr(b.times(b),u),s=3;;){if(o=hr(o.times(g),u),c=l.plus(_i(o,new k(s),u)),ti(c.d).slice(0,u)===ti(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Nb(k,u+2,v).times(i+""))),l=_i(l,new k(h),u),k.precision=v,t==null?(Tr=!0,hr(l,v)):l;l=c,s+=2}}function B5(e,t){var a,n,s;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(a<0&&(a=n),a+=+t.slice(n+1),t=t.substring(0,n)):a<0&&(a=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,a=a-n-1,e.e=Mc(a/jr),e.d=[],n=(a+1)%jr,a<0&&(n+=jr),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=jr;n<s;)e.d.push(+t.slice(n,n+=jr));t=t.slice(n),n=jr-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Tr&&(e.e>Th||e.e<-Th))throw Error(yj+a)}else e.s=0,e.e=0,e.d=[0];return e}function hr(e,t,a){var n,s,i,o,l,c,u,g,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=jr,s=t,u=h[g=0];else{if(g=Math.ceil((n+1)/jr),i=h.length,g>=i)return e;for(u=i=h[g],o=1;i>=10;i/=10)o++;n%=jr,s=n-jr+o}if(a!==void 0&&(i=kl(10,o-s-1),l=u/i%10|0,c=t<0||h[g+1]!==void 0||u%i,c=a<4?(l||c)&&(a==0||a==(e.s<0?3:2)):l>5||l==5&&(a==4||c||a==6&&(n>0?s>0?u/kl(10,o-s):0:h[g-1])%10&1||a==(e.s<0?8:7))),t<1||!h[0])return c?(i=ca(e),h.length=1,t=t-i-1,h[0]=kl(10,(jr-t%jr)%jr),e.e=Mc(-t/jr)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=g,i=1,g--):(h.length=g+1,i=kl(10,jr-n),h[g]=s>0?(u/kl(10,o-s)%kl(10,s)|0)*i:0),c)for(;;)if(g==0){(h[0]+=i)==Sa&&(h[0]=1,++e.e);break}else{if(h[g]+=i,h[g]!=Sa)break;h[g--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(Tr&&(e.e>Th||e.e<-Th))throw Error(yj+ca(e));return e}function OE(e,t){var a,n,s,i,o,l,c,u,g,h,x=e.constructor,b=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Tr?hr(t,b):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(g=o<0,g?(a=c,o=-o,l=h.length):(a=h,n=u,l=c.length),s=Math.max(Math.ceil(b/jr),l)+2,o>s&&(o=s,a.length=1),a.reverse(),s=o;s--;)a.push(0);a.reverse()}else{for(s=c.length,l=h.length,g=s<l,g&&(l=s),s=0;s<l;s++)if(c[s]!=h[s]){g=c[s]<h[s];break}o=0}for(g&&(a=c,c=h,h=a,t.s=-t.s),l=c.length,s=h.length-l;s>0;--s)c[l++]=0;for(s=h.length;s>o;){if(c[--s]<h[s]){for(i=s;i&&c[--i]===0;)c[i]=Sa-1;--c[i],c[s]+=Sa}c[s]-=h[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Tr?hr(t,b):t):new x(0)}function td(e,t,a){var n,s=ca(e),i=ti(e.d),o=i.length;return t?(a&&(n=a-o)>0?i=i.charAt(0)+"."+i.slice(1)+Oo(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Oo(-s-1)+i,a&&(n=a-o)>0&&(i+=Oo(n))):s>=o?(i+=Oo(s+1-o),a&&(n=a-s-1)>0&&(i=i+"."+Oo(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),a&&(n=a-o)>0&&(s+1===o&&(i+="."),i+=Oo(n))),e.s<0?"-"+i:i}function L5(e,t){if(e.length>t)return e.length=t,!0}function DE(e){var t,a,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Wl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return B5(o,i.toString())}else if(typeof i!="string")throw Error(Wl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,oee.test(i))B5(o,i);else throw Error(Wl+i)}if(s.prototype=tt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=DE,s.config=s.set=lee,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(a=n[t++])||(e[a]=this[a]);return s.config(e),s}function lee(e){if(!e||typeof e!="object")throw Error(xs+"Object expected");var t,a,n,s=["precision",1,Ac,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[a=s[t]])!==void 0)if(Mc(n)===n&&n>=s[t+1]&&n<=s[t+2])this[a]=n;else throw Error(Wl+a+": "+n);if((n=e[a="LN10"])!==void 0)if(n==Math.LN10)this[a]=new this(n);else throw Error(Wl+a+": "+n);return this}var bj=DE(iee);Fn=new bj(1);const ir=bj;var dee=e=>e,RE={},$E=e=>e===RE,_5=e=>function t(){return arguments.length===0||arguments.length===1&&$E(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},BE=(e,t)=>e===1?t:_5(function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];var i=n.filter(o=>o!==RE).length;return i>=e?t(...n):BE(e-i,_5(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=n.map(g=>$E(g)?l.shift():g);return t(...u,...l)}))}),$p=e=>BE(e.length,e),Zv=(e,t)=>{for(var a=[],n=e;n<t;++n)a[n-e]=n;return a},cee=$p((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(a=>t[a]).map(e)),uee=function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];if(!a.length)return dee;var s=a.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},Jv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),LE=e=>{var t=null,a=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=s,a=e(...s)),a}};function _E(e){var t;return e===0?t=1:t=Math.floor(new ir(e).abs().log(10).toNumber())+1,t}function FE(e,t,a){for(var n=new ir(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(a),s++;return i}$p((e,t,a)=>{var n=+e,s=+t;return n+a*(s-n)});$p((e,t,a)=>{var n=t-+e;return n=n||1/0,(a-e)/n});$p((e,t,a)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(a-e)/n))});var zE=e=>{var[t,a]=e,[n,s]=[t,a];return t>a&&([n,s]=[a,t]),[n,s]},UE=(e,t,a)=>{if(e.lte(0))return new ir(0);var n=_E(e.toNumber()),s=new ir(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new ir(Math.ceil(i.div(o).toNumber())).add(a).mul(o),c=l.mul(s);return t?new ir(c.toNumber()):new ir(Math.ceil(c.toNumber()))},mee=(e,t,a)=>{var n=new ir(1),s=new ir(e);if(!s.isint()&&a){var i=Math.abs(e);i<1?(n=new ir(10).pow(_E(e)-1),s=new ir(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new ir(Math.floor(e)))}else e===0?s=new ir(Math.floor((t-1)/2)):a||(s=new ir(Math.floor(e)));var o=Math.floor((t-1)/2),l=uee(cee(c=>s.add(new ir(c-o).mul(n)).toNumber()),Zv);return l(0,t)},qE=function(t,a,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-t)/(n-1)))return{step:new ir(0),tickMin:new ir(0),tickMax:new ir(0)};var o=UE(new ir(a).sub(t).div(n-1),s,i),l;t<=0&&a>=0?l=new ir(0):(l=new ir(t).add(a).div(2),l=l.sub(new ir(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new ir(a).sub(l).div(o).toNumber()),g=c+u+1;return g>n?qE(t,a,n,s,i+1):(g<n&&(u=a>0?u+(n-g):u,c=a>0?c:c+(n-g)),{step:o,tickMin:l.sub(new ir(c).mul(o)),tickMax:l.add(new ir(u).mul(o))})};function gee(e){var[t,a]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=zE([t,a]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Zv(0,n-1).map(()=>1/0)]:[...Zv(0,n-1).map(()=>-1/0),l];return t>a?Jv(c):c}if(o===l)return mee(o,n,s);var{step:u,tickMin:g,tickMax:h}=qE(o,l,i,s,0),x=FE(g,h.add(new ir(.1).mul(u)),u);return t>a?Jv(x):x}function hee(e,t){var[a,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=zE([a,n]);if(i===-1/0||o===1/0)return[a,n];if(i===o)return[i];var l=Math.max(t,2),c=UE(new ir(o).sub(i).div(l-1),s,0),u=[...FE(new ir(i),new ir(o),c),o];return s===!1&&(u=u.map(g=>Math.round(g))),a>n?Jv(u):u}var pee=LE(gee),fee=LE(hee),xee=e=>e.rootProps.barCategoryGap,Rm=e=>e.rootProps.stackOffset,vj=e=>e.options.chartName,kj=e=>e.rootProps.syncId,WE=e=>e.rootProps.syncMethod,wj=e=>e.options.eventEmitter,Ti={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ln={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Bp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},yee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ti.angleAxisId,includeHidden:!1,name:void 0,reversed:Ti.reversed,scale:Ti.scale,tick:Ti.tick,tickCount:void 0,ticks:void 0,type:Ti.type,unit:void 0},bee={allowDataOverflow:Ln.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ln.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ln.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ln.scale,tick:Ln.tick,tickCount:Ln.tickCount,ticks:void 0,type:Ln.type,unit:void 0},vee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ti.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ti.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ti.scale,tick:Ti.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},kee={allowDataOverflow:Ln.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ln.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ln.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ln.scale,tick:Ln.tick,tickCount:Ln.tickCount,ticks:void 0,type:"category",unit:void 0},jj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?vee:yee,Nj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?kee:bee,Lp=e=>e.polarOptions,Cj=Ne([Xi,Zi,Ma],A6),VE=Ne([Lp,Cj],(e,t)=>{if(e!=null)return ps(e.innerRadius,t,0)}),HE=Ne([Lp,Cj],(e,t)=>{if(e!=null)return ps(e.outerRadius,t,t*.8)}),wee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:a}=e;return[t,a]},KE=Ne([Lp],wee);Ne([jj,KE],Bp);var GE=Ne([Cj,VE,HE],(e,t,a)=>{if(!(e==null||t==null||a==null))return[t,a]});Ne([Nj,GE],Bp);var jee=Ne([cr,Lp,VE,HE,Xi,Zi],(e,t,a,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||a==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:ps(o,s,s/2),cy:ps(l,i,i/2),innerRadius:a,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Zr=(e,t)=>t,$m=(e,t,a)=>a;function F5(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Ah(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(a),!0).forEach(function(n){Nee(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F5(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Nee(e,t,a){return(t=Cee(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Cee(e){var t=See(e,"string");return typeof t=="symbol"?t:t+""}function See(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ek=[0,"auto"],$n={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},eo=(e,t)=>{var a=e.cartesianAxis.xAxis[t];return a??$n},Bn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ek,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Sp},Jo=(e,t)=>{var a=e.cartesianAxis.yAxis[t];return a??Bn},Pee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Sj=(e,t)=>{var a=e.cartesianAxis.zAxis[t];return a??Pee},Jr=(e,t,a)=>{switch(t){case"xAxis":return eo(e,a);case"yAxis":return Jo(e,a);case"zAxis":return Sj(e,a);case"angleAxis":return jj(e,a);case"radiusAxis":return Nj(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},Tee=(e,t,a)=>{switch(t){case"xAxis":return eo(e,a);case"yAxis":return Jo(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},Bm=(e,t,a)=>{switch(t){case"xAxis":return eo(e,a);case"yAxis":return Jo(e,a);case"angleAxis":return jj(e,a);case"radiusAxis":return Nj(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},QE=e=>e.graphicalItems.countOfBars>0;function Pj(e,t){return a=>{switch(e){case"xAxis":return"xAxisId"in a&&a.xAxisId===t;case"yAxis":return"yAxisId"in a&&a.yAxisId===t;case"zAxis":return"zAxisId"in a&&a.zAxisId===t;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===t;default:return!1}}}var Tj=e=>e.graphicalItems.cartesianItems,Aee=Ne([Zr,$m],Pj),Aj=(e,t,a)=>e.filter(a).filter(n=>t?.includeHidden===!0?!0:!n.hide),Lm=Ne([Tj,Jr,Aee],Aj),YE=e=>e.filter(t=>t.stackId===void 0),Mee=Ne([Lm],YE),Mj=e=>e.map(t=>t.data).filter(Boolean).flat(1),Iee=Ne([Lm],Mj),Ij=(e,t)=>{var{chartData:a=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:a.slice(n,s+1)},_p=Ne([Iee,xj],Ij),Ej=(e,t,a)=>t?.dataKey!=null?e.map(n=>({value:Pr(n,t.dataKey)})):a.length>0?a.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:Pr(s,n)}))):e.map(n=>({value:n})),Fp=Ne([_p,Jr,Lm],Ej);function XE(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function cd(e){return e.filter(t=>ci(t)||t instanceof Date).map(Number).filter(t=>Hn(t)===!1)}function Eee(e,t,a){return!a||typeof t!="number"||Hn(t)?[]:a.length?cd(a.flatMap(n=>{var s=Pr(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!un(i)||!un(o)))return[t-i,t+o]})):[]}var ZE=(e,t,a)=>{var n={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[o,l]=i,c=l.map(u=>u.dataKey);return[o,{stackedData:DQ(e,c,a),graphicalItems:l}]}))},tk=Ne([_p,Lm,Rm],ZE),JE=(e,t,a)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(a!=="zAxis"){var i=BQ(e,n,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Oee=Ne([tk,dd,Zr],JE),eO=(e,t,a,n)=>a.length>0?e.flatMap(s=>a.flatMap(i=>{var o,l,c=(o=i.errorBars)===null||o===void 0?void 0:o.filter(g=>XE(n,g)),u=Pr(s,(l=t.dataKey)!==null&&l!==void 0?l:i.dataKey);return{value:u,errorDomain:Eee(s,u,c)}})).filter(Boolean):t?.dataKey!=null?e.map(s=>({value:Pr(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),Dee=Ne(_p,Jr,Mee,Zr,eO);function Ree(e){var{value:t}=e;if(ci(t)||t instanceof Date)return t}var $ee=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),a=cd(t);if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Bee=(e,t,a)=>{var n=e.map(Ree).filter(s=>s!=null);return a&&(t.dataKey==null||t.allowDuplicatedCategory&&SI(n))?Q6(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Oj=e=>{var t;if(e==null||!("domain"in e))return ek;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var a=cd(e.ticks);return[Math.min(...a),Math.max(...a)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:ek},Dj=function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];var s=a.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},tO=e=>e.referenceElements.dots,Ic=(e,t,a)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===a:n.yAxisId===a),Lee=Ne([tO,Zr,$m],Ic),rO=e=>e.referenceElements.areas,_ee=Ne([rO,Zr,$m],Ic),aO=e=>e.referenceElements.lines,Fee=Ne([aO,Zr,$m],Ic),nO=(e,t)=>{var a=cd(e.map(n=>t==="xAxis"?n.x:n.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},zee=Ne(Lee,Zr,nO),sO=(e,t)=>{var a=cd(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Uee=Ne([_ee,Zr],sO),iO=(e,t)=>{var a=cd(e.map(n=>t==="xAxis"?n.x:n.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},qee=Ne(Fee,Zr,iO),Wee=Ne(zee,qee,Uee,(e,t,a)=>Dj(e,a,t)),oO=Ne([Jr],Oj),Rj=(e,t,a,n,s)=>{var i=nee(t,e.allowDataOverflow);return i??see(t,Dj(a,s,$ee(n)),e.allowDataOverflow)},Vee=Ne([Jr,oO,Oee,Dee,Wee],Rj),Hee=[0,1],$j=(e,t,a,n,s,i,o)=>{if(!(e==null||a==null||a.length===0)){var{dataKey:l,type:c}=e,u=gi(t,i);return u&&l==null?Q6(0,a.length):c==="category"?Bee(n,e,u):s==="expand"?Hee:o}},Bj=Ne([Jr,cr,_p,Fp,Rm,Zr,Vee],$j),lO=(e,t,a,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Tm(i));return l in Tu?l:"point"}}},Ec=Ne([Jr,cr,QE,vj,Zr],lO);function Kee(e){if(e!=null){if(e in Tu)return Tu[e]();var t="scale".concat(Tm(e));if(t in Tu)return Tu[t]()}}function Lj(e,t,a,n){if(!(a==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(a).range(n);var s=Kee(t);if(s!=null){var i=s.domain(a).range(n);return MQ(i),i}}}var _j=(e,t,a)=>{var n=Oj(t);if(!(a!=="auto"&&a!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&pc(e))return pee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&pc(e))return fee(e,t.tickCount,t.allowDecimals)}},Fj=Ne([Bj,Bm,Ec],_j),zj=(e,t,a,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&pc(t)&&Array.isArray(a)&&a.length>0){var s=t[0],i=a[0],o=t[1],l=a[a.length-1];return[Math.min(s,i),Math.max(o,l)]}return t},Gee=Ne([Jr,Bj,Fj,Zr],zj),Qee=Ne(Fp,Jr,(e,t)=>{if(!(!t||t.type!=="number")){var a=1/0,n=Array.from(cd(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];a=Math.min(a,o)}return a/s}}),dO=Ne(Qee,cr,xee,Ma,(e,t,a,n)=>n,(e,t,a,n,s)=>{if(!un(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=ps(a,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),Yee=(e,t)=>{var a=eo(e,t);return a==null||typeof a.padding!="string"?0:dO(e,"xAxis",t,a.padding)},Xee=(e,t)=>{var a=Jo(e,t);return a==null||typeof a.padding!="string"?0:dO(e,"yAxis",t,a.padding)},Zee=Ne(eo,Yee,(e,t)=>{var a,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((a=s.left)!==null&&a!==void 0?a:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),Jee=Ne(Jo,Xee,(e,t)=>{var a,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((a=s.top)!==null&&a!==void 0?a:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),ete=Ne([Ma,Zee,Tp,Pp,(e,t,a)=>a],(e,t,a,n,s)=>{var{padding:i}=n;return s?[i.left,a.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),tte=Ne([Ma,cr,Jee,Tp,Pp,(e,t,a)=>a],(e,t,a,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-a.bottom,e.top+a.top]:[e.top+a.top,e.top+e.height-a.bottom]}),_m=(e,t,a,n)=>{var s;switch(t){case"xAxis":return ete(e,a,n);case"yAxis":return tte(e,a,n);case"zAxis":return(s=Sj(e,a))===null||s===void 0?void 0:s.range;case"angleAxis":return KE(e);case"radiusAxis":return GE(e,a);default:return}},cO=Ne([Jr,_m],Bp),Oc=Ne([Jr,Ec,Gee,cO],Lj);Ne(Lm,Zr,(e,t)=>e.flatMap(a=>{var n;return(n=a.errorBars)!==null&&n!==void 0?n:[]}).filter(a=>XE(t,a)));function uO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var zp=(e,t)=>t,Up=(e,t,a)=>a,rte=Ne(Fw,zp,Up,(e,t,a)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===a).sort(uO)),ate=Ne(zw,zp,Up,(e,t,a)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===a).sort(uO)),mO=(e,t)=>({width:e.width,height:t.height}),nte=(e,t)=>{var a=typeof t.width=="number"?t.width:Sp;return{width:a,height:e.height}},ste=Ne(Ma,eo,mO),ite=(e,t,a)=>{switch(t){case"top":return e.top;case"bottom":return a-e.bottom;default:return 0}},ote=(e,t,a)=>{switch(t){case"left":return e.left;case"right":return a-e.right;default:return 0}},lte=Ne(Zi,Ma,rte,zp,Up,(e,t,a,n,s)=>{var i={},o;return a.forEach(l=>{var c=mO(t,l);o==null&&(o=ite(t,n,e));var u=n==="top"&&!s||n==="bottom"&&s;i[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),dte=Ne(Xi,Ma,ate,zp,Up,(e,t,a,n,s)=>{var i={},o;return a.forEach(l=>{var c=nte(t,l);o==null&&(o=ote(t,n,e));var u=n==="left"&&!s||n==="right"&&s;i[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),cte=(e,t)=>{var a=Ma(e),n=eo(e,t);if(n!=null){var s=lte(e,n.orientation,n.mirror),i=s[t];return i==null?{x:a.left,y:0}:{x:a.left,y:i}}},ute=(e,t)=>{var a=Ma(e),n=Jo(e,t);if(n!=null){var s=dte(e,n.orientation,n.mirror),i=s[t];return i==null?{x:0,y:a.top}:{x:i,y:a.top}}},mte=Ne(Ma,Jo,(e,t)=>{var a=typeof t.width=="number"?t.width:Sp;return{width:a,height:e.height}}),gO=(e,t,a,n)=>{if(a!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=a,l=gi(e,n),c=t.map(u=>u.value);if(o&&l&&i==="category"&&s&&SI(c))return c}},Uj=Ne([cr,Fp,Jr,Zr],gO),hO=(e,t,a,n)=>{if(!(a==null||a.dataKey==null)){var{type:s,scale:i}=a,o=gi(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},qj=Ne([cr,Fp,Bm,Zr],hO),z5=Ne([cr,Tee,Ec,Oc,Uj,qj,_m,Fj,Zr],(e,t,a,n,s,i,o,l,c)=>{if(t==null)return null;var u=gi(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:u,niceTicks:l,range:o,realScaleType:a,scale:n}}),gte=(e,t,a,n,s,i,o,l,c)=>{if(!(t==null||n==null)){var u=gi(e,c),{type:g,ticks:h,tickCount:x}=t,b=a==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=g==="category"&&n.bandwidth?n.bandwidth()/b:0;y=c==="angleAxis"&&i!=null&&i.length>=2?Za(i[0]-i[1])*2*y:y;var k=h||s;if(k){var v=k.map((j,S)=>{var C=o?o.indexOf(j):j;return{index:S,coordinate:n(C)+y,value:j,offset:y}});return v.filter(j=>!Hn(j.coordinate))}return u&&l?l.map((j,S)=>({coordinate:n(j)+y,value:j,index:S,offset:y})):n.ticks?n.ticks(x).map(j=>({coordinate:n(j)+y,value:j,offset:y})):n.domain().map((j,S)=>({coordinate:n(j)+y,value:o?o[j]:j,index:S,offset:y}))}},pO=Ne([cr,Bm,Ec,Oc,Fj,_m,Uj,qj,Zr],gte),hte=(e,t,a,n,s,i,o)=>{if(!(t==null||a==null||n==null||n[0]===n[1])){var l=gi(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&n?.length>=2?Za(n[0]-n[1])*2*u:u,l&&i?i.map((g,h)=>({coordinate:a(g)+u,value:g,index:h,offset:u})):a.ticks?a.ticks(c).map(g=>({coordinate:a(g)+u,value:g,offset:u})):a.domain().map((g,h)=>({coordinate:a(g)+u,value:s?s[g]:g,index:h,offset:u}))}},qp=Ne([cr,Bm,Oc,_m,Uj,qj,Zr],hte),Dc=Ne(Jr,Oc,(e,t)=>{if(!(e==null||t==null))return Ah(Ah({},e),{},{scale:t})}),pte=Ne([Jr,Ec,Bj,cO],Lj);Ne((e,t,a)=>Sj(e,a),pte,(e,t)=>{if(!(e==null||t==null))return Ah(Ah({},e),{},{scale:t})});var fte=Ne([cr,Fw,zw],(e,t,a)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),fO=e=>e.options.defaultTooltipEventType,xO=e=>e.options.validateTooltipEventTypes;function yO(e,t,a){if(e==null)return t;var n=e?"axis":"item";return a==null?t:a.includes(n)?n:t}function Wj(e,t){var a=fO(e),n=xO(e);return yO(t,a,n)}function xte(e){return it(t=>Wj(t,e))}var bO=(e,t)=>{var a,n=Number(t);if(!(Hn(n)||t==null))return n>=0?e==null||(a=e[n])===null||a===void 0?void 0:a.value:void 0},yte=e=>e.tooltip.settings,Ro={active:!1,index:null,dataKey:void 0,coordinate:void 0},bte={itemInteraction:{click:Ro,hover:Ro},axisInteraction:{click:Ro,hover:Ro},keyboardInteraction:Ro,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},vO=bs({name:"tooltip",initialState:bte,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var a=Li(e).tooltipItemPayloads.indexOf(t.payload);a>-1&&e.tooltipItemPayloads.splice(a,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:vte,removeTooltipEntrySettings:kte,setTooltipSettingsState:wte,setActiveMouseOverItemIndex:kO,mouseLeaveItem:jte,mouseLeaveChart:wO,setActiveClickItemIndex:Nte,setMouseOverAxisIndex:jO,setMouseClickAxisIndex:Cte,setSyncInteraction:rk,setKeyboardInteraction:ak}=vO.actions,Ste=vO.reducer;function U5(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function gg(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?U5(Object(a),!0).forEach(function(n){Pte(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U5(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Pte(e,t,a){return(t=Tte(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Tte(e){var t=Ate(e,"string");return typeof t=="symbol"?t:t+""}function Ate(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mte(e,t,a){return t==="axis"?a==="click"?e.axisInteraction.click:e.axisInteraction.hover:a==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Ite(e){return e.index!=null}var NO=(e,t,a,n)=>{if(t==null)return Ro;var s=Mte(e,t,a);if(s==null)return Ro;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Ite(s)){if(i)return gg(gg({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return gg(gg({},Ro),{},{coordinate:s.coordinate})},Vj=(e,t)=>{var a=e?.index;if(a==null)return null;var n=Number(a);if(!un(n))return a;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(n,i)))},CO=(e,t,a,n,s,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var g=s?.[Number(i)];if(g)switch(a){case"horizontal":return{x:g.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:g.coordinate}}}},SO=(e,t,a,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return a==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},Fm=e=>e.options.tooltipPayloadSearcher,Rc=e=>e.tooltip;function q5(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function W5(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?q5(Object(a),!0).forEach(function(n){Ete(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q5(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Ete(e,t,a){return(t=Ote(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ote(e){var t=Dte(e,"string");return typeof t=="symbol"?t:t+""}function Dte(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rte(e,t,a){return Array.isArray(e)&&e&&t+a!==0?e.slice(t,a+1):e}function $te(e,t){return e??t}var PO=(e,t,a,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:g}=a,h=[];return e.reduce((x,b)=>{var y,{dataDefinedOnItem:k,settings:v}=b,j=$te(k,l),S=Rte(j,u,g),C=(y=v?.dataKey)!==null&&y!==void 0?y:n?.dataKey,P=v?.nameKey,E;if(n!=null&&n.dataKey&&Array.isArray(S)&&!Array.isArray(S[0])&&o==="axis"?E=PI(S,n.dataKey,s):E=i(S,t,c,P),Array.isArray(E))E.forEach(I=>{var M=W5(W5({},v),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});x.push(CP({tooltipEntrySettings:M,dataKey:I.dataKey,payload:I.payload,value:Pr(I.payload,I.dataKey),name:I.name}))});else{var A;x.push(CP({tooltipEntrySettings:v,dataKey:C,payload:E,value:Pr(E,C),name:(A=Pr(E,P))!==null&&A!==void 0?A:v?.name}))}return x},h)}},Ea=e=>{var t=cr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},$c=e=>e.tooltip.settings.axisId,za=e=>{var t=Ea(e),a=$c(e);return Bm(e,t,a)},Hj=Ne([za,cr,QE,vj,Ea],lO),Bte=Ne([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Lte=Ne([Ea,$c],Pj),Wp=Ne([Bte,za,Lte],Aj),_te=Ne([Wp],Mj),ud=Ne([_te,dd],Ij),Kj=Ne([ud,za,Wp],Ej),Fte=Ne([za],Oj),zte=Ne([ud,Wp,Rm],ZE),Ute=Ne([zte,dd,Ea],JE),qte=Ne([Wp],YE),Wte=Ne([ud,za,qte,Ea],eO),Vte=Ne([tO,Ea,$c],Ic),Hte=Ne([Vte,Ea],nO),Kte=Ne([rO,Ea,$c],Ic),Gte=Ne([Kte,Ea],sO),Qte=Ne([aO,Ea,$c],Ic),Yte=Ne([Qte,Ea],iO),Xte=Ne([Hte,Yte,Gte],Dj),Zte=Ne([za,Fte,Ute,Wte,Xte],Rj),TO=Ne([za,cr,ud,Kj,Rm,Ea,Zte],$j),Jte=Ne([TO,za,Hj],_j),ere=Ne([za,TO,Jte,Ea],zj),AO=e=>{var t=Ea(e),a=$c(e),n=!1;return _m(e,t,a,n)},MO=Ne([za,AO],Bp),IO=Ne([za,Hj,ere,MO],Lj),tre=Ne([cr,Kj,za,Ea],gO),rre=Ne([cr,Kj,za,Ea],hO),are=(e,t,a,n,s,i,o,l)=>{if(t){var{type:c}=t,u=gi(e,l);if(n){var g=a==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=c==="category"&&n.bandwidth?n.bandwidth()/g:0;return h=l==="angleAxis"&&s!=null&&s?.length>=2?Za(s[0]-s[1])*2*h:h,u&&o?o.map((x,b)=>({coordinate:n(x)+h,value:x,index:b,offset:h})):n.domain().map((x,b)=>({coordinate:n(x)+h,value:i?i[x]:x,index:b,offset:h}))}}},to=Ne([cr,za,Hj,IO,AO,tre,rre,Ea],are),Gj=Ne([fO,xO,yte],(e,t,a)=>yO(a.shared,e,t)),EO=e=>e.tooltip.settings.trigger,Qj=e=>e.tooltip.settings.defaultIndex,Vp=Ne([Rc,Gj,EO,Qj],NO),fc=Ne([Vp,ud],Vj),OO=Ne([to,fc],bO),nre=Ne([Vp],e=>{if(e)return e.dataKey}),DO=Ne([Rc,Gj,EO,Qj],SO),sre=Ne([Xi,Zi,cr,Ma,to,Qj,DO,Fm],CO),ire=Ne([Vp,sre],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),ore=Ne([Vp],e=>e.active),lre=Ne([DO,fc,dd,za,OO,Fm,Gj],PO),dre=Ne([lre],e=>{if(e!=null){var t=e.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(t))}});function V5(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function H5(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?V5(Object(a),!0).forEach(function(n){cre(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V5(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function cre(e,t,a){return(t=ure(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ure(e){var t=mre(e,"string");return typeof t=="symbol"?t:t+""}function mre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gre=()=>it(za),hre=()=>{var e=gre(),t=it(to),a=it(IO);return em(H5(H5({},e),{},{scale:a}),t)},RO=()=>it(vj),Yj=(e,t)=>t,$O=(e,t,a)=>a,Xj=(e,t,a,n)=>n,pre=Ne(to,e=>bp(e,t=>t.coordinate)),Zj=Ne([Rc,Yj,$O,Xj],NO),BO=Ne([Zj,ud],Vj),fre=(e,t,a)=>{if(t!=null){var n=Rc(e);return t==="axis"?a==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:a==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},LO=Ne([Rc,Yj,$O,Xj],SO),Mh=Ne([Xi,Zi,cr,Ma,to,Xj,LO,Fm],CO),xre=Ne([Zj,Mh],(e,t)=>{var a;return(a=e.coordinate)!==null&&a!==void 0?a:t}),_O=Ne(to,BO,bO),yre=Ne([LO,BO,dd,za,_O,Fm,Yj],PO),bre=Ne([Zj],e=>({isActive:e.active,activeIndex:e.index})),vre=(e,t,a,n,s,i,o,l)=>{if(!(!e||!t||!n||!s||!i)){var c=LQ(e.chartX,e.chartY,t,a,l);if(c){var u=FQ(c,t),g=TQ(u,o,i,n,s),h=_Q(t,i,g,c);return{activeIndex:String(g),activeCoordinate:h}}}};function nk(){return nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},nk.apply(null,arguments)}function K5(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function hg(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?K5(Object(a),!0).forEach(function(n){kre(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K5(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function kre(e,t,a){return(t=wre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function wre(e){var t=jre(e,"string");return typeof t=="symbol"?t:t+""}function jre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nre(e){var{coordinate:t,payload:a,index:n,offset:s,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,g=t,h=a,x=n;if(!l||!g||u!=="ScatterChart"&&c!=="axis")return null;var b,y;if(u==="ScatterChart")b=g,y=BY;else if(u==="BarChart")b=LY(o,g,s,i),y=V6;else if(o==="radial"){var{cx:k,cy:v,radius:j,startAngle:S,endAngle:C}=H6(g);b={cx:k,cy:v,startAngle:S,endAngle:C,innerRadius:j,outerRadius:j},y=G6}else b={points:NX(o,g,s)},y=Xd;var P=typeof l=="object"&&"className"in l?l.className:void 0,E=hg(hg(hg(hg({stroke:"#ccc",pointerEvents:"none"},s),b),It(l,!1)),{},{payload:h,payloadIndex:x,className:Gt("recharts-tooltip-cursor",P)});return p.isValidElement(l)?p.cloneElement(l,E):p.createElement(y,E)}function Cre(e){var t=hre(),a=B6(),n=Ap(),s=RO();return p.createElement(Nre,nk({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:a,layout:n,tooltipAxisBandSize:t,chartName:s}))}var FO=p.createContext(null),Sre=()=>p.useContext(FO),Cb={exports:{}},G5;function Pre(){return G5||(G5=1,function(e){var t=Object.prototype.hasOwnProperty,a="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(a=!1));function s(c,u,g){this.fn=c,this.context=u,this.once=g||!1}function i(c,u,g,h,x){if(typeof g!="function")throw new TypeError("The listener must be a function");var b=new s(g,h||c,x),y=a?a+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],b]:c._events[y].push(b):(c._events[y]=b,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],g,h;if(this._eventsCount===0)return u;for(h in g=this._events)t.call(g,h)&&u.push(a?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(g)):u},l.prototype.listeners=function(u){var g=a?a+u:u,h=this._events[g];if(!h)return[];if(h.fn)return[h.fn];for(var x=0,b=h.length,y=new Array(b);x<b;x++)y[x]=h[x].fn;return y},l.prototype.listenerCount=function(u){var g=a?a+u:u,h=this._events[g];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,g,h,x,b,y){var k=a?a+u:u;if(!this._events[k])return!1;var v=this._events[k],j=arguments.length,S,C;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),j){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,g),!0;case 3:return v.fn.call(v.context,g,h),!0;case 4:return v.fn.call(v.context,g,h,x),!0;case 5:return v.fn.call(v.context,g,h,x,b),!0;case 6:return v.fn.call(v.context,g,h,x,b,y),!0}for(C=1,S=new Array(j-1);C<j;C++)S[C-1]=arguments[C];v.fn.apply(v.context,S)}else{var P=v.length,E;for(C=0;C<P;C++)switch(v[C].once&&this.removeListener(u,v[C].fn,void 0,!0),j){case 1:v[C].fn.call(v[C].context);break;case 2:v[C].fn.call(v[C].context,g);break;case 3:v[C].fn.call(v[C].context,g,h);break;case 4:v[C].fn.call(v[C].context,g,h,x);break;default:if(!S)for(E=1,S=new Array(j-1);E<j;E++)S[E-1]=arguments[E];v[C].fn.apply(v[C].context,S)}}return!0},l.prototype.on=function(u,g,h){return i(this,u,g,h,!1)},l.prototype.once=function(u,g,h){return i(this,u,g,h,!0)},l.prototype.removeListener=function(u,g,h,x){var b=a?a+u:u;if(!this._events[b])return this;if(!g)return o(this,b),this;var y=this._events[b];if(y.fn)y.fn===g&&(!x||y.once)&&(!h||y.context===h)&&o(this,b);else{for(var k=0,v=[],j=y.length;k<j;k++)(y[k].fn!==g||x&&!y[k].once||h&&y[k].context!==h)&&v.push(y[k]);v.length?this._events[b]=v.length===1?v[0]:v:o(this,b)}return this},l.prototype.removeAllListeners=function(u){var g;return u?(g=a?a+u:u,this._events[g]&&o(this,g)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=a,l.EventEmitter=l,e.exports=l}(Cb)),Cb.exports}var Tre=Pre();const Are=zs(Tre);var om=new Are,sk="recharts.syncEvent.tooltip",Q5="recharts.syncEvent.brush";function Jj(e,t){if(t){var a=Number.parseInt(t,10);if(!Hn(a))return e?.[a]}}var Mre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},zO=bs({name:"options",initialState:Mre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ire=zO.reducer,{createEventEmitter:Ere}=zO.actions;function Ore(e){return e.tooltip.syncInteraction}var Dre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},UO=bs({name:"chartData",initialState:Dre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:a,endIndex:n}=t.payload;a!=null&&(e.dataStartIndex=a),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Y5,setDataStartEndIndexes:Rre,setComputedData:Kme}=UO.actions,$re=UO.reducer,qO=()=>{};function Bre(){var e=it(kj),t=it(wj),a=Br(),n=it(WE),s=it(to),i=Ap(),o=Uw(),l=it(c=>c.rootProps.className);p.useEffect(()=>{if(e==null)return qO;var c=(u,g,h)=>{if(t!==h&&e===u){if(n==="index"){a(g);return}if(s!=null){var x;if(typeof n=="function"){var b={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},y=n(s,b);x=s[y]}else n==="value"&&(x=s.find(A=>String(A.value)===g.payload.label));var{coordinate:k}=g.payload;if(x==null||g.payload.active===!1||k==null||o==null){a(rk({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y:j}=k,S=Math.min(v,o.x+o.width),C=Math.min(j,o.y+o.height),P={x:i==="horizontal"?x.coordinate:S,y:i==="horizontal"?C:x.coordinate},E=rk({active:g.payload.active,coordinate:P,dataKey:g.payload.dataKey,index:String(x.index),label:g.payload.label});a(E)}}};return om.on(sk,c),()=>{om.off(sk,c)}},[l,a,t,e,n,s,i,o])}function Lre(){var e=it(kj),t=it(wj),a=Br();p.useEffect(()=>{if(e==null)return qO;var n=(s,i,o)=>{t!==o&&e===s&&a(Rre(i))};return om.on(Q5,n),()=>{om.off(Q5,n)}},[a,t,e])}function _re(){var e=Br();p.useEffect(()=>{e(Ere())},[e]),Bre(),Lre()}function Fre(e,t,a,n,s,i){var o=it(x=>fre(x,e,t)),l=it(wj),c=it(kj),u=it(WE),g=it(Ore),h=g?.active;p.useEffect(()=>{if(!h&&c!=null&&l!=null){var x=rk({active:i,coordinate:a,dataKey:o,index:s,label:typeof n=="number"?String(n):n});om.emit(sk,c,x,l)}},[h,a,o,s,n,l,c,u,i])}function X5(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Z5(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?X5(Object(a),!0).forEach(function(n){zre(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X5(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function zre(e,t,a){return(t=Ure(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ure(e){var t=qre(e,"string");return typeof t=="symbol"?t:t+""}function qre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wre(e){return e.dataKey}function Vre(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(pY,t)}var J5=[],Hre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!id.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function eN(e){var t=vs(e,Hre),{active:a,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:g,position:h,reverseDirection:x,useTranslate3d:b,wrapperStyle:y,cursor:k,shared:v,trigger:j,defaultIndex:S,portal:C,axisId:P}=t,E=Br(),A=typeof S=="number"?String(S):S;p.useEffect(()=>{E(wte({shared:v,trigger:j,axisId:P,active:a,defaultIndex:A}))},[E,v,j,P,a,A]);var I=Uw(),M=z6(),F=xte(v),{activeIndex:Q,isActive:U}=it(_=>bre(_,F,j,A)),V=it(_=>yre(_,F,j,A)),K=it(_=>_O(_,F,j,A)),Z=it(_=>xre(_,F,j,A)),ie=V,te=Sre(),R=a??U,[D,W]=n6([ie,R]),X=F==="axis"?K:void 0;Fre(F,j,Z,X,Q,R);var B=C??te;if(B==null)return null;var H=ie??J5;R||(H=J5),l&&H.length&&(H=JI(ie.filter(_=>_.value!=null&&(_.hide!==!0||t.includeHidden)),g,Wre));var z=H.length>0,$=p.createElement(wY,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:c,active:R,coordinate:Z,hasPayload:z,offset:u,position:h,reverseDirection:x,useTranslate3d:b,viewBox:I,wrapperStyle:y,lastBoundingBox:D,innerRef:W,hasPortalFromProps:!!C},Vre(o,Z5(Z5({},t),{},{payload:H,label:X,active:R,coordinate:Z,accessibilityLayer:M})));return p.createElement(p.Fragment,null,Nl.createPortal($,B),R&&p.createElement(Cre,{cursor:k,tooltipEventType:F,coordinate:Z,payload:ie,index:Q}))}var Sb={},Pb={},Tb={},eT;function Kre(){return eT||(eT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,n,{signal:s,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),g=()=>{l!==null&&(a.apply(o,l),o=void 0,l=null)},h=()=>{u&&g(),k()};let x=null;const b=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,h()},n)},y=()=>{x!==null&&(clearTimeout(x),x=null)},k=()=>{y(),o=void 0,l=null},v=()=>{g()},j=function(...S){if(s?.aborted)return;o=this,l=S;const C=x==null;b(),c&&C&&g()};return j.schedule=b,j.cancel=k,j.flush=v,s?.addEventListener("abort",k,{once:!0}),j}e.debounce=t}(Tb)),Tb}var tT;function Gre(){return tT||(tT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kre();function a(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let g,h=null;const x=t.debounce(function(...k){g=n.apply(this,k),h=null},s,{edges:u}),b=function(...k){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(g=n.apply(this,k),h=Date.now(),x.cancel(),x.schedule(),g):(x.apply(this,k),g)},y=()=>(x.flush(),g);return b.cancel=x.cancel,b.flush=y,b}e.debounce=a}(Pb)),Pb}var rT;function Qre(){return rT||(rT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gre();function a(n,s=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,s,{leading:o,maxWait:s,trailing:l})}e.throttle=a}(Sb)),Sb}var Ab,aT;function Yre(){return aT||(aT=1,Ab=Qre().throttle),Ab}var Xre=Yre();const Zre=zs(Xre);var $u=function(t,a){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function nT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Mb(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(a),!0).forEach(function(n){Jre(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nT(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Jre(e,t,a){return(t=eae(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function eae(e){var t=tae(e,"string");return typeof t=="symbol"?t:t+""}function tae(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tN=p.forwardRef((e,t)=>{var{aspect:a,initialDimension:n={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:g=0,id:h,className:x,onResize:b,style:y={}}=e,k=p.useRef(null),v=p.useRef();v.current=b,p.useImperativeHandle(t,()=>k.current);var[j,S]=p.useState({containerWidth:n.width,containerHeight:n.height}),C=p.useCallback((E,A)=>{S(I=>{var M=Math.round(E),F=Math.round(A);return I.containerWidth===M&&I.containerHeight===F?I:{containerWidth:M,containerHeight:F}})},[]);p.useEffect(()=>{var E=F=>{var Q,{width:U,height:V}=F[0].contentRect;C(U,V),(Q=v.current)===null||Q===void 0||Q.call(v,U,V)};g>0&&(E=Zre(E,g,{trailing:!0,leading:!1}));var A=new ResizeObserver(E),{width:I,height:M}=k.current.getBoundingClientRect();return C(I,M),A.observe(k.current),()=>{A.disconnect()}},[C,g]);var P=p.useMemo(()=>{var{containerWidth:E,containerHeight:A}=j;if(E<0||A<0)return null;$u(Al(s)||Al(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),$u(!a||a>0,"The aspect(%s) must be greater than zero.",a);var I=Al(s)?E:s,M=Al(i)?A:i;return a&&a>0&&(I?M=I/a:M&&(I=M*a),c&&M>c&&(M=c)),$u(I>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,M,s,i,o,l,a),p.Children.map(u,F=>p.cloneElement(F,{width:I,height:M,style:Mb({width:I,height:M},F.props.style)}))},[a,u,i,c,l,o,j,s]);return p.createElement("div",{id:h?"".concat(h):void 0,className:Gt("recharts-responsive-container",x),style:Mb(Mb({},y),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:k},p.createElement("div",{style:{width:0,height:0,overflow:"visible"}},P))}),Hp=e=>null;Hp.displayName="Cell";function sT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function ik(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(a),!0).forEach(function(n){rae(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sT(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function rae(e,t,a){return(t=aae(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function aae(e){var t=nae(e,"string");return typeof t=="symbol"?t:t+""}function nae(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $d={widthCache:{},cacheCount:0},sae=2e3,iae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iT="recharts_measurement_span";function oae(e){var t=ik({},e);return Object.keys(t).forEach(a=>{t[a]||delete t[a]}),t}var Bu=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||id.isSsr)return{width:0,height:0};var n=oae(a),s=JSON.stringify({text:t,copyStyle:n});if($d.widthCache[s])return $d.widthCache[s];try{var i=document.getElementById(iT);i||(i=document.createElement("span"),i.setAttribute("id",iT),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=ik(ik({},iae),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return $d.widthCache[s]=c,++$d.cacheCount>sae&&($d.cacheCount=0,$d.widthCache={}),c}catch{return{width:0,height:0}}},oT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cae=Object.keys(WO),Vd="NaN";function uae(e,t){return e*WO[t]}class jn{static parse(t){var a,[,n,s]=(a=dae.exec(t))!==null&&a!==void 0?a:[];return new jn(parseFloat(n),s??"")}constructor(t,a){this.num=t,this.unit=a,this.num=t,this.unit=a,Hn(t)&&(this.unit=""),a!==""&&!lae.test(a)&&(this.num=NaN,this.unit=""),cae.includes(a)&&(this.num=uae(t,a),this.unit="px")}add(t){return this.unit!==t.unit?new jn(NaN,""):new jn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new jn(NaN,""):new jn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new jn(NaN,""):new jn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new jn(NaN,""):new jn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Hn(this.num)}}function VO(e){if(e.includes(Vd))return Vd;for(var t=e;t.includes("*")||t.includes("/");){var a,[,n,s,i]=(a=oT.exec(t))!==null&&a!==void 0?a:[],o=jn.parse(n??""),l=jn.parse(i??""),c=s==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Vd;t=t.replace(oT,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,g,h,x]=(u=lT.exec(t))!==null&&u!==void 0?u:[],b=jn.parse(g??""),y=jn.parse(x??""),k=h==="+"?b.add(y):b.subtract(y);if(k.isNaN())return Vd;t=t.replace(lT,k.toString())}return t}var dT=/\(([^()]*)\)/;function mae(e){for(var t=e,a;(a=dT.exec(t))!=null;){var[,n]=a;t=t.replace(dT,VO(n))}return t}function gae(e){var t=e.replace(/\s+/g,"");return t=mae(t),t=VO(t),t}function hae(e){try{return gae(e)}catch{return Vd}}function Ib(e){var t=hae(e.slice(5,-1));return t===Vd?"":t}var pae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fae=["dx","dy","angle","className","breakAll"];function ok(){return ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ok.apply(null,arguments)}function cT(e,t){if(e==null)return{};var a,n,s=xae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function xae(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var HO=/[ \f\n\r\t\v\u2028\u2029]+/,KO=e=>{var{children:t,breakAll:a,style:n}=e;try{var s=[];Rr(t)||(a?s=t.toString().split(""):s=t.toString().split(HO));var i=s.map(l=>({word:l,width:Bu(l,n).width})),o=a?0:Bu(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},yae=(e,t,a,n,s)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,u=Je(i),g=o,h=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce((V,K)=>{var{word:Z,width:ie}=K,te=V[V.length-1];if(te&&(n==null||s||te.width+ie+a<Number(n)))te.words.push(Z),te.width+=ie+a;else{var R={words:[Z],width:ie};V.push(R)}return V},[])},x=h(t),b=Q=>Q.reduce((U,V)=>U.width>V.width?U:V);if(!u||s)return x;var y=x.length>i||b(x).width>Number(n);if(!y)return x;for(var k="…",v=Q=>{var U=g.slice(0,Q),V=KO({breakAll:c,style:l,children:U+k}).wordsWithComputedWidth,K=h(V),Z=K.length>i||b(K).width>Number(n);return[Z,K]},j=0,S=g.length-1,C=0,P;j<=S&&C<=g.length-1;){var E=Math.floor((j+S)/2),A=E-1,[I,M]=v(A),[F]=v(E);if(!I&&!F&&(j=E+1),I&&F&&(S=E-1),!I&&F){P=M;break}C++}return P||x},uT=e=>{var t=Rr(e)?[]:e.toString().split(HO);return[{words:t}]},bae=e=>{var{width:t,scaleToFit:a,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||a)&&!id.isSsr){var l,c,u=KO({breakAll:i,children:n,style:s});if(u){var{wordsWithComputedWidth:g,spaceWidth:h}=u;l=g,c=h}else return uT(n);return yae({breakAll:i,children:n,maxLines:o,style:s},l,c,t,a)}return uT(n)},mT="#808080",Kp=p.forwardRef((e,t)=>{var{x:a=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=mT}=e,g=cT(e,pae),h=p.useMemo(()=>bae({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:o,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,o,g.style,g.width]),{dx:x,dy:b,angle:y,className:k,breakAll:v}=g,j=cT(g,fae);if(!ci(a)||!ci(n))return null;var S=a+(Je(x)?x:0),C=n+(Je(b)?b:0),P;switch(c){case"start":P=Ib("calc(".concat(i,")"));break;case"middle":P=Ib("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:P=Ib("calc(".concat(h.length-1," * -").concat(s,")"));break}var E=[];if(o){var A=h[0].width,{width:I}=g;E.push("scale(".concat(Je(I)?I/A:1,")"))}return y&&E.push("rotate(".concat(y,", ").concat(S,", ").concat(C,")")),E.length&&(j.transform=E.join(" ")),p.createElement("text",ok({},It(j,!0),{ref:t,x:S,y:C,className:Gt("recharts-text",k),textAnchor:l,fill:u.includes("url")?mT:u}),h.map((M,F)=>{var Q=M.words.join(v?"":" ");return p.createElement("tspan",{x:S,dy:F===0?P:s,key:"".concat(Q,"-").concat(F)},Q)}))});Kp.displayName="Text";var vae=["offset"],kae=["labelRef"];function gT(e,t){if(e==null)return{};var a,n,s=wae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function wae(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function hT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function aa(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(a),!0).forEach(function(n){jae(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hT(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function jae(e,t,a){return(t=Nae(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Nae(e){var t=Cae(e,"string");return typeof t=="symbol"?t:t+""}function Cae(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ai.apply(null,arguments)}var Sae=e=>{var{value:t,formatter:a}=e,n=Rr(e.children)?t:e.children;return typeof a=="function"?a(n):n},rN=e=>e!=null&&typeof e=="function",Pae=(e,t)=>{var a=Za(t-e),n=Math.min(Math.abs(t-e),360);return a*n},Tae=(e,t,a)=>{var{position:n,viewBox:s,offset:i,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:g,startAngle:h,endAngle:x,clockWise:b}=s,y=(u+g)/2,k=Pae(h,x),v=k>=0?1:-1,j,S;n==="insideStart"?(j=h+v*i,S=b):n==="insideEnd"?(j=x-v*i,S=!b):n==="end"&&(j=x+v*i,S=b),S=k<=0?S:!S;var C=la(l,c,y,j),P=la(l,c,y,j+(S?1:-1)*359),E="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(P.x,",").concat(P.y),A=Rr(e.id)?Zl("recharts-radial-line-"):e.id;return p.createElement("text",Ai({},a,{dominantBaseline:"central",className:Gt("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:A,d:E})),p.createElement("textPath",{xlinkHref:"#".concat(A)},t))},Aae=e=>{var{viewBox:t,offset:a,position:n}=e,{cx:s,cy:i,innerRadius:o,outerRadius:l,startAngle:c,endAngle:u}=t,g=(c+u)/2;if(n==="outside"){var{x:h,y:x}=la(s,i,l+a,g);return{x:h,y:x,textAnchor:h>=s?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(o+l)/2,{x:y,y:k}=la(s,i,b,g);return{x:y,y:k,textAnchor:"middle",verticalAnchor:"middle"}},Mae=(e,t)=>{var{parentViewBox:a,offset:n,position:s}=e,{x:i,y:o,width:l,height:c}=t,u=c>=0?1:-1,g=u*n,h=u>0?"end":"start",x=u>0?"start":"end",b=l>=0?1:-1,y=b*n,k=b>0?"end":"start",v=b>0?"start":"end";if(s==="top"){var j={x:i+l/2,y:o-u*n,textAnchor:"middle",verticalAnchor:h};return aa(aa({},j),a?{height:Math.max(o-a.y,0),width:l}:{})}if(s==="bottom"){var S={x:i+l/2,y:o+c+g,textAnchor:"middle",verticalAnchor:x};return aa(aa({},S),a?{height:Math.max(a.y+a.height-(o+c),0),width:l}:{})}if(s==="left"){var C={x:i-y,y:o+c/2,textAnchor:k,verticalAnchor:"middle"};return aa(aa({},C),a?{width:Math.max(C.x-a.x,0),height:c}:{})}if(s==="right"){var P={x:i+l+y,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return aa(aa({},P),a?{width:Math.max(a.x+a.width-P.x,0),height:c}:{})}var E=a?{width:l,height:c}:{};return s==="insideLeft"?aa({x:i+y,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},E):s==="insideRight"?aa({x:i+l-y,y:o+c/2,textAnchor:k,verticalAnchor:"middle"},E):s==="insideTop"?aa({x:i+l/2,y:o+g,textAnchor:"middle",verticalAnchor:x},E):s==="insideBottom"?aa({x:i+l/2,y:o+c-g,textAnchor:"middle",verticalAnchor:h},E):s==="insideTopLeft"?aa({x:i+y,y:o+g,textAnchor:v,verticalAnchor:x},E):s==="insideTopRight"?aa({x:i+l-y,y:o+g,textAnchor:k,verticalAnchor:x},E):s==="insideBottomLeft"?aa({x:i+y,y:o+c-g,textAnchor:v,verticalAnchor:h},E):s==="insideBottomRight"?aa({x:i+l-y,y:o+c-g,textAnchor:k,verticalAnchor:h},E):s&&typeof s=="object"&&(Je(s.x)||Al(s.x))&&(Je(s.y)||Al(s.y))?aa({x:i+ps(s.x,l),y:o+ps(s.y,c),textAnchor:"end",verticalAnchor:"end"},E):aa({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Iae=e=>"cx"in e&&Je(e.cx);function _n(e){var{offset:t=5}=e,a=gT(e,vae),n=aa({offset:t},a),{viewBox:s,position:i,value:o,children:l,content:c,className:u="",textBreakAll:g,labelRef:h}=n,x=Uw(),b=s||x;if(!b||Rr(o)&&Rr(l)&&!p.isValidElement(c)&&typeof c!="function")return null;if(p.isValidElement(c)){var{labelRef:y}=n,k=gT(n,kae);return p.cloneElement(c,k)}var v;if(typeof c=="function"){if(v=p.createElement(c,n),p.isValidElement(v))return v}else v=Sae(n);var j=Iae(b),S=It(n,!0);if(j&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Tae(n,v,S);var C=j?Aae(n):Mae(n,b);return p.createElement(Kp,Ai({ref:h,className:Gt("recharts-label",u)},S,C,{breakAll:g}),v)}_n.displayName="Label";var GO=e=>{var{cx:t,cy:a,angle:n,startAngle:s,endAngle:i,r:o,radius:l,innerRadius:c,outerRadius:u,x:g,y:h,top:x,left:b,width:y,height:k,clockWise:v,labelViewBox:j}=e;if(j)return j;if(Je(y)&&Je(k)){if(Je(g)&&Je(h))return{x:g,y:h,width:y,height:k};if(Je(x)&&Je(b))return{x,y:b,width:y,height:k}}if(Je(g)&&Je(h))return{x:g,y:h,width:0,height:0};if(Je(t)&&Je(a))return{cx:t,cy:a,startAngle:s||n||0,endAngle:i||n||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:v};if(e.viewBox)return e.viewBox},Eae=(e,t,a)=>{if(!e)return null;var n={viewBox:t,labelRef:a};return e===!0?p.createElement(_n,Ai({key:"label-implicit"},n)):ci(e)?p.createElement(_n,Ai({key:"label-implicit",value:e},n)):p.isValidElement(e)?e.type===_n?p.cloneElement(e,aa({key:"label-implicit"},n)):p.createElement(_n,Ai({key:"label-implicit",content:e},n)):rN(e)?p.createElement(_n,Ai({key:"label-implicit",content:e},n)):e&&typeof e=="object"?p.createElement(_n,Ai({},e,{key:"label-implicit"},n)):null},Oae=function(t,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:s,labelRef:i}=t,o=GO(t),l=hp(s,_n).map((u,g)=>p.cloneElement(u,{viewBox:a||o,key:"label-".concat(g)}));if(!n)return l;var c=Eae(t.label,a||o,i);return[c,...l]};_n.parseViewBox=GO;_n.renderCallByParent=Oae;var Eb={},Ob={},pT;function Dae(){return pT||(pT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a[a.length-1]}e.last=t}(Ob)),Ob}var Db={},fT;function Rae(){return fT||(fT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Array.isArray(a)?a:Array.from(a)}e.toArray=t}(Db)),Db}var xT;function $ae(){return xT||(xT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dae(),a=Rae(),n=Aw();function s(i){if(n.isArrayLike(i))return t.last(a.toArray(i))}e.last=s}(Eb)),Eb}var Rb,yT;function Bae(){return yT||(yT=1,Rb=$ae().last),Rb}var Lae=Bae();const _ae=zs(Lae);var Fae=["valueAccessor"],zae=["data","dataKey","clockWise","id","textBreakAll"];function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ih.apply(null,arguments)}function bT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function vT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(a),!0).forEach(function(n){Uae(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bT(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Uae(e,t,a){return(t=qae(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function qae(e){var t=Wae(e,"string");return typeof t=="symbol"?t:t+""}function Wae(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kT(e,t){if(e==null)return{};var a,n,s=Vae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Vae(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var Hae=e=>Array.isArray(e.value)?_ae(e.value):e.value;function Fo(e){var{valueAccessor:t=Hae}=e,a=kT(e,Fae),{data:n,dataKey:s,clockWise:i,id:o,textBreakAll:l}=a,c=kT(a,zae);return!n||!n.length?null:p.createElement(xa,{className:"recharts-label-list"},n.map((u,g)=>{var h=Rr(s)?t(u,g):Pr(u&&u.payload,s),x=Rr(o)?{}:{id:"".concat(o,"-").concat(g)};return p.createElement(_n,Ih({},It(u,!0),c,x,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:_n.parseViewBox(Rr(i)?u:vT(vT({},u),{},{clockWise:i})),key:"label-".concat(g),index:g}))}))}Fo.displayName="LabelList";function Kae(e,t){return e?e===!0?p.createElement(Fo,{key:"labelList-implicit",data:t}):p.isValidElement(e)||rN(e)?p.createElement(Fo,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?p.createElement(Fo,Ih({data:t},e,{key:"labelList-implicit"})):null:null}function Gae(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&a&&!e.label)return null;var{children:n}=e,s=hp(n,Fo).map((o,l)=>p.cloneElement(o,{data:t,key:"labelList-".concat(l)}));if(!a)return s;var i=Kae(e.label,t);return[i,...s]}Fo.renderCallByParent=Gae;function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},lk.apply(null,arguments)}var aN=e=>{var{cx:t,cy:a,r:n,className:s}=e,i=Gt("recharts-dot",s);return t===+t&&a===+a&&n===+n?p.createElement("circle",lk({},It(e,!1),vw(e),{className:i,cx:t,cy:a,r:n})):null},QO=e=>e.graphicalItems.polarItems,Qae=Ne([Zr,$m],Pj),nN=Ne([QO,Jr,Qae],Aj),Yae=Ne([nN],Mj),sN=Ne([Yae,fj],Ij),Xae=Ne([sN,Jr,nN],Ej),Zae=Ne([sN,Jr,nN],(e,t,a)=>a.length>0?e.flatMap(n=>a.flatMap(s=>{var i,o=Pr(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Pr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),wT=()=>{},Jae=Ne([Jr,oO,wT,Zae,wT],Rj),YO=Ne([Jr,cr,sN,Xae,Rm,Zr,Jae],$j),ene=Ne([YO,Jr,Ec],_j);Ne([Jr,YO,ene,Zr],zj);var tne={radiusAxis:{},angleAxis:{}},XO=bs({name:"polarAxis",initialState:tne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Gme,removeRadiusAxis:Qme,addAngleAxis:Yme,removeAngleAxis:Xme}=XO.actions,rne=XO.reducer;function jT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function NT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(a),!0).forEach(function(n){ane(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jT(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function ane(e,t,a){return(t=nne(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function nne(e){var t=sne(e,"string");return typeof t=="symbol"?t:t+""}function sne(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iN=(e,t)=>t,ine=[],oN=(e,t,a)=>a?.length===0?ine:a,ZO=Ne([fj,iN,oN],(e,t,a)=>{var{chartData:n}=e,s;if(t?.data!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&a!=null&&(s=a.map(i=>NT(NT({},t.presentationProps),i.props))),s!=null)return s}),one=Ne([ZO,iN,oN],(e,t,a)=>{if(e!=null)return e.map((n,s)=>{var i,o=Pr(n,t.nameKey,t.name),l;return a!=null&&(i=a[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=a[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Pc(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),lne=Ne([QO,iN],(e,t)=>{if(e.some(a=>a.type==="pie"&&t.dataKey===a.dataKey&&t.data===a.data))return t}),dne=Ne([ZO,lne,oN,Ma],(e,t,a,n)=>{if(!(t==null||e==null))return rse({offset:n,pieSettings:t,displayedData:e,cells:a})}),cne={countOfBars:0,cartesianItems:[],polarItems:[]},JO=bs({name:"graphicalItems",initialState:cne,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:a,next:n}=t.payload,s=Li(e).cartesianItems.indexOf(a);s>-1&&(e.cartesianItems[s]=n)},removeCartesianGraphicalItem(e,t){var a=Li(e).cartesianItems.indexOf(t.payload);a>-1&&e.cartesianItems.splice(a,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var a=Li(e).polarItems.indexOf(t.payload);a>-1&&e.polarItems.splice(a,1)}}}),{addBar:Zme,removeBar:Jme,addCartesianGraphicalItem:une,replaceCartesianGraphicalItem:mne,removeCartesianGraphicalItem:gne,addPolarGraphicalItem:hne,removePolarGraphicalItem:pne}=JO.actions,fne=JO.reducer;function CT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function ST(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(a),!0).forEach(function(n){xne(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):CT(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function xne(e,t,a){return(t=yne(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function yne(e){var t=bne(e,"string");return typeof t=="symbol"?t:t+""}function bne(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vne(e){var t=Br(),a=p.useRef(null);return p.useEffect(()=>{var n=ST(ST({},e),{},{stackId:E6(e.stackId)});a.current===null?t(une(n)):a.current!==n&&t(mne({prev:a.current,next:n})),a.current=n},[t,e]),p.useEffect(()=>()=>{a.current&&(t(gne(a.current)),a.current=null)},[t]),null}function kne(e){var t=Br();return p.useEffect(()=>(t(hne(e)),()=>{t(pne(e))}),[t,e]),null}var $b={},PT;function wne(){return PT||(PT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const s=a[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable?!1:a.toString()===`[object ${s}]`}let n=a;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(a)===n}e.isPlainObject=t}($b)),$b}var Bb,TT;function jne(){return TT||(TT=1,Bb=wne().isPlainObject),Bb}var Nne=jne();const Cne=zs(Nne);function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Eh.apply(null,arguments)}var AT=(e,t,a,n,s)=>{var i=a-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+a,",").concat(t),o+="L ".concat(e+a-i/2,",").concat(t+s),o+="L ".concat(e+a-i/2-n,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},Sne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pne=e=>{var t=vs(e,Sne),a=p.useRef(),[n,s]=p.useState(-1);p.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var v=a.current.getTotalLength();v&&s(v)}catch{}},[]);var{x:i,y:o,upperWidth:l,lowerWidth:c,height:u,className:g}=t,{animationEasing:h,animationDuration:x,animationBegin:b,isUpdateAnimationActive:y}=t;if(i!==+i||o!==+o||l!==+l||c!==+c||u!==+u||l===0&&c===0||u===0)return null;var k=Gt("recharts-trapezoid",g);return y?p.createElement(Qo,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:i,y:o},to:{upperWidth:l,lowerWidth:c,height:u,x:i,y:o},duration:x,animationEasing:h,isActive:y},v=>{var{upperWidth:j,lowerWidth:S,height:C,x:P,y:E}=v;return p.createElement(Qo,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,easing:h},p.createElement("path",Eh({},It(t,!0),{className:k,d:AT(P,E,j,S,C),ref:a})))}):p.createElement("g",null,p.createElement("path",Eh({},It(t,!0),{className:k,d:AT(i,o,l,c,u)})))},Tne=["option","shapeType","propTransformer","activeClassName","isActive"];function Ane(e,t){if(e==null)return{};var a,n,s=Mne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Mne(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function MT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Oh(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(a),!0).forEach(function(n){Ine(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):MT(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Ine(e,t,a){return(t=Ene(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ene(e){var t=One(e,"string");return typeof t=="symbol"?t:t+""}function One(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dne(e,t){return Oh(Oh({},t),e)}function Rne(e,t){return e==="symbols"}function IT(e){var{shapeType:t,elementProps:a}=e;switch(t){case"rectangle":return p.createElement(V6,a);case"trapezoid":return p.createElement(Pne,a);case"sector":return p.createElement(G6,a);case"symbols":if(Rne(t))return p.createElement(Sw,a);break;default:return null}}function $ne(e){return p.isValidElement(e)?e.props:e}function Bne(e){var{option:t,shapeType:a,propTransformer:n=Dne,activeClassName:s="recharts-active-shape",isActive:i}=e,o=Ane(e,Tne),l;if(p.isValidElement(t))l=p.cloneElement(t,Oh(Oh({},o),$ne(t)));else if(typeof t=="function")l=t(o);else if(Cne(t)&&typeof t!="boolean"){var c=n(t,o);l=p.createElement(IT,{shapeType:a,elementProps:c})}else{var u=o;l=p.createElement(IT,{shapeType:a,elementProps:u})}return i?p.createElement(xa,{className:s},l):l}var Lne=(e,t)=>{var a=Br();return(n,s)=>i=>{e?.(n,s,i),a(kO({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},_ne=e=>{var t=Br();return(a,n)=>s=>{e?.(a,n,s),t(jte())}},Fne=(e,t)=>{var a=Br();return(n,s)=>i=>{e?.(n,s,i),a(Nte({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function lN(e){var{fn:t,args:a}=e,n=Br(),s=hn();return p.useEffect(()=>{if(!s){var i=t(a);return n(vte(i)),()=>{n(kte(i))}}},[t,a,n,s]),null}var eD=()=>{};function tD(e){var{legendPayload:t}=e,a=Br(),n=hn();return p.useEffect(()=>n?eD:(a(_6(t)),()=>{a(F6(t))}),[a,n,t]),null}function zne(e){var{legendPayload:t}=e,a=Br(),n=it(cr);return p.useEffect(()=>n!=="centric"&&n!=="radial"?eD:(a(_6(t)),()=>{a(F6(t))}),[a,n,t]),null}function dN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=p.useRef(Zl(t)),n=p.useRef(e);return n.current!==e&&(a.current=Zl(t),n.current=e),a.current}var Une=["onMouseEnter","onClick","onMouseLeave"];function qne(e,t){if(e==null)return{};var a,n,s=Wne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Wne(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function ET(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Wr(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(a),!0).forEach(function(n){Gp(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ET(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Gp(e,t,a){return(t=Vne(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Vne(e){var t=Hne(e,"string");return typeof t=="symbol"?t:t+""}function Hne(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},rd.apply(null,arguments)}function Kne(e){var t=p.useMemo(()=>It(e,!1),[e]),a=p.useMemo(()=>hp(e.children,Hp),[e.children]),n=p.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),s=it(i=>one(i,n,a));return p.createElement(zne,{legendPayload:s})}function Gne(e){var{dataKey:t,nameKey:a,sectors:n,stroke:s,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n?.map(g=>g.tooltipPayload),positions:n?.map(g=>g.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:a,name:Pc(l,t),hide:c,type:u,color:o,unit:""}}}var Qne=(e,t)=>e>t?"start":e<t?"end":"middle",Yne=(e,t,a)=>typeof t=="function"?t(e):ps(t,a,a*.8),Xne=(e,t,a)=>{var{top:n,left:s,width:i,height:o}=t,l=A6(i,o),c=s+ps(e.cx,i,i/2),u=n+ps(e.cy,o,o/2),g=ps(e.innerRadius,l,0),h=Yne(a,e.outerRadius,l),x=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:u,innerRadius:g,outerRadius:h,maxRadius:x}},Zne=(e,t)=>{var a=Za(t-e),n=Math.min(Math.abs(t-e),360);return a*n},Jne=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var a=Gt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return p.createElement(Xd,rd({},t,{type:"linear",className:a}))},ese=(e,t,a)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var n=a;if(typeof e=="function"&&(n=e(t),p.isValidElement(n)))return n;var s=Gt("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return p.createElement(Kp,rd({},t,{alignmentBaseline:"middle",className:s}),n)};function tse(e){var{sectors:t,props:a,showLabels:n}=e,{label:s,labelLine:i,dataKey:o}=a;if(!n||!s||!t)return null;var l=It(a,!1),c=It(s,!1),u=It(i,!1),g=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,h=t.map((x,b)=>{var y=(x.startAngle+x.endAngle)/2,k=la(x.cx,x.cy,x.outerRadius+g,y),v=Wr(Wr(Wr(Wr({},l),x),{},{stroke:"none"},c),{},{index:b,textAnchor:Qne(k.x,x.cx)},k),j=Wr(Wr(Wr(Wr({},l),x),{},{fill:"none",stroke:x.fill},u),{},{index:b,points:[la(x.cx,x.cy,x.outerRadius,y),k],key:"line"});return p.createElement(xa,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},i&&Jne(i,j),ese(s,v,Pr(x,o)))});return p.createElement(xa,{className:"recharts-pie-labels"},h)}function rD(e){var{sectors:t,activeShape:a,inactiveShape:n,allOtherPieProps:s,showLabels:i}=e,o=it(fc),{onMouseEnter:l,onClick:c,onMouseLeave:u}=s,g=qne(s,Une),h=Lne(l,s.dataKey),x=_ne(u),b=Fne(c,s.dataKey);return t==null?null:p.createElement(p.Fragment,null,t.map((y,k)=>{if(y?.startAngle===0&&y?.endAngle===0&&t.length!==1)return null;var v=a&&String(k)===o,j=o?n:null,S=v?a:j,C=Wr(Wr({},y),{},{stroke:y.stroke,tabIndex:-1,[D6]:k,[R6]:s.dataKey});return p.createElement(xa,rd({tabIndex:-1,className:"recharts-pie-sector"},kw(g,y,k),{onMouseEnter:h(y,k),onMouseLeave:x(y,k),onClick:b(y,k),key:"sector-".concat(y?.startAngle,"-").concat(y?.endAngle,"-").concat(y.midAngle,"-").concat(k)}),p.createElement(Bne,rd({option:S,isActive:v,shapeType:"sector"},C)))}),p.createElement(tse,{sectors:t,props:s,showLabels:i}))}function rse(e){var t,{pieSettings:a,displayedData:n,cells:s,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:u,nameKey:g,tooltipType:h}=a,x=Math.abs(a.minAngle),b=Zne(l,c),y=Math.abs(b),k=n.length<=1?0:(t=a.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(A=>Pr(A,u,0)!==0).length,j=(y>=360?v:v-1)*k,S=y-v*x-j,C=n.reduce((A,I)=>{var M=Pr(I,u,0);return A+(Je(M)?M:0)},0),P;if(C>0){var E;P=n.map((A,I)=>{var M=Pr(A,u,0),F=Pr(A,g,I),Q=Xne(a,i,A),U=(Je(M)?M:0)/C,V,K=Wr(Wr({},A),s&&s[I]&&s[I].props);I?V=E.endAngle+Za(b)*k*(M!==0?1:0):V=l;var Z=V+Za(b)*((M!==0?x:0)+U*S),ie=(V+Z)/2,te=(Q.innerRadius+Q.outerRadius)/2,R=[{name:F,value:M,payload:K,dataKey:u,type:h}],D=la(Q.cx,Q.cy,te,ie);return E=Wr(Wr(Wr(Wr({},a.presentationProps),{},{percent:U,cornerRadius:o,name:F,tooltipPayload:R,midAngle:ie,middleRadius:te,tooltipPosition:D},K),Q),{},{value:Pr(A,u),startAngle:V,endAngle:Z,payload:K,paddingAngle:Za(b)*k}),E})}return P}function ase(e){var{props:t,previousSectorsRef:a}=e,{sectors:n,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:g,onAnimationEnd:h}=t,x=dN(t,"recharts-pie-"),b=a.current,[y,k]=p.useState(!0),v=p.useCallback(()=>{typeof h=="function"&&h(),k(!1)},[h]),j=p.useCallback(()=>{typeof g=="function"&&g(),k(!0)},[g]);return p.createElement(Qo,{begin:i,duration:o,isActive:s,easing:l,from:{t:0},to:{t:1},onAnimationStart:j,onAnimationEnd:v,key:x},S=>{var{t:C}=S,P=[],E=n&&n[0],A=E.startAngle;return n.forEach((I,M)=>{var F=b&&b[M],Q=M>0?Go(I,"paddingAngle",0):0;if(F){var U=jl(F.endAngle-F.startAngle,I.endAngle-I.startAngle),V=Wr(Wr({},I),{},{startAngle:A+Q,endAngle:A+U(C)+Q});P.push(V),A=V.endAngle}else{var{endAngle:K,startAngle:Z}=I,ie=jl(0,K-Z),te=ie(C),R=Wr(Wr({},I),{},{startAngle:A+Q,endAngle:A+te+Q});P.push(R),A=R.endAngle}}),a.current=P,p.createElement(xa,null,p.createElement(rD,{sectors:P,activeShape:c,inactiveShape:u,allOtherPieProps:t,showLabels:!y}))})}function nse(e){var{sectors:t,isAnimationActive:a,activeShape:n,inactiveShape:s}=e,i=p.useRef(null),o=i.current;return a&&t&&t.length&&(!o||o!==t)?p.createElement(ase,{props:e,previousSectorsRef:i}):p.createElement(rD,{sectors:t,activeShape:n,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function sse(e){var{hide:t,className:a,rootTabIndex:n}=e,s=Gt("recharts-pie",a);return t?null:p.createElement(xa,{tabIndex:n,className:s},p.createElement(nse,e))}var aD={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!id.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function ise(e){var t=vs(e,aD),a=p.useMemo(()=>hp(e.children,Hp),[e.children]),n=It(t,!1),s=p.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:n}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,n]),i=it(o=>dne(o,s,a));return p.createElement(p.Fragment,null,p.createElement(lN,{fn:Gne,args:Wr(Wr({},t),{},{sectors:i})}),p.createElement(sse,rd({},t,{sectors:i})))}class cN extends p.PureComponent{constructor(){super(...arguments),Gp(this,"id",Zl("recharts-pie-"))}render(){return p.createElement(p.Fragment,null,p.createElement(kne,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),p.createElement(Kne,this.props),p.createElement(ise,this.props),this.props.children)}}Gp(cN,"displayName","Pie");Gp(cN,"defaultProps",aD);var ose=Ne([Ma],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),lse=Ne([ose,Xi,Zi],(e,t,a)=>{if(!(!e||t==null||a==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,a-e.top-e.bottom)}}),dse=e=>{var t=hn();return it(a=>Dc(a,"xAxis",e,t))},cse=e=>{var t=hn();return it(a=>Dc(a,"yAxis",e,t))},Qp=()=>it(lse),use=()=>it(dre);function OT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function DT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(a),!0).forEach(function(n){mse(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):OT(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function mse(e,t,a){return(t=gse(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function gse(e){var t=hse(e,"string");return typeof t=="symbol"?t:t+""}function hse(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pse=e=>{var{point:t,childIndex:a,mainColor:n,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var o=DT(DT({index:a,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},It(s,!1)),vw(s)),l;return p.isValidElement(s)?l=p.cloneElement(s,o):typeof s=="function"?l=s(o):l=p.createElement(aN,o),p.createElement(xa,{className:"recharts-active-dot"},l)};function dk(e){var{points:t,mainColor:a,activeDot:n,itemDataKey:s}=e,i=it(fc),o=use();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return Rr(l)?null:pse({point:l,childIndex:Number(i),mainColor:a,dataKey:s,activeDot:n})}var fse=["children"];function xse(e,t){if(e==null)return{};var a,n,s=yse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function yse(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var RT=()=>{},nD=p.createContext({addErrorBar:RT,removeErrorBar:RT}),bse={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},sD=p.createContext(bse);function vse(e){var{children:t}=e,a=xse(e,fse);return p.createElement(sD.Provider,{value:a},t)}var kse=()=>p.useContext(sD),iD=e=>{var{children:t,xAxisId:a,yAxisId:n,zAxisId:s,dataKey:i,data:o,stackId:l,hide:c,type:u,barSize:g}=e,[h,x]=p.useState([]),b=p.useCallback(v=>{x(j=>[...j,v])},[x]),y=p.useCallback(v=>{x(j=>j.filter(S=>S!==v))},[x]),k=hn();return p.createElement(nD.Provider,{value:{addErrorBar:b,removeErrorBar:y}},p.createElement(vne,{type:u,data:o,xAxisId:a,yAxisId:n,zAxisId:s,dataKey:i,errorBars:h,stackId:l,hide:c,barSize:g,isPanorama:k}),t)};function wse(e){var{addErrorBar:t,removeErrorBar:a}=p.useContext(nD);return p.useEffect(()=>(t(e),()=>{a(e)}),[t,a,e]),null}var jse=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function oD(e,t,a){return(t=Nse(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Nse(e){var t=Cse(e,"string");return typeof t=="symbol"?t:t+""}function Cse(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lm(){return lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},lm.apply(null,arguments)}function Sse(e,t){if(e==null)return{};var a,n,s=Pse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Pse(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function Tse(e){var{direction:t,width:a,dataKey:n,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l}=e,c=Sse(e,jse),u=It(c,!1),{data:g,dataPointFormatter:h,xAxisId:x,yAxisId:b,errorBarOffset:y}=kse(),k=dse(x),v=cse(b);if(k?.scale==null||v?.scale==null||g==null||t==="x"&&k.type!=="number")return null;var j=g.map(S=>{var{x:C,y:P,value:E,errorVal:A}=h(S,n,t);if(!A)return null;var I=[],M,F;if(Array.isArray(A)?[M,F]=A:M=F=A,t==="x"){var{scale:Q}=k,U=P+y,V=U+a,K=U-a,Z=Q(E-M),ie=Q(E+F);I.push({x1:ie,y1:V,x2:ie,y2:K}),I.push({x1:Z,y1:U,x2:ie,y2:U}),I.push({x1:Z,y1:V,x2:Z,y2:K})}else if(t==="y"){var{scale:te}=v,R=C+y,D=R-a,W=R+a,X=te(E-M),B=te(E+F);I.push({x1:D,y1:B,x2:W,y2:B}),I.push({x1:R,y1:X,x2:R,y2:B}),I.push({x1:D,y1:X,x2:W,y2:X})}var H="".concat(C+y,"px ").concat(P+y,"px");return p.createElement(xa,lm({className:"recharts-errorBar",key:"bar-".concat(I.map(z=>"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)))},u),I.map(z=>{var $=s?{transformOrigin:"".concat(z.x1-5,"px")}:void 0;return p.createElement(Qo,{from:{transform:"scaleY(0)",transformOrigin:H},to:{transform:"scaleY(1)",transformOrigin:H},begin:i,easing:l,isActive:s,duration:o,key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2),style:{transformOrigin:H}},p.createElement("line",lm({},z,{style:$})))}))});return p.createElement(xa,{className:"recharts-errorBars"},j)}var lD=p.createContext(void 0);function Ase(e){var t=p.useContext(lD);return e??t??"x"}function Mse(e){var{direction:t,children:a}=e;return p.createElement(lD.Provider,{value:t},a)}var dD={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function Ise(e){var t=Ase(e.direction),{width:a,isAnimationActive:n,animationBegin:s,animationDuration:i,animationEasing:o}=vs(e,dD);return p.createElement(p.Fragment,null,p.createElement(wse,{dataKey:e.dataKey,direction:t}),p.createElement(Tse,lm({},e,{direction:t,width:a,isAnimationActive:n,animationBegin:s,animationDuration:i,animationEasing:o})))}class cD extends p.Component{render(){return p.createElement(Ise,this.props)}}oD(cD,"defaultProps",dD);oD(cD,"displayName","ErrorBar");function uN(e,t){var a,n,s=it(u=>eo(u,e)),i=it(u=>Jo(u,t)),o=(a=s?.allowDataOverflow)!==null&&a!==void 0?a:$n.allowDataOverflow,l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Bn.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function uD(e){var{xAxisId:t,yAxisId:a,clipPathId:n}=e,s=Qp(),{needClipX:i,needClipY:o,needClip:l}=uN(t,a);if(!l)return null;var{x:c,y:u,width:g,height:h}=s;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:i?c:c-g/2,y:o?u:u-h/2,width:i?g:g*2,height:o?h:h*2}))}var mD=e=>{var{chartData:t}=e,a=Br(),n=hn();return p.useEffect(()=>n?()=>{}:(a(Y5(t)),()=>{a(Y5(void 0))}),[t,a,n]),null},$T={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},gD=bs({name:"brush",initialState:$T,reducers:{setBrushSettings(e,t){return t.payload==null?$T:t.payload}}}),{setBrushSettings:e0e}=gD.actions,Ese=gD.reducer;function Ose(e,t,a){return(t=Dse(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Dse(e){var t=Rse(e,"string");return typeof t=="symbol"?t:t+""}function Rse(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mN{static create(t){return new mN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:a,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(a){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var a=this.range(),n=a[0],s=a[a.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}Ose(mN,"EPS",1e-4);function $se(e){return(e%180+180)%180}var Bse=function(t){var{width:a,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=$se(s),o=i*Math.PI/180,l=Math.atan(n/a),c=o>l&&o<Math.PI-l?n/Math.sin(o):a/Math.cos(o);return Math.abs(c)},Lse={dots:[],areas:[],lines:[]},hD=bs({name:"referenceElements",initialState:Lse,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var a=Li(e).dots.findIndex(n=>n===t.payload);a!==-1&&e.dots.splice(a,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var a=Li(e).areas.findIndex(n=>n===t.payload);a!==-1&&e.areas.splice(a,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var a=Li(e).lines.findIndex(n=>n===t.payload);a!==-1&&e.lines.splice(a,1)}}}),{addDot:t0e,removeDot:r0e,addArea:a0e,removeArea:n0e,addLine:s0e,removeLine:i0e}=hD.actions,_se=hD.reducer,Fse=p.createContext(void 0),zse=e=>{var{children:t}=e,[a]=p.useState("".concat(Zl("recharts"),"-clip")),n=Qp();if(n==null)return null;var{x:s,y:i,width:o,height:l}=n;return p.createElement(Fse.Provider,{value:a},p.createElement("defs",null,p.createElement("clipPath",{id:a},p.createElement("rect",{x:s,y:i,height:l,width:o}))),t)};function Lb(e,t){for(var a in e)if({}.hasOwnProperty.call(e,a)&&(!{}.hasOwnProperty.call(t,a)||e[a]!==t[a]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function pD(e,t,a){if(t<1)return[];if(t===1&&a===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function Use(e,t,a){var n={width:e.width+t.width,height:e.height+t.height};return Bse(n,a)}function qse(e,t,a){var n=a==="width",{x:s,y:i,width:o,height:l}=e;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Dh(e,t,a,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=a();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function Wse(e,t){return pD(e,t+1)}function Vse(e,t,a,n,s){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,g=o,h=function(){var y=n?.[c];if(y===void 0)return{v:pD(n,u)};var k=c,v,j=()=>(v===void 0&&(v=a(y,k)),v),S=y.coordinate,C=c===0||Dh(e,S,j,g,l);C||(c=0,g=o,u+=1),C&&(g=S+e*(j()/2+s),c+=u)},x;u<=i.length;)if(x=h(),x)return x.v;return[]}function BT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Ka(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(a),!0).forEach(function(n){Hse(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):BT(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Hse(e,t,a){return(t=Kse(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Kse(e){var t=Gse(e,"string");return typeof t=="symbol"?t:t+""}function Gse(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qse(e,t,a,n,s){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,u=function(x){var b=i[x],y,k=()=>(y===void 0&&(y=a(b,x)),y);if(x===o-1){var v=e*(b.coordinate+e*k()/2-c);i[x]=b=Ka(Ka({},b),{},{tickCoord:v>0?b.coordinate-v*e:b.coordinate})}else i[x]=b=Ka(Ka({},b),{},{tickCoord:b.coordinate});var j=Dh(e,b.tickCoord,k,l,c);j&&(c=b.tickCoord-e*(k()/2+s),i[x]=Ka(Ka({},b),{},{isShow:!0}))},g=o-1;g>=0;g--)u(g);return i}function Yse(e,t,a,n,s,i){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(i){var g=n[l-1],h=a(g,l-1),x=e*(g.coordinate+e*h/2-u);o[l-1]=g=Ka(Ka({},g),{},{tickCoord:x>0?g.coordinate-x*e:g.coordinate});var b=Dh(e,g.tickCoord,()=>h,c,u);b&&(u=g.tickCoord-e*(h/2+s),o[l-1]=Ka(Ka({},g),{},{isShow:!0}))}for(var y=i?l-1:l,k=function(S){var C=o[S],P,E=()=>(P===void 0&&(P=a(C,S)),P);if(S===0){var A=e*(C.coordinate-e*E()/2-c);o[S]=C=Ka(Ka({},C),{},{tickCoord:A<0?C.coordinate-A*e:C.coordinate})}else o[S]=C=Ka(Ka({},C),{},{tickCoord:C.coordinate});var I=Dh(e,C.tickCoord,E,c,u);I&&(c=C.tickCoord+e*(E()/2+s),o[S]=Ka(Ka({},C),{},{isShow:!0}))},v=0;v<y;v++)k(v);return o}function gN(e,t,a){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:g,angle:h}=e;if(!s||!s.length||!n)return[];if(Je(c)||id.isSsr){var x;return(x=Wse(s,Je(c)?c:0))!==null&&x!==void 0?x:[]}var b=[],y=l==="top"||l==="bottom"?"width":"height",k=g&&y==="width"?Bu(g,{fontSize:t,letterSpacing:a}):{width:0,height:0},v=(C,P)=>{var E=typeof u=="function"?u(C.value,P):C.value;return y==="width"?Use(Bu(E,{fontSize:t,letterSpacing:a}),k,h):Bu(E,{fontSize:t,letterSpacing:a})[y]},j=s.length>=2?Za(s[1].coordinate-s[0].coordinate):1,S=qse(i,j,y);return c==="equidistantPreserveStart"?Vse(j,S,v,s,o):(c==="preserveStart"||c==="preserveStartEnd"?b=Yse(j,S,v,s,o,c==="preserveStartEnd"):b=Qse(j,S,v,s,o),b.filter(C=>C.isShow))}var Xse=["viewBox"],Zse=["viewBox"];function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Hd.apply(null,arguments)}function LT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function ga(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(a),!0).forEach(function(n){hN(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):LT(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function _T(e,t){if(e==null)return{};var a,n,s=Jse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Jse(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function hN(e,t,a){return(t=eie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function eie(e){var t=tie(e,"string");return typeof t=="symbol"?t:t+""}function tie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class el extends p.Component{constructor(t){super(t),this.tickRefs=p.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,a){var{viewBox:n}=t,s=_T(t,Xse),i=this.props,{viewBox:o}=i,l=_T(i,Zse);return!Lb(n,o)||!Lb(s,l)||!Lb(a,this.state)}getTickLineCoord(t){var{x:a,y:n,width:s,height:i,orientation:o,tickSize:l,mirror:c,tickMargin:u}=this.props,g,h,x,b,y,k,v=c?-1:1,j=t.tickSize||l,S=Je(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":g=h=t.coordinate,b=n+ +!c*i,x=b-v*j,k=x-v*u,y=S;break;case"left":x=b=t.coordinate,h=a+ +!c*s,g=h-v*j,y=g-v*u,k=S;break;case"right":x=b=t.coordinate,h=a+ +c*s,g=h+v*j,y=g+v*u,k=S;break;default:g=h=t.coordinate,b=n+ +c*i,x=b+v*j,k=x+v*u,y=S;break}return{line:{x1:g,y1:x,x2:h,y2:b},tick:{x:y,y:k}}}getTickTextAnchor(){var{orientation:t,mirror:a}=this.props,n;switch(t){case"left":n=a?"start":"end";break;case"right":n=a?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:a}=this.props;switch(t){case"left":case"right":return"middle";case"top":return a?"start":"end";default:return a?"end":"start"}}renderAxisLine(){var{x:t,y:a,width:n,height:s,orientation:i,mirror:o,axisLine:l}=this.props,c=ga(ga(ga({},It(this.props,!1)),It(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!o||i==="bottom"&&o);c=ga(ga({},c),{},{x1:t,y1:a+u*s,x2:t+n,y2:a+u*s})}else{var g=+(i==="left"&&!o||i==="right"&&o);c=ga(ga({},c),{},{x1:t+g*n,y1:a,x2:t+g*n,y2:a+s})}return p.createElement("line",Hd({},c,{className:Gt("recharts-cartesian-axis-line",Go(l,"className"))}))}static renderTickItem(t,a,n){var s,i=Gt(a.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))s=p.cloneElement(t,ga(ga({},a),{},{className:i}));else if(typeof t=="function")s=t(ga(ga({},a),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Gt(o,t.className)),s=p.createElement(Kp,Hd({},a,{className:o}),n)}return s}renderTicks(t,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:i,tick:o,tickFormatter:l,unit:c}=this.props,u=gN(ga(ga({},this.props),{},{ticks:n}),t,a),g=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),x=It(this.props,!1),b=It(o,!1),y=ga(ga({},x),{},{fill:"none"},It(s,!1)),k=u.map((v,j)=>{var{line:S,tick:C}=this.getTickLineCoord(v),P=ga(ga(ga(ga({textAnchor:g,verticalAnchor:h},x),{},{stroke:"none",fill:i},b),C),{},{index:j,payload:v,visibleTicksCount:u.length,tickFormatter:l});return p.createElement(xa,Hd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(v.value,"-").concat(v.coordinate,"-").concat(v.tickCoord)},kw(this.props,v,j)),s&&p.createElement("line",Hd({},y,S,{className:Gt("recharts-cartesian-axis-tick-line",Go(s,"className"))})),o&&el.renderTickItem(o,P,"".concat(typeof l=="function"?l(v.value,j):v.value).concat(c||"")))});return k.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},k):null}render(){var{axisLine:t,width:a,height:n,className:s,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return a!=null&&a<=0||n!=null&&n<=0?null:p.createElement(xa,{className:Gt("recharts-cartesian-axis",s),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var g=window.getComputedStyle(u).fontSize,h=window.getComputedStyle(u).letterSpacing;(g!==this.state.fontSize||h!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),_n.renderCallByParent(this.props))}}hN(el,"displayName","CartesianAxis");hN(el,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var rie=["x1","y1","x2","y2","key"],aie=["offset"],nie=["xAxisId","yAxisId"],sie=["xAxisId","yAxisId"];function FT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Qa(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(a),!0).forEach(function(n){iie(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):FT(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function iie(e,t,a){return(t=oie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function oie(e){var t=lie(e,"string");return typeof t=="symbol"?t:t+""}function lie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ol.apply(null,arguments)}function Rh(e,t){if(e==null)return{};var a,n,s=die(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function die(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var cie=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:a,x:n,y:s,width:i,height:o,ry:l}=e;return p.createElement("rect",{x:n,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function fD(e,t){var a;if(p.isValidElement(e))a=p.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var{x1:n,y1:s,x2:i,y2:o,key:l}=t,c=Rh(t,rie),u=It(c,!1),{offset:g}=u,h=Rh(u,aie);a=p.createElement("line",Ol({},h,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return a}function uie(e){var{x:t,width:a,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Rh(e,nie),c=s.map((u,g)=>{var h=Qa(Qa({},l),{},{x1:t,y1:u,x2:t+a,y2:u,key:"line-".concat(g),index:g});return fD(n,h)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function mie(e){var{y:t,height:a,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Rh(e,sie),c=s.map((u,g)=>{var h=Qa(Qa({},l),{},{x1:u,y1:t,x2:u,y2:t+a,key:"line-".concat(g),index:g});return fD(n,h)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function gie(e){var{horizontalFill:t,fillOpacity:a,x:n,y:s,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(h=>Math.round(h+s-s)).sort((h,x)=>h-x);s!==u[0]&&u.unshift(0);var g=u.map((h,x)=>{var b=!u[x+1],y=b?s+o-h:u[x+1]-h;if(y<=0)return null;var k=x%t.length;return p.createElement("rect",{key:"react-".concat(x),y:h,x:n,height:y,width:i,stroke:"none",fill:t[k],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function hie(e){var{vertical:t=!0,verticalFill:a,fillOpacity:n,x:s,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!a||!a.length)return null;var u=c.map(h=>Math.round(h+s-s)).sort((h,x)=>h-x);s!==u[0]&&u.unshift(0);var g=u.map((h,x)=>{var b=!u[x+1],y=b?s+o-h:u[x+1]-h;if(y<=0)return null;var k=x%a.length;return p.createElement("rect",{key:"react-".concat(x),x:h,y:i,width:y,height:l,stroke:"none",fill:a[k],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var pie=(e,t)=>{var{xAxis:a,width:n,height:s,offset:i}=e;return M6(gN(Qa(Qa(Qa({},el.defaultProps),a),{},{ticks:I6(a),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},fie=(e,t)=>{var{yAxis:a,width:n,height:s,offset:i}=e;return M6(gN(Qa(Qa(Qa({},el.defaultProps),a),{},{ticks:I6(a),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},xie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function pN(e){var t=qw(),a=Ww(),n=B6(),s=Qa(Qa({},vs(e,xie)),{},{x:Je(e.x)?e.x:n.left,y:Je(e.y)?e.y:n.top,width:Je(e.width)?e.width:n.width,height:Je(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:u,height:g,syncWithTicks:h,horizontalValues:x,verticalValues:b}=s,y=hn(),k=it(F=>z5(F,"xAxis",i,y)),v=it(F=>z5(F,"yAxis",o,y));if(!Je(u)||u<=0||!Je(g)||g<=0||!Je(l)||l!==+l||!Je(c)||c!==+c)return null;var j=s.verticalCoordinatesGenerator||pie,S=s.horizontalCoordinatesGenerator||fie,{horizontalPoints:C,verticalPoints:P}=s;if((!C||!C.length)&&typeof S=="function"){var E=x&&x.length,A=S({yAxis:v?Qa(Qa({},v),{},{ticks:E?x:v.ticks}):void 0,width:t,height:a,offset:n},E?!0:h);$u(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(C=A)}if((!P||!P.length)&&typeof j=="function"){var I=b&&b.length,M=j({xAxis:k?Qa(Qa({},k),{},{ticks:I?b:k.ticks}):void 0,width:t,height:a,offset:n},I?!0:h);$u(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(P=M)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(cie,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),p.createElement(gie,Ol({},s,{horizontalPoints:C})),p.createElement(hie,Ol({},s,{verticalPoints:P})),p.createElement(uie,Ol({},s,{offset:n,horizontalPoints:C,xAxis:k,yAxis:v})),p.createElement(mie,Ol({},s,{offset:n,verticalPoints:P,xAxis:k,yAxis:v})))}pN.displayName="CartesianGrid";var xD=(e,t,a,n)=>Dc(e,"xAxis",t,n),yD=(e,t,a,n)=>qp(e,"xAxis",t,n),bD=(e,t,a,n)=>Dc(e,"yAxis",a,n),vD=(e,t,a,n)=>qp(e,"yAxis",a,n),yie=Ne([cr,xD,bD,yD,vD],(e,t,a,n,s)=>gi(e,"xAxis")?em(t,n,!1):em(a,s,!1)),bie=(e,t,a,n,s)=>s,vie=Ne([Tj,bie],(e,t)=>{if(e.some(a=>a.type==="line"&&t.dataKey===a.dataKey&&t.data===a.data))return t}),kie=Ne([cr,xD,bD,yD,vD,vie,yie,xj],(e,t,a,n,s,i,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:g}=l;if(!(i==null||t==null||a==null||n==null||s==null||n.length===0||s.length===0||o==null)){var{dataKey:h,data:x}=i,b;if(x!=null&&x.length>0?b=x:b=c?.slice(u,g+1),b!=null)return Fie({layout:e,xAxis:t,yAxis:a,xAxisTicks:n,yAxisTicks:s,dataKey:h,bandSize:o,displayedData:b})}}),wie=["type","layout","connectNulls","needClip"],jie=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function kD(e,t){if(e==null)return{};var a,n,s=Nie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Nie(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function zT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Is(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(a),!0).forEach(function(n){Yp(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zT(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Yp(e,t,a){return(t=Cie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Cie(e){var t=Sie(e,"string");return typeof t=="symbol"?t:t+""}function Sie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},xc.apply(null,arguments)}var Pie=e=>{var{dataKey:t,name:a,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Pc(a,t),payload:e}]};function Tie(e){var{dataKey:t,data:a,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Pc(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var wD=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Aie(e,t){for(var a=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...a];return n}var Mie=(e,t,a)=>{var n=a.reduce((h,x)=>h+x);if(!n)return wD(t,e);for(var s=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,u=0;c<a.length;u+=a[c],++c)if(u+a[c]>i){l=[...a.slice(0,c),i-u];break}var g=l.length%2===0?[0,o]:[o];return[...Aie(a,s),...l,...g].map(h=>"".concat(h,"px")).join(", ")};function Iie(e,t){var a;if(p.isValidElement(e))a=p.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var n=Gt("recharts-line-dot",typeof e!="boolean"?e.className:"");a=p.createElement(aN,xc({},t,{className:n}))}return a}function Eie(e,t){return e==null?!1:t?!0:e.length===1}function Oie(e){var{clipPathId:t,points:a,props:n}=e,{dot:s,dataKey:i,needClip:o}=n;if(!Eie(a,s))return null;var l=pp(s),c=It(n,!1),u=It(s,!0),g=a.map((x,b)=>{var y=Is(Is(Is({key:"dot-".concat(b),r:3},c),u),{},{index:b,cx:x.x,cy:x.y,dataKey:i,value:x.value,payload:x.payload,points:a});return Iie(s,y)}),h={clipPath:o?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):null};return p.createElement(xa,xc({className:"recharts-line-dots",key:"dots"},h),g)}function ck(e){var{clipPathId:t,pathRef:a,points:n,strokeDasharray:s,props:i,showLabels:o}=e,{type:l,layout:c,connectNulls:u,needClip:g}=i,h=kD(i,wie),x=Is(Is({},It(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:g?"url(#clipPath-".concat(t,")"):null,points:n,type:l,layout:c,connectNulls:u,strokeDasharray:s??i.strokeDasharray});return p.createElement(p.Fragment,null,n?.length>1&&p.createElement(Xd,xc({},x,{pathRef:a})),p.createElement(Oie,{points:n,clipPathId:t,props:i}),o&&Fo.renderCallByParent(i,n))}function Die(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Rie(e){var{clipPathId:t,props:a,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:g,animationEasing:h,animateNewValues:x,width:b,height:y,onAnimationEnd:k,onAnimationStart:v}=a,j=s.current,S=dN(a,"recharts-line-"),[C,P]=p.useState(!1),E=p.useCallback(()=>{typeof k=="function"&&k(),P(!1)},[k]),A=p.useCallback(()=>{typeof v=="function"&&v(),P(!0)},[v]),I=Die(n.current),M=i.current;return p.createElement(Qo,{begin:u,duration:g,isActive:c,easing:h,from:{t:0},to:{t:1},onAnimationEnd:E,onAnimationStart:A,key:S},F=>{var{t:Q}=F,U=jl(M,I+M),V=Math.min(U(Q),I),K;if(l){var Z="".concat(l).split(/[,\s]+/gim).map(R=>parseFloat(R));K=Mie(V,I,Z)}else K=wD(I,V);if(j){var ie=j.length/o.length,te=Q===1?o:o.map((R,D)=>{var W=Math.floor(D*ie);if(j[W]){var X=j[W],B=jl(X.x,R.x),H=jl(X.y,R.y);return Is(Is({},R),{},{x:B(Q),y:H(Q)})}if(x){var z=jl(b*2,R.x),$=jl(y/2,R.y);return Is(Is({},R),{},{x:z(Q),y:$(Q)})}return Is(Is({},R),{},{x:R.x,y:R.y})});return s.current=te,p.createElement(ck,{props:a,points:te,clipPathId:t,pathRef:n,showLabels:!C,strokeDasharray:K})}return Q>0&&I>0&&(s.current=o,i.current=V),p.createElement(ck,{props:a,points:o,clipPathId:t,pathRef:n,showLabels:!C,strokeDasharray:K})})}function $ie(e){var{clipPathId:t,props:a}=e,{points:n,isAnimationActive:s}=a,i=p.useRef(null),o=p.useRef(0),l=p.useRef(null),c=i.current;return s&&n&&n.length&&c!==n?p.createElement(Rie,{props:a,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:l}):p.createElement(ck,{props:a,points:n,clipPathId:t,pathRef:l,showLabels:!0})}var Bie=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Pr(e.payload,t)});class Lie extends p.Component{constructor(){super(...arguments),Yp(this,"id",Zl("recharts-line-"))}render(){var t,{hide:a,dot:n,points:s,className:i,xAxisId:o,yAxisId:l,top:c,left:u,width:g,height:h,id:x,needClip:b,layout:y}=this.props;if(a)return null;var k=Gt("recharts-line",i),v=Rr(x)?this.id:x,{r:j=3,strokeWidth:S=2}=(t=It(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},C=pp(n),P=j*2+S;return p.createElement(p.Fragment,null,p.createElement(xa,{className:k},b&&p.createElement("defs",null,p.createElement(uD,{clipPathId:v,xAxisId:o,yAxisId:l}),!C&&p.createElement("clipPath",{id:"clipPath-dots-".concat(v)},p.createElement("rect",{x:u-P/2,y:c-P/2,width:g+P,height:h+P}))),p.createElement($ie,{props:this.props,clipPathId:v}),p.createElement(Mse,{direction:y==="horizontal"?"y":"x"},p.createElement(vse,{xAxisId:o,yAxisId:l,data:s,dataPointFormatter:Bie,errorBarOffset:0},this.props.children))),p.createElement(dk,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var jD={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!id.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function _ie(e){var t=vs(e,jD),{activeDot:a,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:g,label:h,legendType:x,xAxisId:b,yAxisId:y}=t,k=kD(t,jie),{needClip:v}=uN(b,y),{height:j,width:S,x:C,y:P}=Qp(),E=Ap(),A=hn(),I=p.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),M=it(F=>kie(F,b,y,A,I));return E!=="horizontal"&&E!=="vertical"?null:p.createElement(Lie,xc({},k,{connectNulls:l,dot:c,activeDot:a,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:g,hide:u,label:h,legendType:x,xAxisId:b,yAxisId:y,points:M,layout:E,height:j,width:S,left:C,top:P,needClip:v}))}function Fie(e){var{layout:t,xAxis:a,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,g)=>{var h=Pr(u,o);return t==="horizontal"?{x:ph({axis:a,ticks:s,bandSize:l,entry:u,index:g}),y:Rr(h)?null:n.scale(h),value:h,payload:u}:{x:Rr(h)?null:a.scale(h),y:ph({axis:n,ticks:i,bandSize:l,entry:u,index:g}),value:h,payload:u}})}class fN extends p.PureComponent{render(){return p.createElement(iD,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},p.createElement(tD,{legendPayload:Pie(this.props)}),p.createElement(lN,{fn:Tie,args:this.props}),p.createElement(_ie,this.props))}}Yp(fN,"displayName","Line");Yp(fN,"defaultProps",jD);var ND=(e,t,a,n)=>Dc(e,"xAxis",t,n),CD=(e,t,a,n)=>qp(e,"xAxis",t,n),SD=(e,t,a,n)=>Dc(e,"yAxis",a,n),PD=(e,t,a,n)=>qp(e,"yAxis",a,n),zie=Ne([cr,ND,SD,CD,PD],(e,t,a,n,s)=>gi(e,"xAxis")?em(t,n,!1):em(a,s,!1)),Uie=(e,t,a,n,s)=>{var i,o=cr(e),l=gi(o,"xAxis"),c;if(l?c=tk(e,"yAxis",a,n):c=tk(e,"xAxis",t,n),c!=null){var{dataKey:u,stackId:g}=s;if(g!=null){var h=(i=c[g])===null||i===void 0?void 0:i.stackedData;return h?.find(x=>x.key===u)}}},qie=(e,t,a,n,s)=>s,Wie=Ne([Tj,qie],(e,t)=>{if(e.some(a=>a.type==="area"&&t.dataKey===a.dataKey&&E6(t.stackId)===a.stackId&&t.data===a.data))return t}),Vie=Ne([cr,ND,SD,CD,PD,Uie,xj,zie,Wie],(e,t,a,n,s,i,o,l,c)=>{var{chartData:u,dataStartIndex:g,dataEndIndex:h}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||a==null||n==null||s==null||n.length===0||s.length===0||l==null)){var{data:x}=c,b;if(x&&x.length>0?b=x:b=u?.slice(g,h+1),b!=null){var y=void 0;return coe({layout:e,xAxis:t,yAxis:a,xAxisTicks:n,yAxisTicks:s,dataStartIndex:g,areaSettings:c,stackedData:i,displayedData:b,chartBaseValue:y,bandSize:l})}}}),Hie=["layout","type","stroke","connectNulls","isRange"],Kie=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function TD(e,t){if(e==null)return{};var a,n,s=Gie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Gie(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function UT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Dl(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(a),!0).forEach(function(n){Xp(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):UT(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Xp(e,t,a){return(t=Qie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Qie(e){var t=Yie(e,"string");return typeof t=="symbol"?t:t+""}function Yie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zo(){return zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},zo.apply(null,arguments)}function $h(e,t){return e&&e!=="none"?e:t}var Xie=e=>{var{dataKey:t,name:a,stroke:n,fill:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:$h(n,s),value:Pc(a,t),payload:e}]};function Zie(e){var{dataKey:t,data:a,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Pc(o,t),hide:l,type:e.tooltipType,color:$h(n,i),unit:c}}}var Jie=(e,t)=>{var a;if(p.isValidElement(e))a=p.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var n=Gt("recharts-area-dot",typeof e!="boolean"?e.className:"");a=p.createElement(aN,zo({},t,{className:n}))}return a};function eoe(e,t){return e==null?!1:t?!0:e.length===1}function toe(e){var{clipPathId:t,points:a,props:n}=e,{needClip:s,dot:i,dataKey:o}=n;if(!eoe(a,i))return null;var l=pp(i),c=It(n,!1),u=It(i,!0),g=a.map((x,b)=>{var y=Dl(Dl(Dl({key:"dot-".concat(b),r:3},c),u),{},{index:b,cx:x.x,cy:x.y,dataKey:o,value:x.value,payload:x.payload,points:a});return Jie(i,y)}),h={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return p.createElement(xa,zo({className:"recharts-area-dots"},h),g)}function uk(e){var{points:t,baseLine:a,needClip:n,clipPathId:s,props:i,showLabels:o}=e,{layout:l,type:c,stroke:u,connectNulls:g,isRange:h}=i,x=TD(i,Hie);return p.createElement(p.Fragment,null,t?.length>1&&p.createElement(xa,{clipPath:n?"url(#clipPath-".concat(s,")"):void 0},p.createElement(Xd,zo({},It(x,!0),{points:t,connectNulls:g,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&p.createElement(Xd,zo({},It(i,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:g,fill:"none",points:t})),u!=="none"&&h&&p.createElement(Xd,zo({},It(i,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:g,fill:"none",points:a}))),p.createElement(toe,{points:t,props:i,clipPathId:s}),o&&Fo.renderCallByParent(i,t))}function roe(e){var{alpha:t,baseLine:a,points:n,strokeWidth:s}=e,i=n[0].y,o=n[n.length-1].y;if(!un(i)||!un(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(u=>u.x||0));return Je(a)?c=Math.max(a,c):a&&Array.isArray(a)&&a.length&&(c=Math.max(...a.map(u=>u.x||0),c)),Je(c)?p.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}function aoe(e){var{alpha:t,baseLine:a,points:n,strokeWidth:s}=e,i=n[0].x,o=n[n.length-1].x;if(!un(i)||!un(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(u=>u.y||0));return Je(a)?c=Math.max(a,c):a&&Array.isArray(a)&&a.length&&(c=Math.max(...a.map(u=>u.y||0),c)),Je(c)?p.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function noe(e){var{alpha:t,layout:a,points:n,baseLine:s,strokeWidth:i}=e;return a==="vertical"?p.createElement(roe,{alpha:t,points:n,baseLine:s,strokeWidth:i}):p.createElement(aoe,{alpha:t,points:n,baseLine:s,strokeWidth:i})}function soe(e){var{needClip:t,clipPathId:a,props:n,previousPointsRef:s,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:g,animationEasing:h,onAnimationStart:x,onAnimationEnd:b}=n,y=dN(n,"recharts-area-"),[k,v]=p.useState(!0),j=p.useCallback(()=>{typeof b=="function"&&b(),v(!1)},[b]),S=p.useCallback(()=>{typeof x=="function"&&x(),v(!0)},[x]),C=s.current,P=i.current;return p.createElement(Qo,{begin:u,duration:g,isActive:c,easing:h,from:{t:0},to:{t:1},onAnimationEnd:j,onAnimationStart:S,key:y},E=>{var{t:A}=E;if(C){var I=C.length/o.length,M=A===1?o:o.map((Q,U)=>{var V=Math.floor(U*I);if(C[V]){var K=C[V];return Dl(Dl({},Q),{},{x:Dd(K.x,Q.x,A),y:Dd(K.y,Q.y,A)})}return Q}),F;return Je(l)?F=Dd(P,l,A):Rr(l)||Hn(l)?F=Dd(P,0,A):F=l.map((Q,U)=>{var V=Math.floor(U*I);if(Array.isArray(P)&&P[V]){var K=P[V];return Dl(Dl({},Q),{},{x:Dd(K.x,Q.x,A),y:Dd(K.y,Q.y,A)})}return Q}),A>0&&(s.current=M,i.current=F),p.createElement(uk,{points:M,baseLine:F,needClip:t,clipPathId:a,props:n,showLabels:!k})}return A>0&&(s.current=o,i.current=l),p.createElement(xa,null,p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(a)},p.createElement(noe,{alpha:A,points:o,baseLine:l,layout:n.layout,strokeWidth:n.strokeWidth}))),p.createElement(xa,{clipPath:"url(#animationClipPath-".concat(a,")")},p.createElement(uk,{points:o,baseLine:l,needClip:t,clipPathId:a,props:n,showLabels:!0})))})}function ioe(e){var{needClip:t,clipPathId:a,props:n}=e,{points:s,baseLine:i,isAnimationActive:o}=n,l=p.useRef(null),c=p.useRef(),u=l.current,g=c.current;return o&&s&&s.length&&(u!==s||g!==i)?p.createElement(soe,{needClip:t,clipPathId:a,props:n,previousPointsRef:l,previousBaselineRef:c}):p.createElement(uk,{points:s,baseLine:i,needClip:t,clipPathId:a,props:n,showLabels:!0})}class ooe extends p.PureComponent{constructor(){super(...arguments),Xp(this,"id",Zl("recharts-area-"))}render(){var t,{hide:a,dot:n,points:s,className:i,top:o,left:l,needClip:c,xAxisId:u,yAxisId:g,width:h,height:x,id:b,baseLine:y}=this.props;if(a)return null;var k=Gt("recharts-area",i),v=Rr(b)?this.id:b,{r:j=3,strokeWidth:S=2}=(t=It(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},C=pp(n),P=j*2+S;return p.createElement(p.Fragment,null,p.createElement(xa,{className:k},c&&p.createElement("defs",null,p.createElement(uD,{clipPathId:v,xAxisId:u,yAxisId:g}),!C&&p.createElement("clipPath",{id:"clipPath-dots-".concat(v)},p.createElement("rect",{x:l-P/2,y:o-P/2,width:h+P,height:x+P}))),p.createElement(ioe,{needClip:c,clipPathId:v,props:this.props})),p.createElement(dk,{points:s,mainColor:$h(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(y)&&p.createElement(dk,{points:y,mainColor:$h(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var AD={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!id.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function loe(e){var t,a=vs(e,AD),{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:u,fillOpacity:g,hide:h,isAnimationActive:x,legendType:b,stroke:y,xAxisId:k,yAxisId:v}=a,j=TD(a,Kie),S=Ap(),C=RO(),{needClip:P}=uN(k,v),E=hn(),A=p.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:l,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,l,e.data,e.dataKey]),{points:I,isRange:M,baseLine:F}=(t=it(Z=>Vie(Z,k,v,E,A)))!==null&&t!==void 0?t:{},{height:Q,width:U,x:V,y:K}=Qp();return S!=="horizontal"&&S!=="vertical"||C!=="AreaChart"&&C!=="ComposedChart"?null:p.createElement(ooe,zo({},j,{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,baseLine:F,connectNulls:l,dot:c,fill:u,fillOpacity:g,height:Q,hide:h,layout:S,isAnimationActive:x,isRange:M,legendType:b,needClip:P,points:I,stroke:y,width:U,left:V,top:K,xAxisId:k,yAxisId:v}))}var doe=(e,t,a,n,s)=>{var i=a??t;if(Je(i))return i;var o=e==="horizontal"?s:n,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return i==="dataMin"?u:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function coe(e){var{areaSettings:{connectNulls:t,baseValue:a,dataKey:n},stackedData:s,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:g,xAxisTicks:h,yAxisTicks:x,bandSize:b}=e,y=s&&s.length,k=doe(i,o,a,l,c),v=i==="horizontal",j=!1,S=u.map((P,E)=>{var A;y?A=s[g+E]:(A=Pr(P,n),Array.isArray(A)?j=!0:A=[k,A]);var I=A[1]==null||y&&!t&&Pr(P,n)==null;return v?{x:ph({axis:l,ticks:h,bandSize:b,entry:P,index:E}),y:I?null:c.scale(A[1]),value:A,payload:P}:{x:I?null:l.scale(A[1]),y:ph({axis:c,ticks:x,bandSize:b,entry:P,index:E}),value:A,payload:P}}),C;return y||j?C=S.map(P=>{var E=Array.isArray(P.value)?P.value[0]:null;return v?{x:P.x,y:E!=null&&P.y!=null?c.scale(E):null}:{x:E!=null?l.scale(E):null,y:P.y}}):C=v?c.scale(k):l.scale(k),{points:S,baseLine:C,isRange:j}}class Bh extends p.PureComponent{render(){return p.createElement(iD,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},p.createElement(tD,{legendPayload:Xie(this.props)}),p.createElement(lN,{fn:Zie,args:this.props}),p.createElement(loe,this.props))}}Xp(Bh,"displayName","Area");Xp(Bh,"defaultProps",AD);function qT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function WT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(a),!0).forEach(function(n){uoe(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qT(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function uoe(e,t,a){return(t=moe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function moe(e){var t=goe(e,"string");return typeof t=="symbol"?t:t+""}function goe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hoe={xAxis:{},yAxis:{},zAxis:{}},MD=bs({name:"cartesianAxis",initialState:hoe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:a,width:n}=t.payload;e.yAxis[a]&&(e.yAxis[a]=WT(WT({},e.yAxis[a]),{},{width:n}))}}}),{addXAxis:poe,removeXAxis:foe,addYAxis:xoe,removeYAxis:yoe,addZAxis:o0e,removeZAxis:l0e,updateYAxisWidth:boe}=MD.actions,voe=MD.reducer,koe=["children"],woe=["dangerouslySetInnerHTML","ticks"];function ID(e,t,a){return(t=joe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function joe(e){var t=Noe(e,"string");return typeof t=="symbol"?t:t+""}function Noe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mk(){return mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},mk.apply(null,arguments)}function ED(e,t){if(e==null)return{};var a,n,s=Coe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Coe(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function Soe(e){var t=Br(),a=p.useMemo(()=>{var{children:i}=e,o=ED(e,koe);return o},[e]),n=it(i=>eo(i,a.id)),s=a===n;return p.useEffect(()=>(t(poe(a)),()=>{t(foe(a))}),[a,t]),s?e.children:null}var Poe=e=>{var{xAxisId:t,className:a}=e,n=it($6),s=hn(),i="xAxis",o=it(b=>Oc(b,i,t,s)),l=it(b=>pO(b,i,t,s)),c=it(b=>ste(b,t)),u=it(b=>cte(b,t));if(c==null||u==null)return null;var{dangerouslySetInnerHTML:g,ticks:h}=e,x=ED(e,woe);return p.createElement(el,mk({},x,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:Gt("recharts-".concat(i," ").concat(i),a),viewBox:n,ticks:l}))},Toe=e=>{var t,a,n,s,i;return p.createElement(Soe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(a=e.includeHidden)!==null&&a!==void 0?a:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},p.createElement(Poe,e))};class Zp extends p.Component{render(){return p.createElement(Toe,this.props)}}ID(Zp,"displayName","XAxis");ID(Zp,"defaultProps",{allowDataOverflow:$n.allowDataOverflow,allowDecimals:$n.allowDecimals,allowDuplicatedCategory:$n.allowDuplicatedCategory,height:$n.height,hide:!1,mirror:$n.mirror,orientation:$n.orientation,padding:$n.padding,reversed:$n.reversed,scale:$n.scale,tickCount:$n.tickCount,type:$n.type,xAxisId:0});var Aoe=e=>{var{ticks:t,label:a,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(g=>{if(g){var h=g.getBoundingClientRect();h.width>o&&(o=h.width)}});var l=a?a.getBoundingClientRect().width:0,c=s+i,u=o+c+l+(a?n:0);return Math.round(u)}return 0},Moe=["dangerouslySetInnerHTML","ticks"];function OD(e,t,a){return(t=Ioe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ioe(e){var t=Eoe(e,"string");return typeof t=="symbol"?t:t+""}function Eoe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gk(){return gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},gk.apply(null,arguments)}function Ooe(e,t){if(e==null)return{};var a,n,s=Doe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Doe(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function Roe(e){var t=Br();return p.useEffect(()=>(t(xoe(e)),()=>{t(yoe(e))}),[e,t]),null}var $oe=e=>{var t,{yAxisId:a,className:n,width:s,label:i}=e,o=p.useRef(null),l=p.useRef(null),c=it($6),u=hn(),g=Br(),h="yAxis",x=it(C=>Oc(C,h,a,u)),b=it(C=>mte(C,a)),y=it(C=>ute(C,a)),k=it(C=>pO(C,h,a,u));if(p.useLayoutEffect(()=>{var C;if(!(s!=="auto"||!b||rN(i)||p.isValidElement(i))){var P=o.current,E=P==null||(C=P.tickRefs)===null||C===void 0?void 0:C.current,{tickSize:A,tickMargin:I}=P.props,M=Aoe({ticks:E,label:l.current,labelGapWithTick:5,tickSize:A,tickMargin:I});Math.round(b.width)!==Math.round(M)&&g(boe({id:a,width:M}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,b?.width,b,g,i,a,s]),b==null||y==null)return null;var{dangerouslySetInnerHTML:v,ticks:j}=e,S=Ooe(e,Moe);return p.createElement(el,gk({},S,{ref:o,labelRef:l,scale:x,x:y.x,y:y.y,width:b.width,height:b.height,className:Gt("recharts-".concat(h," ").concat(h),n),viewBox:c,ticks:k}))},Boe=e=>{var t,a,n,s,i;return p.createElement(p.Fragment,null,p.createElement(Roe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(a=e.includeHidden)!==null&&a!==void 0?a:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),p.createElement($oe,e))},Loe={allowDataOverflow:Bn.allowDataOverflow,allowDecimals:Bn.allowDecimals,allowDuplicatedCategory:Bn.allowDuplicatedCategory,hide:!1,mirror:Bn.mirror,orientation:Bn.orientation,padding:Bn.padding,reversed:Bn.reversed,scale:Bn.scale,tickCount:Bn.tickCount,type:Bn.type,width:Bn.width,yAxisId:0};class Jp extends p.Component{render(){return p.createElement(Boe,this.props)}}OD(Jp,"displayName","YAxis");OD(Jp,"defaultProps",Loe);var _b={exports:{}},Fb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT;function _oe(){if(VT)return Fb;VT=1;var e=yc();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var a=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,l=e.useDebugValue;return Fb.useSyncExternalStoreWithSelector=function(c,u,g,h,x){var b=s(null);if(b.current===null){var y={hasValue:!1,value:null};b.current=y}else y=b.current;b=o(function(){function v(E){if(!j){if(j=!0,S=E,E=h(E),x!==void 0&&y.hasValue){var A=y.value;if(x(A,E))return C=A}return C=E}if(A=C,a(S,E))return A;var I=h(E);return x!==void 0&&x(A,I)?(S=E,A):(S=E,C=I)}var j=!1,S,C,P=g===void 0?null:g;return[function(){return v(u())},P===null?void 0:function(){return v(P())}]},[u,g,h,x]);var k=n(c,b[0],b[1]);return i(function(){y.hasValue=!0,y.value=k},[k]),l(k),k},Fb}var HT;function Foe(){return HT||(HT=1,_b.exports=_oe()),_b.exports}Foe();function zoe(e){e()}function Uoe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){zoe(()=>{let a=e;for(;a;)a.callback(),a=a.next})},get(){const a=[];let n=e;for(;n;)a.push(n),n=n.next;return a},subscribe(a){let n=!0;const s=t={callback:a,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var KT={notify(){},get:()=>[]};function qoe(e,t){let a,n=KT,s=0,i=!1;function o(k){g();const v=n.subscribe(k);let j=!1;return()=>{j||(j=!0,v(),h())}}function l(){n.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return i}function g(){s++,a||(a=e.subscribe(c),n=Uoe())}function h(){s--,a&&s===0&&(a(),a=void 0,n.clear(),n=KT)}function x(){i||(i=!0,g())}function b(){i&&(i=!1,h())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:x,tryUnsubscribe:b,getListeners:()=>n};return y}var Woe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Voe=Woe(),Hoe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Koe=Hoe(),Goe=()=>Voe||Koe?p.useLayoutEffect:p.useEffect,Qoe=Goe(),Yoe=Symbol.for("react-redux-context"),Xoe=typeof globalThis<"u"?globalThis:{};function Zoe(){if(!p.createContext)return{};const e=Xoe[Yoe]??=new Map;let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var Joe=Zoe();function ele(e){const{children:t,context:a,serverState:n,store:s}=e,i=p.useMemo(()=>{const c=qoe(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),o=p.useMemo(()=>s.getState(),[s]);Qoe(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=a||Joe;return p.createElement(l.Provider,{value:i},t)}var tle=ele,rle=(e,t)=>t,xN=Ne([rle,cr,jee,Ea,MO,to,pre,Ma],vre),yN=e=>{var t=e.currentTarget.getBoundingClientRect(),a=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/a),chartY:Math.round((e.clientY-t.top)/n)}},DD=fs("mouseClick"),RD=Am();RD.startListening({actionCreator:DD,effect:(e,t)=>{var a=e.payload,n=xN(t.getState(),yN(a));n?.activeIndex!=null&&t.dispatch(Cte({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var hk=fs("mouseMove"),$D=Am();$D.startListening({actionCreator:hk,effect:(e,t)=>{var a=e.payload,n=t.getState(),s=Wj(n,n.tooltip.settings.shared),i=xN(n,yN(a));s==="axis"&&(i?.activeIndex!=null?t.dispatch(jO({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(wO()))}});function ale(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var GT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},BD=bs({name:"rootProps",initialState:GT,reducers:{updateOptions:(e,t)=>{var a;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(a=t.payload.barGap)!==null&&a!==void 0?a:GT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),nle=BD.reducer,{updateOptions:sle}=BD.actions,LD=bs({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ile}=LD.actions,ole=LD.reducer,_D=fs("keyDown"),FD=fs("focus"),bN=Am();bN.startListening({actionCreator:_D,effect:(e,t)=>{var a=t.getState(),n=a.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=a.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(Vj(s,ud(a))),l=to(a);if(i==="Enter"){var c=Mh(a,"axis","hover",String(s.index));t.dispatch(ak({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var u=fte(a),g=u==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,x=o+h*g;if(!(l==null||x>=l.length||x<0)){var b=Mh(a,"axis","hover",String(x));t.dispatch(ak({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});bN.startListening({actionCreator:FD,effect:(e,t)=>{var a=t.getState(),n=a.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=a.tooltip;if(!s.active&&s.index==null){var i="0",o=Mh(a,"axis","hover",String(i));t.dispatch(ak({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var is=fs("externalEvent"),zD=Am();zD.startListening({actionCreator:is,effect:(e,t)=>{if(e.payload.handler!=null){var a=t.getState(),n={activeCoordinate:ire(a),activeDataKey:nre(a),activeIndex:fc(a),activeLabel:OO(a),activeTooltipIndex:fc(a),isTooltipActive:ore(a)};e.payload.handler(n,e.payload.reactEvent)}}});var lle=Ne([Rc],e=>e.tooltipItemPayloads),dle=Ne([lle,Fm,(e,t,a)=>t,(e,t,a)=>a],(e,t,a,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,a);return o}}}),UD=fs("touchMove"),qD=Am();qD.startListening({actionCreator:UD,effect:(e,t)=>{var a=e.payload,n=t.getState(),s=Wj(n,n.tooltip.settings.shared);if(s==="axis"){var i=xN(n,yN({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));i?.activeIndex!=null&&t.dispatch(jO({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,l=a.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(D6),g=(o=c.getAttribute(R6))!==null&&o!==void 0?o:void 0,h=dle(t.getState(),u,g);t.dispatch(kO({activeDataKey:g,activeIndex:u,activeCoordinate:h}))}}});var cle=i6({brush:Ese,cartesianAxis:voe,chartData:$re,graphicalItems:fne,layout:pQ,legend:JQ,options:Ire,polarAxis:rne,polarOptions:ole,referenceElements:_se,rootProps:nle,tooltip:Ste}),ule=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return FG({reducer:cle,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([RD.middleware,$D.middleware,bN.middleware,zD.middleware,qD.middleware]),devTools:{serialize:{replacer:ale},name:"recharts-".concat(a)}})};function WD(e){var{preloadedState:t,children:a,reduxStoreName:n}=e,s=hn(),i=p.useRef(null);if(s)return a;i.current==null&&(i.current=ule(t,n));var o=Dw;return p.createElement(tle,{context:o,store:i.current},a)}function VD(e){var{layout:t,width:a,height:n,margin:s}=e,i=Br(),o=hn();return p.useEffect(()=>{o||(i(mQ(t)),i(gQ({width:a,height:n})),i(uQ(s)))},[i,o,t,a,n,s]),null}function HD(e){var t=Br();return p.useEffect(()=>{t(sle(e))},[t,e]),null}var mle=["children"];function gle(e,t){if(e==null)return{};var a,n,s=hle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function hle(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function Lh(){return Lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Lh.apply(null,arguments)}var ple={width:"100%",height:"100%"},fle=p.forwardRef((e,t)=>{var a=qw(),n=Ww(),s=z6();if(!uc(a)||!uc(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,u,g;return typeof o.tabIndex=="number"?u=o.tabIndex:u=s?0:void 0,typeof o.role=="string"?g=o.role:g=s?"application":void 0,p.createElement(ww,Lh({},o,{title:l,desc:c,role:g,tabIndex:u,width:a,height:n,style:ple,ref:t}),i)}),xle=e=>{var{children:t}=e,a=it(Tp);if(!a)return null;var{width:n,height:s,y:i,x:o}=a;return p.createElement(ww,{width:n,height:s,x:o,y:i},t)},QT=p.forwardRef((e,t)=>{var{children:a}=e,n=gle(e,mle),s=hn();return s?p.createElement(xle,null,a):p.createElement(fle,Lh({ref:t},n),a)});function yle(){var e=Br(),[t,a]=p.useState(null),n=it(zQ);return p.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;un(i)&&i!==n&&e(hQ(i))}},[t,e,n]),a}function YT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function ble(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(a),!0).forEach(function(n){vle(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):YT(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function vle(e,t,a){return(t=kle(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function kle(e){var t=wle(e,"string");return typeof t=="symbol"?t:t+""}function wle(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jle=p.forwardRef((e,t)=>{var{children:a,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:g,onMouseMove:h,onMouseUp:x,onTouchEnd:b,onTouchMove:y,onTouchStart:k,style:v,width:j}=e,S=Br(),[C,P]=p.useState(null),[E,A]=p.useState(null);_re();var I=yle(),M=p.useCallback(H=>{I(H),typeof t=="function"&&t(H),P(H),A(H)},[I,t,P,A]),F=p.useCallback(H=>{S(DD(H)),S(is({handler:i,reactEvent:H}))},[S,i]),Q=p.useCallback(H=>{S(hk(H)),S(is({handler:u,reactEvent:H}))},[S,u]),U=p.useCallback(H=>{S(wO()),S(is({handler:g,reactEvent:H}))},[S,g]),V=p.useCallback(H=>{S(hk(H)),S(is({handler:h,reactEvent:H}))},[S,h]),K=p.useCallback(()=>{S(FD())},[S]),Z=p.useCallback(H=>{S(_D(H.key))},[S]),ie=p.useCallback(H=>{S(is({handler:o,reactEvent:H}))},[S,o]),te=p.useCallback(H=>{S(is({handler:l,reactEvent:H}))},[S,l]),R=p.useCallback(H=>{S(is({handler:c,reactEvent:H}))},[S,c]),D=p.useCallback(H=>{S(is({handler:x,reactEvent:H}))},[S,x]),W=p.useCallback(H=>{S(is({handler:k,reactEvent:H}))},[S,k]),X=p.useCallback(H=>{S(UD(H)),S(is({handler:y,reactEvent:H}))},[S,y]),B=p.useCallback(H=>{S(is({handler:b,reactEvent:H}))},[S,b]);return p.createElement(FO.Provider,{value:C},p.createElement(AI.Provider,{value:E},p.createElement("div",{className:Gt("recharts-wrapper",n),style:ble({position:"relative",cursor:"default",width:j,height:s},v),onClick:F,onContextMenu:ie,onDoubleClick:te,onFocus:K,onKeyDown:Z,onMouseDown:R,onMouseEnter:Q,onMouseLeave:U,onMouseMove:V,onMouseUp:D,onTouchEnd:B,onTouchMove:X,onTouchStart:W,ref:M},a)))}),Nle=["children","className","width","height","style","compact","title","desc"];function Cle(e,t){if(e==null)return{};var a,n,s=Sle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Sle(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var KD=p.forwardRef((e,t)=>{var{children:a,className:n,width:s,height:i,style:o,compact:l,title:c,desc:u}=e,g=Cle(e,Nle),h=It(g,!1);return l?p.createElement(QT,{otherAttributes:h,title:c,desc:u},a):p.createElement(jle,{className:n,style:o,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(QT,{otherAttributes:h,title:c,desc:u,ref:t},p.createElement(zse,null,a)))}),Ple=["width","height"];function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},pk.apply(null,arguments)}function Tle(e,t){if(e==null)return{};var a,n,s=Ale(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Ale(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var Mle={top:5,right:5,bottom:5,left:5},Ile={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Mle,reverseStackOrder:!1,syncMethod:"index"},GD=p.forwardRef(function(t,a){var n,s=vs(t.categoricalChartProps,Ile),{width:i,height:o}=s,l=Tle(s,Ple);if(!uc(i)||!uc(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:g,tooltipPayloadSearcher:h,categoricalChartProps:x}=t,b={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:g,tooltipPayloadSearcher:h,eventEmitter:void 0};return p.createElement(WD,{preloadedState:{options:b},reduxStoreName:(n=x.id)!==null&&n!==void 0?n:c},p.createElement(mD,{chartData:x.data}),p.createElement(VD,{width:i,height:o,layout:s.layout,margin:s.margin}),p.createElement(HD,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),p.createElement(KD,pk({},l,{width:i,height:o,ref:a})))}),Ele=["axis"],Ole=p.forwardRef((e,t)=>p.createElement(GD,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ele,tooltipPayloadSearcher:Jj,categoricalChartProps:e,ref:t}));function Dle(e){var t=Br();return p.useEffect(()=>{t(ile(e))},[t,e]),null}var Rle=["width","height","layout"];function fk(){return fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},fk.apply(null,arguments)}function $le(e,t){if(e==null)return{};var a,n,s=Ble(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Ble(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var Lle={top:5,right:5,bottom:5,left:5},_le={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Lle,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Fle=p.forwardRef(function(t,a){var n,s=vs(t.categoricalChartProps,_le),{width:i,height:o,layout:l}=s,c=$le(s,Rle);if(!uc(i)||!uc(o))return null;var{chartName:u,defaultTooltipEventType:g,validateTooltipEventTypes:h,tooltipPayloadSearcher:x}=t,b={chartName:u,defaultTooltipEventType:g,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,eventEmitter:void 0};return p.createElement(WD,{preloadedState:{options:b},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:u},p.createElement(mD,{chartData:s.data}),p.createElement(VD,{width:i,height:o,layout:l,margin:s.margin}),p.createElement(HD,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),p.createElement(Dle,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),p.createElement(KD,fk({width:i,height:o},c,{ref:a})))}),zle=["item"],Ule={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},qle=p.forwardRef((e,t)=>{var a=vs(e,Ule);return p.createElement(Fle,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:zle,tooltipPayloadSearcher:Jj,categoricalChartProps:a,ref:t})}),Wle=["axis"],Vle=p.forwardRef((e,t)=>p.createElement(GD,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Wle,tooltipPayloadSearcher:Jj,categoricalChartProps:e,ref:t}));const Hle=({data:e})=>{const{isDark:t}=mi(),{t:a,language:n}=qe(),s=n==="ar";return e.length===0?r.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 h-[300px] flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx($l,{className:"h-8 w-8 text-gray-400"})}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:a("weeklyActivity.empty.primary")}),r.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:a("weeklyActivity.empty.secondary")})]})}):r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("weeklyActivity.title")}),r.jsxs("div",{className:`flex items-center ${s?"space-x-reverse space-x-4":"space-x-4"}`,children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-3 h-3 bg-blue-500 rounded-full ${s?"ml-2":"mr-2"}`}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("weeklyActivity.labels.views")})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-3 h-3 bg-green-500 rounded-full ${s?"ml-2":"mr-2"}`}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("weeklyActivity.labels.qrScans")})]})]})]}),r.jsx(tN,{width:"100%",height:300,children:r.jsxs(Vle,{data:e,margin:{top:10,right:10,left:0,bottom:0},children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"colorViews",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.1}),r.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),r.jsxs("linearGradient",{id:"colorScans",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.1}),r.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),r.jsx(pN,{strokeDasharray:"3 3",stroke:t?"#374151":"#E5E7EB",vertical:!1}),r.jsx(Zp,{dataKey:"day",stroke:t?"#9CA3AF":"#6B7280",fontSize:12,tickLine:!1,axisLine:!1}),r.jsx(Jp,{stroke:t?"#9CA3AF":"#6B7280",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:i=>i.toString()}),r.jsx(eN,{contentStyle:{backgroundColor:t?"#1F2937":"#FFFFFF",border:t?"1px solid #374151":"1px solid #E5E7EB",borderRadius:"8px",color:t?"#FFFFFF":"#000000"},formatter:(i,o)=>[i,a(o==="views"?"weeklyActivity.labels.views":"weeklyActivity.labels.qrScans")]}),r.jsx(Bh,{type:"monotone",dataKey:"views",stroke:"#3B82F6",strokeWidth:2,fill:"url(#colorViews)",name:a("weeklyActivity.legend.views"),dot:{fill:"#3B82F6",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#3B82F6",strokeWidth:2}}),r.jsx(Bh,{type:"monotone",dataKey:"scans",stroke:"#10B981",strokeWidth:2,fill:"url(#colorScans)",name:a("weeklyActivity.legend.qrScans"),dot:{fill:"#10B981",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#10B981",strokeWidth:2}}),r.jsx(Mm,{verticalAlign:"top",align:s?"left":"right",height:36,iconType:"circle",formatter:i=>r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:i})})]})})]})},Kle=({title:e,value:t,change:a,icon:n,iconBgColor:s,iconColor:i,delay:o=.1})=>r.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:t}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(fm,{className:"h-4 w-4 text-green-500 mr-1"}),r.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:a.value}),r.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-1",children:a.text})]})]}),r.jsx("div",{className:`p-3 ${s} rounded-lg`,children:r.jsx(n,{className:`h-6 w-6 ${i}`})})]})}),XT=Math.PI/180,Gle=({data:e,colors:t})=>{const{isDark:a}=mi(),{t:n}=qe(),s=({cx:i,cy:o,midAngle:l,innerRadius:c,outerRadius:u,percent:g,name:h})=>{const x=c+(u-c)*.5,b=i+x*Math.cos(-l*XT),y=o+x*Math.sin(-l*XT);return r.jsx("text",{x:b,y,fill:"white",textAnchor:b>i?"start":"end",dominantBaseline:"central",className:"text-xs",children:`${h} ${(g*100).toFixed(0)}${n("popularProducts.labels.percentage")}`})};return e.length===0?r.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 h-[300px] flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Aa,{className:"h-8 w-8 text-gray-400"})}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium"}),r.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:n("popularProducts.empty")})]})}):r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:n("popularProducts.title")}),r.jsx(tN,{width:"100%",height:300,children:r.jsxs(qle,{children:[r.jsx(cN,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:s,outerRadius:100,fill:"#8884d8",dataKey:"orders",children:e.map((i,o)=>r.jsx(Hp,{fill:i.fill||t[o%t.length]},`cell-${o}`))}),r.jsx(eN,{contentStyle:{backgroundColor:a?"#1F2937":"#FFFFFF",border:a?"1px solid #374151":"1px solid #E5E7EB",borderRadius:"8px",color:a?"#FFFFFF":"#000000"},formatter:(i,o,l)=>[`${i} ${n("popularProducts.labels.orders")} (${l.payload.percentage}${n("popularProducts.labels.percentage")})`,o]}),r.jsx(Mm,{verticalAlign:"bottom",height:36,formatter:i=>r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:i})})]})})]})},Qle=({data:e,totalRevenue:t})=>{const{isDark:a}=mi(),{t:n,language:s}=qe(),i=s==="ar",o=c=>{const u=n("monthlyRevenue.currency.symbol"),g=n("monthlyRevenue.currency.locale"),h=n("monthlyRevenue.currency.position"),x=c.toLocaleString(g);return h==="after"?`${x} ${u}`:`${u}${x}`},l=c=>{const u=n("monthlyRevenue.currency.symbol"),g=n("monthlyRevenue.currency.position"),h=(c/1e3).toFixed(0);return g==="after"?`${h}k ${u}`:`${u}${h}k`};return e.length===0?r.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 h-[300px] flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ho,{className:"h-8 w-8 text-gray-400"})}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:n("monthlyRevenue.empty.primary")}),r.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:n("monthlyRevenue.empty.secondary")})]})}):r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("monthlyRevenue.title")}),r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:n("monthlyRevenue.labels.total")}),r.jsx("span",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:o(t)})]})]}),r.jsx(tN,{width:"100%",height:300,children:r.jsxs(Ole,{data:e,children:[r.jsx(pN,{strokeDasharray:"3 3",stroke:a?"#374151":"#E5E7EB"}),r.jsx(Zp,{dataKey:"month",stroke:a?"#9CA3AF":"#6B7280",fontSize:12}),r.jsx(Jp,{stroke:a?"#9CA3AF":"#6B7280",fontSize:12,tickFormatter:l}),r.jsx(eN,{contentStyle:{backgroundColor:a?"#1F2937":"#FFFFFF",border:a?"1px solid #374151":"1px solid #E5E7EB",borderRadius:"8px",color:a?"#FFFFFF":"#000000"},formatter:c=>[o(c),n("monthlyRevenue.labels.revenue")]}),r.jsx(fN,{type:"monotone",dataKey:"revenue",stroke:"#10B981",strokeWidth:3,dot:{fill:"#10B981",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#10B981",strokeWidth:2}})]})})]})},Yle=({stats:e})=>{const{t}=qe();return r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:t("monthlyRevenue.QuickStats")}),r.jsx("div",{className:"space-y-4",children:e.map((a,n)=>{const s=a.icon;return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`p-2 ${a.color.bg} ${a.color.darkBg} rounded-lg mr-3`,children:r.jsx(s,{className:`h-4 w-4 ${a.color.text}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.title}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.subtitle})]})]}),r.jsx("span",{className:`text-lg font-bold ${a.color.text}`,children:a.value})]},n)})})]})};class Xle{baseUrl="/api/Dashboard";hasCheckedEndpoints=!1;availableEndpoint=null;async getOverviewCharts(){try{if(this.hasCheckedEndpoints||await this.checkAvailableEndpoints(),!this.availableEndpoint)return N.warn("Dashboard endpoint'leri mevcut değil, boş veri döndürülüyor",null,{prefix:"DashboardService"}),{weeklyViews:[],popularProducts:[],monthlyRevenue:[]};const t=await se.get(`${this.baseUrl}/${this.availableEndpoint}`);return N.debug(`Dashboard verileri başarıyla alındı: ${this.availableEndpoint}`,null,{prefix:"DashboardService"}),t.data}catch(t){return t.response?.status===404?(N.warn("Dashboard endpoint mevcut değil, boş veri döndürülüyor",null,{prefix:"DashboardService"}),{weeklyViews:[],popularProducts:[],monthlyRevenue:[]}):(N.error("Overview grafik verileri alınırken hata:",t,{prefix:"DashboardService"}),{weeklyViews:[],popularProducts:[],monthlyRevenue:[]})}}async checkAvailableEndpoints(){const t=["overview-charts","charts","overview"];for(const a of t)try{await se.get(`${this.baseUrl}/${a}`),this.availableEndpoint=a,N.debug(`Dashboard endpoint bulundu: ${a}`,null,{prefix:"DashboardService"});break}catch(n){if(n.response?.status===404)continue;this.availableEndpoint=a,N.debug(`Dashboard endpoint kullanılacak: ${a}`,null,{prefix:"DashboardService"});break}this.hasCheckedEndpoints=!0,this.availableEndpoint||N.debug("Hiçbir dashboard endpoint'i mevcut değil",null,{prefix:"DashboardService"})}async getDashboardStats(){try{return(await se.get(`${this.baseUrl}/stats`)).data}catch(t){return N.error("Dashboard istatistikleri alınırken hata:",t,{prefix:"DashboardService"}),null}}}const Zle=new Xle,Jle=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],ede=()=>{const[e,t]=p.useState(null),[a,n]=p.useState(!0),[s,i]=p.useState(null),{t:o,language:l}=qe();p.useEffect(()=>{(async()=>{try{n(!0),i(null);const h=await Zle.getOverviewCharts();t(h)}catch(h){N.error("Overview verileri alınırken hata:",h,{prefix:"Overview"}),i(h.message||"Dashboard verileri yüklenemedi")}finally{n(!1)}})()},[]);const c=[{title:o("dashboard.overview.kpis.totalViews"),value:"2,847",change:{value:"+12.5%",text:o("dashboard.overview.kpis.changeTexts.lastWeek")},icon:cn,iconBgColor:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400",delay:.1},{title:o("dashboard.overview.kpis.qrScans"),value:"1,963",change:{value:"+8.3%",text:o("dashboard.overview.kpis.changeTexts.lastMonth")},icon:hs,iconBgColor:"bg-green-100 dark:bg-green-900/30",iconColor:"text-green-600 dark:text-green-400",delay:.2},{title:o("dashboard.overview.kpis.totalOrders"),value:"148",change:{value:"+15.2%",text:o("dashboard.overview.kpis.changeTexts.thisWeek")},icon:Aa,iconBgColor:"bg-yellow-100 dark:bg-yellow-900/30",iconColor:"text-yellow-600 dark:text-yellow-400",delay:.3},{title:o("dashboard.overview.kpis.customerRating"),value:"4.8",change:{value:"+0.2",text:o("dashboard.overview.kpis.changeTexts.lastMonth")},icon:Ya,iconBgColor:"bg-purple-100 dark:bg-purple-900/30",iconColor:"text-purple-600 dark:text-purple-400",delay:.4}],u=[{icon:Fa,title:o("dashboard.overview.quickStats.thisMonth"),subtitle:o("dashboard.overview.quickStats.totalOrders"),value:"423",color:{bg:"bg-blue-100",text:"text-blue-600 dark:text-blue-400",darkBg:"dark:bg-blue-900/30"}},{icon:Ho,title:o("dashboard.overview.quickStats.average"),subtitle:o("dashboard.overview.quickStats.dailyOrders"),value:"18.5",color:{bg:"bg-green-100",text:"text-green-600 dark:text-green-400",darkBg:"dark:bg-green-900/30"}},{icon:Ht,title:o("dashboard.overview.quickStats.new"),subtitle:o("dashboard.overview.quickStats.customers"),value:"127",color:{bg:"bg-purple-100",text:"text-purple-600 dark:text-purple-400",darkBg:"dark:bg-purple-900/30"}},{icon:Ya,title:o("dashboard.overview.quickStats.rating"),subtitle:o("dashboard.overview.quickStats.totalCount"),value:"89",color:{bg:"bg-yellow-100",text:"text-yellow-600 dark:text-yellow-400",darkBg:"dark:bg-yellow-900/30"}}];return a?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:o("common.loading")})]})}):s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-500 mb-4",children:r.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:s}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:o("common.retry")})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map((g,h)=>r.jsx(Kle,{...g},h))}),e&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(Hle,{data:e.weeklyViews}),r.jsx(Gle,{data:e.popularProducts,colors:Jle})]}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[r.jsx("div",{className:"xl:col-span-2",children:r.jsx(Qle,{data:e.monthlyRevenue,totalRevenue:0})}),r.jsx(Yle,{stats:u})]})]})]})},tde=({table:e,onEdit:t,onDelete:a,onToggleStatus:n,onDownload:s,isToggling:i=!1})=>{const{t:o,isRTL:l}=qe(),c=b=>b?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400",u=b=>b?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400",g=b=>o(b?"TableCard.active":"TableCard.inactive"),h=b=>o(b?"TableCard.occupied":"TableCard.empty"),x=b=>b===1?`${b} ${o("TableCard.capacity")}`:`${b} ${o("TableCard.capacityPlural")}`;return r.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow",role:"article","aria-label":o("TableCard.accessibility.tableCard"),children:[r.jsxs("div",{className:`flex items-start justify-between mb-3 ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-3 ${l?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-lg",children:r.jsx(hs,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.menuTableName}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.categoryName})]})]}),r.jsxs("div",{className:`flex gap-1 ${l?"flex-row-reverse":""}`,children:[r.jsx("button",{onClick:()=>s(e),className:"p-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",title:o("TableCard.downloadQR"),"aria-label":o("TableCard.accessibility.downloadButton"),children:r.jsx(Uu,{className:"h-3 w-3"})}),r.jsx("button",{onClick:()=>t(e),className:"p-1 text-yellow-600 hover:text-yellow-800 dark:text-yellow-400 dark:hover:text-yellow-300",title:o("TableCard.edit"),"aria-label":o("TableCard.accessibility.editButton"),children:r.jsx(Xh,{className:"h-3 w-3"})}),r.jsx("button",{onClick:()=>a(e.id),className:"p-1 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:o("TableCard.delete"),"aria-label":o("TableCard.accessibility.deleteButton"),children:r.jsx(er,{className:"h-3 w-3"})})]})]}),r.jsx("div",{className:"mb-3",children:r.jsx("a",{href:`/table/qr/${e.qrCode}`,target:"_blank",rel:"noopener noreferrer",title:o("TableCard.viewQRCode"),"aria-label":o("TableCard.accessibility.qrCodePreview"),className:"inline-block hover:opacity-80",children:r.jsx("img",{src:`${e.qrCodeUrl}`,alt:o("TableCard.viewQRCode"),className:"w-16 h-16 rounded border border-gray-200 dark:border-gray-600 bg-white"})})}),r.jsxs("div",{className:`flex items-center mb-3 ${l?"flex-row-reverse":""}`,children:[r.jsx(Ht,{className:`h-4 w-4 text-gray-400 ${l?"ml-1":"mr-1"}`}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:x(e.capacity)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("button",{onClick:()=>n(e.id),disabled:i,className:`flex items-center gap-1 ${l?"flex-row-reverse":""}`,children:[i?r.jsx(ot,{className:"h-3 w-3 animate-spin text-gray-400"}):e.isActive?r.jsx(Zk,{className:"h-4 w-4 text-green-500"}):r.jsx(Xk,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:`text-xs ${c(e.isActive)}`,children:g(e.isActive)})]})}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:`flex items-center gap-1 ${l?"flex-row-reverse":""}`,children:[e.isOccupied?r.jsx(Sl,{className:"h-4 w-4 text-red-500"}):r.jsx(Do,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{className:`text-xs ${u(e.isOccupied)}`,children:h(e.isOccupied)})]})})]})]})},rde=({onClick:e})=>{const{t,isRTL:a}=qe();return r.jsxs("button",{onClick:e,className:`
        w-full h-full min-h-[220px] 
        bg-white dark:bg-gray-800 
        rounded-2xl 
        shadow-lg hover:shadow-xl transition-shadow duration-300 
        border-2 border-dashed border-gray-300 dark:border-gray-600 
        p-6 
        hover:border-blue-600 dark:hover:border-blue-500 
        transition-all duration-200 
        flex flex-col items-center justify-center gap-4 
        group focus:outline-none focus:ring-4 focus:ring-blue-500/50
        ${a?"text-right":"text-left"}
      `,"aria-label":t("AddQRCodeCard.accessibility.addButton")||"Add New QR Code Table",role:"button",children:[r.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/50 rounded-xl group-hover:bg-blue-100 dark:group-hover:bg-blue-900/70 transition-colors duration-300",children:r.jsx(Nt,{className:"h-8 w-8 text-blue-600 dark:text-blue-400 group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors duration-300"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-300",children:t("AddQRCodeCard.title")||"Create New Table"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("AddQRCodeCard.subtitle")||"Click to set up a new table and generate its QR code."})]})]})},ade=({isOpen:e,onClose:t,qrData:a,onChange:n,isSubmitting:s,isEditMode:i=!1,onSuccess:o,selectedBranchForEdit:l,categories:c})=>{const{t:u,isRTL:g}=qe(),[h,x]=p.useState("selection"),[b,y]=p.useState(!1),[k,v]=p.useState(null),[j,S]=p.useState([]),[C,P]=p.useState(null),[E,A]=p.useState([]),[I,M]=p.useState(!1),[F,Q]=p.useState(!1),[U,V]=p.useState({menuTableName:"",menuTableCategoryId:0,capacity:4,displayOrder:0,isActive:!0}),[K,Z]=p.useState([]),[ie,te]=p.useState(!0);p.useEffect(()=>{e&&v(null)},[e]),p.useEffect(()=>{e&&(i&&l?(P(l.branchId),c&&(A(c),N.info("Edit mode: Using passed categories",{categories:c}))):R(),x(i?"single":"selection"),i&&a&&(V(le=>({...le,menuTableName:a.menuTableName||"",menuTableCategoryId:a.menuTableCategoryId||0,capacity:a.capacity||4,displayOrder:a.displayOrder??0,isActive:a.isActive!==void 0?a.isActive:!0})),N.info("Edit mode: Pre-filling form data",{menuTableName:a.menuTableName,menuTableCategoryId:a.menuTableCategoryId,capacity:a.capacity,displayOrder:a.displayOrder,isActive:a.isActive})))},[e,i,a,l,c]),p.useEffect(()=>{C&&!i?(N.info("Şube seçildi, kategoriler fetch ediliyor",{selectedBranchId:C}),D(C)):!C&&!i&&A([])},[C,i]);const R=async()=>{M(!0);try{const le=await Nr.getBranchesDropdown();S(le),N.info("Şubeler başarıyla yüklendi:",le)}catch(le){N.error("Şubeler yüklenemedi:",le),v(u("QRCodeModal.error.branchLoadFailed"))}finally{M(!1)}},D=async le=>{N.info("fetchTableCategories başlatılıyor",{branchId:le}),Q(!0),A([]);try{const ae=await Nr.getTableCategories(le,!0,!1);N.info("API response kategoriler alındı",{data:ae}),A(ae),ae.length>0?(N.info("İlk kategori seçiliyor",{category:ae[0]}),V(Be=>({...Be,menuTableCategoryId:ae[0].id})),Z([])):(N.warn("Hiç kategori bulunamadı"),V(Be=>({...Be,menuTableCategoryId:0}))),N.info("Kategoriler başarıyla yüklendi",{data:ae})}catch(ae){N.error("Kategori fetch hatası",ae),A([]),v(u("QRCodeModal.error.categoryLoadFailed"))}finally{N.info("fetchTableCategories tamamlandı"),Q(!1)}},W=()=>{x("selection"),P(null),A([]),Z([]),V({menuTableName:"",menuTableCategoryId:0,capacity:4,displayOrder:0,isActive:!0}),te(!0),v(null),y(!1),t()},X=async le=>{le.preventDefault(),y(!0),v(null);const ae=i?l?.branchId:C;if(!ae){v(u("QRCodeModal.error.branchRequired")),y(!1);return}if(U.menuTableCategoryId===0){v(u("QRCodeModal.error.categoryRequired")),y(!1);return}try{if(i){if(!a.id)throw new Error("Table ID is required for update");const Be={id:a.id,menuTableName:U.menuTableName||null,menuTableCategoryId:U.menuTableCategoryId,capacity:U.capacity,isActive:U.isActive,isOccupied:a.isOccupied||!1,rowVersion:a.rowVersion||""};await Nr.updateTable(a.id,ae,Be),N.info("Table updated successfully",{tableId:a.id,updateData:Be,branchId:ae})}else{const Be={menuTableName:U.menuTableName||null,menuTableCategoryId:U.menuTableCategoryId,capacity:U.capacity,displayOrder:U.displayOrder,isActive:U.isActive};await Nr.createTable(Be,ae),N.info("Table created successfully",{createData:Be,branchId:ae})}o&&o(),W()}catch(Be){N.error("Table operation failed:",Be);let he=u("QRCodeModal.error.operationFailed");Be.response?.status===400?Be.response?.data?.message?.includes("Branch information")?he="Branch information could not be determined. Please refresh and try again.":he=u("QRCodeModal.error.invalidData"):Be.response?.status===404?he=u("QRCodeModal.error.tableNotFound"):Be.response?.status===409?he=u("QRCodeModal.error.concurrencyIssue"):Be.response?.status===401?he=u("QRCodeModal.error.unauthorized"):Be.message&&(he=Be.message),v(he)}finally{y(!1)}},B=async le=>{if(le.preventDefault(),y(!0),v(null),!C||K.length===0){v(u("QRCodeModal.error.bulkDataRequired")),y(!1);return}const Be={items:K.map(we=>({categoryId:we.categoryId,quantity:we.quantity,capacity:we.capacity,displayOrder:we.displayOrder,isActive:we.isActive}))},he=K.reduce((we,De)=>we+De.quantity,0);try{N.info(`Toplu masa oluşturma başlatılıyor: ${he} masa`,{branchId:C,categories:K.map(Ze=>({categoryId:Ze.categoryId,quantity:Ze.quantity,capacity:Ze.capacity}))},{prefix:"QRCodeModal"});const we=new Promise((Ze,pt)=>{setTimeout(()=>{pt(new Error(u("QRCodeModal.error.timeout")))},12e4)}),De=Nr.createBatchTables(Be,C);await Promise.race([De,we]),N.info(`${he} adet masa başarıyla oluşturuldu`,{branchId:C,totalTables:he},{prefix:"QRCodeModal"}),o&&o(),W()}catch(we){N.error("Toplu masa oluşturma hatası:",we,{prefix:"QRCodeModal"});let De=u("QRCodeModal.error.batchCreateFailed");we.message?.includes("timeout")||we.message?.includes("zaman aşımı")?(De=u("QRCodeModal.error.timeoutAdvice"),N.warn("Batch işlem timeout hatası",{totalTables:he},{prefix:"QRCodeModal"})):we.response?.status===400?(De=u("QRCodeModal.error.invalidBatchData"),N.warn("Batch işlem validation hatası",we.response.data,{prefix:"QRCodeModal"})):we.response?.status===500?(De=u("QRCodeModal.error.serverError"),N.error("Batch işlem server hatası",we.response.data,{prefix:"QRCodeModal"})):we.response?.status===401&&(De=u("QRCodeModal.error.sessionExpired"),N.warn("Batch işlem authentication hatası",{prefix:"QRCodeModal"})),v(De),console.error("❌ Toplu masa oluşturma hatası:",De)}finally{y(!1)}},H=()=>{if(E.length===0)return;const le=E.filter(ae=>!K.find(Be=>Be.categoryId===ae.id));le.length>0&&Z(ae=>[...ae,{categoryId:le[0].id,quantity:1,capacity:4,displayOrder:null,isActive:ie}])},z=le=>{Z(ae=>ae.filter((Be,he)=>he!==le))},$=(le,ae,Be)=>{Z(he=>he.map((we,De)=>De===le?{...we,[ae]:Be}:we))},_=()=>K.reduce((le,ae)=>le+ae.quantity,0),Y=()=>k?r.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsx("div",{className:"ml-3",children:r.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:k})}),r.jsx("div",{className:"ml-auto pl-3",children:r.jsxs("button",{onClick:()=>v(null),className:"inline-flex text-red-400 hover:text-red-600 dark:hover:text-red-300",children:[r.jsx("span",{className:"sr-only",children:"Dismiss"}),r.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}):null;if(!e)return null;const q=()=>r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{htmlFor:"branchSelect",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u("QRCodeModal.branchSelection"),"*"]}),r.jsxs("select",{id:"branchSelect",value:C||"",onChange:le=>P(le.target.value?parseInt(le.target.value):null),required:!0,disabled:I,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400 disabled:opacity-50","aria-label":u("QRCodeModal.accessibility.branchSelector"),children:[r.jsx("option",{value:"",children:u(I?"QRCodeModal.loadingBranches":"QRCodeModal.selectBranch")}),j.map(le=>r.jsx("option",{value:le.branchId,children:le.branchName},le.branchId))]})]}),G=()=>r.jsxs("div",{className:`space-y-6 ${g?"text-right":"text-left"}`,children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:u("QRCodeModal.tableAddOption")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:u("QRCodeModal.howToAddTables")})]}),Y(),q(),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("button",{onClick:()=>x("single"),disabled:!C||F,className:"p-6 border-2 border-gray-200 dark:border-gray-600 rounded-xl hover:border-blue-500 dark:hover:border-blue-400 hover:shadow-md transition-all duration-200 group disabled:opacity-50 disabled:cursor-not-allowed","aria-label":u("QRCodeModal.createSingleTable"),children:r.jsxs("div",{className:`flex flex-col items-center space-y-3 ${g?"text-right":"text-left"}`,children:[r.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg group-hover:bg-blue-200 dark:group-hover:bg-blue-900/50 transition-colors",children:r.jsx(Ht,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:u("QRCodeModal.singleTable")}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:u("QRCodeModal.createSingleTable")})]})]})}),r.jsx("button",{onClick:()=>x("bulk"),disabled:!C||F,className:"p-6 border-2 border-gray-200 dark:border-gray-600 rounded-xl hover:border-blue-500 dark:hover:border-blue-400 hover:shadow-md transition-all duration-200 group disabled:opacity-50 disabled:cursor-not-allowed","aria-label":u("QRCodeModal.createMultipleTables"),children:r.jsxs("div",{className:`flex flex-col items-center space-y-3 ${g?"text-right":"text-left"}`,children:[r.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg group-hover:bg-green-200 dark:group-hover:bg-green-900/50 transition-colors",children:r.jsx(Ht,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:u("QRCodeModal.bulkTable")}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:u("QRCodeModal.createMultipleTables")})]})]})})]}),F&&r.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:u("QRCodeModal.loadingCategories")})]}),ee=()=>r.jsxs("div",{className:`space-y-6 ${g?"text-right":"text-left"}`,children:[r.jsxs("div",{className:`flex items-center space-x-3 ${g?"flex-row-reverse space-x-reverse":""}`,children:[!i&&r.jsx("button",{onClick:()=>x("selection"),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300","aria-label":u("QRCodeModal.accessibility.backButton"),children:g?"→":"←"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:u(i?"QRCodeModal.editTable":"QRCodeModal.addSingleTable")})]}),Y(),!i&&q(),r.jsxs("form",{onSubmit:X,className:"space-y-4",role:"form","aria-label":u("QRCodeModal.accessibility.tableForm"),children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"menuTableName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:u("QRCodeModal.tableName")}),r.jsx("input",{type:"text",id:"menuTableName",value:U.menuTableName||"",onChange:le=>{V({...U,menuTableName:le.target.value}),n&&n("menuTableName",le.target.value)},className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400",placeholder:u("QRCodeModal.tableNamePlaceholder")}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:u("QRCodeModal.autoNameNote")})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"menuTableCategoryId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[u("QRCodeModal.tableCategory"),"*",!1]}),r.jsxs("select",{id:"menuTableCategoryId",value:U.menuTableCategoryId,onChange:le=>{const ae=parseInt(le.target.value);N.info("Kategori seçildi",{categoryId:ae}),V({...U,menuTableCategoryId:ae}),n&&n("menuTableCategoryId",le.target.value)},required:!0,disabled:F||E.length===0,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400 disabled:opacity-50","aria-label":u("QRCodeModal.accessibility.categorySelector"),children:[r.jsx("option",{value:0,children:F?u("QRCodeModal.loadingCategories"):E.length===0?u("QRCodeModal.noCategories"):u("QRCodeModal.selectCategory")}),E.map(le=>r.jsx("option",{value:le.id,children:le.categoryName},le.id))]}),!1,i&&l&&r.jsxs("p",{className:"text-xs text-blue-500 mt-1",children:["Editing table for branch: ",l.branchName," | Categories loaded: ",E.length]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"capacity",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[u("QRCodeModal.capacity"),"*"]}),r.jsx("input",{type:"number",id:"capacity",min:"1",max:"20",value:U.capacity,onChange:le=>{const ae=parseInt(le.target.value)||1;V({...U,capacity:ae}),n&&n("capacity",le.target.value)},required:!0,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400",placeholder:u("QRCodeModal.capacityPlaceholder")})]}),!i&&r.jsx("div",{children:r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:u("QRCodeModal.autoOrderNote")})}),r.jsxs("div",{className:`flex items-center ${g?"flex-row-reverse":""}`,children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:U.isActive,onChange:le=>{V({...U,isActive:le.target.checked}),n&&n("isActive",le.target.checked.toString())},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"isActive",className:`block text-sm text-gray-700 dark:text-gray-300 ${g?"mr-2":"ml-2"}`,children:u("QRCodeModal.tableActive")})]}),r.jsxs("div",{className:`flex justify-end space-x-4 pt-4 ${g?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx("button",{type:"button",onClick:W,disabled:b,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none disabled:opacity-50","aria-label":u("QRCodeModal.cancel"),children:u("QRCodeModal.cancel")}),r.jsxs("button",{type:"submit",disabled:b||!i&&!C||U.menuTableCategoryId===0,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[b&&r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),r.jsx("span",{children:u(b?i?"QRCodeModal.updating":"QRCodeModal.adding":i?"QRCodeModal.update":"QRCodeModal.addTable")})]})]})]})]}),ue=()=>r.jsxs("div",{className:`space-y-6 ${g?"text-right":"text-left"}`,children:[r.jsxs("div",{className:`flex items-center space-x-3 ${g?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx("button",{onClick:()=>x("selection"),disabled:b,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 disabled:opacity-50","aria-label":u("QRCodeModal.accessibility.backButton"),children:g?"→":"←"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:u("QRCodeModal.addBulkTables")})]}),Y(),q(),r.jsxs("form",{onSubmit:B,className:"space-y-6",role:"form","aria-label":u("QRCodeModal.accessibility.bulkForm"),children:[r.jsxs("div",{children:[r.jsxs("div",{className:`flex items-center justify-between mb-4 ${g?"flex-row-reverse":""}`,children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[u("QRCodeModal.categoryQuantities"),"*"]}),r.jsxs("button",{type:"button",onClick:H,disabled:E.length===0||K.length>=E.length||b,className:`inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed ${g?"flex-row-reverse":""}`,children:[r.jsx(Nt,{className:`h-3 w-3 ${g?"ml-1":"mr-1"}`}),u("QRCodeModal.addCategory")]})]}),r.jsxs("div",{className:"space-y-4",children:[K.map((le,ae)=>r.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[r.jsxs("div",{className:`flex items-center justify-between mb-3 ${g?"flex-row-reverse":""}`,children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[u("QRCodeModal.category")," ",ae+1]}),r.jsx("button",{type:"button",onClick:()=>z(ae),disabled:b,className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50",children:r.jsx(oi,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:u("QRCodeModal.category")}),r.jsx("select",{title:"categoryId",value:le.categoryId,onChange:Be=>$(ae,"categoryId",parseInt(Be.target.value)),required:!0,disabled:b,className:"w-full text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-2 py-1.5 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400 disabled:opacity-50",children:E.filter(Be=>Be.id===le.categoryId||!K.find(he=>he.categoryId===Be.id)).map(Be=>r.jsx("option",{value:Be.id,children:Be.categoryName},Be.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:u("QRCodeModal.tableCount")}),r.jsx("input",{title:"number",type:"number",min:"1",max:"50",value:le.quantity,onChange:Be=>$(ae,"quantity",parseInt(Be.target.value)||1),required:!0,disabled:b,className:"w-full text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-2 py-1.5 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400 disabled:opacity-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:u("QRCodeModal.capacity")}),r.jsx("input",{title:"number",type:"number",min:"1",max:"20",value:le.capacity,onChange:Be=>$(ae,"capacity",parseInt(Be.target.value)||1),required:!0,disabled:b,className:"w-full text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-2 py-1.5 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400 disabled:opacity-50"})]})]})]},ae)),K.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:u("QRCodeModal.addCategory")})]})]}),r.jsxs("div",{className:`flex items-center ${g?"flex-row-reverse":""}`,children:[r.jsx("input",{type:"checkbox",id:"bulkIsActive",checked:ie,onChange:le=>te(le.target.checked),disabled:b,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"}),r.jsx("label",{htmlFor:"bulkIsActive",className:`block text-sm text-gray-700 dark:text-gray-300 ${g?"mr-2":"ml-2"}`,children:u("QRCodeModal.allTablesActive")})]}),K.length>0&&r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:u("QRCodeModal.tableSummary")}),r.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[K.map((le,ae)=>{const Be=E.find(he=>he.id===le.categoryId);return r.jsxs("div",{children:["• ",Be?.categoryName,": ",le.quantity," ",u("QRCodeModal.tables")," (",le.capacity," ",u("QRCodeModal.capacity"),")"]},ae)}),r.jsxs("div",{className:"pt-2 border-t border-blue-200 dark:border-blue-700 font-medium",children:[u("QRCodeModal.total"),": ",_()," ",u("QRCodeModal.tables")]})]})]}),r.jsxs("div",{className:`flex justify-end space-x-4 pt-4 ${g?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx("button",{type:"button",onClick:W,disabled:b,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none disabled:opacity-50",children:u("QRCodeModal.cancel")}),r.jsx("button",{type:"submit",disabled:b||!C||K.length===0,className:`px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 ${g?"flex-row-reverse space-x-reverse":""}`,children:b?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:u("QRCodeModal.creating").replace("{count}",_().toString())})]}):r.jsx("span",{children:u("QRCodeModal.createTables").replace("{count}",_().toString())})})]})]})]});return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-label":u("QRCodeModal.accessibility.modal"),children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:b?void 0:W}),r.jsxs("div",{className:`relative w-full max-w-4xl rounded-xl bg-white dark:bg-gray-800 p-6 shadow-lg max-h-[90vh] overflow-y-auto ${g?"text-right":"text-left"}`,children:[r.jsxs("div",{className:`flex items-center justify-between mb-6 ${g?"flex-row-reverse":""}`,children:[r.jsx("div",{}),r.jsx("button",{onClick:W,disabled:b,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 transition-colors disabled:opacity-50","aria-label":u("QRCodeModal.accessibility.closeButton"),children:r.jsx(at,{className:"h-6 w-6"})})]}),h==="selection"&&G(),h==="single"&&ee(),h==="bulk"&&ue()]})]})})},nde=({isOpen:e,onClose:t,selectedBranch:a,onSuccess:n,editingCategory:s=null,isEditMode:i=!1})=>{const{t:o,isRTL:l}=qe(),[c,u]=p.useState({categoryName:"",description:"",colorCode:"#3b82f6",iconClass:"",displayOrder:0,isActive:!0}),[g,h]=p.useState(!1),[x,b]=p.useState([]),[y,k]=p.useState(null),[v,j]=p.useState({}),S=()=>{const A={};return c.categoryName.trim()||(A.categoryName=o("TableCategoryModal.categoryNameRequired")),c.iconClass||(A.iconClass=o("TableCategoryModal.iconRequired")),j(A),Object.keys(A).length===0};p.useEffect(()=>{e&&(u(i&&s?{categoryName:s.categoryName,description:s.description||"",colorCode:s.colorCode||"#3b82f6",iconClass:s.iconClass||"",displayOrder:s.displayOrder||0,isActive:s.isActive}:{categoryName:"",description:"",colorCode:"#3b82f6",iconClass:"",displayOrder:0,isActive:!0}),j({}))},[e,i,s]),p.useEffect(()=>{e&&(a?k(a.id):(async()=>{try{const A=await sn.getRestaurantBranchesDropdown();b(A),A.length>0&&k(A[0].id)}catch(A){N.error("Şubeler alınamadı:",A)}})())},[e,a]);const C=A=>{const I=A.target,{name:M,type:F}=I,Q=F==="checkbox"?I.checked:I.value;u(U=>({...U,[M]:Q})),v[M]&&j(U=>({...U,[M]:""}))},P=A=>{u(I=>({...I,colorCode:A}))},E=async A=>{if(A.preventDefault(),!!S()){if(!y){j({general:o("TableCategoryModal.branchRequired")});return}h(!0);try{if(i&&s)await qr.updateCategory(s.id,{id:s.id,categoryName:c.categoryName.trim(),colorCode:c.colorCode,iconClass:c.iconClass,isActive:c.isActive,rowVersion:s.rowVersion},y),N.info("Kategori başarıyla güncellendi",{categoryId:s.id});else{const I={categoryName:c.categoryName.trim()||null,description:c.description?.trim()||null,colorCode:c.colorCode||null,iconClass:c.iconClass||null,displayOrder:c.displayOrder,isActive:c.isActive};N.info("Gönderilen payload",{payload:I,branchId:y}),y&&localStorage.setItem("menutable_create_selected_branchId",String(y));const M=await se.post(`/api/branches/table-categories?branchId=${y}`,I);if(N.info("Kategori başarıyla eklendi",{data:M.data}),y)try{await se.get(`/api/branches/table-categories?branchId=${y}`),N.info("Kategoriler yeniden yüklendi")}catch(F){N.error("Kategoriler yeniden yüklenirken hata",F)}}n&&n(),t(),u({categoryName:"",description:"",colorCode:"#3b82f6",iconClass:"",displayOrder:0,isActive:!0}),j({})}catch(I){if(console.error("❌ Kategori işlemi sırasında hata:",I),I.response?.status===400){const M=I.response?.data?.errors;if(M){const F={};Object.keys(M).forEach(Q=>{const U=Q.toLowerCase();U.includes("categoryname")?F.categoryName=M[Q][0]||o("TableCategoryModal.categoryNameRequired"):U.includes("colorcode")?F.general=o("TableCategoryModal.invalidData"):U.includes("iconclass")?F.iconClass=o("TableCategoryModal.iconRequired"):F.general=M[Q][0]||o("TableCategoryModal.invalidData")}),j(F)}else j({general:I.response?.data?.message||o("TableCategoryModal.invalidData")})}else I.response?.status===401?j({general:o("TableCategoryModal.unauthorized")}):I.response?.status===403?j({general:o("TableCategoryModal.forbidden")}):I.response?.status===404?j({general:o("TableCategoryModal.branchNotFound")}):I.response?.status>=500?j({general:o("TableCategoryModal.serverError")}):j({general:o("TableCategoryModal.unexpectedError")})}finally{h(!1)}}};return r.jsx(jt,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-label":o("TableCategoryModal.accessibility.modal"),dir:l?"rtl":"ltr",children:[r.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gradient-to-br from-purple-900/30 via-blue-900/40 to-indigo-900/30 backdrop-blur-md",onClick:t,children:[r.jsx(re.div,{animate:{scale:[1,1.2,1],opacity:[.2,.4,.2]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl"}),r.jsx(re.div,{animate:{scale:[1.2,1,1.2],opacity:[.2,.4,.2]},transition:{duration:8,repeat:1/0,delay:2,ease:"easeInOut"},className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-500/20 rounded-full blur-3xl"})]}),r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs(re.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{type:"spring",duration:.6,bounce:.3},className:"relative w-full max-w-xl bg-white/95 dark:bg-gray-900/95 backdrop-blur-2xl rounded-3xl shadow-2xl border border-white/20 dark:border-gray-700/50 overflow-hidden",dir:l?"rtl":"ltr",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-primary-400/30 to-purple-500/30 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-blue-400/30 to-primary-500/30 rounded-full blur-3xl"}),r.jsxs("div",{className:"relative bg-gradient-to-br from-primary-500 via-primary-600 to-purple-600 dark:from-primary-600 dark:via-primary-700 dark:to-purple-700 p-8 text-white overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 via-transparent to-transparent"}),r.jsx("div",{className:"absolute inset-0 opacity-30",children:r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.1),transparent_50%)]"})}),r.jsx("button",{onClick:t,className:`absolute top-6 p-2.5 hover:bg-white/25 dark:hover:bg-white/15 rounded-xl transition-all duration-300 hover:scale-110 hover:rotate-90 group z-10 ${l?"left-6":"right-6"}`,"aria-label":o("TableCategoryModal.accessibility.close"),children:r.jsx(at,{className:"w-5 h-5 group-hover:drop-shadow-lg"})}),r.jsxs("div",{className:`flex items-center gap-4 relative ${l?"text-right":""}`,children:[r.jsx(re.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring"},className:"p-4 bg-white/25 backdrop-blur-sm rounded-2xl shadow-lg",children:r.jsx(Vn,{className:"w-7 h-7 drop-shadow-lg"})}),r.jsxs("div",{className:l?"text-right":"text-left",children:[r.jsx(re.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl font-bold drop-shadow-md",children:i?"Edit Category":o("TableCategoryModal.title")}),r.jsx(re.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-primary-50/90 text-sm mt-1 drop-shadow",children:i?"Update category details":o("TableCategoryModal.subtitle")})]})]})]}),r.jsxs("form",{onSubmit:E,className:"relative p-8 space-y-6",role:"form","aria-label":o("TableCategoryModal.accessibility.form"),children:[v.general&&r.jsx(re.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-gradient-to-r from-red-50 to-red-100/50 dark:from-red-900/30 dark:to-red-800/20 border-l-4 border-red-500 dark:border-red-400 rounded-xl text-red-700 dark:text-red-300 text-sm font-medium shadow-sm",children:v.general}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-200 ${l?"text-right":""}`,children:[r.jsx(sd,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),o("TableCategoryModal.categoryName")]}),r.jsxs("div",{className:"relative group",children:[r.jsx("input",{type:"text",name:"categoryName",value:c.categoryName,onChange:C,placeholder:o("TableCategoryModal.categoryNamePlaceholder"),className:`
                        w-full px-5 py-3.5 rounded-2xl border-2 transition-all duration-300
                        bg-white dark:bg-gray-800/50 
                        text-gray-900 dark:text-gray-100
                        placeholder-gray-400 dark:placeholder-gray-500
                        border-gray-200 dark:border-gray-600
                        hover:border-primary-300 dark:hover:border-primary-600 hover:shadow-lg hover:shadow-primary-500/10
                        focus:outline-none focus:ring-4 focus:ring-primary-500/30 focus:border-primary-500 focus:shadow-xl focus:shadow-primary-500/20
                        ${v.categoryName?"border-red-400 dark:border-red-500 focus:border-red-500 focus:ring-red-500/30":""}
                        ${l?"text-right":"text-left"}
                      `,"aria-describedby":v.categoryName?"category-name-error":void 0,dir:l?"rtl":"ltr"}),r.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-r from-primary-500/0 via-primary-500/5 to-purple-500/0 rounded-2xl opacity-0 group-focus-within:opacity-100 transition-opacity duration-300"})]}),v.categoryName&&r.jsx(re.p,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},id:"category-name-error",className:"text-red-600 dark:text-red-400 text-xs font-medium flex items-center gap-1",children:v.categoryName})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-200 ${l?"text-right":""}`,children:[r.jsx(da,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),o("TableCategoryModal.description")]}),r.jsxs("div",{className:"relative group",children:[r.jsx("textarea",{name:"description",value:c.description,onChange:C,rows:3,placeholder:o("TableCategoryModal.descriptionPlaceholder"),className:`
                        w-full px-5 py-3.5 rounded-2xl border-2 transition-all duration-300 resize-none
                        bg-white dark:bg-gray-800/50 
                        text-gray-900 dark:text-gray-100
                        placeholder-gray-400 dark:placeholder-gray-500
                        border-gray-200 dark:border-gray-600
                        hover:border-primary-300 dark:hover:border-primary-600 hover:shadow-lg hover:shadow-primary-500/10
                        focus:outline-none focus:ring-4 focus:ring-primary-500/30 focus:border-primary-500 focus:shadow-xl focus:shadow-primary-500/20
                        ${l?"text-right":"text-left"}
                      `,dir:l?"rtl":"ltr"}),r.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-r from-primary-500/0 via-primary-500/5 to-purple-500/0 rounded-2xl opacity-0 group-focus-within:opacity-100 transition-opacity duration-300"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-200 ${l?"text-right":""}`,children:[r.jsx(sc,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),o("TableCategoryModal.colorSelection")]}),r.jsx("div",{className:"grid grid-cols-8 gap-2.5 p-4 bg-gradient-to-br from-gray-50/50 to-gray-100/50 dark:from-gray-800/30 dark:to-gray-700/30 rounded-2xl backdrop-blur-sm border border-gray-200/50 dark:border-gray-700/50",role:"group","aria-label":o("TableCategoryModal.accessibility.colorPalette"),children:Vq.map(A=>r.jsx(re.button,{type:"button",onClick:()=>P(A),whileHover:{scale:1.15,rotate:5},whileTap:{scale:.95},className:`
                          w-9 h-9 rounded-xl border-2 transition-all duration-300 shadow-lg
                          ${c.colorCode===A?"border-white dark:border-gray-200 ring-4 ring-primary-500/50 shadow-2xl scale-110":"border-gray-300/50 dark:border-gray-600/50 hover:border-white dark:hover:border-gray-300 hover:shadow-2xl"}
                        `,style:{backgroundColor:A,boxShadow:`0 4px 20px ${A}40`},"aria-label":`${o("TableCategoryModal.accessibility.colorPreset")} ${A}`},A))}),r.jsxs("div",{className:`flex items-center gap-4 p-4 bg-gradient-to-r from-gray-50 to-gray-100/50 dark:from-gray-800/50 dark:to-gray-700/30 rounded-2xl border border-gray-200/50 dark:border-gray-700/50 ${l?"flex-row-reverse":""}`,children:[r.jsx(re.div,{whileHover:{scale:1.05},className:"w-12 h-12 rounded-xl border-3 border-white dark:border-gray-600 overflow-hidden shadow-xl",style:{backgroundColor:c.colorCode,boxShadow:`0 8px 25px ${c.colorCode}60`}}),r.jsx("input",{type:"color",name:"colorCode",value:c.colorCode,onChange:C,className:"w-12 h-12 border-0 bg-transparent cursor-pointer rounded-xl","aria-label":o("TableCategoryModal.accessibility.customColorPicker")}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-mono font-semibold bg-white/50 dark:bg-gray-900/50 px-3 py-1.5 rounded-lg",children:c.colorCode})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-200 ${l?"text-right":""}`,children:[r.jsx(pr,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),o("TableCategoryModal.iconSelection")]}),r.jsx("div",{className:"grid grid-cols-4 gap-3",role:"group","aria-label":o("TableCategoryModal.accessibility.iconGrid"),children:Wq.map(A=>r.jsxs(re.button,{type:"button",onClick:()=>u(I=>({...I,iconClass:A.value})),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:`
                          p-4 rounded-2xl border-2 transition-all duration-300 flex flex-col items-center gap-2 shadow-md
                          ${c.iconClass===A.value?"border-primary-500 bg-gradient-to-br from-primary-50 to-primary-100 dark:from-primary-900/40 dark:to-primary-800/30 text-primary-700 dark:text-primary-300 shadow-xl shadow-primary-500/30 scale-105":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800/50 text-gray-600 dark:text-gray-400 hover:border-primary-300 dark:hover:border-primary-600 hover:shadow-xl hover:shadow-primary-500/20"}
                        `,"aria-label":`${o("TableCategoryModal.accessibility.iconOption")} ${o(A.label)}`,children:[r.jsx(A.icon,{className:"w-6 h-6"}),r.jsx("span",{className:"text-xs font-semibold",children:o(A.label)})]},A.value))}),v.iconClass&&r.jsx(re.p,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-red-600 dark:text-red-400 text-xs font-medium flex items-center gap-1",children:v.iconClass})]}),i&&r.jsxs(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex items-center justify-between p-5 bg-gradient-to-r from-gray-50 to-gray-100/80 dark:from-gray-800/50 dark:to-gray-700/30 rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-sm ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:"Active Status"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:c.isActive?"Category is active and visible":"Category is inactive and hidden"})]}),r.jsx("button",{type:"button",onClick:()=>u(A=>({...A,isActive:!A.isActive})),className:`relative inline-flex h-7 w-14 items-center rounded-full transition-all duration-300 shadow-lg ${c.isActive?"bg-gradient-to-r from-primary-500 to-primary-600 shadow-primary-500/50":"bg-gray-300 dark:bg-gray-600 shadow-gray-400/30"}`,"aria-label":"Toggle active status",children:r.jsx(re.span,{layout:!0,transition:{type:"spring",stiffness:500,damping:30},className:`inline-block h-5 w-5 transform rounded-full bg-white shadow-lg ${c.isActive?"translate-x-8":"translate-x-1"}`})})]}),!i&&!a&&x.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-200 ${l?"text-right":""}`,children:[r.jsx(Ht,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),o("TableCategoryModal.branchSelection")]}),r.jsxs("div",{className:"relative group",children:[r.jsx("select",{value:y??"",onChange:A=>k(Number(A.target.value)),className:`
                          w-full px-5 py-3.5 rounded-2xl border-2 transition-all duration-300 appearance-none cursor-pointer
                          bg-white dark:bg-gray-800/50 
                          text-gray-900 dark:text-gray-100
                          border-gray-200 dark:border-gray-600
                          hover:border-primary-300 dark:hover:border-primary-600 hover:shadow-lg hover:shadow-primary-500/10
                          focus:outline-none focus:ring-4 focus:ring-primary-500/30 focus:border-primary-500 focus:shadow-xl focus:shadow-primary-500/20
                          ${l?"text-right":"text-left"}
                        `,"aria-label":o("TableCategoryModal.accessibility.branchDropdown"),dir:l?"rtl":"ltr",children:x.map(A=>r.jsx("option",{value:A.id,className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:A.name},A.id))}),r.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-r from-primary-500/0 via-primary-500/5 to-purple-500/0 rounded-2xl opacity-0 group-focus-within:opacity-100 transition-opacity duration-300"})]})]}),r.jsxs("div",{className:`flex gap-4 pt-6 ${l?"flex-row-reverse":""}`,children:[r.jsx(re.button,{type:"button",onClick:t,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 px-6 py-3.5 text-sm font-semibold text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-2xl transition-all duration-300 border-2 border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 shadow-md hover:shadow-lg",children:o("TableCategoryModal.cancel")}),r.jsx(re.button,{type:"submit",disabled:g,whileHover:{scale:g?1:1.02},whileTap:{scale:g?1:.98},className:"flex-1 px-6 py-3.5 text-sm font-semibold text-white bg-gradient-to-r from-primary-600 via-primary-500 to-purple-600 hover:from-primary-700 hover:via-primary-600 hover:to-purple-700 dark:from-primary-500 dark:via-primary-600 dark:to-purple-600 dark:hover:from-primary-600 dark:hover:via-primary-700 dark:hover:to-purple-700 rounded-2xl transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-primary-500/40 disabled:opacity-60 disabled:cursor-not-allowed disabled:transform-none shadow-xl hover:shadow-2xl shadow-primary-500/50 hover:shadow-primary-500/60",children:g?r.jsxs("div",{className:`flex items-center justify-center gap-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(re.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full"}),i?"Updating...":o("TableCategoryModal.saving")]}):i?"Update Category":o("TableCategoryModal.addCategory")})]})]})]})})]})})},sde=({selectedBranch:e})=>{const{t,isRTL:a}=qe(),[n,s]=p.useState([]),[i,o]=p.useState(null),[l,c]=p.useState([]),[u,g]=p.useState([]),[h,x]=p.useState({}),[b,y]=p.useState(!1),[k,v]=p.useState(!1),[j,S]=p.useState(null),[C,P]=p.useState(!1),[E,A]=p.useState(null),[I,M]=p.useState(!1),[F,Q]=p.useState(!1),[U,V]=p.useState(!1),[K,Z]=p.useState(null),[ie,te]=p.useState(!1),[R,D]=p.useState(null),[W,X]=p.useState(!1),[B,H]=p.useState(null),[z,$]=p.useState(!1),[_,Y]=p.useState(null),q=or.useRef(null);si(q,()=>v(!1));const G=ya(),ee=localStorage.getItem("token")||"",ue={onTableChanged:ce=>{N.info("TableChanged event alındı",ce),le()},onTablesBatchCreated:ce=>{N.info("TablesBatchCreated event alındı",ce),le()},onTableCategoryChanged:ce=>{N.info("TableCategoryChanged event alındı",ce),le()},onTableStatusChanged:ce=>{N.info("TableStatusChanged event alındı",ce),c(Te=>Te.map(Le=>Le.id===ce.tableId?{...Le,isOccupied:ce.isOccupied,status:ce.status}:Le))},onRefreshTableList:ce=>{N.info("RefreshTableList event alındı",ce),le()},onError:ce=>{N.error("SignalR Error:",ce.message)}};mq(ee,i?.branchId??0,ue),p.useEffect(()=>{(async()=>{try{const Te=await Nr.getBranchesDropdown();s(Te),Te.length>0&&!i&&o(Te[0])}catch(Te){N.error("Şube listesi yüklenirken hata:",Te),S(t("TableManagement.error.loadFailed"))}})()},[t]),p.useEffect(()=>{i&&le()},[i]),p.useEffect(()=>{ae()},[l,u]);const le=async()=>{if(i){y(!0),S(null);try{const[ce,Te]=await Promise.all([Nr.getTables(i.branchId),Nr.getTableCategories(i.branchId,!1,!0)]);c(ce),g(Te),N.info("Masalar ve kategoriler başarıyla yüklendi",{branchId:i.branchId,tablesCount:ce.length,categoriesCount:Te.length})}catch(ce){N.error("Masalar ve kategoriler yüklenirken hata:",ce),S(t("TableManagement.error.dataLoadFailed"))}finally{y(!1)}}},ae=()=>{const ce={};u.forEach(Te=>{ce[Te.id.toString()]={category:Te,tables:[]}}),l.forEach(Te=>{const Le=Te.menuTableCategoryId.toString();ce[Le]&&ce[Le].tables.push(Te)}),x(ce)},Be=ce=>{o(ce),v(!1)},he=()=>{A(null),P(!0)},we=ce=>{const Te=u.find(ct=>ct.id===ce.menuTableCategoryId),Le={...ce,categoryName:Te?.categoryName||""};A(Le),P(!0)},De=ce=>{Z(ce),V(!0)},Ze=async()=>{if(!K||!i?.branchId)throw new Error(t("TableManagement.error.branchRequired"));te(!0);const ce=K;c(Te=>Te.filter(Le=>Le.id!==K.id));try{await Nr.deleteTable(K.id,i.branchId),N.info("Table deleted successfully:",{id:K.id,branchId:i.branchId}),Z(null),V(!1)}catch(Te){N.error("Table deletion error:",Te),c(ct=>[...ct,ce].sort((Pt,Mr)=>Pt.id-Mr.id));let Le=t("TableManagement.error.deleteFailed");throw Te.response?.status===400?Te.response?.data?.message?.includes("Branch information")?Le="Branch information could not be determined. Please refresh and try again.":Le=t("TableManagement.error.invalidRequest"):Te.response?.status===404?Le=t("TableManagement.error.tableNotFound"):Te.response?.status===409?Le=t("TableManagement.error.tableInUse"):Te.message&&(Le=Te.message),S(Le),setTimeout(()=>S(null),5e3),new Error(Le)}finally{te(!1)}},pt=()=>{V(!1),Z(null)},mt=async ce=>{const Te=l.find(ct=>ct.id===ce);if(!Te)return;const Le=!Te.isActive;c(ct=>ct.map(Pt=>Pt.id===ce?{...Pt,isActive:Le}:Pt));try{await Nr.toggleTableStatus(ce,i?.branchId??0,Le),N.info("Table status updated:",{id:ce,newStatus:Le})}catch(ct){N.error("Masa durumu güncellenirken hata:",ct),S(t("TableManagement.error.statusUpdateFailed")),c(Pt=>Pt.map(Mr=>Mr.id===ce?{...Mr,isActive:!Le}:Mr)),setTimeout(()=>S(null),5e3)}},ut=ce=>{ce.qrCodeUrl&&window.open(ce.qrCodeUrl,"_blank"),N.info("Download QR:",ce)},Et=()=>E?{...E,branchId:i?.branchId,branchName:i?.branchName}:{},tr=()=>{le(),P(!1),A(null),S(null)},Oe=()=>{P(!1),A(null),S(null)},Me=()=>{D(null),Q(!0)},Vr=ce=>{D(ce),Q(!0),Y(null)},ur=ce=>{H(ce),X(!0),Y(null)},rr=async()=>{if(!B)throw new Error("Category not selected");$(!0);try{await qr.deleteCategory(B.id,i?.branchId),N.info("Category deleted successfully:",{id:B.id}),await le(),H(null),X(!1)}catch(ce){N.error("Category deletion error:",ce);let Te="Failed to delete category";throw ce.response?.status===409?Te="Cannot delete category with existing tables":ce.response?.status===404?Te="Category not found":ce.message&&(Te=ce.message),S(Te),setTimeout(()=>S(null),5e3),new Error(Te)}finally{$(!1)}},Tt=()=>{X(!1),H(null)},Se=()=>{Q(!1),D(null)},Re=()=>{le(),Q(!1),D(null)},de=ce=>{Y(_===ce?null:ce)},pe=()=>j?r.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl shadow-lg",role:"alert",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0 pt-0.5",children:r.jsx("svg",{className:"h-6 w-6 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsx("div",{className:"ml-3",children:r.jsx("p",{className:"text-base font-medium text-red-800 dark:text-red-200",children:j})}),r.jsx("div",{className:"ml-auto pl-3",children:r.jsx("button",{onClick:()=>S(null),className:"inline-flex text-red-400 hover:text-red-600 dark:hover:text-red-300 transition-colors rounded-full p-1","aria-label":t("TableManagement.accessibility.dismissError"),children:r.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}):null;return j&&!l.length?r.jsx("div",{className:`flex items-center justify-center min-h-[60vh] bg-white dark:bg-gray-900 rounded-xl p-8 shadow-2xl ${a?"text-right":"text-left"}`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xl font-semibold text-red-600 dark:text-red-400 mb-6",children:j}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 transition-colors shadow-md",children:t("tableManagement.refresh")})]})}):r.jsx("div",{className:`p-6 bg-gray-50 dark:bg-gray-900 min-h-screen ${a?"text-right":"text-left"}`,children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 pb-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:t("tableManagement.title")}),r.jsxs("div",{className:`flex items-center gap-4 ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"relative z-30",ref:q,children:[r.jsxs("button",{title:"Branch Dropdown",onClick:()=>v(!k),className:`flex items-center justify-between min-w-[220px] px-5 py-2.5 text-base font-semibold text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-xl shadow-sm hover:bg-blue-100 dark:hover:bg-blue-900 focus:outline-none focus:ring-4 focus:ring-blue-300/50 dark:focus:ring-blue-800/50 transition-all duration-200 ${a?"flex-row-reverse":""}`,"aria-label":t("tableManagement.accessibility.branchSelector"),"aria-haspopup":"true",children:[r.jsxs("span",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx($r,{className:`h-5 w-5 ${a?"ml-2":"mr-2"}`}),i?i.branchName:t("tableManagement.selectBranch")]}),r.jsx(lr,{className:`h-4 w-4 transition-transform duration-200 ${k?"transform rotate-180":""} ${a?"mr-2":"ml-2"}`})]}),k&&r.jsx(re.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:`absolute z-20 mt-2 w-full min-w-[220px] bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-100 dark:border-gray-700 py-1 max-h-80 overflow-auto ${a?"right-0":"left-0"}`,children:n.length===0?r.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:t("TableManagement.error.loadFailed")}):n.map(ce=>r.jsx("button",{onClick:()=>Be(ce),className:`w-full px-4 py-2 text-sm transition-colors duration-150 ${a?"text-right":"text-left"} ${i?.branchId===ce.branchId?"bg-blue-50 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 font-semibold":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:ce.branchName},ce.branchId))})]}),r.jsxs("button",{onClick:Me,className:`inline-flex items-center px-4 py-2.5 border border-transparent text-sm font-medium rounded-xl shadow-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 ${a?"flex-row-reverse":""}`,"aria-label":t("tableManagement.accessibility.addCategoryButton"),children:[r.jsx(Nt,{className:`h-5 w-5 ${a?"ml-2":"mr-2"}`}),t("tableManagement.categories.addCategory")]}),r.jsxs("button",{onClick:()=>{G("/dashboard/RecycleBin",{state:{source:"tables",branchId:i?.branchId}})},className:"flex items-center gap-2 px-4 py-2.5 text-sm font-medium text-red-600 bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-700 hover:bg-red-100 dark:hover:bg-red-900 rounded-xl transition-colors duration-200 shadow-sm",children:[r.jsx(er,{className:"h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline",children:t("productsContent.actions.RecycleBin")})]})]})]}),pe(),i?b?r.jsx("div",{className:"flex items-center justify-center min-h-[400px] bg-white dark:bg-gray-800 rounded-xl shadow-lg p-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-4 border-gray-300 dark:border-gray-600 border-t-blue-600 mb-4"}),r.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400",children:t("tableManagement.loading")})]})}):r.jsx("div",{className:"space-y-12",children:Object.keys(h).length===0&&l.length===0?r.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[r.jsx(Ht,{className:"h-16 w-16 mx-auto text-gray-400 mb-6"}),r.jsx("p",{className:"text-lg font-medium text-gray-600 dark:text-gray-300 mb-6",children:t("tableManagement.noCategories")}),r.jsxs("button",{onClick:Me,className:`inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-xl shadow-lg text-white bg-blue-600 hover:bg-blue-700 transition-colors ${a?"flex-row-reverse":""}`,children:[r.jsx(Nt,{className:`h-5 w-5 ${a?"ml-2":"mr-2"}`}),t("tableManagement.createFirstCategory")]})]}):Object.entries(h).map(([ce,{category:Te,tables:Le}])=>r.jsxs("section",{className:"space-y-6",role:"region","aria-label":`${Te.categoryName} ${t("tableManagement.accessibility.categorySection")}`,children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-2xl shadow-md border-t-4",style:{borderTopColor:Te.colorCode||"#3B82F6"},children:[r.jsxs("div",{className:`flex items-center space-x-3 ${a?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:Te.categoryName}),r.jsxs("span",{className:"px-3 py-1 text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full",children:[Le.length," ",Le.length===1?"table":"tables"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:ct=>{ct.stopPropagation(),de(Te.id)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":"Category Actions",children:r.jsx(Wd,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),_===Te.id&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>Y(null)}),r.jsxs(re.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:`absolute ${a?"left-0":"right-0"} mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 py-1 z-50`,children:[r.jsxs("button",{onClick:()=>Vr(Te),className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2 transition-colors",children:[r.jsx(Kl,{className:"h-4 w-4"}),"Edit Category"]}),r.jsxs("button",{onClick:()=>ur(Te),className:"w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 transition-colors",children:[r.jsx(er,{className:"h-4 w-4"}),"Delete Category"]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6",role:"grid","aria-label":`${Te.categoryName} ${t("tableManagement.accessibility.tablesGrid")}`,children:[Le.map((ct,Pt)=>r.jsx(re.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:Pt*.05,duration:.3},role:"gridcell",children:r.jsx(tde,{table:ct,onEdit:we,onDelete:()=>De(ct),onToggleStatus:mt,onDownload:ut})},ct.id)),r.jsx(re.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:Le.length*.05,duration:.3},role:"gridcell",children:r.jsx(rde,{onClick:he})})]})]},ce))}):r.jsx("div",{className:"flex items-center justify-center min-h-[400px] bg-white dark:bg-gray-800 rounded-xl shadow-lg p-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx($r,{className:"h-16 w-16 mx-auto text-blue-500 mb-6"}),r.jsx("p",{className:"text-xl font-medium text-gray-700 dark:text-gray-300",children:t("tableManagement.selectBranchPrompt")})]})}),r.jsx(ade,{isOpen:C,onClose:Oe,qrData:Et(),onChange:(ce,Te)=>{E&&A({...E,[ce]:Te})},onSubmit:()=>{},isSubmitting:I,isEditMode:!!E,selectedBranchForEdit:i,categories:u,onSuccess:tr}),r.jsx(nde,{isOpen:F,onClose:Se,selectedBranch:e,onSuccess:Re,editingCategory:R,isEditMode:!!R}),r.jsx(Vi,{isOpen:U,onClose:pt,onConfirm:Ze,title:t("tableManagement.deleteModal.title"),message:t("tableManagement.deleteModal.message"),isSubmitting:ie,itemType:"table",itemName:K?.menuTableName||""}),r.jsx(Vi,{isOpen:W,onClose:Tt,onConfirm:rr,title:"Delete Category",message:`Are you sure you want to delete the category "${B?.categoryName}"? This action cannot be undone.`,isSubmitting:z,itemType:"category",itemName:B?.categoryName||""})]})})};var He=(e=>(e[e.Pending=0]="Pending",e[e.Confirmed=1]="Confirmed",e[e.Preparing=2]="Preparing",e[e.Ready=3]="Ready",e[e.Completed=5]="Completed",e[e.Cancelled=6]="Cancelled",e[e.Rejected=7]="Rejected",e[e.Delivered=4]="Delivered",e))(He||{});const ZT={en:{[He.Pending]:"Pending",[He.Confirmed]:"Confirmed",[He.Preparing]:"Preparing",[He.Ready]:"Ready",[He.Completed]:"Completed",[He.Cancelled]:"Cancelled",[He.Rejected]:"Rejected",[He.Delivered]:"Delivered"},tr:{[He.Pending]:"Bekliyor",[He.Confirmed]:"Onaylandı",[He.Preparing]:"Hazırlanıyor",[He.Ready]:"Hazır",[He.Completed]:"Tamamlandı",[He.Cancelled]:"İptal Edildi",[He.Rejected]:"Reddedildi",[He.Delivered]:"Teslim Edildi"},ar:{[He.Pending]:"معلق",[He.Confirmed]:"مؤكد",[He.Preparing]:"يتم التحضير",[He.Ready]:"جاهز",[He.Completed]:"مكتمل",[He.Cancelled]:"ملغى",[He.Rejected]:"مرفوض",[He.Delivered]:"تم التوصيل"}};class ide{baseUrl="/api/Order";orderTypesCache=[];cacheExpiry=0;CACHE_DURATION=300*1e3;async createSessionOrder(t,a){try{N.info("Session order oluşturma isteği gönderiliyor",{data:t,branchId:a},{prefix:"OrderService"});const n=a?`${this.baseUrl}/from-session?branchId=${a}`:`${this.baseUrl}/from-session`,s=await se.post(n,t);return N.info("Session order başarıyla oluşturuldu",{orderId:s.data,branchId:a},{prefix:"OrderService"}),s.data}catch(n){this.handleError(n,"Session order oluşturulurken hata oluştu")}}async getPendingOrders(t){try{const a=t?`${this.baseUrl}/pending?branchId=${t}`:`${this.baseUrl}/pending`;N.info("Pending orders getirme isteği gönderiliyor",{branchId:t},{prefix:"OrderService"});const n=await se.get(a),s=Array.isArray(n.data)?n.data:[];return N.info("Pending orders başarıyla alındı",{branchId:t,ordersCount:s.length},{prefix:"OrderService"}),s}catch(a){this.handleError(a,"Pending orders getirilirken hata oluştu")}}async getBranchOrders(t){try{const a=[];let n=1;const s=20;let i=1;for(N.info("Branch orders getirme isteği başlatılıyor",{branchId:t},{prefix:"OrderService"});n<=i;)try{const o={page:n,pageSize:s,includeItems:!0};t&&(o.branchId=t);const c=(await se.get(`${this.baseUrl}/branch`,{params:o})).data;let u=[];if(c&&typeof c=="object"&&"items"in c)u=Array.isArray(c.items)?c.items:[],i=c.totalPages||1;else if(c&&typeof c=="object"&&"data"in c){const g=c.data;g&&"items"in g&&(u=Array.isArray(g.items)?g.items:[],i=g.totalPages||1)}else Array.isArray(c)&&(u=c);N.info("Branch orders sayfa alındı",{branchId:t,page:n,totalPages:i,ordersCount:u.length,totalSoFar:a.length+u.length},{prefix:"OrderService"}),a.push(...u),n++,n<=i&&await new Promise(g=>setTimeout(g,100))}catch(o){if(o?.response?.status===404)break;throw o}return N.info("Branch orders tamamlandı",{branchId:t,totalOrders:a.length,totalPages:i},{prefix:"OrderService"}),a}catch(a){return N.error("Branch orders getirme hatası",a,{prefix:"OrderService"}),this.handleError(a,"Branch orders getirilirken hata oluştu"),[]}}async getTableOrders(t,a){try{N.info("Table orders getirme isteği gönderiliyor",{tableId:t,branchId:a},{prefix:"OrderService"});const n=a?`${this.baseUrl}/table/${t}?branchId=${a}`:`${this.baseUrl}/table/${t}`,s=await se.get(n),i=Array.isArray(s.data)?s.data:[];return N.info("Table orders başarıyla alındı",{tableId:t,branchId:a,ordersCount:i.length},{prefix:"OrderService"}),i}catch(n){N.error("Table orders getirme hatası",n,{prefix:"OrderService"}),this.handleError(n,"Table orders getirilirken hata oluştu")}}async getOrder(t,a){try{N.info("Order getirme isteği gönderiliyor",{orderId:t,branchId:a},{prefix:"OrderService"});const n=a?`${this.baseUrl}/${t}?branchId=${a}`:`${this.baseUrl}/${t}`,s=await se.get(n);return N.info("Order başarıyla alındı",{orderId:t,branchId:a,customerName:s.data.customerName,status:s.data.status},{prefix:"OrderService"}),s.data}catch(n){N.error("Order getirme hatası",n,{prefix:"OrderService"}),this.handleError(n,"Order getirilirken hata oluştu")}}async confirmOrder(t,a,n){try{N.info("Order onaylama isteği gönderiliyor",{orderId:t,data:a,branchId:n},{prefix:"OrderService"});const s=n?`${this.baseUrl}/${t}/confirm?branchId=${n}`:`${this.baseUrl}/${t}/confirm`,i=await se.post(s,a);return N.info("Order başarıyla onaylandı",{orderId:t,branchId:n,newStatus:i.data.status},{prefix:"OrderService"}),i.data}catch(s){N.error("Order onaylama hatası",s,{prefix:"OrderService"}),this.handleError(s,"Order onaylanırken hata oluştu")}}async rejectOrder(t,a,n){try{N.info("Order reddetme isteği gönderiliyor",{orderId:t,data:a,branchId:n},{prefix:"OrderService"});const s=n?`${this.baseUrl}/${t}/reject?branchId=${n}`:`${this.baseUrl}/${t}/reject`,i=await se.post(s,a);return N.info("Order başarıyla reddedildi",{orderId:t,branchId:n,rejectionReason:a.rejectionReason},{prefix:"OrderService"}),i.data}catch(s){N.error("Order reddetme hatası",s,{prefix:"OrderService"}),this.handleError(s,"Order reddedilirken hata oluştu")}}async updateOrderStatus(t,a,n){try{N.info("Order status güncelleme isteği gönderiliyor",{orderId:t,data:a,branchId:n},{prefix:"OrderService"});const s=n?`${this.baseUrl}/${t}/status?branchId=${n}`:`${this.baseUrl}/${t}/status`,i=await se.put(s,a);return N.info("Order status başarıyla güncellendi",{orderId:t,branchId:n,oldStatus:a.newStatus,newStatus:i.data.status},{prefix:"OrderService"}),i.data}catch(s){N.error("Order status güncelleme hatası",s,{prefix:"OrderService"}),this.handleError(s,"Order status güncellenirken hata oluştu")}}async trackOrder(t){try{N.info("Order tracking getirme isteği gönderiliyor",{orderTag:t},{prefix:"OrderService"});const a=`${this.baseUrl}/track/${t}`,n=await se.get(a);return N.info("Order tracking başarıyla alındı",{orderTag:t,OrderStatusEnums:n.data.orderStatus,statusCode:n.data.statusCode},{prefix:"OrderService"}),n.data}catch(a){N.error("Order tracking getirme hatası",a,{prefix:"OrderService"}),this.handleError(a,"Order tracking getirilirken hata oluştu")}}async getOrderTrackingQR(t){try{N.info("Order tracking QR getirme isteği gönderiliyor",{orderTag:t},{prefix:"OrderService"});const a=`${this.baseUrl}/track/${t}/qr`,n=await se.get(a);return N.info("Order tracking QR başarıyla alındı",{orderTag:t,trackingUrl:n.data.trackingUrl},{prefix:"OrderService"}),n.data}catch(a){N.error("Order tracking QR getirme hatası",a,{prefix:"OrderService"}),this.handleError(a,"Order tracking QR getirilirken hata oluştu")}}async getTableBasketSummary(t){try{const a=t?`${this.baseUrl}/table-basket-summary?branchId=${t}`:`${this.baseUrl}/table-basket-summary`;N.info("Table basket summary getirme isteği gönderiliyor",{branchId:t},{prefix:"OrderService"});const n=await se.get(a),s=Array.isArray(n.data)?n.data:[];return N.info("Table basket summary başarıyla alındı",{branchId:t,tablesCount:s.length,activeBaskets:s.filter(i=>i.hasActiveBasket).length},{prefix:"OrderService"}),s}catch(a){N.error("Table basket summary getirme hatası",a,{prefix:"OrderService"}),this.handleError(a,"Table basket summary getirilirken hata oluştu")}}async refreshOrderTypesCache(t){try{this.orderTypesCache=await Xl.getOrderTypes(t),this.cacheExpiry=Date.now()+this.CACHE_DURATION,N.info("Order types cache güncellendi",{branchId:t,orderTypesCount:this.orderTypesCache.length},{prefix:"OrderService"})}catch(a){N.error("Order types cache güncelleme hatası",a,{prefix:"OrderService"})}}async getOrderTypesFromCache(t){return(!this.orderTypesCache.length||Date.now()>this.cacheExpiry)&&await this.refreshOrderTypesCache(t),this.orderTypesCache}getOrderStatusText(t,a="en"){const n=a.split("-")[0].toLowerCase(),s=ZT[n]||ZT.en;if(typeof t=="string"){const i=this.parseOrderStatus(t);return s[i]||s[He.Pending]}return s[t]||s[He.Pending]}parseOrderStatus(t){switch(t.toLowerCase()){case"pending":return He.Pending;case"confirmed":return He.Confirmed;case"preparing":return He.Preparing;case"ready":return He.Ready;case"completed":return He.Completed;case"cancelled":return He.Cancelled;case"rejected":return He.Rejected;case"delivered":return He.Delivered;default:return He.Pending}}async getOrderTypeText(t,a){try{return(await this.getOrderTypesFromCache(a)).find(i=>i.id===t)?.name||"Bilinmeyen Sipariş Türü"}catch(n){return N.error("Order type text getirme hatası",n,{prefix:"OrderService"}),"Bilinmeyen Sipariş Türü"}}async getOrderType(t,a){try{return(await this.getOrderTypesFromCache(a)).find(s=>s.id===t)}catch(n){N.error("Order type getirme hatası",n,{prefix:"OrderService"});return}}async getActiveOrderTypes(t){try{return(await this.getOrderTypesFromCache(t)).filter(n=>n.isActive)}catch(a){return N.error("Active order types getirme hatası",a,{prefix:"OrderService"}),[]}}async getAllOrderTypes(t){try{return await this.getOrderTypesFromCache(t)}catch(a){return N.error("All order types getirme hatası",a,{prefix:"OrderService"}),[]}}async calculateOrderTotal(t,a,n){try{const s=await this.getOrderType(t,n);if(!s)return{baseAmount:a,serviceCharge:0,totalAmount:a};const i=a*s.serviceCharge/100,o=a+i;return{baseAmount:a,serviceCharge:i,totalAmount:o}}catch(s){return N.error("Order total calculation hatası",s,{prefix:"OrderService"}),{baseAmount:a,serviceCharge:0,totalAmount:a}}}async getEstimatedTime(t,a){try{return(await this.getOrderType(t,a))?.estimatedMinutes||0}catch(n){return N.error("Estimated time getirme hatası",n,{prefix:"OrderService"}),0}}async getOrderTypeByCode(t,a){try{return(await this.getOrderTypesFromCache(a)).find(s=>s.code.toLowerCase()===t.toLowerCase())}catch(n){N.error("Order type by code getirme hatası",n,{prefix:"OrderService"});return}}async getOrderTypesForDisplay(t){try{return(await this.getActiveOrderTypes(t)).sort((n,s)=>n.displayOrder-s.displayOrder)}catch(a){return N.error("Order types for display getirme hatası",a,{prefix:"OrderService"}),[]}}canModifyOrder(t){if(typeof t=="string"){const a=this.parseOrderStatus(t);return a===He.Pending||a===He.Confirmed}return t===He.Pending||t===He.Confirmed}canCancelOrder(t){if(typeof t=="string"){const a=this.parseOrderStatus(t);return a===He.Pending||a===He.Confirmed||a===He.Preparing}return t===He.Pending||t===He.Confirmed||t===He.Preparing}getItemQuantity(t){return t.count??t.quantity??0}getItemNotes(t){return t.note??t.notes??""}calculateAddonTotal(t){return!t.addonItems||t.addonItems.length===0?0:t.addonItems.reduce((a,n)=>a+n.totalPrice,0)}getFlatItemList(t){const a=[];return t.forEach(n=>{a.push(n),n.addonItems&&n.addonItems.length>0&&a.push(...this.getFlatItemList(n.addonItems))}),a}async refreshOrderTypes(t){await this.refreshOrderTypesCache(t)}clearOrderTypesCache(){this.orderTypesCache=[],this.cacheExpiry=0,N.info("Order types cache temizlendi",{},{prefix:"OrderService"})}handleError(t,a){if(t?.response?.status===400){const n=t?.response?.data;if(n?.errors){const s=Object.values(n.errors).flat();throw new Error(`Doğrulama hatası: ${s.join(", ")}`)}else throw new Error("Geçersiz istek. Lütfen verileri kontrol edin.")}else{if(t?.response?.status===401)throw new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın.");if(t?.response?.status===403)throw new Error("Bu işlem için yetkiniz bulunmuyor.");if(t?.response?.status===404)throw new Error("Sipariş bulunamadı.");if(t?.response?.status===409){const n=t?.response?.data?.message||"";throw n.toLowerCase().includes("unconfirmed price changes")||n.toLowerCase().includes("price changes")?t:new Error("Çakışma hatası: İşlem tamamlanamadı.")}else throw t?.response?.status===422?new Error("Sipariş durumu bu işleme uygun değil."):t?.response?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`${a}: ${t?.message||"Bilinmeyen hata"}`)}}}const Lt=new ide,QD=()=>{const[e,t]=p.useState({branches:[],selectedBranch:null,isBranchDropdownOpen:!1,pendingOrders:[],branchOrders:[],selectedOrder:null,loading:!1,error:null,viewMode:"pending",showConfirmModal:!1,showRejectModal:!1,showCancelModal:!1,showStatusModal:!1,showDetailsModal:!1,activeOrderId:null,activeRowVersion:null,rejectReason:"",cancelReason:"",newStatus:null,expandedRows:new Set,sortField:"createdAt",sortDirection:"desc",filters:{search:"",status:"all",dateRange:{start:"",end:""},priceRange:{min:null,max:null},orderType:"",customerName:"",tableName:""},pagination:{currentPage:1,itemsPerPage:10,totalItems:0,totalPages:0},showAdvancedFilters:!1,filteredOrders:[]}),a=()=>e.selectedBranch?.branchId,n=async()=>{try{t(D=>({...D,loading:!0,error:null}));const R=await Nr.getBranchesDropdown();t(D=>({...D,branches:R,selectedBranch:R.length>0&&!D.selectedBranch?R[0]:D.selectedBranch,loading:!1}))}catch(R){t(D=>({...D,error:R.message,loading:!1}))}},s=R=>{t(D=>({...D,selectedBranch:R,isBranchDropdownOpen:!1,error:null,pagination:{...D.pagination,currentPage:1}})),Lt.clearOrderTypesCache(),e.viewMode==="pending"?i(R.branchId):o(R.branchId)},i=async R=>{const D=R||a();t(W=>({...W,loading:!0,error:null}));try{const W=await Lt.getPendingOrders(D);t(X=>({...X,pendingOrders:W,loading:!1}))}catch(W){t(X=>({...X,error:W.message,loading:!1}))}},o=async R=>{const D=R||a();t(W=>({...W,loading:!0,error:null}));try{const W=await Lt.getBranchOrders(D);t(X=>({...X,branchOrders:W,loading:!1}))}catch(W){t(X=>({...X,error:W.message,loading:!1}))}};return{state:e,actions:{fetchBranches:n,handleBranchSelect:s,fetchPendingOrders:i,fetchBranchOrders:o,fetchTableBasketSummary:async()=>{const R=a();try{t(W=>({...W,loading:!0,error:null}));const D=await Lt.getTableBasketSummary(R);return t(W=>({...W,loading:!1})),D}catch(D){return t(W=>({...W,error:D.message,loading:!1})),[]}},getOrderTypesForCurrentBranch:async()=>{const R=a();try{return await Lt.getOrderTypesForDisplay(R)}catch(D){return console.error("Error fetching order types:",D),[]}},getOrderTypeText:async R=>{const D=a();return await Lt.getOrderTypeText(R,D)},calculateOrderTotal:async(R,D)=>{const W=a();return await Lt.calculateOrderTotal(R,D,W)},getEstimatedTime:async R=>{const D=a();return await Lt.getEstimatedTime(R,D)},getOrderTypeByCode:async R=>{const D=a();return await Lt.getOrderTypeByCode(R,D)},getActiveOrderTypes:async()=>{const R=a();try{return await Lt.getActiveOrderTypes(R)}catch(D){return console.error("Error fetching active order types:",D),[]}},getAllOrderTypes:async()=>{const R=a();try{return await Lt.getAllOrderTypes(R)}catch(D){return console.error("Error fetching all order types:",D),[]}},handleConfirmOrder:async()=>{if(!e.activeOrderId||!e.activeRowVersion)return;const R=a();t(D=>({...D,loading:!0,error:null,showConfirmModal:!1}));try{const D={rowVersion:e.activeRowVersion},W=await Lt.confirmOrder(e.activeOrderId,D,R);e.viewMode==="pending"?i():o(),t(X=>({...X,selectedOrder:W,loading:!1,activeOrderId:null,activeRowVersion:null}))}catch(D){t(W=>({...W,error:D.message,loading:!1,activeOrderId:null,activeRowVersion:null}))}},handleRejectOrder:async()=>{if(!e.activeOrderId||!e.activeRowVersion||!e.rejectReason)return;const R=a();t(D=>({...D,loading:!0,error:null,showRejectModal:!1}));try{const D={rejectionReason:e.rejectReason,rowVersion:e.activeRowVersion},W=await Lt.rejectOrder(e.activeOrderId,D,R);e.viewMode==="pending"?i():o(),t(X=>({...X,selectedOrder:W,loading:!1,activeOrderId:null,activeRowVersion:null,rejectReason:""}))}catch(D){t(W=>({...W,error:D.message,loading:!1,activeOrderId:null,activeRowVersion:null,rejectReason:""}))}},handleCancelOrder:async()=>{if(!e.activeOrderId||!e.activeRowVersion)return;const R=a();t(D=>({...D,loading:!0,error:null,showCancelModal:!1}));try{const D={newStatus:He.Cancelled,rowVersion:e.activeRowVersion},W=await Lt.updateOrderStatus(e.activeOrderId,D,R);e.viewMode==="pending"?i():o(),t(X=>({...X,selectedOrder:W,loading:!1,activeOrderId:null,activeRowVersion:null,cancelReason:""}))}catch(D){t(W=>({...W,error:D.message,loading:!1,activeOrderId:null,activeRowVersion:null,cancelReason:""}))}},handleUpdateStatus:async()=>{if(!e.activeOrderId||!e.activeRowVersion||e.newStatus===null)return;const R=a();t(D=>({...D,loading:!0,error:null,showStatusModal:!1}));try{const D={newStatus:e.newStatus,rowVersion:e.activeRowVersion},W=await Lt.updateOrderStatus(e.activeOrderId,D,R);e.viewMode==="pending"?i():o(),t(X=>({...X,selectedOrder:W,loading:!1,activeOrderId:null,activeRowVersion:null,newStatus:null}))}catch(D){let W=D.message;D.response?.status===400&&D.response?.data?.message.includes("Invalid status transition")?W="Invalid status transition":D.response?.status===400&&D.response?.data?.message.includes("cannot be confirmed")&&(W=`Cannot confirm order. Current status: ${D.response?.data?.message.split("Current status: ")[1]||"unknown"}`),t(X=>({...X,error:W,loading:!1,activeOrderId:null,activeRowVersion:null,newStatus:null}))}},getOrderDetails:async R=>{const D=a();try{t(X=>({...X,loading:!0,error:null}));const W=await Lt.getOrder(R,D);return t(X=>({...X,loading:!1})),W}catch(W){return t(X=>({...X,error:W.message,loading:!1})),null}},getTableOrders:async R=>{const D=a();try{t(X=>({...X,loading:!0,error:null}));const W=await Lt.getTableOrders(R,D);return t(X=>({...X,loading:!1})),W}catch(W){return t(X=>({...X,error:W.message,loading:!1})),[]}},createSessionOrder:async R=>{const D=a();try{t(X=>({...X,loading:!0,error:null}));const W=await Lt.createSessionOrder(R,D);return t(X=>({...X,loading:!1})),e.viewMode==="pending"?i():o(),W}catch(W){return t(X=>({...X,error:W.message,loading:!1})),null}},refreshOrderTypes:async()=>{const R=a();try{await Lt.refreshOrderTypes(R)}catch(D){console.error("Error refreshing order types:",D)}},switchViewMode:R=>{if(t(D=>({...D,viewMode:R,pagination:{...D.pagination,currentPage:1}})),R==="pending")i();else if(R==="branch")o();else return null},openConfirmModal:(R,D)=>{t(W=>({...W,showConfirmModal:!0,activeOrderId:R,activeRowVersion:D}))},openRejectModal:(R,D)=>{t(W=>({...W,showRejectModal:!0,activeOrderId:R,activeRowVersion:D}))},openCancelModal:(R,D)=>{t(W=>({...W,showCancelModal:!0,activeOrderId:R,activeRowVersion:D}))},openStatusModal:(R,D,W)=>{t(X=>({...X,showStatusModal:!0,activeOrderId:R,activeRowVersion:D,newStatus:W}))},openDetailsModal:R=>{t(D=>({...D,showDetailsModal:!0,selectedOrder:R}))},closeModals:()=>{t(R=>({...R,showConfirmModal:!1,showRejectModal:!1,showCancelModal:!1,showStatusModal:!1,showDetailsModal:!1,activeOrderId:null,activeRowVersion:null,rejectReason:"",cancelReason:"",newStatus:null,selectedOrder:null}))},toggleRowExpansion:R=>{t(D=>{const W=new Set(D.expandedRows);return W.has(R)?W.delete(R):W.add(R),{...D,expandedRows:W}})},handleSort:R=>{t(D=>({...D,sortField:R,sortDirection:D.sortField===R&&D.sortDirection==="asc"?"desc":"asc"}))},setState:t}}},YD=(e,t)=>{const a=p.useMemo(()=>{let l=e.viewMode==="pending"?e.pendingOrders:e.branchOrders;if(e.filters.search.trim()){const c=e.filters.search.toLowerCase();l=l.filter(u=>u.customerName.toLowerCase().includes(c)||u.orderTag.toLowerCase().includes(c)||"tableName"in u&&u.tableName?.toLowerCase().includes(c)||"notes"in u&&u.notes?.toLowerCase().includes(c))}if(e.viewMode==="branch"&&e.filters.status!=="all"&&(l=l.filter(c=>Lt.parseOrderStatus(c.status)===e.filters.status)),e.filters.dateRange.start){const c=new Date(e.filters.dateRange.start);l=l.filter(u=>new Date(u.createdAt)>=c)}if(e.filters.dateRange.end){const c=new Date(e.filters.dateRange.end);c.setHours(23,59,59,999),l=l.filter(u=>new Date(u.createdAt)<=c)}if(e.filters.priceRange.min!==null&&(l=l.filter(c=>c.totalPrice>=e.filters.priceRange.min)),e.filters.priceRange.max!==null&&(l=l.filter(c=>c.totalPrice<=e.filters.priceRange.max)),e.filters.customerName.trim()){const c=e.filters.customerName.toLowerCase();l=l.filter(u=>u.customerName.toLowerCase().includes(c))}if(e.filters.tableName.trim()){const c=e.filters.tableName.toLowerCase();l=l.filter(u=>"tableName"in u&&u.tableName?.toLowerCase().includes(c))}if(e.filters.orderType.trim()){const c=e.filters.orderType.toLowerCase();l=l.filter(u=>"orderTypeName"in u&&u.orderTypeName?.toLowerCase().includes(c)||"orderTypeCode"in u&&u.orderTypeCode?.toLowerCase().includes(c))}return l=l.sort((c,u)=>{let g,h;switch(e.sortField){case"customerName":g=c.customerName.toLowerCase(),h=u.customerName.toLowerCase();break;case"totalPrice":g=c.totalPrice,h=u.totalPrice;break;case"createdAt":g=new Date(c.createdAt).getTime(),h=new Date(u.createdAt).getTime();break;default:return 0}return e.sortDirection==="asc"?g<h?-1:g>h?1:0:g>h?-1:g<h?1:0}),l},[e.viewMode,e.pendingOrders,e.branchOrders,e.filters,e.sortField,e.sortDirection]),n=(l,c)=>{t(u=>({...u,filters:{...u.filters,[l]:c},pagination:{...u.pagination,currentPage:1}}))},s=(l,c,u)=>{t(g=>({...g,filters:{...g.filters,[l]:{...g.filters[l],[c]:u}},pagination:{...g.pagination,currentPage:1}}))},i=()=>{t(l=>({...l,filters:{search:"",status:"all",dateRange:{start:"",end:""},priceRange:{min:null,max:null},orderType:"",customerName:"",tableName:""},pagination:{...l.pagination,currentPage:1}}))},o=e.filters.search||e.filters.status!=="all"||e.filters.dateRange.start||e.filters.dateRange.end||e.filters.priceRange.min!==null||e.filters.priceRange.max!==null||e.filters.customerName||e.filters.tableName||e.filters.orderType;return{filteredOrders:a,updateFilter:n,updateNestedFilter:s,clearFilters:i,hasActiveFilters:o}},XD=(e,t,a)=>(p.useEffect(()=>{const o=Math.ceil(e.length/t.itemsPerPage);a(l=>({...l,pagination:{...l.pagination,totalItems:e.length,totalPages:o,currentPage:Math.min(l.pagination.currentPage,Math.max(1,o))},filteredOrders:e}))},[e,t.itemsPerPage,a]),{paginatedOrders:p.useMemo(()=>{const o=(t.currentPage-1)*t.itemsPerPage,l=o+t.itemsPerPage;return e.slice(o,l)},[e,t.currentPage,t.itemsPerPage]),changePage:o=>{a(l=>({...l,pagination:{...l.pagination,currentPage:Math.max(1,Math.min(o,l.pagination.totalPages))}}))},changeItemsPerPage:o=>{a(l=>({...l,pagination:{...l.pagination,itemsPerPage:o,currentPage:1}}))}}),ZD=({t:e})=>r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:e("ordersManager.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:e("ordersManager.description")})]}),JD=({viewMode:e,pendingCount:t,branchCount:a,onModeChange:n,t:s})=>r.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>n("pending"),className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${e==="pending"?"bg-blue-600 text-white dark:bg-blue-500":"bg-white text-gray-700 dark:bg-gray-800 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-600"}`,children:[s("ordersManager.pendingOrders")," (",t,")"]}),r.jsxs("button",{onClick:()=>n("branch"),className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${e==="branch"?"bg-blue-600 text-white dark:bg-blue-500":"bg-white text-gray-700 dark:bg-gray-800 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-600"}`,children:[s("ordersManager.branchOrders")," (",a,")"]})]})}),eR=({filters:e,showAdvancedFilters:t,hasActiveFilters:a,viewMode:n,lang:s,filteredCount:i,totalCount:o,onUpdateFilter:l,onUpdateNestedFilter:c,onClearFilters:u,onToggleAdvanced:g,t:h})=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:h("ordersManager.searchPlaceholder")||"Search orders...",value:e.search,onChange:x=>l("search",x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n==="branch"&&r.jsxs("div",{className:"relative",children:[r.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsxs("select",{title:"filter",value:e.status,onChange:x=>l("status",x.target.value==="all"?"all":parseInt(x.target.value)),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:h("ordersManager.allStatuses")}),Object.values(He).filter(x=>typeof x=="number").map(x=>r.jsx("option",{value:x,children:Lt.getOrderStatusText(x,s)},x))]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"date",placeholder:"Start Date",value:e.dateRange.start,onChange:x=>c("dateRange","start",x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"date",placeholder:"End Date",value:e.dateRange.end,onChange:x=>c("dateRange","end",x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("button",{onClick:g,className:"flex items-center text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium",children:[r.jsx(ac,{className:"w-4 h-4 mr-2"}),h(t?"ordersManager.hideAdvancedFilter":"ordersManager.showAdvancedFilter"),t?r.jsx(Cn,{className:"w-4 h-4 ml-1"}):r.jsx(lr,{className:"w-4 h-4 ml-1"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[a&&r.jsxs("button",{onClick:u,className:"flex items-center text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 font-medium",children:[r.jsx(at,{className:"w-4 h-4 mr-1"}),h("ordersManager.clearFilter")]}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[i," ",h("ordersManager.of")," ",o," ",h("ordersManager.orders")]})]})]}),t&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:h("ordersManager.customerName"),value:e.customerName,onChange:x=>l("customerName",x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:h("ordersManager.tableName"),value:e.tableName,onChange:x=>l("tableName",x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Zh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:h("ordersManager.orderType"),value:e.orderType,onChange:x=>l("orderType",x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"number",placeholder:h("ordersManager.minPrice"),value:e.priceRange.min||"",onChange:x=>c("priceRange","min",x.target.value?parseFloat(x.target.value):null),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"number",placeholder:h("ordersManager.maxPrice"),value:e.priceRange.max||"",onChange:x=>c("priceRange","max",x.target.value?parseFloat(x.target.value):null),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})})]}),tR=({pagination:e,onPageChange:t,onItemsPerPageChange:a,t:n})=>r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n("ordersManager.showing")," ",(e.currentPage-1)*e.itemsPerPage+1," ",n("ordersManager.to")," "," ",Math.min(e.currentPage*e.itemsPerPage,e.totalItems)," ",n("ordersManager.of")," "," ",e.totalItems," ",n("ordersManager.orders")]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",n("ordersManager.showing"),":"]}),r.jsxs("select",{title:"pagination",value:e.itemsPerPage,onChange:s=>a(parseInt(s.target.value)),className:"text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:5,children:"5"}),r.jsx("option",{value:10,children:"10"}),r.jsx("option",{value:25,children:"25"}),r.jsx("option",{value:50,children:"50"}),r.jsx("option",{value:100,children:"100"})]}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n("ordersManager.perpage")})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>t(e.currentPage-1),disabled:e.currentPage<=1,className:"p-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx(eM,{className:"w-4 h-4"})}),r.jsx("div",{className:"flex items-center gap-1",children:(()=>{const s=e.totalPages,i=e.currentPage,o=[];s>0&&o.push(1),i>3&&o.push("...");for(let l=Math.max(2,i-1);l<=Math.min(s-1,i+1);l++)o.includes(l)||o.push(l);return i<s-2&&(o.includes("...")||o.push("...")),s>1&&!o.includes(s)&&o.push(s),o.map((l,c)=>r.jsx("button",{onClick:()=>typeof l=="number"?t(l):null,disabled:typeof l!="number",className:`px-3 py-1 text-sm rounded-lg transition-colors ${l===i?"bg-blue-600 text-white dark:bg-blue-500":typeof l=="number"?"border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600":"text-gray-400 dark:text-gray-500 cursor-default"}`,children:l},c))})()}),r.jsx("button",{onClick:()=>t(e.currentPage+1),disabled:e.currentPage>=e.totalPages,className:"p-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx(xm,{className:"w-4 h-4"})})]})]}),rR=({error:e})=>e?r.jsx("div",{className:"bg-red-100 dark:bg-red-900 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-200 px-4 py-3 rounded-lg mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(fa,{className:"w-5 h-5 mr-2"}),e]})}):null,aR=({show:e,loading:t,onConfirm:a,onClose:n,t:s})=>e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(xt,{className:"w-6 h-6 text-green-600 mr-3"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:s("ordersManager.confirmOrderTitle")})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:s("ordersManager.confirmOrderPrompt")}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors duration-200",children:s("ordersManager.cancel")}),r.jsx("button",{onClick:a,className:"px-4 py-2 bg-green-600 dark:bg-green-500 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-600 transition-colors duration-200",disabled:t,children:s(t?"ordersManager.confirming":"ordersManager.confirmAction")})]})]})}):null,nR=({show:e,loading:t,rejectReason:a,onReasonChange:n,onReject:s,onClose:i,t:o})=>e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(fa,{className:"w-6 h-6 text-red-600 mr-3"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:o("ordersManager.rejectOrderTitle")})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:o("ordersManager.rejectOrderPrompt")}),r.jsx("textarea",{value:a,onChange:l=>n(l.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 dark:focus:ring-red-400 mb-6",rows:4,placeholder:o("ordersManager.rejectReasonPlaceholder")}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors duration-200",children:o("ordersManager.cancel")}),r.jsx("button",{onClick:s,className:"px-4 py-2 bg-red-600 dark:bg-red-500 text-white rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors duration-200",disabled:!a.trim()||t,children:o(t?"ordersManager.rejecting":"ordersManager.rejectAction")})]})]})}):null;class Jd{static getValidStatusTransitions(t){switch(t){case He.Pending:return[He.Confirmed,He.Rejected];case He.Confirmed:return[He.Preparing];case He.Preparing:return[He.Ready,He.Cancelled,He.Completed];case He.Ready:return[He.Completed,He.Cancelled,He.Delivered];case He.Completed:return[];case He.Rejected:return[];case He.Delivered:return[He.Completed];default:return[]}}static getStatusIcon(t){switch(t){case He.Pending:return r.jsx(zt,{className:"w-4 h-4 text-yellow-600"});case He.Confirmed:return r.jsx(xt,{className:"w-4 h-4 text-blue-600"});case He.Preparing:return r.jsx(Ft,{className:"w-4 h-4 text-orange-600"});case He.Ready:return r.jsx(lt,{className:"w-4 h-4 text-purple-600"});case He.Completed:return r.jsx(xt,{className:"w-4 h-4 text-green-600"});case He.Delivered:return r.jsx(Zh,{className:"w-4 h-4 text-indigo-600"});case He.Cancelled:case He.Rejected:return r.jsx(fa,{className:"w-4 h-4 text-red-600"});default:return r.jsx(zt,{className:"w-4 h-4 text-gray-600"})}}static getStatusBadgeClass(t){switch(t){case He.Pending:return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900 dark:text-yellow-200 dark:border-yellow-700";case He.Confirmed:return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:border-blue-700";case He.Preparing:return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900 dark:text-orange-200 dark:border-orange-700";case He.Ready:return"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900 dark:text-purple-200 dark:border-purple-700";case He.Completed:return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900 dark:text-green-200 dark:border-green-700";case He.Delivered:return"bg-indigo-100 text-indigo-800 border-indigo-200 dark:bg-indigo-900 dark:text-indigo-200 dark:border-indigo-700";case He.Rejected:return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900 dark:text-red-200 dark:border-red-700";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600"}}}const sR=({show:e,loading:t,newStatus:a,lang:n,onUpdate:s,onClose:i,t:o})=>!e||a===null?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[Jd.getStatusIcon(a),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 ml-3",children:o("ordersManager.updateStatusTitle")})]}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:[o("ordersManager.updateStatusPrompt")," ",Lt.getOrderStatusText(a,n)]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors duration-200",children:o("ordersManager.cancel")}),r.jsx("button",{onClick:s,className:"px-4 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors duration-200",disabled:t,children:o(t?"ordersManager.updating":"ordersManager.updateAction")})]})]})});class ode{static calculateTotalQuantity(t){let a=0;const n=s=>{s.forEach(i=>{a+=i.count||1,i.addonItems&&i.addonItems.length>0&&n(i.addonItems)})};return n(t),a}static generateItemsHTML(t,a=!1){return t.map(n=>`
      <div style="margin-left: ${a?"20px":"0"}; margin-bottom: 10px; padding: 12px; border: 1px solid #ddd; border-radius: 4px; background: ${a?"#f8f9fa":"white"};">
        <div style="display: flex; justify-content: space-between; align-items: flex-start;">
          <div style="flex: 1;">
            <div style="font-weight: bold; margin-bottom: 8px; font-size: 14px;">
              ${n.productName}
              ${a?'<span style="background: #e3f2fd; padding: 2px 8px; border-radius: 12px; font-size: 10px; margin-left: 8px; color: #1976d2;">Add-on</span>':""}
            </div>
            <div style="font-size: 12px; color: #666; margin-bottom: 5px;">
              <span style="margin-right: 15px;">Qty: <strong>${n.count||1}</strong></span>
              <span style="margin-right: 15px;">Unit Price: <strong>$${n.price?.toFixed(2)||"N/A"}</strong></span>
              ${n.addonPrice?`<span>Addon Price: <strong>$${n.addonPrice.toFixed(2)}</strong></span>`:""}
            </div>
            ${n.note||n.addonNote?`
              <div style="background: #fff3cd; padding: 8px; border-radius: 4px; font-size: 11px; margin-top: 8px; border-left: 3px solid #ffc107;">
                <strong style="color: #856404;">Note:</strong> <span style="color: #856404;">${n.note||n.addonNote}</span>
              </div>
            `:""}
          </div>
          <div style="text-align: right; margin-left: 15px;">
            <div style="font-size: 11px; color: #666; margin-bottom: 3px;">Total</div>
            <div style="font-size: 18px; font-weight: bold; color: #2e7d32;">$${n.totalPrice?.toFixed(2)||"N/A"}</div>
          </div>
        </div>
        ${n.addonItems&&n.addonItems.length>0?this.generateItemsHTML(n.addonItems,!0):""}
      </div>
    `).join("")}static parseMetadata(t){if(!t)return null;const a=t.match(/\[METADATA:(.*?)\]/);if(a)try{return JSON.parse(a[1])}catch{return null}return null}static getCleanNotes(t){return t&&t.replace(/\[METADATA:.*?\]/,"").trim()||null}static generatePrintHTML(t){const{order:a,status:n,lang:s,t:i}=t,o=a.items||[],l=this.calculateTotalQuantity(o),c=this.parseMetadata(a.notes),u=this.getCleanNotes(a.notes);return`
      <!DOCTYPE html>
      <html lang="${s}">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Order #${a.orderTag}</title>
        <style>
          @page {
            size: A4;
            margin: 15mm;
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 20px;
            color: #000;
            background: white;
            line-height: 1.6;
          }
          .header {
            text-align: center;
            border-bottom: 3px solid #333;
            padding-bottom: 20px;
            margin-bottom: 25px;
          }
          .header h1 {
            font-size: 28px;
            margin-bottom: 8px;
            color: #1a1a1a;
          }
          .header .order-number {
            font-size: 16px;
            color: #666;
            margin-bottom: 10px;
          }
          .header .order-type {
            font-size: 18px;
            margin-top: 10px;
          }
          .header .status {
            display: inline-block;
            padding: 6px 15px;
            background: #e8f5e9;
            border: 1px solid #4caf50;
            border-radius: 20px;
            font-size: 13px;
            font-weight: bold;
            margin-top: 10px;
          }
          .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 25px;
          }
          .stat-card {
            border: 1px solid #ddd;
            padding: 15px;
            text-align: center;
            border-radius: 6px;
            background: #f9f9f9;
          }
          .stat-label {
            font-size: 11px;
            color: #666;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
          }
          .stat-value {
            font-size: 22px;
            font-weight: bold;
            color: #1a1a1a;
          }
          .section {
            margin-bottom: 25px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: #fafafa;
          }
          .section-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e0e0e0;
            color: #1a1a1a;
          }
          .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
          }
          .info-item {
            padding: 10px;
            background: white;
            border-radius: 4px;
            border: 1px solid #e0e0e0;
          }
          .info-label {
            font-size: 11px;
            color: #666;
            margin-bottom: 4px;
            text-transform: uppercase;
          }
          .info-value {
            font-size: 13px;
            font-weight: 600;
            color: #1a1a1a;
          }
          .items-section {
            margin-bottom: 25px;
          }
          .total-section {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 6px;
            margin-top: 25px;
            border: 1px solid #ddd;
          }
          .total-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            font-size: 14px;
            border-bottom: 1px solid #e0e0e0;
          }
          .total-row:last-child {
            border-bottom: none;
          }
          .grand-total {
            font-size: 22px;
            font-weight: bold;
            border-top: 3px solid #333;
            padding-top: 12px;
            margin-top: 12px;
          }
          .grand-total .label {
            color: #1a1a1a;
          }
          .grand-total .value {
            color: #2e7d32;
          }
          .timeline {
            margin-top: 25px;
          }
          .timeline-item {
            padding: 12px;
            border-left: 4px solid #1976d2;
            margin-bottom: 12px;
            background: #f8f9fa;
            border-radius: 0 4px 4px 0;
          }
          .timeline-label {
            font-size: 12px;
            font-weight: bold;
            color: #1976d2;
            margin-bottom: 4px;
          }
          .timeline-value {
            font-size: 13px;
            color: #333;
          }
          .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #ddd;
            font-size: 11px;
            color: #666;
          }
          @media print {
            body {
              print-color-adjust: exact;
              -webkit-print-color-adjust: exact;
            }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>${i("ordersManager.orderDetailsTitle")}</h1>
          <div class="order-number">Order #${a.orderTag}</div>
          <div class="order-type">
            ${a.orderTypeIcon||"📦"} ${a.orderTypeName||"Order"} 
            ${a.orderTypeCode?`(${a.orderTypeCode})`:""}
          </div>
          <div class="status">${Lt.getOrderStatusText(n,s)}</div>
        </div>

        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-label">${i("ordersManager.OrderTag")}</div>
            <div class="stat-value">${a.orderTag}</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">${i("ordersManager.ItemCount")}</div>
            <div class="stat-value">${a.itemCount||o.length||0}</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">${i("ordersManager.quantity")}</div>
            <div class="stat-value">${l}</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">${i("ordersManager.total")}</div>
            <div class="stat-value">$${a.totalPrice.toFixed(2)}</div>
          </div>
        </div>

        <div class="section">
          <div class="section-title">${i("ordersManager.CustomerInformation")}</div>
          <div class="info-grid">
            <div class="info-item">
              <div class="info-label">${i("ordersManager.CustomerName")}</div>
              <div class="info-value">${a.customerName||"N/A"}</div>
            </div>
            ${a.customerPhone?`
              <div class="info-item">
                <div class="info-label">${i("ordersManager.PhoneNumber")}</div>
                <div class="info-value">${a.customerPhone}</div>
              </div>
            `:""}
          </div>
        </div>

        ${a.deliveryAddress||a.tableName?`
          <div class="section">
            <div class="section-title">
              ${a.deliveryAddress?i("ordersManager.DeliveryInformation"):i("ordersManager.TableInformation")}
            </div>
            ${a.deliveryAddress?`
              <div class="info-item">
                <div class="info-label">${i("ordersManager.DeliveryAddress")}</div>
                <div class="info-value">${a.deliveryAddress}</div>
              </div>
            `:""}
            ${a.tableName?`
              <div class="info-item">
                <div class="info-label">${i("ordersManager.table")}</div>
                <div class="info-value">${a.tableName} ${a.tableId?`(ID: ${a.tableId})`:""}</div>
              </div>
            `:""}
          </div>
        `:""}

        ${u?`
          <div class="section">
            <div class="section-title">${i("ordersManager.OrderNotes")}</div>
            <div style="padding: 10px; background: white; border-radius: 4px; line-height: 1.8;">
              ${u}
            </div>
          </div>
        `:""}

        <div class="items-section">
          <div class="section">
            <div class="section-title">${i("ordersManager.orderItems")}</div>
            ${o.length>0?this.generateItemsHTML(o):'<p style="text-align: center; color: #999; padding: 20px;">No items available</p>'}
          </div>
        </div>

        <div class="total-section">
          <div class="total-row">
            <span>${i("ordersManager.subTotal")}:</span>
            <span style="font-weight: 600;">$${(a.subTotal||0).toFixed(2)}</span>
          </div>
          ${a.serviceFeeApplied!==void 0&&a.serviceFeeApplied>0?`
            <div class="total-row">
              <span>${i("ordersManager.serviceFeeApplied")}:</span>
              <span style="font-weight: 600; color: #1976d2;">+$${a.serviceFeeApplied.toFixed(2)}</span>
            </div>
          `:""}
          ${c?.MinOrderAmount?`
            <div class="total-row">
              <span>${i("ordersManager.MinOrderAmount")}:</span>
              <span style="font-weight: 600;">$${parseFloat(c.MinOrderAmount).toFixed(2)}</span>
            </div>
          `:""}
          <div class="total-row grand-total">
            <span class="label">${i("ordersManager.total")}:</span>
            <span class="value">$${a.totalPrice.toFixed(2)}</span>
          </div>
        </div>

        <div class="timeline">
          <div class="section">
            <div class="section-title">${i("ordersManager.OrderTimeline")}</div>
            <div class="timeline-item">
              <div class="timeline-label">${i("ordersManager.createdAt")}</div>
              <div class="timeline-value">${new Date(a.createdAt).toLocaleString(s==="tr"?"tr-TR":s==="ar"?"ar-SA":"en-US",{dateStyle:"medium",timeStyle:"short"})}</div>
            </div>
            ${a.confirmedAt?`
              <div class="timeline-item" style="border-left-color: #4caf50;">
                <div class="timeline-label" style="color: #4caf50;">${i("ordersManager.confirmedAt")}</div>
                <div class="timeline-value">${new Date(a.confirmedAt).toLocaleString(s==="tr"?"tr-TR":s==="ar"?"ar-SA":"en-US",{dateStyle:"medium",timeStyle:"short"})}</div>
              </div>
            `:""}
            ${a.completedAt?`
              <div class="timeline-item" style="border-left-color: #2196f3;">
                <div class="timeline-label" style="color: #2196f3;">${i("ordersManager.CompletedAt")}</div>
                <div class="timeline-value">${new Date(a.completedAt).toLocaleString(s==="tr"?"tr-TR":s==="ar"?"ar-SA":"en-US",{dateStyle:"medium",timeStyle:"short"})}</div>
              </div>
            `:""}
          </div>
        </div>

        <div class="footer">
          <p>Printed: ${new Date().toLocaleString(s==="tr"?"tr-TR":s==="ar"?"ar-SA":"en-US",{dateStyle:"full",timeStyle:"short"})}</p>
          <p style="margin-top: 5px;">Order Management System</p>
        </div>
      </body>
      </html>
    `}static print(t){const a=this.generatePrintHTML(t),n=window.open("","_blank","width=900,height=800");n?(n.document.write(a),n.document.close(),n.focus(),setTimeout(()=>{n.print()},500)):alert("Please allow popups to print the order")}}const iR=({show:e,order:t,viewMode:a,lang:n,onClose:s,t:i})=>{const[o,l]=p.useState("medium");console.log("Rendering OrderDetailsModal with order:",t);const[c,u]=p.useState("comfortable"),[g,h]=p.useState("medium"),[x,b]=p.useState({stats:!0,customer:!0,delivery:!0,notes:!0,items:!0,pricing:!0,timeline:!0}),[y,k]=p.useState(!1),v={small:"text-xs",medium:"text-sm",large:"text-base"},j={compact:"space-y-2 p-3",comfortable:"space-y-4 p-4",spacious:"space-y-6 p-6"},S={compact:"p-2",comfortable:"p-3",spacious:"p-4"},C={compact:"gap-1",comfortable:"gap-2",spacious:"gap-3"},P={none:"backdrop-blur-none",light:"backdrop-blur-sm",medium:"backdrop-blur-md",heavy:"backdrop-blur-xl"},E={none:"bg-black/40",light:"bg-black/50",medium:"bg-black/60",heavy:"bg-black/70"},A=()=>{l(D=>D==="small"?"medium":D==="medium"?"large":"small")},I=()=>{u(D=>D==="compact"?"comfortable":D==="comfortable"?"spacious":"compact")},M=()=>{h(D=>D==="none"?"light":D==="light"?"medium":D==="medium"?"heavy":"none")},F=D=>{b(W=>({...W,[D]:!W[D]}))},Q=D=>{b({stats:D,customer:D,delivery:D,notes:D,items:D,pricing:D,timeline:D})};if(!e||!t)return null;const U=a==="branch"?Lt.parseOrderStatus(t.status):He.Pending,V=D=>{if(!D)return null;const W=D.match(/\[METADATA:(.*?)\]/);if(W)try{return JSON.parse(W[1])}catch{return null}return null},K=D=>D&&D.replace(/\[METADATA:.*?\]/,"").trim()||null,Z=V(t.notes),ie=K(t.notes),te=()=>{ode.print({order:t,status:U,lang:n,t:i})},R=(D,W=!1,X=0)=>D.map((B,H)=>r.jsxs("div",{className:`group transition-all duration-200 ${W?"ml-4":""}`,children:[r.jsxs("div",{className:`relative ${S[c]} rounded-lg border transition-all hover:shadow-md ${W?"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-blue-200 dark:border-blue-600":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:border-indigo-300 dark:hover:border-indigo-600"}`,children:[W&&r.jsx("div",{className:"absolute -left-4 top-1/2 -translate-y-1/2 w-4 h-0.5 bg-blue-300 dark:bg-blue-600"}),r.jsxs("div",{className:`flex justify-between items-start ${C[c]}`,children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:`flex items-center ${C[c]} mb-2`,children:[r.jsx("div",{className:`p-1.5 rounded-md ${W?"bg-blue-100 dark:bg-blue-800":"bg-indigo-100 dark:bg-indigo-800"}`,children:r.jsx(pS,{className:`w-3 h-3 ${W?"text-blue-600 dark:text-blue-300":"text-indigo-600 dark:text-indigo-300"}`})}),r.jsx("h5",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm truncate",children:B.productName}),W&&r.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-300 text-[10px] rounded-full font-medium",children:"Add-on"})]}),r.jsxs("div",{className:`grid grid-cols-2 md:grid-cols-3 ${C[c]} mb-2`,children:[r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(gs,{className:"w-3 h-3 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"Qty"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:B.count||1})]})]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(Qr,{className:"w-3 h-3 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"Unit"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:B.price?.toFixed(2)||"N/A"})]})]}),B.addonPrice&&r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(Qr,{className:"w-3 h-3 text-blue-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"Addon"}),r.jsx("p",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:B.addonPrice.toFixed(2)})]})]})]}),(B.note||B.addonNote)&&r.jsx("div",{className:"mt-2 p-2 bg-amber-50 dark:bg-amber-900/20 rounded-md border border-amber-200 dark:border-amber-700",children:r.jsxs("div",{className:"flex items-start gap-1.5",children:[r.jsx(gS,{className:"w-3 h-3 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-semibold text-amber-900 dark:text-amber-200 mb-0.5",children:"Note:"}),r.jsx("p",{className:"text-xs text-amber-800 dark:text-amber-300",children:B.note||B.addonNote})]})]})})]}),r.jsxs("div",{className:"flex flex-col items-end",children:[r.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mb-0.5",children:"Total"}),r.jsx("p",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400",children:B.totalPrice?.toFixed(2)||"N/A"})]})]})]}),B.addonItems&&B.addonItems.length>0&&r.jsxs("div",{className:"mt-2 space-y-2 relative",children:[r.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-gradient-to-b from-blue-300 to-transparent dark:from-blue-600"}),R(B.addonItems,!0,X+1)]})]},`${X}-${H}`));return r.jsxs("div",{className:`fixed inset-0 dark:bg-black/80 flex items-center justify-center z-50 p-3 animate-fadeIn transition-all duration-300 ${E[g]} ${P[g]}`,children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-5xl w-full max-h-[95vh] overflow-hidden flex flex-col animate-slideUp",children:[r.jsxs("div",{className:"relative bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-700 dark:to-purple-700 px-4 py-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg",children:r.jsx(cn,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:i("ordersManager.orderDetailsTitle")}),r.jsxs("p",{className:"text-indigo-100 text-xs",children:["Order #",t.orderTag]})]})]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("button",{onClick:()=>k(!y),className:`p-1.5 backdrop-blur-sm rounded-md transition-all text-white ${y?"bg-white/30":"bg-white/20 hover:bg-white/30"}`,title:"Settings",children:r.jsx(Yr,{className:"w-4 h-4"})}),r.jsxs("button",{onClick:M,className:"p-1.5 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-md transition-all text-white flex items-center gap-1",title:`Blur: ${g}`,children:[r.jsx(cS,{className:"w-4 h-4"}),r.jsx("span",{className:"text-[10px] font-semibold uppercase",children:g[0]})]}),r.jsxs("button",{onClick:A,className:"p-1.5 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-md transition-all text-white flex items-center gap-1",title:`Font Size: ${o}`,children:[r.jsx(Vu,{className:"w-4 h-4"}),r.jsx("span",{className:"text-[10px] font-semibold uppercase",children:o[0]})]}),r.jsxs("button",{onClick:I,className:"p-1.5 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-md transition-all text-white flex items-center gap-1",title:`Density: ${c}`,children:[r.jsx(sM,{className:"w-4 h-4"}),r.jsx("span",{className:"text-[10px] font-semibold uppercase",children:c[0]})]}),r.jsx("button",{onClick:te,className:"p-1.5 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-md transition-all text-white",title:"Print Order",children:r.jsx(lM,{className:"w-4 h-4"})}),r.jsx("button",{onClick:s,className:"p-1.5 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-md transition-all text-white",children:r.jsx(fa,{className:"w-4 h-4"})})]})]}),y&&r.jsxs("div",{className:"mt-3 bg-white/10 backdrop-blur-md rounded-lg p-3 border border-white/20",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(cS,{className:"w-4 h-4 text-white"}),r.jsx("span",{className:"text-sm font-semibold text-white",children:"Background Blur"})]}),r.jsx("div",{className:"flex gap-1",children:["none","light","medium","heavy"].map(D=>r.jsx("button",{onClick:()=>h(D),className:`px-2 py-1 text-[10px] rounded transition-all ${g===D?"bg-white/30 text-white font-bold border border-white/40":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:D},D))})]}),r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-semibold text-white",children:"Section Visibility"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>Q(!0),className:"px-2 py-1 text-[10px] bg-white/20 hover:bg-white/30 rounded text-white transition-all",children:"Show All"}),r.jsx("button",{onClick:()=>Q(!1),className:"px-2 py-1 text-[10px] bg-white/20 hover:bg-white/30 rounded text-white transition-all",children:"Hide All"})]})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(x).map(([D,W])=>r.jsxs("button",{onClick:()=>F(D),className:`px-2 py-1.5 rounded text-xs font-medium transition-all flex items-center gap-1.5 ${W?"bg-white/20 text-white border border-white/30":"bg-white/5 text-white/50 border border-white/10"}`,children:[W?r.jsx(cn,{className:"w-3 h-3"}):r.jsx(Wo,{className:"w-3 h-3"}),D.charAt(0).toUpperCase()+D.slice(1)]},D))})]}),r.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-3xl",children:t.orderTypeIcon||"📦"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-white",children:t.orderTypeName||"Order"}),r.jsx("p",{className:"text-xs text-indigo-100",children:t.orderTypeCode})]})]}),r.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold shadow-md ${Jd.getStatusBadgeClass(U)}`,children:[r.jsx("span",{children:Jd.getStatusIcon(U)}),r.jsx("span",{className:"ml-1",children:Lt.getOrderStatusText(U,n)})]})]})]}),r.jsxs("div",{className:`flex-1 overflow-y-auto ${j[c]} ${v[o]}`,children:[x.stats&&r.jsxs("div",{className:`grid grid-cols-2 md:grid-cols-4 ${C[c]}`,children:[r.jsxs("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 ${S[c]} rounded-lg border border-blue-200 dark:border-blue-700 hover:shadow-md transition-all`,children:[r.jsx(gs,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 mb-1"}),r.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 mb-0.5",children:i("ordersManager.OrderTag")}),r.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-100 font-mono",children:t.orderTag})]}),r.jsxs("div",{className:`bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/30 ${S[c]} rounded-lg border border-purple-200 dark:border-purple-700 hover:shadow-md transition-all`,children:[r.jsx(Ft,{className:"w-4 h-4 text-purple-600 dark:text-purple-400 mb-1"}),r.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 mb-0.5",children:i("ordersManager.ItemCount")}),r.jsx("p",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:t.itemCount||t.items?.length||0})]}),r.jsxs("div",{className:`bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/30 dark:to-amber-800/30 ${S[c]} rounded-lg border border-amber-200 dark:border-amber-700 hover:shadow-md transition-all`,children:[r.jsx(pS,{className:"w-4 h-4 text-amber-600 dark:text-amber-400 mb-1"}),r.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 mb-0.5",children:i("ordersManager.quantity")}),r.jsx("p",{className:"text-lg font-bold text-amber-600 dark:text-amber-400",children:(()=>{const D=t.items;if(D){let W=0;const X=B=>{B.forEach(H=>{W+=H.count||1,H.addonItems&&H.addonItems.length>0&&X(H.addonItems)})};return X(D),W}return 0})()})]}),r.jsxs("div",{className:`bg-gradient-to-br from-green-50 to-emerald-100 dark:from-green-900/30 dark:to-emerald-800/30 ${S[c]} rounded-lg border border-green-200 dark:border-green-700 hover:shadow-md transition-all`,children:[r.jsx(Qr,{className:"w-4 h-4 text-green-600 dark:text-green-400 mb-1"}),r.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 mb-0.5",children:i("ordersManager.total")}),r.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:t.totalPrice.toFixed(2)})]})]}),x.customer&&r.jsxs("div",{className:`bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-blue-900/20 dark:via-indigo-900/20 dark:to-purple-900/20 rounded-lg ${S[c]} border border-blue-200 dark:border-blue-700`,children:[r.jsxs("button",{onClick:()=>F("customer"),className:"flex items-center justify-between w-full mb-3 group",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-800 rounded-md",children:r.jsx(ln,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),r.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:i("ordersManager.CustomerInformation")})]}),r.jsx(Cn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400 group-hover:text-blue-600 transition-colors"})]}),r.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 ${C[c]}`,children:[r.jsxs("div",{className:`flex items-start gap-2 ${S[c]} bg-white dark:bg-gray-800 rounded-md`,children:[r.jsx("div",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded-md",children:r.jsx(ln,{className:"w-3 h-3 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:i("ordersManager.CustomerName")}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:t.customerName||"N/A"})]})]}),t.customerPhone&&r.jsxs("div",{className:`flex items-start gap-2 ${S[c]} bg-white dark:bg-gray-800 rounded-md`,children:[r.jsx("div",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded-md",children:r.jsx(Gr,{className:"w-3 h-3 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:i("ordersManager.PhoneNumber")}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:t.customerPhone})]})]})]})]}),x.delivery&&(t.deliveryAddress||t.tableName||t.tableId)&&r.jsxs("div",{className:`bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 dark:from-green-900/20 dark:via-emerald-900/20 dark:to-teal-900/20 rounded-lg ${S[c]} border border-green-200 dark:border-green-700`,children:[r.jsxs("button",{onClick:()=>F("delivery"),className:"flex items-center justify-between w-full mb-3 group",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 bg-green-100 dark:bg-green-800 rounded-md",children:t.deliveryAddress?r.jsx(Zh,{className:"w-4 h-4 text-green-600 dark:text-green-400"}):r.jsx(Vl,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),r.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:t.deliveryAddress?i("ordersManager.DeliveryInformation"):i("ordersManager.TableInformation")})]}),r.jsx(Cn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400 group-hover:text-green-600 transition-colors"})]}),r.jsxs("div",{className:"space-y-2",children:[t.deliveryAddress&&r.jsxs("div",{className:`flex items-start gap-2 ${S[c]} bg-white dark:bg-gray-800 rounded-md`,children:[r.jsx("div",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded-md",children:r.jsx($r,{className:"w-3 h-3 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:i("ordersManager.DeliveryAddress")}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:t.deliveryAddress})]})]}),t.tableName&&r.jsxs("div",{className:`flex items-start gap-2 ${S[c]} bg-white dark:bg-gray-800 rounded-md`,children:[r.jsx("div",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded-md",children:r.jsx(Vl,{className:"w-3 h-3 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:i("ordersManager.table")}),r.jsxs("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:[t.tableName," ",t.tableId&&`(ID: ${t.tableId})`]})]})]})]})]}),x.notes&&ie&&r.jsx("div",{className:`bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-amber-900/20 dark:to-yellow-900/20 rounded-lg ${S[c]} border border-amber-200 dark:border-amber-700`,children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"p-1.5 bg-amber-100 dark:bg-amber-800 rounded-md",children:r.jsx(gS,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-xs font-bold text-amber-900 dark:text-amber-200 mb-1",children:i("ordersManager.OrderNotes")}),r.jsx("p",{className:"text-xs text-amber-800 dark:text-amber-300 leading-relaxed",children:ie})]})]})}),x.items&&r.jsxs("div",{className:`bg-gray-50 dark:bg-gray-900/50 rounded-lg ${S[c]} border border-gray-200 dark:border-gray-700`,children:[r.jsxs("button",{onClick:()=>F("items"),className:"flex items-center justify-between w-full mb-3 group",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 bg-indigo-100 dark:bg-indigo-800 rounded-md",children:r.jsx(Ft,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"})}),r.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:i("ordersManager.orderItems")})]}),r.jsx(Cn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400 group-hover:text-indigo-600 transition-colors"})]}),(()=>{const D=t.items;return!D||D.length===0?r.jsx("div",{className:"p-8 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-700",children:r.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[r.jsx(lt,{className:"w-12 h-12 text-yellow-600 dark:text-yellow-400 mb-3"}),r.jsx("p",{className:"text-yellow-900 dark:text-yellow-200 font-semibold text-sm",children:"No items data available"}),r.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 text-xs mt-1",children:"This order doesn't contain any items yet"})]})}):r.jsx("div",{className:"space-y-2",children:R(D)})})()]}),x.pricing&&r.jsxs("div",{className:`bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-lg ${S[c]} border border-gray-200 dark:border-gray-600`,children:[r.jsxs("button",{onClick:()=>F("pricing"),className:"flex items-center justify-between w-full mb-3 group",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 bg-gray-200 dark:bg-gray-700 rounded-md",children:r.jsx(Ho,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),r.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:"Pricing"})]}),r.jsx(Cn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400 group-hover:text-gray-900 transition-colors"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:`flex justify-between items-center ${S[c]} bg-white dark:bg-gray-800 rounded-md`,children:[r.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium",children:i("ordersManager.subTotal")}),r.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:(t.subTotal||0).toFixed(2)})]}),t.serviceFeeApplied!==void 0&&t.serviceFeeApplied>0&&r.jsxs("div",{className:`flex justify-between items-center ${S[c]} bg-blue-50 dark:bg-blue-900/20 rounded-md`,children:[r.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium",children:i("ordersManager.serviceFeeApplied")}),r.jsxs("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400",children:["+",t.serviceFeeApplied.toFixed(2)]})]}),Z?.MinOrderAmount&&r.jsxs("div",{className:`flex justify-between items-center ${S[c]} bg-gray-100 dark:bg-gray-700 rounded-md`,children:[r.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:i("ordersManager.MinOrderAmount")}),r.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:parseFloat(Z.MinOrderAmount).toFixed(2)})]}),r.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-600 to-transparent my-2"}),r.jsxs("div",{className:`flex justify-between items-center ${S[c]} bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 rounded-md border border-green-200 dark:border-green-700`,children:[r.jsx("span",{className:"text-base font-bold text-gray-900 dark:text-gray-100",children:i("ordersManager.total")}),r.jsx("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:t.totalPrice.toFixed(2)})]})]})]}),x.timeline&&r.jsxs("div",{className:`bg-gradient-to-br from-slate-50 to-gray-100 dark:from-slate-900/50 dark:to-gray-800/50 rounded-lg ${S[c]} border border-slate-200 dark:border-slate-700`,children:[r.jsxs("button",{onClick:()=>F("timeline"),className:"flex items-center justify-between w-full mb-3 group",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 bg-slate-200 dark:bg-slate-700 rounded-md",children:r.jsx(zt,{className:"w-4 h-4 text-slate-600 dark:text-slate-400"})}),r.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:i("ordersManager.OrderTimeline")})]}),r.jsx(Cn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400 group-hover:text-slate-600 transition-colors"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"relative pl-8",children:[r.jsx("div",{className:"absolute left-0 top-0.5 w-5 h-5 bg-indigo-500 rounded-full border-2 border-white dark:border-gray-800 shadow-md flex items-center justify-center",children:r.jsx(zt,{className:"w-2.5 h-2.5 text-white"})}),t.confirmedAt&&r.jsx("div",{className:"absolute left-2.5 top-5 w-0.5 h-full bg-gradient-to-b from-indigo-300 to-green-300 dark:from-indigo-600 dark:to-green-600"}),r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-md ${S[c]} border border-indigo-200 dark:border-indigo-700`,children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[r.jsx(Fa,{className:"w-3 h-3 text-indigo-600 dark:text-indigo-400"}),r.jsx("p",{className:"text-xs font-bold text-indigo-900 dark:text-indigo-200",children:i("ordersManager.createdAt")})]}),r.jsx("p",{className:"text-xs font-mono text-gray-700 dark:text-gray-300",children:new Date(t.createdAt).toLocaleString(n==="tr"?"tr-TR":n==="ar"?"ar-SA":"en-US",{dateStyle:"short",timeStyle:"short"})})]})]}),t.confirmedAt&&r.jsxs("div",{className:"relative pl-8",children:[r.jsx("div",{className:"absolute left-0 top-0.5 w-5 h-5 bg-green-500 rounded-full border-2 border-white dark:border-gray-800 shadow-md flex items-center justify-center",children:r.jsx(xt,{className:"w-2.5 h-2.5 text-white"})}),t.completedAt&&r.jsx("div",{className:"absolute left-2.5 top-5 w-0.5 h-full bg-gradient-to-b from-green-300 to-blue-300 dark:from-green-600 dark:to-blue-600"}),r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-md ${S[c]} border border-green-200 dark:border-green-700`,children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[r.jsx(Fa,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),r.jsx("p",{className:"text-xs font-bold text-green-900 dark:text-green-200",children:i("ordersManager.confirmedAt")})]}),r.jsx("p",{className:"text-xs font-mono text-gray-700 dark:text-gray-300",children:new Date(t.confirmedAt).toLocaleString(n==="tr"?"tr-TR":n==="ar"?"ar-SA":"en-US",{dateStyle:"short",timeStyle:"short"})})]})]}),t.completedAt&&r.jsxs("div",{className:"relative pl-8",children:[r.jsx("div",{className:"absolute left-0 top-0.5 w-5 h-5 bg-blue-500 rounded-full border-2 border-white dark:border-gray-800 shadow-md flex items-center justify-center",children:r.jsx(xt,{className:"w-2.5 h-2.5 text-white"})}),r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-md ${S[c]} border border-blue-200 dark:border-blue-700`,children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[r.jsx(Fa,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"}),r.jsx("p",{className:"text-xs font-bold text-blue-900 dark:text-blue-200",children:i("ordersManager.CompletedAt")})]}),r.jsx("p",{className:"text-xs font-mono text-gray-700 dark:text-gray-300",children:new Date(t.completedAt).toLocaleString(n==="tr"?"tr-TR":n==="ar"?"ar-SA":"en-US",{dateStyle:"short",timeStyle:"short"})})]})]})]})]})]})]}),r.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.2s ease-out;
        }
        
        .animate-slideUp {
          animation: slideUp 0.3s ease-out;
        }
      `})]})},oR=({order:e,t})=>e?r.jsx("div",{className:"fixed bottom-4 right-4 bg-green-100 dark:bg-green-900 border border-green-400 dark:border-green-700 text-green-700 dark:text-green-200 px-4 py-3 rounded-lg shadow-lg max-w-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(xt,{className:"w-5 h-5 mr-2"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:t("ordersManager.successNotification")}),r.jsxs("p",{className:"text-sm",children:[e.customerName," - ",e.orderTag]})]})]})}):null,lde=({order:e,viewMode:t,lang:a,onOpenDetails:n,onOpenConfirm:s,onOpenReject:i,onOpenStatus:o,onOpenCancel:l,t:c,rowIndex:u})=>{const h=t==="pending"?He.Pending:Lt.parseOrderStatus(e.status),x=e.rowVersion||"",b=Jd.getValidStatusTransitions(h),y=a==="ar",k=u%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-800/50",v=Lt.canModifyOrder(h)&&h!==He.Completed&&h!==He.Confirmed&&h!==He.Delivered&&h!==He.Cancelled&&h!==He.Rejected;return r.jsxs("tr",{className:`${k} hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200 border-b border-gray-100 dark:border-gray-700`,children:[r.jsx("td",{className:`px-4 py-4 ${y?"text-right":"text-left"}`,children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:e.customerName}),e.customerPhone&&r.jsxs("div",{className:`flex items-center gap-1.5 text-xs text-gray-500 dark:text-gray-400 ${y?"flex-row-reverse":""}`,children:[r.jsx(Gr,{className:"w-3 h-3"}),r.jsx("span",{children:e.customerPhone})]})]})}),r.jsx("td",{className:`px-4 py-4 ${y?"text-right":"text-left"}`,children:r.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 px-3 py-1.5 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"}),r.jsx("span",{className:"text-xs font-mono font-bold text-gray-900 dark:text-gray-100",children:e.orderTag})]})}),t==="branch"&&r.jsx("td",{className:`px-4 py-4 ${y?"text-right":"text-left"}`,children:r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold border-2 ${Jd.getStatusBadgeClass(h)} shadow-sm`,children:[Jd.getStatusIcon(h),r.jsx("span",{children:Lt.getOrderStatusText(h,a)})]})}),r.jsx("td",{className:`px-4 py-4 ${y?"text-right":"text-left"}`,children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("div",{className:"text-lg font-black text-green-600 dark:text-green-400",children:e.totalPrice.toFixed(2)}),r.jsxs("div",{className:`flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 ${y?"flex-row-reverse":""}`,children:[r.jsx(Ft,{className:"w-3 h-3"}),r.jsxs("span",{children:[e.itemCount||0," ",c("ordersManager.orderItems")]})]})]})}),r.jsx("td",{className:`px-4 py-4 ${y?"text-right":"text-left"}`,children:r.jsxs("div",{className:`flex items-center gap-2 ${y?"flex-row-reverse":""}`,children:[r.jsx("span",{className:"text-2xl",children:e.orderTypeIcon}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:e.orderTypeName}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.orderTypeCode})]})]})}),r.jsx("td",{className:`px-4 py-4 ${y?"text-right":"text-left"}`,children:r.jsxs("div",{className:`flex items-center gap-2 ${y?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"p-1.5 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsx(zt,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),r.jsx("div",{className:"flex flex-col",children:r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(e.createdAt).toLocaleTimeString(a==="tr"?"tr-TR":a==="ar"?"ar-SA":"en-US",{hour:"2-digit",minute:"2-digit"})})})]})}),r.jsx("td",{className:`px-4 py-4 ${y?"text-left":"text-right"}`,children:r.jsxs("div",{className:`flex items-center gap-2 ${y?"flex-row-reverse justify-end":"justify-end"}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[v&&r.jsxs("button",{onClick:()=>s(e.id.toString(),x),className:"group relative px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-lg transition-all duration-200 hover:scale-105 hover:shadow-lg font-bold text-sm flex items-center gap-2",title:c("ordersManager.confirm"),children:[r.jsx(xt,{className:"w-5 h-5"}),r.jsx("span",{className:"hidden sm:inline",children:c("ordersManager.confirm")})]}),r.jsx("button",{onClick:()=>n(e),className:"p-2.5 text-indigo-600 hover:text-white hover:bg-indigo-600 dark:text-indigo-400 dark:hover:bg-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg transition-all duration-200 hover:scale-105 hover:shadow-lg",title:c("ordersManager.viewDetails"),children:r.jsx(cn,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex items-center gap-1 pl-2 border-l-2 border-gray-200 dark:border-gray-600",children:[h===He.Pending&&r.jsx("button",{onClick:()=>i(e.id.toString(),x),className:"p-2 text-red-600 hover:text-white hover:bg-red-600 dark:text-red-400 dark:hover:bg-red-500 bg-red-50 dark:bg-red-900/20 rounded-lg transition-all duration-200 hover:scale-105",title:c("ordersManager.reject"),children:r.jsx(fa,{className:"w-4 h-4"})}),Lt.canCancelOrder(h)&&r.jsx("button",{onClick:()=>l(e.id.toString(),x),className:"p-2 text-orange-600 hover:text-white hover:bg-orange-600 dark:text-orange-400 dark:hover:bg-orange-500 bg-orange-50 dark:bg-orange-900/20 rounded-lg transition-all duration-200 hover:scale-105",title:c("ordersManager.cancel"),children:r.jsx(iv,{className:"w-4 h-4"})}),b.length>0&&r.jsxs("div",{className:"relative group",children:[r.jsxs("select",{title:c("ordersManager.changeStatus"),onChange:j=>{const S=parseInt(j.target.value);S!==h&&o(e.id.toString(),x,S),j.target.value=""},className:"appearance-none text-xs border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg px-3 py-2 pr-8 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-blue-400 transition-all cursor-pointer font-semibold hover:shadow-md",defaultValue:"",children:[r.jsxs("option",{value:"",disabled:!0,children:[r.jsx(Ls,{className:"inline w-3 h-3"})," ",c("ordersManager.status")]}),b.filter(j=>!(h===He.Preparing&&j===He.Completed||h===He.Ready&&j===He.Completed)).map(j=>r.jsx("option",{value:j,children:Lt.getOrderStatusText(j,a)},j))]}),r.jsx(Ls,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})})]})},lR=({orders:e,viewMode:t,loading:a,expandedRows:n,sortField:s,sortDirection:i,hasActiveFilters:o,lang:l,onSort:c,onToggleExpansion:u,onOpenDetails:g,onOpenConfirm:h,onOpenReject:x,onOpenStatus:b,onOpenCancel:y,onClearFilters:k,t:v})=>{const j=l==="ar",S=P=>s!==P?null:i==="asc"?r.jsx(Cn,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}):r.jsx(lr,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),C=()=>{if(o)return v("ordersManager.noMatchingOrders")||"No orders match your current filters";const E=v(t==="pending"?"ordersManager.pendingOrders":"ordersManager.branchOrders").toLowerCase();return`${v("ordersManager.no")} ${E} ${v("ordersManager.found")}`||`No ${E} found`};return a?r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-12",children:r.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-gray-200 dark:border-gray-700"}),r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-t-blue-600 dark:border-t-blue-400 absolute top-0 left-0"})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:v("ordersManager.loadingOrders")||"Loading orders..."})]})}):r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl overflow-hidden border border-gray-200 dark:border-gray-700",dir:j?"rtl":"ltr",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-700 dark:to-indigo-700 px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2",children:r.jsx(ac,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold text-lg",children:v(t==="pending"?"ordersManager.pendingOrders":"ordersManager.branchOrders")}),r.jsxs("p",{className:"text-blue-100 text-sm",children:[e.length," ",e.length===1?v("ordersManager.order"):v("ordersManager.orders"),o&&r.jsxs("span",{className:"ml-2 text-yellow-200",children:["(",v("ordersManager.filtered"),")"]})]})]})]}),o&&r.jsx("button",{onClick:k,className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-all duration-200 font-medium text-sm backdrop-blur-sm",children:v("ordersManager.clearFilters")})]})}),e.length===0?r.jsxs("div",{className:"text-center py-16 px-6",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gray-100 dark:bg-gray-700 mb-4",children:r.jsx(lt,{className:"w-10 h-10 text-gray-400 dark:text-gray-500"})}),r.jsx("h4",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:o?v("ordersManager.noResults")||"No Results Found":v("ordersManager.noOrders")||"No Orders"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:C()}),o&&r.jsx("button",{onClick:k,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-lg hover:shadow-xl font-medium",children:v("ordersManager.clearFilters")})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50 border-b-2 border-gray-200 dark:border-gray-600",children:[r.jsx("th",{className:`px-4 py-4 ${j?"text-right":"text-left"} text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider`,children:r.jsxs("button",{onClick:()=>c("customerName"),className:`flex items-center gap-2 ${j?"flex-row-reverse":""} hover:text-blue-600 dark:hover:text-blue-400 transition-colors group`,children:[r.jsx("span",{children:v("ordersManager.customer")}),r.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:S("customerName")})]})}),r.jsx("th",{className:`px-4 py-4 ${j?"text-right":"text-left"} text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider`,children:v("ordersManager.orderNumber")}),t==="branch"&&r.jsx("th",{className:`px-4 py-4 ${j?"text-right":"text-left"} text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider`,children:v("ordersManager.status")}),r.jsx("th",{className:`px-4 py-4 ${j?"text-right":"text-left"} text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider`,children:r.jsxs("button",{onClick:()=>c("totalPrice"),className:`flex items-center gap-2 ${j?"flex-row-reverse":""} hover:text-blue-600 dark:hover:text-blue-400 transition-colors group`,children:[r.jsx("span",{children:v("ordersManager.amount")}),r.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:S("totalPrice")})]})}),r.jsx("th",{className:`px-4 py-4 ${j?"text-right":"text-left"} text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider`,children:v("ordersManager.orderType")}),r.jsx("th",{className:`px-4 py-4 ${j?"text-right":"text-left"} text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider`,children:r.jsxs("button",{onClick:()=>c("createdAt"),className:`flex items-center gap-2 ${j?"flex-row-reverse":""} hover:text-blue-600 dark:hover:text-blue-400 transition-colors group`,children:[r.jsx("span",{children:v("ordersManager.time")}),r.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:S("createdAt")})]})}),r.jsx("th",{className:`px-4 py-4 ${j?"text-right":"text-left"} text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider`,children:v("ordersManager.actions")})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map((P,E)=>r.jsx(lde,{order:P,onOpenCancel:y,viewMode:t,isExpanded:n.has(P.id.toString()),lang:l,onToggleExpansion:u,onOpenDetails:g,onOpenConfirm:h,onOpenReject:x,onOpenStatus:b,t:v,rowIndex:E},P.id))})]})}),e.length>0&&r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 px-6 py-4 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[v("ordersManager.showing")," ",r.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.length})," ",e.length===1?v("ordersManager.order"):v("ordersManager.orders")]}),r.jsxs("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:[v("ordersManager.total"),": ",r.jsx("span",{className:"text-green-600 dark:text-green-400 text-lg ml-2",children:e.reduce((P,E)=>P+E.totalPrice,0).toFixed(2)})]})]})})]})},dR=({show:e,loading:t,onCancel:a,onClose:n,t:s})=>{if(!e)return null;const i=o=>{o.preventDefault(),a()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(iv,{className:"w-6 h-6 text-orange-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:s("ordersManager.cancelOrder")})]}),r.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:t,children:r.jsx(at,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:i,children:[r.jsx("div",{className:"mb-6",children:r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s("ordersManager.cancelOrderConfirmation")})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:n,disabled:t,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s("common.cancel")}),r.jsx("button",{type:"submit",disabled:t,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-colors",children:t?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-white"}):r.jsxs(r.Fragment,{children:[r.jsx(iv,{className:"w-4 h-4 mr-2"}),s("ordersManager.cancelOrder")]})})]})]})]})})},dde=()=>{const{t:e,language:t}=qe(),a=t,n=p.useRef(null),{state:s,actions:{fetchPendingOrders:i,handleConfirmOrder:o,handleRejectOrder:l,handleCancelOrder:c,handleUpdateStatus:u,switchViewMode:g,openConfirmModal:h,openRejectModal:x,openCancelModal:b,openStatusModal:y,openDetailsModal:k,closeModals:v,toggleRowExpansion:j,handleSort:S,fetchBranchOrders:C,setState:P}}=QD(),{filteredOrders:E,updateFilter:A,updateNestedFilter:I,clearFilters:M,hasActiveFilters:F}=YD(s,P),{paginatedOrders:Q,changePage:U,changeItemsPerPage:V}=XD(E,s.pagination,P);return p.useEffect(()=>{i(),C()},[]),p.useEffect(()=>(n.current&&clearInterval(n.current),s.viewMode==="pending"&&(n.current=setInterval(()=>{i()},3e4)),()=>{n.current&&(clearInterval(n.current),n.current=null)}),[s.viewMode,i]),r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx(ZD,{t:e}),r.jsx(JD,{viewMode:s.viewMode,pendingCount:s.pendingOrders.length,branchCount:s.branchOrders.length,onModeChange:g,t:e}),r.jsx(eR,{filters:s.filters,showAdvancedFilters:s.showAdvancedFilters,hasActiveFilters:F,viewMode:s.viewMode,lang:a,filteredCount:E.length,totalCount:s.viewMode==="pending"?s.pendingOrders.length:s.branchOrders.length,onUpdateFilter:A,onUpdateNestedFilter:I,onClearFilters:M,onToggleAdvanced:()=>P(K=>({...K,showAdvancedFilters:!K.showAdvancedFilters})),t:e}),r.jsx(tR,{pagination:s.pagination,totalFiltered:E.length,onPageChange:U,onItemsPerPageChange:V,t:e}),r.jsx(rR,{error:s.error}),r.jsx(lR,{orders:Q,viewMode:s.viewMode,loading:s.loading,expandedRows:s.expandedRows,sortField:s.sortField,sortDirection:s.sortDirection,hasActiveFilters:F,lang:a,onSort:S,onToggleExpansion:j,onOpenDetails:k,onOpenConfirm:h,onOpenReject:x,onOpenStatus:y,onOpenCancel:b,onClearFilters:M,t:e}),r.jsx(aR,{show:s.showConfirmModal,loading:s.loading,onConfirm:o,onClose:v,t:e}),r.jsx(nR,{show:s.showRejectModal,loading:s.loading,rejectReason:s.rejectReason,onReasonChange:K=>P(Z=>({...Z,rejectReason:K})),onReject:l,onClose:v,t:e}),r.jsx(dR,{show:s.showCancelModal,loading:s.loading,onCancel:c,onClose:v,t:e}),r.jsx(sR,{show:s.showStatusModal,loading:s.loading,newStatus:s.newStatus,lang:a,onUpdate:u,onClose:v,t:e}),r.jsx(iR,{show:s.showDetailsModal,order:s.selectedOrder,viewMode:s.viewMode,lang:a,onClose:v,t:e}),r.jsx(oR,{order:s.selectedOrder,t:e})]})})},cde=()=>{const{t:e,isRTL:t}=qe(),[a,n]=p.useState([]),[s,i]=p.useState(null),[o,l]=p.useState(!1),[c,u]=p.useState([]),[g,h]=p.useState(!0),[x,b]=p.useState(null),[y,k]=p.useState({}),[v,j]=p.useState(""),S=or.useRef(null);si(S,()=>l(!1)),p.useEffect(()=>{(async()=>{try{const F=await Nr.getBranchesDropdown();n(F),F.length>0&&!s&&i(F[0])}catch(F){console.error("Şube listesi yüklenirken hata:",F),b(e("dashboard.orderType.branchLoadError"))}})()},[e]),p.useEffect(()=>{s&&C()},[s]);const C=async()=>{if(s)try{h(!0),b(null);const M=await Xl.getOrderTypes(s.branchId);u(M)}catch(M){b(M.message||e("dashboard.orderType.loadingError"))}finally{h(!1)}},P=M=>{i(M),l(!1),b(null),j("")},E=async(M,F)=>{try{if(k(V=>({...V,[M.id]:!0})),b(null),j(""),typeof F.isActive!="boolean"||typeof F.minOrderAmount!="number"||typeof F.serviceCharge!="number")throw new Error(e("dashboard.orderType.invalidSettings"));const Q={id:M.id,isActive:F.isActive,minOrderAmount:F.minOrderAmount,serviceCharge:F.serviceCharge,rowVersion:M.rowVersion},U=await Xl.updateOrderTypeSettings(M.id,Q);if(!U)throw new Error("Invalid response from server");if(!U.rowVersion||!U.name){await C(),j(` ${e("dashboard.orderType.settingsUpdated")}`),setTimeout(()=>j(""),3e3);return}u(V=>V.map(K=>K.id===M.id?{...K,isActive:U.isActive??F.isActive,minOrderAmount:U.minOrderAmount??F.minOrderAmount,serviceCharge:U.serviceCharge??F.serviceCharge,rowVersion:U.rowVersion??K.rowVersion,updatedAt:U.updatedAt??new Date().toISOString()}:K)),j(` ${e("dashboard.orderType.settingsUpdated")}`),setTimeout(()=>j(""),3e3)}catch(Q){console.error("Update settings error:",Q),b(Q.message||e("dashboard.orderType.updateError"))}finally{k(Q=>({...Q,[M.id]:!1}))}},A=(M,F,Q)=>{u(U=>U.map(V=>V.id===M?{...V,[F]:Q}:V))},I=M=>{const F={isActive:M.isActive,minOrderAmount:M.minOrderAmount,serviceCharge:M.serviceCharge};E(M,F)};return s?g?r.jsx("div",{className:"flex items-center justify-center min-h-96 bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ot,{className:"w-10 h-10 animate-spin mx-auto mb-6 text-indigo-600 dark:text-indigo-400"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg font-medium",children:e("dashboard.orderType.loading")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-2",children:e("dashboard.orderType.pleaseWait")})]})}):r.jsx("div",{className:`min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 transition-colors duration-300 ${t?"rtl":"ltr"}`,children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"mb-12",children:r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""} mb-6`,children:[r.jsxs("div",{className:`flex items-center gap-4 ${t?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"p-3 bg-indigo-600 dark:bg-indigo-500 rounded-xl shadow-lg",children:r.jsx(Yr,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:e("dashboard.orderType.title")}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mt-2",children:e("dashboard.orderType.subtitle")})]})]}),r.jsxs("div",{className:"relative",ref:S,children:[r.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between min-w-[200px] px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${t?"flex-row-reverse":""}`,"aria-label":e("dashboard.orderType.branchSelector"),children:[r.jsxs("span",{className:`flex items-center ${t?"flex-row-reverse":""}`,children:[r.jsx(Ht,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 ${t?"ml-2":"mr-2"}`}),s?s.branchName:e("dashboard.orderType.selectBranch")]}),r.jsx(lr,{className:`h-4 w-4 transition-transform duration-200 ${o?"transform rotate-180":""} ${t?"mr-2":"ml-2"}`})]}),o&&r.jsx("div",{className:`absolute z-20 mt-1 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 max-h-60 overflow-auto ${t?"right-0":"left-0"}`,children:a.length===0?r.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:e("dashboard.orderType.noBranches")}):a.map(M=>r.jsx("button",{onClick:()=>P(M),className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${s?.branchId===M.branchId?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400":"text-gray-700 dark:text-gray-200"} ${t?"text-right":"text-left"}`,children:M.branchName},M.branchId))})]})]})}),v&&r.jsxs("div",{className:"mb-8 p-4 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-xl flex items-center gap-3 shadow-sm animate-in slide-in-from-top-1 duration-300",children:[r.jsx(xt,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"}),r.jsx("span",{className:"text-emerald-800 dark:text-emerald-200 font-medium",children:v})]}),x&&r.jsxs("div",{className:"mb-8 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-center gap-3 shadow-sm animate-in slide-in-from-top-1 duration-300",children:[r.jsx(lt,{className:"w-6 h-6 text-red-600 dark:text-red-400"}),r.jsx("span",{className:"text-red-800 dark:text-red-200 font-medium",children:x})]}),c.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Yr,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:e("dashboard.orderType.noOrderTypes")})]}):r.jsx("div",{className:"grid gap-8 lg:grid-cols-2 xl:grid-cols-2 mb-12",children:c.map(M=>r.jsxs("div",{className:`group relative bg-white dark:bg-gray-800 rounded-2xl shadow-xl dark:shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden transition-all duration-300 hover:shadow-2xl hover:scale-[1.02] ${M.isActive?"ring-2 ring-emerald-500 dark:ring-emerald-400 shadow-emerald-100 dark:shadow-emerald-900/20":"hover:ring-2 hover:ring-gray-300 dark:hover:ring-gray-600"}`,children:[r.jsx("div",{className:`absolute top-0 left-0 w-full h-1 ${M.isActive?"bg-gradient-to-r from-emerald-500 to-emerald-600":"bg-gradient-to-r from-gray-400 to-gray-500"}`}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:`flex items-center justify-between mb-6 ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-4 ${t?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`p-4 rounded-2xl text-3xl ${M.isActive?"bg-emerald-50 dark:bg-emerald-900/30":"bg-gray-50 dark:bg-gray-700"} transition-colors duration-300`,children:M.icon}),r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-200",children:M.name}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:M.description}),r.jsxs("div",{className:`flex items-center gap-2 mt-2 ${t?"flex-row-reverse":""}`,children:[r.jsx(zt,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["~",M.estimatedMinutes," ",e("dashboard.orderType.minutes")]})]})]})]}),M.activeOrderCount>0&&r.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-200 text-sm font-semibold rounded-xl border border-indigo-200 dark:border-indigo-800 ${t?"flex-row-reverse":""}`,children:[r.jsx(Ht,{className:"w-4 h-4"}),M.activeOrderCount," ",e("dashboard.orderType.active")]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:`flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600 ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:e("dashboard.orderType.activeStatus")}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e("dashboard.orderType.activeStatusDescription")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:e("dashboard.orderType.activeStatus"),type:"checkbox",checked:M.isActive,onChange:F=>A(M.id,"isActive",F.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-14 h-7 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer transition-all duration-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-6 after:w-6 after:transition-all after:shadow-md peer-checked:bg-indigo-600 dark:peer-checked:bg-indigo-500"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300",children:[r.jsx(Qr,{className:"w-4 h-4"}),e("dashboard.orderType.minOrderAmount")]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",step:"1",value:M.minOrderAmount,onChange:F=>A(M.id,"minOrderAmount",parseFloat(F.target.value)||0),className:`w-full px-4 py-3 ${t?"pr-10 text-right":"pl-10"} border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent transition-all duration-200 shadow-sm`,placeholder:"0.00"}),r.jsx("span",{className:`absolute ${t?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400`,children:"₺"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300",children:[r.jsx(Qr,{className:"w-4 h-4"}),e("dashboard.orderType.serviceCharge")]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",step:"1",value:M.serviceCharge,onChange:F=>A(M.id,"serviceCharge",parseFloat(F.target.value)||0),className:`w-full px-4 py-3 ${t?"pr-10 text-right":"pl-10"} border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent transition-all duration-200 shadow-sm`,placeholder:"0.00"}),r.jsx("span",{className:`absolute ${t?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400`,children:"₺"})]})]}),r.jsx("button",{onClick:()=>I(M),disabled:y[M.id],className:`w-full flex items-center justify-center gap-3 px-6 py-4 rounded-xl font-semibold text-white transition-all duration-300 transform ${y[M.id]?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed scale-95":"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 dark:from-indigo-500 dark:to-purple-500 dark:hover:from-indigo-600 dark:hover:to-purple-600 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95"} ${t?"flex-row-reverse":""}`,children:y[M.id]?r.jsxs(r.Fragment,{children:[r.jsx(ot,{className:"w-5 h-5 animate-spin"}),e("dashboard.orderType.updating")]}):r.jsxs(r.Fragment,{children:[r.jsx(Ta,{className:"w-5 h-5"}),e("dashboard.orderType.saveSettings")]})})]})]})]},M.id))}),c.length>0&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 p-6 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("div",{className:"text-3xl font-bold",children:c.length}),r.jsx("div",{className:"text-blue-100 font-medium",children:e("dashboard.orderType.totalOrderTypes")})]}),r.jsx(Yr,{className:"w-8 h-8 text-blue-200"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 dark:from-emerald-600 dark:to-emerald-700 p-6 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("div",{className:"text-3xl font-bold",children:c.filter(M=>M.isActive).length}),r.jsx("div",{className:"text-emerald-100 font-medium",children:e("dashboard.orderType.activeTypes")})]}),r.jsx(xt,{className:"w-8 h-8 text-emerald-200"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 dark:from-orange-600 dark:to-orange-700 p-6 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("div",{className:"text-3xl font-bold",children:c.reduce((M,F)=>M+F.activeOrderCount,0)}),r.jsx("div",{className:"text-orange-100 font-medium",children:e("dashboard.orderType.totalActiveOrders")})]}),r.jsx(Ht,{className:"w-8 h-8 text-orange-200"})]})})]})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-96 bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ht,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("dashboard.orderType.selectBranch")})]})})},ude=()=>{const{t:e,language:t,isRTL:a}=qe(),n=t,{state:s,actions:{fetchBranches:i,handleBranchSelect:o,fetchPendingOrders:l,handleConfirmOrder:c,handleRejectOrder:u,handleUpdateStatus:g,switchViewMode:h,openConfirmModal:x,openRejectModal:b,openStatusModal:y,openDetailsModal:k,closeModals:v,toggleRowExpansion:j,handleSort:S,setState:C,handleCancelOrder:P,openCancelModal:E,fetchBranchOrders:A}}=QD(),{filteredOrders:I,updateFilter:M,updateNestedFilter:F,clearFilters:Q,hasActiveFilters:U}=YD(s,C),{paginatedOrders:V,changePage:K,changeItemsPerPage:Z}=XD(I,s.pagination,C),ie=or.useRef(null);si(ie,()=>C(D=>({...D,isBranchDropdownOpen:!1}))),p.useEffect(()=>{i(),A(),A()},[]),p.useEffect(()=>{s.selectedBranch&&(s.viewMode==="pending"?l():A())},[s.selectedBranch]);const te=()=>{C(D=>({...D,isBranchDropdownOpen:!D.isBranchDropdownOpen}))},R=D=>{o(D)};return!s.selectedBranch&&!s.loading?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ht,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg mb-6",children:e("orders.selectBranch")}),r.jsxs("div",{className:"relative inline-block",ref:ie,children:[r.jsxs("button",{onClick:te,className:`flex items-center justify-between min-w-[250px] px-6 py-3 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-sm ${a?"flex-row-reverse":""}`,children:[r.jsxs("span",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx(Ht,{className:`h-5 w-5 text-gray-500 dark:text-gray-400 ${a?"ml-3":"mr-3"}`}),e("orders.selectBranchToView")]}),r.jsx(lr,{className:`h-4 w-4 transition-transform duration-200 ${s.isBranchDropdownOpen?"transform rotate-180":""} ${a?"mr-3":"ml-3"}`})]}),s.isBranchDropdownOpen&&r.jsx("div",{className:`absolute z-20 mt-2 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 max-h-60 overflow-auto ${a?"right-0":"left-0"}`,children:s.branches.length===0?r.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:e("orders.noBranches")}):s.branches.map(D=>r.jsx("button",{onClick:()=>R(D),className:`w-full px-4 py-3 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200 ${a?"text-right":"text-left"}`,children:D.branchName},D.branchId))})]})]})})})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:`flex items-center justify-between mb-8 ${a?"flex-row-reverse":""}`,children:[r.jsx(ZD,{t:e}),r.jsxs("div",{className:"relative",ref:ie,children:[r.jsxs("button",{onClick:te,className:`flex items-center justify-between min-w-[200px] px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-sm ${a?"flex-row-reverse":""}`,"aria-label":e("orders.branchSelector"),children:[r.jsxs("span",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx(Ht,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 ${a?"ml-2":"mr-2"}`}),s.selectedBranch?s.selectedBranch.branchName:e("orders.selectBranch")]}),r.jsx(lr,{className:`h-4 w-4 transition-transform duration-200 ${s.isBranchDropdownOpen?"transform rotate-180":""} ${a?"mr-2":"ml-2"}`})]}),s.isBranchDropdownOpen&&r.jsx("div",{className:`absolute z-20 mt-1 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 max-h-60 overflow-auto ${a?"right-0":"left-0"}`,children:s.branches.length===0?r.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:e("orders.noBranches")}):s.branches.map(D=>r.jsx("button",{onClick:()=>R(D),className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${s.selectedBranch?.branchId===D.branchId?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-200"} ${a?"text-right":"text-left"}`,children:D.branchName},D.branchId))})]})]}),r.jsx(JD,{viewMode:s.viewMode,pendingCount:s.pendingOrders.length,branchCount:s.branchOrders.length,onModeChange:h,t:e}),r.jsx(eR,{filters:s.filters,showAdvancedFilters:s.showAdvancedFilters,hasActiveFilters:U,viewMode:s.viewMode,lang:n,filteredCount:I.length,totalCount:s.viewMode==="pending"?s.pendingOrders.length:s.branchOrders.length,onUpdateFilter:M,onUpdateNestedFilter:F,onClearFilters:Q,onToggleAdvanced:()=>C(D=>({...D,showAdvancedFilters:!D.showAdvancedFilters})),t:e}),r.jsx(tR,{pagination:s.pagination,totalFiltered:I.length,onPageChange:K,onItemsPerPageChange:Z,t:e}),r.jsx(rR,{error:s.error}),r.jsx(lR,{orders:V,viewMode:s.viewMode,loading:s.loading,expandedRows:s.expandedRows,sortField:s.sortField,sortDirection:s.sortDirection,hasActiveFilters:U,lang:n,onSort:S,onToggleExpansion:j,onOpenDetails:k,onOpenConfirm:x,onOpenReject:b,onOpenStatus:y,onOpenCancel:E,onClearFilters:Q,t:e}),r.jsx(dR,{show:s.showCancelModal,loading:s.loading,onCancel:P,onClose:v,t:e}),r.jsx(aR,{show:s.showConfirmModal,loading:s.loading,onConfirm:c,onClose:v,t:e}),r.jsx(nR,{show:s.showRejectModal,loading:s.loading,rejectReason:s.rejectReason,onReasonChange:D=>C(W=>({...W,rejectReason:D})),onReject:u,onClose:v,t:e}),r.jsx(sR,{show:s.showStatusModal,loading:s.loading,newStatus:s.newStatus,lang:n,onUpdate:g,onClose:v,t:e}),r.jsx(iR,{show:s.showDetailsModal,order:s.selectedOrder,viewMode:s.viewMode,lang:n,onClose:v,t:e}),r.jsx(oR,{order:s.selectedOrder,t:e})]})})};class mde{baseUrl="/api/BranchPreferences";async getBranchPreferences(t){try{N.info("Branch preferences bilgileri getirme isteği gönderiliyor",{branchId:t},{prefix:"BranchPreferencesService"});const a=t?`${this.baseUrl}?branchId=${t}`:this.baseUrl,n=await se.get(a);return N.info("Branch Preferences API Response:",n.data,{prefix:"BranchPreferencesService"}),N.info("Branch preferences bilgileri başarıyla alındı",{branchId:t},{prefix:"BranchPreferencesService"}),n.data}catch(a){throw N.error("Branch preferences bilgileri getirme hatası",a,{prefix:"BranchPreferencesService"}),N.error("Error response:",a?.response,{prefix:"BranchPreferencesService"}),N.error("Error response data:",a?.response?.data,{prefix:"BranchPreferencesService"}),a?.response?.status===401?new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."):a?.response?.status===403?new Error("Bu işlem için yetkiniz bulunmuyor."):a?.response?.status===404?new Error("Branch preferences bulunamadı."):a?.response?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`Branch preferences bilgileri getirilirken hata oluştu: ${a?.message||"Bilinmeyen hata"}`)}}async updateBranchPreferences(t,a){try{N.info("Branch preferences güncelleme isteği gönderiliyor",{data:t,branchId:a},{prefix:"BranchPreferencesService"});const n={autoConfirmOrders:t.autoConfirmOrders,useWhatsappForOrders:t.useWhatsappForOrders,showProductDescriptions:t.showProductDescriptions,enableAllergenDisplay:t.enableAllergenDisplay,enableIngredientDisplay:t.enableIngredientDisplay,acceptCash:t.acceptCash,acceptCreditCard:t.acceptCreditCard,acceptOnlinePayment:t.acceptOnlinePayment,defaultCurrency:t.defaultCurrency?.trim()||"",supportedLanguages:t.supportedLanguages,defaultLanguage:t.defaultLanguage?.trim()||"",timeZoneId:t.timeZoneId?.trim()||"",sessionTimeoutMinutes:t.sessionTimeoutMinutes,cleanupMode:t.cleanupMode,cleanupDelayAfterCloseMinutes:t.cleanupDelayAfterCloseMinutes,rowVersion:t.rowVersion};N.info("Cleaned update data:",n,{prefix:"BranchPreferencesService"});const s=a?`${this.baseUrl}?branchId=${a}`:this.baseUrl,i=await se.put(s,n);return N.info("Branch Preferences Update API Response alındı",i.data,{prefix:"BranchPreferencesService"}),N.info("Branch preferences başarıyla güncellendi",{branchId:a},{prefix:"BranchPreferencesService"}),i.data}catch(n){if(N.error("Branch preferences güncelleme hatası",n,{prefix:"BranchPreferencesService"}),n.response?.data?.errors){N.error("API Validation Hataları:",n.response.data.errors,{prefix:"BranchPreferencesService"});const s=Object.values(n.response.data.errors).flat();throw new Error(`Doğrulama hatası: ${s.join(", ")}`)}else throw n?.response?.status===400?new Error("Geçersiz istek. Lütfen verileri kontrol edin."):n?.response?.status===401?new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."):n?.response?.status===403?new Error("Bu işlem için yetkiniz bulunmuyor."):n?.response?.status===404?new Error("Branch preferences bulunamadı."):n?.response?.status===409?new Error("Veriler güncel değil. Sayfayı yenileyip tekrar deneyin."):n?.response?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`Branch preferences güncellenirken hata oluştu: ${n?.message||"Bilinmeyen hata"}`)}}async updateSessionSettings(t,a){try{N.info("Session settings güncelleme isteği gönderiliyor",{data:t,branchId:a},{prefix:"BranchPreferencesService"});const n={cleanupMode:t.cleanupMode,sessionTimeoutMinutes:t.sessionTimeoutMinutes,cleanupDelayAfterCloseMinutes:t.cleanupDelayAfterCloseMinutes};N.info("Session settings update data:",n,{prefix:"BranchPreferencesService"});const s=a?`${this.baseUrl}/session-settings?branchId=${a}`:`${this.baseUrl}/session-settings`,i=await se.put(s,n);return N.info("Session Settings Update API Response alındı",i.data,{prefix:"BranchPreferencesService"}),N.info("Session settings başarıyla güncellendi",{branchId:a},{prefix:"BranchPreferencesService"}),i.data}catch(n){if(N.error("Session settings güncelleme hatası",n,{prefix:"BranchPreferencesService"}),n.response?.data?.errors){N.error("API Validation Hataları:",n.response.data.errors,{prefix:"BranchPreferencesService"});const s=Object.values(n.response.data.errors).flat();throw new Error(`Doğrulama hatası: ${s.join(", ")}`)}else throw n?.response?.status===400?new Error("Geçersiz session ayarları. Lütfen değerleri kontrol edin."):n?.response?.status===401?new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."):n?.response?.status===403?new Error("Bu işlem için yetkiniz bulunmuyor."):n?.response?.status===404?new Error("Branch preferences bulunamadı."):n?.response?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`Session ayarları güncellenirken hata oluştu: ${n?.message||"Bilinmeyen hata"}`)}}async updatePaymentSettings(t,a){try{N.info("Payment settings güncelleme isteği gönderiliyor",{data:t,branchId:a},{prefix:"BranchPreferencesService"});const n={acceptCash:t.acceptCash,acceptCreditCard:t.acceptCreditCard,acceptOnlinePayment:t.acceptOnlinePayment};N.info("Payment settings update data:",n,{prefix:"BranchPreferencesService"});const s=a?`${this.baseUrl}/payment-settings?branchId=${a}`:`${this.baseUrl}/payment-settings`,i=await se.put(s,n);return N.info("Payment Settings Update API Response alındı",i.data,{prefix:"BranchPreferencesService"}),N.info("Payment settings başarıyla güncellendi",{branchId:a},{prefix:"BranchPreferencesService"}),i.data}catch(n){if(N.error("Payment settings güncelleme hatası",n,{prefix:"BranchPreferencesService"}),n.response?.data?.errors){N.error("API Validation Hataları:",n.response.data.errors,{prefix:"BranchPreferencesService"});const s=Object.values(n.response.data.errors).flat();throw new Error(`Doğrulama hatası: ${s.join(", ")}`)}else throw n?.response?.status===400?new Error("Geçersiz ödeme ayarları. En az bir ödeme yöntemi seçilmelidir."):n?.response?.status===401?new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."):n?.response?.status===403?new Error("Bu işlem için yetkiniz bulunmuyor."):n?.response?.status===404?new Error("Branch preferences bulunamadı."):n?.response?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`Ödeme ayarları güncellenirken hata oluştu: ${n?.message||"Bilinmeyen hata"}`)}}}const _h=new mde,gde=({className:e=""})=>{const{t}=qe(),[a,n]=p.useState(null),[s,i]=p.useState(null),[o,l]=p.useState(!0),[c,u]=p.useState(!1),[g,h]=p.useState(null),[x,b]=p.useState(null),[y,k]=p.useState(!1),v=[{value:"TRY",label:t("branchPreferences.currencies.TRY")},{value:"USD",label:t("branchPreferences.currencies.USD")},{value:"EUR",label:t("branchPreferences.currencies.EUR")}],j=[{value:"tr",label:t("branchPreferences.languages.tr")},{value:"en",label:t("branchPreferences.languages.en")},{value:"ar",label:t("branchPreferences.languages.ar")}],S=[{value:"Europe/Istanbul",label:t("branchPreferences.timezones.Europe/Istanbul")},{value:"Europe/London",label:t("branchPreferences.timezones.Europe/London")},{value:"America/New_York",label:t("branchPreferences.timezones.America/New_York")}],C=[{value:0,label:t("branchPreferences.cleanupModes.afterTimeout")},{value:1,label:t("branchPreferences.cleanupModes.afterClosing")},{value:2,label:t("branchPreferences.cleanupModes.disabled")}],P=p.useCallback(async()=>{try{l(!0),h(null);const M=await _h.getBranchPreferences();n(M);const F={autoConfirmOrders:M.autoConfirmOrders,useWhatsappForOrders:M.useWhatsappForOrders,showProductDescriptions:M.showProductDescriptions,enableAllergenDisplay:M.enableAllergenDisplay,enableIngredientDisplay:M.enableIngredientDisplay,acceptCash:M.acceptCash,acceptCreditCard:M.acceptCreditCard,acceptOnlinePayment:M.acceptOnlinePayment,defaultCurrency:M.defaultCurrency,supportedLanguages:M.supportedLanguages,defaultLanguage:M.defaultLanguage,timeZoneId:M.timeZoneId,sessionTimeoutMinutes:M.sessionTimeoutMinutes,cleanupMode:M.cleanupMode,cleanupDelayAfterCloseMinutes:M.cleanupDelayAfterCloseMinutes,rowVersion:M.rowVersion};i(F),k(!1)}catch(M){h(M.message||t("branchPreferences.errors.loadFailed"))}finally{l(!1)}},[t]);p.useEffect(()=>{P()},[P]);const E=(M,F)=>{if(!s)return;const Q={...s,[M]:F};i(Q),k(!0),h(null),b(null)},A=async()=>{if(!(!s||!y))try{u(!0),h(null);const M=await _h.updateBranchPreferences(s);n(M),i({...s,rowVersion:M.rowVersion}),k(!1),b(t("branchPreferences.saveSuccess")),setTimeout(()=>b(null),3e3)}catch(M){h(M.message||t("branchPreferences.errors.saveFailed"))}finally{u(!1)}},I=()=>{P(),b(null)};return o?r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(ot,{className:"w-6 h-6 animate-spin text-blue-600 dark:text-blue-400"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:t("branchPreferences.loading")})]})}):s?r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-lg ${e}`,children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(Yr,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t("branchPreferences.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.description")})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsxs("button",{onClick:I,disabled:o,className:"flex items-center px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:[r.jsx(Un,{className:`w-4 h-4 mr-2 rtl:ml-2 rtl:mr-0 ${o?"animate-spin":""}`}),t("branchPreferences.refresh")]}),r.jsxs("button",{onClick:A,disabled:!y||c,className:"flex items-center px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors disabled:opacity-50",children:[c?r.jsx(ot,{className:"w-4 h-4 mr-2 rtl:ml-2 rtl:mr-0 animate-spin"}):r.jsx(Ta,{className:"w-4 h-4 mr-2 rtl:ml-2 rtl:mr-0"}),t(c?"branchPreferences.saving":"branchPreferences.saveChanges")]})]})]})}),g&&r.jsx("div",{className:"mx-6 mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(lt,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),r.jsx("span",{className:"text-red-800 dark:text-red-300",children:g})]})}),x&&r.jsx("div",{className:"mx-6 mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(xt,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),r.jsx("span",{className:"text-green-800 dark:text-green-300",children:x})]})}),r.jsxs("div",{className:"p-6 space-y-8",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(Aa,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("branchPreferences.sections.orderManagement.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:t("branchPreferences.sections.orderManagement.description")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("branchPreferences.sections.orderManagement.autoConfirmOrders")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.orderManagement.autoConfirmOrdersDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"autoConfirmOrders",type:"checkbox",checked:s.autoConfirmOrders,onChange:M=>E("autoConfirmOrders",M.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("branchPreferences.sections.orderManagement.useWhatsappForOrders")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.orderManagement.useWhatsappForOrdersDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"useWhatsappForOrders",type:"checkbox",checked:s.useWhatsappForOrders,onChange:M=>E("useWhatsappForOrders",M.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(cn,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("branchPreferences.sections.displaySettings.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:t("branchPreferences.sections.displaySettings.description")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("branchPreferences.sections.displaySettings.showProductDescriptions")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.displaySettings.showProductDescriptionsDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{name:"",title:"showProductDescriptions",type:"checkbox",checked:s.showProductDescriptions,onChange:M=>E("showProductDescriptions",M.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("branchPreferences.sections.displaySettings.enableAllergenDisplay")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.displaySettings.enableAllergenDisplayDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"enableAllergenDisplay",type:"checkbox",checked:s.enableAllergenDisplay,onChange:M=>E("enableAllergenDisplay",M.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("branchPreferences.sections.displaySettings.enableIngredientDisplay")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.displaySettings.enableIngredientDisplayDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"enableIngredientDisplay",type:"checkbox",checked:s.enableIngredientDisplay,onChange:M=>E("enableIngredientDisplay",M.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(Ui,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("branchPreferences.sections.paymentMethods.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:t("branchPreferences.sections.paymentMethods.description")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("branchPreferences.sections.paymentMethods.acceptCash")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.paymentMethods.acceptCashDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"acceptCash",type:"checkbox",checked:s.acceptCash,onChange:M=>E("acceptCash",M.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("branchPreferences.sections.paymentMethods.acceptCreditCard")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.paymentMethods.acceptCreditCardDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"acceptCreditCard",type:"checkbox",checked:s.acceptCreditCard,onChange:M=>E("acceptCreditCard",M.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("branchPreferences.sections.paymentMethods.acceptOnlinePayment")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.paymentMethods.acceptOnlinePaymentDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"acceptOnlinePayment",type:"checkbox",checked:s.acceptOnlinePayment,onChange:M=>E("acceptOnlinePayment",M.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(Yi,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("branchPreferences.sections.localization.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:t("branchPreferences.sections.localization.description")})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:t("branchPreferences.sections.localization.defaultLanguage")}),r.jsx("select",{title:"defaultLanguage",value:s.defaultLanguage,onChange:M=>E("defaultLanguage",M.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:j.map(M=>r.jsx("option",{value:M.value,children:M.label},M.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:t("branchPreferences.sections.localization.defaultCurrency")}),r.jsx("select",{title:"defaultCurrency",value:s.defaultCurrency,onChange:M=>E("defaultCurrency",M.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:v.map(M=>r.jsx("option",{value:M.value,children:M.label},M.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:t("branchPreferences.sections.localization.timeZone")}),r.jsx("select",{title:"timeZoneId",value:s.timeZoneId,onChange:M=>E("timeZoneId",M.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:S.map(M=>r.jsx("option",{value:M.value,children:M.label},M.value))})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:t("branchPreferences.sections.localization.supportedLanguages")}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{flag:1,code:"tr",label:t("branchPreferences.languages.tr")},{flag:2,code:"en",label:t("branchPreferences.languages.en")},{flag:4,code:"ar",label:t("branchPreferences.languages.ar")},{flag:8,code:"de",label:t("branchPreferences.languages.de")},{flag:16,code:"fr",label:t("branchPreferences.languages.fr")},{flag:32,code:"ru",label:t("branchPreferences.languages.ru")},{flag:64,code:"es",label:t("branchPreferences.languages.es")}].map(M=>r.jsxs("div",{className:"flex items-center p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsx("input",{id:`lang-${M.code}`,type:"checkbox",checked:(s.supportedLanguages&M.flag)===M.flag,onChange:F=>{const Q=s.supportedLanguages,U=F.target.checked?Q|M.flag:Q&~M.flag;E("supportedLanguages",U)},className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),r.jsx("label",{htmlFor:`lang-${M.code}`,className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300 cursor-pointer",children:M.label})]},M.code))}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:t("branchPreferences.sections.localization.supportedLanguagesDesc")})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(zt,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("branchPreferences.sections.sessionManagement.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:t("branchPreferences.sections.sessionManagement.description")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:t("branchPreferences.sections.sessionManagement.cleanupMode")}),r.jsx("select",{title:"cleanupMode",name:"cleanupMode",value:s.cleanupMode,onChange:M=>E("cleanupMode",parseInt(M.target.value)),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:C.map(M=>r.jsx("option",{value:M.value,children:M.label},M.value))}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.sessionManagement.cleanupModeDesc")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.cleanupMode===0&&r.jsxs("div",{className:"transition-all duration-300 ease-in-out",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:t("branchPreferences.sections.sessionManagement.sessionTimeout")}),r.jsx("input",{title:"sessionTimeoutMinutes",type:"number",min:"5",max:"1440",value:s.sessionTimeoutMinutes,onChange:M=>E("sessionTimeoutMinutes",parseInt(M.target.value)||30),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.sessionManagement.sessionTimeoutDesc")})]}),s.cleanupMode===1&&r.jsxs("div",{className:"transition-all duration-300 ease-in-out",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:t("branchPreferences.sections.sessionManagement.cleanupDelay")}),r.jsx("input",{title:"cleanupDelayAfterCloseMinutes",name:"cleanupDelayAfterCloseMinutes",type:"number",min:"0",max:"60",value:s.cleanupDelayAfterCloseMinutes,onChange:M=>E("cleanupDelayAfterCloseMinutes",parseInt(M.target.value)||5),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.sessionManagement.cleanupDelayDesc")})]}),s.cleanupMode===2&&r.jsx("div",{className:"transition-all duration-300 ease-in-out p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(lt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),r.jsx("span",{className:"text-yellow-800 dark:text-yellow-300 text-sm",children:t("branchPreferences.sections.sessionManagement.cleanupDisabledMessage")})]})})]})]})]})]})]}):r.jsx("div",{className:"p-6 bg-red-50 dark:bg-red-900/20 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(lt,{className:"w-6 h-6 text-red-600 dark:text-red-400"}),r.jsx("span",{className:"text-red-800 dark:text-red-300",children:g||t("branchPreferences.errors.loadFailed")})]})})},hde=()=>{const{isDark:e,toggleTheme:t}=mi(),{t:a,language:n,setLanguage:s}=qe(),i=n==="ar",[o,l]=p.useState({notificationsEnabled:!0,emailNotificationsEnabled:!0,pushNotificationsEnabled:!1,soundEnabled:!0,autoSaveEnabled:!0,dataSyncEnabled:!0,language:"tr",timezone:"Europe/Istanbul",dateFormat:"DD/MM/YYYY",currency:"TRY"}),[c,u]=p.useState(!1),[g,h]=p.useState("branch");p.useEffect(()=>{const S=localStorage.getItem("userSettings");if(S)try{const C=JSON.parse(S);l(C)}catch{}},[]);const x=S=>{l(C=>{const P={...C,[S]:!C[S]};return localStorage.setItem("userSettings",JSON.stringify(P)),P})},b=S=>{l(C=>{const P={...C,language:S};return localStorage.setItem("userSettings",JSON.stringify(P)),P}),s(S)},y=()=>{u(!0),setTimeout(()=>u(!1),3e3)},k=[{id:"branch",label:a("branchPreferences.title"),icon:Yr},{id:"appearance",label:a("settings.tabs.appearance"),icon:sc}],v=({checked:S,onChange:C,label:P,description:E,Icon:A,disabled:I=!1})=>r.jsxs(re.div,{className:`flex items-center justify-between py-4 px-4 rounded-lg border transition-all duration-200 ${I?"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-600"}`,whileHover:I?{}:{scale:1.01},transition:{type:"spring",stiffness:300},children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx("div",{className:`p-2 rounded-lg ${I?"bg-gray-100 dark:bg-gray-700":"bg-primary-100 dark:bg-primary-900/30"}`,children:r.jsx(A,{className:`h-5 w-5 ${I?"text-gray-400 dark:text-gray-500":"text-primary-600 dark:text-primary-400"}`})}),r.jsxs("div",{children:[r.jsx("p",{className:`text-sm font-medium ${I?"text-gray-500 dark:text-gray-400":"text-gray-900 dark:text-white"}`,children:P}),E&&r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:E})]})]}),r.jsxs("label",{className:`relative inline-flex items-center cursor-pointer ${I?"opacity-50":""}`,children:[r.jsx("input",{title:"checkbox",type:"checkbox",className:"sr-only peer",checked:S,onChange:C,disabled:I}),r.jsx("div",{className:`w-11 h-6 rounded-full peer transition-all duration-200 ${I?"bg-gray-200 dark:bg-gray-600":S?"bg-primary-600 dark:bg-primary-500":"bg-gray-200 dark:bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-sm transform transition-transform duration-200 ${S?i?"-translate-x-5":"translate-x-5":i?"-translate-x-0.5":"translate-x-0.5"}`})})]})]}),j=({label:S,value:C,onChange:P,options:E,Icon:A})=>r.jsxs(re.div,{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-primary-300 dark:hover:border-primary-600 transition-all duration-200",whileHover:{scale:1.01},transition:{type:"spring",stiffness:300},children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"} mb-3`,children:[r.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 rounded-lg",children:r.jsx(A,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})}),r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:S})]}),r.jsx("select",{title:"value",value:C,onChange:I=>P(I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:border-primary-500 dark:focus:border-primary-400 focus:outline-none focus:ring-1 focus:ring-primary-500 dark:focus:ring-primary-400 transition-colors",children:E.map(I=>r.jsx("option",{value:I.value,children:I.label},I.value))})]});return r.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",dir:i?"rtl":"ltr",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a("settings.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:a("settings.description")})]}),r.jsx("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"}`,children:r.jsxs(re.button,{onClick:y,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[r.jsx(Ta,{className:`h-4 w-4 ${i?"ml-2":"mr-2"}`}),a("settings.save")]})})]}),r.jsx(jt,{children:c&&r.jsxs(re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center",children:[r.jsx(br,{className:`h-5 w-5 text-green-500 ${i?"ml-2":"mr-2"}`}),r.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:a("settings.saveSuccess")})]})}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:`flex ${i?"space-x-reverse space-x-8":"space-x-8"}`,children:k.map(S=>{const C=S.icon;return r.jsxs("button",{onClick:()=>h(S.id),className:`flex items-center ${i?"space-x-reverse space-x-2":"space-x-2"} py-4 px-1 border-b-2 font-medium text-sm transition-colors ${g===S.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[r.jsx(C,{className:"h-4 w-4"}),r.jsx("span",{children:S.label})]},S.id)})})}),r.jsxs(jt,{mode:"wait",children:[g==="general"&&r.jsxs(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"} mb-6`,children:[r.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 rounded-lg",children:r.jsx(Yr,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("settings.general.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("settings.general.description")})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(j,{label:a("settings.general.language"),value:o.language,onChange:b,options:[{value:"tr",label:a("language.turkish")},{value:"en",label:a("language.english")},{value:"ar",label:a("language.arabic")}],Icon:wF}),r.jsx(j,{label:a("settings.general.timezone"),value:o.timezone,onChange:S=>l(C=>({...C,timezone:S})),options:[{value:"Europe/Istanbul",label:"İstanbul (UTC+3)"},{value:"Europe/London",label:"Londra (UTC+0)"},{value:"America/New_York",label:"New York (UTC-5)"}],Icon:zt}),r.jsx(j,{label:a("settings.general.dateFormat"),value:o.dateFormat,onChange:S=>l(C=>({...C,dateFormat:S})),options:[{value:"DD/MM/YYYY",label:"DD/MM/YYYY"},{value:"MM/DD/YYYY",label:"MM/DD/YYYY"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD"}],Icon:Fa}),r.jsx(j,{label:a("settings.general.currency"),value:o.currency,onChange:S=>l(C=>({...C,currency:S})),options:[{value:"TRY",label:"Türk Lirası (₺)"},{value:"USD",label:"US Dollar ($)"},{value:"EUR",label:"Euro (€)"}],Icon:Ls})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"} mb-6`,children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:r.jsx(Ta,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("settings.general.autoSave.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("settings.general.autoSave.description")})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(v,{checked:o.autoSaveEnabled,onChange:()=>x("autoSaveEnabled"),label:a("settings.general.autoSave.enabled"),description:a("settings.general.autoSave.enabledDesc"),Icon:Ta}),r.jsx(v,{checked:o.dataSyncEnabled,onChange:()=>x("dataSyncEnabled"),label:a("settings.general.autoSave.dataSync"),description:a("settings.general.autoSave.dataSyncDesc"),Icon:Jk})]})]})]},"general"),g==="branch"&&r.jsx(gde,{}),g==="notifications"&&r.jsx(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"} mb-6`,children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:r.jsx(lv,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("settings.notifications.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("settings.notifications.description")})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(v,{checked:o.notificationsEnabled,onChange:()=>x("notificationsEnabled"),label:a("settings.notifications.enabled"),description:a("settings.notifications.enabledDesc"),Icon:lv}),r.jsx(v,{checked:o.emailNotificationsEnabled,onChange:()=>x("emailNotificationsEnabled"),label:a("settings.notifications.email"),description:a("settings.notifications.emailDesc"),Icon:Ws}),r.jsx(v,{checked:o.pushNotificationsEnabled,onChange:()=>x("pushNotificationsEnabled"),label:a("settings.notifications.push"),description:a("settings.notifications.pushDesc"),Icon:Gl}),r.jsx(v,{checked:o.soundEnabled,onChange:()=>x("soundEnabled"),label:a("settings.notifications.sound"),description:a("settings.notifications.soundDesc"),Icon:RF})]})]})},"notifications"),g==="privacy"&&r.jsx(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"} mb-6`,children:[r.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsx(nn,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("settings.privacy.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("settings.privacy.description")})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(v,{checked:!0,onChange:()=>{},label:a("settings.privacy.twoFactor"),description:a("settings.privacy.twoFactorDesc"),Icon:Hl,disabled:!0}),r.jsx(v,{checked:!0,onChange:()=>{},label:a("settings.privacy.autoLogout"),description:a("settings.privacy.autoLogoutDesc"),Icon:zt,disabled:!0}),r.jsx(v,{checked:!1,onChange:()=>{},label:a("settings.privacy.analytics"),description:a("settings.privacy.analyticsDesc"),Icon:on,disabled:!0})]})]})},"privacy"),g==="appearance"&&r.jsx(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"} mb-6`,children:[r.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:r.jsx(sc,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("settings.appearance.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("settings.appearance.description")})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(v,{checked:e,onChange:t,label:a(e?"settings.appearance.lightMode":"settings.appearance.darkMode"),description:a(e?"settings.appearance.lightModeDesc":"settings.appearance.darkModeDesc"),Icon:e?ym:oM}),r.jsx(v,{checked:!1,onChange:()=>{},label:a("settings.appearance.compact"),description:a("settings.appearance.compactDesc"),Icon:cn,disabled:!0}),r.jsx(v,{checked:!0,onChange:()=>{},label:a("settings.appearance.animations"),description:a("settings.appearance.animationsDesc"),Icon:Ls,disabled:!0})]})]})},"appearance"),g==="data"&&r.jsx(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"} mb-6`,children:[r.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:r.jsx(Ng,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("settings.data.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("settings.data.description")})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(re.button,{className:`flex items-center justify-center ${i?"space-x-reverse space-x-3":"space-x-3"} p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-600 transition-all duration-200`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[r.jsx(Uu,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"}),r.jsxs("div",{className:i?"text-right":"text-left",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a("settings.data.download")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:a("settings.data.downloadDesc")})]})]}),r.jsxs(re.button,{className:`flex items-center justify-center ${i?"space-x-reverse space-x-3":"space-x-3"} p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-600 transition-all duration-200`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[r.jsx(li,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"}),r.jsxs("div",{className:i?"text-right":"text-left",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a("settings.data.upload")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:a("settings.data.uploadDesc")})]})]}),r.jsxs(re.button,{className:`flex items-center justify-center ${i?"space-x-reverse space-x-3":"space-x-3"} p-4 border border-red-200 dark:border-red-700 rounded-lg hover:border-red-300 dark:hover:border-red-600 transition-all duration-200`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[r.jsx(er,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),r.jsxs("div",{className:i?"text-right":"text-left",children:[r.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:a("settings.data.delete")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:a("settings.data.deleteDesc")})]})]}),r.jsxs(re.button,{className:`flex items-center justify-center ${i?"space-x-reverse space-x-3":"space-x-3"} p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-600 transition-all duration-200`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[r.jsx(rM,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"}),r.jsxs("div",{className:i?"text-right":"text-left",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a("settings.data.storage")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:a("settings.data.storageDesc")})]})]})]})]})},"data")]})]})},pde=({className:e="",selectedBranch:t,preferences:a,setPreferences:n,formData:s,setFormData:i,isSaving:o,setIsSaving:l,error:c,setError:u,success:g,setSuccess:h,hasChanges:x,setHasChanges:b})=>{const{t:y}=qe(),k=[{value:"TRY",label:y("branchPreferences.currencies.TRY")},{value:"USD",label:y("branchPreferences.currencies.USD")},{value:"EUR",label:y("branchPreferences.currencies.EUR")}],v=[{value:"tr",label:y("branchPreferences.languages.tr")},{value:"en",label:y("branchPreferences.languages.en")},{value:"ar",label:y("branchPreferences.languages.ar")}],j=[{value:"Europe/Istanbul",label:y("branchPreferences.timezones.Europe/Istanbul")},{value:"Europe/London",label:y("branchPreferences.timezones.Europe/London")},{value:"America/New_York",label:y("branchPreferences.timezones.America/New_York")}],S=[{value:0,label:y("branchPreferences.cleanupModes.afterTimeout")},{value:1,label:y("branchPreferences.cleanupModes.afterClosing")},{value:2,label:y("branchPreferences.cleanupModes.disabled")}],C=p.useCallback(async I=>{if(I)try{u(null);const M=await _h.getBranchPreferences(I);n(M);const F={autoConfirmOrders:M.autoConfirmOrders,useWhatsappForOrders:M.useWhatsappForOrders,showProductDescriptions:M.showProductDescriptions,enableAllergenDisplay:M.enableAllergenDisplay,enableIngredientDisplay:M.enableIngredientDisplay,acceptCash:M.acceptCash,acceptCreditCard:M.acceptCreditCard,acceptOnlinePayment:M.acceptOnlinePayment,defaultCurrency:M.defaultCurrency,supportedLanguages:M.supportedLanguages,defaultLanguage:M.defaultLanguage,timeZoneId:M.timeZoneId,sessionTimeoutMinutes:M.sessionTimeoutMinutes,cleanupMode:M.cleanupMode,cleanupDelayAfterCloseMinutes:M.cleanupDelayAfterCloseMinutes,rowVersion:M.rowVersion};i(F),b(!1)}catch(M){u(M.message||y("branchPreferences.errors.loadFailed"))}},[n,i,u,b,y]);p.useEffect(()=>{t?C(t.branchId):(n(null),i(null))},[t,C]);const P=(I,M)=>{if(!s)return;const F={...s,[I]:M};i(F),b(!0),u(null),h(null)},E=async()=>{if(!(!s||!x||!t))try{l(!0),u(null);const I=await _h.updateBranchPreferences(s,t.branchId);n(I),i({...s,rowVersion:I.rowVersion}),b(!1),h(y("branchPreferences.saveSuccess")),setTimeout(()=>h(null),3e3)}catch(I){u(I.message||y("branchPreferences.errors.saveFailed"))}finally{l(!1)}},A=()=>{t&&(C(t.branchId),h(null))};return t?!s||!a?r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(ot,{className:"w-6 h-6 animate-spin text-blue-600 dark:text-blue-400"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:y("branchPreferences.loading")})]})}):r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-lg ${e}`,children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(Yr,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:y("branchPreferences.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:y("branchPreferences.description")})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsxs("button",{onClick:A,disabled:o,className:"flex items-center px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:[r.jsx(Un,{className:`w-4 h-4 mr-2 rtl:ml-2 rtl:mr-0 ${o?"animate-spin":""}`}),y("branchPreferences.refresh")]}),r.jsxs("button",{onClick:E,disabled:!x||o,className:"flex items-center px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors disabled:opacity-50",children:[o?r.jsx(ot,{className:"w-4 h-4 mr-2 rtl:ml-2 rtl:mr-0 animate-spin"}):r.jsx(Ta,{className:"w-4 h-4 mr-2 rtl:ml-2 rtl:mr-0"}),y(o?"branchPreferences.saving":"branchPreferences.saveChanges")]})]})]}),r.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(pr,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:t.branchName})]})})]}),c&&r.jsx("div",{className:"mx-6 mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(lt,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),r.jsx("span",{className:"text-red-800 dark:text-red-300",children:c})]})}),g&&r.jsx("div",{className:"mx-6 mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(xt,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),r.jsx("span",{className:"text-green-800 dark:text-green-300",children:g})]})}),r.jsxs("div",{className:"p-6 space-y-8",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(Aa,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:y("branchPreferences.sections.orderManagement.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:y("branchPreferences.sections.orderManagement.description")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y("branchPreferences.sections.orderManagement.autoConfirmOrders")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:y("branchPreferences.sections.orderManagement.autoConfirmOrdersDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"autoConfirmOrders",type:"checkbox",checked:s.autoConfirmOrders,onChange:I=>P("autoConfirmOrders",I.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y("branchPreferences.sections.orderManagement.useWhatsappForOrders")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:y("branchPreferences.sections.orderManagement.useWhatsappForOrdersDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"useWhatsappForOrders",type:"checkbox",checked:s.useWhatsappForOrders,onChange:I=>P("useWhatsappForOrders",I.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(cn,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:y("branchPreferences.sections.displaySettings.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:y("branchPreferences.sections.displaySettings.description")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y("branchPreferences.sections.displaySettings.showProductDescriptions")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:y("branchPreferences.sections.displaySettings.showProductDescriptionsDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"showProductDescriptions",type:"checkbox",checked:s.showProductDescriptions,onChange:I=>P("showProductDescriptions",I.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y("branchPreferences.sections.displaySettings.enableAllergenDisplay")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:y("branchPreferences.sections.displaySettings.enableAllergenDisplayDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"enableAllergenDisplay",type:"checkbox",checked:s.enableAllergenDisplay,onChange:I=>P("enableAllergenDisplay",I.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y("branchPreferences.sections.displaySettings.enableIngredientDisplay")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:y("branchPreferences.sections.displaySettings.enableIngredientDisplayDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"enableIngredientDisplay",type:"checkbox",checked:s.enableIngredientDisplay,onChange:I=>P("enableIngredientDisplay",I.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(Ui,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:y("branchPreferences.sections.paymentMethods.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:y("branchPreferences.sections.paymentMethods.description")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y("branchPreferences.sections.paymentMethods.acceptCash")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:y("branchPreferences.sections.paymentMethods.acceptCashDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"acceptCash",type:"checkbox",checked:s.acceptCash,onChange:I=>P("acceptCash",I.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y("branchPreferences.sections.paymentMethods.acceptCreditCard")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:y("branchPreferences.sections.paymentMethods.acceptCreditCardDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"acceptCreditCard",type:"checkbox",checked:s.acceptCreditCard,onChange:I=>P("acceptCreditCard",I.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y("branchPreferences.sections.paymentMethods.acceptOnlinePayment")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:y("branchPreferences.sections.paymentMethods.acceptOnlinePaymentDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"acceptOnlinePayment",type:"checkbox",checked:s.acceptOnlinePayment,onChange:I=>P("acceptOnlinePayment",I.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(Yi,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:y("branchPreferences.sections.localization.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:y("branchPreferences.sections.localization.description")})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:y("branchPreferences.sections.localization.defaultLanguage")}),r.jsx("select",{title:"defaultLanguage",value:s.defaultLanguage,onChange:I=>P("defaultLanguage",I.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:v.map(I=>r.jsx("option",{value:I.value,children:I.label},I.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:y("branchPreferences.sections.localization.defaultCurrency")}),r.jsx("select",{title:"defaultCurrency",value:s.defaultCurrency,onChange:I=>P("defaultCurrency",I.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:k.map(I=>r.jsx("option",{value:I.value,children:I.label},I.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:y("branchPreferences.sections.localization.timeZone")}),r.jsx("select",{title:"timeZoneId",value:s.timeZoneId,onChange:I=>P("timeZoneId",I.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:j.map(I=>r.jsx("option",{value:I.value,children:I.label},I.value))})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:y("branchPreferences.sections.localization.supportedLanguages")}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{flag:1,code:"tr",label:y("branchPreferences.languages.tr")},{flag:2,code:"en",label:y("branchPreferences.languages.en")},{flag:4,code:"ar",label:y("branchPreferences.languages.ar")},{flag:8,code:"de",label:y("branchPreferences.languages.de")},{flag:16,code:"fr",label:y("branchPreferences.languages.fr")},{flag:32,code:"ru",label:y("branchPreferences.languages.ru")},{flag:64,code:"es",label:y("branchPreferences.languages.es")}].map(I=>r.jsxs("div",{className:"flex items-center p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsx("input",{id:`lang-${I.code}`,type:"checkbox",checked:(s.supportedLanguages&I.flag)===I.flag,onChange:M=>{const F=s.supportedLanguages,Q=M.target.checked?F|I.flag:F&~I.flag;P("supportedLanguages",Q)},className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),r.jsx("label",{htmlFor:`lang-${I.code}`,className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300 cursor-pointer",children:I.label})]},I.code))}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:y("branchPreferences.sections.localization.supportedLanguagesDesc")})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(zt,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:y("branchPreferences.sections.sessionManagement.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:y("branchPreferences.sections.sessionManagement.description")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:y("branchPreferences.sections.sessionManagement.cleanupMode")}),r.jsx("select",{title:"cleanupMode",value:s.cleanupMode,onChange:I=>P("cleanupMode",parseInt(I.target.value)),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:S.map(I=>r.jsx("option",{value:I.value,children:I.label},I.value))}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:y("branchPreferences.sections.sessionManagement.cleanupModeDesc")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.cleanupMode===0&&r.jsxs("div",{className:"transition-all duration-300 ease-in-out",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:y("branchPreferences.sections.sessionManagement.sessionTimeout")}),r.jsx("input",{title:"sessionTimeoutMinutes",type:"number",min:"5",max:"1440",value:s.sessionTimeoutMinutes,onChange:I=>P("sessionTimeoutMinutes",parseInt(I.target.value)||30),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:y("branchPreferences.sections.sessionManagement.sessionTimeoutDesc")})]}),s.cleanupMode===1&&r.jsxs("div",{className:"transition-all duration-300 ease-in-out",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:y("branchPreferences.sections.sessionManagement.cleanupDelay")}),r.jsx("input",{title:"cleanupDelayAfterCloseMinutes",type:"number",min:"0",max:"60",value:s.cleanupDelayAfterCloseMinutes,onChange:I=>P("cleanupDelayAfterCloseMinutes",parseInt(I.target.value)||5),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:y("branchPreferences.sections.sessionManagement.cleanupDelayDesc")})]}),s.cleanupMode===2&&r.jsx("div",{className:"transition-all duration-300 ease-in-out p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(lt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),r.jsx("span",{className:"text-yellow-800 dark:text-yellow-300 text-sm",children:y("branchPreferences.sections.sessionManagement.cleanupDisabledMessage")})]})})]})]})]})]})]}):r.jsx("div",{className:"p-6 bg-red-50 dark:bg-red-900/20 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(lt,{className:"w-6 h-6 text-red-600 dark:text-red-400"}),r.jsx("span",{className:"text-red-800 dark:text-red-300",children:y("branchPreferences.errors.noBranchSelected")})]})})},fde=()=>{const{isDark:e,toggleTheme:t}=mi(),{t:a,language:n,setLanguage:s}=qe(),i=n==="ar",[o,l]=p.useState([]),[c,u]=p.useState(null),[g,h]=p.useState(!1),[x,b]=p.useState(!0),[y,k]=p.useState(null),[v,j]=p.useState(null),[S,C]=p.useState(!1),[P,E]=p.useState(null),[A,I]=p.useState(null),[M,F]=p.useState(!1),[Q,U]=p.useState("branch"),[V,K]=p.useState({notificationsEnabled:!0,emailNotificationsEnabled:!0,pushNotificationsEnabled:!1,soundEnabled:!0,autoSaveEnabled:!0,dataSyncEnabled:!0,language:"tr",timezone:"Europe/Istanbul",dateFormat:"DD/MM/YYYY",currency:"TRY"}),Z=async()=>{try{b(!0);const D=await Nr.getBranchesDropdown();l(D),D.length>0&&!c&&u(D[0])}catch(D){console.error("Error loading branches:",D),E(a("branchPreferences.errors.branchLoadFailed"))}finally{b(!1)}};p.useEffect(()=>{const D=localStorage.getItem("userSettings");if(D)try{const W=JSON.parse(D);K(W)}catch{}},[]),p.useEffect(()=>{Z()},[]);const ie=D=>{u(D),h(!1),E(null),I(null),F(!1)},te=[{id:"branch",label:a("branchPreferences.title"),icon:Yr},{id:"appearance",label:a("settings.tabs.appearance"),icon:sc}],R=({checked:D,onChange:W,label:X,description:B,Icon:H,disabled:z=!1})=>r.jsxs(re.div,{className:`flex items-center justify-between py-4 px-4 rounded-lg border transition-all duration-200 ${z?"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-600"}`,whileHover:z?{}:{scale:1.01},transition:{type:"spring",stiffness:300},children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx("div",{className:`p-2 rounded-lg ${z?"bg-gray-100 dark:bg-gray-700":"bg-primary-100 dark:bg-primary-900/30"}`,children:r.jsx(H,{className:`h-5 w-5 ${z?"text-gray-400 dark:text-gray-500":"text-primary-600 dark:text-primary-400"}`})}),r.jsxs("div",{children:[r.jsx("p",{className:`text-sm font-medium ${z?"text-gray-500 dark:text-gray-400":"text-gray-900 dark:text-white"}`,children:X}),B&&r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:B})]})]}),r.jsxs("label",{className:`relative inline-flex items-center cursor-pointer ${z?"opacity-50":""}`,children:[r.jsx("input",{title:"checkbox",type:"checkbox",className:"sr-only peer",checked:D,onChange:W,disabled:z}),r.jsx("div",{className:`w-11 h-6 rounded-full peer transition-all duration-200 ${z?"bg-gray-200 dark:bg-gray-600":D?"bg-primary-600 dark:bg-primary-500":"bg-gray-200 dark:bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-sm transform transition-transform duration-200 ${D?i?"-translate-x-5":"translate-x-5":i?"-translate-x-0.5":"translate-x-0.5"}`})})]})]});return r.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",dir:i?"rtl":"ltr",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a("settings.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:a("settings.description")})]}),r.jsx("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"}`,children:Q==="branch"&&r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>h(!g),disabled:x,className:"flex items-center space-x-2 rtl:space-x-reverse px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors disabled:opacity-50",children:[r.jsx(pr,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:c?c.branchName:a("branchPreferences.selectBranch")}),r.jsx(lr,{className:`w-4 h-4 transition-transform ${g?"rotate-180":""}`})]}),g&&o.length>0&&r.jsx("div",{className:"absolute right-0 rtl:right-auto rtl:left-0 mt-2 w-64 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10",children:r.jsx("div",{className:"py-1 max-h-60 overflow-y-auto",children:o.map(D=>r.jsx("button",{onClick:()=>ie(D),className:`w-full px-4 py-2 text-left rtl:text-right hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${c?.branchId===D.branchId?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300"}`,children:r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(pr,{className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:D.branchName})]})},D.branchId))})})]})})]}),r.jsx(jt,{children:A&&r.jsxs(re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center",children:[r.jsx(br,{className:`h-5 w-5 text-green-500 ${i?"ml-2":"mr-2"}`}),r.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:A})]})}),r.jsx(jt,{children:P&&r.jsxs(re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center",children:[r.jsx(lt,{className:`h-5 w-5 text-red-500 ${i?"ml-2":"mr-2"}`}),r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:P})]})}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:`flex ${i?"space-x-reverse space-x-8":"space-x-8"}`,children:te.map(D=>{const W=D.icon;return r.jsxs("button",{onClick:()=>U(D.id),className:`flex items-center ${i?"space-x-reverse space-x-2":"space-x-2"} py-4 px-1 border-b-2 font-medium text-sm transition-colors ${Q===D.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[r.jsx(W,{className:"h-4 w-4"}),r.jsx("span",{children:D.label})]},D.id)})})}),r.jsxs(jt,{mode:"wait",children:[Q==="branch"&&r.jsx(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:r.jsx(pde,{selectedBranch:c,preferences:y,setPreferences:k,formData:v,setFormData:j,isSaving:S,setIsSaving:C,error:P,setError:E,success:A,setSuccess:I,hasChanges:M,setHasChanges:F})},"branch"),Q==="appearance"&&r.jsx(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"} mb-6`,children:[r.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:r.jsx(sc,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("settings.appearance.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("settings.appearance.description")})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(R,{checked:e,onChange:t,label:a(e?"settings.appearance.lightMode":"settings.appearance.darkMode"),description:a(e?"settings.appearance.lightModeDesc":"settings.appearance.darkModeDesc"),Icon:e?ym:oM}),r.jsx(R,{checked:!1,onChange:()=>{},label:a("settings.appearance.compact"),description:a("settings.appearance.compactDesc"),Icon:cn,disabled:!0}),r.jsx(R,{checked:!0,onChange:()=>{},label:a("settings.appearance.animations"),description:a("settings.appearance.animationsDesc"),Icon:Ls,disabled:!0})]})]})},"appearance")]})]})},xde=()=>{const e=ys(),{t}=qe(),[a,n]=p.useState([]),[s,i]=p.useState(!0),[o,l]=p.useState(""),[c,u]=p.useState(new Set),[g,h]=p.useState(null),[x,b]=p.useState(!1),[y,k]=p.useState(null),[v,j]=p.useState(!1),[S,C]=p.useState(null),[P,E]=p.useState(!1),[A,I]=p.useState(null),M=e.state?.source||"all",F=e.state?.branchId,Q=async()=>{i(!0);try{let $=[];switch(M){case"products":const[_,Y]=await Promise.all([Vt.getDeletedCategories(),Vt.getDeletedProducts()]);$=[..._,...Y];break;case"branches":const[q]=await Promise.all([Nr.getDeletedBranches()]);$=[...q];break;case"tables":const[G]=await Promise.all([qr.getDeletedTables(F)]);$=[...G];break;case"branchProducts":const[ee,ue]=await Promise.all([Pi.getDeletedBranchProducts(),Ts.getDeletedBranchCategories()]);$=[...ee,...ue];break;case"tableCategories":const[le,ae]=await Promise.all([qr.getDeletedTableCategories(),qr.getDeletedTables(F)]);$=[...le,...ae];break;case"all":default:const[Be,he,we,De,Ze,pt,mt]=await Promise.all([Vt.getDeletedCategories(),Vt.getDeletedProducts(),Nr.getDeletedBranches(),qr.getDeletedTables(),Pi.getDeletedBranchProducts(),Ts.getDeletedBranchCategories(),qr.getDeletedTableCategories()]);$=[...Be,...he,...we,...De,...Ze,...pt,...mt];break}n($)}catch($){console.error("Error loading deleted items:",$),U("error",t("recycleBin.errors.loadingError"))}finally{i(!1)}},U=($,_)=>{h({type:$,message:_}),setTimeout(()=>h(null),3e3)},V=$=>{$.entityType==="Branch"?(k($),b(!0)):$.entityType==="Product"?(C($),j(!0)):$.entityType==="Category"?(I($),E(!0)):te($,!1)},K=async $=>{if(y){b(!1),u(_=>new Set([..._,y.id]));try{await Nr.restoreBranch(y.id,$);const _=$?t("recycleBin.restore.successBranchCascade").replace("{name}",y.displayName):t("recycleBin.restore.successBranch").replace("{name}",y.displayName);U("success",_),n(Y=>Y.filter(q=>!(q.id===y.id&&q.entityType===y.entityType)))}catch(_){console.error("Error restoring branch:",_),U("error",t("recycleBin.restore.error"))}finally{u(_=>{const Y=new Set(_);return Y.delete(y.id),Y}),k(null)}}},Z=async $=>{if(S){j(!1),u(_=>new Set([..._,S.id]));try{await Vt.restoreProduct(S.id,$);const _=$?t("recycleBin.restore.successProductCascade").replace("{name}",S.displayName):t("recycleBin.restore.successProduct").replace("{name}",S.displayName);U("success",_),n(Y=>Y.filter(q=>!(q.id===S.id&&q.entityType===S.entityType)))}catch(_){console.error("Error restoring product:",_),U("error",t("recycleBin.restore.error"))}finally{u(_=>{const Y=new Set(_);return Y.delete(S.id),Y}),C(null)}}},ie=async $=>{if(A){E(!1),u(_=>new Set([..._,A.id]));try{await Vt.restoreCategory(A.id,$);const _=$?t("recycleBin.restore.successCategoryCascade").replace("{name}",A.displayName):t("recycleBin.restore.successCategory").replace("{name}",A.displayName);U("success",_),n(Y=>Y.filter(q=>!(q.id===A.id&&q.entityType===A.entityType)))}catch(_){console.error("Error restoring category:",_),U("error",t("recycleBin.restore.error"))}finally{u(_=>{const Y=new Set(_);return Y.delete(A.id),Y}),I(null)}}},te=async($,_=!1)=>{u(Y=>new Set([...Y,$.id]));try{$.entityType==="Category"?(await Vt.restoreCategory($.id,_),U("success",t("recycleBin.restore.successCategory").replace("{name}",$.displayName))):$.entityType==="Product"?(await Vt.restoreProduct($.id,_),U("success",t("recycleBin.restore.successProduct").replace("{name}",$.displayName))):$.entityType==="Branch"?(await Nr.restoreBranch($.id,_),U("success",t("recycleBin.restore.successBranch").replace("{name}",$.displayName))):$.entityType==="MenuTable"?(await qr.restoreTable($.id,F),U("success",t("recycleBin.restore.successTable").replace("{name}",$.displayName))):$.entityType==="BranchProduct"?(await Pi.restoreBranchProduct($.id),U("success",t("recycleBin.restore.successProduct").replace("{name}",$.displayName))):$.entityType==="BranchCategory"?(await Ts.restoreBranchCategory($.id),U("success",t("recycleBin.restore.successBranchCategory").replace("{name}",$.displayName))):$.entityType==="MenuTableCategory"&&(await qr.restoreTableCategory($.id),U("success",t("recycleBin.restore.successTableCategory").replace("{name}",$.displayName))),n(Y=>Y.filter(q=>!(q.id===$.id&&q.entityType===$.entityType)))}catch(Y){console.error("Error restoring item:",Y),U("error",t("recycleBin.restore.error"))}finally{u(Y=>{const q=new Set(Y);return q.delete($.id),q})}},R=a.filter($=>$.displayName.toLowerCase().includes(o.toLowerCase())||$.description&&$.description.toLowerCase().includes(o.toLowerCase())),D=a.filter($=>["Branch","Category","Product","MenuTable"].includes($.entityType)).length,W=a.filter($=>["BranchProduct","BranchCategory","MenuTableCategory"].includes($.entityType)).length,X=$=>new Date($).toLocaleDateString("tr-TR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),B=$=>{switch($){case"Category":return{icon:Y0,color:"green",bgClass:"bg-green-100 dark:bg-green-900/20",textClass:"text-green-600 dark:text-green-400",badgeClass:"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300",label:t("recycleBin.entityTypes.category")};case"Product":return{icon:Ft,color:"blue",bgClass:"bg-blue-100 dark:bg-blue-900/20",textClass:"text-blue-600 dark:text-blue-400",badgeClass:"bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300",label:t("recycleBin.entityTypes.product")};case"Branch":return{icon:pr,color:"purple",bgClass:"bg-purple-100 dark:bg-purple-900/20",textClass:"text-purple-600 dark:text-purple-400",badgeClass:"bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300",label:t("recycleBin.entityTypes.branch")};case"MenuTable":return{icon:Wu,color:"orange",bgClass:"bg-orange-100 dark:bg-orange-900/20",textClass:"text-orange-600 dark:text-orange-400",badgeClass:"bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300",label:t("recycleBin.entityTypes.table")};case"BranchProduct":return{icon:Ft,color:"indigo",bgClass:"bg-indigo-100 dark:bg-indigo-900/20",textClass:"text-indigo-600 dark:text-indigo-400",badgeClass:"bg-indigo-100 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300",label:t("recycleBin.entityTypes.branchProduct")};case"BranchCategory":return{icon:Y0,color:"teal",bgClass:"bg-teal-100 dark:bg-teal-900/20",textClass:"text-teal-600 dark:text-teal-400",badgeClass:"bg-teal-100 dark:bg-teal-900/20 text-teal-700 dark:text-teal-300",label:t("recycleBin.entityTypes.branchCategory")};case"MenuTableCategory":return{icon:Y0,color:"amber",bgClass:"bg-amber-100 dark:bg-amber-900/20",textClass:"text-amber-600 dark:text-amber-400",badgeClass:"bg-amber-100 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300",label:t("recycleBin.entityTypes.tableCategory")};default:return{icon:Ft,color:"gray",bgClass:"bg-gray-100 dark:bg-gray-900/20",textClass:"text-gray-600 dark:text-gray-400",badgeClass:"bg-gray-100 dark:bg-gray-900/20 text-gray-700 dark:text-gray-300",label:t("recycleBin.entityTypes.other")}}},H=()=>{switch(M){case"products":return t("recycleBin.titleProducts");case"branches":return t("recycleBin.titleBranches");case"tables":return t("recycleBin.titleTables");case"branchProducts":return t("recycleBin.titleBranchProducts");case"tableCategories":return t("recycleBin.titleTableCategories");default:return t("recycleBin.title")}},z=()=>{switch(M){case"products":return t("recycleBin.descriptionProducts");case"branches":return t("recycleBin.descriptionBranches");case"tables":return t("recycleBin.descriptionTables");case"branchProducts":return t("recycleBin.descriptionBranchProducts");case"tableCategories":return t("recycleBin.descriptionTableCategories");default:return t("recycleBin.description")}};return p.useEffect(()=>{Q()},[M,F]),r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/20 rounded-lg",children:r.jsx(er,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:H()})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:z()})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:t("recycleBin.search"),value:o,onChange:$=>l($.target.value),className:`w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg 
                       bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                       focus:ring-2 focus:ring-blue-500 focus:border-transparent
                       placeholder-gray-500 dark:placeholder-gray-400`})]}),r.jsxs("button",{onClick:Q,disabled:s,className:`flex items-center gap-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 
                     disabled:bg-gray-400 dark:disabled:bg-gray-600
                     text-white rounded-lg transition-colors duration-200`,children:[r.jsx(Un,{className:`w-5 h-5 ${s?"animate-spin":""}`}),t("recycleBin.refresh")]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl shadow-sm border border-blue-200 dark:border-blue-700 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-200 dark:bg-blue-800/50 rounded-lg",children:r.jsx(pr,{className:"w-5 h-5 text-blue-700 dark:text-blue-300"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:D}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:t("recycleBin.stats.group1")}),r.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:t("recycleBin.stats.group1Desc")})]})]})}),r.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-xl shadow-sm border border-purple-200 dark:border-purple-700 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-200 dark:bg-purple-800/50 rounded-lg",children:r.jsx(Ft,{className:"w-5 h-5 text-purple-700 dark:text-purple-300"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:W}),r.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:t("recycleBin.stats.group2")}),r.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:t("recycleBin.stats.group2Desc")})]})]})}),r.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 rounded-xl shadow-sm border border-red-200 dark:border-red-700 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-200 dark:bg-red-800/50 rounded-lg",children:r.jsx(er,{className:"w-5 h-5 text-red-700 dark:text-red-300"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-red-900 dark:text-red-100",children:a.length}),r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:t("recycleBin.stats.totalDeleted")}),r.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:t("recycleBin.stats.totalDesc")})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:s?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(Un,{className:"w-8 h-8 text-gray-400 dark:text-gray-500 mx-auto mb-4 animate-spin"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t("recycleBin.loading")})]}):R.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(er,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:t(o?"recycleBin.empty.titleFiltered":"recycleBin.empty.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t(o?"recycleBin.empty.descriptionFiltered":"recycleBin.empty.description")})]}):r.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:R.map($=>{const _=B($.entityType),Y=_.icon;return r.jsx("div",{className:"p-6 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:`p-2 rounded-lg ${_.bgClass}`,children:r.jsx(Y,{className:`w-5 h-5 ${_.textClass}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:$.displayName}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_.badgeClass}`,children:_.label})]}),$.description&&r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:$.description}),r.jsxs("div",{className:"flex flex-col gap-1 mb-2",children:[($.entityType==="Product"||$.entityType==="BranchProduct"||$.entityType==="MenuTable")&&$.categoryName&&r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:[t("recycleBin.contextInfo.category")," ",$.categoryName]}),($.entityType==="BranchProduct"||$.entityType==="BranchCategory"||$.entityType==="MenuTable"||$.entityType==="MenuTableCategory")&&$.branchName&&r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:[t("recycleBin.contextInfo.branch")," ",$.branchName]}),$.entityType==="Branch"&&$.restaurantName&&r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:[t("recycleBin.contextInfo.restaurant")," ",$.restaurantName]})]}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 dark:text-gray-500",children:[r.jsx(Fa,{className:"w-4 h-4"}),r.jsxs("span",{children:[t("recycleBin.deletedAt")," ",X($.deletedAt)]})]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("button",{onClick:()=>V($),disabled:c.has($.id),className:`flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 
                                 disabled:bg-gray-400 dark:disabled:bg-gray-600
                                 text-white rounded-lg transition-colors duration-200
                                 disabled:cursor-not-allowed`,children:[c.has($.id)?r.jsx(Un,{className:"w-4 h-4 animate-spin"}):r.jsx(dM,{className:"w-4 h-4"}),c.has($.id)?t("recycleBin.restore.restoring"):t("recycleBin.restore.button")]})})]})},`${$.entityType}-${$.id}`)})})}),x&&y&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:r.jsx(pr,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:t("recycleBin.branchRestore.title")||"Restore Branch"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("recycleBin.branchRestore.subtitle")||`Choose how to restore "${y.displayName}"`})]}),r.jsx("button",{onClick:()=>{b(!1),k(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx(at,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsx("button",{onClick:()=>K(!1),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-500 rounded-xl transition-all duration-200 text-left group hover:bg-blue-50 dark:hover:bg-blue-900/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg group-hover:bg-blue-200 dark:group-hover:bg-blue-900/50 transition-colors",children:r.jsx(da,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:t("recycleBin.branchRestore.simpleTitle")||"Simple Restore (General Info Only)"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("recycleBin.branchRestore.simpleDesc")||"Restore only the basic branch information (name, address, contact, working hours)"})]})]})}),r.jsx("button",{onClick:()=>K(!0),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-700 hover:border-green-500 dark:hover:border-green-500 rounded-xl transition-all duration-200 text-left group hover:bg-green-50 dark:hover:bg-green-900/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg group-hover:bg-green-200 dark:group-hover:bg-green-900/50 transition-colors",children:r.jsx(Ng,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1 flex items-center gap-2",children:[t("recycleBin.branchRestore.cascadeTitle")||"Full Restore (With All Data)",r.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-xs rounded-full",children:t("recycleBin.branchRestore.recommended")||"Recommended"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:t("recycleBin.branchRestore.cascadeDesc")||"Restore the branch with all associated data:"}),r.jsxs("ul",{className:"text-xs text-gray-500 dark:text-gray-500 space-y-1 ml-4",children:[r.jsxs("li",{className:"flex items-center gap-1",children:[r.jsx(xt,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t("recycleBin.branchRestore.includeProducts")||"Branch products and categories"]}),r.jsxs("li",{className:"flex items-center gap-1",children:[r.jsx(xt,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t("recycleBin.branchRestore.includeTables")||"Tables and table categories"]}),r.jsxs("li",{className:"flex items-center gap-1",children:[r.jsx(xt,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t("recycleBin.branchRestore.includeAll")||"All related configurations and settings"]})]})]})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>{b(!1),k(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:t("common.cancel")||"Cancel"})})]})}),v&&S&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:r.jsx(Ft,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:t("recycleBin.productRestore.title")||"Restore Product"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("recycleBin.productRestore.subtitle")||`Choose how to restore "${S.displayName}"`})]}),r.jsx("button",{onClick:()=>{j(!1),C(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx(at,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsx("button",{onClick:()=>Z(!1),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-500 rounded-xl transition-all duration-200 text-left group hover:bg-blue-50 dark:hover:bg-blue-900/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg group-hover:bg-blue-200 dark:group-hover:bg-blue-900/50 transition-colors",children:r.jsx(da,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:t("recycleBin.productRestore.simpleTitle")||"Simple Restore (General Info Only)"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("recycleBin.productRestore.simpleDesc")||"Restore only the basic product information (name, description, price)"})]})]})}),r.jsx("button",{onClick:()=>Z(!0),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-700 hover:border-green-500 dark:hover:border-green-500 rounded-xl transition-all duration-200 text-left group hover:bg-green-50 dark:hover:bg-green-900/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg group-hover:bg-green-200 dark:group-hover:bg-green-900/50 transition-colors",children:r.jsx(Ng,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1 flex items-center gap-2",children:[t("recycleBin.productRestore.cascadeTitle")||"Full Restore (With All Data)",r.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-xs rounded-full",children:t("recycleBin.productRestore.recommended")||"Recommended"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:t("recycleBin.productRestore.cascadeDesc")||"Restore the product with all associated data:"}),r.jsxs("ul",{className:"text-xs text-gray-500 dark:text-gray-500 space-y-1 ml-4",children:[r.jsxs("li",{className:"flex items-center gap-1",children:[r.jsx(xt,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t("recycleBin.productRestore.includeOptions")||"Product options and variants"]}),r.jsxs("li",{className:"flex items-center gap-1",children:[r.jsx(xt,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t("recycleBin.productRestore.includeImages")||"Product images and media"]}),r.jsxs("li",{className:"flex items-center gap-1",children:[r.jsx(xt,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t("recycleBin.productRestore.includeAll")||"All related configurations"]})]})]})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>{j(!1),C(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:t("common.cancel")||"Cancel"})})]})}),P&&A&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:r.jsx(Y0,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:t("recycleBin.categoryRestore.title")||"Restore Category"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("recycleBin.categoryRestore.subtitle")||`Choose how to restore "${A.displayName}"`})]}),r.jsx("button",{onClick:()=>{E(!1),I(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx(at,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsx("button",{onClick:()=>ie(!1),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-500 rounded-xl transition-all duration-200 text-left group hover:bg-blue-50 dark:hover:bg-blue-900/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg group-hover:bg-blue-200 dark:group-hover:bg-blue-900/50 transition-colors",children:r.jsx(da,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:t("recycleBin.categoryRestore.simpleTitle")||"Simple Restore (General Info Only)"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("recycleBin.categoryRestore.simpleDesc")||"Restore only the basic category information (name, description)"})]})]})}),r.jsx("button",{onClick:()=>ie(!0),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-700 hover:border-green-500 dark:hover:border-green-500 rounded-xl transition-all duration-200 text-left group hover:bg-green-50 dark:hover:bg-green-900/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg group-hover:bg-green-200 dark:group-hover:bg-green-900/50 transition-colors",children:r.jsx(Ng,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1 flex items-center gap-2",children:[t("recycleBin.categoryRestore.cascadeTitle")||"Full Restore (With All Data)",r.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-xs rounded-full",children:t("recycleBin.categoryRestore.recommended")||"Recommended"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:t("recycleBin.categoryRestore.cascadeDesc")||"Restore the category with all associated data:"}),r.jsxs("ul",{className:"text-xs text-gray-500 dark:text-gray-500 space-y-1 ml-4",children:[r.jsxs("li",{className:"flex items-center gap-1",children:[r.jsx(xt,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t("recycleBin.categoryRestore.includeProducts")||"All products in this category"]}),r.jsxs("li",{className:"flex items-center gap-1",children:[r.jsx(xt,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t("recycleBin.categoryRestore.includeAll")||"All related configurations"]})]})]})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>{E(!1),I(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:t("common.cancel")||"Cancel"})})]})}),g&&r.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg border max-w-md ${g.type==="success"?"bg-green-900 dark:bg-green-900 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[g.type==="success"?r.jsx(xt,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):r.jsx(lt,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),r.jsx("p",{className:`font-medium ${g.type==="success"?"text-green-200 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:g.message}),r.jsx("button",{onClick:()=>h(null),className:`ml-auto p-1 rounded-full hover:bg-opacity-20 ${g.type==="success"?"hover:bg-green-600 text-green-600 dark:text-green-400":"hover:bg-red-600 text-red-600 dark:text-red-400"}`,children:r.jsx(at,{className:"w-4 h-4"})})]})})]})},yde=({message:e,type:t,onClose:a})=>{p.useEffect(()=>{const s=setTimeout(a,3e3);return()=>clearTimeout(s)},[a]);const n=t==="success"?"bg-green-100 dark:bg-green-900 border-green-400 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900 border-red-400 text-red-700 dark:text-red-300";return r.jsx("div",{className:`mb-6 p-4 border rounded-lg ${n}`,children:e})},bde=({activeTab:e,onTabChange:t})=>{const{t:a}=qe(),n=[{id:"branches",label:a("tabs.branches"),icon:Ht},{id:"management",label:a("tabs.management"),icon:on},{id:"deleted",label:a("tabs.deleted"),icon:er}];return r.jsx("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-gray-200 dark:border-gray-700",children:n.map(({id:s,label:i,icon:o})=>r.jsxs("button",{onClick:()=>t(s),className:`flex items-center gap-2 px-4 py-2 border-b-2 transition-colors ${e===s?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[r.jsx(o,{className:"w-4 h-4"}),i]},s))})},vde=({info:e,onEdit:t,onSubmit:a,editing:n,loading:s})=>{const{t:i}=qe(),[o,l]=p.useState(e||{restaurantId:"",restaurantName:"",restaurantLogoPath:"",cuisineTypeId:null,hasAlcoholService:!1,companyTitle:"",taxNumber:"",taxOffice:"",mersisNumber:"",tradeRegistryNumber:"",legalType:"",workPermitFilePath:"",foodCertificateFilePath:"",restaurantStatus:"active",about:""}),[c,u]=p.useState(!1),[g,h]=p.useState(!1),[x,b]=p.useState(!1),[y,k]=p.useState(!1);p.useEffect(()=>{e&&l(e)},[e]);const v=(C,P)=>{const E=C.target.files?.[0];E&&l(A=>({...A,[P]:E.name}))},j=async()=>{if(e?.restaurantId){b(!0);try{await sn.deleteRestaurant(e.restaurantId),alert(i("management.messages.deleteSuccess")||"Restaurant successfully deleted"),window.location.reload()}catch(C){throw console.error("Delete error:",C),C}finally{b(!1)}}},S=async()=>{if(e?.restaurantId){k(!0);try{await VM.purgeRestaurant(Number(e.restaurantId)),alert(i("management.messages.purgeSuccess")||"Restaurant permanently deleted"),window.location.reload()}catch(C){throw console.error("Purge error:",C),C}finally{k(!1)}}};return e?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-purple-500/5 to-pink-500/5 pointer-events-none"}),r.jsx("div",{className:"relative border-b border-gray-200/50 dark:border-gray-700/50 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:r.jsxs("div",{className:"flex justify-between items-center p-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl shadow-lg",children:r.jsx(Zx,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i("management.title")}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:i("management.subtitle")})]})]}),r.jsx("button",{onClick:t,className:`flex items-center gap-2 px-5 py-2.5 rounded-xl font-medium transition-all duration-200 shadow-md hover:shadow-lg ${n?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white"}`,children:n?r.jsxs(r.Fragment,{children:[r.jsx(at,{className:"w-4 h-4"}),i("management.buttons.cancel")]}):r.jsxs(r.Fragment,{children:[r.jsx(Vo,{className:"w-4 h-4"}),i("management.buttons.edit")]})})]})}),r.jsx("div",{className:"relative p-6",children:n?r.jsxs("form",{onSubmit:C=>{C.preventDefault(),a(o)},className:"space-y-6",children:[r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(pr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i("management.sections.restaurantDetails")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.restaurantName")}),r.jsx("input",{type:"text",placeholder:i("management.placeholders.restaurantName"),value:o.restaurantName||"",onChange:C=>l(P=>({...P,restaurantName:C.target.value})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.restaurantLogo")}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{title:"restaurantLogoPath",type:"file",id:"restaurantLogo",onChange:C=>v(C,"restaurantLogoPath"),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 dark:file:bg-blue-900/30 file:text-blue-700 dark:file:text-blue-300 hover:file:bg-blue-100 dark:hover:file:bg-blue-900/50 transition-all"}),o.restaurantLogoPath&&r.jsx(ai,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-green-500"})]})]})]})]}),r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(Zx,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),i("management.sections.companyInfo")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.companyTitle")}),r.jsx("input",{type:"text",placeholder:i("management.placeholders.companyTitle"),value:o.companyTitle||"",onChange:C=>l(P=>({...P,companyTitle:C.target.value})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.legalType")}),r.jsxs("select",{title:"legalType",value:o.legalType||"",onChange:C=>l(P=>({...P,legalType:C.target.value})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",children:[r.jsx("option",{value:"",children:i("management.placeholders.selectLegalType")}),r.jsx("option",{value:"LLC",children:i("management.legalTypes.llc")}),r.jsx("option",{value:"Corporation",children:i("management.legalTypes.corporation")}),r.jsx("option",{value:"Partnership",children:i("management.legalTypes.partnership")})]})]})]})]}),r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(gs,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),i("management.sections.taxInfo")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.taxNumber")}),r.jsx("input",{type:"text",placeholder:i("management.placeholders.taxNumber"),value:o.taxNumber||"",onChange:C=>l(P=>({...P,taxNumber:C.target.value})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.taxOffice")}),r.jsx("input",{type:"text",placeholder:i("management.placeholders.taxOffice"),value:o.taxOffice||"",onChange:C=>l(P=>({...P,taxOffice:C.target.value})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.mersisNumber")}),r.jsx("input",{type:"text",placeholder:i("management.placeholders.mersisNumber"),value:o.mersisNumber||"",onChange:C=>l(P=>({...P,mersisNumber:C.target.value})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.tradeRegistry")}),r.jsx("input",{type:"text",placeholder:i("management.placeholders.tradeRegistry"),value:o.tradeRegistryNumber||"",onChange:C=>l(P=>({...P,tradeRegistryNumber:C.target.value})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]})]})]}),r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(da,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),i("management.sections.certificates")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.workPermit")}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{title:"workPermitFilePath",type:"file",id:"workPermit",onChange:C=>v(C,"workPermitFilePath"),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-orange-50 dark:file:bg-orange-900/30 file:text-orange-700 dark:file:text-orange-300 hover:file:bg-orange-100 dark:hover:file:bg-orange-900/50 transition-all"}),o.workPermitFilePath&&r.jsx(ai,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-green-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.foodCertificate")}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{title:"foodCertificateFilePath",type:"file",id:"foodCertificate",onChange:C=>v(C,"foodCertificateFilePath"),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-orange-50 dark:file:bg-orange-900/30 file:text-orange-700 dark:file:text-orange-300 hover:file:bg-orange-100 dark:hover:file:bg-orange-900/50 transition-all"}),o.foodCertificateFilePath&&r.jsx(ai,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-green-500"})]})]})]})]}),r.jsx("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(IF,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),i("management.sections.additionalSettings")]})}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsxs("button",{type:"submit",disabled:s,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-medium rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl disabled:cursor-not-allowed",children:[r.jsx(Ta,{className:"w-5 h-5"}),i(s?"management.buttons.saving":"management.buttons.save")]}),r.jsxs("button",{type:"button",onClick:t,className:"flex items-center gap-2 px-6 py-3 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-medium rounded-xl transition-all duration-200",children:[r.jsx(at,{className:"w-5 h-5"}),i("management.buttons.cancel")]})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(pr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i("management.sections.restaurantDetails")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ei,{label:i("management.fields.restaurantName"),value:e.restaurantName}),r.jsx(ei,{label:i("management.fields.logo"),value:e.restaurantLogoPath?i("management.status.uploaded"):i("management.status.notUploaded")})]})]}),r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(Zx,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),i("management.sections.companyInfo")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ei,{label:i("management.fields.companyTitle"),value:e.companyTitle}),r.jsx(ei,{label:i("management.fields.legalType"),value:e.legalType})]})]}),r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(gs,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),i("management.sections.taxInfo")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ei,{label:i("management.fields.taxNumber"),value:e.taxNumber}),r.jsx(ei,{label:i("management.fields.taxOffice"),value:e.taxOffice}),r.jsx(ei,{label:i("management.fields.mersisNumber"),value:e.mersisNumber}),r.jsx(ei,{label:i("management.fields.tradeRegistry"),value:e.tradeRegistryNumber})]})]}),r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(da,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),i("management.sections.certificates")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(ei,{label:i("management.fields.workPermit"),value:e.workPermitFilePath?i("management.status.uploaded"):i("management.status.notUploaded")}),r.jsx(ei,{label:i("management.fields.foodCertificate"),value:e.foodCertificateFilePath?i("management.status.uploaded"):i("management.status.notUploaded")})]})]}),r.jsxs("div",{className:"bg-red-50/50 dark:bg-red-900/10 backdrop-blur-sm rounded-xl p-5 border border-red-200/50 dark:border-red-800/50",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx(oa,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-red-900 dark:text-red-100 mb-1",children:i("management.dangerZone.title")||"Danger Zone"}),r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:i("management.dangerZone.description")||"These actions cannot be undone. Please be careful."})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("button",{onClick:()=>u(!0),className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-red-600 hover:bg-red-700 text-white font-medium rounded-xl transition-all duration-200 shadow-md hover:shadow-lg",children:[r.jsx(er,{className:"w-4 h-4"}),i("management.buttons.delete")||"Delete Restaurant"]}),r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-red-800 hover:bg-red-900 text-white font-medium rounded-xl transition-all duration-200 shadow-md hover:shadow-lg",children:[r.jsx(er,{className:"w-4 h-4"}),i("management.buttons.purge")||"Permanently Delete"]})]})]})]})})]}),r.jsx(Vi,{isOpen:c,onClose:()=>u(!1),onConfirm:j,title:i("management.dangerZone.title")||"Delete Restaurant",message:i("management.dangerZone.description")||"Are you sure you want to delete this restaurant? This action can be restored later.",isSubmitting:x,itemType:"restaurant",itemName:e?.restaurantName}),r.jsx(Vi,{isOpen:g,onClose:()=>h(!1),onConfirm:S,title:i("management.dangerZone.title")||"Delete Restaurant",message:i("management.dangerZone.description")||"Are you sure you want to delete this restaurant? This action can be restored later.",isSubmitting:y,itemType:"restaurant-purge",itemName:e?.restaurantName})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 rounded-2xl flex items-center justify-center mb-4",children:r.jsx(pr,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:i("management.noDataTitle")}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center max-w-md",children:i("management.noDataMessage")})]})},ei=({label:e,value:t})=>{const{t:a}=qe();return r.jsxs("div",{className:"group",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:e}),r.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:t||a("management.common.na")})]})},kde=({branch:e})=>{const{t}=qe();return r.jsxs("div",{className:"group relative bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-200/50 dark:border-gray-700/50",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),r.jsx("div",{className:`absolute top-0 left-0 right-0 h-1.5 ${e.isActive?"bg-gradient-to-r from-green-400 via-emerald-500 to-teal-500":"bg-gradient-to-r from-gray-400 via-gray-500 to-gray-600"}`}),r.jsx("div",{className:"relative p-6",children:r.jsx("div",{className:"flex items-start justify-between gap-4",children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("div",{className:`flex-shrink-0 p-3 rounded-xl shadow-lg ${e.isActive?"bg-gradient-to-br from-green-400 to-emerald-500":"bg-gradient-to-br from-gray-400 to-gray-600"}`,children:r.jsx(pr,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors truncate",children:e.name}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold shadow-sm ${e.isActive?"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300 ring-1 ring-green-500/20":"bg-gray-100 text-gray-700 dark:bg-gray-700/40 dark:text-gray-300 ring-1 ring-gray-500/20"}`,children:e.isActive?r.jsxs(r.Fragment,{children:[r.jsx(ai,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:t("branches.status.active")})]}):r.jsxs(r.Fragment,{children:[r.jsx(fa,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:t("branches.status.inactive")})]})})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-3 border border-gray-200/50 dark:border-gray-700/50 hover:shadow-md transition-all",children:[r.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:r.jsx($r,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:t("branches.fields.branchType")}),r.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:e.type})]})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-3 border border-gray-200/50 dark:border-gray-700/50 hover:shadow-md transition-all",children:[r.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsx(sd,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:t("branches.fields.branchTag")}),r.jsx("div",{className:"flex items-center gap-1",children:r.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs font-medium rounded-lg shadow-sm",children:[r.jsx(Vn,{className:"w-3 h-3"}),e.branchTag]})})]})]})]})]})})}),r.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-transparent group-hover:border-indigo-500/20 dark:group-hover:border-indigo-400/20 transition-colors pointer-events-none"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-600 to-transparent opacity-50"})]})},wde=({branches:e,loading:t})=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"grid gap-4",children:[e.map(a=>r.jsx(kde,{branch:a},a.id)),e.length===0&&!t&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No branches found."})]})}),jde=({restaurant:e,onRestore:t})=>r.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-red-200 dark:border-red-800",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.name}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[r.jsxs("div",{children:["Deleted: ",new Date(e.deletedAt).toLocaleString()]}),e.description&&r.jsxs("div",{children:["Description: ",e.description]})]})]}),r.jsxs("button",{onClick:()=>t(e.id),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[r.jsx(dM,{className:"w-4 h-4"}),"Restore"]})]})}),Nde=({deletedRestaurants:e,onRestore:t,loading:a})=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"grid gap-4",children:[e.map(n=>r.jsx(jde,{restaurant:n,onRestore:t},n.id)),e.length===0&&!a&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No deleted restaurants found."})]})}),Cde=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-40",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg flex items-center gap-3",children:[r.jsx(Un,{className:"w-5 h-5 animate-spin text-blue-600"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:"Loading..."})]})}),Sde=()=>{const[e,t]=p.useState("branches"),[a,n]=p.useState(!1),[s,i]=p.useState(null),[o,l]=p.useState([]),[c,u]=p.useState(null),[g,h]=p.useState([]),[x,b]=p.useState(!1),y=(S,C="success")=>{i({message:S,type:C})},k=async()=>{try{n(!0);const[S,C,P,E]=await Promise.all([sn.getRestaurants(),sn.getRestaurantBranchesDropdown(),sn.getRestaurantManagementInfo(),sn.getDeletedRestaurants()]);l(C),u(P),h(E)}catch(S){const C=S instanceof Error?S.message:"Unknown error occurred";y("Failed to fetch data: "+C,"error")}finally{n(!1)}};p.useEffect(()=>{k()},[]);const v=async S=>{try{n(!0),await sn.restoreRestaurant(S),y("Restaurant restored successfully!"),await k()}catch(C){const P=C instanceof Error?C.message:"Unknown error occurred";y("Failed to restore restaurant: "+P,"error")}finally{n(!1)}},j=async S=>{try{n(!0),await sn.updateRestaurantManagementInfo(S),y("Management info updated successfully!"),b(!1),await k()}catch(C){const P=C instanceof Error?C.message:"Unknown error occurred";y("Failed to update management info: "+P,"error")}finally{n(!1)}};return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Restaurant Management"}),r.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[r.jsx(Un,{className:"w-4 h-4"}),"Refresh"]})]}),s&&r.jsx(yde,{message:s.message,type:s.type,onClose:()=>i(null)}),r.jsx(bde,{activeTab:e,onTabChange:t}),e==="branches"&&r.jsx(wde,{branches:o,loading:a}),e==="management"&&r.jsx(vde,{info:c,onEdit:()=>b(!x),onSubmit:j,editing:x,loading:a}),e==="deleted"&&r.jsx(Nde,{deletedRestaurants:g,onRestore:v,loading:a}),a&&r.jsx(Cde,{})]})})},Pde=({checked:e,onChange:t,disabled:a,t:n,isRTL:s})=>r.jsx("div",{className:"flex flex-col gap-2 justify-center items-center",children:r.jsxs("button",{type:"button",onClick:t,disabled:a,"aria-checked":e,role:"switch",className:`group relative inline-flex items-center gap-3 ${s?"flex-row-reverse":""} 
        transition-all duration-200 hover:scale-[1.02] disabled:cursor-not-allowed 
        disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-blue-500/30 
        rounded-xl p-3 ${e?"bg-emerald-50 dark:bg-emerald-950/50":"bg-red-50 dark:bg-red-950/50"}
        border ${e?"border-emerald-200 dark:border-emerald-800":"border-red-200 dark:border-red-800"}`,children:[a?r.jsx("div",{className:"flex items-center justify-center w-12 h-6 rounded-full bg-slate-200 dark:bg-slate-700",children:r.jsx(ot,{className:"h-4 w-4 animate-spin text-slate-400"})}):r.jsx("div",{className:`relative w-12 h-6 rounded-full transition-all duration-300 ease-in-out
            ${e?"bg-gradient-to-r from-emerald-500 to-green-500 shadow-lg shadow-emerald-500/30":"bg-gradient-to-r from-red-500 to-rose-500 shadow-lg shadow-red-500/30"}`,children:r.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-all duration-300 ease-in-out
              ${e?`${s?"left-0.5":"right-0.5"}`:`${s?"right-0.5":"left-0.5"}`}`})}),r.jsx("div",{className:"flex flex-col items-start",children:r.jsx("span",{className:`text-sm font-semibold ${e?At.text.success:At.text.error}`,children:e?n("branchManagementBranch.status.open")||"Active":n("branchManagementBranch.status.temporarilyClosed")||"Temporarily Closed"})})]})}),pg=({onClick:e,disabled:t,variant:a,children:n,isLoading:s})=>r.jsx("button",{onClick:e,disabled:t||s,className:`group px-6 py-3 ${At[a]} text-white rounded-xl font-semibold 
      transition-all duration-300 shadow-lg hover:shadow-xl hover:-translate-y-0.5 
      focus:outline-none focus:ring-4 disabled:opacity-50 disabled:cursor-not-allowed 
      disabled:hover:translate-y-0 disabled:hover:shadow-lg backdrop-blur-sm
      active:scale-95`,children:r.jsxs("div",{className:"flex items-center gap-2 transition-all duration-200",children:[s&&r.jsx(ot,{className:"w-4 h-4 animate-spin"}),n]})}),Tde=({selectedBranch:e,isEditing:t,isLoading:a,t:n,isRTL:s,setIsEditing:i,handleToggleTemporaryClose:o,handleSave:l,initializeEditData:c,setEditData:u})=>{const[g,h]=p.useState(!1),[x,b]=p.useState(""),[y,k]=p.useState(!1),v=ya(),j=async E=>{try{h(!0);const A=await Wi.uploadFile(E);return u(I=>({...I,branchLogoPath:A})),b(""),A}catch{return b(n("branchManagementBranch.errors.imageUploadFailed")||"Image upload failed"),Gg}finally{h(!1)}},S=async E=>{const A=E.target.files?.[0];A&&await j(A)},C=E=>{E.preventDefault(),E.stopPropagation(),E.type==="dragenter"||E.type==="dragover"?k(!0):E.type==="dragleave"&&k(!1)},P=async E=>{E.preventDefault(),E.stopPropagation(),k(!1),E.dataTransfer.files&&E.dataTransfer.files[0]&&await j(E.dataTransfer.files[0])};return r.jsxs("div",{className:`${At.background.card} ${At.background.cardHover} backdrop-blur-xl 
      rounded-3xl shadow-2xl border border-slate-200/50 dark:border-slate-700/50 
      transition-all duration-500 mb-8 overflow-hidden relative`,children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/30 via-transparent to-emerald-50/30 dark:from-slate-800/30 dark:to-slate-900/30"}),r.jsx("div",{className:"relative p-6 sm:p-8",children:r.jsxs("div",{className:"flex flex-col gap-8 xl:flex-row xl:items-start xl:justify-between",children:[r.jsx("div",{className:"flex flex-col gap-6  min-w-0 flex-1",children:r.jsxs("div",{className:"flex items-center gap-4 ",children:[r.jsxs("div",{className:"relative group flex-shrink-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl blur-lg opacity-30 group-hover:opacity-50 transition-opacity duration-300"}),r.jsx("div",{className:"relative p-4 bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl shadow-lg",children:r.jsx($r,{className:"w-6 h-6 text-white"})})]}),r.jsxs("div",{className:"space-y-2 min-w-0",children:[r.jsx("h1",{className:`text-2xl font-bold ${At.text.primary} leading-tight`,children:n("branchManagementBranch.title")||"Branch Management"}),r.jsx("p",{className:`text-sm ${At.text.secondary} leading-relaxed`,children:n("branchManagementBranch.description")||"Manage your branch information and settings"})]}),e&&r.jsx("div",{className:`flex items-center gap-4 ${s?"flex-row-reverse":""} flex-wrap`,children:r.jsxs("div",{className:"relative group flex-shrink-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 to-blue-500 rounded-2xl blur-lg opacity-30 group-hover:opacity-50 transition-opacity duration-300"}),r.jsx("img",{src:e.branchLogoPath||Gg,alt:n("branchManagementBranch.logoAlt")||"Branch Logo",className:"relative lg:w-96 lg:h-32 sm:w-20 sm:h-20 object-cover rounded-2xl border-2 border-white dark:border-slate-700 shadow-xl transition-transform duration-300 group-hover:scale-105"})]})})]})}),r.jsxs("div",{className:`flex flex-col gap-6 ${s?"items-start":"items-end"}`,children:[r.jsxs("div",{className:"flex flex-col justify-center h-full w-full sm:flex-row gap-4 items-start sm:items-center ",children:[e&&r.jsx(Pde,{checked:!e.isTemporarilyClosed,onChange:o,disabled:a,t:n,isRTL:s}),r.jsx("div",{className:"flex gap-3 flex-wrap",children:t?r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(pg,{onClick:l,variant:"success",disabled:a||g,isLoading:a,children:[r.jsx(Ta,{className:"w-4 h-4"}),r.jsx("span",{children:n("branchManagementBranch.actions.save")||"Save"})]}),r.jsxs(pg,{onClick:()=>{i(!1),e&&c(e),b("")},variant:"neutral",children:[r.jsx(at,{className:"w-4 h-4"}),r.jsx("span",{children:n("branchManagementBranch.actions.cancel")||"Cancel"})]})]}):r.jsxs(pg,{onClick:()=>{i(!0),e&&c(e)},variant:"primary",children:[r.jsx(Xh,{className:"w-4 h-4"}),r.jsx("span",{children:n("branchManagementBranch.actions.edit")||"Edit"})]})})]}),e&&r.jsxs(pg,{onClick:()=>v(`/BranchManagement/OnlineMenu/${e.id}`),variant:"primary",children:[r.jsx(Yi,{className:"w-4 h-4"}),r.jsx("span",{children:n("branchManagementBranch.actions.onlineMenu")||"Online Menu"})]}),t&&r.jsxs("div",{className:"w-full max-w-sm",children:[r.jsx("label",{className:`block text-sm font-semibold ${At.text.primary} mb-3`,children:n("branchManagementBranch.uploadLogo")||"Upload Logo"}),r.jsxs("div",{onDragEnter:C,onDragLeave:C,onDragOver:C,onDrop:P,className:`relative group cursor-pointer transition-all duration-300 rounded-2xl border-2 border-dashed p-6
                    ${y?"border-blue-500 bg-blue-50 dark:bg-blue-950/20 scale-105":"border-slate-300 dark:border-slate-600 hover:border-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800/50 hover:scale-[1.02]"}`,children:[r.jsx("input",{title:"branch-logo-upload",id:"branch-logo-upload",type:"file",accept:"image/*",onChange:S,disabled:g,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),r.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[g?r.jsx("div",{className:"p-4 bg-blue-100 dark:bg-blue-900/50 rounded-xl",children:r.jsx(ot,{className:"w-8 h-8 animate-spin text-blue-600"})}):r.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900/50 dark:to-indigo-900/50 rounded-xl group-hover:from-blue-200 group-hover:to-indigo-200 dark:group-hover:from-blue-800/50 dark:group-hover:to-indigo-800/50 transition-all duration-300",children:r.jsx(li,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),r.jsx("div",{className:"space-y-1",children:r.jsx("p",{className:`text-sm font-medium ${At.text.primary}`,children:g?"Uploading...":"Drop image here or click to browse"})})]})]}),x&&r.jsxs("div",{className:"mt-3 flex items-center gap-2 p-3 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-xl",children:[r.jsx(at,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),r.jsx("p",{className:`text-sm ${At.text.error}`,children:x})]})]})]})]})})]})},Ade=({selectedBranch:e,isEditing:t,editData:a,t:n,handleInputChange:s})=>r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 transition-all duration-300 hover:shadow-2xl",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("h2",{className:"text-xl font-bold mb-6 text-gray-900 dark:text-white flex items-center",children:[r.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900 mr-3",children:r.jsx(Gr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),n("branchManagementBranch.basicInfo.title")]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:n("branchManagementBranch.basicInfo.branchName")}),t?r.jsx("input",{type:"text",value:a.branchName,onChange:i=>s("branchName",i.target.value),placeholder:n("branchManagementBranch.placeholders.branchName"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 group-hover:border-blue-400 dark:group-hover:border-blue-500"}):r.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium text-lg",children:e?.branchName||n("branchManagementBranch.basicInfo.notSpecified")})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:n("branchManagementBranch.basicInfo.whatsappNumber")}),t?r.jsx("input",{type:"text",value:a.whatsappOrderNumber,onChange:i=>s("whatsappOrderNumber",i.target.value),placeholder:n("branchManagementBranch.placeholders.whatsappNumber"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 group-hover:border-blue-400 dark:group-hover:border-blue-500"}):r.jsxs("div",{className:"text-gray-900 dark:text-gray-100 font-medium text-lg flex items-center",children:[r.jsx(Gr,{className:"w-5 h-5 mr-2 text-green-500 dark:text-green-400"}),e?.whatsappOrderNumber||n("branchManagementBranch.basicInfo.notSpecified")]})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:n("branchManagementBranch.basicInfo.email")}),t?r.jsx("input",{type:"email",value:a.email,onChange:i=>s("email",i.target.value),placeholder:n("branchManagementBranch.placeholders.email"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 group-hover:border-blue-400 dark:group-hover:border-blue-500"}):r.jsxs("div",{className:"text-gray-900 dark:text-gray-100 font-medium text-lg flex items-center",children:[r.jsx(Ws,{className:"w-5 h-5 mr-2 text-blue-500 dark:text-blue-400"}),e?.email||n("branchManagementBranch.basicInfo.notSpecified")]})]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 transition-all duration-300 hover:shadow-2xl",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("h2",{className:"text-xl font-bold mb-6 text-gray-900 dark:text-white flex items-center",children:[r.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900 mr-3",children:r.jsx($r,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),n("branchManagementBranch.addressInfo.title")]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:n("branchManagementBranch.addressInfo.country")}),t?r.jsx("input",{type:"text",value:a.createAddressDto?.country||"",onChange:i=>s("createAddressDto.country",i.target.value),placeholder:n("branchManagementBranch.placeholders.country"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 group-hover:border-blue-400 dark:group-hover:border-blue-500"}):r.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:e?.createAddressDto?.country||n("branchManagementBranch.basicInfo.notSpecified")})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:n("branchManagementBranch.addressInfo.city")}),t?r.jsx("input",{type:"text",value:a.createAddressDto?.city||"",onChange:i=>s("createAddressDto.city",i.target.value),placeholder:n("branchManagementBranch.placeholders.city"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 group-hover:border-blue-400 dark:group-hover:border-blue-500"}):r.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:e?.createAddressDto?.city||n("branchManagementBranch.basicInfo.notSpecified")})]})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:n("branchManagementBranch.addressInfo.street")}),t?r.jsx("input",{type:"text",value:a.createAddressDto?.street||"",onChange:i=>s("createAddressDto.street",i.target.value),placeholder:n("branchManagementBranch.placeholders.street"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 group-hover:border-blue-400 dark:group-hover:border-blue-500"}):r.jsxs("div",{className:"text-gray-900 dark:text-gray-100 font-medium flex items-center",children:[r.jsx($r,{className:"w-5 h-5 mr-2 text-purple-500 dark:text-purple-400"}),e?.createAddressDto?.street||n("branchManagementBranch.basicInfo.notSpecified")]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:n("branchManagementBranch.addressInfo.postalCode")}),t?r.jsx("input",{type:"text",value:a.createAddressDto?.zipCode||"",onChange:i=>s("createAddressDto.zipCode",i.target.value),placeholder:n("branchManagementBranch.placeholders.postalCode"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 group-hover:border-blue-400 dark:group-hover:border-blue-500"}):r.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:e?.createAddressDto?.zipCode||"-"})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:n("branchManagementBranch.addressInfo.region")}),t?r.jsx("input",{type:"text",value:a.createAddressDto?.addressLine1||"",onChange:i=>s("createAddressDto.addressLine1",i.target.value),placeholder:n("branchManagementBranch.placeholders.region"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 group-hover:border-blue-400 dark:group-hover:border-blue-500"}):r.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:e?.createAddressDto?.addressLine1||"-"})]})]})]})]})})]});class Mde{baseUrl="/api/Branches";async getBranches(){try{N.info("Kullanıcıya ait branch bilgileri getirme isteği gönderiliyor",null,{prefix:"BranchService"});const t=["address","contact","workingHours"],a=new URLSearchParams({include:t.join(",")}),n=`${this.baseUrl}?${a.toString()}`;N.info("Branch API Request URL:",n,{prefix:"BranchService"});const s=await se.get(n);N.info("Branch API Raw Response:",s,{prefix:"BranchService"}),N.info("Branch API Response Data:",s.data,{prefix:"BranchService"});let i=[];if(s.data&&s.data.data){const o=s.data.data;Array.isArray(o)?i=o.map(this.transformApiBranchToBranchData):i=[this.transformApiBranchToBranchData(o)]}else s.data&&(Array.isArray(s.data)?i=s.data.map(this.transformApiBranchToBranchData):i=[this.transformApiBranchToBranchData(s.data)]);return N.info("Transformed Branch Data:",i,{prefix:"BranchService"}),N.info("Kullanıcıya ait branch bilgileri başarıyla alındı",{branchCount:i.length,includes:t,hasIncludedData:{restaurant:!!s.data?.data?.restaurant,address:!!s.data?.data?.address,contact:!!s.data?.data?.contact,workingHours:!!s.data?.data?.workingHours,categories:!!s.data?.data?.categories,menuTables:!!s.data?.data?.menuTables,activeOrders:!!s.data?.data?.activeOrders}},{prefix:"BranchService"}),i}catch(t){throw N.error("Branch bilgileri getirme hatası",t,{prefix:"BranchService"}),N.error("Error response:",t?.response,{prefix:"BranchService"}),N.error("Error response data:",t?.response?.data,{prefix:"BranchService"}),t?.response?.status===401?new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."):t?.response?.status===403?new Error("Bu işlem için yetkiniz bulunmuyor."):t?.response?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`Branch bilgileri getirilirken hata oluştu: ${t?.message||"Bilinmeyen hata"}`)}}transformApiBranchToBranchData(t){return{id:t.id,branchId:t.id,branchName:t.branchName,whatsappOrderNumber:t.whatsappOrderNumber,email:t.contact?.mail||null,branchStatus:t.branchStatus,restaurantId:t.restaurant?.restaurantId||0,branchLogoPath:t.branchLogoPath,isOpenNow:t.isOpenNow||!1,isTemporarilyClosed:t.isTemporarilyClosed,createAddressDto:{country:t.address?.country||null,city:t.address?.city||null,street:t.address?.street||null,zipCode:t.address?.zipCode||null,addressLine1:t.address?.addressLine1||null,addressLine2:t.address?.addressLine2||null},createContactDto:{phone:t.whatsappOrderNumber||"",mail:t.contact.mail||"",location:t?.contact.location||"",contactHeader:t?.contact.contactHeader||"",footerTitle:t?.contact.footerTitle||"",footerDescription:t?.contact.footerDescription||"",openTitle:t?.contact.openTitle||"",openDays:t?.contact.openDays||"",openHours:t?.contact.openHours||""},workingHours:t.workingHours?.map(a=>({openTime:a.openTime,closeTime:a.closeTime,dayOfWeek:a.dayOfWeek,isWorkingDay:a.isWorkingDay}))||[]}}async updateBranch(t,a){try{N.info("Branch güncelleme isteği gönderiliyor",{id:t,data:a},{prefix:"BranchService"});const n={branchName:a.branchName?.trim()||null,whatsappOrderNumber:a.whatsappOrderNumber?.trim()||null,branchLogoPath:a.branchLogoPath||null};a.createAddressDto&&(n.batchUpdateAddressDto={country:a.createAddressDto.country?.trim()||null,city:a.createAddressDto.city?.trim()||null,street:a.createAddressDto.street?.trim()||null,adressLine1:a.createAddressDto.addressLine1?.trim()||null,adressLine2:a.createAddressDto.addressLine2?.trim()||null,zipCode:a.createAddressDto.zipCode?.trim()||null}),a.createContactDto&&(n.batchUpdateContactDto={contactHeader:a.createContactDto.contactHeader?.trim()||null,location:a.createContactDto.location?.trim()||null,phone:a.createContactDto.phone?.trim()||null,mail:a.createContactDto.mail?.trim()||null,footerTitle:a.createContactDto.footerTitle?.trim()||null,footerDescription:a.createContactDto.footerDescription?.trim()||null,openTitle:a.createContactDto.openTitle?.trim()||null,openDays:a.createContactDto.openDays?.trim()||null,openHours:a.createContactDto.openHours?.trim()||null}),a.createBranchWorkingHourCoreDto&&a.createBranchWorkingHourCoreDto.length>0&&(n.batchUpdateBranchWorkingHourDto=a.createBranchWorkingHourCoreDto.map(i=>({dayOfWeek:i.dayOfWeek,openTime:i.openTime,closeTime:i.closeTime,isWorkingDay:i.isWorkingDay}))),N.info("Transformed batch update data",n,{prefix:"BranchService"});const s=await se.put(`${this.baseUrl}/${t}/batch-update`,n);return N.info("Branch Update API Response alındı",s.data,{prefix:"BranchService"}),s.data.data}catch(n){throw N.error("Branch güncelleme hatası",n,{prefix:"BranchService"}),n.response?.data?.errors&&N.error("API Validation Hataları:",n.response.data.errors,{prefix:"BranchService"}),n}}async deleteBranch(t){try{N.info("Branch silme isteği gönderiliyor",{id:t},{prefix:"BranchService"}),await se.delete(`${this.baseUrl}/${t}`),N.info("Branch başarıyla silindi",{id:t},{prefix:"BranchService"})}catch(a){throw N.error("Branch silme hatası",a,{prefix:"BranchService"}),a}}async toggleTemporaryClose(t,a,n){try{N.info("Branch temporary close güncelleme isteği",{branchId:t,isTemporarilyClosed:a,isOpenNow:n},{prefix:"BranchService"}),await se.patch(`${this.baseUrl}/${t}/temporary-close`,a),N.info("Branch temporary close durumu güncellendi",null,{prefix:"BranchService"})}catch(s){if(N.error("Branch temporary close güncelleme hatası",s,{prefix:"BranchService"}),s?.response?.status===400){const i=s?.response?.data;if(i?.errors){const o=Object.values(i.errors).flat();throw new Error(`Doğrulama hatası: ${o.join(", ")}`)}else throw new Error("Geçersiz istek. Lütfen verileri kontrol edin.")}else throw s?.response?.status===401?new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."):s?.response?.status===403?new Error("Bu işlem için yetkiniz bulunmuyor."):s?.response?.status===404?new Error("Şube bulunamadı."):s?.response?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`Şube durumu güncellenirken hata oluştu: ${s?.message||"Bilinmeyen hata"}`)}}}const Mg=new Mde,Ide=({selectedBranch:e,isEditing:t,editData:a,t:n,handleWorkingHourChange:s})=>{const i=o=>o.substring(0,5);return r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700 transition-all duration-300 hover:shadow-2xl",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold mb-6 text-slate-800 dark:text-slate-100 flex items-center",children:[r.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 mr-4 shadow-lg",children:r.jsx(Fa,{className:"w-6 h-6 text-white"})}),n("branchManagementBranch.workingHours.title")]}),t?r.jsx("div",{className:"space-y-4",children:a.createBranchWorkingHourCoreDto?.map(o=>r.jsxs("div",{className:`p-6 rounded-xl border-2 transition-all duration-300 hover:shadow-lg ${o.isWorkingDay?"bg-gradient-to-r from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 border-emerald-200 dark:border-emerald-700":"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-900/20 dark:to-slate-800/20 border-slate-200 dark:border-slate-700 opacity-75"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"font-bold text-xl text-slate-800 dark:text-slate-100",children:n(`branchManagementBranch.workingHours.days.${o.dayOfWeek}`)}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:o.isWorkingDay,onChange:l=>s(o.dayOfWeek,"isWorkingDay",l.target.checked),className:"w-5 h-5 text-emerald-600 border-slate-300 dark:border-slate-600 rounded focus:ring-emerald-500 focus:ring-2 bg-white dark:bg-slate-700 transition-colors duration-200"}),r.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:n("branchManagementBranch.workingHours.workingDay")})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-bold mb-3 ${o.isWorkingDay?"text-slate-700 dark:text-slate-300":"text-slate-500 dark:text-slate-500"}`,children:n("branchManagementBranch.workingHours.openTime")}),r.jsx("input",{title:"openTime",type:"time",value:o.openTime,onChange:l=>s(o.dayOfWeek,"openTime",l.target.value),disabled:!o.isWorkingDay,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 shadow-sm hover:shadow-md ${o.isWorkingDay?"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-emerald-500 focus:border-transparent":"border-slate-200 dark:border-slate-700 bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-500 cursor-not-allowed"}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-bold mb-3 ${o.isWorkingDay?"text-slate-700 dark:text-slate-300":"text-slate-500 dark:text-slate-500"}`,children:n("branchManagementBranch.workingHours.closeTime")}),r.jsx("input",{title:"closeTime",type:"time",value:o.closeTime,onChange:l=>s(o.dayOfWeek,"closeTime",l.target.value),disabled:!o.isWorkingDay,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 shadow-sm hover:shadow-md ${o.isWorkingDay?"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-emerald-500 focus:border-transparent":"border-slate-200 dark:border-slate-700 bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-500 cursor-not-allowed"}`})]})]}),!o.isWorkingDay&&r.jsx("div",{className:"mt-4 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-slate-500 dark:text-slate-500",children:[r.jsx(at,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-semibold",children:n("branchManagementBranch.status.closed")})]})})]},o.dayOfWeek))}):e?.workingHours&&e.workingHours.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.workingHours.map(o=>r.jsxs("div",{className:`p-6 rounded-xl border-2 transition-all duration-300 hover:shadow-lg transform hover:scale-105 ${o.isWorkingDay?"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 border-emerald-200 dark:border-emerald-700":"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-700"}`,children:[r.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-100 mb-3 text-center text-lg",children:n(`branchManagementBranch.workingHours.days.${o.dayOfWeek}`)}),o.isWorkingDay?r.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300 flex items-center justify-center",children:[r.jsx(zt,{className:"w-4 h-4 mr-2 text-emerald-500"}),r.jsxs("span",{className:"font-semibold",children:[i(o.openTime)," - ",i(o.closeTime)]})]}):r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-red-600 dark:text-red-400 mb-2",children:[r.jsx(at,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-bold",children:n("branchManagementBranch.status.closed")})]}),r.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:[i(o.openTime)," - ",i(o.closeTime)]})]})]},o.dayOfWeek))}):r.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-slate-700 rounded-xl",children:[r.jsx(zt,{className:"w-16 h-16 mx-auto mb-4 text-slate-400 dark:text-slate-500"}),r.jsx("p",{className:"text-xl font-semibold text-slate-600 dark:text-slate-400",children:n("branchManagementBranch.workingHours.noWorkingHours")})]})]})})},Ede=()=>{const{t:e,isRTL:t}=qe(),[a,n]=p.useState([]),[s,i]=p.useState(null),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[g,h]=p.useState(""),[x,b]=p.useState(""),[y,k]=p.useState({branchName:"",whatsappOrderNumber:"",email:"",branchLogoPath:"",createAddressDto:{country:"",city:"",street:"",zipCode:"",addressLine1:"",addressLine2:""},createContactDto:{phone:"",mail:"",location:"",contactHeader:"",footerTitle:"",footerDescription:"",openTitle:"",openDays:"",openHours:""},createBranchWorkingHourCoreDto:[]});p.useEffect(()=>{v()},[]);const v=async()=>{try{u(!0),h("");const A=await Mg.getBranches();n(A),A.length>0&&(i(A[0]),j(A[0]))}catch(A){h(A.message||e("branchManagementBranch.messages.loadError"))}finally{u(!1)}},j=A=>{k({branchName:A.branchName||"",whatsappOrderNumber:A.whatsappOrderNumber||"",email:A.email||"",branchLogoPath:A.branchLogoPath||"",createAddressDto:{country:A.createAddressDto?.country||"",city:A.createAddressDto?.city||"",street:A.createAddressDto?.street||"",zipCode:A.createAddressDto?.zipCode||"",addressLine1:A.createAddressDto?.addressLine1||"",addressLine2:A.createAddressDto?.addressLine2||""},createContactDto:{phone:A.whatsappOrderNumber||"",mail:A.email||"",location:A?.createContactDto.location||"",contactHeader:A?.createContactDto.contactHeader||"",footerTitle:A?.createContactDto.footerTitle||"",footerDescription:A?.createContactDto.footerDescription||"",openTitle:A?.createContactDto.openTitle||"",openDays:A?.createContactDto.openDays||"",openHours:A?.createContactDto.openHours||""},createBranchWorkingHourCoreDto:A.workingHours?A.workingHours.map(I=>({dayOfWeek:I.dayOfWeek,openTime:I.openTime,closeTime:I.closeTime,isWorkingDay:I.isWorkingDay})):[{dayOfWeek:1,openTime:"09:00",closeTime:"22:00",isWorkingDay:!0},{dayOfWeek:2,openTime:"09:00",closeTime:"22:00",isWorkingDay:!0},{dayOfWeek:3,openTime:"09:00",closeTime:"22:00",isWorkingDay:!0},{dayOfWeek:4,openTime:"09:00",closeTime:"22:00",isWorkingDay:!0},{dayOfWeek:5,openTime:"09:00",closeTime:"22:00",isWorkingDay:!0},{dayOfWeek:6,openTime:"09:00",closeTime:"22:00",isWorkingDay:!0},{dayOfWeek:0,openTime:"09:00",closeTime:"22:00",isWorkingDay:!0}]})},S=async()=>{if(s)try{u(!0),h("");const A={...y,branchLogoPath:y.branchLogoPath};await Mg.updateBranch(s.id,A),b(e("branchManagementBranch.messages.updateSuccess")),l(!1),await v(),setTimeout(()=>b(""),3e3)}catch(A){h(A.message||e("branchManagementBranch.messages.updateError"))}finally{u(!1)}},C=async()=>{if(s)try{u(!0),h("");const A=!s.isTemporarilyClosed;await Mg.toggleTemporaryClose(s.id,A,s.isOpenNow);const I=e(A?"branchManagementBranch.messages.temporaryCloseSuccess":"branchManagementBranch.messages.reopenSuccess");b(I),await v(),setTimeout(()=>b(""),3e3)}catch(A){h(A.message||e("branchManagementBranch.messages.statusChangeError"))}finally{u(!1)}},P=(A,I)=>{k(M=>{const F={...M},Q=A.split(".");let U=F;for(let V=0;V<Q.length-1;V++)U[Q[V]]||(U[Q[V]]={}),U=U[Q[V]];return U[Q[Q.length-1]]=I,F})},E=(A,I,M)=>{k(F=>({...F,createBranchWorkingHourCoreDto:F.createBranchWorkingHourCoreDto.map(Q=>Q.dayOfWeek===A?{...Q,[I]:M}:Q)}))};return c&&!s?r.jsx("div",{className:"flex items-center justify-center min-h-64 bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:e("branchManagementBranch.loading")})]})}):s?r.jsx("div",{className:`min-h-screen bg-gray-50 dark:bg-gray-900 ${t?"font-arabic":""}`,dir:t?"rtl":"ltr",children:r.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[g&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 border rounded-xl flex items-center transition-all duration-300",children:[r.jsx(oa,{className:"w-5 h-5 text-red-500 dark:text-red-400 mr-3 flex-shrink-0"}),r.jsx("p",{className:"text-red-700 dark:text-red-300 font-medium",children:g})]}),x&&r.jsxs("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 border rounded-xl flex items-center transition-all duration-300",children:[r.jsx(xt,{className:"w-5 h-5 text-green-500 dark:text-green-400 mr-3 flex-shrink-0"}),r.jsx("p",{className:"text-green-700 dark:text-green-300 font-medium",children:x})]}),r.jsx(Tde,{selectedBranch:s,isEditing:o,isLoading:c,t:e,isRTL:t,setIsEditing:l,handleToggleTemporaryClose:C,handleSave:S,initializeEditData:j,setEditData:k}),r.jsx(Ade,{selectedBranch:s,isEditing:o,editData:y,t:e,handleInputChange:P}),r.jsx(Ide,{selectedBranch:s,isEditing:o,editData:y,t:e,handleWorkingHourChange:E})]})}):r.jsx("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"text-lg text-gray-500",children:[r.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-12 h-12 mx-auto mb-3 text-gray-500 dark:text-gray-400",children:r.jsx("path",{d:"M12 2L2 7h20l-10-5zm0 0v20m-7-7h14"})}),r.jsx("p",{className:"text-lg font-medium",children:e("branchManagementBranch.noBranchFound")})]})})};class Ode{baseUrl="/api/BranchMoneyCase";transformActiveMoneyCase(t){return N.info("Transforming active money case",{apiResponse:t}),{id:t.branchMoneyCaseId,branchId:t.branchId,branchName:t.branch?.branchName,openingBalance:t.subTotalAmount,openedAt:t.openedAt,openedBy:t.openedByEmail,currentBalance:t.totalAmount,transactionCount:0,status:t.status?"OPEN":"CLOSED",subTotalAmount:t.subTotalAmount,serviceFeeAmount:t.serviceFeeAmount,totalAmount:t.totalAmount}}transformHistoryItem(t){return{id:t.id,branchId:t.branchId,branchName:t.branchName,openingBalance:t.subTotalAmount,closingBalance:t.totalAmount,actualCash:t.actualCash,difference:t.discrepancy,openedAt:t.openedAt,closedAt:t.closedAt||void 0,openedBy:t.openedByEmail,closedBy:t.closedByEmail||void 0,notes:t.notes||void 0,status:t.closedAt?"CLOSED":"OPEN",transactionCount:t.transactionCount,shiftDuration:t.shiftDuration}}transformZReport(t){return{moneyCaseId:t.branchMoneyCaseId,branchId:t.branchId,branchName:t.branchName,reportDate:t.closedAt||t.openedAt,openingBalance:t.subTotal,totalSales:t.totalRevenue,totalCash:t.subTotal,totalCard:t.serviceFee,totalRefunds:0,totalExpenses:0,expectedCash:t.totalRevenue,actualCash:t.actualCash,difference:t.discrepancy,transactionCount:t.transactionCount,totalOrders:t.totalOrders,openedAt:t.openedAt,closedAt:t.closedAt,shiftDuration:t.shiftDuration,openedBy:t.openedByEmail,closedBy:t.closedByEmail,notes:t.notes}}transformBranchSummary(t){return{branchId:t.branchId,branchName:t.branchName,fromDate:t.fromDate,toDate:t.toDate,totalCases:t.totalShifts,totalOpeningBalance:t.subTotal,totalClosingBalance:t.totalRevenue,totalSales:t.totalRevenue,totalCash:t.subTotal,totalCard:t.serviceFee,totalDifference:t.totalCashDiscrepancy,averageDifference:t.totalShifts>0?t.totalCashDiscrepancy/t.totalShifts:0,totalOrders:t.totalOrders,totalTransactions:t.totalTransactions,averageOrderValue:t.averageOrderValue,averageShiftDuration:t.averageShiftDuration,shiftsWithDiscrepancy:t.shiftsWithDiscrepancy}}transformRestaurantSummary(t){return{restaurantId:t.restaurantId,restaurantName:t.restaurantName,fromDate:t.fromDate,toDate:t.toDate,totalCases:t.totalShifts,totalOpeningBalance:t.subTotal,totalClosingBalance:t.totalRevenue,totalSales:t.totalRevenue,totalCash:t.subTotal,totalCard:t.serviceFee,totalDifference:t.totalCashDiscrepancy,averageDifference:t.totalShifts>0?t.totalCashDiscrepancy/t.totalShifts:0,totalOrders:t.totalOrders,totalTransactions:t.totalTransactions,averageOrderValue:t.averageOrderValue,averageShiftDuration:t.averageShiftDuration,shiftsWithDiscrepancy:t.shiftsWithDiscrepancy}}transformQuickSummary(t){return{branchId:t.branchId||void 0,branchName:t.branchName||void 0,activeCaseId:t.today.activeCaseId||void 0,isOpen:t.today.hasActiveShift,todaySales:t.today.totalRevenueToday,todayCash:t.today.currentRevenue,todayCard:t.today.closedShiftsRevenue,currentBalance:t.today.currentRevenue,transactionCount:t.today.ordersToday,lastUpdated:new Date().toISOString(),ordersToday:t.today.ordersToday,shiftStartTime:t.today.shiftStartTime||void 0,currentShiftDuration:t.today.currentShiftDuration||void 0,closedShiftsRevenue:t.today.closedShiftsRevenue,weekToDate:t.weekToDate,monthToDate:t.monthToDate}}async openMoneyCase(t){try{N.info("Kasa açılıyor",{branchId:t.branchId,openingBalance:t.openingBalance});const a=await se.post(`${this.baseUrl}/open`,t);return N.info("✅ Kasa başarıyla açıldı",{response:a.data}),this.transformActiveMoneyCase(a.data.data)}catch(a){throw N.error("❌ Kasa açılırken hata:",a),new Error(a?.response?.data?.message||"Failed to open money case")}}async closeMoneyCase(t){try{N.info("Kasa kapatılıyor",{branchId:t.branchId,actualCash:t.actualCash});const a=await se.post(`${this.baseUrl}/close`,t);N.info("✅ Kasa başarıyla kapatıldı",{response:a.data});const n=a.data.data||a.data,s={id:n.id||n.branchMoneyCaseId||0,branchId:n.branchId,branchName:n.branchName,openingBalance:n.subTotalAmount||n.openingBalance||0,closingBalance:n.totalAmount||n.closingBalance||0,actualCash:n.actualCash||0,difference:n.discrepancy??n.difference??0,openedAt:n.openedAt,closedAt:n.closedAt,openedBy:n.openedByEmail||n.openedBy,closedBy:n.closedByEmail||n.closedBy,notes:n.notes||"",status:"CLOSED",transactionCount:n.transactionCount||0,shiftDuration:n.shiftDuration};return N.info("✅ Transformed closed case:",s),s}catch(a){throw N.error("❌ Kasa kapatılırken hata:",a),new Error(a?.response?.data?.message||"Failed to close money case")}}async getActiveMoneyCase(t){try{N.info("Aktif kasa getiriliyor",{branchId:t});const a=t?{branchId:t}:{},n=await se.get(`${this.baseUrl}/active`,{params:a});if(N.info("✅ API Response:",{fullResponse:n,data:n.data,innerData:n.data?.data}),!n.data||!n.data.data)return N.info("No active money case found"),null;const s=this.transformActiveMoneyCase(n.data.data);return N.info("✅ Transformed active money case:",s),s}catch(a){if(N.error("❌ Aktif kasa getirilirken hata:",a),a?.response?.status===404)return N.info("No active case (404)"),null;throw new Error(a?.response?.data?.message||"Failed to fetch active money case")}}async getMoneyCaseHistory(t={}){try{N.info("Kasa geçmişi getiriliyor",t);const a={...t,pageSize:t.pageSize||30},n=await se.get(`${this.baseUrl}/history`,{params:a});N.info("✅ Kasa geçmişi API response:",{response:n.data});const s=(n.data.data||[]).map(c=>this.transformHistoryItem(c)),i=n.data.count||0,o=a.pageSize,l={items:s,totalCount:i,pageSize:o,currentPage:1,totalPages:Math.ceil(i/o)};return N.info("✅ Transformed history:",l),l}catch(a){return N.error("❌ Kasa geçmişi getirilirken hata:",a),{items:[],totalCount:0,pageSize:t.pageSize||30,currentPage:1,totalPages:0}}}async getZReport(t){try{N.info("Z raporu getiriliyor",{moneyCaseId:t});const a=await se.get(`${this.baseUrl}/${t}/z-report`);N.info("✅ Z raporu API response:",{response:a.data});const n=this.transformZReport(a.data.zReport);return N.info("✅ Transformed Z report:",n),n}catch(a){throw N.error("❌ Z raporu getirilirken hata:",a),new Error(a?.response?.data?.message||"Failed to fetch Z report")}}async getBranchSummary(t={}){try{N.info("Şube özet raporu getiriliyor",t);const a=await se.get(`${this.baseUrl}/summary/branch`,{params:t});N.info("✅ Şube özet raporu API response:",{response:a.data});const n=this.transformBranchSummary(a.data.data);return N.info("✅ Transformed branch summary:",n),n}catch(a){throw N.error("❌ Şube özet raporu getirilirken hata:",a),new Error(a?.response?.data?.message||"Failed to fetch branch summary")}}async getRestaurantSummary(t={}){try{N.info("Restoran özet raporu getiriliyor",t);const a=await se.get(`${this.baseUrl}/summary/restaurant`,{params:t});N.info("✅ Restoran özet raporu API response:",{response:a.data});const n=this.transformRestaurantSummary(a.data.data);return N.info("✅ Transformed restaurant summary:",n),n}catch(a){throw N.error("❌ Restoran özet raporu getirilirken hata:",a),new Error(a?.response?.data?.message||"Failed to fetch restaurant summary")}}async getQuickSummary(t){try{N.info("Hızlı özet getiriliyor",{branchId:t});const a=t?{branchId:t}:{},n=await se.get(`${this.baseUrl}/summary/quick`,{params:a});N.info("✅ Hızlı özet API response:",{response:n.data});const s=this.transformQuickSummary(n.data.data);return N.info("✅ Transformed quick summary:",s),s}catch(a){return N.error("❌ Hızlı özet getirilirken hata:",a),{isOpen:!1,todaySales:0,todayCash:0,todayCard:0,currentBalance:0,transactionCount:0,lastUpdated:new Date().toISOString(),ordersToday:0,closedShiftsRevenue:0,weekToDate:{totalRevenue:0,shiftCount:0,orderCount:0},monthToDate:{totalRevenue:0,shiftCount:0,orderCount:0}}}}async isMoneyCaseOpen(t){try{const a=await this.getActiveMoneyCase(t);return a!==null&&a.status==="OPEN"}catch(a){return N.error("❌ Kasa durumu kontrol edilirken hata:",a),!1}}async getTodayHistory(t){try{const a=new Date;a.setHours(0,0,0,0);const n=new Date(a);return n.setDate(n.getDate()+1),(await this.getMoneyCaseHistory({branchId:t,fromDate:a.toISOString(),toDate:n.toISOString(),pageSize:100})).items||[]}catch(a){return N.error("❌ Bugünkü kasa geçmişi getirilirken hata:",a),[]}}}const wl=new Ode,Dde={branches:[],selectedBranch:null,isBranchDropdownOpen:!1,activeCase:null,history:[],quickSummary:null,selectedCase:null,zReport:null,loading:!1,error:null,success:null,showOpenModal:!1,showCloseModal:!1,showZReportModal:!1,showSummaryModal:!1,openingBalance:0,actualCash:0,closingNotes:"",filters:{fromDate:"",toDate:"",status:""},pagination:{currentPage:1,itemsPerPage:10,totalItems:0}},Rde=()=>{const[e,t]=p.useState(Dde),a=p.useCallback(async()=>{t(y=>({...y,loading:!0,error:null}));try{const k=(await Mg.getBranches()).map(j=>({branchId:j.branchId,branchName:j.branchName})),v=k.length>0?k[0]:null;t(j=>({...j,branches:k,selectedBranch:v,loading:!1}))}catch(y){t(k=>({...k,error:y.message||"Failed to fetch branches",loading:!1}))}},[]),n=p.useCallback(y=>{t(k=>({...k,selectedBranch:y,isBranchDropdownOpen:!1}))},[]),s=p.useCallback(async y=>{t(k=>({...k,loading:!0,error:null}));try{const k=await wl.getActiveMoneyCase(y);t(v=>({...v,activeCase:k,loading:!1}))}catch(k){t(v=>({...v,error:k.message||"Failed to fetch active case",loading:!1,activeCase:null}))}},[]),i=p.useCallback(async y=>{try{const k=await wl.getQuickSummary(y);t(v=>({...v,quickSummary:k}))}catch(k){console.error("Failed to fetch quick summary:",k)}},[]),o=p.useCallback(async y=>{t(k=>({...k,loading:!0,error:null}));try{const k=await wl.getMoneyCaseHistory({branchId:y,fromDate:e.filters.fromDate||void 0,toDate:e.filters.toDate||void 0,pageSize:e.pagination.itemsPerPage});t(v=>({...v,history:k.items||[],pagination:{...v.pagination,totalItems:k.totalCount||0},loading:!1}))}catch(k){t(v=>({...v,error:k.message||"Failed to fetch history",loading:!1}))}},[e.filters,e.pagination.itemsPerPage]),l=p.useCallback(async()=>{if(e.selectedBranch){t(y=>({...y,loading:!0,error:null}));try{const y=await wl.openMoneyCase({branchId:e.selectedBranch.branchId,openingBalance:e.openingBalance});t(k=>({...k,activeCase:y,showOpenModal:!1,loading:!1,success:"Money case opened successfully!",openingBalance:0})),await i(e.selectedBranch.branchId),await o(e.selectedBranch.branchId),setTimeout(()=>{t(k=>({...k,success:null}))},3e3)}catch(y){t(k=>({...k,error:y.message||"Failed to open case",loading:!1}))}}},[e.selectedBranch,e.openingBalance,i,o]),c=p.useCallback(async()=>{if(!e.selectedBranch){t(y=>({...y,error:"Please select a branch first"}));return}if(e.actualCash===void 0||e.actualCash===null){t(y=>({...y,error:"Please enter actual cash amount"}));return}t(y=>({...y,loading:!0,error:null}));try{const y=await wl.closeMoneyCase({branchId:e.selectedBranch.branchId,actualCash:e.actualCash,notes:e.closingNotes});console.log("Close money case result:",y);const k=y?.difference??y?.discrepancy??0,v=typeof k=="number"?k.toFixed(2):"0.00";t(j=>({...j,activeCase:null,showCloseModal:!1,loading:!1,success:`Money case closed successfully! Difference: $${v}`,actualCash:0,closingNotes:""})),e.selectedBranch&&await Promise.all([i(e.selectedBranch.branchId),o(e.selectedBranch.branchId),s(e.selectedBranch.branchId)]),setTimeout(()=>{t(j=>({...j,success:null}))},5e3)}catch(y){console.error("Error closing money case:",y),t(k=>({...k,error:y.message||"Failed to close case",loading:!1}))}},[e.selectedBranch,e.actualCash,e.closingNotes,i,o,s]),u=p.useCallback(async y=>{t(k=>({...k,loading:!0,error:null}));try{const k=await wl.getZReport(y);t(v=>({...v,zReport:k,showZReportModal:!0,loading:!1}))}catch(k){t(v=>({...v,error:k.message||"Failed to fetch Z report",loading:!1}))}},[]),g=p.useCallback(()=>{t(y=>({...y,showOpenModal:!0}))},[]),h=p.useCallback(()=>{t(y=>({...y,showCloseModal:!0}))},[]),x=p.useCallback(()=>{t(y=>({...y,showOpenModal:!1,showCloseModal:!1,showZReportModal:!1,showSummaryModal:!1,error:null}))},[]),b=p.useCallback(()=>{t(y=>({...y,error:null}))},[]);return{state:e,actions:{fetchBranches:a,handleBranchSelect:n,fetchActiveCase:s,fetchQuickSummary:i,fetchHistory:o,handleOpenCase:l,handleCloseCase:c,fetchZReport:u,openOpenModal:g,openCloseModal:h,closeModals:x,clearError:b,setState:t}}},$de=({show:e,loading:t,activeCase:a,actualCash:n,closingNotes:s,onActualCashChange:i,onNotesChange:o,onConfirm:l,onClose:c,t:u,isRTL:g})=>{if(!e)return null;const h=a?.totalAmount||a?.currentBalance||0,x=n-h;return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:c}),r.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[r.jsx("div",{className:"bg-red-600 px-6 py-4",children:r.jsxs("div",{className:`flex items-center justify-between ${g?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${g?"flex-row-reverse":""}`,children:[r.jsx(Hl,{className:`h-6 w-6 text-white ${g?"ml-3":"mr-3"}`}),r.jsx("h3",{className:"text-lg font-medium text-white",children:u("moneyCase.closeCase")})]}),r.jsx("button",{onClick:c,className:"text-white hover:text-gray-200 transition-colors",children:r.jsx(at,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"px-6 py-4 space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-300",children:u("moneyCase.expectedCash")}),r.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",h.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ${g?"text-right":"text-left"}`,children:u("moneyCase.actualCash")}),r.jsx("input",{type:"number",value:n,onChange:b=>i(parseFloat(b.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0.00",min:"0",step:"0.01"})]}),x!==0&&r.jsx("div",{className:`p-4 rounded-lg ${x>0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"}`,children:r.jsxs("div",{className:`flex items-center ${g?"flex-row-reverse":""}`,children:[r.jsx(oa,{className:`h-5 w-5 ${x>0?"text-green-500":"text-red-500"} ${g?"ml-2":"mr-2"}`}),r.jsxs("div",{children:[r.jsx("p",{className:`text-sm font-medium ${x>0?"text-green-900 dark:text-green-300":"text-red-900 dark:text-red-300"}`,children:x>0?u("moneyCase.surplus"):u("moneyCase.shortage")}),r.jsxs("p",{className:`text-lg font-bold ${x>0?"text-green-600":"text-red-600"}`,children:["$",Math.abs(x).toFixed(2)]})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ${g?"text-right":"text-left"}`,children:u("moneyCase.notes")}),r.jsx("textarea",{value:s,onChange:b=>o(b.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent dark:bg-gray-700 dark:text-white",rows:3,placeholder:u("moneyCase.notesPlaceholder")})]})]}),r.jsxs("div",{className:`bg-gray-50 dark:bg-gray-700 px-6 py-4 flex gap-3 ${g?"flex-row-reverse":""}`,children:[r.jsx("button",{onClick:l,disabled:t,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u(t?"common.loading":"moneyCase.confirmClose")}),r.jsx("button",{onClick:c,disabled:t,className:"flex-1 px-4 py-2 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 font-medium rounded-lg transition-colors",children:u("common.cancel")})]})]})]})})},Bde=({t:e})=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-lg",children:r.jsx(Qr,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e("moneyCase.title")||"Money Case Management"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e("moneyCase.subtitle")||"Manage your branch cash operations"})]})]}),Lde=({quickSummary:e,activeCase:t,loading:a,t:n,isRTL:s})=>{if(console.log("QuickSummaryCards - activeCase:",t),console.log("QuickSummaryCards - quickSummary:",e),console.log("QuickSummaryCards - loading:",a),a&&!t&&!e)return r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[1,2,3,4].map(h=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-2"}),r.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-3/4"})]},h))});const i=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(h),o=e?.isOpen??(t!==null&&t.status==="OPEN"),l=e?.todaySales??t?.totalAmount??0,c=e?.todayCash??t?.subTotalAmount??0,u=e?.closedShiftsRevenue??0,g=e?.ordersToday??0;return console.log("Calculated values:",{isOpen:o,todaySales:l,currentRevenue:c,closedRevenue:u,ordersToday:g}),r.jsxs("div",{className:"space-y-6 mb-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border-l-4 ${o?"border-green-500":"border-red-500"}`,children:r.jsxs("div",{className:`flex items-center justify-between ${s?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:n("moneyCase.status")}),r.jsx("p",{className:`text-2xl font-bold mt-1 ${o?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:n(o?"moneyCase.open":"moneyCase.closed")})]}),o?r.jsx(zt,{className:"h-8 w-8 text-green-500"}):r.jsx(lt,{className:"h-8 w-8 text-red-500"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border-l-4 border-blue-500",children:r.jsxs("div",{className:`flex items-center justify-between ${s?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:n("moneyCase.todayTotalSales")}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:i(l)}),u>0&&r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[n("moneyCase.closedShifts"),": ",i(u)]})]}),r.jsx(Ho,{className:"h-8 w-8 text-blue-500 flex-shrink-0"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border-l-4 border-yellow-500",children:r.jsxs("div",{className:`flex items-center justify-between ${s?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:n("moneyCase.currentShiftRevenue")}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:i(c)})]}),r.jsx(Qr,{className:"h-8 w-8 text-yellow-500 flex-shrink-0"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border-l-4 border-purple-500",children:r.jsxs("div",{className:`flex items-center justify-between ${s?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:n("moneyCase.ordersToday")}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:g})]}),r.jsx(Aa,{className:"h-8 w-8 text-purple-500 flex-shrink-0"})]})})]}),e&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-4 ${s?"flex-row-reverse":""}`,children:[r.jsx(Fa,{className:"h-5 w-5 text-blue-500"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("moneyCase.weekToDate")})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n("moneyCase.totalRevenue")}),r.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:i(e.weekToDate.totalRevenue)})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n("moneyCase.shifts")}),r.jsx("span",{className:"text-base font-medium text-gray-900 dark:text-white",children:e.weekToDate.shiftCount})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n("moneyCase.orders")}),r.jsx("span",{className:"text-base font-medium text-gray-900 dark:text-white",children:e.weekToDate.orderCount})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-4 ${s?"flex-row-reverse":""}`,children:[r.jsx(Fa,{className:"h-5 w-5 text-green-500"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("moneyCase.monthToDate")})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n("moneyCase.totalRevenue")}),r.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:i(e.monthToDate.totalRevenue)})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n("moneyCase.shifts")}),r.jsx("span",{className:"text-base font-medium text-gray-900 dark:text-white",children:e.monthToDate.shiftCount})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n("moneyCase.orders")}),r.jsx("span",{className:"text-base font-medium text-gray-900 dark:text-white",children:e.monthToDate.orderCount})]})]})]})]})]})},_de=({activeCase:e,loading:t,onOpenCase:a,onCloseCase:n,t:s,isRTL:i})=>r.jsx("div",{className:`flex gap-4 mb-6 ${i?"flex-row-reverse":""}`,children:e?r.jsxs("button",{onClick:n,disabled:t,className:`flex items-center px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${i?"flex-row-reverse":""}`,children:[r.jsx(Hl,{className:`h-5 w-5 ${i?"ml-2":"mr-2"}`}),s("moneyCase.closeCase")]}):r.jsxs("button",{onClick:a,disabled:t,className:`flex items-center px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${i?"flex-row-reverse":""}`,children:[r.jsx(uM,{className:`h-5 w-5 ${i?"ml-2":"mr-2"}`}),s("moneyCase.openCase")]})}),Fde=({show:e,zReport:t,loading:a,onClose:n,t:s,isRTL:i})=>{if(console.log("ZReportModal - zReport:",t),console.log("ZReportModal - loading:",a),!e)return null;const o=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(h),l=h=>new Date(h).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=h=>{if(!h)return"-";const x=h.split(":");if(x.length>=3){const b=parseInt(x[0]),y=parseInt(x[1]),k=parseInt(x[2].split(".")[0]);return`${b}h ${y}m ${k}s`}return h},u=()=>{window.print()},g=()=>{if(!t)return;const h=`
Z REPORT
========================================
Branch: ${t.branchName}
Report Date: ${l(t.reportDate)}
Money Case ID: ${t.moneyCaseId}

OPENING INFORMATION
----------------------------------------
Opened At: ${l(t.openedAt)}
Opened By: ${t.openedBy}
Opening Balance: ${o(t.openingBalance)}

SALES SUMMARY
----------------------------------------
Total Orders: ${t.totalOrders}
Transaction Count: ${t.transactionCount}
Subtotal (Cash): ${o(t.totalCash)}
Service Fee (Card): ${o(t.totalCard)}
Total Revenue: ${o(t.totalSales)}

CLOSING INFORMATION
----------------------------------------
Closed At: ${l(t.closedAt)}
Closed By: ${t.closedBy}
Shift Duration: ${c(t.shiftDuration)}
Expected Cash: ${o(t.expectedCash)}
Actual Cash: ${o(t.actualCash)}
Difference: ${o(t.difference)}

NOTES
----------------------------------------
${t.notes||"No notes"}

========================================
Generated: ${new Date().toLocaleString()}
    `,x=new Blob([h],{type:"text/plain"}),b=URL.createObjectURL(x),y=document.createElement("a");y.href=b,y.download=`z-report-${t.moneyCaseId}-${new Date().getTime()}.txt`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(b)};return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:n}),r.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full",children:[r.jsx("div",{className:"bg-blue-600 px-6 py-4",children:r.jsxs("div",{className:`flex items-center justify-between ${i?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${i?"flex-row-reverse":""}`,children:[r.jsx(da,{className:`h-6 w-6 text-white ${i?"ml-3":"mr-3"}`}),r.jsx("h3",{className:"text-lg font-medium text-white",children:s("moneyCase.zReport")})]}),r.jsxs("div",{className:`flex items-center gap-2 ${i?"flex-row-reverse":""}`,children:[r.jsx("button",{onClick:u,className:"p-2 text-white hover:bg-blue-700 rounded-lg transition-colors",title:s("common.print"),children:r.jsx(lM,{className:"h-5 w-5"})}),r.jsx("button",{onClick:g,className:"p-2 text-white hover:bg-blue-700 rounded-lg transition-colors",title:s("common.download"),children:r.jsx(Uu,{className:"h-5 w-5"})}),r.jsx("button",{onClick:n,className:"p-2 text-white hover:bg-blue-700 rounded-lg transition-colors",children:r.jsx(at,{className:"h-5 w-5"})})]})]})}),a?r.jsx("div",{className:"px-6 py-12 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?r.jsxs("div",{className:"px-6 py-6 space-y-6",id:"z-report-content",children:[r.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:t.branchName}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[s("moneyCase.reportDate"),":"]}),r.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:l(t.reportDate)})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[s("moneyCase.caseId"),":"]}),r.jsxs("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:["#",t.moneyCaseId]})]})]})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"text-md font-semibold text-gray-900 dark:text-white mb-3",children:s("moneyCase.openingInformation")}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("moneyCase.openedAt")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:l(t.openedAt)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("moneyCase.openedBy")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:t.openedBy})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("moneyCase.openingBalance")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:o(t.openingBalance)})]})]})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"text-md font-semibold text-gray-900 dark:text-white mb-3",children:s("moneyCase.salesSummary")}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:s("moneyCase.totalRevenue")}),r.jsx("span",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:o(t.totalSales)})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-blue-200 dark:border-blue-800",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s("moneyCase.totalOrders")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:t.totalOrders})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s("moneyCase.transactionCount")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:t.transactionCount})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s("moneyCase.subtotal")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:o(t.totalCash)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s("moneyCase.serviceFee")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:o(t.totalCard)})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"text-md font-semibold text-gray-900 dark:text-white mb-3",children:s("moneyCase.closingInformation")}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("moneyCase.closedAt")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:l(t.closedAt)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("moneyCase.closedBy")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:t.closedBy})]})]}),r.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-gray-200 dark:border-gray-600",children:[r.jsx(zt,{className:"h-4 w-4 text-gray-500"}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s("moneyCase.shiftDuration"),":"]}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:c(t.shiftDuration)})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-3 border-t border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("moneyCase.expectedCash")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:o(t.expectedCash)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("moneyCase.actualCash")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:o(t.actualCash)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("moneyCase.difference")}),r.jsxs("p",{className:`text-lg font-bold ${t.difference>0?"text-green-600 dark:text-green-400":t.difference<0?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:[t.difference>0?"+":"",o(t.difference)]})]})]})]})]}),t.notes&&r.jsxs("div",{children:[r.jsx("h5",{className:"text-md font-semibold text-gray-900 dark:text-white mb-3",children:s("moneyCase.notes")}),r.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:t.notes})})]})]}):r.jsx("div",{className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:s("moneyCase.noReportData")}),r.jsx("div",{className:`bg-gray-50 dark:bg-gray-700 px-6 py-4 flex justify-end ${i?"flex-row-reverse":""}`,children:r.jsx("button",{onClick:n,className:"px-6 py-2 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 font-medium rounded-lg transition-colors",children:s("common.close")})})]})]})})},zde=({show:e,loading:t,openingBalance:a,onOpeningBalanceChange:n,onConfirm:s,onClose:i,t:o,isRTL:l})=>e?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:i}),r.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[r.jsx("div",{className:"bg-green-600 px-6 py-4",children:r.jsxs("div",{className:`flex items-center justify-between ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${l?"flex-row-reverse":""}`,children:[r.jsx(uM,{className:`h-6 w-6 text-white ${l?"ml-3":"mr-3"}`}),r.jsx("h3",{className:"text-lg font-medium text-white",children:o("moneyCase.openCase")})]}),r.jsx("button",{onClick:i,className:"text-white hover:text-gray-200 transition-colors",children:r.jsx(at,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"px-6 py-4",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ${l?"text-right":"text-left"}`,children:o("moneyCase.openingBalance")}),r.jsx("input",{type:"number",value:a,onChange:c=>n(parseFloat(c.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0.00",min:"0",step:"0.01"})]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o("moneyCase.openingBalanceDescription")})]}),r.jsxs("div",{className:`bg-gray-50 dark:bg-gray-700 px-6 py-4 flex gap-3 ${l?"flex-row-reverse":""}`,children:[r.jsx("button",{onClick:s,disabled:t,className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o(t?"common.loading":"moneyCase.confirm")}),r.jsx("button",{onClick:i,disabled:t,className:"flex-1 px-4 py-2 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 font-medium rounded-lg transition-colors",children:o("common.cancel")})]})]})]})}):null,Ude=({history:e,loading:t,onViewZReport:a,t:n,isRTL:s})=>{const i=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(u),o=u=>new Date(u).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),l=u=>{const g={OPEN:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",CLOSED:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",PENDING:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"};return r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${g[u]||g.CLOSED}`,children:u})},c=u=>u===void 0||u===0?null:r.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${u>0?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[u>0?r.jsx(Ho,{className:"h-3 w-3"}):r.jsx(DF,{className:"h-3 w-3"}),i(Math.abs(u))]});return t&&e.length===0?r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("moneyCase.history")})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(u=>r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("div",{className:"h-12 bg-gray-200 dark:bg-gray-700 rounded w-full"})},u))})})]}):r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:[r.jsxs("div",{className:`px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between ${s?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${s?"flex-row-reverse":""}`,children:[r.jsx(Fa,{className:`h-5 w-5 text-gray-400 ${s?"ml-2":"mr-2"}`}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("moneyCase.history")})]}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.length," ",n("moneyCase.records")]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider ${s?"text-right":"text-left"}`,children:n("moneyCase.date")}),r.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider ${s?"text-right":"text-left"}`,children:n("moneyCase.openingBalance")}),r.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider ${s?"text-right":"text-left"}`,children:n("moneyCase.closingBalance")}),r.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider ${s?"text-right":"text-left"}`,children:n("moneyCase.actualCash")}),r.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider ${s?"text-right":"text-left"}`,children:n("moneyCase.difference")}),r.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider ${s?"text-right":"text-left"}`,children:n("moneyCase.status")}),r.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider ${s?"text-right":"text-left"}`,children:n("common.actions")})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:r.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-500 dark:text-gray-400",children:[r.jsx(da,{className:"h-12 w-12 mb-4 text-gray-400"}),r.jsx("p",{className:"text-lg font-medium",children:n("moneyCase.noHistory")}),r.jsx("p",{className:"text-sm",children:n("moneyCase.noHistoryDescription")})]})})}):e.map(u=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900 dark:text-white font-medium",children:o(u.openedAt)}),u.closedAt&&r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[n("moneyCase.closedAt"),": ",o(u.closedAt)]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:i(u.openingBalance)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:u.closingBalance?i(u.closingBalance):"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:u.actualCash?i(u.actualCash):"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c(u.difference)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l(u.status)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:u.status==="CLOSED"&&r.jsxs("button",{onClick:()=>a(u.id),className:`flex items-center text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium transition-colors ${s?"flex-row-reverse":""}`,children:[r.jsx(da,{className:`h-4 w-4 ${s?"ml-1":"mr-1"}`}),n("moneyCase.viewZReport")]})})]},u.id))})]})}),e.length>0&&r.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[n("moneyCase.lastUpdated"),": ",o(e[0]?.openedAt||new Date().toISOString())]})})]})},qde=({error:e,onClose:t})=>e?r.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-md animate-slide-in",children:r.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg shadow-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(lt,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Error"}),r.jsx("p",{className:"mt-1 text-sm text-red-700 dark:text-red-400",children:e})]}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:r.jsx("button",{onClick:t,className:"inline-flex text-red-400 hover:text-red-500 dark:text-red-300 dark:hover:text-red-200 transition-colors",children:r.jsx(at,{className:"h-5 w-5"})})})]})})}):null,Wde=({message:e})=>{const[t,a]=p.useState(!1);return p.useEffect(()=>{if(e){a(!0);const n=setTimeout(()=>{a(!1)},5e3);return()=>clearTimeout(n)}else a(!1)},[e]),!t||!e?null:r.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-md animate-slide-in",children:r.jsx("div",{className:"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg shadow-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(xt,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("h3",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Success"}),r.jsx("p",{className:"mt-1 text-sm text-green-700 dark:text-green-400",children:e})]}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:r.jsx("button",{onClick:()=>a(!1),className:"inline-flex text-green-400 hover:text-green-500 dark:text-green-300 dark:hover:text-green-200 transition-colors",children:r.jsx(at,{className:"h-5 w-5"})})})]})})})},Vde=({summary:e,loading:t,t:a,isRTL:n})=>{const s=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(o),i=o=>{if(!o)return"-";const l=o.split(":");if(l.length>=3){const c=parseInt(l[0]),u=parseInt(l[1]);return`${c}h ${u}m`}return o};return t?r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),r.jsx("div",{className:"space-y-3",children:[1,2,3].map(o=>r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"},o))})]}):e?r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:a("moneyCase.periodSummary")}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a("moneyCase.totalRevenue")}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s(e.totalSales)})]}),r.jsx(Ho,{className:"h-8 w-8 text-blue-500"})]})}),r.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a("moneyCase.totalOrders")}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.totalOrders})]}),r.jsx(Aa,{className:"h-8 w-8 text-green-500"})]})}),r.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a("moneyCase.avgOrderValue")}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s(e.averageOrderValue)})]}),r.jsx(Qr,{className:"h-8 w-8 text-yellow-500"})]})}),r.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a("moneyCase.totalDiscrepancy")}),r.jsx("p",{className:`text-xl font-bold ${e.totalDifference>0?"text-green-600":e.totalDifference<0?"text-red-600":"text-gray-900 dark:text-white"}`,children:s(e.totalDifference)})]}),r.jsx(oa,{className:"h-8 w-8 text-red-500"})]})})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a("moneyCase.totalShifts")}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.totalCases})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a("moneyCase.avgShiftDuration")}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:i(e.averageShiftDuration)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a("moneyCase.totalTransactions")}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.totalTransactions})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a("moneyCase.shiftsWithIssues")}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.shiftsWithDiscrepancy})]})]})}),e.fromDate&&e.toDate&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 text-xs text-gray-500 dark:text-gray-400",children:[a("moneyCase.period"),": ",new Date(e.fromDate).toLocaleDateString()," - ",new Date(e.toDate).toLocaleDateString()]})]}):null},Hde=()=>{const{t:e,language:t,isRTL:a}=qe(),{state:n,actions:{fetchBranches:s,handleBranchSelect:i,fetchActiveCase:o,fetchQuickSummary:l,fetchHistory:c,handleOpenCase:u,handleCloseCase:g,fetchZReport:h,openOpenModal:x,openCloseModal:b,closeModals:y,clearError:k,setState:v}}=Rde(),j=p.useRef(null);si(j,()=>v(M=>({...M,isBranchDropdownOpen:!1}))),p.useEffect(()=>{s()},[s]),p.useEffect(()=>{if(n.selectedBranch){const M=n.selectedBranch.branchId;o(M),l(M),c(M)}},[n.selectedBranch,o,l,c]);const[S,C]=p.useState(!1),[P,E]=p.useState(null),A=async()=>{if(n.selectedBranch)try{const M=await wl.getBranchSummary({branchId:n.selectedBranch.branchId,fromDate:new Date(Date.now()-2592e6).toISOString(),toDate:new Date().toISOString()});E(M)}catch(M){console.error("Failed to fetch branch summary:",M)}},I=()=>{v(M=>({...M,isBranchDropdownOpen:!M.isBranchDropdownOpen}))};return!n.selectedBranch&&!n.loading?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Qr,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg mb-6",children:e("moneyCase.selectBranch")||"Select a branch to manage money case"}),r.jsxs("div",{className:"relative inline-block",ref:j,children:[r.jsxs("button",{onClick:I,className:`flex items-center justify-between min-w-[250px] px-6 py-3 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-sm ${a?"flex-row-reverse":""}`,children:[r.jsxs("span",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx(Ht,{className:`h-5 w-5 text-gray-500 dark:text-gray-400 ${a?"ml-3":"mr-3"}`}),e("moneyCase.selectBranchToView")||"Select Branch"]}),r.jsx(lr,{className:`h-4 w-4 transition-transform duration-200 ${n.isBranchDropdownOpen?"transform rotate-180":""} ${a?"mr-3":"ml-3"}`})]}),n.isBranchDropdownOpen&&r.jsx("div",{className:`absolute z-20 mt-2 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 max-h-60 overflow-auto ${a?"right-0":"left-0"}`,children:n.branches.length===0?r.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:e("moneyCase.noBranches")||"No branches available"}):n.branches.map(M=>r.jsx("button",{onClick:()=>i(M),className:`w-full px-4 py-3 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200 ${a?"text-right":"text-left"}`,children:M.branchName},M.branchId))})]})]})})})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:`flex items-center justify-between mb-8 ${a?"flex-row-reverse":""}`,children:[r.jsx(Bde,{t:e}),r.jsxs("div",{className:"relative",ref:j,children:[r.jsxs("button",{onClick:I,className:`flex items-center justify-between min-w-[200px] px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-sm ${a?"flex-row-reverse":""}`,"aria-label":e("moneyCase.branchSelector"),children:[r.jsxs("span",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx(Ht,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 ${a?"ml-2":"mr-2"}`}),n.selectedBranch?n.selectedBranch.branchName:e("moneyCase.selectBranch")]}),r.jsx(lr,{className:`h-4 w-4 transition-transform duration-200 ${n.isBranchDropdownOpen?"transform rotate-180":""} ${a?"mr-2":"ml-2"}`})]}),n.isBranchDropdownOpen&&r.jsx("div",{className:`absolute z-20 mt-1 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 max-h-60 overflow-auto ${a?"right-0":"left-0"}`,children:n.branches.length===0?r.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:e("moneyCase.noBranches")}):n.branches.map(M=>r.jsx("button",{onClick:()=>i(M),className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${n.selectedBranch?.branchId===M.branchId?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-200"} ${a?"text-right":"text-left"}`,children:M.branchName},M.branchId))})]})]}),r.jsx(qde,{error:n.error,onClose:k}),r.jsx(Wde,{message:n.success}),r.jsx(Lde,{quickSummary:n.quickSummary,activeCase:n.activeCase,loading:n.loading,t:e,isRTL:a}),r.jsxs("button",{onClick:()=>{C(!S),S||A()},className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded-lg",children:[S?"Hide":"Show"," Summary"]}),S&&r.jsx(Vde,{summary:P,loading:!1,t:e,isRTL:a}),r.jsx(_de,{activeCase:n.activeCase,loading:n.loading,onOpenCase:x,onCloseCase:b,t:e,isRTL:a}),r.jsx(Ude,{history:n.history,loading:n.loading,onViewZReport:h,t:e,isRTL:a}),r.jsx(zde,{show:n.showOpenModal,loading:n.loading,openingBalance:n.openingBalance,onOpeningBalanceChange:M=>v(F=>({...F,openingBalance:M})),onConfirm:u,onClose:y,t:e,isRTL:a}),r.jsx($de,{show:n.showCloseModal,loading:n.loading,activeCase:n.activeCase,actualCash:n.actualCash,closingNotes:n.closingNotes,onActualCashChange:M=>v(F=>({...F,actualCash:M})),onNotesChange:M=>v(F=>({...F,closingNotes:M})),onConfirm:g,onClose:y,t:e,isRTL:a}),r.jsx(Fde,{show:n.showZReportModal,zReport:n.zReport,loading:n.loading,onClose:y,t:e,isRTL:a})]})})},Kde=()=>{const e=ys(),t=ya(),{clearAuth:a}=ew(),{language:n}=qe(),s=n==="ar",[i,o]=p.useState(!1),[l,c]=p.useState(null),[u,g]=p.useState(()=>e.pathname.split("/")[2]||"overview");p.useEffect(()=>{const U=e.pathname.split("/")[2]||"overview";g(U)},[e.pathname]);const[h,x]=p.useState(null),[b,y]=p.useState(!0),[k,v]=p.useState(null);p.useEffect(()=>{sn.getRestaurantManagementInfo().then(U=>{x(U),y(!1)}).catch(U=>{N.error("Restaurant bilgileri alınırken hata",U),v("Restaurant bilgileri alınamadı"),y(!1)})},[]);const j=(()=>{const U=Tl(h?.restaurantName??"");if(U)return U;const V=Tl(localStorage.getItem("restaurantName")??"");if(V)return V;const K=localStorage.getItem("token");if(K){const Z=jm(K),ie=Tl(Z?.restaurant_name??"");if(ie)return ie}return""})(),S=l?.name??null,C=!1,P=!b&&!k&&h!==null,E=()=>{a(),t("/",{replace:!0})},A=U=>{N.info("Search query",{query:U})},I=U=>{N.info("Search result clicked",{result:U})},M=U=>{t(`/dashboard/${U}`),g(U)},F=U=>{c(U)},Q=()=>{c(null)};return r.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[P?r.jsx(Eq,{isOpen:i,onClose:()=>o(!1),activeTab:u,setActiveTab:g,restaurantName:j,branchName:S,isBranchOnly:C,onLogout:E,onSelectBranch:F,onBackToMain:Q}):r.jsx(tH,{isOpen:i,onClose:()=>o(!1),onLogout:E,activeTab:u,setActiveTab:g,restaurantName:"",branchName:null,isBranchOnly:!1,onSelectBranch:function(U){throw new Error("Function not implemented.")},onBackToMain:function(){throw new Error("Function not implemented.")}}),r.jsxs("div",{className:`flex-1 flex flex-col overflow-hidden ${s?"lg:mr-64":"lg:ml-64"}`,children:[r.jsx(Iq,{toggleSidebar:()=>o(!i),activeTab:u,branchName:S,onLogout:E,onSearch:A,onSearchResultClick:I,isBranchOnly:C,onTabChange:M}),r.jsxs("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 dark:bg-gray-900 p-6 pt-24",children:[r.jsx(XV,{showAlways:!1}),u==="overview"&&r.jsx(ede,{}),u==="RestaurantManagement"&&r.jsx(Sde,{}),u==="ResturantOrders"&&r.jsx(ude,{}),u==="products"&&r.jsx(QV,{}),u==="ingredients"&&r.jsx(eH,{}),u==="branches"&&r.jsx(Lq,{}),u==="tables"&&r.jsx(sde,{selectedBranch:l}),u==="restaurant-management"&&r.jsx(YV,{}),u==="users"&&r.jsx(zq,{}),u==="profile"&&r.jsx(Hq,{}),u==="subscription"&&r.jsx(Kq,{}),u==="orderTypeResturant"&&r.jsx(cde,{}),u==="ResturantSettings"&&r.jsx(fde,{}),u==="RecycleBin"&&r.jsx(xde,{}),u==="branchProducts"&&r.jsx(lH,{}),u==="TableManagement"&&r.jsx(gH,{}),u==="BranchManagement"&&r.jsx(Ede,{}),u==="orderType"&&r.jsx(pH,{}),u==="Branchorders"&&r.jsx(dde,{}),u==="BranchSettings"&&r.jsx(hde,{}),u==="moneyCase"&&r.jsx(Hde,{})]})]})]})};var xk=function(){return xk=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},xk.apply(this,arguments)};function hi(e,t,a,n){function s(i){return i instanceof a?i:new a(function(o){o(i)})}return new(a||(a=Promise))(function(i,o){function l(g){try{u(n.next(g))}catch(h){o(h)}}function c(g){try{u(n.throw(g))}catch(h){o(h)}}function u(g){g.done?i(g.value):s(g.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function pi(e,t){var a={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(g){return c([u,g])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,s=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){a=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(u[0]===6&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(g){u=[6,g],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function cR(e,t,a){if(a||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var uR="4.6.2";function Fh(e,t){return new Promise(function(a){return setTimeout(a,e,t)})}function Gde(){return new Promise(function(e){var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(null)})}function Qde(e,t){t===void 0&&(t=1/0);var a=window.requestIdleCallback;return a?new Promise(function(n){return a.call(window,function(){return n()},{timeout:t})}):Fh(Math.min(e,t))}function mR(e){return!!e&&typeof e.then=="function"}function JT(e,t){try{var a=e();mR(a)?a.then(function(n){return t(!0,n)},function(n){return t(!1,n)}):t(!0,a)}catch(n){t(!1,n)}}function e3(e,t,a){return a===void 0&&(a=16),hi(this,void 0,void 0,function(){var n,s,i,o;return pi(this,function(l){switch(l.label){case 0:n=Array(e.length),s=Date.now(),i=0,l.label=1;case 1:return i<e.length?(n[i]=t(e[i],i),o=Date.now(),o>=s+a?(s=o,[4,Gde()]):[3,3]):[3,4];case 2:l.sent(),l.label=3;case 3:return++i,[3,1];case 4:return[2,n]}})})}function dm(e){return e.then(void 0,function(){}),e}function Yde(e,t){for(var a=0,n=e.length;a<n;++a)if(e[a]===t)return!0;return!1}function Xde(e,t){return!Yde(e,t)}function vN(e){return parseInt(e)}function As(e){return parseFloat(e)}function Si(e,t){return typeof e=="number"&&isNaN(e)?t:e}function mn(e){return e.reduce(function(t,a){return t+(a?1:0)},0)}function gR(e,t){if(t===void 0&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var a=1/t;return Math.round(e*a)/a}function Zde(e){for(var t,a,n="Unexpected syntax '".concat(e,"'"),s=/^\s*([a-z-]*)(.*)$/i.exec(e),i=s[1]||void 0,o={},l=/([.:#][\w-]+|\[.+?\])/gi,c=function(x,b){o[x]=o[x]||[],o[x].push(b)};;){var u=l.exec(s[2]);if(!u)break;var g=u[0];switch(g[0]){case".":c("class",g.slice(1));break;case"#":c("id",g.slice(1));break;case"[":{var h=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(g);if(h)c(h[1],(a=(t=h[4])!==null&&t!==void 0?t:h[5])!==null&&a!==void 0?a:"");else throw new Error(n);break}default:throw new Error(n)}}return[i,o]}function Jde(e){for(var t=new Uint8Array(e.length),a=0;a<e.length;a++){var n=e.charCodeAt(a);if(n>127)return new TextEncoder().encode(e);t[a]=n}return t}function Ao(e,t){var a=e[0]>>>16,n=e[0]&65535,s=e[1]>>>16,i=e[1]&65535,o=t[0]>>>16,l=t[0]&65535,c=t[1]>>>16,u=t[1]&65535,g=0,h=0,x=0,b=0;b+=i+u,x+=b>>>16,b&=65535,x+=s+c,h+=x>>>16,x&=65535,h+=n+l,g+=h>>>16,h&=65535,g+=a+o,g&=65535,e[0]=g<<16|h,e[1]=x<<16|b}function ls(e,t){var a=e[0]>>>16,n=e[0]&65535,s=e[1]>>>16,i=e[1]&65535,o=t[0]>>>16,l=t[0]&65535,c=t[1]>>>16,u=t[1]&65535,g=0,h=0,x=0,b=0;b+=i*u,x+=b>>>16,b&=65535,x+=s*u,h+=x>>>16,x&=65535,x+=i*c,h+=x>>>16,x&=65535,h+=n*u,g+=h>>>16,h&=65535,h+=s*c,g+=h>>>16,h&=65535,h+=i*l,g+=h>>>16,h&=65535,g+=a*u+n*c+s*l+i*o,g&=65535,e[0]=g<<16|h,e[1]=x<<16|b}function Bd(e,t){var a=e[0];t%=64,t===32?(e[0]=e[1],e[1]=a):t<32?(e[0]=a<<t|e[1]>>>32-t,e[1]=e[1]<<t|a>>>32-t):(t-=32,e[0]=e[1]<<t|a>>>32-t,e[1]=a<<t|e[1]>>>32-t)}function Dn(e,t){t%=64,t!==0&&(t<32?(e[0]=e[1]>>>32-t,e[1]=e[1]<<t):(e[0]=e[1]<<t-32,e[1]=0))}function Sr(e,t){e[0]^=t[0],e[1]^=t[1]}var ece=[4283543511,3981806797],tce=[3301882366,444984403];function t3(e){var t=[0,e[0]>>>1];Sr(e,t),ls(e,ece),t[1]=e[0]>>>1,Sr(e,t),ls(e,tce),t[1]=e[0]>>>1,Sr(e,t)}var fg=[2277735313,289559509],xg=[1291169091,658871167],r3=[0,5],rce=[0,1390208809],ace=[0,944331445];function nce(e,t){var a=Jde(e);t=t||0;var n=[0,a.length],s=n[1]%16,i=n[1]-s,o=[0,t],l=[0,t],c=[0,0],u=[0,0],g;for(g=0;g<i;g=g+16)c[0]=a[g+4]|a[g+5]<<8|a[g+6]<<16|a[g+7]<<24,c[1]=a[g]|a[g+1]<<8|a[g+2]<<16|a[g+3]<<24,u[0]=a[g+12]|a[g+13]<<8|a[g+14]<<16|a[g+15]<<24,u[1]=a[g+8]|a[g+9]<<8|a[g+10]<<16|a[g+11]<<24,ls(c,fg),Bd(c,31),ls(c,xg),Sr(o,c),Bd(o,27),Ao(o,l),ls(o,r3),Ao(o,rce),ls(u,xg),Bd(u,33),ls(u,fg),Sr(l,u),Bd(l,31),Ao(l,o),ls(l,r3),Ao(l,ace);c[0]=0,c[1]=0,u[0]=0,u[1]=0;var h=[0,0];switch(s){case 15:h[1]=a[g+14],Dn(h,48),Sr(u,h);case 14:h[1]=a[g+13],Dn(h,40),Sr(u,h);case 13:h[1]=a[g+12],Dn(h,32),Sr(u,h);case 12:h[1]=a[g+11],Dn(h,24),Sr(u,h);case 11:h[1]=a[g+10],Dn(h,16),Sr(u,h);case 10:h[1]=a[g+9],Dn(h,8),Sr(u,h);case 9:h[1]=a[g+8],Sr(u,h),ls(u,xg),Bd(u,33),ls(u,fg),Sr(l,u);case 8:h[1]=a[g+7],Dn(h,56),Sr(c,h);case 7:h[1]=a[g+6],Dn(h,48),Sr(c,h);case 6:h[1]=a[g+5],Dn(h,40),Sr(c,h);case 5:h[1]=a[g+4],Dn(h,32),Sr(c,h);case 4:h[1]=a[g+3],Dn(h,24),Sr(c,h);case 3:h[1]=a[g+2],Dn(h,16),Sr(c,h);case 2:h[1]=a[g+1],Dn(h,8),Sr(c,h);case 1:h[1]=a[g],Sr(c,h),ls(c,fg),Bd(c,31),ls(c,xg),Sr(o,c)}return Sr(o,n),Sr(l,n),Ao(o,l),Ao(l,o),t3(o),t3(l),Ao(o,l),Ao(l,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(l[0]>>>0).toString(16)).slice(-8)+("00000000"+(l[1]>>>0).toString(16)).slice(-8)}function sce(e){var t;return xk({name:e.name,message:e.message,stack:(t=e.stack)===null||t===void 0?void 0:t.split(`
`)},e)}function ice(e){return/^function\s.*?\{\s*\[native code]\s*}$/.test(String(e))}function oce(e){return typeof e!="function"}function lce(e,t){var a=dm(new Promise(function(n){var s=Date.now();JT(e.bind(null,t),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var l=Date.now()-s;if(!i[0])return n(function(){return{error:i[1],duration:l}});var c=i[1];if(oce(c))return n(function(){return{value:c,duration:l}});n(function(){return new Promise(function(u){var g=Date.now();JT(c,function(){for(var h=[],x=0;x<arguments.length;x++)h[x]=arguments[x];var b=l+Date.now()-g;if(!h[0])return u({error:h[1],duration:b});u({value:h[1],duration:b})})})})})}));return function(){return a.then(function(s){return s()})}}function dce(e,t,a,n){var s=Object.keys(e).filter(function(o){return Xde(a,o)}),i=dm(e3(s,function(o){return lce(e[o],t)},n));return function(){return hi(this,void 0,void 0,function(){var l,c,u,g,h;return pi(this,function(x){switch(x.label){case 0:return[4,i];case 1:return l=x.sent(),[4,e3(l,function(b){return dm(b())},n)];case 2:return c=x.sent(),[4,Promise.all(c)];case 3:for(u=x.sent(),g={},h=0;h<s.length;++h)g[s[h]]=u[h];return[2,g]}})})}}function hR(){var e=window,t=navigator;return mn(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function cce(){var e=window,t=navigator;return mn(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!hR()}function zm(){var e=window,t=navigator;return mn(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,(t.vendor||"").indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function Ks(){var e=window,t=navigator;return mn(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,t.vendor.indexOf("Apple")===0,"RGBColor"in e,"WebKitMediaKeys"in e])>=4}function kN(){var e=window,t=e.HTMLElement,a=e.Document;return mn(["safari"in e,!("ongestureend"in e),!("TouchEvent"in e),!("orientation"in e),t&&!("autocapitalize"in t.prototype),a&&"pointerLockElement"in a.prototype])>=4}function Um(){var e=window;return ice(e.print)&&String(e.browser)==="[object WebPageNamespace]"}function pR(){var e,t,a=window;return mn(["buildID"in navigator,"MozAppearance"in((t=(e=document.documentElement)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{}),"onmozfullscreenchange"in a,"mozInnerScreenX"in a,"CSSMozDocumentRule"in a,"CanvasCaptureMediaStream"in a])>=4}function uce(){var e=window;return mn([!("MediaSettingsRange"in e),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3}function mce(){var e=window,t=e.URLPattern;return mn(["union"in Set.prototype,"Iterator"in e,t&&"hasRegExpGroups"in t.prototype,"RGB8"in WebGLRenderingContext.prototype])>=3}function gce(){var e=window;return mn(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}function qm(){var e=window,t=navigator,a=e.CSS,n=e.HTMLButtonElement;return mn([!("getStorageUpdates"in t),n&&"popover"in n.prototype,"CSSCounterStyleRule"in e,a.supports("font-size-adjust: ex-height 0.5"),a.supports("text-transform: full-width")])>=4}function hce(){if(navigator.platform==="iPad")return!0;var e=screen,t=e.width/e.height;return mn(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}function pce(){var e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}function fce(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function wN(){var e=zm(),t=pR(),a=window,n=navigator,s="connection";return e?mn([!("SharedWorker"in a),n[s]&&"ontypechange"in n[s],!("sinkId"in new Audio)])>=2:t?mn(["onorientationchange"in a,"orientation"in a,/android/i.test(n.appVersion)])>=2:!1}function xce(){var e=navigator,t=window,a=Audio.prototype,n=t.visualViewport;return mn(["srLatency"in a,"srChannelCount"in a,"devicePosture"in e,n&&"segments"in n,"getTextInformation"in Image.prototype])>=3}function yce(){return kce()?-4:bce()}function bce(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(vce())return-1;var a=4500,n=5e3,s=new t(1,n,44100),i=s.createOscillator();i.type="triangle",i.frequency.value=1e4;var o=s.createDynamicsCompressor();o.threshold.value=-50,o.knee.value=40,o.ratio.value=12,o.attack.value=0,o.release.value=.25,i.connect(o),o.connect(s.destination),i.start(0);var l=wce(s),c=l[0],u=l[1],g=dm(c.then(function(h){return jce(h.getChannelData(0).subarray(a))},function(h){if(h.name==="timeout"||h.name==="suspended")return-3;throw h}));return function(){return u(),g}}function vce(){return Ks()&&!kN()&&!gce()}function kce(){return Ks()&&qm()&&Um()||zm()&&xce()&&mce()}function wce(e){var t=3,a=500,n=500,s=5e3,i=function(){},o=new Promise(function(l,c){var u=!1,g=0,h=0;e.oncomplete=function(y){return l(y.renderedBuffer)};var x=function(){setTimeout(function(){return c(a3("timeout"))},Math.min(n,h+s-Date.now()))},b=function(){try{var y=e.startRendering();switch(mR(y)&&dm(y),e.state){case"running":h=Date.now(),u&&x();break;case"suspended":document.hidden||g++,u&&g>=t?c(a3("suspended")):setTimeout(b,a);break}}catch(k){c(k)}};b(),i=function(){u||(u=!0,h>0&&x())}});return[o,i]}function jce(e){for(var t=0,a=0;a<e.length;++a)t+=Math.abs(e[a]);return t}function a3(e){var t=new Error(e);return t.name=e,t}function fR(e,t,a){var n,s,i;return a===void 0&&(a=50),hi(this,void 0,void 0,function(){var o,l;return pi(this,function(c){switch(c.label){case 0:o=document,c.label=1;case 1:return o.body?[3,3]:[4,Fh(a)];case 2:return c.sent(),[3,1];case 3:l=o.createElement("iframe"),c.label=4;case 4:return c.trys.push([4,,10,11]),[4,new Promise(function(u,g){var h=!1,x=function(){h=!0,u()},b=function(v){h=!0,g(v)};l.onload=x,l.onerror=b;var y=l.style;y.setProperty("display","block","important"),y.position="absolute",y.top="0",y.left="0",y.visibility="hidden",t&&"srcdoc"in l?l.srcdoc=t:l.src="about:blank",o.body.appendChild(l);var k=function(){var v,j;h||(((j=(v=l.contentWindow)===null||v===void 0?void 0:v.document)===null||j===void 0?void 0:j.readyState)==="complete"?x():setTimeout(k,10))};k()})];case 5:c.sent(),c.label=6;case 6:return!((s=(n=l.contentWindow)===null||n===void 0?void 0:n.document)===null||s===void 0)&&s.body?[3,8]:[4,Fh(a)];case 7:return c.sent(),[3,6];case 8:return[4,e(l,l.contentWindow)];case 9:return[2,c.sent()];case 10:return(i=l.parentNode)===null||i===void 0||i.removeChild(l),[7];case 11:return[2]}})})}function Nce(e){for(var t=Zde(e),a=t[0],n=t[1],s=document.createElement(a??"div"),i=0,o=Object.keys(n);i<o.length;i++){var l=o[i],c=n[l].join(" ");l==="style"?Cce(s.style,c):s.setAttribute(l,c)}return s}function Cce(e,t){for(var a=0,n=t.split(";");a<n.length;a++){var s=n[a],i=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(s);if(i){var o=i[1],l=i[2],c=i[4];e.setProperty(o,l,c||"")}}}function Sce(){for(var e=window;;){var t=e.parent;if(!t||t===e)return!1;try{if(t.location.origin!==e.location.origin)return!0}catch(a){if(a instanceof Error&&a.name==="SecurityError")return!0;throw a}e=t}}var Pce="mmMwWLliI0O&1",Tce="48px",Ld=["monospace","sans-serif","serif"],n3=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function Ace(){var e=this;return fR(function(t,a){var n=a.document;return hi(e,void 0,void 0,function(){var s,i,o,l,c,u,g,h,x,b,y,k;return pi(this,function(v){for(s=n.body,s.style.fontSize=Tce,i=n.createElement("div"),i.style.setProperty("visibility","hidden","important"),o={},l={},c=function(j){var S=n.createElement("span"),C=S.style;return C.position="absolute",C.top="0",C.left="0",C.fontFamily=j,S.textContent=Pce,i.appendChild(S),S},u=function(j,S){return c("'".concat(j,"',").concat(S))},g=function(){return Ld.map(c)},h=function(){for(var j={},S=function(A){j[A]=Ld.map(function(I){return u(A,I)})},C=0,P=n3;C<P.length;C++){var E=P[C];S(E)}return j},x=function(j){return Ld.some(function(S,C){return j[C].offsetWidth!==o[S]||j[C].offsetHeight!==l[S]})},b=g(),y=h(),s.appendChild(i),k=0;k<Ld.length;k++)o[Ld[k]]=b[k].offsetWidth,l[Ld[k]]=b[k].offsetHeight;return[2,n3.filter(function(j){return x(y[j])})]})})})}function Mce(){var e=navigator.plugins;if(e){for(var t=[],a=0;a<e.length;++a){var n=e[a];if(n){for(var s=[],i=0;i<n.length;++i){var o=n[i];s.push({type:o.type,suffixes:o.suffixes})}t.push({name:n.name,description:n.description,mimeTypes:s})}}return t}}function Ice(){return Ece(_ce())}function Ece(e){var t,a=!1,n,s,i=Oce(),o=i[0],l=i[1];return Dce(o,l)?(a=Rce(l),e?n=s="skipped":(t=$ce(o,l),n=t[0],s=t[1])):n=s="unsupported",{winding:a,geometry:n,text:s}}function Oce(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}function Dce(e,t){return!!(t&&e.toDataURL)}function Rce(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}function $ce(e,t){Bce(e,t);var a=zb(e),n=zb(e);if(a!==n)return["unstable","unstable"];Lce(e,t);var s=zb(e);return[s,a]}function Bce(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var a="Cwm fjordbank gly ".concat("😃");t.fillText(a,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(a,4,45)}function Lce(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var a=0,n=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];a<n.length;a++){var s=n[a],i=s[0],o=s[1],l=s[2];t.fillStyle=i,t.beginPath(),t.arc(o,l,40,0,Math.PI*2,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,Math.PI*2,!0),t.arc(60,60,20,0,Math.PI*2,!0),t.fill("evenodd")}function zb(e){return e.toDataURL()}function _ce(){return Ks()&&qm()&&Um()}function Fce(){var e=navigator,t=0,a;e.maxTouchPoints!==void 0?t=vN(e.maxTouchPoints):e.msMaxTouchPoints!==void 0&&(t=e.msMaxTouchPoints);try{document.createEvent("TouchEvent"),a=!0}catch{a=!1}var n="ontouchstart"in window;return{maxTouchPoints:t,touchEvent:a,touchStart:n}}function zce(){return navigator.oscpu}function Uce(){var e=navigator,t=[],a=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;if(a!==void 0&&t.push([a]),Array.isArray(e.languages))zm()&&uce()||t.push(e.languages);else if(typeof e.languages=="string"){var n=e.languages;n&&t.push(n.split(","))}return t}function qce(){return window.screen.colorDepth}function Wce(){return Si(As(navigator.deviceMemory),void 0)}function Vce(){if(!(Ks()&&qm()&&Um()))return Hce()}function Hce(){var e=screen,t=function(n){return Si(vN(n),null)},a=[t(e.width),t(e.height)];return a.sort().reverse(),a}var Kce=2500,Gce=10,Ig,Ub;function Qce(){if(Ub===void 0){var e=function(){var t=yk();bk(t)?Ub=setTimeout(e,Kce):(Ig=t,Ub=void 0)};e()}}function Yce(){var e=this;return Qce(),function(){return hi(e,void 0,void 0,function(){var t;return pi(this,function(a){switch(a.label){case 0:return t=yk(),bk(t)?Ig?[2,cR([],Ig,!0)]:pce()?[4,fce()]:[3,2]:[3,2];case 1:a.sent(),t=yk(),a.label=2;case 2:return bk(t)||(Ig=t),[2,t]}})})}}function Xce(){var e=this;if(Ks()&&qm()&&Um())return function(){return Promise.resolve(void 0)};var t=Yce();return function(){return hi(e,void 0,void 0,function(){var a,n;return pi(this,function(s){switch(s.label){case 0:return[4,t()];case 1:return a=s.sent(),n=function(i){return i===null?null:gR(i,Gce)},[2,[n(a[0]),n(a[1]),n(a[2]),n(a[3])]]}})})}}function yk(){var e=screen;return[Si(As(e.availTop),null),Si(As(e.width)-As(e.availWidth)-Si(As(e.availLeft),0),null),Si(As(e.height)-As(e.availHeight)-Si(As(e.availTop),0),null),Si(As(e.availLeft),null)]}function bk(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function Zce(){return Si(vN(navigator.hardwareConcurrency),void 0)}function Jce(){var e,t=(e=window.Intl)===null||e===void 0?void 0:e.DateTimeFormat;if(t){var a=new t().resolvedOptions().timeZone;if(a)return a}var n=-eue();return"UTC".concat(n>=0?"+":"").concat(n)}function eue(){var e=new Date().getFullYear();return Math.max(As(new Date(e,0,1).getTimezoneOffset()),As(new Date(e,6,1).getTimezoneOffset()))}function tue(){try{return!!window.sessionStorage}catch{return!0}}function rue(){try{return!!window.localStorage}catch{return!0}}function aue(){if(!(hR()||cce()))try{return!!window.indexedDB}catch{return!0}}function nue(){return!!window.openDatabase}function sue(){return navigator.cpuClass}function iue(){var e=navigator.platform;return e==="MacIntel"&&Ks()&&!kN()?hce()?"iPad":"iPhone":e}function oue(){return navigator.vendor||""}function lue(){for(var e=[],t=0,a=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<a.length;t++){var n=a[t],s=window[n];s&&typeof s=="object"&&e.push(n)}return e.sort()}function due(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=e.cookie.indexOf("cookietest=")!==-1;return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch{return!1}}function cue(){var e=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',e("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",e("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",e("LnNwb25zb3JpdA=="),".ylamainos",e("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",e("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",e("LmhlYWRlci1ibG9ja2VkLWFk"),e("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",e("I2FkXzMwMFgyNTA="),e("I2Jhbm5lcmZsb2F0MjI="),e("I2NhbXBhaWduLWJhbm5lcg=="),e("I0FkLUNvbnRlbnQ=")],adGuardChinese:[e("LlppX2FkX2FfSA=="),e("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",e("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),e("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",e("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",e("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",e("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),e("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),e("LmFkZ29vZ2xl"),e("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[e("YW1wLWF1dG8tYWRz"),e("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",e("I2FkX2ludmlld19hcmVh")],adGuardRussian:[e("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),e("LnJlY2xhbWE="),'div[id^="smi2adblock"]',e("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[e("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),e("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",e("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),e("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),e("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",e("I3Jla2xhbWk="),e("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),e("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),e("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[e("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",e("LndpZGdldF9wb19hZHNfd2lkZ2V0"),e("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",e("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[e("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),e("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",e("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",e("I3Jla2xhbW5pLWJveA=="),e("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",e("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[e("I2FkdmVydGVudGll"),e("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",e("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",e("LnNwb25zb3JsaW5rZ3J1ZW4="),e("I3dlcmJ1bmdza3k="),e("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),e("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[e("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",e("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[e("LnJla2xhbW9zX3RhcnBhcw=="),e("LnJla2xhbW9zX251b3JvZG9z"),e("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),e("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),e("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[e("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[e("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),e("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",e("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[e("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),e("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),e("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",e("LmFkX19tYWlu"),e("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[e("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[e("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),e("I2xpdmVyZUFkV3JhcHBlcg=="),e("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),e("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[e("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",e("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),e("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),e("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[e("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),e("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),e("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",e("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),e("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),e("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),e("ZGl2I3NrYXBpZWNfYWQ=")],ro:[e("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),e("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[e("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),e("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),e("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",e("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),e("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",e("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}function uue(e){var t=e===void 0?{}:e,a=t.debug;return hi(this,void 0,void 0,function(){var n,s,i,o,l,c;return pi(this,function(u){switch(u.label){case 0:return mue()?(n=cue(),s=Object.keys(n),i=(c=[]).concat.apply(c,s.map(function(g){return n[g]})),[4,gue(i)]):[2,void 0];case 1:return o=u.sent(),a&&hue(n,o),l=s.filter(function(g){var h=n[g],x=mn(h.map(function(b){return o[b]}));return x>h.length*.6}),l.sort(),[2,l]}})})}function mue(){return Ks()||wN()}function gue(e){var t;return hi(this,void 0,void 0,function(){var a,n,s,i,c,o,l,c;return pi(this,function(u){switch(u.label){case 0:for(a=document,n=a.createElement("div"),s=new Array(e.length),i={},s3(n),c=0;c<e.length;++c)o=Nce(e[c]),o.tagName==="DIALOG"&&o.show(),l=a.createElement("div"),s3(l),l.appendChild(o),n.appendChild(l),s[c]=o;u.label=1;case 1:return a.body?[3,3]:[4,Fh(50)];case 2:return u.sent(),[3,1];case 3:a.body.appendChild(n);try{for(c=0;c<e.length;++c)s[c].offsetParent||(i[e[c]]=!0)}finally{(t=n.parentNode)===null||t===void 0||t.removeChild(n)}return[2,i]}})})}function s3(e){e.style.setProperty("visibility","hidden","important"),e.style.setProperty("display","block","important")}function hue(e,t){for(var a="DOM blockers debug:\n```",n=0,s=Object.keys(e);n<s.length;n++){var i=s[n];a+=`
`.concat(i,":");for(var o=0,l=e[i];o<l.length;o++){var c=l[o];a+=`
  `.concat(t[c]?"🚫":"➡️"," ").concat(c)}}console.log("".concat(a,"\n```"))}function pue(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var a=t[e];if(matchMedia("(color-gamut: ".concat(a,")")).matches)return a}}function fue(){if(i3("inverted"))return!0;if(i3("none"))return!1}function i3(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function xue(){if(o3("active"))return!0;if(o3("none"))return!1}function o3(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}var yue=100;function bue(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=yue;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}}function vue(){if(_d("no-preference"))return 0;if(_d("high")||_d("more"))return 1;if(_d("low")||_d("less"))return-1;if(_d("forced"))return 10}function _d(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function kue(){if(l3("reduce"))return!0;if(l3("no-preference"))return!1}function l3(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function wue(){if(d3("reduce"))return!0;if(d3("no-preference"))return!1}function d3(e){return matchMedia("(prefers-reduced-transparency: ".concat(e,")")).matches}function jue(){if(c3("high"))return!0;if(c3("standard"))return!1}function c3(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var Jt=Math,rn=function(){return 0};function Nue(){var e=Jt.acos||rn,t=Jt.acosh||rn,a=Jt.asin||rn,n=Jt.asinh||rn,s=Jt.atanh||rn,i=Jt.atan||rn,o=Jt.sin||rn,l=Jt.sinh||rn,c=Jt.cos||rn,u=Jt.cosh||rn,g=Jt.tan||rn,h=Jt.tanh||rn,x=Jt.exp||rn,b=Jt.expm1||rn,y=Jt.log1p||rn,k=function(M){return Jt.pow(Jt.PI,M)},v=function(M){return Jt.log(M+Jt.sqrt(M*M-1))},j=function(M){return Jt.log(M+Jt.sqrt(M*M+1))},S=function(M){return Jt.log((1+M)/(1-M))/2},C=function(M){return Jt.exp(M)-1/Jt.exp(M)/2},P=function(M){return(Jt.exp(M)+1/Jt.exp(M))/2},E=function(M){return Jt.exp(M)-1},A=function(M){return(Jt.exp(2*M)-1)/(Jt.exp(2*M)+1)},I=function(M){return Jt.log(1+M)};return{acos:e(.12312423423423424),acosh:t(1e308),acoshPf:v(1e154),asin:a(.12312423423423424),asinh:n(1),asinhPf:j(1),atanh:s(.5),atanhPf:S(.5),atan:i(.5),sin:o(-1e300),sinh:l(1),sinhPf:C(1),cos:c(10.000000000123),cosh:u(1),coshPf:P(1),tan:g(-1e300),tanh:h(1),tanhPf:A(1),exp:x(1),expm1:b(1),expm1Pf:E(1),log1p:y(10),log1pPf:I(10),powPI:k(-100)}}var Cue="mmMwWLliI0fiflO&1",qb={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function Sue(){return Pue(function(e,t){for(var a={},n={},s=0,i=Object.keys(qb);s<i.length;s++){var o=i[s],l=qb[o],c=l[0],u=c===void 0?{}:c,g=l[1],h=g===void 0?Cue:g,x=e.createElement("span");x.textContent=h,x.style.whiteSpace="nowrap";for(var b=0,y=Object.keys(u);b<y.length;b++){var k=y[b],v=u[k];v!==void 0&&(x.style[k]=v)}a[o]=x,t.append(e.createElement("br"),x)}for(var j=0,S=Object.keys(qb);j<S.length;j++){var o=S[j];n[o]=a[o].getBoundingClientRect().width}return n})}function Pue(e,t){return t===void 0&&(t=4e3),fR(function(a,n){var s=n.document,i=s.body,o=i.style;o.width="".concat(t,"px"),o.webkitTextSizeAdjust=o.textSizeAdjust="none",zm()?i.style.zoom="".concat(1/n.devicePixelRatio):Ks()&&(i.style.zoom="reset");var l=s.createElement("div");return l.textContent=cR([],Array(t/20<<0),!0).map(function(){return"word"}).join(" "),i.appendChild(l),e(s,i)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function Tue(){return navigator.pdfViewerEnabled}function Aue(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}function Mue(){var e=window.ApplePaySession;if(typeof e?.canMakePayments!="function")return-1;if(Iue())return-3;try{return e.canMakePayments()?1:0}catch(t){return Eue(t)}}var Iue=Sce;function Eue(e){if(e instanceof Error&&e.name==="InvalidAccessError"&&/\bfrom\b.*\binsecure\b/i.test(e.message))return-2;throw e}function Oue(){var e,t=document.createElement("a"),a=(e=t.attributionSourceId)!==null&&e!==void 0?e:t.attributionsourceid;return a===void 0?void 0:String(a)}var xR=-1,yR=-2,Due=new Set([10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938]),Rue=new Set([34047,35723,36063,34852,34853,34854,34229,36392,36795,38449]),$ue=["FRAGMENT_SHADER","VERTEX_SHADER"],Bue=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],bR="WEBGL_debug_renderer_info",Lue="WEBGL_polygon_mode";function _ue(e){var t,a,n,s,i,o,l=e.cache,c=vR(l);if(!c)return xR;if(!wR(c))return yR;var u=kR()?null:c.getExtension(bR);return{version:((t=c.getParameter(c.VERSION))===null||t===void 0?void 0:t.toString())||"",vendor:((a=c.getParameter(c.VENDOR))===null||a===void 0?void 0:a.toString())||"",vendorUnmasked:u?(n=c.getParameter(u.UNMASKED_VENDOR_WEBGL))===null||n===void 0?void 0:n.toString():"",renderer:((s=c.getParameter(c.RENDERER))===null||s===void 0?void 0:s.toString())||"",rendererUnmasked:u?(i=c.getParameter(u.UNMASKED_RENDERER_WEBGL))===null||i===void 0?void 0:i.toString():"",shadingLanguageVersion:((o=c.getParameter(c.SHADING_LANGUAGE_VERSION))===null||o===void 0?void 0:o.toString())||""}}function Fue(e){var t=e.cache,a=vR(t);if(!a)return xR;if(!wR(a))return yR;var n=a.getSupportedExtensions(),s=a.getContextAttributes(),i=[],o=[],l=[],c=[],u=[];if(s)for(var g=0,h=Object.keys(s);g<h.length;g++){var x=h[g];o.push("".concat(x,"=").concat(s[x]))}for(var b=u3(a),y=0,k=b;y<k.length;y++){var v=k[y],j=a[v];l.push("".concat(v,"=").concat(j).concat(Due.has(j)?"=".concat(a.getParameter(j)):""))}if(n)for(var S=0,C=n;S<C.length;S++){var P=C[S];if(!(P===bR&&kR()||P===Lue&&que())){var E=a.getExtension(P);if(!E){i.push(P);continue}for(var A=0,I=u3(E);A<I.length;A++){var v=I[A],j=E[v];c.push("".concat(v,"=").concat(j).concat(Rue.has(j)?"=".concat(a.getParameter(j)):""))}}}for(var M=0,F=$ue;M<F.length;M++)for(var Q=F[M],U=0,V=Bue;U<V.length;U++){var K=V[U],Z=zue(a,Q,K);u.push("".concat(Q,".").concat(K,"=").concat(Z.join(",")))}return c.sort(),l.sort(),{contextAttributes:o,parameters:l,shaderPrecisions:u,extensions:n,extensionParameters:c,unsupportedExtensions:i}}function vR(e){if(e.webgl)return e.webgl.context;var t=document.createElement("canvas"),a;t.addEventListener("webglCreateContextError",function(){return a=void 0});for(var n=0,s=["webgl","experimental-webgl"];n<s.length;n++){var i=s[n];try{a=t.getContext(i)}catch{}if(a)break}return e.webgl={context:a},a}function zue(e,t,a){var n=e.getShaderPrecisionFormat(e[t],e[a]);return n?[n.rangeMin,n.rangeMax,n.precision]:[]}function u3(e){var t=Object.keys(e.__proto__);return t.filter(Uue)}function Uue(e){return typeof e=="string"&&!e.match(/[^A-Z0-9_x]/)}function kR(){return pR()}function que(){return zm()||Ks()}function wR(e){return typeof e.getParameter=="function"}function Wue(){var e=wN()||Ks();if(!e)return-2;if(!window.AudioContext)return-1;var t=new AudioContext().baseLatency;return t==null?-1:isFinite(t)?t:-3}function Vue(){if(!window.Intl)return-1;var e=window.Intl.DateTimeFormat;if(!e)return-2;var t=e().resolvedOptions().locale;return!t&&t!==""?-3:t}var Hue={fonts:Ace,domBlockers:uue,fontPreferences:Sue,audio:yce,screenFrame:Xce,canvas:Ice,osCpu:zce,languages:Uce,colorDepth:qce,deviceMemory:Wce,screenResolution:Vce,hardwareConcurrency:Zce,timezone:Jce,sessionStorage:tue,localStorage:rue,indexedDB:aue,openDatabase:nue,cpuClass:sue,platform:iue,plugins:Mce,touchSupport:Fce,vendor:oue,vendorFlavors:lue,cookiesEnabled:due,colorGamut:pue,invertedColors:fue,forcedColors:xue,monochrome:bue,contrast:vue,reducedMotion:kue,reducedTransparency:wue,hdr:jue,math:Nue,pdfViewerEnabled:Tue,architecture:Aue,applePay:Mue,privateClickMeasurement:Oue,audioBaseLatency:Wue,dateTimeLocale:Vue,webGlBasics:_ue,webGlExtensions:Fue};function Kue(e){return dce(Hue,e,[])}var Gue="$ if upgrade to Pro: https://fpjs.dev/pro";function Que(e){var t=Yue(e),a=Xue(t);return{score:t,comment:Gue.replace(/\$/g,"".concat(a))}}function Yue(e){if(wN())return .4;if(Ks())return kN()&&!(qm()&&Um())?.5:.3;var t="value"in e.platform?e.platform.value:"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}function Xue(e){return gR(.99+.01*e,1e-4)}function Zue(e){for(var t="",a=0,n=Object.keys(e).sort();a<n.length;a++){var s=n[a],i=e[s],o="error"in i?"error":JSON.stringify(i.value);t+="".concat(t?"|":"").concat(s.replace(/([:|\\])/g,"\\$1"),":").concat(o)}return t}function jR(e){return JSON.stringify(e,function(t,a){return a instanceof Error?sce(a):a},2)}function NR(e){return nce(Zue(e))}function Jue(e){var t,a=Que(e);return{get visitorId(){return t===void 0&&(t=NR(this.components)),t},set visitorId(n){t=n},confidence:a,components:e,version:uR}}function eme(e){return e===void 0&&(e=50),Qde(e,e*2)}function tme(e,t){var a=Date.now();return{get:function(n){return hi(this,void 0,void 0,function(){var s,i,o;return pi(this,function(l){switch(l.label){case 0:return s=Date.now(),[4,e()];case 1:return i=l.sent(),o=Jue(i),(t||n?.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(o.version,`
userAgent: `).concat(navigator.userAgent,`
timeBetweenLoadAndGet: `).concat(s-a,`
visitorId: `).concat(o.visitorId,`
components: `).concat(jR(i),"\n```")),[2,o]}})})}}}function rme(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(uR,"/npm-monitoring"),!0),e.send()}catch(t){console.error(t)}}function ame(e){var t;return e===void 0&&(e={}),hi(this,void 0,void 0,function(){var a,n,s;return pi(this,function(i){switch(i.label){case 0:return(!((t=e.monitoring)!==null&&t!==void 0)||t)&&rme(),a=e.delayFallback,n=e.debug,[4,eme(a)];case 1:return i.sent(),s=Kue({cache:{},debug:n}),[2,tme(s,n)]}})})}var nme={load:ame,hashComponents:NR,componentsToDebugString:jR};let sme=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,a)=>(a&=63,a<36?t+=a.toString(36):a<62?t+=(a-26).toString(36).toUpperCase():a>62?t+="-":t+="_",t),"");const CR=({menuData:e,totalItems:t,onCartToggle:a})=>{const{t:n}=qe();return r.jsx("div",{className:"bg-white/70 dark:bg-slate-900/70 backdrop-blur-xl border-b border-slate-200/50 dark:border-slate-700/50 sticky top-0 z-40 shadow-lg",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 via-orange-600 to-pink-500 rounded-xl flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform duration-300",children:r.jsx(mM,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl mr-2 font-bold bg-gradient-to-r from-slate-800 via-slate-700 to-slate-600 dark:from-slate-100 dark:via-slate-200 dark:to-slate-300 bg-clip-text text-transparent",children:e.restaurantName}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1 mr-2",children:[r.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400 bg-slate-100/50 dark:bg-slate-800/50 px-2 py-1 rounded-full backdrop-blur-sm",children:[r.jsx($r,{className:"h-3 w-3"}),r.jsx("p",{className:"text-xs font-medium",children:e.branchName})]}),r.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full backdrop-blur-sm mr-2 ${e.isOpen?"bg-emerald-100/50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300":"bg-red-100/50 dark:bg-red-900/30 text-red-700 dark:text-red-300"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full ml-2 ${e.isOpen?"bg-emerald-500":"bg-red-500"} animate-pulse`}),r.jsx("span",{className:"text-xs font-semibold",children:e.isOpen?n("menu.open"):n("menu.closed")})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:a,className:"relative bg-gradient-to-r ml-2 from-orange-500 via-orange-600 to-pink-500 hover:from-orange-600 hover:via-orange-700 hover:to-pink-600 text-white p-3 rounded-xl transition-all duration-300 shadow-lg hover:shadow-orange-500/25 transform hover:scale-105 group",children:[r.jsx(Aa,{className:"h-5 w-5 group-hover:rotate-12 transition-transform duration-300"}),t>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-red-500 to-red-600 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center font-bold shadow-lg animate-pulse",children:t})]}),r.jsx(lw,{variant:"header"})]})]})})})},SR=({searchTerm:e,onSearchChange:t})=>{const{t:a}=qe();return r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"relative max-w-xl mx-auto",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/20 to-pink-500/20 rounded-2xl blur-lg"}),r.jsxs("div",{className:"relative bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-2xl border border-slate-200/50 dark:border-slate-700/50 shadow-lg",children:[r.jsx(Ja,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 dark:text-slate-500 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:a("menu.search.placeholder"),value:e,onChange:n=>t(n.target.value),className:"w-full pl-10 pr-4 py-3 bg-transparent border-0 rounded-2xl focus:ring-2 focus:ring-orange-500/50 text-slate-800 dark:text-slate-100 placeholder:text-slate-500 dark:placeholder:text-slate-400 text-sm font-medium outline-none"})]})]})})},PR=({categories:e,selectedCategory:t,onCategorySelect:a})=>{const{t:n}=qe();return r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-2xl shadow-lg border border-slate-200/50 dark:border-slate-700/50 p-4 sticky top-24",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center",children:[r.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-orange-500 to-pink-500 rounded-lg flex items-center justify-center mr-2",children:r.jsx(ac,{className:"h-3 w-3 text-white"})}),n("menu.categories")]}),r.jsx("div",{className:"space-y-2",children:e.map(s=>r.jsx("button",{onClick:()=>a(s.categoryId),className:`w-full text-left p-3 rounded-xl transition-all duration-300 transform hover:scale-[1.02] ${t===s.categoryId?"bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 text-white shadow-lg shadow-orange-500/25 scale-[1.02]":"bg-slate-50/50 dark:bg-slate-700/50 hover:bg-slate-100/50 dark:hover:bg-slate-600/50 text-slate-700 dark:text-slate-300 hover:shadow-lg backdrop-blur-sm border border-slate-200/50 dark:border-slate-600/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-semibold text-sm",children:s.categoryName}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-lg font-semibold ${t===s.categoryId?"bg-white/20 text-white":"bg-slate-200/50 dark:bg-slate-600/50 text-slate-600 dark:text-slate-400"}`,children:s.products.length})]})},s.categoryId))})]})})},TR=()=>{const{t:e}=qe(),[t,a]=p.useState(!1);p.useEffect(()=>{const s=()=>{a(window.scrollY>400)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 py-10 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 relative z-10",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl mb-4 shadow-lg",children:r.jsx(Vn,{className:"h-6 w-6 text-white"})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-3 bg-gradient-to-r from-white to-slate-300 bg-clip-text text-transparent",children:e("menu.whyChooseUs.title")}),r.jsx("p",{className:"text-slate-300 text-sm max-w-2xl mx-auto leading-relaxed",children:e("menu.whyChooseUs.subtitle")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center group",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:r.jsx(NF,{className:"h-7 w-7 text-white"})}),r.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:e("menu.whyChooseUs.freshIngredients.title")}),r.jsx("p",{className:"text-slate-400 leading-relaxed text-sm",children:e("menu.whyChooseUs.freshIngredients.description")})]}),r.jsxs("div",{className:"text-center group",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:r.jsx(Zh,{className:"h-7 w-7 text-white"})}),r.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:e("menu.whyChooseUs.fastDelivery.title")}),r.jsx("p",{className:"text-slate-400 leading-relaxed text-sm",children:e("menu.whyChooseUs.fastDelivery.description")})]}),r.jsxs("div",{className:"text-center group",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:r.jsx(nn,{className:"h-7 w-7 text-white"})}),r.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:e("menu.whyChooseUs.qualityAssured.title")}),r.jsx("p",{className:"text-slate-400 leading-relaxed text-sm",children:e("menu.whyChooseUs.qualityAssured.description")})]}),r.jsxs("div",{className:"text-center group",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:r.jsx(Ht,{className:"h-7 w-7 text-white"})}),r.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:e("menu.whyChooseUs.expertChefs.title")}),r.jsx("p",{className:"text-slate-400 leading-relaxed text-sm",children:e("menu.whyChooseUs.expertChefs.description")})]})]})]})]}),r.jsxs("footer",{className:"bg-gradient-to-br from-slate-950 to-slate-900 border-t border-slate-800 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-gradient-to-br from-orange-500 to-purple-600 rounded-full blur-3xl transform -translate-x-1/2 -translate-y-1/2"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-gradient-to-br from-blue-500 to-emerald-600 rounded-full blur-3xl transform translate-x-1/2 translate-y-1/2"})]}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12 relative z-10",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"lg:col-span-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(mM,{className:"h-5 w-5 text-white"})}),r.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-white to-slate-300 bg-clip-text text-transparent",children:e("menu.footer.brand")})]}),r.jsx("p",{className:"text-slate-400 leading-relaxed mb-4 text-sm",children:e("menu.footer.description")}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("a",{href:"#",className:"w-8 h-8 bg-slate-800/50 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-all duration-300 backdrop-blur-sm border border-slate-700 hover:border-blue-500 group",children:r.jsx(tM,{className:"h-4 w-4 text-slate-400 group-hover:text-white transition-colors"})}),r.jsx("a",{href:"#",className:"w-8 h-8 bg-slate-800/50 hover:bg-pink-600 rounded-lg flex items-center justify-center transition-all duration-300 backdrop-blur-sm border border-slate-700 hover:border-pink-500 group",children:r.jsx(aM,{className:"h-4 w-4 text-slate-400 group-hover:text-white transition-colors"})}),r.jsx("a",{href:"#",className:"w-8 h-8 bg-slate-800/50 hover:bg-blue-400 rounded-lg flex items-center justify-center transition-all duration-300 backdrop-blur-sm border border-slate-700 hover:border-blue-400 group",children:r.jsx(cM,{className:"h-4 w-4 text-slate-400 group-hover:text-white transition-colors"})}),r.jsx("a",{href:"#",className:"w-8 h-8 bg-slate-800/50 hover:bg-orange-600 rounded-lg flex items-center justify-center transition-all duration-300 backdrop-blur-sm border border-slate-700 hover:border-orange-500 group",children:r.jsx(Yi,{className:"h-4 w-4 text-slate-400 group-hover:text-white transition-colors"})})]})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[r.jsx(qi,{className:"h-4 w-4 mr-2 text-orange-500"}),e("menu.footer.quickLinks")]}),r.jsx("ul",{className:"space-y-2",children:[e("menu.footer.links.ourMenu"),e("menu.footer.links.aboutUs"),e("menu.footer.links.locations"),e("menu.footer.links.reservations"),e("menu.footer.links.specialOffers"),e("menu.footer.links.giftCards")].map(s=>r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors duration-200 text-sm hover:translate-x-1 inline-block transform transition-transform",children:s})},s))})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[r.jsx(Ls,{className:"h-4 w-4 mr-2 text-orange-500"}),e("menu.footer.services")]}),r.jsx("ul",{className:"space-y-2",children:[e("menu.footer.services.onlineOrdering"),e("menu.footer.services.tableBooking"),e("menu.footer.services.privateEvents"),e("menu.footer.services.catering"),e("menu.footer.services.takeaway"),e("menu.footer.services.corporateMeals")].map(s=>r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors duration-200 text-sm hover:translate-x-1 inline-block transform transition-transform",children:s})},s))})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[r.jsx(Gr,{className:"h-4 w-4 mr-2 text-orange-500"}),e("menu.footer.getInTouch")]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-7 h-7 bg-slate-800/50 rounded-lg flex items-center justify-center border border-slate-700",children:r.jsx($r,{className:"h-3 w-3 text-orange-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold text-sm",children:e("menu.footer.visitUs")}),r.jsxs("p",{className:"text-slate-400 text-xs",children:["123 Culinary Street",r.jsx("br",{}),"Food District, City"]})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-7 h-7 bg-slate-800/50 rounded-lg flex items-center justify-center border border-slate-700",children:r.jsx(Gr,{className:"h-3 w-3 text-orange-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold text-sm",children:e("menu.footer.callUs")}),r.jsx("p",{className:"text-slate-400 text-xs",children:"+1 (555) 123-4567"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-7 h-7 bg-slate-800/50 rounded-lg flex items-center justify-center border border-slate-700",children:r.jsx(Ws,{className:"h-3 w-3 text-orange-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold text-sm",children:e("menu.footer.emailUs")}),r.jsx("p",{className:"text-slate-400 text-xs",children:"hello@menuhub.com"})]})]})]})]})]}),r.jsx("div",{className:"mt-8 pt-6 border-t border-slate-800",children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between space-y-3 lg:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4 text-slate-400 text-sm",children:[r.jsxs("p",{children:["© 2024 MenuHub. ",e("menu.footer.copyright")]}),r.jsx("span",{className:"hidden lg:inline",children:"|"}),r.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("menu.footer.privacyPolicy")}),r.jsx("span",{children:"|"}),r.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("menu.footer.termsOfService")})]}),r.jsxs("div",{className:"flex items-center space-x-3 text-slate-400 text-sm",children:[r.jsx("span",{children:e("menu.footer.poweredBy")}),r.jsxs("div",{className:"flex items-center space-x-1 text-orange-500 font-semibold",children:[r.jsx(yF,{className:"h-3 w-3"}),r.jsx("span",{children:"Idigitek"})]})]})]})})]}),t&&r.jsx("button",{onClick:n,className:"fixed bottom-6 right-6 z-50 w-10 h-10 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-full shadow-lg hover:shadow-orange-500/25 transition-all duration-300 flex items-center justify-center group transform hover:scale-110",children:r.jsx(fm,{className:"h-4 w-4 group-hover:-translate-y-1 transition-transform"})})]})]})},ime=()=>{const{t:e}=qe();return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800 py-8 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 opacity-20",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-gradient-to-br from-orange-400 to-pink-500 rounded-full blur-3xl animate-pulse transform -translate-x-1/2 -translate-y-1/2"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full blur-3xl animate-pulse transform translate-x-1/2 translate-y-1/2"})]}),r.jsx("div",{className:"max-w-3xl mx-auto px-4 relative z-10",children:r.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-2xl shadow-xl border border-slate-200/50 dark:border-slate-700/50 p-8 text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mb-6 shadow-xl animate-bounce",children:r.jsx(rc,{className:"h-8 w-8 text-white"})}),r.jsxs("div",{className:"mb-6",children:[r.jsx(ot,{className:"h-8 w-8 animate-spin text-orange-500 mx-auto mb-4"}),r.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full animate-pulse"}),r.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full animate-pulse animation-delay-100"}),r.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full animate-pulse animation-delay-200"})]})]}),r.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 dark:from-slate-100 dark:to-slate-300 bg-clip-text text-transparent mb-3",children:e("menu.loading")}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:e("menu.loadingSubtitle")})]})})]})},ome=({error:e})=>{const{t}=qe();return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50 dark:from-red-950/20 dark:via-slate-900 dark:to-red-950/20 py-8",children:r.jsx("div",{className:"max-w-3xl mx-auto px-4",children:r.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-xl rounded-2xl shadow-xl border border-red-200 dark:border-red-800/50 p-8 text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-red-100 to-red-200 dark:from-red-900/30 dark:to-red-800/30 rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:r.jsx(lt,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),r.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-3",children:t("menu.error.title")}),r.jsx("p",{className:"text-red-600 dark:text-red-400 mb-6 text-sm",children:e}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:t("menu.error.tryAgain")})]})})})},m3=({product:e,cartQuantity:t,isFavorite:a,onAddToCart:n,onRemoveFromCart:s,onToggleFavorite:i,onCustomize:o})=>{const{t:l}=qe(),[c,u]=p.useState(!1),g=e.availableAddons&&e.availableAddons.length>0,h=()=>{g&&o?o(e):n(e)};return r.jsxs("div",{className:"group relative bg-white dark:bg-slate-800 rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-500 flex flex-col h-full overflow-hidden border border-slate-200/50 dark:border-slate-700/50",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),style:{transform:c?"translateY(-8px) scale(1.02)":"translateY(0) scale(1)"},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/0 via-pink-500/0 to-purple-500/0 group-hover:from-orange-500/10 group-hover:via-pink-500/10 group-hover:to-purple-500/10 transition-all duration-700 rounded-3xl blur-xl"}),r.jsxs("div",{className:"relative h-56 bg-gradient-to-br from-slate-100 via-slate-50 to-white dark:from-slate-700 dark:via-slate-800 dark:to-slate-900 flex-shrink-0 overflow-hidden rounded-t-3xl",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, currentColor 1px, transparent 0)",backgroundSize:"20px 20px"}})}),e.productImageUrl?r.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[r.jsx("img",{src:e.productImageUrl||"/placeholder.svg",alt:e.productName,className:"w-full h-full object-cover transition-all duration-700 group-hover:scale-110 group-hover:rotate-2"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-400 to-pink-600 rounded-full blur-2xl opacity-30"}),r.jsx(fF,{className:"relative h-16 w-16 text-slate-300 dark:text-slate-600"})]})}),r.jsxs("div",{className:"absolute top-3 left-3 right-3 flex items-start justify-between z-10",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[e.isRecommended&&r.jsxs("div",{className:"relative group/badge",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-full blur opacity-50"}),r.jsxs("span",{className:"relative flex items-center gap-1.5 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg backdrop-blur-sm transform transition-transform duration-300 group-hover/badge:scale-110",children:[r.jsx(JA,{className:"h-3 w-3"}),r.jsx("span",{children:l("productCard.chefsPick")})]})]}),g&&r.jsxs("div",{className:"relative group/badge",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full blur opacity-50"}),r.jsxs("span",{className:"relative flex items-center gap-1.5 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg backdrop-blur-sm transform transition-transform duration-300 group-hover/badge:scale-110",children:[r.jsx(Yr,{className:"h-3 w-3"}),r.jsx("span",{children:l("productCard.customizable")})]})]})]}),r.jsxs("button",{onClick:()=>i(e.branchProductId),className:"relative group/fav",children:[r.jsx("div",{className:"absolute inset-0 bg-white dark:bg-slate-800 rounded-full blur opacity-50 group-hover/fav:opacity-100 transition-opacity"}),r.jsx("div",{className:"relative w-10 h-10 bg-white/95 dark:bg-slate-800/95 backdrop-blur-xl rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 border border-slate-200/50 dark:border-slate-700/50",children:r.jsx(vF,{className:`h-4 w-4 transition-all duration-300 ${a?"text-red-500 fill-red-500 scale-110":"text-slate-600 dark:text-slate-400 group-hover/fav:text-red-500 group-hover/fav:scale-110"}`})})]})]}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:r.jsxs("div",{className:"relative inline-block",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500 to-pink-600 rounded-2xl blur-lg opacity-50"}),r.jsx("div",{className:"relative bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl px-4 py-2 rounded-2xl shadow-xl border border-orange-200/50 dark:border-orange-800/50",children:r.jsxs("div",{className:"flex items-baseline gap-1",children:[r.jsxs("span",{className:"text-2xl font-black bg-gradient-to-r from-orange-600 via-orange-500 to-pink-500 bg-clip-text text-transparent",children:["$",e.price.toFixed(2)]}),g&&r.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:l("productCard.addons")})]})})]})})]}),r.jsxs("div",{className:"relative p-5 flex flex-col flex-1 bg-gradient-to-b from-transparent to-slate-50/30 dark:to-slate-900/30",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 line-clamp-2 group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-orange-600 group-hover:to-pink-600 group-hover:bg-clip-text transition-all duration-300",children:e.productName}),e.productDescription&&r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2 leading-relaxed",children:e.productDescription})]}),g&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Vn,{className:"h-3.5 w-3.5 text-purple-500"}),r.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:l("productModal.addons")})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.availableAddons.slice(0,3).map(x=>r.jsxs("div",{className:"relative group/addon",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-lg blur"}),r.jsxs("span",{className:"relative text-xs bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/30 dark:to-purple-900/30 text-blue-800 dark:text-blue-200 px-2.5 py-1 rounded-lg font-semibold border border-blue-200/50 dark:border-blue-800/50 transition-transform duration-200 hover:scale-105",children:["+$",x.price.toFixed(2)," ",x.addonName]})]},x.branchProductAddonId)),e.availableAddons.length>3&&r.jsxs("span",{className:"text-xs text-slate-600 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 px-2.5 py-1 rounded-lg font-medium",children:["+",e.availableAddons.length-3," ",l("productCard.more")]})]})]}),(e.allergens?.length>0||e.ingredients?.length>0)&&r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.allergens&&e.allergens.length>0&&r.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-xl p-3 border border-amber-200/50 dark:border-amber-800/50",children:[r.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[r.jsx(on,{className:"h-3 w-3 text-amber-600"}),r.jsx("span",{className:"text-xs font-bold text-amber-900 dark:text-amber-100",children:l("productCard.allergens")})]}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.allergens.slice(0,2).map(x=>r.jsx("span",{className:"text-lg",title:x.name,children:x.icon},x.id)),e.allergens.length>2&&r.jsxs("span",{className:"text-xs text-amber-700 dark:text-amber-300 font-semibold",children:["+",e.allergens.length-2]})]})]}),e.ingredients&&e.ingredients.length>0&&r.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 rounded-xl p-3 border border-emerald-200/50 dark:border-emerald-800/50",children:[r.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[r.jsx(rc,{className:"h-3 w-3 text-emerald-600"}),r.jsx("span",{className:"text-xs font-bold text-emerald-900 dark:text-emerald-100",children:l("productCard.ingredients")})]}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.ingredients.slice(0,2).map(x=>r.jsx("span",{className:"text-xs bg-white/60 dark:bg-emerald-800/30 text-emerald-800 dark:text-emerald-200 px-2 py-0.5 rounded-full font-medium",title:x.ingredientName,children:x.ingredientName.slice(0,8)},x.ingredientId)),e.ingredients.length>2&&r.jsxs("span",{className:"text-xs text-emerald-700 dark:text-emerald-300 font-semibold",children:["+",e.ingredients.length-2]})]})]})]})}),r.jsx("div",{className:"mt-auto pt-4",children:t>0?r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500 to-pink-600 rounded-2xl blur opacity-30"}),r.jsxs("div",{className:"relative flex items-center justify-between bg-gradient-to-r from-slate-50 to-white dark:from-slate-800 dark:to-slate-900 rounded-2xl p-2 border-2 border-orange-200 dark:border-orange-800 shadow-lg",children:[r.jsx("button",{onClick:()=>s(e.branchProductId),className:"w-10 h-10 bg-gradient-to-br from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl flex items-center justify-center transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-110 active:scale-95",children:r.jsx(oi,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-2xl font-black text-slate-900 dark:text-white",children:t}),r.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:l("productCard.inCart")})]}),r.jsx("button",{onClick:h,className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-pink-600 hover:from-orange-600 hover:to-pink-700 text-white rounded-xl flex items-center justify-center transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-110 active:scale-95",children:r.jsx(Nt,{className:"h-4 w-4"})})]})]}):r.jsxs("button",{onClick:h,className:"relative w-full group/btn overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500 via-orange-600 to-pink-600 rounded-2xl blur opacity-50 group-hover/btn:opacity-100 transition-opacity duration-300"}),r.jsxs("div",{className:"relative bg-gradient-to-r from-orange-500 via-orange-600 to-pink-600 hover:from-orange-600 hover:via-orange-700 hover:to-pink-700 text-white px-6 py-3.5 rounded-2xl transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl font-bold text-sm border-2 border-orange-400/50 transform hover:scale-105 active:scale-95",children:[g?r.jsxs(r.Fragment,{children:[r.jsx(Yr,{className:"h-4 w-4"}),r.jsx("span",{children:l("productCard.customizeOrder")})]}):r.jsxs(r.Fragment,{children:[r.jsx(Nt,{className:"h-4 w-4"}),r.jsx("span",{children:l("productCard.addToCart")})]}),r.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover/btn:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/20 to-transparent"})]})]})})]}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none"})]})},AR=({categories:e,selectedCategory:t,searchTerm:a,favorites:n,onAddToCart:s,onRemoveFromCart:i,onToggleFavorite:o,onCategorySelect:l,onCustomize:c,getCartItemQuantity:u})=>{const{t:g}=qe(),[h,x]=p.useState(new Map),[b,y]=p.useState(!1),k=async P=>{y(!0);const E=new Map;try{const A=P.map(async M=>{const F=await u(M.branchProductId);return{productId:M.branchProductId,quantity:F}});(await Promise.all(A)).forEach(({productId:M,quantity:F})=>{E.set(M,F)}),x(E)}catch(A){console.error("Error loading product quantities:",A)}finally{y(!1)}},v=()=>{let P=[];return a?P=e.flatMap(E=>E.products.filter(A=>A.productName.toLowerCase().includes(a.toLowerCase()))):t?P=e.find(A=>A.categoryId===t)?.products||[]:P=e.flatMap(E=>E.products),P};p.useEffect(()=>{const P=v();P.length>0&&k(P)},[t,a,e]);const j=async(P,E)=>{await s(P,E);const A=await u(P.branchProductId);x(I=>new Map(I).set(P.branchProductId,A))},S=async P=>{await i(P);const E=await u(P);x(A=>new Map(A).set(P,E))},C=v();return e.length===0?r.jsx("div",{className:"text-center py-16",children:r.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-800/50 backdrop-blur-sm rounded-2xl p-8 border border-slate-200/50 dark:border-slate-700/50",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-3",children:g("menu.noCategories")}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:g("menu.noCategoriesDesc")})]})}):C.length===0?r.jsx("div",{className:"text-center py-16",children:r.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-800/50 backdrop-blur-sm rounded-2xl p-8 border border-slate-200/50 dark:border-slate-700/50",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-3",children:g(a?"menu.noSearchResults":"menu.noProducts")}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:a?`${g("menu.noSearchResultsDesc")} "${a}"`:g("menu.noProductsDesc")})]})}):r.jsxs("div",{className:"space-y-8",children:[a?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:g("menu.searchResults")}),r.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400 bg-slate-100/50 dark:bg-slate-700/50 px-3 py-1 rounded-full",children:[C.length," ",C.length===1?"result":"results",' for "',a,'"']})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(P=>r.jsx(m3,{product:P,cartQuantity:h.get(P.branchProductId)||0,isFavorite:n.has(P.branchProductId),onAddToCart:j,onRemoveFromCart:S,onToggleFavorite:o,onCustomize:c},P.branchProductId))}),r.jsxs("div",{className:"mt-8 p-4 bg-slate-50/50 dark:bg-slate-800/50 rounded-xl",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:g("menu.browseCategories")}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(P=>{const E=P.products.filter(A=>A.productName.toLowerCase().includes(a.toLowerCase()));return E.length===0?null:r.jsxs("button",{onClick:()=>{l(P.categoryId)},className:"text-xs bg-white/80 dark:bg-slate-700/80 hover:bg-orange-500 hover:text-white text-slate-700 dark:text-slate-300 px-3 py-2 rounded-lg transition-all duration-200 border border-slate-200/50 dark:border-slate-600/50",children:[P.categoryName," (",E.length,")"]},P.categoryId)})})]})]}):e.filter(P=>!t||P.categoryId===t).map(P=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:P.categoryName})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:P.products.map(E=>r.jsx(m3,{product:E,cartQuantity:h.get(E.branchProductId)||0,isFavorite:n.has(E.branchProductId),onAddToCart:j,onRemoveFromCart:S,onToggleFavorite:o,onCustomize:c},E.branchProductId))})]},P.categoryId)),b&&r.jsx("div",{className:"fixed bottom-4 right-4 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm p-3 rounded-lg shadow-lg border border-slate-200/50 dark:border-slate-700/50",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Updating cart..."})]})})]})},lme=({orderForm:e,setOrderForm:t,orderTypes:a,loadingOrderTypes:n,orderTotal:s,estimatedTime:i,totalPrice:o,loading:l,onBack:c,onCreate:u,paymentPreferences:g})=>{const{t:h}=qe(),x=()=>a.find(C=>C.id===e.orderTypeId),y=(()=>{const C=[];return g?.acceptCash&&C.push({value:"cash",label:h("order.form.cash"),icon:ov}),g?.acceptCreditCard&&C.push({value:"creditCard",label:h("order.form.creditCard"),icon:Ui}),g?.acceptOnlinePayment&&C.push({value:"onlinePayment",label:h("order.form.onlinePayment"),icon:Gl}),C})();if(n)return r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(ot,{className:"h-6 w-6 animate-spin text-orange-500"}),r.jsx("span",{className:"ml-2 text-slate-600 dark:text-slate-400",children:h("order.form.loadingOrderTypes")})]});const v=x()?.minOrderAmount||0,j=v>0&&o<v,S=l||a.length===0||!e.orderTypeId||j||y.length>0&&!e.paymentMethod;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[h("order.form.orderType")," *"]}),r.jsxs("select",{title:h("order.form.selectOrderType"),value:e.orderTypeId,onChange:C=>t(P=>({...P,orderTypeId:parseInt(C.target.value)})),className:"w-full text-sm p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",disabled:a.length===0,children:[r.jsx("option",{value:0,children:h("order.form.selectOrderType")}),a.map(C=>r.jsxs("option",{value:C.id,children:[C.name," ",C.serviceCharge>0&&`(+${h("order.form.service")} $${C.serviceCharge.toFixed(2)})`,C.minOrderAmount>0&&` - ${h("order.form.minimumOrder")}: $${C.minOrderAmount.toFixed(2)}`]},C.id))]}),x()&&r.jsxs("div",{className:"mt-2 text-xs space-y-1",children:[r.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:x()?.description}),x()?.minOrderAmount&&r.jsxs("p",{className:"text-blue-600 dark:text-blue-400",children:[h("order.form.minimumOrder"),": $",x()?.minOrderAmount.toFixed(2)]}),(x()?.serviceCharge??0)>0&&r.jsxs("p",{className:"text-orange-600 dark:text-orange-400",children:[h("order.form.serviceCharge"),": +$",(x()?.serviceCharge??0).toFixed(2)]}),x()?.estimatedMinutes&&r.jsxs("p",{className:"text-green-600 dark:text-green-400",children:[h("order.form.estimatedTime"),": ",x()?.estimatedMinutes," ",h("order.form.minutes")]})]}),a.length===0&&r.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:h("order.form.noOrderTypes")})]}),y.length>0&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[h("order.form.paymentMethod")," *"]}),r.jsx("div",{className:"grid grid-cols-1 gap-3",children:y.map(C=>{const P=C.icon,E=e.paymentMethod===C.value;return r.jsxs("button",{type:"button",onClick:()=>t(A=>({...A,paymentMethod:C.value})),className:`
                    flex items-center p-4 border-2 rounded-lg transition-all
                    ${E?"border-orange-500 bg-orange-50 dark:bg-orange-900/20":"border-slate-300 dark:border-slate-600 hover:border-orange-300 dark:hover:border-orange-700"}
                  `,children:[r.jsx(P,{className:`h-5 w-5 mr-3 ${E?"text-orange-500":"text-slate-500 dark:text-slate-400"}`}),r.jsx("span",{className:`font-medium ${E?"text-orange-600 dark:text-orange-400":"text-slate-700 dark:text-slate-300"}`,children:C.label}),E&&r.jsx("div",{className:"ml-auto w-5 h-5 rounded-full bg-orange-500 flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})})]},C.value)})}),!e.paymentMethod&&r.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:h("order.form.selectPaymentMethod")})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[r.jsx(ln,{className:"h-4 w-4 inline mr-1"}),h("order.form.customerName")," *"]}),r.jsx("input",{type:"text",value:e.customerName,onChange:C=>t(P=>({...P,customerName:C.target.value})),className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",placeholder:h("order.form.customerNamePlaceholder")})]}),x()?.requiresAddress&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[r.jsx($r,{className:"h-4 w-4 inline mr-1"}),h("order.form.deliveryAddress")," *"]}),r.jsx("textarea",{value:e.deliveryAddress,onChange:C=>t(P=>({...P,deliveryAddress:C.target.value})),className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",placeholder:h("order.form.deliveryAddressPlaceholder"),rows:3})]}),x()?.requiresPhone&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[r.jsx(Gr,{className:"h-4 w-4 inline mr-1"}),h("order.form.phoneNumber")," *"]}),r.jsx("input",{type:"tel",value:e.customerPhone,onChange:C=>t(P=>({...P,customerPhone:C.target.value})),className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",placeholder:h("order.form.phoneNumberPlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:h("order.form.specialInstructions")}),r.jsx("textarea",{value:e.notes,onChange:C=>t(P=>({...P,notes:C.target.value})),className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",placeholder:h("order.form.specialInstructionsPlaceholder"),rows:3})]}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-slate-800 dark:text-slate-200 mb-3",children:h("order.form.orderSummary")}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[h("order.form.subtotal"),":"]}),r.jsxs("span",{className:"text-slate-800 dark:text-slate-200",children:["$",o.toFixed(2)]})]}),s.serviceCharge>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[h("order.form.serviceCharge"),":"]}),r.jsxs("span",{className:"text-slate-800 dark:text-slate-200",children:["+$",s.serviceCharge.toFixed(2)]})]}),x()?.minOrderAmount&&o<x().minOrderAmount&&r.jsxs("div",{className:"flex justify-between text-red-600 dark:text-red-400",children:[r.jsxs("span",{className:"text-sm",children:[h("order.form.minimumRequired"),":"]}),r.jsxs("span",{className:"text-sm font-medium",children:["$",x().minOrderAmount.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between font-bold border-t border-slate-200 dark:border-slate-600 pt-2",children:[r.jsxs("span",{className:"text-slate-800 dark:text-slate-200",children:[h("menu.cart.total"),":"]}),r.jsxs("span",{className:`${x()?.minOrderAmount&&o<x().minOrderAmount?"text-red-600 dark:text-red-400":"text-orange-600 dark:text-orange-400"}`,children:["$",s.totalAmount.toFixed(2)]})]}),i>0&&r.jsxs("div",{className:"flex items-center text-slate-600 dark:text-slate-400 mt-2",children:[r.jsx(zt,{className:"h-4 w-4 mr-1"}),r.jsxs("span",{children:[h("order.form.estimatedTime"),": ",i," ",h("order.form.minutes")]})]})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:c,className:"flex-1 py-3 ml-2 px-4 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:h("order.form.backToCart")}),r.jsx("button",{onClick:u,disabled:S,className:"flex-1 bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 hover:from-orange-600 hover:via-orange-700 hover:to-pink-600 text-white py-3 px-4 rounded-lg font-medium transition-all duration-300 disabled:opacity-50",children:l?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(ot,{className:"h-4 w-4 mr-2 animate-spin"}),h("order.form.creating")]}):h("order.form.createOrder")})]})]})};class dme{baseUrl="/api/Basket";async getBasket(t){try{N.info("Basket getirme isteği gönderiliyor",{basketId:t},{prefix:"BasketService"});const a=`${this.baseUrl}/${t}`,n=await se.get(a),s=Array.isArray(n.data)?n.data:[],i=s.reduce((c,u)=>c+u.totalPrice,0),o=s.reduce((c,u)=>c+u.quantity,0),l={basketId:t,items:s,totalAmount:i,totalQuantity:o};return N.info("Basket başarıyla alındı",{basketId:t,itemsCount:s.length,totalAmount:i},{prefix:"BasketService"}),l}catch(a){N.error("Basket getirme hatası",a,{prefix:"BasketService"}),this.handleError(a,"Basket getirilirken hata oluştu")}}async deleteBasket(t){try{N.info("Basket silme isteği gönderiliyor",{basketId:t},{prefix:"BasketService"});const a=`${this.baseUrl}/${t}`;await se.delete(a),N.info("Basket başarıyla silindi",{basketId:t},{prefix:"BasketService"})}catch(a){N.error("Basket silme hatası",a,{prefix:"BasketService"}),this.handleError(a,"Basket silinirken hata oluştu")}}async getMyBasket(){try{N.info("My basket getirme isteği gönderiliyor",{},{prefix:"BasketService"});const t=`${this.baseUrl}/my-basket`,a=await se.get(t);let n;if(a.data&&a.data.basketId)n=a.data;else if(a.data&&a.data.data&&a.data.data.basketId)n=a.data.data;else return{basketId:"empty",items:[],totalAmount:0,totalQuantity:0};const s={basketId:n.basketId||"unknown",items:n.basketItems||[],totalAmount:n.totalPrice||0,totalQuantity:n.totalQuantity||0};return N.info("My basket başarıyla alındı",{basketId:s.basketId,itemsCount:s.items.length,totalAmount:s.totalAmount,totalQuantity:s.totalQuantity},{prefix:"BasketService"}),s}catch(t){if(N.error("My basket getirme hatası",t,{prefix:"BasketService"}),t?.response?.status===404)return{basketId:"empty",items:[],totalAmount:0,totalQuantity:0};this.handleError(t,"My basket getirilirken hata oluştu")}}async deleteMyBasket(){try{N.info("My basket silme isteği gönderiliyor",{},{prefix:"BasketService"});const t=`${this.baseUrl}/my-basket`;await se.delete(t),N.info("My basket başarıyla silindi",{},{prefix:"BasketService"})}catch(t){N.error("My basket silme hatası",t,{prefix:"BasketService"}),this.handleError(t,"My basket silinirken hata oluştu")}}async confirmSessionPriceChanges(t){try{N.info("Session price changes onaylama isteği gönderiliyor",{sessionId:t},{prefix:"BasketService"});const a=`${this.baseUrl}/session/${t}/confirm-price-changes`,n=await se.post(a);N.info("Session price changes başarıyla onaylandı",{sessionId:t},{prefix:"BasketService"})}catch(a){N.error("Session price changes onaylama hatası",a,{prefix:"BasketService"}),this.handleError(a,"Price changes onaylanırken hata oluştu")}}async getRecommendedAddons(t){try{N.info("Recommended addons getirme isteği gönderiliyor",{branchProductId:t},{prefix:"BasketService"});const a=`${this.baseUrl}/products/${t}/recommended-addons`,n=await se.get(a),s=Array.isArray(n.data)?n.data:[];return N.info("Recommended addons başarıyla alındı",{branchProductId:t,addonsCount:s.length},{prefix:"BasketService"}),s}catch(a){N.error("Recommended addons getirme hatası",a,{prefix:"BasketService"}),this.handleError(a,"Recommended addons getirilirken hata oluştu")}}async getTableSummary(){try{N.info("Table summary getirme isteği gönderiliyor",{},{prefix:"BasketService"});const t=`${this.baseUrl}/table-summary`,a=await se.get(t);return N.info("Table summary başarıyla alındı",{totalAmount:a.data.totalAmount,totalQuantity:a.data.totalQuantity,itemsCount:a.data.itemsCount},{prefix:"BasketService"}),a.data}catch(t){N.error("Table summary getirme hatası",t,{prefix:"BasketService"}),this.handleError(t,"Table summary getirilirken hata oluştu")}}async addUnifiedItemToBasket(t,a){try{N.info("Unified item ekleme isteği gönderiliyor",{basketId:t,data:a},{prefix:"BasketService"});const n=`${this.baseUrl}/${t}/unified-items`,s=await se.post(n,a);return N.info("Unified item başarıyla eklendi",{basketId:t},{prefix:"BasketService"}),s.data}catch(n){N.error("Unified item ekleme hatası",n,{prefix:"BasketService"}),this.handleError(n,"Unified item eklenirken hata oluştu")}}async addUnifiedItemToMyBasket(t){try{N.info("My basket unified item ekleme isteği gönderiliyor",{data:t},{prefix:"BasketService"}),console.log("Adding unified item to my basket with data:",t);const a=`${this.baseUrl}/my-basket/unified-items`,n=await se.post(a,t);return N.info("My basket unified item başarıyla eklendi",{},{prefix:"BasketService"}),n.data}catch(a){N.error("My basket unified item ekleme hatası",a,{prefix:"BasketService"}),this.handleError(a,"My basket unified item eklenirken hata oluştu")}}async batchAddItemsToMyBasket(t){try{N.info("My basket batch items ekleme isteği gönderiliyor",{itemsCount:t.length},{prefix:"BasketService"});const a=`${this.baseUrl}/my-basket/items/batch`,n=await se.post(a,t);return N.info("My basket batch items başarıyla eklendi",{response:n.data},{prefix:"BasketService"}),n.data}catch(a){N.error("My basket batch items ekleme hatası",a,{prefix:"BasketService"}),this.handleError(a,"My basket batch items eklenirken hata oluştu")}}async updateMyBasketItem(t,a){try{N.info("My basket item güncelleme isteği gönderiliyor",{basketItemId:t,data:a},{prefix:"BasketService"});const n=`${this.baseUrl}/my-basket/items/${t}`,s={basketId:a.basketId,updateDto:{basketItemId:a.basketItemId,branchProductId:a.branchProductId,quantity:a.quantity}},i=await se.put(n,s);return N.info("My basket item başarıyla güncellendi",{basketItemId:t},{prefix:"BasketService"}),i.data}catch(n){N.error("My basket item güncelleme hatası",n,{prefix:"BasketService"}),this.handleError(n,"My basket item güncellenirken hata oluştu")}}async deleteMyBasketItem(t){try{N.info("My basket item silme isteği gönderiliyor",{basketItemId:t},{prefix:"BasketService"});const a=`${this.baseUrl}/my-basket/items/${t}`;await se.delete(a),N.info("My basket item başarıyla silindi",{basketItemId:t},{prefix:"BasketService"})}catch(a){N.error("My basket item silme hatası",a,{prefix:"BasketService"}),this.handleError(a,"My basket item silinirken hata oluştu")}}async deleteMyBasketProduct(t){try{N.info("My basket product silme isteği gönderiliyor",{basketItemId:t},{prefix:"BasketService"});const a=`${this.baseUrl}/my-basket/products/${t}`;await se.delete(a),N.info("My basket product başarıyla silindi",{basketItemId:t},{prefix:"BasketService"})}catch(a){N.error("My basket product silme hatası",a,{prefix:"BasketService"}),this.handleError(a,"My basket product silinirken hata oluştu")}}async deleteMyBasketAddon(t){try{N.info("My basket addon silme isteği gönderiliyor",{addonBasketItemId:t},{prefix:"BasketService"});const a=`${this.baseUrl}/my-basket/addons/${t}`;await se.delete(a),N.info("My basket addon başarıyla silindi",{addonBasketItemId:t},{prefix:"BasketService"})}catch(a){N.error("My basket addon silme hatası",a,{prefix:"BasketService"}),this.handleError(a,"My basket addon silinirken hata oluştu")}}async getActiveBasket(){try{N.info("Active basket getirme isteği gönderiliyor",{},{prefix:"BasketService"});const t=`${this.baseUrl}/active`,n=(await se.get(t)).data,s={basketId:n.basketId,items:n.basketItems||[],totalAmount:n.totalPrice,totalQuantity:n.totalQuantity};return N.info("Active basket başarıyla alındı",{basketId:s.basketId,itemsCount:s.items.length,totalAmount:s.totalAmount,totalQuantity:s.totalQuantity},{prefix:"BasketService"}),s}catch(t){N.error("Active basket getirme hatası",t,{prefix:"BasketService"}),this.handleError(t,"Active basket getirilirken hata oluştu")}}handleError(t,a){if(t?.response?.status===400){const n=t?.response?.data;if(n?.errors){const s=Object.values(n.errors).flat();throw new Error(`Doğrulama hatası: ${s.join(", ")}`)}else throw new Error("Geçersiz istek. Lütfen verileri kontrol edin.")}else throw t?.response?.status===401?new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."):t?.response?.status===403?new Error("Bu işlem için yetkiniz bulunmuyor."):t?.response?.status===404?new Error("Sepet bulunamadı."):t?.response?.status===409?new Error("Bu kayıt zaten mevcut."):t?.response?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`${a}: ${t?.message||"Bilinmeyen hata"}`)}}const ha=new dme,MR=({isVisible:e,priceChanges:t,confirmingPriceChanges:a,onCancel:n,onConfirm:s})=>{const{t:i}=qe(),o=ha.getMyBasket();return e?(console.log("Price Change Modal Rendered",t,o),r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 max-w-md w-full border border-slate-200 dark:border-slate-700 shadow-xl",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-12 h-12 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(oa,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),r.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-2",children:i("priceChange.title")}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:i("priceChange.description")})]}),t&&r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg mb-6",children:[r.jsx("h4",{className:"font-medium text-slate-800 dark:text-slate-200 mb-2",children:i("priceChange.changesRequired")}),r.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:typeof t=="string"?r.jsx("p",{children:t}):t?.message?r.jsx("p",{children:t.message}):r.jsx("p",{children:i("priceChange.defaultMessage")})})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:n,disabled:a,className:"flex-1 py-3 px-4 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors disabled:opacity-50",children:i("priceChange.cancel")}),r.jsx("button",{onClick:s,disabled:a,className:"flex-1 bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 hover:from-orange-600 hover:via-orange-700 hover:to-pink-600 text-white py-3 px-4 rounded-lg font-medium transition-all duration-300 disabled:opacity-50",children:a?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(ot,{className:"h-4 w-4 mr-2 animate-spin"}),i("priceChange.confirming")]}):i("priceChange.confirm")})]})]})})):null};class Wb{static formatCartItems(t){let a=`*🛒 ORDER DETAILS:*

`;return t.forEach((n,s)=>{a+=`${s+1}. *${n.productName}* x${n.quantity}
`,a+=`   💰 ${n.price.toFixed(2)} TRY each
`,n.addons&&n.addons.length>0&&(a+=`   📎 *Add-ons:*
`,n.addons.forEach(o=>{a+=`      • ${o.addonName} x${o.quantity} (+${o.price.toFixed(2)} TRY each)
`}));const i=n.totalItemPrice*n.quantity;a+=`   💵 *Item Total: ${i.toFixed(2)} TRY*

`}),a}static formatOrderSummary(t){let a=`*🎯 NEW ORDER RECEIVED!*

`;a+=`*📋 Order Tag:* ${t.orderTag}
`,a+=`*👤 Customer:* ${t.customerName}
`,a+=`*🔄 Order Type:* ${t.orderType}
`,t.tableId&&(a+=`*🪑 Table:* ${t.tableId}
`),t.deliveryAddress&&(a+=`*📍 Delivery Address:* ${t.deliveryAddress}
`),t.estimatedTime&&(a+=`*⏱️ Estimated Time:* ${t.estimatedTime} minutes
`),a+=`
`,a+=this.formatCartItems(t.cart);const n=t.totalPrice-(t.serviceCharge||0);return a+=`*💰 PRICE BREAKDOWN:*
`,a+=`Subtotal: ${n.toFixed(2)} TRY
`,t.serviceCharge&&t.serviceCharge>0&&(a+=`Service Charge: ${t.serviceCharge.toFixed(2)} TRY
`),a+=`*TOTAL: ${t.totalPrice.toFixed(2)} TRY*

`,t.notes&&t.notes.trim()&&(a+=`*📝 Special Notes:*
${t.notes}

`),a+=`*🕐 Order Time:* ${new Date().toLocaleString("tr-TR")}
`,a+=`
_This order was automatically sent from your QR Menu system._`,a}static async sendOrderToWhatsApp(t,a){try{const n=this.formatOrderSummary(a),s=encodeURIComponent(n),i=`https://wa.me/${t}?text=${s}`;window.open(i,"_blank")}catch(n){throw console.error("Error sending WhatsApp message:",n),new Error("Failed to send WhatsApp message")}}static isWhatsAppEnabled(t){return t?.useWhatsappForOrders===!0&&t?.whatsappOrderNumber&&t.whatsappOrderNumber.trim().length>0}static formatWhatsAppNumber(t){const a=t.replace(/\D/g,"");return a.startsWith("0")?"90"+a.substring(1):!a.startsWith("90")&&a.length===10?"90"+a:a}static formatSimpleOrderText(t){let a=`NEW ORDER: ${t.orderTag}
`;return a+=`Customer: ${t.customerName}
`,a+=`Type: ${t.orderType}

`,a+=`ITEMS:
`,t.cart.forEach((n,s)=>{a+=`${s+1}. ${n.productName} x${n.quantity} - ${(n.totalItemPrice*n.quantity).toFixed(2)} TRY
`,n.addons&&n.addons.length>0&&n.addons.forEach(i=>{a+=`   + ${i.addonName} x${i.quantity}
`})}),a+=`
TOTAL: ${t.totalPrice.toFixed(2)} TRY
`,t.notes&&(a+=`Notes: ${t.notes}
`),a}}const cme=({cart:e,setCart:t,setLoading:a,setError:n,basketId:s,setBasketId:i,sessionId:o,orderForm:l,orderTypes:c,totalPrice:u,trackedOrders:g,setTrackedOrders:h,onOrderCreated:x,setShowPriceChangeModal:b,setPriceChanges:y,setValidationErrors:k,setShowOrderForm:v,setOrderForm:j,tableId:S,restaurantPreferences:C,setPendingWhatsAppData:P,setShowWhatsAppConfirmation:E})=>{const A=G=>{if(!G||G==="empty"||G.trim()==="")return null;const ee=G.trim();return ee.startsWith("session_")?ee.replace("session_",""):ee},I=G=>{let ee=G.price;if(G.addons&&G.addons.length>0){const ue=G.addons.reduce((le,ae)=>le+ae.price*ae.quantity,0);ee+=ue}return ee},M=()=>c.find(G=>G.id===l.orderTypeId),F=async G=>{try{const ee=Wb.formatWhatsAppNumber(C.whatsappOrderNumber);await Wb.sendOrderToWhatsApp(ee,G)}catch(ee){throw console.error("Error sending WhatsApp notification:",ee),ee}},Q=async()=>{try{a(!0),n(null);const G=await ha.getMyBasket();i(G.basketId);const ee=G.items.map(ue=>{const le=ue.addonItems?.map(ae=>({branchProductAddonId:ae.branchProductId,addonName:ae.productName||"",price:ae.price||0,quantity:ae.quantity,minQuantity:ae.minQuantity,maxQuantity:ae.maxQuantity,basketItemId:ae.basketItemId}));return{basketItemId:ue.basketItemId,branchProductId:ue.branchProductId,productName:ue.productName||"",price:ue.price||0,quantity:ue.quantity,productImageUrl:ue.imageUrl??void 0,addons:le,totalItemPrice:ue.totalPrice||0}});t(ee)}catch(G){console.error("Error loading basket:",G),n("Failed to load basket")}finally{a(!1)}},U=async()=>{try{a(!0),n(null),await ha.deleteMyBasket(),t([]),i(null)}catch(G){console.error("Error clearing basket:",G),n("Failed to clear basket")}finally{a(!1)}},V=async G=>{try{a(!0),n(null),await ha.deleteMyBasketItem(G),await Q()}catch(ee){console.error("Error removing from basket:",ee),n("Failed to remove item from basket")}finally{a(!1)}},K=async G=>{if(G)try{a(!0),n(null);const ee=e.find(ue=>ue.basketItemId===G);if(!ee){console.error("Cart item not found");return}await ha.addUnifiedItemToMyBasket({branchProductId:ee.branchProductId,quantity:1}),await Q()}catch(ee){console.error("Error increasing parent item quantity:",ee),n("Failed to increase item quantity")}finally{a(!1)}},Z=async G=>{if(G)try{a(!0),n(null),await ha.deleteMyBasketItem(G),await Q()}catch(ee){console.error("Error decreasing parent item quantity:",ee),n("Failed to decrease item quantity")}finally{a(!1)}},ie=async G=>{try{a(!0),n(null);let ee=null,ue=null;for(const ae of e)if(ae.addons){const Be=ae.addons.find(he=>he.basketItemId===G);if(Be){ee=Be.branchProductAddonId,ue=ae.basketItemId??null;break}}if(!ee||!ue){console.error("Could not find addon product ID");return}const le=[{branchProductId:ee,quantity:1,parentBasketItemId:ue}];await ha.batchAddItemsToMyBasket(le),await Q()}catch(ee){console.error("Error increasing addon quantity:",ee),n("Failed to increase addon quantity")}finally{a(!1)}},te=G=>G.maxQuantity?G.quantity<G.maxQuantity:!0,R=G=>G.minQuantity?G.quantity>G.minQuantity:G.quantity>0,D=G=>G.minQuantity&&G.quantity<G.minQuantity?`Minimum quantity for ${G.addonName} is ${G.minQuantity}`:G.maxQuantity&&G.quantity>G.maxQuantity?`Maximum quantity for ${G.addonName} is ${G.maxQuantity}`:null,W=()=>{const G=[];return e.forEach(ee=>{ee.addons&&ee.addons.forEach(ue=>{const le=D(ue);le&&G.push(le)})}),G},X=()=>{const G=[],ee=M();return ee?.minOrderAmount&&u<ee.minOrderAmount&&G.push(`Minimum order amount for ${ee.name} is ${ee.minOrderAmount.toFixed(2)}. Current total: ${u.toFixed(2)}`),G},B=()=>{const G=[];l.customerName.trim()||G.push("Customer name is required"),l.orderTypeId||G.push("Please select an order type");const ee=M(),ue=X();return G.push(...ue),ee?.requiresAddress&&!l.deliveryAddress?.trim()&&G.push("Delivery address is required for this order type"),ee?.requiresPhone&&(l.customerPhone?.trim()||G.push("Phone number is required for this order type")),G},H=async G=>{try{const ee=await Lt.trackOrder(G);h([{orderTag:G,trackingInfo:ee,createdAt:new Date},...g])}catch(ee){console.error("Error adding order to tracking:",ee)}},z=async()=>{try{const G=A(o);if(G)try{const ee=await ha.confirmSessionPriceChanges(G);y(ee),b(!1),await $()}catch{y({message:"Some items in your basket have price changes that need to be confirmed.",requiresConfirmation:!0})}else y({message:"Price changes detected. Please confirm to continue with your order.",requiresConfirmation:!0})}catch(G){console.error("❌ Error handling price change confirmation:",G),n("Failed to load price change details")}},$=async()=>{try{a(!0),n(null),k([]);const G=W(),ee=B(),ue=[...G,...ee];if(ue.length>0){k(ue),a(!1);return}const le=M(),ae={customerName:l.customerName.trim(),notes:l.notes.trim()||void 0,orderTypeId:l.orderTypeId,...l.tableId&&{tableId:l.tableId},...le?.requiresAddress||l.deliveryAddress?.trim()?{deliveryAddress:l.deliveryAddress?.trim()}:{},...le?.requiresPhone||l.customerPhone?.trim()?{customerPhone:l.customerPhone?.trim()}:{}},Be=await Lt.createSessionOrder(ae),he=le?.serviceCharge||0;if(Be.orderTag&&Wb.isWhatsAppEnabled(C)){const we={orderTag:Be.orderTag,customerName:l.customerName,cart:e,totalPrice:u,orderType:le?.name||"Standard",notes:l.notes,tableId:l.tableId,deliveryAddress:l.deliveryAddress,estimatedTime:le?.estimatedMinutes,serviceCharge:he};P&&E?(P(we),E(!0)):console.warn("WhatsApp confirmation functions not available - setPendingWhatsAppData:",!!P,"setShowWhatsAppConfirmation:",!!E)}else console.log("WhatsApp not enabled or no order tag, skipping confirmation");Be.orderTag&&await H(Be.orderTag),t([]),i(null),v(!1),j({customerName:"",notes:"",orderTypeId:0,tableId:S,deliveryAddress:"",customerPhone:"",paymentMethod:""}),x&&x(Be.orderId),n(null)}catch(G){console.error("❌ Error creating order:",G),b(!0)}finally{a(!1)}};return{loadBasket:Q,clearBasket:U,removeFromBasket:V,handleQuantityIncrease:K,handleQuantityDecrease:Z,handleAddonQuantityIncrease:ie,canIncreaseAddonQuantity:te,canDecreaseAddonQuantity:R,getAddonQuantityError:D,createOrder:$,loadOrderTracking:async G=>{try{a(!0),n(null);const ee=await Lt.trackOrder(G);h(ue=>ue.map(le=>le.orderTag===G?{...le,trackingInfo:ee}:le))}catch(ee){console.error("Error loading order tracking:",ee),n("Failed to load order tracking information")}finally{a(!1)}},removeOrderFromTracking:G=>{h(ue=>ue.filter(le=>le.orderTag!==G)),g.filter(ue=>ue.orderTag!==G).length===0&&localStorage.removeItem("trackedOrders")},refreshAllPendingOrders:async()=>{const G=g.filter(ee=>ee.trackingInfo.orderStatus==="Pending");for(const ee of G)try{const ue=await Lt.trackOrder(ee.orderTag);h(le=>le.map(ae=>ae.orderTag===ee.orderTag?{...ae,trackingInfo:ue}:ae))}catch(ue){console.error(`Error updating order ${ee.orderTag}:`,ue)}},calculateItemTotalPrice:I,getSelectedOrderType:M,handlePriceChangeConfirmation:z,sendOrderToWhatsApp:F}},ume=({group:e,loading:t,onQuantityIncrease:a,onQuantityDecrease:n,onAddonQuantityIncrease:s,onRemoveFromBasket:i,canIncreaseAddonQuantity:o,canDecreaseAddonQuantity:l,getAddonQuantityError:c})=>{const{t:u}=qe();return r.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-800/50 p-4 rounded-xl backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4 pb-3 border-b border-slate-200/50 dark:border-slate-600/50",children:[e.product.productImageUrl&&r.jsx("img",{src:e.product.productImageUrl||"/placeholder.svg",alt:e.product.productName,className:"w-12 h-12 object-cover rounded-lg shadow-md"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-100 text-base",children:e.product.productName}),r.jsxs("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:[e.variants.length," ",e.variants.length>1?u("menu.cart.variants"):u("menu.cart.variant")," • ",u("menu.cart.total"),": ",e.totalQuantity," ",e.totalQuantity>1?u("menu.cart.items"):u("menu.cart.item")]})]}),r.jsx("div",{className:"text-right"})]}),r.jsx("div",{className:"space-y-4",children:e.variants.map(g=>r.jsxs("div",{className:"bg-white/50 dark:bg-slate-700/30 p-3 rounded-lg border border-slate-200/30 dark:border-slate-600/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[g.isPlain?r.jsx("span",{className:"text-xs bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:u("menu.cart.plain")}):r.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-full flex items-center",children:[r.jsx(Yr,{className:"h-2 w-2 mr-1"}),u("menu.cart.customized")]}),r.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:["$",e.product.price.toFixed(2)," × ",g.quantity]})]}),r.jsx("div",{className:"flex items-center space-x-1",children:r.jsxs("div",{className:"flex items-center space-x-1 bg-white dark:bg-slate-700 rounded-lg p-0.5",children:[r.jsx("button",{onClick:()=>n(g.basketItemId),disabled:t,className:"w-5 h-5 bg-red-500 hover:bg-red-600 text-white rounded flex items-center justify-center transition-colors disabled:opacity-50",title:u("menu.cart.decreaseQuantity"),children:r.jsx(oi,{className:"h-2 w-2"})}),r.jsx("span",{className:"w-6 text-center font-bold text-xs text-slate-800 dark:text-slate-100",children:g.quantity}),r.jsx("button",{onClick:()=>a(g.basketItemId),disabled:t,className:"w-5 h-5 bg-orange-500 hover:bg-orange-600 text-white rounded flex items-center justify-center transition-colors disabled:opacity-50",title:u("menu.cart.increaseQuantity"),children:r.jsx(Nt,{className:"h-2 w-2"})})]})})]}),g.addons&&g.addons.length>0&&r.jsxs("div",{className:"mb-3",children:[r.jsxs("p",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 mb-2",children:[u("menu.cart.addons"),":"]}),r.jsx("div",{className:"space-y-2",children:g.addons.map(h=>{const x=l(h),b=o(h),y=c(h);return r.jsxs("div",{className:"flex justify-between items-center bg-amber-50 dark:bg-amber-900/20 p-2 rounded",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-xs text-slate-700 dark:text-slate-300 font-medium",children:h.addonName}),r.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:["$",h.price.toFixed(2)," ",u("menu.cart.each")," × ",h.quantity]}),(h.minQuantity||h.maxQuantity)&&r.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:h.minQuantity&&h.maxQuantity?`${u("menu.cart.qty")}: ${h.minQuantity}-${h.maxQuantity}`:h.minQuantity?`${u("menu.cart.min")}: ${h.minQuantity}`:`${u("menu.cart.max")}: ${h.maxQuantity}`}),y&&r.jsx("div",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:y})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"flex items-center space-x-1 bg-white dark:bg-slate-700 rounded p-0.5",children:[r.jsx("button",{onClick:()=>h.basketItemId&&i(h.basketItemId),disabled:t||!h.basketItemId||!x,className:`w-4 h-4 text-white rounded flex items-center justify-center transition-colors disabled:opacity-50 ${x?"bg-red-500 hover:bg-red-600":"bg-gray-400 cursor-not-allowed"}`,title:x?u("menu.cart.decreaseQuantity"):u("menu.cart.minQuantityError",{name:h.addonName,min:h.minQuantity||0}),children:r.jsx(oi,{className:"h-2 w-2"})}),r.jsx("span",{className:"w-4 text-center font-bold text-xs text-slate-800 dark:text-slate-100",children:h.quantity}),r.jsx("button",{onClick:()=>h.basketItemId&&s(h.basketItemId),disabled:t||!h.basketItemId||!b,className:`w-4 h-4 text-white rounded flex items-center justify-center transition-colors disabled:opacity-50 ${b?"bg-orange-500 hover:bg-orange-600":"bg-gray-400 cursor-not-allowed"}`,title:b?u("menu.cart.increaseQuantity"):u("menu.cart.maxQuantityError",{name:h.addonName,max:h.maxQuantity??0}),children:r.jsx(Nt,{className:"h-2 w-2"})})]}),r.jsxs("div",{className:"text-xs font-medium text-orange-600 dark:text-orange-400 ml-1",children:["+$",(h.price*h.quantity).toFixed(2)]})]})]},h.branchProductAddonId)})})]})]},g.basketItemId||g.cartIndex))})]})},mme=()=>{const{t:e}=qe();return r.jsx("div",{className:"text-center py-16",children:r.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-800/50 backdrop-blur-sm rounded-2xl p-8 border border-slate-200/50 dark:border-slate-700/50",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-200 to-slate-300 dark:from-slate-700 dark:to-slate-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:r.jsx(Aa,{className:"h-8 w-8 text-slate-400 dark:text-slate-500"})}),r.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-3",children:e("menu.cart.empty")}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:e("menu.cart.emptyDesc")})]})})},gme=({cart:e,groupedItems:t,totalPrice:a,loading:n,onProceedToOrder:s,onQuantityIncrease:i,onQuantityDecrease:o,onAddonQuantityIncrease:l,onRemoveFromBasket:c,canIncreaseAddonQuantity:u,canDecreaseAddonQuantity:g,getAddonQuantityError:h})=>{const{t:x}=qe();return e.length===0?r.jsx(mme,{}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-6 mb-6",children:t.map(b=>r.jsx(ume,{group:b,loading:n,onQuantityIncrease:i,onQuantityDecrease:o,onAddonQuantityIncrease:l,onRemoveFromBasket:c,canIncreaseAddonQuantity:u,canDecreaseAddonQuantity:g,getAddonQuantityError:h},b.product.branchProductId))}),r.jsxs("div",{className:"border-t border-slate-200/50 dark:border-slate-700/50 pt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 rounded-xl",children:[r.jsx("span",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:x("menu.cart.total")}),r.jsxs("span",{className:"text-xl font-bold bg-gradient-to-r from-orange-600 via-orange-500 to-pink-500 bg-clip-text text-transparent",children:["$",a.toFixed(2)]})]}),r.jsx("button",{onClick:s,disabled:n||e.length===0,className:"w-full bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 hover:from-orange-600 hover:via-orange-700 hover:to-pink-600 text-white py-4 rounded-xl font-bold text-sm transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:opacity-50 disabled:transform-none",children:n?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(ot,{className:"h-4 w-4 mr-2 animate-spin"}),x("menu.cart.processing")]}):r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("span",{children:x("menu.cart.proceed")}),r.jsx(Ii,{className:"h-4 w-4 ml-2"})]})})]})]})},hme=({trackedOrders:e,trackingLoading:t,onLoadOrderTracking:a,onRemoveOrderFromTracking:n})=>{const s=o=>{switch(o.toLowerCase()){case"pending":return"text-yellow-600 bg-yellow-100 border-yellow-200 dark:text-yellow-400 dark:bg-yellow-900/30 dark:border-yellow-800";case"confirmed":return"text-blue-600 bg-blue-100 border-blue-200 dark:text-blue-400 dark:bg-blue-900/30 dark:border-blue-800";case"preparing":return"text-orange-600 bg-orange-100 border-orange-200 dark:text-orange-400 dark:bg-orange-900/30 dark:border-orange-800";case"ready":return"text-green-600 bg-green-100 border-green-200 dark:text-green-400 dark:bg-green-900/30 dark:border-green-800";case"completed":return"text-green-700 bg-green-200 border-green-300 dark:text-green-300 dark:bg-green-800/30 dark:border-green-700";default:return"text-gray-600 bg-gray-100 border-gray-200 dark:text-gray-400 dark:bg-gray-800/30 dark:border-gray-700"}},i=o=>{switch(o.toLowerCase()){case"pending":return r.jsx(zt,{className:"h-4 w-4"});case"confirmed":case"preparing":case"ready":return r.jsx(zt,{className:"h-4 w-4"});case"completed":return r.jsx(xt,{className:"h-4 w-4"});default:return r.jsx(zt,{className:"h-4 w-4"})}};return e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(dv,{className:"h-12 w-12 text-slate-400 dark:text-slate-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-slate-600 dark:text-slate-400 mb-2",children:"No Orders Yet"}),r.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500",children:"Your orders will appear here once you place them"})]}):r.jsx("div",{className:"space-y-4",children:e.map(o=>r.jsx(pme,{order:o,trackingLoading:t,getStatusColor:s,getStatusIcon:i,onLoadOrderTracking:a,onRemoveOrderFromTracking:n},o.orderTag))})},pme=({order:e,trackingLoading:t,getStatusColor:a,getStatusIcon:n,onLoadOrderTracking:s,onRemoveOrderFromTracking:i})=>{const{t:o}=qe();return r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[r.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:e.orderTag}),r.jsxs("div",{className:`px-2 py-1 rounded-lg border text-xs font-medium flex items-center space-x-1 ${a(e.trackingInfo.orderStatus)}`,children:[n(e.trackingInfo.orderStatus),r.jsx("span",{children:e.trackingInfo.orderStatus})]})]}),r.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:e.createdAt.toLocaleString()})]}),r.jsxs("div",{className:"p-4 space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:o("menu.cart.orderType")}),r.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:e.trackingInfo.orderTypeName})]}),e.trackingInfo.tableName&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:o("menu.cart.table")}),r.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:e.trackingInfo.tableName})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:o("menu.cart.total")}),r.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["$",e.trackingInfo.totalPrice.toFixed(2)]})]}),e.trackingInfo.notes&&r.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-700 p-2 rounded",children:[r.jsx("strong",{children:o("menu.cart.notes")})," ",e.trackingInfo.notes]})]}),r.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 border-t border-slate-200 dark:border-slate-600 flex space-x-2",children:[e.trackingInfo.orderStatus==="Pending"&&r.jsx("button",{onClick:()=>s(e.orderTag),disabled:t,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-3 rounded-lg text-xs font-medium transition-colors disabled:opacity-50",children:t?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(ot,{className:"h-3 w-3 mr-1 animate-spin"}),o("menu.cart.refreshing")]}):o("menu.cart.refresh")}),r.jsx("button",{onClick:()=>i(e.orderTag),className:"px-3 py-2 text-slate-600 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400 text-xs transition-colors",children:o("menu.cart.remove")})]})]})},IR=({isVisible:e,restaurantName:t,whatsappNumber:a,onConfirm:n,onCancel:s,loading:i=!1})=>{const{t:o,isRTL:l}=qe();if(!e)return null;const c=u=>{if(!u)return"";const g=u.replace(/\D/g,"");return g.startsWith("90")?`+90 ${g.slice(2,5)} ${g.slice(5,8)} ${g.slice(8,10)} ${g.slice(10,12)}`:`+${g}`};return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-2xl max-w-sm w-full border border-slate-200 dark:border-slate-700 overflow-hidden ${l?"text-right":"text-left"}`,children:[r.jsxs("div",{className:"bg-[#128C7E] px-4 py-3 flex items-center justify-between",children:[r.jsxs("div",{className:`flex items-center space-x-3 ${l?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:r.jsx(SF,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-white font-medium text-sm",children:t||o("whatsapp.confirmation.restaurant")}),r.jsx("p",{className:"text-white/80 text-xs",children:a?c(a):"WhatsApp Business"})]})]}),r.jsx("button",{onClick:s,disabled:i,className:"p-2 hover:bg-white/10 rounded-full transition-colors disabled:opacity-50",children:r.jsx(at,{className:"w-4 h-4 text-white"})})]}),r.jsxs("div",{className:"bg-[#E5DDD5] dark:bg-slate-700 min-h-[400px] p-4 space-y-3",children:[r.jsx("div",{className:`flex ${l?"flex-row-reverse":""}`,children:r.jsxs("div",{className:"max-w-[85%]",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-600 rounded-lg p-3 shadow-sm",children:[r.jsx("p",{className:"text-sm text-slate-800 dark:text-slate-200 mb-1",children:o("whatsapp.confirmation.title")}),r.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:o("whatsapp.confirmation.subtitle")})]}),r.jsx("p",{className:"text-xs text-slate-500 mt-1 px-2",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),r.jsx("div",{className:`flex ${l?"flex-row-reverse":""}`,children:r.jsxs("div",{className:"max-w-[95%]",children:[r.jsx("div",{className:"bg-[#DCF8C6] dark:bg-green-900/30 rounded-lg p-4 shadow-sm"}),r.jsxs("div",{className:"flex items-center justify-end mt-1 px-2",children:[r.jsx(dS,{className:"w-3 h-3 text-blue-500 mr-1"}),r.jsx("p",{className:"text-xs text-slate-500",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})}),r.jsx("div",{className:`flex ${l?"flex-row-reverse":""}`,children:r.jsxs("div",{className:"max-w-[85%]",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-600 rounded-lg p-3 shadow-sm",children:[r.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-slate-200 mb-2",children:o("whatsapp.confirmation.whatWillBeSent")}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center text-xs text-slate-600 dark:text-slate-400",children:[r.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full mr-2"}),o("whatsapp.confirmation.orderDetails")]}),r.jsxs("div",{className:"flex items-center text-xs text-slate-600 dark:text-slate-400",children:[r.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full mr-2"}),o("whatsapp.confirmation.customerInfo")]}),r.jsxs("div",{className:"flex items-center text-xs text-slate-600 dark:text-slate-400",children:[r.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full mr-2"}),o("whatsapp.confirmation.totalPrice")]}),r.jsxs("div",{className:"flex items-center text-xs text-slate-600 dark:text-slate-400",children:[r.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full mr-2"}),o("whatsapp.confirmation.timestamp")]})]})]}),r.jsxs("div",{className:"flex items-center justify-end mt-1 px-2",children:[r.jsx(dS,{className:"w-3 h-3 text-blue-500 mr-1"}),r.jsx("p",{className:"text-xs text-slate-500",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})}),r.jsx("div",{className:`flex ${l?"flex-row-reverse":""}`,children:r.jsxs("div",{className:"max-w-[90%]",children:[r.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-xs text-yellow-800",children:"!"})}),r.jsxs("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:[r.jsx("strong",{children:o("whatsapp.confirmation.note")})," ",o("whatsapp.confirmation.noteDescription")]})]})}),r.jsx("p",{className:"text-xs text-slate-500 mt-1 px-2",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})]}),r.jsx("div",{className:"bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 p-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:s,disabled:i,className:"flex-1 px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-full transition-colors disabled:opacity-50",children:o("whatsapp.confirmation.skipWhatsApp")}),r.jsx("button",{onClick:n,disabled:i,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-[#25D366] hover:bg-[#22c55e] disabled:bg-[#25D366]/60 rounded-full transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r.jsx("span",{children:o("whatsapp.confirmation.sending")})]}):r.jsxs(r.Fragment,{children:[r.jsx(uv,{className:"w-4 h-4"}),r.jsx("span",{children:o("whatsapp.confirmation.sendToWhatsApp")})]})})]})})]})})},ER=({toast:e,onClose:t})=>{const{t:a}=qe();p.useEffect(()=>{if(e.type!=="loading"&&e.duration&&e.duration>0){const i=setTimeout(()=>{t(e.id)},e.duration);return()=>clearTimeout(i)}},[e.id,e.duration,t,e.type]);const n=()=>{switch(e.type){case"success":return r.jsx(xt,{className:"h-5 w-5 text-green-500"});case"error":return r.jsx(fa,{className:"h-5 w-5 text-red-500"});case"loading":return r.jsx(ot,{className:"h-5 w-5 text-blue-500 animate-spin"})}},s=()=>{switch(e.type){case"success":return"bg-green-50 border-green-200 text-green-800 dark:bg-green-900/30 dark:border-green-800 dark:text-green-300";case"error":return"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/30 dark:border-red-800 dark:text-red-300";case"loading":return"bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/30 dark:border-blue-800 dark:text-blue-300"}};return r.jsxs("div",{className:`flex items-center p-4 mb-3 border rounded-lg shadow-lg transform transition-all duration-300 ease-in-out ${s()}`,children:[n(),r.jsx("div",{className:"ml-3 text-sm font-medium flex-1",children:e.message}),e.type!=="loading"&&r.jsx("button",{onClick:()=>t(e.id),className:"ml-2 p-1 hover:bg-black/10 rounded-full transition-colors",children:r.jsx(at,{className:"h-4 w-4"})})]})},fme=({isOpen:e,onClose:t,sessionId:a,tableId:n,onOrderCreated:s,restaurantPreferences:i})=>{const{t:o}=qe(),[l,c]=p.useState([]),u=(Pe,fe,Ge)=>{const ft=Math.random().toString(36).substr(2,9),vt={id:ft,type:Pe,message:fe,duration:Pe==="loading"?0:Pe==="success"?4e3:5e3};return c(kt=>[...kt,vt]),ft},g=Pe=>{c(fe=>fe.filter(Ge=>Ge.id!==Pe))},h=(Pe,fe,Ge,ft)=>{c(vt=>vt.map(kt=>kt.id===Pe?{...kt,type:fe,message:Ge,duration:fe==="success"?4e3:5e3}:kt))},[x,b]=p.useState("cart"),[y,k]=p.useState([]),[v,j]=p.useState(0),[S,C]=p.useState(!1),[P,E]=p.useState(null),[A,I]=p.useState(null),[M,F]=p.useState(!1),[Q,U]=p.useState(null),[V,K]=p.useState(!1),[Z,ie]=p.useState(!1),[te,R]=p.useState([]),[D,W]=p.useState(!1),[X,B]=p.useState({customerName:"",notes:"",orderTypeId:0,tableId:n,deliveryAddress:"",customerPhone:"",paymentMethod:""}),[H,z]=p.useState({baseAmount:0,serviceCharge:0,totalAmount:0}),[$,_]=p.useState(0),[Y,q]=p.useState([]),[G,ee]=p.useState(!1),[ue,le]=p.useState(null),[ae,Be]=p.useState(!1),[he,we]=p.useState([]),[De,Ze]=p.useState(!1),{loadBasket:pt,clearBasket:mt,removeFromBasket:ut,handleQuantityIncrease:Et,handleQuantityDecrease:tr,handleAddonQuantityIncrease:Oe,canIncreaseAddonQuantity:Me,canDecreaseAddonQuantity:Vr,getAddonQuantityError:ur,createOrder:rr,loadOrderTracking:Tt,removeOrderFromTracking:Se,refreshAllPendingOrders:Re,calculateItemTotalPrice:de,getSelectedOrderType:pe,sendOrderToWhatsApp:ce,handlePriceChangeConfirmation:Te}=cme({cart:y,setCart:k,setLoading:C,setError:E,basketId:A,setBasketId:I,sessionId:a,orderForm:X,orderTypes:te,totalPrice:v,trackedOrders:he,setTrackedOrders:we,onOrderCreated:s,setShowPriceChangeModal:ee,setPriceChanges:le,setValidationErrors:q,setShowOrderForm:ie,setOrderForm:B,tableId:n,restaurantPreferences:i,setPendingWhatsAppData:U,setShowWhatsAppConfirmation:F}),Le=async()=>{let Pe=null;try{Pe=u("loading",o("menu.cart.creating_order")||"Creating order..."),await rr(),Pe?h(Pe,"success",o("menu.cart.order_created_success")||"Order created successfully!"):u("success",o("menu.cart.order_created_success")||"Order created successfully!"),b("orders")}catch(fe){console.error("Error creating order:",fe);const Ge=fe?.message||o("menu.cart.order_creation_failed")||"Failed to create order. Please try again.";Pe?h(Pe,"error",Ge):u("error",Ge)}},ct=async()=>{if(!Q)return;let Pe=null;try{K(!0),Pe=u("loading",o("menu.cart.sending_whatsapp")||"Sending WhatsApp message..."),await ce(Q),Pe?h(Pe,"success",o("menu.cart.whatsapp_sent_success")||"WhatsApp message sent successfully!"):u("success",o("menu.cart.whatsapp_sent_success")||"WhatsApp message sent successfully!"),F(!1),U(null)}catch(fe){console.error("Error sending WhatsApp message:",fe);const Ge=o("menu.cart.whatsapp_send_failed")||"Failed to send WhatsApp message";Pe?h(Pe,"error",Ge):u("error",Ge),E("Failed to send WhatsApp message")}finally{K(!1)}},Pt=()=>{F(!1),U(null),K(!1)},Mr=async()=>{let Pe=null;try{Pe=u("loading",o("menu.cart.clearing_basket")||"Clearing basket..."),await mt(),Pe?h(Pe,"success",o("menu.cart.basket_cleared")||"Basket cleared successfully!"):u("success",o("menu.cart.basket_cleared")||"Basket cleared successfully!")}catch{const Ge=o("menu.cart.clear_basket_failed")||"Failed to clear basket";Pe?h(Pe,"error",Ge):u("error",Ge)}};p.useEffect(()=>{const Pe=localStorage.getItem("trackedOrders");if(Pe)try{const fe=JSON.parse(Pe);we(fe.map(Ge=>({...Ge,createdAt:new Date(Ge.createdAt)})))}catch(fe){console.error("Error parsing saved orders:",fe)}},[]),p.useEffect(()=>{he.length>0&&localStorage.setItem("trackedOrders",JSON.stringify(he))},[he]),p.useEffect(()=>{let Pe=null;const fe=he.filter(Ge=>Ge.trackingInfo.orderStatus==="Pending");return x==="orders"&&fe.length>0&&(Pe=setInterval(()=>{Re()},15e3)),()=>{Pe&&clearInterval(Pe)}},[x,he]),p.useEffect(()=>{Z&&te.length===0&&pn()},[Z]),p.useEffect(()=>{e&&x==="cart"&&pt()},[e,x]),p.useEffect(()=>{X.orderTypeId&&v>0&&fn()},[X.orderTypeId,v]),p.useEffect(()=>{const Pe=y.reduce((fe,Ge)=>{const ft=Ge.price*Ge.quantity,vt=Ge.addons?.reduce((Ot,mr)=>Ot+mr.price*mr.quantity,0)||0,kt=ft+vt;return fe+kt},0);j(Pe)},[y]);const pn=async()=>{try{W(!0),E(null);const Pe=await Xl.getOrderTypesBySessionId();if(R(Pe),Pe.length>0&&X.orderTypeId===0){const fe=Pe.find(Ge=>Ge.isStandard)||Pe[0];B(Ge=>({...Ge,orderTypeId:fe.id}))}}catch(Pe){console.error("❌ Error loading order types:",Pe),E("Failed to load order types"),u("error",o("menu.cart.load_order_types_failed")||"Failed to load order types")}finally{W(!1)}},fn=async()=>{try{const Pe=pe();if(!Pe){z({baseAmount:v,serviceCharge:0,totalAmount:v}),_(0);return}const fe=Pe.serviceCharge||0,Ge=v+fe;z({baseAmount:v,serviceCharge:fe,totalAmount:Ge});const ft=Pe.estimatedMinutes||0;_(ft)}catch(Pe){console.error("Error calculating order total:",Pe)}},ke=y.reduce((Pe,fe,Ge)=>{const ft=Pe.find(Ot=>Ot.product.branchProductId===fe.branchProductId),vt=de(fe),kt={basketItemId:fe.basketItemId,cartIndex:Ge,quantity:fe.quantity,addons:fe.addons,totalItemPrice:vt,isPlain:!fe.addons||fe.addons.length===0};return ft?(ft.variants.push(kt),ft.totalQuantity+=fe.quantity,ft.totalPrice+=vt*fe.quantity):Pe.push({product:{branchProductId:fe.branchProductId,productName:fe.productName,price:fe.price,productImageUrl:fe.productImageUrl},variants:[kt],totalQuantity:fe.quantity,totalPrice:vt*fe.quantity}),Pe},[]);return e?r.jsxs(r.Fragment,{children:[l.length>0&&r.jsx("div",{className:"fixed top-4 right-4 z-[60] space-y-2 max-w-sm",children:l.map(Pe=>r.jsx(ER,{toast:Pe,onClose:g},Pe.id))}),r.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex justify-end",children:[r.jsxs("div",{className:"w-full max-w-md bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl h-full overflow-y-auto border-l border-slate-200/50 dark:border-slate-700/50 shadow-xl",children:[r.jsx("div",{className:"p-6 border-b border-slate-200/50 dark:border-slate-700/50 bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-bold text-white flex items-center ",children:[x==="cart"?r.jsx(Aa,{className:"h-4 w-4 mr-2 ml-2"}):r.jsx(dv,{className:"h-4 w-4 mr-2 ml-2"}),x==="cart"?Z?"Order Form":o("menu.cart.title"):o("menu.cart.orders"),(S||D||De)&&r.jsx(ot,{className:"h-3 w-3 ml-2 animate-spin"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[y.length>0&&x==="cart"&&!Z&&r.jsx("button",{onClick:Mr,disabled:S,className:"p-2 hover:bg-white/20 rounded-lg transition-colors disabled:opacity-50",title:"Clear basket",children:r.jsx(er,{className:"h-4 w-4 text-white"})}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:r.jsx(at,{className:"h-4 w-4 text-white"})})]})]})}),r.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-slate-900/50",children:[r.jsx("button",{onClick:()=>{b("cart"),ie(!1)},className:`flex-1 py-3 px-4 text-sm font-medium transition-colors ${x==="cart"?"text-orange-600 border-b-2 border-orange-600 bg-orange-50 dark:bg-orange-900/20 dark:text-orange-400":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(Aa,{className:"h-4 w-4"}),r.jsx("span",{children:o("menu.cart.newOrder")}),y.length>0&&r.jsx("span",{className:"bg-orange-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y.length})]})}),r.jsx("button",{onClick:()=>{b("orders"),ie(!1)},className:`flex-1 py-3 px-4 text-sm font-medium transition-colors ${x==="orders"?"text-orange-600 border-b-2 border-orange-600 bg-orange-50 dark:bg-orange-900/20 dark:text-orange-400":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(dv,{className:"h-4 w-4"}),r.jsx("span",{children:o("menu.cart.orders")}),he.filter(Pe=>Pe.trackingInfo.orderStatus==="Pending").length>0&&r.jsx("span",{className:"bg-yellow-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:he.filter(Pe=>Pe.trackingInfo.orderStatus==="Pending").length})]})})]}),r.jsxs("div",{className:"p-6",children:[P&&r.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:P})}),Y.length>0&&r.jsxs("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:[r.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm font-medium mb-1",children:"Please fix the following errors:"}),r.jsx("ul",{className:"text-red-600 dark:text-red-400 text-xs list-disc list-inside",children:Y.map((Pe,fe)=>r.jsx("li",{children:Pe},fe))})]}),x==="cart"?Z?r.jsx(lme,{orderForm:X,setOrderForm:B,orderTypes:te,loadingOrderTypes:D,orderTotal:H,estimatedTime:$,totalPrice:v,validationErrors:Y,loading:S,onBack:()=>ie(!1),onCreate:Le,paymentPreferences:i}):r.jsx(gme,{cart:y,groupedItems:ke,totalPrice:v,loading:S,onProceedToOrder:()=>ie(!0),onQuantityIncrease:Et,onQuantityDecrease:tr,onAddonQuantityIncrease:Oe,onRemoveFromBasket:ut,canIncreaseAddonQuantity:Me,canDecreaseAddonQuantity:Vr,getAddonQuantityError:ur}):r.jsx(hme,{trackedOrders:he,trackingLoading:De,onLoadOrderTracking:Tt,onRemoveOrderFromTracking:Se})]})]}),r.jsx(MR,{isVisible:G,priceChanges:ue,confirmingPriceChanges:ae,onCancel:()=>{ee(!1),le(null),C(!1)},onConfirm:Te}),r.jsx(IR,{isVisible:M,restaurantName:i?.restaurantName||"Restaurant",whatsappNumber:i?.whatsappOrderNumber,onConfirm:ct,onCancel:Pt,loading:V})]})]}):null},xme=({isOpen:e,product:t,onClose:a,onAddToCart:n})=>{const{t:s}=qe(),[i,o]=p.useState([]),[l,c]=p.useState(1);if(!e||!t)return null;const u=j=>{try{const S=`allergens.${j.code}.name`,C=`allergens.${j.code}.description`,P=s(S),E=s(C);return{name:P===S?j.name:P,description:E===C?j.description:E}}catch{return{name:j.name,description:j.description}}},g=(j,S)=>{o(C=>{const P=C.findIndex(A=>A.branchProductAddonId===j.branchProductAddonId);if(S===0)return C.filter(A=>A.branchProductAddonId!==j.branchProductAddonId);const E=Math.max(j.minQuantity||0,Math.min(j.maxQuantity||999,S));return P>=0?C.map((A,I)=>I===P?{...A,quantity:E}:A):[...C,{branchProductAddonId:j.branchProductAddonId,addonName:j.addonName,price:j.price,quantity:E}]})},h=j=>{const S=Math.max(1,j.minQuantity||1);g(j,S)},x=(j,S)=>{const C=j.minQuantity||1,P=S-1;P<C?g(j,0):g(j,P)},b=(j,S)=>{const C=j.maxQuantity||999,P=Math.min(C,S+1);g(j,P)},y=j=>i.find(C=>C.branchProductAddonId===j)?.quantity||0,k=()=>{const j=t.price*l,S=i.reduce((C,P)=>C+P.price*P.quantity,0)*l;return j+S},v=()=>{n(t,i),o([]),c(1),a()};return r.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-slate-200/50 dark:border-slate-700/50",children:[r.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 p-6 border-b border-slate-200/50 dark:border-slate-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:s("productModal.customizeOrder")}),r.jsx("button",{onClick:a,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:r.jsx(at,{className:"h-5 w-5 text-white"})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex space-x-4 mb-6 p-4   bg-slate-50/50 dark:bg-slate-800/50 rounded-xl",children:[t.productImageUrl&&r.jsx("img",{src:t.productImageUrl,alt:t.productName,className:"w-20 h-20 object-cover ml-2 rounded-lg shadow-md"}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-1",children:t.productName}),t.productDescription&&r.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mb-2",children:t.productDescription}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-lg font-bold bg-gradient-to-r from-orange-600 to-pink-500 bg-clip-text text-transparent",children:["$",t.price.toFixed(2)]}),t.isRecommended&&r.jsxs("span",{className:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 text-xs px-2 py-1 rounded-full flex items-center",children:[r.jsx(JA,{className:"h-2 w-2 mr-1"}),s("productModal.recommended")]})]})]})})})]}),t.allergens&&t.allergens.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:s("productModal.allergenInformation")}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.allergens.map(j=>{const S=u(j);return r.jsxs("span",{className:"inline-flex items-center text-xs bg-amber-100/80 dark:bg-amber-900/30 text-amber-800 dark:text-amber-200 px-2 py-1 rounded-full border border-amber-200/50 dark:border-amber-800/50 cursor-help",title:`${S.name} - ${S.description}`,children:[r.jsx("span",{className:"mr-1",children:j.icon}),S.name]},j.id)})})]}),t.ingredients&&t.ingredients.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 flex items-center",children:[r.jsx(qi,{className:"h-3 w-3 mr-1 text-orange-500"}),s("productModal.ingredients")]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.ingredients.map(j=>r.jsx("span",{className:"text-xs bg-emerald-100/80 dark:bg-emerald-900/30 text-emerald-800 dark:text-emerald-200 px-2 py-1 rounded-full",children:j.ingredientName},j.ingredientId))})]}),t.availableAddons&&t.availableAddons.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4",children:s("productModal.availableAddons")}),r.jsx("div",{className:"space-y-3",children:t.availableAddons.map(j=>{const S=y(j.branchProductAddonId),C=j.minQuantity||1,P=j.maxQuantity||999;return r.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50/50 dark:bg-slate-800/50 rounded-xl border border-slate-200/50 dark:border-slate-700/50",children:[r.jsxs("div",{className:"flex space-x-3 flex-1",children:[j.addonImageUrl&&r.jsx("img",{src:j.addonImageUrl,alt:j.addonName,className:"w-12 h-12 object-cover rounded-lg shadow-sm"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-slate-800 dark:text-slate-100 text-sm",children:j.addonName}),j.addonDescription&&r.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-xs mt-1",children:j.addonDescription}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[r.jsxs("span",{className:"text-sm font-bold text-orange-600",children:["+$",j.price.toFixed(2)]}),j.isRecommended&&r.jsx("span",{className:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 text-xs px-1.5 py-0.5 rounded-full",children:s("productModal.recommended")})]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[j.minQuantity>1&&r.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-1.5 py-0.5 rounded-full",children:[s("productModal.min"),": ",j.minQuantity]}),j.maxQuantity&&j.maxQuantity<999&&r.jsxs("span",{className:"text-xs text-purple-600 dark:text-purple-400 bg-purple-100 dark:bg-purple-900/30 px-1.5 py-0.5 rounded-full",children:[s("productModal.max"),": ",j.maxQuantity]})]})]})}),j.allergens&&j.allergens.length>0&&r.jsx("div",{className:"mt-2",children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[j.allergens.slice(0,3).map(E=>{const A=u(E);return r.jsxs("span",{className:"text-xs bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 px-1.5 py-0.5 rounded-full cursor-help inline-flex items-center",title:`${A.name} - ${A.description}`,children:[r.jsx("span",{className:"mr-0.5",children:E.icon}),A.name]},E.id)}),j.allergens.length>3&&r.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded-full cursor-help",title:j.allergens.slice(3).map(E=>u(E).name).join(", "),children:["+",j.allergens.length-3]})]})})]})]}),r.jsx("div",{className:"flex items-center space-x-2 ml-4",children:S>0?r.jsxs("div",{className:"flex items-center space-x-2 bg-white dark:bg-slate-700 rounded-lg p-1 border border-slate-200 dark:border-slate-600",children:[r.jsx("button",{onClick:()=>x(j,S),className:`w-7 h-7 ${S<=C?"bg-gray-400 cursor-not-allowed":"bg-red-500 hover:bg-red-600"} text-white rounded-md flex items-center justify-center transition-colors`,disabled:S<=C,children:r.jsx(oi,{className:"h-3 w-3"})}),r.jsx("span",{className:"w-6 text-center font-bold text-sm text-slate-800 dark:text-slate-100",children:S}),r.jsx("button",{onClick:()=>b(j,S),className:`w-7 h-7 ${S>=P?"bg-gray-400 cursor-not-allowed":"bg-orange-500 hover:bg-orange-600"} text-white rounded-md flex items-center justify-center transition-colors`,children:r.jsx(Nt,{className:"h-3 w-3"})})]}):r.jsxs("button",{onClick:()=>h(j),className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1.5 rounded-lg transition-colors text-sm font-semibold flex items-center space-x-1",children:[r.jsx(Nt,{className:"h-3 w-3"}),r.jsxs("span",{children:[s("productModal.add")," ",j.minQuantity>1?`(${j.minQuantity})`:""]})]})})]},j.branchProductAddonId)})})]}),r.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 p-4 rounded-xl mb-4",children:[r.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-100 mb-3",children:s("productModal.orderSummary")}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[t.productName," × ",l]}),r.jsxs("span",{className:"font-semibold text-slate-800 dark:text-slate-100",children:["$",(t.price*l).toFixed(2)]})]}),i.map(j=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[j.addonName," × ",j.quantity*l]}),r.jsxs("span",{className:"font-semibold text-slate-800 dark:text-slate-100",children:["+$",(j.price*j.quantity*l).toFixed(2)]})]},j.branchProductAddonId)),r.jsx("div",{className:"border-t border-slate-300 dark:border-slate-600 pt-2 mt-3",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:s("productModal.total")}),r.jsxs("span",{className:"font-bold text-xl bg-gradient-to-r from-orange-600 to-pink-500 bg-clip-text text-transparent",children:["$",k().toFixed(2)]})]})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("span",{className:"text-sm font-semibol ml-2 text-slate-700 dark:text-slate-300",children:[s("productModal.quantity"),":"]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>c(Math.max(1,l-1)),className:"w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-md flex items-center justify-center transition-colors",children:r.jsx(oi,{className:"h-3 w-3"})}),r.jsx("span",{className:"w-8 text-center font-bold text-slate-800 dark:text-slate-100",children:l}),r.jsx("button",{onClick:()=>c(l+1),className:"w-8 h-8 bg-orange-500 hover:bg-orange-600 text-white rounded-md flex items-center justify-center transition-colors",children:r.jsx(Nt,{className:"h-3 w-3"})})]})]}),r.jsxs("button",{onClick:v,className:"bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 hover:from-orange-600 hover:via-orange-700 hover:to-pink-600 text-white px-6 py-3 rounded-xl font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center space-x-2",children:[r.jsx(Aa,{className:"h-4 w-4"}),r.jsx("span",{children:s("productModal.addToCart")})]})]})]})]})]})})},yme=({branchId:e})=>{const{t,isRTL:a}=qe(),[n,s]=p.useState(null),[i,o]=p.useState(!0),[l,c]=p.useState(null),[u,g]=p.useState(null),[h,x]=p.useState(""),[b,y]=p.useState(!1),[k,v]=p.useState(new Set),[j,S]=p.useState(0),[C,P]=p.useState(null),[E,A]=p.useState(!1),[I,M]=p.useState(null),F=H=>{const z=new Map;return H.forEach($=>{const _=z.get($.categoryId);_?_.products.push(...$.products):z.set($.categoryId,{categoryId:$.categoryId,categoryName:$.categoryName,displayOrder:$.displayOrder,products:[...$.products]})}),Array.from(z.values()).sort(($,_)=>$.displayOrder-_.displayOrder)},Q=p.useCallback(async()=>{try{const H=await ha.getMyBasket(),z=H.items.reduce(($,_)=>$+_.quantity,0);S(z),console.log("Loaded basket",H),P(H.basketId)}catch{S(0),P(null)}},[]);p.useEffect(()=>{e&&(U(),Q())},[e,Q]);const U=async()=>{try{o(!0),c(null);const H=await Pi.getBranchMenu(e,["ingredients","allergens","availableAddons"]);if(Array.isArray(H)){c("Menu format not supported yet. Please update the service.");return}const z=H;if(z.categories){const $=F(z.categories),_={...z,categories:$};s(_),$.length>0&&g($[0].categoryId)}else s(z)}catch(H){console.error("Error fetching menu data:",H),c("Unable to load menu. Please try again.")}finally{o(!1)}},V=async(H,z=[])=>{try{if(z.length>0){const $=await ha.addUnifiedItemToMyBasket({branchProductId:H.branchProductId,quantity:1});if($.basketItemId){const _=z.map(Y=>({branchProductId:H.availableAddons?.find(G=>G.branchProductAddonId===Y.branchProductAddonId)?.addonBranchProductId||Y.branchProductAddonId,quantity:Y.quantity,parentBasketItemId:$.basketItemId}));await ha.batchAddItemsToMyBasket(_)}}else await ha.addUnifiedItemToMyBasket({branchProductId:H.branchProductId,quantity:1});await Q()}catch($){console.error("Error adding to basket:",$)}},K=async H=>{try{const z=await ha.getMyBasket(),$=z.items.find(_=>_.branchProductId===H&&(!_.addonItems||_.addonItems.length===0));$&&($.quantity>1?await ha.updateMyBasketItem($.basketItemId,{basketItemId:$.basketItemId,basketId:z.basketId,branchProductId:$.branchProductId,quantity:$.quantity-1}):await ha.deleteMyBasketItem($.basketItemId),await Q())}catch(z){console.error("Error removing from basket:",z)}},Z=p.useCallback(async H=>{try{return(await ha.getMyBasket()).items.filter($=>$.branchProductId===H&&!$.isAddon).reduce(($,_)=>$+_.quantity,0)}catch{return 0}},[]),ie=H=>{v(z=>{const $=new Set(z);return $.has(H)?$.delete(H):$.add(H),$})},te=H=>{if(n?.categories)return n.categories.flatMap(z=>z.products).find(z=>z.branchProductId===H)},R=()=>n?.categories?n.categories.filter(H=>H.categoryName.toLowerCase().includes(h.toLowerCase())||H.products.some(z=>z.productName.toLowerCase().includes(h.toLowerCase()))).sort((H,z)=>H.displayOrder-z.displayOrder):[],D=H=>{M(H),A(!0)},W=async(H,z)=>{await V(H,z),A(!1),M(null)},X=async()=>{b||await Q(),y(!b)};if(i)return r.jsx(ime,{});if(l)return r.jsx(ome,{error:l});if(!n)return null;const B=R();return r.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800 ${a?"rtl":"ltr"}`,children:[r.jsx(CR,{menuData:n,totalItems:j,onCartToggle:X}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[r.jsx(SR,{searchTerm:h,onSearchChange:x}),r.jsxs("div",{className:"grid grid-cols-12 lg:grid-cols-3 gap-6",children:[r.jsx(PR,{categories:B,selectedCategory:u,onCategorySelect:g}),r.jsx("div",{className:"lg:col-span-2",children:r.jsx(AR,{categories:B,selectedCategory:u,searchTerm:h,cart:[],favorites:k,onAddToCart:V,onRemoveFromCart:K,onToggleFavorite:ie,onCategorySelect:g,restaurantName:n.restaurantName,onCustomize:D,getCartItemQuantity:Z})})]})]}),r.jsx(fme,{isOpen:b,onClose:()=>y(!1),findProduct:te,sessionId:C||"",restaurantPreferences:n.preferences}),r.jsx(xme,{isOpen:E,product:I,onClose:()=>{A(!1),M(null)},onAddToCart:W}),r.jsx(TR,{})]})},bme=()=>{const{language:e,setLanguage:t,t:a}=qe(),[n,s]=p.useState(!1),i=p.useRef(null),o=e==="ar",l=[{code:"tr",name:"Türkçe",flag:"🇹🇷"},{code:"en",name:"English",flag:"🇺🇸"},{code:"ar",name:"العربية",flag:"🇸🇦"}],c=l.find(g=>g.code===e);p.useEffect(()=>{const g=h=>{i.current&&!i.current.contains(h.target)&&s(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const u=g=>{t(g),s(!1)};return r.jsxs("div",{className:"relative",ref:i,children:[r.jsxs("button",{onClick:()=>s(!n),className:`p-2 rounded-lg bg-white/80 dark:bg-gray-800/80 text-gray-700 dark:text-gray-300 hover:bg-white dark:hover:bg-gray-700 transition-colors duration-200 flex items-center ${o?"space-x-reverse space-x-2":"space-x-2"} border border-gray-200 dark:border-gray-700`,children:[r.jsx(Yi,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm font-medium",children:c?.flag}),r.jsx(lr,{className:`h-4 w-4 transition-transform duration-200 ${n?"rotate-180":""}`})]}),n&&r.jsx("div",{className:`absolute top-full mt-2 ${o?"left-0":"right-0"} z-50 min-w-[180px] bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1`,children:l.map(g=>r.jsxs("button",{onClick:()=>u(g.code),className:`w-full flex items-center ${o?"space-x-reverse space-x-3":"space-x-3"} px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200 ${e===g.code?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":""}`,children:[r.jsx("span",{className:"text-lg",children:g.flag}),r.jsx("span",{className:"font-medium",children:g.name}),e===g.code&&r.jsx("span",{className:`${o?"mr-auto":"ml-auto"} text-blue-600 dark:text-blue-400`,children:"✓"})]},g.code))})]})},vme=()=>{const{qrToken:e}=k3(),{language:t,t:a}=qe(),[n,s]=p.useState(!0),[i,o]=p.useState(null),[l,c]=p.useState(null),[u,g]=p.useState(!1),[h,x]=p.useState(!1),b=p.useRef(!1),y=t==="ar";return p.useEffect(()=>{if(b.current)return;b.current=!0,(async()=>{if(e){s(!0),c(null);try{const j=await(await fetch(`/api/table/qr/${e}`)).json();if(!j.valid){c(j.message),s(!1);return}o(j);const P=(await(await nme.load()).get()).visitorId,E=t;let A=localStorage.getItem("customerIdentifier");A||(A=sme(),localStorage.setItem("customerIdentifier",A));const I=await fetch("/api/session/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qrToken:e,deviceFingerprint:P,preferredLanguage:E,customerIdentifier:A})});if(I.ok){const M=await I.json();localStorage.setItem("customerSessionToken",M.sessionToken),g(!0)}else if(I.status===404)c(a("tableQR.error.sessionFeatureComingSoon"));else{const M=await I.json();c(M.message||a("tableQR.error.sessionStartFailed"))}}catch{c(a("tableQR.error.sessionStartFailed"))}finally{s(!1)}}})()},[e,t,a]),n?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",dir:y?"rtl":"ltr",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl border border-gray-100 dark:border-gray-700 p-8 max-w-md w-full text-center",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4",children:r.jsx(hs,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),r.jsx(ot,{className:"h-8 w-8 animate-spin text-blue-600 dark:text-blue-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:a("tableQR.loading.validatingQR")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a("tableQR.loading.fetchingTableInfo")})]}),r.jsx("div",{className:"space-y-2",children:r.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full animate-pulse"})})})]})}):l?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",dir:y?"rtl":"ltr",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl border border-gray-100 dark:border-gray-700 p-8 max-w-md w-full text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-6",children:r.jsx(oa,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:a("tableQR.error.title")}),r.jsx("p",{className:"text-red-600 dark:text-red-400 mb-6 bg-red-50 dark:bg-red-900/20 p-4 rounded-xl border border-red-200 dark:border-red-800",children:l}),r.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gradient-to-r from-red-500 to-red-600 text-white py-3 px-6 rounded-xl font-medium hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:a("tableQR.error.tryAgain")})]})}):i?h?r.jsx(yme,{branchId:i.branchId}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",dir:y?"rtl":"ltr",children:[r.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:`flex items-center ${y?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:r.jsx(qi,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:a("tableQR.header.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("tableQR.header.subtitle")})]})]}),r.jsxs("div",{className:`flex items-center ${y?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsxs("div",{className:`flex items-center ${y?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:a("tableQR.header.active")})]}),r.jsx(bme,{})]})]})})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden mb-8",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 p-8 text-white text-center",children:[r.jsx("div",{className:"mx-auto w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mb-4 backdrop-blur-sm",children:r.jsx($r,{className:"h-10 w-10"})}),r.jsx("h2",{className:"text-3xl font-bold mb-2",children:a("tableQR.welcome.greeting")}),r.jsx("p",{className:"text-blue-100 text-lg",children:y?`${a("tableQR.welcome.connectedToTable")} ${i.tableName}`:`${a("tableQR.welcome.connectedToTable")} ${i.tableName}`})]}),r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"text-center p-6 bg-gray-50 dark:bg-gray-700/50 rounded-2xl",children:[r.jsx("div",{className:`mx-auto w-12 h-12 rounded-full flex items-center justify-center mb-4 ${i.isOccupied?"bg-red-100 dark:bg-red-900/30":"bg-green-100 dark:bg-green-900/30"}`,children:i.isOccupied?r.jsx(fa,{className:"h-6 w-6 text-red-600 dark:text-red-400"}):r.jsx(xt,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:a("tableQR.welcome.tableStatus")}),r.jsx("p",{className:`font-medium ${i.isOccupied?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:i.isOccupied?a("tableQR.welcome.occupied"):a("tableQR.welcome.available")})]}),r.jsxs("div",{className:"text-center p-6 bg-gray-50 dark:bg-gray-700/50 rounded-2xl",children:[r.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4",children:r.jsx(Ht,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:a("tableQR.welcome.capacity")}),r.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[i.capacity," ",i.capacity===1?a("tableQR.welcome.person"):a("tableQR.welcome.people")]})]}),r.jsxs("div",{className:"text-center p-6 bg-gray-50 dark:bg-gray-700/50 rounded-2xl",children:[r.jsx("div",{className:`mx-auto w-12 h-12 rounded-full flex items-center justify-center mb-4 ${u?"bg-green-100 dark:bg-green-900/30":"bg-orange-100 dark:bg-orange-900/30"}`,children:u?r.jsx(Jk,{className:"h-6 w-6 text-green-600 dark:text-green-400"}):r.jsx(zt,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:a("tableQR.welcome.session")}),r.jsx("p",{className:`font-medium ${u?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"}`,children:a(u?"tableQR.welcome.sessionActive":"tableQR.welcome.sessionPending")})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[r.jsxs("button",{onClick:()=>x(!0),className:`bg-gradient-to-r from-green-500 to-green-600 text-white py-4 px-6 rounded-2xl font-semibold hover:from-green-600 hover:to-green-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center ${y?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(qi,{className:"h-5 w-5"}),r.jsx("span",{children:a("tableQR.actions.viewMenu")})]}),r.jsxs("button",{className:`bg-white dark:bg-gray-800 text-gray-900 dark:text-white py-4 px-6 rounded-2xl font-semibold border-2 border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-600 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center ${y?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(Gl,{className:"h-5 w-5"}),r.jsx("span",{children:a("tableQR.actions.callWaiter")})]})]}),r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:`inline-flex items-center bg-white dark:bg-gray-800 px-6 py-3 rounded-full shadow-lg border border-gray-200 dark:border-gray-700 ${y?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(hs,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("tableQR.footer.connectedViaQR")})]})})]})]}):null};class kme{anonymousUrl="/api/Branches/Anonymus";onlineUrl="/api/online";async getPublicBranchId(t){try{N.info("Public branch ID getirme isteği gönderiliyor",{branchId:t},{prefix:"OnlineMenuService"});const a=`${this.anonymousUrl}/GetPublicId`,n=await se.get(a,{params:{branchId:t}}),s=Object.keys(n.data)[0]||"",i=Object.values(n.data)[0]||"";return N.info("Public branch ID başarıyla alındı",{branchId:t,branchName:s,publicId:i},{prefix:"OnlineMenuService"}),{branchName:s,publicId:i}}catch(a){N.error("Public branch ID getirme hatası",a,{prefix:"OnlineMenuService"}),this.handleError(a,"Public branch ID getirilirken hata oluştu")}}async getOnlineMenu(t){try{N.info("Online menu getirme isteği gönderiliyor",{publicId:t},{prefix:"OnlineMenuService"});const a=`${this.onlineUrl}/menu/${t}`,n=await se.get(a);return N.info("Online menu başarıyla alındı",{publicId:t,branchName:n.data.branchName,restaurantName:n.data.restaurantName,categoriesCount:n.data.categories?.length||0,isOpen:n.data.isOpen},{prefix:"OnlineMenuService"}),n.data}catch(a){if(N.error("Online menu getirme hatası",a,{prefix:"OnlineMenuService"}),a?.response?.status===404)throw new Error("Menü bulunamadı. Geçersiz veya süresi dolmuş link.");this.handleError(a,"Online menü getirilirken hata oluştu")}}async startSession(t){try{N.info("Session başlatma isteği gönderiliyor",{publicId:t.publicId,customerIdentifier:t.customerIdentifier,preferredLanguage:t.preferredLanguage},{prefix:"OnlineMenuService"});const a=`${this.onlineUrl}/start-session`,n=await se.post(a,t);if(N.info("Session başlatma yanıtı alındı",{sessionId:n.data.sessionId,branchId:n.data.branchId,branchName:n.data.branchName,hasToken:!!n.data.sessionToken,expiresAt:n.data.expiresAt},{prefix:"OnlineMenuService"}),!n.data)throw new Error("Session response is empty");if(!n.data.sessionId)throw N.error("Session response missing sessionId",{response:n.data}),new Error("Session response missing sessionId");if(!n.data.sessionToken)throw N.error("Session response missing sessionToken",{response:n.data}),new Error("Session response missing sessionToken");return N.info("Session başarıyla başlatıldı",{sessionId:n.data.sessionId,branchId:n.data.branchId,tokenPreview:n.data.sessionToken.substring(0,20)+"...",expiresAt:n.data.expiresAt},{prefix:"OnlineMenuService"}),n.data}catch(a){N.error("Session başlatma hatası",a,{prefix:"OnlineMenuService"}),a.response&&N.error("Error response details",{status:a.response.status,data:a.response.data,headers:a.response.headers}),this.handleError(a,"Session başlatılırken hata oluştu")}}async getMyBasket(){try{N.info("Sepet bilgileri getiriliyor",{},{prefix:"OnlineMenuService"});const t=`${this.onlineUrl}/my-basket`,a=await se.get(t);return N.info("Sepet bilgileri başarıyla getirildi",{itemCount:a.data.basketItems?.length||0,totalPrice:a.data.totalPrice},{prefix:"OnlineMenuService"}),{...a.data,items:a.data.basketItems?.map(s=>({...s,productImageUrl:s.imageUrl||void 0,unitPrice:s.price,addons:s.addonItems?.map(i=>({...i,addonBasketItemId:i.basketItemId,addonName:i.productName,specialPrice:i.price}))||[],specialInstructions:s.addonNote}))||[],total:a.data.totalPrice,subtotal:a.data.productTotal||a.data.totalPrice,tax:0,itemCount:a.data.basketItems?.length||0,totalQuantity:a.data.basketItems?.reduce((s,i)=>s+i.quantity,0)||0,priceChangesDetected:a.data.hasUnconfirmedPriceChange}}catch(t){N.error("Sepet bilgileri getirme hatası",t,{prefix:"OnlineMenuService"}),this.handleError(t,"Sepet bilgileri getirilirken hata oluştu")}}async clearBasket(){try{N.info("Sepet temizleme isteği gönderiliyor",{},{prefix:"OnlineMenuService"});const t=`${this.onlineUrl}/my-basket`;await se.delete(t),N.info("Sepet başarıyla temizlendi",{},{prefix:"OnlineMenuService"})}catch(t){N.error("Sepet temizleme hatası",t,{prefix:"OnlineMenuService"}),this.handleError(t,"Sepet temizlenirken hata oluştu")}}async deleteBasketItem(t){try{N.info("Sepet ürünü silme isteği gönderiliyor",{basketItemId:t},{prefix:"OnlineMenuService"});const a=`${this.onlineUrl}/my-basket/items/${t}`;await se.delete(a),N.info("Sepet ürünü başarıyla silindi",{basketItemId:t},{prefix:"OnlineMenuService"})}catch(a){N.error("Sepet ürünü silme hatası",a,{prefix:"OnlineMenuService"}),this.handleError(a,"Sepet ürünü silinirken hata oluştu")}}async deleteBasketProduct(t){try{N.info("Sepet ürünü (products) silme isteği gönderiliyor",{basketItemId:t},{prefix:"OnlineMenuService"});const a=`${this.onlineUrl}/my-basket/products/${t}`;await se.delete(a),N.info("Sepet ürünü (products) başarıyla silindi",{basketItemId:t},{prefix:"OnlineMenuService"})}catch(a){N.error("Sepet ürünü (products) silme hatası",a,{prefix:"OnlineMenuService"}),this.handleError(a,"Sepet ürünü silinirken hata oluştu")}}async deleteBasketAddon(t){try{N.info("Sepet addon silme isteği gönderiliyor",{addonBasketItemId:t},{prefix:"OnlineMenuService"});const a=`${this.onlineUrl}/my-basket/addons/${t}`;await se.delete(a),N.info("Sepet addon başarıyla silindi",{addonBasketItemId:t},{prefix:"OnlineMenuService"})}catch(a){N.error("Sepet addon silme hatası",a,{prefix:"OnlineMenuService"}),this.handleError(a,"Sepet addon silinirken hata oluştu")}}async updateBasketItem(t,a){try{N.info("Sepet ürünü güncelleme isteği gönderiliyor",{basketItemId:t,quantity:a.quantity},{prefix:"OnlineMenuService"});const n=`${this.onlineUrl}/my-basket/items/${t}`,s=await se.put(n,a);return N.info("Sepet ürünü başarıyla güncellendi",{basketItemId:t,itemCount:s.data.itemCount},{prefix:"OnlineMenuService"}),s.data}catch(n){N.error("Sepet ürünü güncelleme hatası",n,{prefix:"OnlineMenuService"}),this.handleError(n,"Sepet ürünü güncellenirken hata oluştu")}}async confirmPriceChanges(){try{N.info("Fiyat değişikliklerini onaylama isteği gönderiliyor",{},{prefix:"OnlineMenuService"});const t=`${this.onlineUrl}/my-basket/confirm-price-changes`,a=await se.post(t);return N.info("Fiyat değişiklikleri başarıyla onaylandı",{},{prefix:"OnlineMenuService"}),a.data}catch(t){N.error("Fiyat değişikliklerini onaylama hatası",t,{prefix:"OnlineMenuService"}),this.handleError(t,"Fiyat değişiklikleri onaylanırken hata oluştu")}}async addUnifiedItemToMyBasket(t){try{N.info("Sepete ürün ekleme isteği gönderiliyor",{branchProductId:t.branchProductId,quantity:t.quantity,isAddon:t.isAddon},{prefix:"OnlineMenuService"});const a=`${this.onlineUrl}/my-basket/unified-items`,n=await se.post(a,t);return N.info("Ürün sepete başarıyla eklendi",{basketItemId:n.data.basketItemId},{prefix:"OnlineMenuService"}),n.data}catch(a){N.error("Sepete ürün ekleme hatası",a,{prefix:"OnlineMenuService"}),this.handleError(a,"Ürün sepete eklenirken hata oluştu")}}async batchAddItemsToMyBasket(t){try{N.info("Toplu ürün ekleme isteği gönderiliyor",{itemsCount:t.length},{prefix:"OnlineMenuService"});const a=`${this.onlineUrl}/my-basket/items/batch`;await se.post(a,t),N.info("Ürünler toplu olarak sepete başarıyla eklendi",{},{prefix:"OnlineMenuService"})}catch(a){N.error("Toplu ürün ekleme hatası",a,{prefix:"OnlineMenuService"}),this.handleError(a,"Ürünler sepete eklenirken hata oluştu")}}handleError(t,a){if(t?.response?.status===400){const n=t?.response?.data;if(n?.errors){const s=Object.values(n.errors).flat();throw new Error(`Doğrulama hatası: ${s.join(", ")}`)}else throw new Error("Geçersiz istek. Lütfen verileri kontrol edin.")}else throw t?.response?.status===401?new Error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."):t?.response?.status===403?new Error("Bu işlem için yetkiniz bulunmuyor."):t?.response?.status===404?new Error("Kayıt bulunamadı."):t?.response?.status===409?new Error("Bu kayıt zaten mevcut."):t?.response?.status===0||!navigator.onLine?new Error("İnternet bağlantınızı kontrol edin."):new Error(`${a}: ${t?.message||"Bilinmeyen hata"}`)}}const Nn=new kme,wme=({isOpen:e,onClose:t,basket:a,onBasketUpdate:n,currency:s="TRY",menuData:i})=>{const{t:o,language:l}=qe(),c=l==="ar",[u,g]=p.useState(null),[h,x]=p.useState(null),[b,y]=p.useState(!1),[k,v]=p.useState(new Set),[j,S]=p.useState(null),[C,P]=p.useState("cart"),[E,A]=p.useState([]),[I,M]=p.useState(null),[F,Q]=p.useState(!1),[U,V]=p.useState(null),[K,Z]=p.useState(""),[ie,te]=p.useState(""),[R,D]=p.useState(""),[W,X]=p.useState(""),[B,H]=p.useState(""),[z,$]=p.useState({}),[_,Y]=p.useState(!1),[q,G]=p.useState(null),[ee,ue]=p.useState(!1),[le,ae]=p.useState(!1),[Be,he]=p.useState(!1),[we,De]=p.useState([]),Ze=(be,me,Ae)=>{const We=Math.random().toString(36).substring(7);De(Qe=>[...Qe,{id:We,message:be,type:me,duration:Ae}])},pt=be=>{De(me=>me.filter(Ae=>Ae.id!==be))},mt=a?.items||a?.basketItems||[],ut=a?.itemCount||mt.length,Et=a?.total||a?.totalPrice||0,tr=a?.subtotal||a?.productTotal||a?.totalPrice||0,Oe=a?.tax||0,Me=i?.preferences||i?.restaurantPreferences||{},Vr=i?.restaurantName||Me?.restaurantName||"Restaurant",ur=Me?.whatsAppPhoneNumber,rr=Me?.useWhatsappForOrders,Tt=Me?.acceptCash,Se=Me?.acceptCreditCard,Re=Me?.acceptOnlinePayment;p.useEffect(()=>{e&&(P("cart"),de())},[e]);const de=()=>{Z(""),te(""),D(""),X(""),H(""),$({}),M(null)},pe=be=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:s}).format(be),ce=be=>{if(!i?.categories)return[];for(const me of i.categories){const Ae=me.products.find(We=>We.branchProductId===be.branchProductId);if(Ae&&Ae.availableAddons){const We=(be.addons||be.addonItems||[]).map(Qe=>Qe.branchProductId||Qe.addonBranchProductId);return Ae.availableAddons.filter(Qe=>!We.includes(Qe.addonBranchProductId))}}return[]},Te=be=>{v(me=>{const Ae=new Set(me);return Ae.has(be)?Ae.delete(be):Ae.add(be),Ae})},Le=async(be,me,Ae)=>{const We=me+Ae;if(We<1){await ct(be);return}try{g(be);const Qe=mt.find(Mt=>Mt.basketItemId===be);if(!Qe)return;await Nn.updateBasketItem(be,{basketItemId:be,basketId:a?.basketId||"",branchProductId:Qe.branchProductId,quantity:We}),await n()}catch(Qe){console.error("Failed to update quantity:",Qe),alert(Qe.message||"Failed to update quantity")}finally{g(null)}},ct=async be=>{if(confirm("Are you sure you want to remove this item?"))try{x(be),await Nn.deleteBasketItem(be),await n()}catch(me){console.error("Failed to delete item:",me),alert(me.message||"Failed to delete item")}finally{x(null)}},Pt=async(be,me,Ae,We)=>{const Qe=me+Ae;if(Qe<1){await Mr(be);return}if(!(Qe>We))try{g(be),await Nn.updateBasketItem(be,{basketItemId:be,basketId:a?.basketId||"",branchProductId:0,quantity:Qe}),await n()}catch(Mt){console.error("Failed to update addon quantity:",Mt),alert(Mt.message||"Failed to update addon quantity")}finally{g(null)}},Mr=async be=>{if(confirm("Remove this add-on?"))try{await Nn.deleteBasketItem(be),await n()}catch(me){console.error("Failed to delete addon:",me),alert(me.message||"Failed to delete addon")}},pn=async(be,me,Ae)=>{try{S(be),await Nn.addUnifiedItemToMyBasket({branchProductId:me.addonBranchProductId,quantity:Ae,parentBasketItemId:be,isAddon:!0}),await n()}catch(We){console.error("Failed to add addon:",We),alert(We.message||"Failed to add addon")}finally{S(null)}},fn=async()=>{if(confirm("Are you sure you want to clear your entire basket?"))try{y(!0),await Nn.clearBasket(),await n(),Ze(o("menu.cart.cleared")||"Basket cleared","success",3e3)}catch(be){console.error("Failed to clear basket:",be),Ze(be.message||"Failed to clear basket","error",3e3)}finally{y(!1)}},ke=async()=>{await n();const be=localStorage.getItem("online_menu_session_id");if(!be){alert("Session expired. Please refresh.");return}try{await ha.confirmSessionPriceChanges(be)}catch(me){console.warn("Price check failed, proceeding anyway:",me)}try{Q(!0),V(null);const Ae=(await Xl.getOrderTypesByOnlineSessionId()).filter(We=>We.isActive&&Et>=We.minOrderAmount&&!We.requiresTable);Ae.length===0&&V(o("order.form.noOrderTypesAvailable")),A(Ae),P("order-type")}catch(me){V(me.message||o("order.form.failedToLoadOrderTypes"))}finally{Q(!1)}},Pe=be=>{M(be),$({}),be.requiresName||Z(""),be.requiresTable||te(""),be.requiresAddress||D(""),be.requiresPhone||X(""),P("information")},fe=()=>{P("cart"),de()},Ge=()=>{P("order-type"),$({})},ft=()=>{const be={};return I?(I.requiresName&&!K.trim()&&(be.customerName=o("order.form.nameRequired")),I.requiresTable&&!ie.trim()&&(be.tableNumber=o("order.form.tableRequired")),I.requiresAddress&&!R.trim()&&(be.deliveryAddress=o("order.form.addressRequired")),I.requiresPhone&&(W.trim()?/^\+?[\d\s\-()]+$/.test(W)||(be.customerPhone=o("order.form.invalidPhoneFormat")):be.customerPhone=o("order.form.phoneRequired")),(Tt||Se||Re)&&!B&&(be.paymentMethod=o("order.form.selectPaymentMethod")),$(be),Object.keys(be).length===0):(V(o("order.form.pleaseSelectOrderType")),!1)},vt=async()=>{if(!ft())return;ae(!0);const be={orderTypeId:I.id};I.requiresName&&K.trim()&&(be.customerName=K.trim()),I.requiresTable&&ie.trim()&&(be.tableNumber=ie.trim()),I.requiresAddress&&R.trim()&&(be.deliveryAddress=R.trim()),I.requiresPhone&&W.trim()&&(be.customerPhone=W.trim()),B&&(be.paymentMethod=B);try{const me=localStorage.getItem("online_menu_session_id");me&&q?.requiresConfirmation&&(await ha.confirmSessionPriceChanges(me),await n()),await Lt.createSessionOrder(be),await n(),Ze(o("menu.cart.order_created_success")||"Order placed successfully! 🎉","success",5e3),rr&&ur?setTimeout(()=>{he(!0)},500):setTimeout(()=>{t()},2e3)}catch(me){Ze(me.message||o("menu.cart.order_creation_failed")||"Failed to place order","error",5e3)}finally{ae(!1)}},kt=()=>{if(he(!1),ur){const be=ur.replace(/\D/g,""),me=`Hello ${Vr}, I just placed an order and would like to confirm the details.`,Ae=encodeURIComponent(me),We=`https://wa.me/${be}?text=${Ae}`;window.open(We,"_blank")}t()},Ot=()=>{he(!1),t()},mr=[];Tt&&mr.push({id:"cash",name:o("order.form.cash"),icon:ov,description:o("order.form.cashDescription")}),Se&&mr.push({id:"credit_card",name:o("order.form.creditCard"),icon:Ui,description:o("order.form.creditCardDescription")}),Re&&mr.push({id:"online",name:o("order.form.onlinePayment"),icon:Gl,description:o("order.form.onlinePaymentDescription")});const Ut=c?xm:eM,va=c?Bs:Ii;if(!e)return null;const Lr=()=>{switch(C){case"cart":return o("menu.cart.title");case"order-type":return o("order.form.selectOrderType");case"information":return o("order.form.orderInformation");default:return o("menu.cart.title")}};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 transition-opacity",onClick:t}),r.jsxs("div",{className:"fixed right-0 top-0 bottom-0 w-full sm:w-[500px] bg-white dark:bg-slate-800 shadow-2xl z-50 flex flex-col overflow-hidden",dir:c?"rtl":"ltr",children:[r.jsxs("div",{className:"bg-gradient-to-r from-slate-600 to-slate-600 dark:from-slate-700 dark:to-slate-700 px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Aa,{className:"w-6 h-6 text-white"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:Lr()}),r.jsx("p",{className:"text-emerald-100 text-sm",children:C==="cart"&&`${ut} ${o("menu.items")}`})]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors text-white",children:r.jsx(at,{className:"w-6 h-6"})})]}),C!=="cart"&&r.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-slate-900/50",children:[r.jsx("button",{onClick:fe,className:"flex-1 py-3 px-4 text-sm font-medium transition-colors text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold bg-slate-300 dark:bg-slate-600 text-slate-600 dark:text-slate-300",children:"✓"}),r.jsx("span",{children:o("menu.cart.title")})]})}),r.jsx("button",{onClick:C==="information"?Ge:void 0,disabled:C==="order-type",className:`flex-1 py-3 px-4 text-sm font-medium transition-colors ${C==="order-type"?"text-orange-600 border-b-2 border-orange-600 bg-orange-50 dark:bg-orange-900/20 dark:text-orange-400":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 cursor-pointer"}`,children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("span",{className:`flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold ${C==="order-type"?"bg-orange-500 text-white":"bg-slate-300 dark:bg-slate-600 text-slate-600 dark:text-slate-300"}`,children:"1"}),r.jsx("span",{children:o("order.form.orderType")})]})}),r.jsx("button",{disabled:!0,className:`flex-1 py-3 px-4 text-sm font-medium transition-colors ${C==="information"?"text-orange-600 border-b-2 border-orange-600 bg-orange-50 dark:bg-orange-900/20 dark:text-orange-400":"text-slate-400 dark:text-slate-600"}`,children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("span",{className:`flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold ${C==="information"?"bg-orange-500 text-white":"bg-slate-300 dark:bg-slate-600 text-slate-400"}`,children:"2"}),r.jsx("span",{children:o("order.form.information")})]})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto",children:[C==="cart"&&(ut===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-6 text-center",children:[r.jsx("div",{className:"p-6 bg-slate-100 dark:bg-slate-700 rounded-full mb-4",children:r.jsx(Aa,{className:"w-12 h-12 text-slate-400 dark:text-slate-500"})}),r.jsx("h3",{className:`text-xl font-bold ${At.text.primary} mb-2`,children:o("menu.cart.empty")}),r.jsx("p",{className:At.text.secondary,children:o("menu.cart.emptyDesc")})]}):r.jsxs("div",{className:"p-4 space-y-4",children:[mt.map(be=>{const me=be.addons||be.addonItems||[],Ae=ce(be),We=k.has(be.basketItemId);return r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[be.imageUrl&&r.jsx("img",{src:be.imageUrl,alt:be.productName,className:"w-20 h-20 object-cover rounded-lg"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:`font-semibold ${At.text.primary} mb-1`,children:be.productName}),r.jsx("p",{className:"text-sm text-emerald-600 font-semibold mb-2",children:pe(be.price||be.price)}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>Le(be.basketItemId,be.quantity,-1),disabled:u===be.basketItemId,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-600 rounded transition-colors disabled:opacity-50",children:r.jsx(oi,{className:"w-4 h-4"})}),r.jsx("span",{className:"font-bold min-w-[2rem] text-center",children:be.quantity}),r.jsx("button",{onClick:()=>Le(be.basketItemId,be.quantity,1),disabled:u===be.basketItemId,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-600 rounded transition-colors disabled:opacity-50",children:r.jsx(Nt,{className:"w-4 h-4"})})]}),r.jsx("button",{onClick:()=>ct(be.basketItemId),disabled:h===be.basketItemId,className:"ml-auto p-2 hover:bg-red-100 dark:hover:bg-red-950/20 rounded-lg text-red-500 transition-colors disabled:opacity-50",children:h===be.basketItemId?r.jsx(ot,{className:"w-4 h-4 animate-spin"}):r.jsx(er,{className:"w-4 h-4"})})]}),r.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`text-xs ${At.text.secondary}`,children:o("menu.cart.total")}),r.jsx("span",{className:"font-bold text-emerald-600",children:pe(be.totalPrice)})]})})]})]})}),(me.length>0||Ae.length>0)&&r.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700",children:[r.jsxs("button",{onClick:()=>Te(be.basketItemId),className:"w-full px-4 py-2 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[r.jsxs("span",{className:`text-sm font-semibold ${At.text.primary}`,children:["Add-ons ",me.length>0&&`(${me.length})`]}),We?r.jsx(Cn,{className:"w-4 h-4"}):r.jsx(lr,{className:"w-4 h-4"})]}),We&&r.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[me.map(Qe=>{const Mt=Qe.addonBasketItemId||Qe.basketItemId,Qn=Qe.addonName||Qe.productName,Oa=Qe.specialPrice||Qe.price;return r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-emerald-50 dark:bg-emerald-950/20 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:`text-sm font-semibold ${At.text.primary}`,children:Qn}),r.jsxs("p",{className:"text-xs text-emerald-600 font-semibold",children:[pe(Oa)," each"]})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>Pt(Mt,Qe.quantity,-1,Qe.maxQuantity||10),disabled:u===Mt,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-600 rounded transition-colors disabled:opacity-50",children:r.jsx(oi,{className:"w-3 h-3"})}),r.jsx("span",{className:"font-bold text-sm min-w-[1.5rem] text-center",children:Qe.quantity}),r.jsx("button",{onClick:()=>Pt(Mt,Qe.quantity,1,Qe.maxQuantity||10),disabled:u===Mt||Qe.quantity>=(Qe.maxQuantity||10),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-600 rounded transition-colors disabled:opacity-50",children:r.jsx(Nt,{className:"w-3 h-3"})})]}),r.jsx("button",{onClick:()=>Mr(Mt),className:"p-1.5 hover:bg-red-100 dark:hover:bg-red-950/20 rounded text-red-500",children:r.jsx(at,{className:"w-4 h-4"})})]},Mt)}),Ae.length>0&&r.jsxs("div",{className:"pt-2 border-t border-slate-200 dark:border-slate-700",children:[r.jsx("p",{className:`text-xs font-semibold ${At.text.secondary} mb-2`,children:"Available Add-ons:"}),r.jsx("div",{className:"space-y-2",children:Ae.map(Qe=>r.jsxs("button",{onClick:()=>pn(be.basketItemId,Qe,be.quantity),disabled:j===be.basketItemId,className:"w-full flex items-center justify-between p-2 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 rounded-lg transition-colors disabled:opacity-50",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Nt,{className:"w-4 h-4 text-emerald-600"}),r.jsx("span",{className:`text-sm ${At.text.primary}`,children:Qe.addonName})]}),r.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:pe(Qe.specialPrice||Qe.price)})]},Qe.branchProductAddonId))})]})]})]})]},be.basketItemId)}),ut>0&&r.jsx("button",{onClick:fn,disabled:b,className:"w-full py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-950/20 rounded-lg transition-colors disabled:opacity-50",children:b?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(ot,{className:"w-4 h-4 animate-spin"}),"Clearing..."]}):o("menu.cart.clear")})]})),C==="order-type"&&r.jsxs("div",{className:"p-6",children:[U&&r.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(lt,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-red-900 dark:text-red-200",children:o("common.error")}),r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:U})]})]})}),F?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(ot,{className:"h-6 w-6 animate-spin text-orange-500"}),r.jsx("span",{className:`${c?"mr-2":"ml-2"} text-slate-600 dark:text-slate-400`,children:o("order.form.loadingOrderTypes")})]}):r.jsx("div",{className:"space-y-3",children:E.map(be=>{const me=Et+be.serviceCharge,Ae=I?.id===be.id;return r.jsx("button",{onClick:()=>Pe(be),className:`w-full text-${c?"right":"left"} p-4 border-2 rounded-lg transition-all ${Ae?"border-orange-500 bg-orange-50 dark:bg-orange-900/20":"border-slate-300 dark:border-slate-600 hover:border-orange-300 dark:hover:border-orange-700"}`,children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"text-3xl flex-shrink-0",children:be.icon}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-slate-100",children:be.name}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:be.description})]}),Ae&&r.jsx(xt,{className:"w-5 h-5 text-orange-500 flex-shrink-0"})]}),r.jsxs("div",{className:`flex flex-wrap gap-2 mb-3 ${c?"justify-end":"justify-start"}`,children:[be.requiresName&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-950/30 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:[r.jsx(ln,{className:"w-3 h-3"}),o("order.form.name")]}),be.requiresTable&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-pink-100 dark:bg-pink-950/30 text-pink-700 dark:text-pink-300 text-xs rounded-full",children:[r.jsx(Wu,{className:"w-3 h-3"}),o("order.form.table")]}),be.requiresAddress&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 dark:bg-purple-950/30 text-purple-700 dark:text-purple-300 text-xs rounded-full",children:[r.jsx($r,{className:"w-3 h-3"}),o("order.form.address")]}),be.requiresPhone&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 dark:bg-green-950/30 text-green-700 dark:text-green-300 text-xs rounded-full",children:[r.jsx(Gr,{className:"w-3 h-3"}),o("order.form.phone")]})]}),r.jsxs("div",{className:"space-y-1 text-xs",children:[be.minOrderAmount>0&&r.jsxs("p",{className:"text-blue-600 dark:text-blue-400",children:[o("order.form.minimumOrder"),": ",pe(be.minOrderAmount)]}),be.serviceCharge>0&&r.jsxs("p",{className:"text-orange-600 dark:text-orange-400",children:[o("order.form.serviceCharge"),": +",pe(be.serviceCharge)]}),be.estimatedMinutes>0&&r.jsxs("p",{className:"text-green-600 dark:text-green-400",children:[o("order.form.estimatedTime"),": ",be.estimatedMinutes," ",o("order.form.minutes")]}),r.jsxs("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400 mt-2",children:[o("menu.cart.total"),": ",pe(me)]})]})]})]})},be.id)})})]}),C==="information"&&I&&r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"text-2xl",children:I.icon}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-slate-900 dark:text-slate-100",children:I.name}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:I.description})]})]}),r.jsx("button",{onClick:Ge,className:"text-sm text-orange-600 hover:text-orange-700 dark:text-orange-400 dark:hover:text-orange-300 font-medium",children:o("common.change")})]}),r.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600 space-y-1 text-xs",children:[I.minOrderAmount>0&&r.jsxs("p",{className:"text-blue-600 dark:text-blue-400",children:[o("order.form.minimumOrder"),": ",pe(I.minOrderAmount)]}),I.serviceCharge>0&&r.jsxs("p",{className:"text-orange-600 dark:text-orange-400",children:[o("order.form.serviceCharge"),": +",pe(I.serviceCharge)]}),I.estimatedMinutes>0&&r.jsxs("p",{className:"text-green-600 dark:text-green-400",children:[o("order.form.estimatedTime"),": ",I.estimatedMinutes," ",o("order.form.minutes")]})]})]}),r.jsxs("div",{className:"space-y-4",children:[I.requiresName&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[r.jsx(ln,{className:`h-4 w-4 inline ${c?"ml-1":"mr-1"}`}),o("order.form.customerName")," *"]}),r.jsx("input",{type:"text",value:K,onChange:be=>Z(be.target.value),className:`w-full p-3 border rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 ${z.customerName?"border-red-500 focus:ring-red-500":"border-slate-300 dark:border-slate-600 focus:ring-orange-500"} focus:outline-none focus:ring-2 transition-all`,placeholder:o("order.form.customerNamePlaceholder")}),z.customerName&&r.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:z.customerName})]}),I.requiresTable&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[r.jsx(Wu,{className:`h-4 w-4 inline ${c?"ml-1":"mr-1"}`}),o("order.form.tableNumber")," *"]}),r.jsx("input",{type:"text",value:ie,onChange:be=>te(be.target.value),className:`w-full p-3 border rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 ${z.tableNumber?"border-red-500 focus:ring-red-500":"border-slate-300 dark:border-slate-600 focus:ring-orange-500"} focus:outline-none focus:ring-2 transition-all`,placeholder:o("order.form.tableNumberPlaceholder")}),z.tableNumber&&r.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:z.tableNumber})]}),I.requiresPhone&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[r.jsx(Gr,{className:`h-4 w-4 inline ${c?"ml-1":"mr-1"}`}),o("order.form.phoneNumber")," *"]}),r.jsx("input",{type:"tel",value:W,onChange:be=>X(be.target.value),className:`w-full p-3 border rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 ${z.customerPhone?"border-red-500 focus:ring-red-500":"border-slate-300 dark:border-slate-600 focus:ring-orange-500"} focus:outline-none focus:ring-2 transition-all`,placeholder:o("order.form.phoneNumberPlaceholder")}),z.customerPhone&&r.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:z.customerPhone})]}),I.requiresAddress&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[r.jsx($r,{className:`h-4 w-4 inline ${c?"ml-1":"mr-1"}`}),o("order.form.deliveryAddress")," *"]}),r.jsx("textarea",{value:R,onChange:be=>D(be.target.value),rows:3,className:`w-full p-3 border rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 ${z.deliveryAddress?"border-red-500 focus:ring-red-500":"border-slate-300 dark:border-slate-600 focus:ring-orange-500"} focus:outline-none focus:ring-2 transition-all resize-none`,placeholder:o("order.form.deliveryAddressPlaceholder")}),z.deliveryAddress&&r.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:z.deliveryAddress})]}),mr.length>0&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:[o("order.form.paymentMethod")," *"]}),r.jsx("div",{className:"space-y-2",children:mr.map(be=>{const me=be.icon,Ae=B===be.id;return r.jsx("button",{type:"button",onClick:()=>H(be.id),className:`w-full p-4 border-2 rounded-lg transition-all text-${c?"right":"left"} ${Ae?"border-orange-500 bg-orange-50 dark:bg-orange-900/20":"border-slate-300 dark:border-slate-600 hover:border-orange-300 dark:hover:border-orange-700"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(me,{className:`w-6 h-6 ${Ae?"text-orange-500":"text-slate-600 dark:text-slate-400"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:be.name}),r.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-0.5",children:be.description})]}),Ae&&r.jsx(xt,{className:"w-5 h-5 text-orange-500 flex-shrink-0"})]})},be.id)})}),z.paymentMethod&&r.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:z.paymentMethod})]})]}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-slate-800 dark:text-slate-200 mb-3",children:o("order.form.orderSummary")}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[o("order.form.subtotal"),":"]}),r.jsx("span",{className:"text-slate-800 dark:text-slate-200",children:pe(Et)})]}),I.serviceCharge>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[o("order.form.serviceCharge"),":"]}),r.jsxs("span",{className:"text-slate-800 dark:text-slate-200",children:["+",pe(I.serviceCharge)]})]}),r.jsxs("div",{className:"flex justify-between font-bold border-t border-slate-200 dark:border-slate-600 pt-2",children:[r.jsxs("span",{className:"text-slate-800 dark:text-slate-200",children:[o("menu.cart.total"),":"]}),r.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:pe(Et+I.serviceCharge)})]}),I.estimatedMinutes>0&&r.jsxs("div",{className:"flex items-center text-slate-600 dark:text-slate-400 mt-2",children:[r.jsx(zt,{className:`h-4 w-4 ${c?"ml-1":"mr-1"}`}),r.jsxs("span",{children:[o("order.form.estimatedTime"),": ",I.estimatedMinutes," ",o("order.form.minutes")]})]}),B&&r.jsxs("div",{className:"flex items-center text-slate-600 dark:text-slate-400 mt-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[B==="cash"&&r.jsx(ov,{className:`h-4 w-4 ${c?"ml-1":"mr-1"}`}),B==="credit_card"&&r.jsx(Ui,{className:`h-4 w-4 ${c?"ml-1":"mr-1"}`}),B==="online"&&r.jsx(Gl,{className:`h-4 w-4 ${c?"ml-1":"mr-1"}`}),r.jsxs("span",{children:[o("order.form.payment"),": ",mr.find(be=>be.id===B)?.name]})]})]})]})]})]}),C==="cart"&&ut>0&&r.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 p-6 space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:At.text.secondary,children:o("order.form.subtotal")}),r.jsx("span",{className:At.text.primary,children:pe(tr)})]}),Oe>0&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:At.text.secondary,children:"Tax:"}),r.jsx("span",{className:At.text.primary,children:pe(Oe)})]}),r.jsxs("div",{className:"flex items-center justify-between text-lg font-bold pt-2 border-t border-slate-200 dark:border-slate-700",children:[r.jsx("span",{className:At.text.primary,children:o("menu.cart.total")}),r.jsx("span",{className:"text-emerald-600",children:pe(Et)})]})]}),r.jsx("button",{onClick:ke,className:"w-full py-4 bg-gradient-to-r from-slate-600 to-slate-600 hover:from-emerald-700 hover:to-slate-700 text-white rounded-xl font-bold text-lg transition-all duration-300 shadow-lg hover:shadow-xl",children:o("menu.cart.placeOrder")})]}),C==="information"&&r.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:Ge,className:"flex-1 py-3 px-4 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[r.jsx(Ut,{className:`h-4 w-4 inline ${c?"ml-1":"mr-1"}`}),o("priceChange.cancel")]}),r.jsx("button",{onClick:vt,disabled:le,className:"flex-1 bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 hover:from-orange-600 hover:via-orange-700 hover:to-pink-600 text-white py-3 px-4 rounded-lg font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:le?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(ot,{className:`h-4 w-4 ${c?"ml-2":"mr-2"} animate-spin`}),o("menu.cart.processing")]}):r.jsxs("div",{className:"flex items-center justify-center",children:[o("order.form.createOrder"),r.jsx(va,{className:`h-4 w-4 ${c?"mr-2":"ml-2"}`})]})})]})})]}),r.jsx("div",{className:`fixed top-4 ${c?"left-4":"right-4"} z-[60] space-y-2 max-w-md`,children:we.map(be=>r.jsx(ER,{toast:be,onClose:pt},be.id))}),r.jsx(IR,{isVisible:Be,restaurantName:Vr,onConfirm:kt,onCancel:Ot})]})},jme=()=>{const{id:e}=k3(),{t}=qe(),[a,n]=p.useState(!0),[s,i]=p.useState(!1),[o,l]=p.useState(""),[c,u]=p.useState(null),[g,h]=p.useState(null),[x,b]=p.useState(!1),[y,k]=p.useState(""),[v,j]=p.useState(null),[S,C]=p.useState(new Set),[P,E]=p.useState(null),[A,I]=p.useState(1),[M,F]=p.useState([]),[Q,U]=p.useState(!1),[V,K]=p.useState(null),[Z,ie]=p.useState(null),[te,R]=p.useState(!1),[D,W]=p.useState(!1);console.log("basket",V);const[X,B]=p.useState(!1),[H,z]=p.useState(null),[$,_]=p.useState(!1),[Y,q]=p.useState(new Map);p.useEffect(()=>{e&&G()},[e]);const G=async()=>{try{n(!0),l("");const Se=await Nn.getPublicBranchId(Number(e));u(Se),Se.publicId&&(await le(Se.publicId),await ee(Se.publicId))}catch(Se){l(Se.message||t("menu.error.fetchPublicId"))}finally{n(!1)}},ee=async Se=>{try{R(!1),!sessionStorage.getItem("online_menu_initialized")?(console.log("🆕 First load detected - clearing old tokens"),localStorage.removeItem("online_menu_session_id"),localStorage.removeItem("token"),localStorage.removeItem("online_menu_public_id"),localStorage.removeItem("tokenExpiry"),sessionStorage.setItem("online_menu_initialized","true")):console.log("🔄 Page refresh detected - preserving session");const de=localStorage.getItem("online_menu_session_id"),pe=localStorage.getItem("token"),ce=localStorage.getItem("online_menu_public_id");if(de&&pe&&ce===Se){console.log("✅ Reusing existing session:",de),ie(de),R(!0);try{await ue(),console.log("✅ Existing session is valid and basket loaded");return}catch(Pt){console.warn("⚠️ Existing session failed, creating new session:",Pt),localStorage.removeItem("online_menu_session_id"),localStorage.removeItem("token"),localStorage.removeItem("online_menu_public_id"),localStorage.removeItem("tokenExpiry")}}console.log("🆕 Creating new session...");const Te=localStorage.getItem("customer_identifier")||`guest_${Date.now()}_${Math.random().toString(36).substring(7)}`;localStorage.setItem("customer_identifier",Te);const Le=`${navigator.userAgent}_${navigator.language}_${screen.width}x${screen.height}`,ct=await Nn.startSession({publicId:Se,customerIdentifier:Te,deviceFingerprint:Le,preferredLanguage:"en"});console.log("✅ New session created:",ct.sessionId),ie(ct.sessionId),localStorage.setItem("online_menu_session_id",ct.sessionId),localStorage.setItem("token",ct.sessionToken),localStorage.setItem("online_menu_public_id",Se),localStorage.setItem("online_menu_branch_id",ct.branchId.toString()),localStorage.setItem("tokenExpiry",ct.expiresAt),R(!0),await ue()}catch(Re){console.error("❌ Session init error:",Re),l(t("menu.error.initializeSession"))}},ue=async()=>{try{const Se=await Nn.getMyBasket();K(Se),await Be(Se)}catch(Se){Se?.response?.status===401&&R(!1),K(null)}},le=async Se=>{try{i(!0);const Re=await Nn.getOnlineMenu(Se);h(Re),ae(Re)}catch(Re){console.error("Menu fetch error:",Re)}finally{i(!1)}},ae=Se=>{const Re=new Map;Se.categories.forEach(de=>{de.products.forEach(pe=>{Re.set(pe.branchProductId,pe.price)})}),q(Re)},Be=async Se=>{if(!g||!Se?.items?.length)return;const Re=new Map;let de=!1;const pe=[];if(g.categories.forEach(ce=>{ce.products.forEach(Te=>{Re.set(Te.branchProductId,Te.price)})}),Se.items?.forEach(ce=>{if(!ce.isAddon){const Te=Re.get(ce.branchProductId),Le=ce.price;Te!==void 0&&Te!==Le&&(de=!0,pe.push({basketItemId:ce.basketItemId,productName:ce.productName,oldPrice:Le,newPrice:Te,priceDifference:Te-Le}))}}),de){const ce=pe.map(Te=>`${Te.productName}: ${Tt(Te.oldPrice)} → ${Tt(Te.newPrice)} (${Te.priceDifference>0?"+":""}${Tt(Te.priceDifference)})`).join(`
`);z({message:ce,items:pe,requiresConfirmation:!0}),B(!0)}},he=async()=>{_(!0);try{const Se=localStorage.getItem("online_menu_session_id");if(Se)try{await ha.confirmSessionPriceChanges(Se)}catch(Re){console.warn("Price confirmation API call failed, refreshing basket anyway:",Re)}await ue(),B(!1),z(null)}catch(Se){console.error("Failed to confirm price changes:",Se),alert(t("menu.error.updatePrices"))}finally{_(!1)}},we=()=>{B(!1),z(null),W(!0)},De=Se=>{if(!te){alert(t("menu.sessionPreparing"));return}E(Se),I(1),F([])},Ze=()=>{E(null),I(1),F([])},pt=Se=>{F(Re=>{const de=Re.findIndex(pe=>pe.branchProductAddonId===Se.branchProductAddonId);return de>=0?Re.filter((pe,ce)=>ce!==de):[...Re,{addonBranchProductId:Se.branchProductAddonId,branchProductAddonId:Se.branchProductAddonId,quantity:1,addon:Se}]})},mt=(Se,Re)=>{F(de=>de.map(pe=>{if(pe.branchProductAddonId!==Se)return pe;const ce=Math.max(1,Math.min(pe.addon.maxQuantity,pe.quantity+Re));return{...pe,quantity:ce}}))},ut=()=>{if(!P)return 0;let Se=P.price*A;return M.forEach(Re=>{const de=Re.addon.specialPrice??Re.addon.price;Se+=de*Re.quantity*A}),Se},Et=async(Se,Re,de=[])=>{if(!te)throw new Error(t("menu.sessionNotReady"));try{if(U(!0),de.length){const pe=await Nn.addUnifiedItemToMyBasket({branchProductId:Se.branchProductId,quantity:Re,isAddon:!1});if(pe.basketItemId){const ce=de.map(Te=>({branchProductId:Se.availableAddons?.find(ct=>ct.branchProductAddonId===Te.branchProductAddonId)?.addonBranchProductId??Te.branchProductAddonId,quantity:Te.quantity*Re,parentBasketItemId:pe.basketItemId,isAddon:!0}));await Nn.batchAddItemsToMyBasket(ce)}}else await Nn.addUnifiedItemToMyBasket({branchProductId:Se.branchProductId,quantity:Re,isAddon:!1});await ue(),Ze()}finally{U(!1)}},tr=async()=>{if(P)try{await Et(P,A,M)}catch(Se){alert(Se.message||t("menu.error.addToBasket"))}},Oe=async(Se,Re=[])=>{if(!te){alert(t("menu.sessionPreparing"));return}if(Se.availableAddons&&Se.availableAddons.length>0){De(Se);return}try{await Et(Se,1,[])}catch(de){alert(de.message||t("menu.error.addToBasket"))}},Me=async Se=>{try{const Re=V?.items?.find(de=>de.branchProductId===Se&&!de.isAddon);Re?.basketItemId&&(await Nn.deleteBasketItem(Re.basketItemId),await ue())}catch(Re){alert(Re.message||t("menu.error.removeFromBasket"))}},Vr=Se=>{C(Re=>{const de=new Set(Re);return de.has(Se)?de.delete(Se):de.add(Se),localStorage.setItem("menu_favorites",JSON.stringify([...de])),de})},ur=Se=>{j(Se===v?null:Se)},rr=async Se=>!V||!V.items?0:V.items.find(de=>de.branchProductId===Se&&!de.isAddon)?.quantity||0;p.useEffect(()=>{const Se=localStorage.getItem("menu_favorites");if(Se)try{const Re=JSON.parse(Se);C(new Set(Re))}catch(Re){console.error("Failed to load favorites:",Re)}},[]),p.useEffect(()=>{if(!V||!g)return;const Se=setInterval(()=>{Be(V)},3e4);return()=>clearInterval(Se)},[V,g]);const Tt=(Se,Re="TRY")=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:Re}).format(Se);return a?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ot,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:`text-lg ${At.text.secondary}`,children:t("menu.loadingOnline")})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[g&&r.jsx(CR,{menuData:g,totalItems:V?.itemCount||0,onCartToggle:()=>W(!0)}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[V&&V.totalPrice>0&&r.jsxs("button",{onClick:()=>W(!0),className:"fixed bottom-6 right-6 bg-gradient-to-r from-emerald-600 to-green-600 text-white p-4 rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 z-50 flex items-center gap-2 hover:scale-105",children:[r.jsx(Aa,{className:"w-6 h-6"}),r.jsx("span",{className:"font-bold",children:V.itemCount}),r.jsx("span",{className:"hidden sm:inline",children:"|"}),r.jsx("span",{className:"hidden sm:inline font-bold",children:Tt(V.totalPrice,g?.preferences.defaultCurrency)})]}),r.jsx(wme,{isOpen:D,onClose:()=>W(!1),basket:V,onBasketUpdate:ue,currency:g?.preferences.defaultCurrency??"TRY",menuData:g}),r.jsx(MR,{isVisible:X,priceChanges:H,confirmingPriceChanges:$,onCancel:we,onConfirm:he}),s?r.jsx("div",{className:`${At.background.card} backdrop-blur-xl rounded-3xl shadow-2xl border border-slate-200/50 dark:border-slate-700/50 p-8`,children:r.jsxs("div",{className:"text-center",children:[r.jsx(ot,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:`text-lg ${At.text.secondary}`,children:t("menu.loadingPreview")})]})}):g?r.jsx("div",{className:`${At.background.card} backdrop-blur-xl rounded-3xl shadow-2xl  dark:border-slate-700/50 overflow-hidden`,children:r.jsxs("div",{className:"p-8 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[r.jsx(SR,{searchTerm:y,onSearchChange:k}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 bg-transparent ",children:[!y&&g.categories.length>0&&r.jsx(PR,{categories:g.categories,selectedCategory:v,onCategorySelect:ur}),r.jsx("div",{className:y?"lg:col-span-4":"lg:col-span-3",children:r.jsx(AR,{categories:g.categories,selectedCategory:v,searchTerm:y,cart:[],favorites:S,onAddToCart:Oe,onRemoveFromCart:Me,onToggleFavorite:Vr,onCategorySelect:ur,restaurantName:g.restaurantName,onCustomize:De,getCartItemQuantity:rr})})]})]})}):null]})}),P&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center p-0 sm:p-4",children:r.jsxs("div",{className:`${At.background.card} w-full sm:max-w-2xl max-h-[90vh] overflow-y-auto rounded-t-3xl sm:rounded-3xl shadow-2xl`,onClick:Se=>Se.stopPropagation(),children:[r.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-emerald-600 to-green-600 p-6 text-white flex items-start justify-between z-10",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-2xl font-bold",children:P.productName}),P.productDescription&&r.jsx("p",{className:"text-emerald-100 mt-2",children:P.productDescription})]}),r.jsx("button",{onClick:Ze,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:r.jsx(at,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"relative h-64 rounded-2xl overflow-hidden",children:r.jsx("img",{src:P.productImageUrl,alt:P.productName,className:"w-full h-full object-cover",onError:Se=>{Se.currentTarget.src="https://www.customcardsandgames.com/assets/images/noImageUploaded.png"}})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`text-lg ${At.text.secondary}`,children:t("menu.basePrice")}),r.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:Tt(P.price,g?.preferences.defaultCurrency)})]}),P.ingredients?.length?r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:`font-bold ${At.text.primary}`,children:t("menu.ingredients")}),r.jsx("div",{className:"flex flex-wrap gap-2",children:P.ingredients.map(Se=>r.jsx("span",{className:"text-sm bg-slate-100 dark:bg-slate-700 px-3 py-1.5 rounded-full",children:Se.ingredientName},Se.ingredientId))})]}):null,P.allergens?.length?r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:`font-bold ${At.text.primary}`,children:t("menu.allergens")}),r.jsx("div",{className:"flex flex-wrap gap-2",children:P.allergens.map(Se=>r.jsxs("span",{className:"text-sm bg-red-50 dark:bg-red-950/20 text-red-600 dark:text-red-400 px-3 py-1.5 rounded-full border border-red-200 dark:border-red-800",children:[Se.icon," ",Se.name]},Se.id))})]}):null,r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:`font-bold ${At.text.primary}`,children:t("menu.quantity")}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>I(Math.max(1,A-1)),className:"p-2 bg-slate-200 dark:bg-slate-700 rounded-full hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:r.jsx(oi,{className:"w-5 h-5"})}),r.jsx("span",{className:"text-2xl font-bold min-w-[3rem] text-center",children:A}),r.jsx("button",{onClick:()=>I(A+1),className:"p-2 bg-slate-200 dark:bg-slate-700 rounded-full hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:r.jsx(Nt,{className:"w-5 h-5"})})]})]}),P.availableAddons?.length?r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:`font-bold ${At.text.primary}`,children:t("menu.addons")}),r.jsx("div",{className:"space-y-3",children:P.availableAddons.map(Se=>{const Re=M.some(pe=>pe.branchProductAddonId===Se.branchProductAddonId),de=M.find(pe=>pe.branchProductAddonId===Se.branchProductAddonId);return r.jsx("div",{className:`p-4 rounded-xl border-2 transition-all cursor-pointer ${Re?"border-emerald-500 bg-emerald-50 dark:bg-emerald-950/20":"border-slate-200 dark:border-slate-700 hover:border-emerald-300"}`,onClick:()=>pt(Se),children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("img",{src:Se.addonImageUrl,alt:Se.addonName,className:"w-16 h-16 rounded-lg object-cover",onError:pe=>{pe.currentTarget.src="https://www.customcardsandgames.com/assets/images/noImageUploaded.png"}}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{children:[r.jsx("h5",{className:`font-bold ${At.text.primary}`,children:Se.addonName}),Se.addonDescription&&r.jsx("p",{className:`text-sm ${At.text.secondary} mt-1`,children:Se.addonDescription}),Se.marketingText&&r.jsx("p",{className:"text-sm text-emerald-600 mt-1",children:Se.marketingText})]}),r.jsx("span",{className:"font-bold text-emerald-600 whitespace-nowrap",children:Tt(Se.specialPrice??Se.price,g?.preferences.defaultCurrency)})]}),Re&&de&&r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[r.jsx("button",{onClick:pe=>{pe.stopPropagation(),mt(Se.branchProductAddonId,-1)},className:"p-1 bg-emerald-200 dark:bg-emerald-800 rounded-full hover:bg-emerald-300 dark:hover:bg-emerald-700 transition-colors",children:r.jsx(oi,{className:"w-4 h-4"})}),r.jsx("span",{className:"font-bold min-w-[2rem] text-center",children:de.quantity}),r.jsx("button",{onClick:pe=>{pe.stopPropagation(),mt(Se.branchProductAddonId,1)},disabled:de.quantity>=Se.maxQuantity,className:"p-1 bg-emerald-200 dark:bg-emerald-800 rounded-full hover:bg-emerald-300 dark:hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(Nt,{className:"w-4 h-4"})}),r.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:["(",t("menu.cart.max"),": ",Se.maxQuantity,")"]})]})]}),r.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${Re?"bg-emerald-500 border-emerald-500":"border-slate-300 dark:border-slate-600"}`,children:Re&&r.jsx(xt,{className:"w-4 h-4 text-white"})})]})},Se.branchProductAddonId)})})]}):null,r.jsxs("div",{className:"border-t-2 border-slate-200 dark:border-slate-700 pt-4 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:At.text.secondary,children:[t("menu.product")," (",A,"x)"]}),r.jsx("span",{className:At.text.primary,children:Tt(P.price*A,g?.preferences.defaultCurrency)})]}),M.map(Se=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:At.text.secondary,children:[Se.addon.addonName," (",Se.quantity,"x)"]}),r.jsx("span",{className:At.text.primary,children:Tt((Se.addon.specialPrice??Se.addon.price)*Se.quantity,g?.preferences.defaultCurrency)})]},Se.addonBranchProductId)),r.jsxs("div",{className:"flex items-center justify-between text-lg font-bold pt-2",children:[r.jsx("span",{className:At.text.primary,children:t("menu.cart.total")}),r.jsx("span",{className:"text-emerald-600",children:Tt(ut(),g?.preferences.defaultCurrency)})]})]}),r.jsx("button",{onClick:tr,disabled:Q,className:"w-full py-4 bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 text-white rounded-xl font-bold text-lg transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Q?r.jsxs(r.Fragment,{children:[r.jsx(ot,{className:"w-5 h-5 animate-spin"}),r.jsx("span",{children:t("menu.addingToBasket")})]}):r.jsxs(r.Fragment,{children:[r.jsx(Aa,{className:"w-5 h-5"}),r.jsx("span",{children:t("menu.addToBasket")})]})})]})]})}),r.jsx(TR,{})]})},Nme=()=>r.jsx(QL,{children:r.jsx(WL,{children:r.jsx(DL,{children:r.jsxs(uL,{children:[r.jsx(Rn,{path:"/",element:r.jsx(hq,{})}),r.jsx(Rn,{path:"/login",element:r.jsx(yq,{})}),r.jsx(Rn,{path:"/register",element:r.jsx(bq,{})}),r.jsx(Rn,{path:"/forgotpassword",element:r.jsx(vq,{})}),r.jsx(Rn,{path:"/onboarding/restaurant",element:r.jsx(wq,{})}),r.jsx(Rn,{path:"/onboarding/branch",element:r.jsx(Nq,{})}),r.jsx(Rn,{path:"/onboarding/complete",element:r.jsx(Cq,{})}),r.jsx(Rn,{path:"/selection",element:r.jsx(Tq,{})}),r.jsx(Rn,{path:"/dashboard/*",element:r.jsx(Kde,{})}),r.jsx(Rn,{path:"/table/qr/:qrToken",element:r.jsx(vme,{})}),r.jsx(Rn,{path:"/BranchManagement/OnlineMenu/:id",element:r.jsx(jme,{})}),r.jsx(Rn,{path:"*",element:r.jsx(dL,{to:"/",replace:!0})})]})})})});class Cme extends p.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){N.error("Uygulama hatası:",{message:t.message,stack:t.stack,componentStack:a.componentStack})}render(){return this.state.hasError?this.props.fallback?r.jsx(r.Fragment,{children:this.props.fallback}):r.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 text-center p-6",children:[r.jsx("h1",{className:"text-2xl font-semibold mb-4 text-red-600 dark:text-red-400",children:"Bir şeyler ters gitti"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:"Sayfa görüntülenemiyor. Lütfen daha sonra tekrar deneyin."}),!1]}):this.props.children}}vB.createRoot(document.getElementById("root")).render(r.jsx(or.StrictMode,{children:r.jsx(Cme,{children:r.jsx(Nme,{})})}));
