function T9(e,t){for(var a=0;a<t.length;a++){const n=t[a];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function a(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=a(s);fetch(s.href,i)}})();function Mo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ak={exports:{}},Hg={},Ek={exports:{}},Ir={};var N4;function I9(){if(N4)return Ir;N4=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),h=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=h&&z[h]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,j={};function w(z,V,F){this.props=z,this.context=V,this.refs=j,this.updater=F||b}w.prototype.isReactComponent={},w.prototype.setState=function(z,V){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,V,"setState")},w.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function S(){}S.prototype=w.prototype;function M(z,V,F){this.props=z,this.context=V,this.refs=j,this.updater=F||b}var T=M.prototype=new S;T.constructor=M,v(T,w.prototype),T.isPureReactComponent=!0;var A=Array.isArray,I=Object.prototype.hasOwnProperty,_={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function E(z,V,F){var $,q={},H=null,Q=null;if(V!=null)for($ in V.ref!==void 0&&(Q=V.ref),V.key!==void 0&&(H=""+V.key),V)I.call(V,$)&&!D.hasOwnProperty($)&&(q[$]=V[$]);var de=arguments.length-2;if(de===1)q.children=F;else if(1<de){for(var me=Array(de),je=0;je<de;je++)me[je]=arguments[je+2];q.children=me}if(z&&z.defaultProps)for($ in de=z.defaultProps,de)q[$]===void 0&&(q[$]=de[$]);return{$$typeof:e,type:z,key:H,ref:Q,props:q,_owner:_.current}}function X(z,V){return{$$typeof:e,type:z.type,key:V,ref:z.ref,props:z.props,_owner:z._owner}}function ee(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function Z(z){var V={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(F){return V[F]})}var B=/\/+/g;function G(z,V){return typeof z=="object"&&z!==null&&z.key!=null?Z(""+z.key):V.toString(36)}function J(z,V,F,$,q){var H=typeof z;(H==="undefined"||H==="boolean")&&(z=null);var Q=!1;if(z===null)Q=!0;else switch(H){case"string":case"number":Q=!0;break;case"object":switch(z.$$typeof){case e:case t:Q=!0}}if(Q)return Q=z,q=q(Q),z=$===""?"."+G(Q,0):$,A(q)?(F="",z!=null&&(F=z.replace(B,"$&/")+"/"),J(q,V,F,"",function(je){return je})):q!=null&&(ee(q)&&(q=X(q,F+(!q.key||Q&&Q.key===q.key?"":(""+q.key).replace(B,"$&/")+"/")+z)),V.push(q)),1;if(Q=0,$=$===""?".":$+":",A(z))for(var de=0;de<z.length;de++){H=z[de];var me=$+G(H,de);Q+=J(H,V,F,me,q)}else if(me=x(z),typeof me=="function")for(z=me.call(z),de=0;!(H=z.next()).done;)H=H.value,me=$+G(H,de++),Q+=J(H,V,F,me,q);else if(H==="object")throw V=String(z),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Q}function ce(z,V,F){if(z==null)return z;var $=[],q=0;return J(z,$,"","",function(H){return V.call(F,H,q++)}),$}function te(z){if(z._status===-1){var V=z._result;V=V(),V.then(function(F){(z._status===0||z._status===-1)&&(z._status=1,z._result=F)},function(F){(z._status===0||z._status===-1)&&(z._status=2,z._result=F)}),z._status===-1&&(z._status=0,z._result=V)}if(z._status===1)return z._result.default;throw z._result}var K={current:null},Y={transition:null},re={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:Y,ReactCurrentOwner:_};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ir.Children={map:ce,forEach:function(z,V,F){ce(z,function(){V.apply(this,arguments)},F)},count:function(z){var V=0;return ce(z,function(){V++}),V},toArray:function(z){return ce(z,function(V){return V})||[]},only:function(z){if(!ee(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ir.Component=w,Ir.Fragment=a,Ir.Profiler=s,Ir.PureComponent=M,Ir.StrictMode=n,Ir.Suspense=d,Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,Ir.act=ne,Ir.cloneElement=function(z,V,F){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var $=v({},z.props),q=z.key,H=z.ref,Q=z._owner;if(V!=null){if(V.ref!==void 0&&(H=V.ref,Q=_.current),V.key!==void 0&&(q=""+V.key),z.type&&z.type.defaultProps)var de=z.type.defaultProps;for(me in V)I.call(V,me)&&!D.hasOwnProperty(me)&&($[me]=V[me]===void 0&&de!==void 0?de[me]:V[me])}var me=arguments.length-2;if(me===1)$.children=F;else if(1<me){de=Array(me);for(var je=0;je<me;je++)de[je]=arguments[je+2];$.children=de}return{$$typeof:e,type:z.type,key:q,ref:H,props:$,_owner:Q}},Ir.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:i,_context:z},z.Consumer=z},Ir.createElement=E,Ir.createFactory=function(z){var V=E.bind(null,z);return V.type=z,V},Ir.createRef=function(){return{current:null}},Ir.forwardRef=function(z){return{$$typeof:l,render:z}},Ir.isValidElement=ee,Ir.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:te}},Ir.memo=function(z,V){return{$$typeof:c,type:z,compare:V===void 0?null:V}},Ir.startTransition=function(z){var V=Y.transition;Y.transition={};try{z()}finally{Y.transition=V}},Ir.unstable_act=ne,Ir.useCallback=function(z,V){return K.current.useCallback(z,V)},Ir.useContext=function(z){return K.current.useContext(z)},Ir.useDebugValue=function(){},Ir.useDeferredValue=function(z){return K.current.useDeferredValue(z)},Ir.useEffect=function(z,V){return K.current.useEffect(z,V)},Ir.useId=function(){return K.current.useId()},Ir.useImperativeHandle=function(z,V,F){return K.current.useImperativeHandle(z,V,F)},Ir.useInsertionEffect=function(z,V){return K.current.useInsertionEffect(z,V)},Ir.useLayoutEffect=function(z,V){return K.current.useLayoutEffect(z,V)},Ir.useMemo=function(z,V){return K.current.useMemo(z,V)},Ir.useReducer=function(z,V,F){return K.current.useReducer(z,V,F)},Ir.useRef=function(z){return K.current.useRef(z)},Ir.useState=function(z){return K.current.useState(z)},Ir.useSyncExternalStore=function(z,V,F){return K.current.useSyncExternalStore(z,V,F)},Ir.useTransition=function(){return K.current.useTransition()},Ir.version="18.3.1",Ir}var C4;function Um(){return C4||(C4=1,Ek.exports=I9()),Ek.exports}var S4;function A9(){if(S4)return Hg;S4=1;var e=Um(),t=Symbol.for("react.element"),a=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,d,c){var g,h={},x=null,b=null;c!==void 0&&(x=""+c),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(b=d.ref);for(g in d)n.call(d,g)&&!i.hasOwnProperty(g)&&(h[g]=d[g]);if(l&&l.defaultProps)for(g in d=l.defaultProps,d)h[g]===void 0&&(h[g]=d[g]);return{$$typeof:t,type:l,key:x,ref:b,props:h,_owner:s.current}}return Hg.Fragment=a,Hg.jsx=o,Hg.jsxs=o,Hg}var P4;function E9(){return P4||(P4=1,Ak.exports=A9()),Ak.exports}var r=E9(),p=Um();const Lr=Mo(p),Xj=T9({__proto__:null,default:Lr},[p]);var sp={},_k={exports:{}},zs={},Ok={exports:{}},Rk={};var M4;function _9(){return M4||(M4=1,(function(e){function t(Y,re){var ne=Y.length;Y.push(re);e:for(;0<ne;){var z=ne-1>>>1,V=Y[z];if(0<s(V,re))Y[z]=re,Y[ne]=V,ne=z;else break e}}function a(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var re=Y[0],ne=Y.pop();if(ne!==re){Y[0]=ne;e:for(var z=0,V=Y.length,F=V>>>1;z<F;){var $=2*(z+1)-1,q=Y[$],H=$+1,Q=Y[H];if(0>s(q,ne))H<V&&0>s(Q,q)?(Y[z]=Q,Y[H]=ne,z=H):(Y[z]=q,Y[$]=ne,z=$);else if(H<V&&0>s(Q,ne))Y[z]=Q,Y[H]=ne,z=H;else break e}}return re}function s(Y,re){var ne=Y.sortIndex-re.sortIndex;return ne!==0?ne:Y.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],c=[],g=1,h=null,x=3,b=!1,v=!1,j=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(Y){for(var re=a(c);re!==null;){if(re.callback===null)n(c);else if(re.startTime<=Y)n(c),re.sortIndex=re.expirationTime,t(d,re);else break;re=a(c)}}function A(Y){if(j=!1,T(Y),!v)if(a(d)!==null)v=!0,te(I);else{var re=a(c);re!==null&&K(A,re.startTime-Y)}}function I(Y,re){v=!1,j&&(j=!1,S(E),E=-1),b=!0;var ne=x;try{for(T(re),h=a(d);h!==null&&(!(h.expirationTime>re)||Y&&!Z());){var z=h.callback;if(typeof z=="function"){h.callback=null,x=h.priorityLevel;var V=z(h.expirationTime<=re);re=e.unstable_now(),typeof V=="function"?h.callback=V:h===a(d)&&n(d),T(re)}else n(d);h=a(d)}if(h!==null)var F=!0;else{var $=a(c);$!==null&&K(A,$.startTime-re),F=!1}return F}finally{h=null,x=ne,b=!1}}var _=!1,D=null,E=-1,X=5,ee=-1;function Z(){return!(e.unstable_now()-ee<X)}function B(){if(D!==null){var Y=e.unstable_now();ee=Y;var re=!0;try{re=D(!0,Y)}finally{re?G():(_=!1,D=null)}}else _=!1}var G;if(typeof M=="function")G=function(){M(B)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ce=J.port2;J.port1.onmessage=B,G=function(){ce.postMessage(null)}}else G=function(){w(B,0)};function te(Y){D=Y,_||(_=!0,G())}function K(Y,re){E=w(function(){Y(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){v||b||(v=!0,te(I))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return a(d)},e.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var re=3;break;default:re=x}var ne=x;x=re;try{return Y()}finally{x=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ne=x;x=Y;try{return re()}finally{x=ne}},e.unstable_scheduleCallback=function(Y,re,ne){var z=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?z+ne:z):ne=z,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ne+V,Y={id:g++,callback:re,priorityLevel:Y,startTime:ne,expirationTime:V,sortIndex:-1},ne>z?(Y.sortIndex=ne,t(c,Y),a(d)===null&&Y===a(c)&&(j?(S(E),E=-1):j=!0,K(A,ne-z))):(Y.sortIndex=V,t(d,Y),v||b||(v=!0,te(I))),Y},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(Y){var re=x;return function(){var ne=x;x=re;try{return Y.apply(this,arguments)}finally{x=ne}}}})(Rk)),Rk}var T4;function O9(){return T4||(T4=1,Ok.exports=_9()),Ok.exports}var I4;function R9(){if(I4)return zs;I4=1;var e=Um(),t=O9();function a(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,k=1;k<arguments.length;k++)f+="&args[]="+encodeURIComponent(arguments[k]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(u,f){o(u,f),o(u+"Capture",f)}function o(u,f){for(s[u]=f,u=0;u<f.length;u++)n.add(f[u])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},h={};function x(u){return d.call(h,u)?!0:d.call(g,u)?!1:c.test(u)?h[u]=!0:(g[u]=!0,!1)}function b(u,f,k,P){if(k!==null&&k.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return P?!1:k!==null?!k.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function v(u,f,k,P){if(f===null||typeof f>"u"||b(u,f,k,P))return!0;if(P)return!1;if(k!==null)switch(k.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function j(u,f,k,P,R,U,ae){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=P,this.attributeNamespace=R,this.mustUseProperty=k,this.propertyName=u,this.type=f,this.sanitizeURL=U,this.removeEmptyString=ae}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){w[u]=new j(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var f=u[0];w[f]=new j(f,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){w[u]=new j(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){w[u]=new j(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){w[u]=new j(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){w[u]=new j(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){w[u]=new j(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){w[u]=new j(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){w[u]=new j(u,5,!1,u.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function M(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var f=u.replace(S,M);w[f]=new j(f,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var f=u.replace(S,M);w[f]=new j(f,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var f=u.replace(S,M);w[f]=new j(f,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){w[u]=new j(u,1,!1,u.toLowerCase(),null,!1,!1)}),w.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){w[u]=new j(u,1,!1,u.toLowerCase(),null,!0,!0)});function T(u,f,k,P){var R=w.hasOwnProperty(f)?w[f]:null;(R!==null?R.type!==0:P||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(v(f,k,R,P)&&(k=null),P||R===null?x(f)&&(k===null?u.removeAttribute(f):u.setAttribute(f,""+k)):R.mustUseProperty?u[R.propertyName]=k===null?R.type===3?!1:"":k:(f=R.attributeName,P=R.attributeNamespace,k===null?u.removeAttribute(f):(R=R.type,k=R===3||R===4&&k===!0?"":""+k,P?u.setAttributeNS(P,f,k):u.setAttribute(f,k))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),_=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),Z=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),Y=Symbol.iterator;function re(u){return u===null||typeof u!="object"?null:(u=Y&&u[Y]||u["@@iterator"],typeof u=="function"?u:null)}var ne=Object.assign,z;function V(u){if(z===void 0)try{throw Error()}catch(k){var f=k.stack.trim().match(/\n( *(at )?)/);z=f&&f[1]||""}return`
`+z+u}var F=!1;function $(u,f){if(!u||F)return"";F=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Fe){var P=Fe}Reflect.construct(u,[],f)}else{try{f.call()}catch(Fe){P=Fe}u.call(f.prototype)}else{try{throw Error()}catch(Fe){P=Fe}u()}}catch(Fe){if(Fe&&P&&typeof Fe.stack=="string"){for(var R=Fe.stack.split(`
`),U=P.stack.split(`
`),ae=R.length-1,pe=U.length-1;1<=ae&&0<=pe&&R[ae]!==U[pe];)pe--;for(;1<=ae&&0<=pe;ae--,pe--)if(R[ae]!==U[pe]){if(ae!==1||pe!==1)do if(ae--,pe--,0>pe||R[ae]!==U[pe]){var Ne=`
`+R[ae].replace(" at new "," at ");return u.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",u.displayName)),Ne}while(1<=ae&&0<=pe);break}}}finally{F=!1,Error.prepareStackTrace=k}return(u=u?u.displayName||u.name:"")?V(u):""}function q(u){switch(u.tag){case 5:return V(u.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return u=$(u.type,!1),u;case 11:return u=$(u.type.render,!1),u;case 1:return u=$(u.type,!0),u;default:return""}}function H(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case D:return"Fragment";case _:return"Portal";case X:return"Profiler";case E:return"StrictMode";case G:return"Suspense";case J:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case Z:return(u.displayName||"Context")+".Consumer";case ee:return(u._context.displayName||"Context")+".Provider";case B:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case ce:return f=u.displayName||null,f!==null?f:H(u.type)||"Memo";case te:f=u._payload,u=u._init;try{return H(u(f))}catch{}}return null}function Q(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(f);case 8:return f===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function de(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function me(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function je(u){var f=me(u)?"checked":"value",k=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),P=""+u[f];if(!u.hasOwnProperty(f)&&typeof k<"u"&&typeof k.get=="function"&&typeof k.set=="function"){var R=k.get,U=k.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return R.call(this)},set:function(ae){P=""+ae,U.call(this,ae)}}),Object.defineProperty(u,f,{enumerable:k.enumerable}),{getValue:function(){return P},setValue:function(ae){P=""+ae},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function fe(u){u._valueTracker||(u._valueTracker=je(u))}function se(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var k=f.getValue(),P="";return u&&(P=me(u)?u.checked?"true":"false":u.value),u=P,u!==k?(f.setValue(u),!0):!1}function ie(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function ue(u,f){var k=f.checked;return ne({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:k??u._wrapperState.initialChecked})}function le(u,f){var k=f.defaultValue==null?"":f.defaultValue,P=f.checked!=null?f.checked:f.defaultChecked;k=de(f.value!=null?f.value:k),u._wrapperState={initialChecked:P,initialValue:k,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function xe(u,f){f=f.checked,f!=null&&T(u,"checked",f,!1)}function ze(u,f){xe(u,f);var k=de(f.value),P=f.type;if(k!=null)P==="number"?(k===0&&u.value===""||u.value!=k)&&(u.value=""+k):u.value!==""+k&&(u.value=""+k);else if(P==="submit"||P==="reset"){u.removeAttribute("value");return}f.hasOwnProperty("value")?ut(u,f.type,k):f.hasOwnProperty("defaultValue")&&ut(u,f.type,de(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(u.defaultChecked=!!f.defaultChecked)}function Le(u,f,k){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var P=f.type;if(!(P!=="submit"&&P!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+u._wrapperState.initialValue,k||f===u.value||(u.value=f),u.defaultValue=f}k=u.name,k!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,k!==""&&(u.name=k)}function ut(u,f,k){(f!=="number"||ie(u.ownerDocument)!==u)&&(k==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+k&&(u.defaultValue=""+k))}var kt=Array.isArray;function qt(u,f,k,P){if(u=u.options,f){f={};for(var R=0;R<k.length;R++)f["$"+k[R]]=!0;for(k=0;k<u.length;k++)R=f.hasOwnProperty("$"+u[k].value),u[k].selected!==R&&(u[k].selected=R),R&&P&&(u[k].defaultSelected=!0)}else{for(k=""+de(k),f=null,R=0;R<u.length;R++){if(u[R].value===k){u[R].selected=!0,P&&(u[R].defaultSelected=!0);return}f!==null||u[R].disabled||(f=u[R])}f!==null&&(f.selected=!0)}}function hr(u,f){if(f.dangerouslySetInnerHTML!=null)throw Error(a(91));return ne({},f,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function jr(u,f){var k=f.value;if(k==null){if(k=f.children,f=f.defaultValue,k!=null){if(f!=null)throw Error(a(92));if(kt(k)){if(1<k.length)throw Error(a(93));k=k[0]}f=k}f==null&&(f=""),k=f}u._wrapperState={initialValue:de(k)}}function nt(u,f){var k=de(f.value),P=de(f.defaultValue);k!=null&&(k=""+k,k!==u.value&&(u.value=k),f.defaultValue==null&&u.defaultValue!==k&&(u.defaultValue=k)),P!=null&&(u.defaultValue=""+P)}function rt(u){var f=u.textContent;f===u._wrapperState.initialValue&&f!==""&&f!==null&&(u.value=f)}function Pr(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ht(u,f){return u==null||u==="http://www.w3.org/1999/xhtml"?Pr(f):u==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Wt,ge=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,k,P,R){MSApp.execUnsafeLocalFunction(function(){return u(f,k,P,R)})}:u})(function(u,f){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=f;else{for(Wt=Wt||document.createElement("div"),Wt.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=Wt.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;f.firstChild;)u.appendChild(f.firstChild)}});function ye(u,f){if(f){var k=u.firstChild;if(k&&k===u.lastChild&&k.nodeType===3){k.nodeValue=f;return}}u.textContent=f}var Be={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qe=["Webkit","ms","Moz","O"];Object.keys(Be).forEach(function(u){Qe.forEach(function(f){f=f+u.charAt(0).toUpperCase()+u.substring(1),Be[f]=Be[u]})});function pt(u,f,k){return f==null||typeof f=="boolean"||f===""?"":k||typeof f!="number"||f===0||Be.hasOwnProperty(u)&&Be[u]?(""+f).trim():f+"px"}function Ce(u,f){u=u.style;for(var k in f)if(f.hasOwnProperty(k)){var P=k.indexOf("--")===0,R=pt(k,f[k],P);k==="float"&&(k="cssFloat"),P?u.setProperty(k,R):u[k]=R}}var we=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(u,f){if(f){if(we[u]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(a(137,u));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(a(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(a(61))}if(f.style!=null&&typeof f.style!="object")throw Error(a(62))}}function Ie(u,f){if(u.indexOf("-")===-1)return typeof f.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=null;function _e(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Ye=null,Ft=null,Tt=null;function nr(u){if(u=kl(u)){if(typeof Ye!="function")throw Error(a(280));var f=u.stateNode;f&&(f=Du(f),Ye(u.stateNode,u.type,f))}}function gr(u){Ft?Tt?Tt.push(u):Tt=[u]:Ft=u}function sa(){if(Ft){var u=Ft,f=Tt;if(Tt=Ft=null,nr(u),f)for(u=0;u<f.length;u++)nr(f[u])}}function Ve(u,f){return u(f)}function St(){}var wt=!1;function Ke(u,f,k){if(wt)return u(f,k);wt=!0;try{return Ve(u,f,k)}finally{wt=!1,(Ft!==null||Tt!==null)&&(St(),sa())}}function et(u,f){var k=u.stateNode;if(k===null)return null;var P=Du(k);if(P===null)return null;k=P[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(P=!P.disabled)||(u=u.type,P=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!P;break e;default:u=!1}if(u)return null;if(k&&typeof k!="function")throw Error(a(231,f,typeof k));return k}var bt=!1;if(l)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){bt=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{bt=!1}function Xt(u,f,k,P,R,U,ae,pe,Ne){var Fe=Array.prototype.slice.call(arguments,3);try{f.apply(k,Fe)}catch(lt){this.onError(lt)}}var cr=!1,gt=null,ia=!1,Ha=null,cn={onError:function(u){cr=!0,gt=u}};function Es(u,f,k,P,R,U,ae,pe,Ne){cr=!1,gt=null,Xt.apply(cn,arguments)}function _s(u,f,k,P,R,U,ae,pe,Ne){if(Es.apply(this,arguments),cr){if(cr){var Fe=gt;cr=!1,gt=null}else throw Error(a(198));ia||(ia=!0,Ha=Fe)}}function Cn(u){var f=u,k=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(k=f.return),u=f.return;while(u)}return f.tag===3?k:null}function Fn(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function He(u){if(Cn(u)!==u)throw Error(a(188))}function it(u){var f=u.alternate;if(!f){if(f=Cn(u),f===null)throw Error(a(188));return f!==u?null:u}for(var k=u,P=f;;){var R=k.return;if(R===null)break;var U=R.alternate;if(U===null){if(P=R.return,P!==null){k=P;continue}break}if(R.child===U.child){for(U=R.child;U;){if(U===k)return He(R),u;if(U===P)return He(R),f;U=U.sibling}throw Error(a(188))}if(k.return!==P.return)k=R,P=U;else{for(var ae=!1,pe=R.child;pe;){if(pe===k){ae=!0,k=R,P=U;break}if(pe===P){ae=!0,P=R,k=U;break}pe=pe.sibling}if(!ae){for(pe=U.child;pe;){if(pe===k){ae=!0,k=U,P=R;break}if(pe===P){ae=!0,P=U,k=R;break}pe=pe.sibling}if(!ae)throw Error(a(189))}}if(k.alternate!==P)throw Error(a(190))}if(k.tag!==3)throw Error(a(188));return k.stateNode.current===k?u:f}function jt(u){return u=it(u),u!==null?Gt(u):null}function Gt(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=Gt(u);if(f!==null)return f;u=u.sibling}return null}var Re=t.unstable_scheduleCallback,zt=t.unstable_cancelCallback,Qt=t.unstable_shouldYield,fr=t.unstable_requestPaint,Dt=t.unstable_now,lr=t.unstable_getCurrentPriorityLevel,yt=t.unstable_ImmediatePriority,Yt=t.unstable_UserBlockingPriority,At=t.unstable_NormalPriority,ha=t.unstable_LowPriority,ca=t.unstable_IdlePriority,Te=null,at=null;function Et(u){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Te,u,void 0,(u.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Me,xr=Math.log,Ba=Math.LN2;function Me(u){return u>>>=0,u===0?32:31-(xr(u)/Ba|0)|0}var Ge=64,Xe=4194304;function We(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Je(u,f){var k=u.pendingLanes;if(k===0)return 0;var P=0,R=u.suspendedLanes,U=u.pingedLanes,ae=k&268435455;if(ae!==0){var pe=ae&~R;pe!==0?P=We(pe):(U&=ae,U!==0&&(P=We(U)))}else ae=k&~R,ae!==0?P=We(ae):U!==0&&(P=We(U));if(P===0)return 0;if(f!==0&&f!==P&&(f&R)===0&&(R=P&-P,U=f&-f,R>=U||R===16&&(U&4194240)!==0))return f;if((P&4)!==0&&(P|=k&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=P;0<f;)k=31-_t(f),R=1<<k,P|=u[k],f&=~R;return P}function mr(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ar(u,f){for(var k=u.suspendedLanes,P=u.pingedLanes,R=u.expirationTimes,U=u.pendingLanes;0<U;){var ae=31-_t(U),pe=1<<ae,Ne=R[ae];Ne===-1?((pe&k)===0||(pe&P)!==0)&&(R[ae]=mr(pe,f)):Ne<=f&&(u.expiredLanes|=pe),U&=~pe}}function Mr(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function ir(){var u=Ge;return Ge<<=1,(Ge&4194240)===0&&(Ge=64),u}function yr(u){for(var f=[],k=0;31>k;k++)f.push(u);return f}function dt(u,f,k){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-_t(f),u[f]=k}function Vt(u,f){var k=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var P=u.eventTimes;for(u=u.expirationTimes;0<k;){var R=31-_t(k),U=1<<R;f[R]=0,P[R]=-1,u[R]=-1,k&=~U}}function ba(u,f){var k=u.entangledLanes|=f;for(u=u.entanglements;k;){var P=31-_t(k),R=1<<P;R&f|u[P]&f&&(u[P]|=f),k&=~R}}var Nr=0;function wi(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var cl,ti,ul,ic,br,Qn=!1,va=[],Sn=null,eo=null,ji=null,oc=new Map,dr=new Map,un=[],ea="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lg(u,f){switch(u){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":oc.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(f.pointerId)}}function ml(u,f,k,P,R,U){return u===null||u.nativeEvent!==U?(u={blockedOn:f,domEventName:k,eventSystemFlags:P,nativeEvent:U,targetContainers:[R]},f!==null&&(f=kl(f),f!==null&&ti(f)),u):(u.eventSystemFlags|=P,f=u.targetContainers,R!==null&&f.indexOf(R)===-1&&f.push(R),u)}function dg(u,f,k,P,R){switch(f){case"focusin":return Sn=ml(Sn,u,f,k,P,R),!0;case"dragenter":return eo=ml(eo,u,f,k,P,R),!0;case"mouseover":return ji=ml(ji,u,f,k,P,R),!0;case"pointerover":var U=R.pointerId;return oc.set(U,ml(oc.get(U)||null,u,f,k,P,R)),!0;case"gotpointercapture":return U=R.pointerId,dr.set(U,ml(dr.get(U)||null,u,f,k,P,R)),!0}return!1}function bu(u){var f=vl(u.target);if(f!==null){var k=Cn(f);if(k!==null){if(f=k.tag,f===13){if(f=Fn(k),f!==null){u.blockedOn=f,br(u.priority,function(){ul(k)});return}}else if(f===3&&k.stateNode.current.memoizedState.isDehydrated){u.blockedOn=k.tag===3?k.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Ni(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var k=wu(u.domEventName,u.eventSystemFlags,f[0],u.nativeEvent);if(k===null){k=u.nativeEvent;var P=new k.constructor(k.type,k);Se=P,k.target.dispatchEvent(P),Se=null}else return f=kl(k),f!==null&&ti(f),u.blockedOn=k,!1;f.shift()}return!0}function vu(u,f,k){Ni(u)&&k.delete(f)}function lc(){Qn=!1,Sn!==null&&Ni(Sn)&&(Sn=null),eo!==null&&Ni(eo)&&(eo=null),ji!==null&&Ni(ji)&&(ji=null),oc.forEach(vu),dr.forEach(vu)}function Ta(u,f){u.blockedOn===f&&(u.blockedOn=null,Qn||(Qn=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,lc)))}function ri(u){function f(R){return Ta(R,u)}if(0<va.length){Ta(va[0],u);for(var k=1;k<va.length;k++){var P=va[k];P.blockedOn===u&&(P.blockedOn=null)}}for(Sn!==null&&Ta(Sn,u),eo!==null&&Ta(eo,u),ji!==null&&Ta(ji,u),oc.forEach(f),dr.forEach(f),k=0;k<un.length;k++)P=un[k],P.blockedOn===u&&(P.blockedOn=null);for(;0<un.length&&(k=un[0],k.blockedOn===null);)bu(k),k.blockedOn===null&&un.shift()}var gl=A.ReactCurrentBatchConfig,dc=!0;function mv(u,f,k,P){var R=Nr,U=gl.transition;gl.transition=null;try{Nr=1,cc(u,f,k,P)}finally{Nr=R,gl.transition=U}}function X0(u,f,k,P){var R=Nr,U=gl.transition;gl.transition=null;try{Nr=4,cc(u,f,k,P)}finally{Nr=R,gl.transition=U}}function cc(u,f,k,P){if(dc){var R=wu(u,f,k,P);if(R===null)m(u,f,P,ku,k),lg(u,P);else if(dg(R,u,f,k,P))P.stopPropagation();else if(lg(u,P),f&4&&-1<ea.indexOf(u)){for(;R!==null;){var U=kl(R);if(U!==null&&cl(U),U=wu(u,f,k,P),U===null&&m(u,f,P,ku,k),U===R)break;R=U}R!==null&&P.stopPropagation()}else m(u,f,P,null,k)}}var ku=null;function wu(u,f,k,P){if(ku=null,u=_e(P),u=vl(u),u!==null)if(f=Cn(u),f===null)u=null;else if(k=f.tag,k===13){if(u=Fn(f),u!==null)return u;u=null}else if(k===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null);return ku=u,null}function Er(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lr()){case yt:return 1;case Yt:return 4;case At:case ha:return 16;case ca:return 536870912;default:return 16}default:return 16}}var _o=null,fs=null,Oo=null;function cg(){if(Oo)return Oo;var u,f=fs,k=f.length,P,R="value"in _o?_o.value:_o.textContent,U=R.length;for(u=0;u<k&&f[u]===R[u];u++);var ae=k-u;for(P=1;P<=ae&&f[k-P]===R[U-P];P++);return Oo=R.slice(u,1<P?1-P:void 0)}function ju(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function dd(){return!0}function J0(){return!1}function Gn(u){function f(k,P,R,U,ae){this._reactName=k,this._targetInst=R,this.type=P,this.nativeEvent=U,this.target=ae,this.currentTarget=null;for(var pe in u)u.hasOwnProperty(pe)&&(k=u[pe],this[pe]=k?k(U):U[pe]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?dd:J0,this.isPropagationStopped=J0,this}return ne(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():typeof k.returnValue!="unknown"&&(k.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():typeof k.cancelBubble!="unknown"&&(k.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),f}var cd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ug=Gn(cd),hl=ne({},cd,{view:0,detail:0}),gv=Gn(hl),Os,mg,ud,ai=ne({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pl,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==ud&&(ud&&u.type==="mousemove"?(Os=u.screenX-ud.screenX,mg=u.screenY-ud.screenY):mg=Os=0,ud=u),Os)},movementY:function(u){return"movementY"in u?u.movementY:mg}}),gg=Gn(ai),ef=ne({},ai,{dataTransfer:0}),hg=Gn(ef),hv=ne({},hl,{relatedTarget:0}),Nu=Gn(hv),tf=ne({},cd,{animationName:0,elapsedTime:0,pseudoElement:0}),fv=Gn(tf),pv=ne({},cd,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),fg=Gn(pv),xv=ne({},cd,{data:0}),pg=Gn(xv),rf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yv(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=fl[u])?!!f[u]:!1}function pl(){return yv}var Rs=ne({},hl,{key:function(u){if(u.key){var f=rf[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=ju(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Cu[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pl,charCode:function(u){return u.type==="keypress"?ju(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?ju(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),af=Gn(Rs),nf=ne({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sf=Gn(nf),xg=ne({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pl}),yg=Gn(xg),bv=ne({},cd,{propertyName:0,elapsedTime:0,pseudoElement:0}),vv=Gn(bv),of=ne({},ai,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),kv=Gn(of),ni=[9,13,27,32],Ro=l&&"CompositionEvent"in window,uc=null;l&&"documentMode"in document&&(uc=document.documentMode);var to=l&&"TextEvent"in window&&!uc,lf=l&&(!Ro||uc&&8<uc&&11>=uc),xl=" ",df=!1;function md(u,f){switch(u){case"keyup":return ni.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bg(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var ro=!1;function wv(u,f){switch(u){case"compositionend":return bg(f);case"keypress":return f.which!==32?null:(df=!0,xl);case"textInput":return u=f.data,u===xl&&df?null:u;default:return null}}function Do(u,f){if(ro)return u==="compositionend"||!Ro&&md(u,f)?(u=cg(),Oo=fs=_o=null,ro=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return lf&&f.locale!=="ko"?null:f.data;default:return null}}var Su={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cf(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!Su[u.type]:f==="textarea"}function Pu(u,f,k,P){gr(P),f=C(f,"onChange"),0<f.length&&(k=new ug("onChange","change",null,k,P),u.push({event:k,listeners:f}))}var mc=null,ps=null;function jv(u){Mg(u,0)}function ao(u){var f=wl(u);if(se(f))return u}function Nv(u,f){if(u==="change")return f}var Ci=!1;if(l){var gd;if(l){var Mu="oninput"in document;if(!Mu){var Tu=document.createElement("div");Tu.setAttribute("oninput","return;"),Mu=typeof Tu.oninput=="function"}gd=Mu}else gd=!1;Ci=gd&&(!document.documentMode||9<document.documentMode)}function gc(){mc&&(mc.detachEvent("onpropertychange",Iu),ps=mc=null)}function Iu(u){if(u.propertyName==="value"&&ao(ps)){var f=[];Pu(f,ps,u,_e(u)),Ke(jv,f)}}function Au(u,f,k){u==="focusin"?(gc(),mc=f,ps=k,mc.attachEvent("onpropertychange",Iu)):u==="focusout"&&gc()}function hd(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return ao(ps)}function Eu(u,f){if(u==="click")return ao(f)}function vg(u,f){if(u==="input"||u==="change")return ao(f)}function uf(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var si=typeof Object.is=="function"?Object.is:uf;function Bo(u,f){if(si(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var k=Object.keys(u),P=Object.keys(f);if(k.length!==P.length)return!1;for(P=0;P<k.length;P++){var R=k[P];if(!d.call(f,R)||!si(u[R],f[R]))return!1}return!0}function mf(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function kg(u,f){var k=mf(u);u=0;for(var P;k;){if(k.nodeType===3){if(P=u+k.textContent.length,u<=f&&P>=f)return{node:k,offset:f-u};u=P}e:{for(;k;){if(k.nextSibling){k=k.nextSibling;break e}k=k.parentNode}k=void 0}k=mf(k)}}function gf(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?gf(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function wg(){for(var u=window,f=ie();f instanceof u.HTMLIFrameElement;){try{var k=typeof f.contentWindow.location.href=="string"}catch{k=!1}if(k)u=f.contentWindow;else break;f=ie(u.document)}return f}function jg(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function Si(u){var f=wg(),k=u.focusedElem,P=u.selectionRange;if(f!==k&&k&&k.ownerDocument&&gf(k.ownerDocument.documentElement,k)){if(P!==null&&jg(k)){if(f=P.start,u=P.end,u===void 0&&(u=f),"selectionStart"in k)k.selectionStart=f,k.selectionEnd=Math.min(u,k.value.length);else if(u=(f=k.ownerDocument||document)&&f.defaultView||window,u.getSelection){u=u.getSelection();var R=k.textContent.length,U=Math.min(P.start,R);P=P.end===void 0?U:Math.min(P.end,R),!u.extend&&U>P&&(R=P,P=U,U=R),R=kg(k,U);var ae=kg(k,P);R&&ae&&(u.rangeCount!==1||u.anchorNode!==R.node||u.anchorOffset!==R.offset||u.focusNode!==ae.node||u.focusOffset!==ae.offset)&&(f=f.createRange(),f.setStart(R.node,R.offset),u.removeAllRanges(),U>P?(u.addRange(f),u.extend(ae.node,ae.offset)):(f.setEnd(ae.node,ae.offset),u.addRange(f)))}}for(f=[],u=k;u=u.parentNode;)u.nodeType===1&&f.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<f.length;k++)u=f[k],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var _u=l&&"documentMode"in document&&11>=document.documentMode,fd=null,pd=null,hc=null,Ou=!1;function hf(u,f,k){var P=k.window===k?k.document:k.nodeType===9?k:k.ownerDocument;Ou||fd==null||fd!==ie(P)||(P=fd,"selectionStart"in P&&jg(P)?P={start:P.selectionStart,end:P.selectionEnd}:(P=(P.ownerDocument&&P.ownerDocument.defaultView||window).getSelection(),P={anchorNode:P.anchorNode,anchorOffset:P.anchorOffset,focusNode:P.focusNode,focusOffset:P.focusOffset}),hc&&Bo(hc,P)||(hc=P,P=C(pd,"onSelect"),0<P.length&&(f=new ug("onSelect","select",null,f,k),u.push({event:f,listeners:P}),f.target=fd)))}function Lo(u,f){var k={};return k[u.toLowerCase()]=f.toLowerCase(),k["Webkit"+u]="webkit"+f,k["Moz"+u]="moz"+f,k}var xd={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionend:Lo("Transition","TransitionEnd")},$o={},Ng={};l&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete xd.animationend.animation,delete xd.animationiteration.animation,delete xd.animationstart.animation),"TransitionEvent"in window||delete xd.transitionend.transition);function fc(u){if($o[u])return $o[u];if(!xd[u])return u;var f=xd[u],k;for(k in f)if(f.hasOwnProperty(k)&&k in Ng)return $o[u]=f[k];return u}var ff=fc("animationend"),Pi=fc("animationiteration"),Cg=fc("animationstart"),Sg=fc("transitionend"),yd=new Map,pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(u,f){yd.set(u,f),i(f,[u])}for(var yl=0;yl<pf.length;yl++){var Ru=pf[yl],xf=Ru.toLowerCase(),Cv=Ru[0].toUpperCase()+Ru.slice(1);ii(xf,"on"+Cv)}ii(ff,"onAnimationEnd"),ii(Pi,"onAnimationIteration"),ii(Cg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(Sg,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yf=new Set("cancel close invalid load scroll toggle".split(" ").concat(bd));function Pg(u,f,k){var P=u.type||"unknown-event";u.currentTarget=k,_s(P,f,void 0,u),u.currentTarget=null}function Mg(u,f){f=(f&4)!==0;for(var k=0;k<u.length;k++){var P=u[k],R=P.event;P=P.listeners;e:{var U=void 0;if(f)for(var ae=P.length-1;0<=ae;ae--){var pe=P[ae],Ne=pe.instance,Fe=pe.currentTarget;if(pe=pe.listener,Ne!==U&&R.isPropagationStopped())break e;Pg(R,pe,Fe),U=Ne}else for(ae=0;ae<P.length;ae++){if(pe=P[ae],Ne=pe.instance,Fe=pe.currentTarget,pe=pe.listener,Ne!==U&&R.isPropagationStopped())break e;Pg(R,pe,Fe),U=Ne}}}if(ia)throw u=Ha,ia=!1,Ha=null,u}function ta(u,f){var k=f[jd];k===void 0&&(k=f[jd]=new Set);var P=u+"__bubble";k.has(P)||(bf(f,u,2,!1),k.add(P))}function Tg(u,f,k){var P=0;f&&(P|=4),bf(k,u,P,f)}var pc="_reactListening"+Math.random().toString(36).slice(2);function vd(u){if(!u[pc]){u[pc]=!0,n.forEach(function(k){k!=="selectionchange"&&(yf.has(k)||Tg(k,!1,u),Tg(k,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[pc]||(f[pc]=!0,Tg("selectionchange",!1,f))}}function bf(u,f,k,P){switch(Er(f)){case 1:var R=mv;break;case 4:R=X0;break;default:R=cc}k=R.bind(null,f,k,u),R=void 0,!bt||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(R=!0),P?R!==void 0?u.addEventListener(f,k,{capture:!0,passive:R}):u.addEventListener(f,k,!0):R!==void 0?u.addEventListener(f,k,{passive:R}):u.addEventListener(f,k,!1)}function m(u,f,k,P,R){var U=P;if((f&1)===0&&(f&2)===0&&P!==null)e:for(;;){if(P===null)return;var ae=P.tag;if(ae===3||ae===4){var pe=P.stateNode.containerInfo;if(pe===R||pe.nodeType===8&&pe.parentNode===R)break;if(ae===4)for(ae=P.return;ae!==null;){var Ne=ae.tag;if((Ne===3||Ne===4)&&(Ne=ae.stateNode.containerInfo,Ne===R||Ne.nodeType===8&&Ne.parentNode===R))return;ae=ae.return}for(;pe!==null;){if(ae=vl(pe),ae===null)return;if(Ne=ae.tag,Ne===5||Ne===6){P=U=ae;continue e}pe=pe.parentNode}}P=P.return}Ke(function(){var Fe=U,lt=_e(k),ct=[];e:{var ot=yd.get(u);if(ot!==void 0){var Ct=ug,It=u;switch(u){case"keypress":if(ju(k)===0)break e;case"keydown":case"keyup":Ct=af;break;case"focusin":It="focus",Ct=Nu;break;case"focusout":It="blur",Ct=Nu;break;case"beforeblur":case"afterblur":Ct=Nu;break;case"click":if(k.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ct=gg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ct=hg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ct=yg;break;case ff:case Pi:case Cg:Ct=fv;break;case Sg:Ct=vv;break;case"scroll":Ct=gv;break;case"wheel":Ct=kv;break;case"copy":case"cut":case"paste":Ct=fg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ct=sf}var Ot=(f&4)!==0,Wa=!Ot&&u==="scroll",Ee=Ot?ot!==null?ot+"Capture":null:ot;Ot=[];for(var Pe=Fe,Oe;Pe!==null;){Oe=Pe;var ft=Oe.stateNode;if(Oe.tag===5&&ft!==null&&(Oe=ft,Ee!==null&&(ft=et(Pe,Ee),ft!=null&&Ot.push(y(Pe,ft,Oe)))),Wa)break;Pe=Pe.return}0<Ot.length&&(ot=new Ct(ot,It,null,k,lt),ct.push({event:ot,listeners:Ot}))}}if((f&7)===0){e:{if(ot=u==="mouseover"||u==="pointerover",Ct=u==="mouseout"||u==="pointerout",ot&&k!==Se&&(It=k.relatedTarget||k.fromElement)&&(vl(It)||It[Gr]))break e;if((Ct||ot)&&(ot=lt.window===lt?lt:(ot=lt.ownerDocument)?ot.defaultView||ot.parentWindow:window,Ct?(It=k.relatedTarget||k.toElement,Ct=Fe,It=It?vl(It):null,It!==null&&(Wa=Cn(It),It!==Wa||It.tag!==5&&It.tag!==6)&&(It=null)):(Ct=null,It=Fe),Ct!==It)){if(Ot=gg,ft="onMouseLeave",Ee="onMouseEnter",Pe="mouse",(u==="pointerout"||u==="pointerover")&&(Ot=sf,ft="onPointerLeave",Ee="onPointerEnter",Pe="pointer"),Wa=Ct==null?ot:wl(Ct),Oe=It==null?ot:wl(It),ot=new Ot(ft,Pe+"leave",Ct,k,lt),ot.target=Wa,ot.relatedTarget=Oe,ft=null,vl(lt)===Fe&&(Ot=new Ot(Ee,Pe+"enter",It,k,lt),Ot.target=Oe,Ot.relatedTarget=Wa,ft=Ot),Wa=ft,Ct&&It)t:{for(Ot=Ct,Ee=It,Pe=0,Oe=Ot;Oe;Oe=O(Oe))Pe++;for(Oe=0,ft=Ee;ft;ft=O(ft))Oe++;for(;0<Pe-Oe;)Ot=O(Ot),Pe--;for(;0<Oe-Pe;)Ee=O(Ee),Oe--;for(;Pe--;){if(Ot===Ee||Ee!==null&&Ot===Ee.alternate)break t;Ot=O(Ot),Ee=O(Ee)}Ot=null}else Ot=null;Ct!==null&&W(ct,ot,Ct,Ot,!1),It!==null&&Wa!==null&&W(ct,Wa,It,Ot,!0)}}e:{if(ot=Fe?wl(Fe):window,Ct=ot.nodeName&&ot.nodeName.toLowerCase(),Ct==="select"||Ct==="input"&&ot.type==="file")var Lt=Nv;else if(cf(ot))if(Ci)Lt=vg;else{Lt=hd;var Jt=Au}else(Ct=ot.nodeName)&&Ct.toLowerCase()==="input"&&(ot.type==="checkbox"||ot.type==="radio")&&(Lt=Eu);if(Lt&&(Lt=Lt(u,Fe))){Pu(ct,Lt,k,lt);break e}Jt&&Jt(u,ot,Fe),u==="focusout"&&(Jt=ot._wrapperState)&&Jt.controlled&&ot.type==="number"&&ut(ot,"number",ot.value)}switch(Jt=Fe?wl(Fe):window,u){case"focusin":(cf(Jt)||Jt.contentEditable==="true")&&(fd=Jt,pd=Fe,hc=null);break;case"focusout":hc=pd=fd=null;break;case"mousedown":Ou=!0;break;case"contextmenu":case"mouseup":case"dragend":Ou=!1,hf(ct,k,lt);break;case"selectionchange":if(_u)break;case"keydown":case"keyup":hf(ct,k,lt)}var er;if(Ro)e:{switch(u){case"compositionstart":var ur="onCompositionStart";break e;case"compositionend":ur="onCompositionEnd";break e;case"compositionupdate":ur="onCompositionUpdate";break e}ur=void 0}else ro?md(u,k)&&(ur="onCompositionEnd"):u==="keydown"&&k.keyCode===229&&(ur="onCompositionStart");ur&&(lf&&k.locale!=="ko"&&(ro||ur!=="onCompositionStart"?ur==="onCompositionEnd"&&ro&&(er=cg()):(_o=lt,fs="value"in _o?_o.value:_o.textContent,ro=!0)),Jt=C(Fe,ur),0<Jt.length&&(ur=new pg(ur,u,null,k,lt),ct.push({event:ur,listeners:Jt}),er?ur.data=er:(er=bg(k),er!==null&&(ur.data=er)))),(er=to?wv(u,k):Do(u,k))&&(Fe=C(Fe,"onBeforeInput"),0<Fe.length&&(lt=new pg("onBeforeInput","beforeinput",null,k,lt),ct.push({event:lt,listeners:Fe}),lt.data=er))}Mg(ct,f)})}function y(u,f,k){return{instance:u,listener:f,currentTarget:k}}function C(u,f){for(var k=f+"Capture",P=[];u!==null;){var R=u,U=R.stateNode;R.tag===5&&U!==null&&(R=U,U=et(u,k),U!=null&&P.unshift(y(u,U,R)),U=et(u,f),U!=null&&P.push(y(u,U,R))),u=u.return}return P}function O(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function W(u,f,k,P,R){for(var U=f._reactName,ae=[];k!==null&&k!==P;){var pe=k,Ne=pe.alternate,Fe=pe.stateNode;if(Ne!==null&&Ne===P)break;pe.tag===5&&Fe!==null&&(pe=Fe,R?(Ne=et(k,U),Ne!=null&&ae.unshift(y(k,Ne,pe))):R||(Ne=et(k,U),Ne!=null&&ae.push(y(k,Ne,pe)))),k=k.return}ae.length!==0&&u.push({event:f,listeners:ae})}var oe=/\r\n?/g,ve=/\u0000|\uFFFD/g;function Ae(u){return(typeof u=="string"?u:""+u).replace(oe,`
`).replace(ve,"")}function $e(u,f,k){if(f=Ae(f),Ae(u)!==f&&k)throw Error(a(425))}function st(){}var vt=null,Zt=null;function Cr(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var mn=typeof setTimeout=="function"?setTimeout:void 0,Ja=typeof clearTimeout=="function"?clearTimeout:void 0,xs=typeof Promise=="function"?Promise:void 0,Yn=typeof queueMicrotask=="function"?queueMicrotask:typeof xs<"u"?function(u){return xs.resolve(null).then(u).catch(kd)}:mn;function kd(u){setTimeout(function(){throw u})}function Ig(u,f){var k=f,P=0;do{var R=k.nextSibling;if(u.removeChild(k),R&&R.nodeType===8)if(k=R.data,k==="/$"){if(P===0){u.removeChild(R),ri(f);return}P--}else k!=="$"&&k!=="$?"&&k!=="$!"||P++;k=R}while(k);ri(f)}function Fo(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return u}function vf(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var k=u.data;if(k==="$"||k==="$!"||k==="$?"){if(f===0)return u;f--}else k==="/$"&&f++}u=u.previousSibling}return null}var bl=Math.random().toString(36).slice(2),Mi="__reactFiber$"+bl,wd="__reactProps$"+bl,Gr="__reactContainer$"+bl,jd="__reactEvents$"+bl,Sv="__reactListeners$"+bl,Pv="__reactHandles$"+bl;function vl(u){var f=u[Mi];if(f)return f;for(var k=u.parentNode;k;){if(f=k[Gr]||k[Mi]){if(k=f.alternate,f.child!==null||k!==null&&k.child!==null)for(u=vf(u);u!==null;){if(k=u[Mi])return k;u=vf(u)}return f}u=k,k=u.parentNode}return null}function kl(u){return u=u[Mi]||u[Gr],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function wl(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(a(33))}function Du(u){return u[wd]||null}var Mv=[],Bu=-1;function Nd(u){return{current:u}}function fa(u){0>Bu||(u.current=Mv[Bu],Mv[Bu]=null,Bu--)}function ua(u,f){Bu++,Mv[Bu]=u.current,u.current=f}var Cd={},Zn=Nd(Cd),Ds=Nd(!1),xc=Cd;function Lu(u,f){var k=u.type.contextTypes;if(!k)return Cd;var P=u.stateNode;if(P&&P.__reactInternalMemoizedUnmaskedChildContext===f)return P.__reactInternalMemoizedMaskedChildContext;var R={},U;for(U in k)R[U]=f[U];return P&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=R),R}function Bs(u){return u=u.childContextTypes,u!=null}function kf(){fa(Ds),fa(Zn)}function WS(u,f,k){if(Zn.current!==Cd)throw Error(a(168));ua(Zn,f),ua(Ds,k)}function KS(u,f,k){var P=u.stateNode;if(f=f.childContextTypes,typeof P.getChildContext!="function")return k;P=P.getChildContext();for(var R in P)if(!(R in f))throw Error(a(108,Q(u)||"Unknown",R));return ne({},k,P)}function wf(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Cd,xc=Zn.current,ua(Zn,u),ua(Ds,Ds.current),!0}function QS(u,f,k){var P=u.stateNode;if(!P)throw Error(a(169));k?(u=KS(u,f,xc),P.__reactInternalMemoizedMergedChildContext=u,fa(Ds),fa(Zn),ua(Zn,u)):fa(Ds),ua(Ds,k)}var jl=null,jf=!1,Tv=!1;function GS(u){jl===null?jl=[u]:jl.push(u)}function QF(u){jf=!0,GS(u)}function Sd(){if(!Tv&&jl!==null){Tv=!0;var u=0,f=Nr;try{var k=jl;for(Nr=1;u<k.length;u++){var P=k[u];do P=P(!0);while(P!==null)}jl=null,jf=!1}catch(R){throw jl!==null&&(jl=jl.slice(u+1)),Re(yt,Sd),R}finally{Nr=f,Tv=!1}}return null}var $u=[],Fu=0,Nf=null,Cf=0,Ti=[],Ii=0,yc=null,Nl=1,Cl="";function bc(u,f){$u[Fu++]=Cf,$u[Fu++]=Nf,Nf=u,Cf=f}function YS(u,f,k){Ti[Ii++]=Nl,Ti[Ii++]=Cl,Ti[Ii++]=yc,yc=u;var P=Nl;u=Cl;var R=32-_t(P)-1;P&=~(1<<R),k+=1;var U=32-_t(f)+R;if(30<U){var ae=R-R%5;U=(P&(1<<ae)-1).toString(32),P>>=ae,R-=ae,Nl=1<<32-_t(f)+R|k<<R|P,Cl=U+u}else Nl=1<<U|k<<R|P,Cl=u}function Iv(u){u.return!==null&&(bc(u,1),YS(u,1,0))}function Av(u){for(;u===Nf;)Nf=$u[--Fu],$u[Fu]=null,Cf=$u[--Fu],$u[Fu]=null;for(;u===yc;)yc=Ti[--Ii],Ti[Ii]=null,Cl=Ti[--Ii],Ti[Ii]=null,Nl=Ti[--Ii],Ti[Ii]=null}var oi=null,li=null,ka=!1,no=null;function ZS(u,f){var k=Oi(5,null,null,0);k.elementType="DELETED",k.stateNode=f,k.return=u,f=u.deletions,f===null?(u.deletions=[k],u.flags|=16):f.push(k)}function XS(u,f){switch(u.tag){case 5:var k=u.type;return f=f.nodeType!==1||k.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(u.stateNode=f,oi=u,li=Fo(f.firstChild),!0):!1;case 6:return f=u.pendingProps===""||f.nodeType!==3?null:f,f!==null?(u.stateNode=f,oi=u,li=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(k=yc!==null?{id:Nl,overflow:Cl}:null,u.memoizedState={dehydrated:f,treeContext:k,retryLane:1073741824},k=Oi(18,null,null,0),k.stateNode=f,k.return=u,u.child=k,oi=u,li=null,!0):!1;default:return!1}}function Ev(u){return(u.mode&1)!==0&&(u.flags&128)===0}function _v(u){if(ka){var f=li;if(f){var k=f;if(!XS(u,f)){if(Ev(u))throw Error(a(418));f=Fo(k.nextSibling);var P=oi;f&&XS(u,f)?ZS(P,k):(u.flags=u.flags&-4097|2,ka=!1,oi=u)}}else{if(Ev(u))throw Error(a(418));u.flags=u.flags&-4097|2,ka=!1,oi=u}}}function JS(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;oi=u}function Sf(u){if(u!==oi)return!1;if(!ka)return JS(u),ka=!0,!1;var f;if((f=u.tag!==3)&&!(f=u.tag!==5)&&(f=u.type,f=f!=="head"&&f!=="body"&&!Cr(u.type,u.memoizedProps)),f&&(f=li)){if(Ev(u))throw eP(),Error(a(418));for(;f;)ZS(u,f),f=Fo(f.nextSibling)}if(JS(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8){var k=u.data;if(k==="/$"){if(f===0){li=Fo(u.nextSibling);break e}f--}else k!=="$"&&k!=="$!"&&k!=="$?"||f++}u=u.nextSibling}li=null}}else li=oi?Fo(u.stateNode.nextSibling):null;return!0}function eP(){for(var u=li;u;)u=Fo(u.nextSibling)}function zu(){li=oi=null,ka=!1}function Ov(u){no===null?no=[u]:no.push(u)}var GF=A.ReactCurrentBatchConfig;function Ag(u,f,k){if(u=k.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(k._owner){if(k=k._owner,k){if(k.tag!==1)throw Error(a(309));var P=k.stateNode}if(!P)throw Error(a(147,u));var R=P,U=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===U?f.ref:(f=function(ae){var pe=R.refs;ae===null?delete pe[U]:pe[U]=ae},f._stringRef=U,f)}if(typeof u!="string")throw Error(a(284));if(!k._owner)throw Error(a(290,u))}return u}function Pf(u,f){throw u=Object.prototype.toString.call(f),Error(a(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function tP(u){var f=u._init;return f(u._payload)}function rP(u){function f(Ee,Pe){if(u){var Oe=Ee.deletions;Oe===null?(Ee.deletions=[Pe],Ee.flags|=16):Oe.push(Pe)}}function k(Ee,Pe){if(!u)return null;for(;Pe!==null;)f(Ee,Pe),Pe=Pe.sibling;return null}function P(Ee,Pe){for(Ee=new Map;Pe!==null;)Pe.key!==null?Ee.set(Pe.key,Pe):Ee.set(Pe.index,Pe),Pe=Pe.sibling;return Ee}function R(Ee,Pe){return Ee=Od(Ee,Pe),Ee.index=0,Ee.sibling=null,Ee}function U(Ee,Pe,Oe){return Ee.index=Oe,u?(Oe=Ee.alternate,Oe!==null?(Oe=Oe.index,Oe<Pe?(Ee.flags|=2,Pe):Oe):(Ee.flags|=2,Pe)):(Ee.flags|=1048576,Pe)}function ae(Ee){return u&&Ee.alternate===null&&(Ee.flags|=2),Ee}function pe(Ee,Pe,Oe,ft){return Pe===null||Pe.tag!==6?(Pe=Ck(Oe,Ee.mode,ft),Pe.return=Ee,Pe):(Pe=R(Pe,Oe),Pe.return=Ee,Pe)}function Ne(Ee,Pe,Oe,ft){var Lt=Oe.type;return Lt===D?lt(Ee,Pe,Oe.props.children,ft,Oe.key):Pe!==null&&(Pe.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===te&&tP(Lt)===Pe.type)?(ft=R(Pe,Oe.props),ft.ref=Ag(Ee,Pe,Oe),ft.return=Ee,ft):(ft=Zf(Oe.type,Oe.key,Oe.props,null,Ee.mode,ft),ft.ref=Ag(Ee,Pe,Oe),ft.return=Ee,ft)}function Fe(Ee,Pe,Oe,ft){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==Oe.containerInfo||Pe.stateNode.implementation!==Oe.implementation?(Pe=Sk(Oe,Ee.mode,ft),Pe.return=Ee,Pe):(Pe=R(Pe,Oe.children||[]),Pe.return=Ee,Pe)}function lt(Ee,Pe,Oe,ft,Lt){return Pe===null||Pe.tag!==7?(Pe=Pc(Oe,Ee.mode,ft,Lt),Pe.return=Ee,Pe):(Pe=R(Pe,Oe),Pe.return=Ee,Pe)}function ct(Ee,Pe,Oe){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return Pe=Ck(""+Pe,Ee.mode,Oe),Pe.return=Ee,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case I:return Oe=Zf(Pe.type,Pe.key,Pe.props,null,Ee.mode,Oe),Oe.ref=Ag(Ee,null,Pe),Oe.return=Ee,Oe;case _:return Pe=Sk(Pe,Ee.mode,Oe),Pe.return=Ee,Pe;case te:var ft=Pe._init;return ct(Ee,ft(Pe._payload),Oe)}if(kt(Pe)||re(Pe))return Pe=Pc(Pe,Ee.mode,Oe,null),Pe.return=Ee,Pe;Pf(Ee,Pe)}return null}function ot(Ee,Pe,Oe,ft){var Lt=Pe!==null?Pe.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Lt!==null?null:pe(Ee,Pe,""+Oe,ft);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case I:return Oe.key===Lt?Ne(Ee,Pe,Oe,ft):null;case _:return Oe.key===Lt?Fe(Ee,Pe,Oe,ft):null;case te:return Lt=Oe._init,ot(Ee,Pe,Lt(Oe._payload),ft)}if(kt(Oe)||re(Oe))return Lt!==null?null:lt(Ee,Pe,Oe,ft,null);Pf(Ee,Oe)}return null}function Ct(Ee,Pe,Oe,ft,Lt){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return Ee=Ee.get(Oe)||null,pe(Pe,Ee,""+ft,Lt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case I:return Ee=Ee.get(ft.key===null?Oe:ft.key)||null,Ne(Pe,Ee,ft,Lt);case _:return Ee=Ee.get(ft.key===null?Oe:ft.key)||null,Fe(Pe,Ee,ft,Lt);case te:var Jt=ft._init;return Ct(Ee,Pe,Oe,Jt(ft._payload),Lt)}if(kt(ft)||re(ft))return Ee=Ee.get(Oe)||null,lt(Pe,Ee,ft,Lt,null);Pf(Pe,ft)}return null}function It(Ee,Pe,Oe,ft){for(var Lt=null,Jt=null,er=Pe,ur=Pe=0,Tn=null;er!==null&&ur<Oe.length;ur++){er.index>ur?(Tn=er,er=null):Tn=er.sibling;var Ur=ot(Ee,er,Oe[ur],ft);if(Ur===null){er===null&&(er=Tn);break}u&&er&&Ur.alternate===null&&f(Ee,er),Pe=U(Ur,Pe,ur),Jt===null?Lt=Ur:Jt.sibling=Ur,Jt=Ur,er=Tn}if(ur===Oe.length)return k(Ee,er),ka&&bc(Ee,ur),Lt;if(er===null){for(;ur<Oe.length;ur++)er=ct(Ee,Oe[ur],ft),er!==null&&(Pe=U(er,Pe,ur),Jt===null?Lt=er:Jt.sibling=er,Jt=er);return ka&&bc(Ee,ur),Lt}for(er=P(Ee,er);ur<Oe.length;ur++)Tn=Ct(er,Ee,ur,Oe[ur],ft),Tn!==null&&(u&&Tn.alternate!==null&&er.delete(Tn.key===null?ur:Tn.key),Pe=U(Tn,Pe,ur),Jt===null?Lt=Tn:Jt.sibling=Tn,Jt=Tn);return u&&er.forEach(function(Rd){return f(Ee,Rd)}),ka&&bc(Ee,ur),Lt}function Ot(Ee,Pe,Oe,ft){var Lt=re(Oe);if(typeof Lt!="function")throw Error(a(150));if(Oe=Lt.call(Oe),Oe==null)throw Error(a(151));for(var Jt=Lt=null,er=Pe,ur=Pe=0,Tn=null,Ur=Oe.next();er!==null&&!Ur.done;ur++,Ur=Oe.next()){er.index>ur?(Tn=er,er=null):Tn=er.sibling;var Rd=ot(Ee,er,Ur.value,ft);if(Rd===null){er===null&&(er=Tn);break}u&&er&&Rd.alternate===null&&f(Ee,er),Pe=U(Rd,Pe,ur),Jt===null?Lt=Rd:Jt.sibling=Rd,Jt=Rd,er=Tn}if(Ur.done)return k(Ee,er),ka&&bc(Ee,ur),Lt;if(er===null){for(;!Ur.done;ur++,Ur=Oe.next())Ur=ct(Ee,Ur.value,ft),Ur!==null&&(Pe=U(Ur,Pe,ur),Jt===null?Lt=Ur:Jt.sibling=Ur,Jt=Ur);return ka&&bc(Ee,ur),Lt}for(er=P(Ee,er);!Ur.done;ur++,Ur=Oe.next())Ur=Ct(er,Ee,ur,Ur.value,ft),Ur!==null&&(u&&Ur.alternate!==null&&er.delete(Ur.key===null?ur:Ur.key),Pe=U(Ur,Pe,ur),Jt===null?Lt=Ur:Jt.sibling=Ur,Jt=Ur);return u&&er.forEach(function(M9){return f(Ee,M9)}),ka&&bc(Ee,ur),Lt}function Wa(Ee,Pe,Oe,ft){if(typeof Oe=="object"&&Oe!==null&&Oe.type===D&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case I:e:{for(var Lt=Oe.key,Jt=Pe;Jt!==null;){if(Jt.key===Lt){if(Lt=Oe.type,Lt===D){if(Jt.tag===7){k(Ee,Jt.sibling),Pe=R(Jt,Oe.props.children),Pe.return=Ee,Ee=Pe;break e}}else if(Jt.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===te&&tP(Lt)===Jt.type){k(Ee,Jt.sibling),Pe=R(Jt,Oe.props),Pe.ref=Ag(Ee,Jt,Oe),Pe.return=Ee,Ee=Pe;break e}k(Ee,Jt);break}else f(Ee,Jt);Jt=Jt.sibling}Oe.type===D?(Pe=Pc(Oe.props.children,Ee.mode,ft,Oe.key),Pe.return=Ee,Ee=Pe):(ft=Zf(Oe.type,Oe.key,Oe.props,null,Ee.mode,ft),ft.ref=Ag(Ee,Pe,Oe),ft.return=Ee,Ee=ft)}return ae(Ee);case _:e:{for(Jt=Oe.key;Pe!==null;){if(Pe.key===Jt)if(Pe.tag===4&&Pe.stateNode.containerInfo===Oe.containerInfo&&Pe.stateNode.implementation===Oe.implementation){k(Ee,Pe.sibling),Pe=R(Pe,Oe.children||[]),Pe.return=Ee,Ee=Pe;break e}else{k(Ee,Pe);break}else f(Ee,Pe);Pe=Pe.sibling}Pe=Sk(Oe,Ee.mode,ft),Pe.return=Ee,Ee=Pe}return ae(Ee);case te:return Jt=Oe._init,Wa(Ee,Pe,Jt(Oe._payload),ft)}if(kt(Oe))return It(Ee,Pe,Oe,ft);if(re(Oe))return Ot(Ee,Pe,Oe,ft);Pf(Ee,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"?(Oe=""+Oe,Pe!==null&&Pe.tag===6?(k(Ee,Pe.sibling),Pe=R(Pe,Oe),Pe.return=Ee,Ee=Pe):(k(Ee,Pe),Pe=Ck(Oe,Ee.mode,ft),Pe.return=Ee,Ee=Pe),ae(Ee)):k(Ee,Pe)}return Wa}var Uu=rP(!0),aP=rP(!1),Mf=Nd(null),Tf=null,qu=null,Rv=null;function Dv(){Rv=qu=Tf=null}function Bv(u){var f=Mf.current;fa(Mf),u._currentValue=f}function Lv(u,f,k){for(;u!==null;){var P=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,P!==null&&(P.childLanes|=f)):P!==null&&(P.childLanes&f)!==f&&(P.childLanes|=f),u===k)break;u=u.return}}function Vu(u,f){Tf=u,Rv=qu=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&f)!==0&&(Ls=!0),u.firstContext=null)}function Ai(u){var f=u._currentValue;if(Rv!==u)if(u={context:u,memoizedValue:f,next:null},qu===null){if(Tf===null)throw Error(a(308));qu=u,Tf.dependencies={lanes:0,firstContext:u}}else qu=qu.next=u;return f}var vc=null;function $v(u){vc===null?vc=[u]:vc.push(u)}function nP(u,f,k,P){var R=f.interleaved;return R===null?(k.next=k,$v(f)):(k.next=R.next,R.next=k),f.interleaved=k,Sl(u,P)}function Sl(u,f){u.lanes|=f;var k=u.alternate;for(k!==null&&(k.lanes|=f),k=u,u=u.return;u!==null;)u.childLanes|=f,k=u.alternate,k!==null&&(k.childLanes|=f),k=u,u=u.return;return k.tag===3?k.stateNode:null}var Pd=!1;function Fv(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sP(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Pl(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function Md(u,f,k){var P=u.updateQueue;if(P===null)return null;if(P=P.shared,(zr&2)!==0){var R=P.pending;return R===null?f.next=f:(f.next=R.next,R.next=f),P.pending=f,Sl(u,k)}return R=P.interleaved,R===null?(f.next=f,$v(P)):(f.next=R.next,R.next=f),P.interleaved=f,Sl(u,k)}function If(u,f,k){if(f=f.updateQueue,f!==null&&(f=f.shared,(k&4194240)!==0)){var P=f.lanes;P&=u.pendingLanes,k|=P,f.lanes=k,ba(u,k)}}function iP(u,f){var k=u.updateQueue,P=u.alternate;if(P!==null&&(P=P.updateQueue,k===P)){var R=null,U=null;if(k=k.firstBaseUpdate,k!==null){do{var ae={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};U===null?R=U=ae:U=U.next=ae,k=k.next}while(k!==null);U===null?R=U=f:U=U.next=f}else R=U=f;k={baseState:P.baseState,firstBaseUpdate:R,lastBaseUpdate:U,shared:P.shared,effects:P.effects},u.updateQueue=k;return}u=k.lastBaseUpdate,u===null?k.firstBaseUpdate=f:u.next=f,k.lastBaseUpdate=f}function Af(u,f,k,P){var R=u.updateQueue;Pd=!1;var U=R.firstBaseUpdate,ae=R.lastBaseUpdate,pe=R.shared.pending;if(pe!==null){R.shared.pending=null;var Ne=pe,Fe=Ne.next;Ne.next=null,ae===null?U=Fe:ae.next=Fe,ae=Ne;var lt=u.alternate;lt!==null&&(lt=lt.updateQueue,pe=lt.lastBaseUpdate,pe!==ae&&(pe===null?lt.firstBaseUpdate=Fe:pe.next=Fe,lt.lastBaseUpdate=Ne))}if(U!==null){var ct=R.baseState;ae=0,lt=Fe=Ne=null,pe=U;do{var ot=pe.lane,Ct=pe.eventTime;if((P&ot)===ot){lt!==null&&(lt=lt.next={eventTime:Ct,lane:0,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null});e:{var It=u,Ot=pe;switch(ot=f,Ct=k,Ot.tag){case 1:if(It=Ot.payload,typeof It=="function"){ct=It.call(Ct,ct,ot);break e}ct=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Ot.payload,ot=typeof It=="function"?It.call(Ct,ct,ot):It,ot==null)break e;ct=ne({},ct,ot);break e;case 2:Pd=!0}}pe.callback!==null&&pe.lane!==0&&(u.flags|=64,ot=R.effects,ot===null?R.effects=[pe]:ot.push(pe))}else Ct={eventTime:Ct,lane:ot,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},lt===null?(Fe=lt=Ct,Ne=ct):lt=lt.next=Ct,ae|=ot;if(pe=pe.next,pe===null){if(pe=R.shared.pending,pe===null)break;ot=pe,pe=ot.next,ot.next=null,R.lastBaseUpdate=ot,R.shared.pending=null}}while(!0);if(lt===null&&(Ne=ct),R.baseState=Ne,R.firstBaseUpdate=Fe,R.lastBaseUpdate=lt,f=R.shared.interleaved,f!==null){R=f;do ae|=R.lane,R=R.next;while(R!==f)}else U===null&&(R.shared.lanes=0);jc|=ae,u.lanes=ae,u.memoizedState=ct}}function oP(u,f,k){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var P=u[f],R=P.callback;if(R!==null){if(P.callback=null,P=k,typeof R!="function")throw Error(a(191,R));R.call(P)}}}var Eg={},zo=Nd(Eg),_g=Nd(Eg),Og=Nd(Eg);function kc(u){if(u===Eg)throw Error(a(174));return u}function zv(u,f){switch(ua(Og,f),ua(_g,u),ua(zo,Eg),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:Ht(null,"");break;default:u=u===8?f.parentNode:f,f=u.namespaceURI||null,u=u.tagName,f=Ht(f,u)}fa(zo),ua(zo,f)}function Hu(){fa(zo),fa(_g),fa(Og)}function lP(u){kc(Og.current);var f=kc(zo.current),k=Ht(f,u.type);f!==k&&(ua(_g,u),ua(zo,k))}function Uv(u){_g.current===u&&(fa(zo),fa(_g))}var Ia=Nd(0);function Ef(u){for(var f=u;f!==null;){if(f.tag===13){var k=f.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||k.data==="$?"||k.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var qv=[];function Vv(){for(var u=0;u<qv.length;u++)qv[u]._workInProgressVersionPrimary=null;qv.length=0}var _f=A.ReactCurrentDispatcher,Hv=A.ReactCurrentBatchConfig,wc=0,Aa=null,gn=null,Pn=null,Of=!1,Rg=!1,Dg=0,YF=0;function Xn(){throw Error(a(321))}function Wv(u,f){if(f===null)return!1;for(var k=0;k<f.length&&k<u.length;k++)if(!si(u[k],f[k]))return!1;return!0}function Kv(u,f,k,P,R,U){if(wc=U,Aa=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,_f.current=u===null||u.memoizedState===null?e9:t9,u=k(P,R),Rg){U=0;do{if(Rg=!1,Dg=0,25<=U)throw Error(a(301));U+=1,Pn=gn=null,f.updateQueue=null,_f.current=r9,u=k(P,R)}while(Rg)}if(_f.current=Bf,f=gn!==null&&gn.next!==null,wc=0,Pn=gn=Aa=null,Of=!1,f)throw Error(a(300));return u}function Qv(){var u=Dg!==0;return Dg=0,u}function Uo(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Aa.memoizedState=Pn=u:Pn=Pn.next=u,Pn}function Ei(){if(gn===null){var u=Aa.alternate;u=u!==null?u.memoizedState:null}else u=gn.next;var f=Pn===null?Aa.memoizedState:Pn.next;if(f!==null)Pn=f,gn=u;else{if(u===null)throw Error(a(310));gn=u,u={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},Pn===null?Aa.memoizedState=Pn=u:Pn=Pn.next=u}return Pn}function Bg(u,f){return typeof f=="function"?f(u):f}function Gv(u){var f=Ei(),k=f.queue;if(k===null)throw Error(a(311));k.lastRenderedReducer=u;var P=gn,R=P.baseQueue,U=k.pending;if(U!==null){if(R!==null){var ae=R.next;R.next=U.next,U.next=ae}P.baseQueue=R=U,k.pending=null}if(R!==null){U=R.next,P=P.baseState;var pe=ae=null,Ne=null,Fe=U;do{var lt=Fe.lane;if((wc&lt)===lt)Ne!==null&&(Ne=Ne.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),P=Fe.hasEagerState?Fe.eagerState:u(P,Fe.action);else{var ct={lane:lt,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};Ne===null?(pe=Ne=ct,ae=P):Ne=Ne.next=ct,Aa.lanes|=lt,jc|=lt}Fe=Fe.next}while(Fe!==null&&Fe!==U);Ne===null?ae=P:Ne.next=pe,si(P,f.memoizedState)||(Ls=!0),f.memoizedState=P,f.baseState=ae,f.baseQueue=Ne,k.lastRenderedState=P}if(u=k.interleaved,u!==null){R=u;do U=R.lane,Aa.lanes|=U,jc|=U,R=R.next;while(R!==u)}else R===null&&(k.lanes=0);return[f.memoizedState,k.dispatch]}function Yv(u){var f=Ei(),k=f.queue;if(k===null)throw Error(a(311));k.lastRenderedReducer=u;var P=k.dispatch,R=k.pending,U=f.memoizedState;if(R!==null){k.pending=null;var ae=R=R.next;do U=u(U,ae.action),ae=ae.next;while(ae!==R);si(U,f.memoizedState)||(Ls=!0),f.memoizedState=U,f.baseQueue===null&&(f.baseState=U),k.lastRenderedState=U}return[U,P]}function dP(){}function cP(u,f){var k=Aa,P=Ei(),R=f(),U=!si(P.memoizedState,R);if(U&&(P.memoizedState=R,Ls=!0),P=P.queue,Zv(gP.bind(null,k,P,u),[u]),P.getSnapshot!==f||U||Pn!==null&&Pn.memoizedState.tag&1){if(k.flags|=2048,Lg(9,mP.bind(null,k,P,R,f),void 0,null),Mn===null)throw Error(a(349));(wc&30)!==0||uP(k,f,R)}return R}function uP(u,f,k){u.flags|=16384,u={getSnapshot:f,value:k},f=Aa.updateQueue,f===null?(f={lastEffect:null,stores:null},Aa.updateQueue=f,f.stores=[u]):(k=f.stores,k===null?f.stores=[u]:k.push(u))}function mP(u,f,k,P){f.value=k,f.getSnapshot=P,hP(f)&&fP(u)}function gP(u,f,k){return k(function(){hP(f)&&fP(u)})}function hP(u){var f=u.getSnapshot;u=u.value;try{var k=f();return!si(u,k)}catch{return!0}}function fP(u){var f=Sl(u,1);f!==null&&lo(f,u,1,-1)}function pP(u){var f=Uo();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:u},f.queue=u,u=u.dispatch=JF.bind(null,Aa,u),[f.memoizedState,u]}function Lg(u,f,k,P){return u={tag:u,create:f,destroy:k,deps:P,next:null},f=Aa.updateQueue,f===null?(f={lastEffect:null,stores:null},Aa.updateQueue=f,f.lastEffect=u.next=u):(k=f.lastEffect,k===null?f.lastEffect=u.next=u:(P=k.next,k.next=u,u.next=P,f.lastEffect=u)),u}function xP(){return Ei().memoizedState}function Rf(u,f,k,P){var R=Uo();Aa.flags|=u,R.memoizedState=Lg(1|f,k,void 0,P===void 0?null:P)}function Df(u,f,k,P){var R=Ei();P=P===void 0?null:P;var U=void 0;if(gn!==null){var ae=gn.memoizedState;if(U=ae.destroy,P!==null&&Wv(P,ae.deps)){R.memoizedState=Lg(f,k,U,P);return}}Aa.flags|=u,R.memoizedState=Lg(1|f,k,U,P)}function yP(u,f){return Rf(8390656,8,u,f)}function Zv(u,f){return Df(2048,8,u,f)}function bP(u,f){return Df(4,2,u,f)}function vP(u,f){return Df(4,4,u,f)}function kP(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function wP(u,f,k){return k=k!=null?k.concat([u]):null,Df(4,4,kP.bind(null,f,u),k)}function Xv(){}function jP(u,f){var k=Ei();f=f===void 0?null:f;var P=k.memoizedState;return P!==null&&f!==null&&Wv(f,P[1])?P[0]:(k.memoizedState=[u,f],u)}function NP(u,f){var k=Ei();f=f===void 0?null:f;var P=k.memoizedState;return P!==null&&f!==null&&Wv(f,P[1])?P[0]:(u=u(),k.memoizedState=[u,f],u)}function CP(u,f,k){return(wc&21)===0?(u.baseState&&(u.baseState=!1,Ls=!0),u.memoizedState=k):(si(k,f)||(k=ir(),Aa.lanes|=k,jc|=k,u.baseState=!0),f)}function ZF(u,f){var k=Nr;Nr=k!==0&&4>k?k:4,u(!0);var P=Hv.transition;Hv.transition={};try{u(!1),f()}finally{Nr=k,Hv.transition=P}}function SP(){return Ei().memoizedState}function XF(u,f,k){var P=Ed(u);if(k={lane:P,action:k,hasEagerState:!1,eagerState:null,next:null},PP(u))MP(f,k);else if(k=nP(u,f,k,P),k!==null){var R=bs();lo(k,u,P,R),TP(k,f,P)}}function JF(u,f,k){var P=Ed(u),R={lane:P,action:k,hasEagerState:!1,eagerState:null,next:null};if(PP(u))MP(f,R);else{var U=u.alternate;if(u.lanes===0&&(U===null||U.lanes===0)&&(U=f.lastRenderedReducer,U!==null))try{var ae=f.lastRenderedState,pe=U(ae,k);if(R.hasEagerState=!0,R.eagerState=pe,si(pe,ae)){var Ne=f.interleaved;Ne===null?(R.next=R,$v(f)):(R.next=Ne.next,Ne.next=R),f.interleaved=R;return}}catch{}finally{}k=nP(u,f,R,P),k!==null&&(R=bs(),lo(k,u,P,R),TP(k,f,P))}}function PP(u){var f=u.alternate;return u===Aa||f!==null&&f===Aa}function MP(u,f){Rg=Of=!0;var k=u.pending;k===null?f.next=f:(f.next=k.next,k.next=f),u.pending=f}function TP(u,f,k){if((k&4194240)!==0){var P=f.lanes;P&=u.pendingLanes,k|=P,f.lanes=k,ba(u,k)}}var Bf={readContext:Ai,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},e9={readContext:Ai,useCallback:function(u,f){return Uo().memoizedState=[u,f===void 0?null:f],u},useContext:Ai,useEffect:yP,useImperativeHandle:function(u,f,k){return k=k!=null?k.concat([u]):null,Rf(4194308,4,kP.bind(null,f,u),k)},useLayoutEffect:function(u,f){return Rf(4194308,4,u,f)},useInsertionEffect:function(u,f){return Rf(4,2,u,f)},useMemo:function(u,f){var k=Uo();return f=f===void 0?null:f,u=u(),k.memoizedState=[u,f],u},useReducer:function(u,f,k){var P=Uo();return f=k!==void 0?k(f):f,P.memoizedState=P.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},P.queue=u,u=u.dispatch=XF.bind(null,Aa,u),[P.memoizedState,u]},useRef:function(u){var f=Uo();return u={current:u},f.memoizedState=u},useState:pP,useDebugValue:Xv,useDeferredValue:function(u){return Uo().memoizedState=u},useTransition:function(){var u=pP(!1),f=u[0];return u=ZF.bind(null,u[1]),Uo().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,k){var P=Aa,R=Uo();if(ka){if(k===void 0)throw Error(a(407));k=k()}else{if(k=f(),Mn===null)throw Error(a(349));(wc&30)!==0||uP(P,f,k)}R.memoizedState=k;var U={value:k,getSnapshot:f};return R.queue=U,yP(gP.bind(null,P,U,u),[u]),P.flags|=2048,Lg(9,mP.bind(null,P,U,k,f),void 0,null),k},useId:function(){var u=Uo(),f=Mn.identifierPrefix;if(ka){var k=Cl,P=Nl;k=(P&~(1<<32-_t(P)-1)).toString(32)+k,f=":"+f+"R"+k,k=Dg++,0<k&&(f+="H"+k.toString(32)),f+=":"}else k=YF++,f=":"+f+"r"+k.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},t9={readContext:Ai,useCallback:jP,useContext:Ai,useEffect:Zv,useImperativeHandle:wP,useInsertionEffect:bP,useLayoutEffect:vP,useMemo:NP,useReducer:Gv,useRef:xP,useState:function(){return Gv(Bg)},useDebugValue:Xv,useDeferredValue:function(u){var f=Ei();return CP(f,gn.memoizedState,u)},useTransition:function(){var u=Gv(Bg)[0],f=Ei().memoizedState;return[u,f]},useMutableSource:dP,useSyncExternalStore:cP,useId:SP,unstable_isNewReconciler:!1},r9={readContext:Ai,useCallback:jP,useContext:Ai,useEffect:Zv,useImperativeHandle:wP,useInsertionEffect:bP,useLayoutEffect:vP,useMemo:NP,useReducer:Yv,useRef:xP,useState:function(){return Yv(Bg)},useDebugValue:Xv,useDeferredValue:function(u){var f=Ei();return gn===null?f.memoizedState=u:CP(f,gn.memoizedState,u)},useTransition:function(){var u=Yv(Bg)[0],f=Ei().memoizedState;return[u,f]},useMutableSource:dP,useSyncExternalStore:cP,useId:SP,unstable_isNewReconciler:!1};function so(u,f){if(u&&u.defaultProps){f=ne({},f),u=u.defaultProps;for(var k in u)f[k]===void 0&&(f[k]=u[k]);return f}return f}function Jv(u,f,k,P){f=u.memoizedState,k=k(P,f),k=k==null?f:ne({},f,k),u.memoizedState=k,u.lanes===0&&(u.updateQueue.baseState=k)}var Lf={isMounted:function(u){return(u=u._reactInternals)?Cn(u)===u:!1},enqueueSetState:function(u,f,k){u=u._reactInternals;var P=bs(),R=Ed(u),U=Pl(P,R);U.payload=f,k!=null&&(U.callback=k),f=Md(u,U,R),f!==null&&(lo(f,u,R,P),If(f,u,R))},enqueueReplaceState:function(u,f,k){u=u._reactInternals;var P=bs(),R=Ed(u),U=Pl(P,R);U.tag=1,U.payload=f,k!=null&&(U.callback=k),f=Md(u,U,R),f!==null&&(lo(f,u,R,P),If(f,u,R))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var k=bs(),P=Ed(u),R=Pl(k,P);R.tag=2,f!=null&&(R.callback=f),f=Md(u,R,P),f!==null&&(lo(f,u,P,k),If(f,u,P))}};function IP(u,f,k,P,R,U,ae){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(P,U,ae):f.prototype&&f.prototype.isPureReactComponent?!Bo(k,P)||!Bo(R,U):!0}function AP(u,f,k){var P=!1,R=Cd,U=f.contextType;return typeof U=="object"&&U!==null?U=Ai(U):(R=Bs(f)?xc:Zn.current,P=f.contextTypes,U=(P=P!=null)?Lu(u,R):Cd),f=new f(k,U),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,u.stateNode=f,f._reactInternals=u,P&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=R,u.__reactInternalMemoizedMaskedChildContext=U),f}function EP(u,f,k,P){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(k,P),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(k,P),f.state!==u&&Lf.enqueueReplaceState(f,f.state,null)}function ek(u,f,k,P){var R=u.stateNode;R.props=k,R.state=u.memoizedState,R.refs={},Fv(u);var U=f.contextType;typeof U=="object"&&U!==null?R.context=Ai(U):(U=Bs(f)?xc:Zn.current,R.context=Lu(u,U)),R.state=u.memoizedState,U=f.getDerivedStateFromProps,typeof U=="function"&&(Jv(u,f,U,k),R.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(f=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),f!==R.state&&Lf.enqueueReplaceState(R,R.state,null),Af(u,k,R,P),R.state=u.memoizedState),typeof R.componentDidMount=="function"&&(u.flags|=4194308)}function Wu(u,f){try{var k="",P=f;do k+=q(P),P=P.return;while(P);var R=k}catch(U){R=`
Error generating stack: `+U.message+`
`+U.stack}return{value:u,source:f,stack:R,digest:null}}function tk(u,f,k){return{value:u,source:null,stack:k??null,digest:f??null}}function rk(u,f){try{console.error(f.value)}catch(k){setTimeout(function(){throw k})}}var a9=typeof WeakMap=="function"?WeakMap:Map;function _P(u,f,k){k=Pl(-1,k),k.tag=3,k.payload={element:null};var P=f.value;return k.callback=function(){Hf||(Hf=!0,xk=P),rk(u,f)},k}function OP(u,f,k){k=Pl(-1,k),k.tag=3;var P=u.type.getDerivedStateFromError;if(typeof P=="function"){var R=f.value;k.payload=function(){return P(R)},k.callback=function(){rk(u,f)}}var U=u.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(k.callback=function(){rk(u,f),typeof P!="function"&&(Id===null?Id=new Set([this]):Id.add(this));var ae=f.stack;this.componentDidCatch(f.value,{componentStack:ae!==null?ae:""})}),k}function RP(u,f,k){var P=u.pingCache;if(P===null){P=u.pingCache=new a9;var R=new Set;P.set(f,R)}else R=P.get(f),R===void 0&&(R=new Set,P.set(f,R));R.has(k)||(R.add(k),u=x9.bind(null,u,f,k),f.then(u,u))}function DP(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function BP(u,f,k,P,R){return(u.mode&1)===0?(u===f?u.flags|=65536:(u.flags|=128,k.flags|=131072,k.flags&=-52805,k.tag===1&&(k.alternate===null?k.tag=17:(f=Pl(-1,1),f.tag=2,Md(k,f,1))),k.lanes|=1),u):(u.flags|=65536,u.lanes=R,u)}var n9=A.ReactCurrentOwner,Ls=!1;function ys(u,f,k,P){f.child=u===null?aP(f,null,k,P):Uu(f,u.child,k,P)}function LP(u,f,k,P,R){k=k.render;var U=f.ref;return Vu(f,R),P=Kv(u,f,k,P,U,R),k=Qv(),u!==null&&!Ls?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~R,Ml(u,f,R)):(ka&&k&&Iv(f),f.flags|=1,ys(u,f,P,R),f.child)}function $P(u,f,k,P,R){if(u===null){var U=k.type;return typeof U=="function"&&!Nk(U)&&U.defaultProps===void 0&&k.compare===null&&k.defaultProps===void 0?(f.tag=15,f.type=U,FP(u,f,U,P,R)):(u=Zf(k.type,null,P,f,f.mode,R),u.ref=f.ref,u.return=f,f.child=u)}if(U=u.child,(u.lanes&R)===0){var ae=U.memoizedProps;if(k=k.compare,k=k!==null?k:Bo,k(ae,P)&&u.ref===f.ref)return Ml(u,f,R)}return f.flags|=1,u=Od(U,P),u.ref=f.ref,u.return=f,f.child=u}function FP(u,f,k,P,R){if(u!==null){var U=u.memoizedProps;if(Bo(U,P)&&u.ref===f.ref)if(Ls=!1,f.pendingProps=P=U,(u.lanes&R)!==0)(u.flags&131072)!==0&&(Ls=!0);else return f.lanes=u.lanes,Ml(u,f,R)}return ak(u,f,k,P,R)}function zP(u,f,k){var P=f.pendingProps,R=P.children,U=u!==null?u.memoizedState:null;if(P.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},ua(Qu,di),di|=k;else{if((k&1073741824)===0)return u=U!==null?U.baseLanes|k:k,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null,transitions:null},f.updateQueue=null,ua(Qu,di),di|=u,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},P=U!==null?U.baseLanes:k,ua(Qu,di),di|=P}else U!==null?(P=U.baseLanes|k,f.memoizedState=null):P=k,ua(Qu,di),di|=P;return ys(u,f,R,k),f.child}function UP(u,f){var k=f.ref;(u===null&&k!==null||u!==null&&u.ref!==k)&&(f.flags|=512,f.flags|=2097152)}function ak(u,f,k,P,R){var U=Bs(k)?xc:Zn.current;return U=Lu(f,U),Vu(f,R),k=Kv(u,f,k,P,U,R),P=Qv(),u!==null&&!Ls?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~R,Ml(u,f,R)):(ka&&P&&Iv(f),f.flags|=1,ys(u,f,k,R),f.child)}function qP(u,f,k,P,R){if(Bs(k)){var U=!0;wf(f)}else U=!1;if(Vu(f,R),f.stateNode===null)Ff(u,f),AP(f,k,P),ek(f,k,P,R),P=!0;else if(u===null){var ae=f.stateNode,pe=f.memoizedProps;ae.props=pe;var Ne=ae.context,Fe=k.contextType;typeof Fe=="object"&&Fe!==null?Fe=Ai(Fe):(Fe=Bs(k)?xc:Zn.current,Fe=Lu(f,Fe));var lt=k.getDerivedStateFromProps,ct=typeof lt=="function"||typeof ae.getSnapshotBeforeUpdate=="function";ct||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(pe!==P||Ne!==Fe)&&EP(f,ae,P,Fe),Pd=!1;var ot=f.memoizedState;ae.state=ot,Af(f,P,ae,R),Ne=f.memoizedState,pe!==P||ot!==Ne||Ds.current||Pd?(typeof lt=="function"&&(Jv(f,k,lt,P),Ne=f.memoizedState),(pe=Pd||IP(f,k,pe,P,ot,Ne,Fe))?(ct||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount()),typeof ae.componentDidMount=="function"&&(f.flags|=4194308)):(typeof ae.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=P,f.memoizedState=Ne),ae.props=P,ae.state=Ne,ae.context=Fe,P=pe):(typeof ae.componentDidMount=="function"&&(f.flags|=4194308),P=!1)}else{ae=f.stateNode,sP(u,f),pe=f.memoizedProps,Fe=f.type===f.elementType?pe:so(f.type,pe),ae.props=Fe,ct=f.pendingProps,ot=ae.context,Ne=k.contextType,typeof Ne=="object"&&Ne!==null?Ne=Ai(Ne):(Ne=Bs(k)?xc:Zn.current,Ne=Lu(f,Ne));var Ct=k.getDerivedStateFromProps;(lt=typeof Ct=="function"||typeof ae.getSnapshotBeforeUpdate=="function")||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(pe!==ct||ot!==Ne)&&EP(f,ae,P,Ne),Pd=!1,ot=f.memoizedState,ae.state=ot,Af(f,P,ae,R);var It=f.memoizedState;pe!==ct||ot!==It||Ds.current||Pd?(typeof Ct=="function"&&(Jv(f,k,Ct,P),It=f.memoizedState),(Fe=Pd||IP(f,k,Fe,P,ot,It,Ne)||!1)?(lt||typeof ae.UNSAFE_componentWillUpdate!="function"&&typeof ae.componentWillUpdate!="function"||(typeof ae.componentWillUpdate=="function"&&ae.componentWillUpdate(P,It,Ne),typeof ae.UNSAFE_componentWillUpdate=="function"&&ae.UNSAFE_componentWillUpdate(P,It,Ne)),typeof ae.componentDidUpdate=="function"&&(f.flags|=4),typeof ae.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof ae.componentDidUpdate!="function"||pe===u.memoizedProps&&ot===u.memoizedState||(f.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||pe===u.memoizedProps&&ot===u.memoizedState||(f.flags|=1024),f.memoizedProps=P,f.memoizedState=It),ae.props=P,ae.state=It,ae.context=Ne,P=Fe):(typeof ae.componentDidUpdate!="function"||pe===u.memoizedProps&&ot===u.memoizedState||(f.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||pe===u.memoizedProps&&ot===u.memoizedState||(f.flags|=1024),P=!1)}return nk(u,f,k,P,U,R)}function nk(u,f,k,P,R,U){UP(u,f);var ae=(f.flags&128)!==0;if(!P&&!ae)return R&&QS(f,k,!1),Ml(u,f,U);P=f.stateNode,n9.current=f;var pe=ae&&typeof k.getDerivedStateFromError!="function"?null:P.render();return f.flags|=1,u!==null&&ae?(f.child=Uu(f,u.child,null,U),f.child=Uu(f,null,pe,U)):ys(u,f,pe,U),f.memoizedState=P.state,R&&QS(f,k,!0),f.child}function VP(u){var f=u.stateNode;f.pendingContext?WS(u,f.pendingContext,f.pendingContext!==f.context):f.context&&WS(u,f.context,!1),zv(u,f.containerInfo)}function HP(u,f,k,P,R){return zu(),Ov(R),f.flags|=256,ys(u,f,k,P),f.child}var sk={dehydrated:null,treeContext:null,retryLane:0};function ik(u){return{baseLanes:u,cachePool:null,transitions:null}}function WP(u,f,k){var P=f.pendingProps,R=Ia.current,U=!1,ae=(f.flags&128)!==0,pe;if((pe=ae)||(pe=u!==null&&u.memoizedState===null?!1:(R&2)!==0),pe?(U=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(R|=1),ua(Ia,R&1),u===null)return _v(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((f.mode&1)===0?f.lanes=1:u.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(ae=P.children,u=P.fallback,U?(P=f.mode,U=f.child,ae={mode:"hidden",children:ae},(P&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=ae):U=Xf(ae,P,0,null),u=Pc(u,P,k,null),U.return=f,u.return=f,U.sibling=u,f.child=U,f.child.memoizedState=ik(k),f.memoizedState=sk,u):ok(f,ae));if(R=u.memoizedState,R!==null&&(pe=R.dehydrated,pe!==null))return s9(u,f,ae,P,pe,R,k);if(U){U=P.fallback,ae=f.mode,R=u.child,pe=R.sibling;var Ne={mode:"hidden",children:P.children};return(ae&1)===0&&f.child!==R?(P=f.child,P.childLanes=0,P.pendingProps=Ne,f.deletions=null):(P=Od(R,Ne),P.subtreeFlags=R.subtreeFlags&14680064),pe!==null?U=Od(pe,U):(U=Pc(U,ae,k,null),U.flags|=2),U.return=f,P.return=f,P.sibling=U,f.child=P,P=U,U=f.child,ae=u.child.memoizedState,ae=ae===null?ik(k):{baseLanes:ae.baseLanes|k,cachePool:null,transitions:ae.transitions},U.memoizedState=ae,U.childLanes=u.childLanes&~k,f.memoizedState=sk,P}return U=u.child,u=U.sibling,P=Od(U,{mode:"visible",children:P.children}),(f.mode&1)===0&&(P.lanes=k),P.return=f,P.sibling=null,u!==null&&(k=f.deletions,k===null?(f.deletions=[u],f.flags|=16):k.push(u)),f.child=P,f.memoizedState=null,P}function ok(u,f){return f=Xf({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function $f(u,f,k,P){return P!==null&&Ov(P),Uu(f,u.child,null,k),u=ok(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function s9(u,f,k,P,R,U,ae){if(k)return f.flags&256?(f.flags&=-257,P=tk(Error(a(422))),$f(u,f,ae,P)):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(U=P.fallback,R=f.mode,P=Xf({mode:"visible",children:P.children},R,0,null),U=Pc(U,R,ae,null),U.flags|=2,P.return=f,U.return=f,P.sibling=U,f.child=P,(f.mode&1)!==0&&Uu(f,u.child,null,ae),f.child.memoizedState=ik(ae),f.memoizedState=sk,U);if((f.mode&1)===0)return $f(u,f,ae,null);if(R.data==="$!"){if(P=R.nextSibling&&R.nextSibling.dataset,P)var pe=P.dgst;return P=pe,U=Error(a(419)),P=tk(U,P,void 0),$f(u,f,ae,P)}if(pe=(ae&u.childLanes)!==0,Ls||pe){if(P=Mn,P!==null){switch(ae&-ae){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(P.suspendedLanes|ae))!==0?0:R,R!==0&&R!==U.retryLane&&(U.retryLane=R,Sl(u,R),lo(P,u,R,-1))}return jk(),P=tk(Error(a(421))),$f(u,f,ae,P)}return R.data==="$?"?(f.flags|=128,f.child=u.child,f=y9.bind(null,u),R._reactRetry=f,null):(u=U.treeContext,li=Fo(R.nextSibling),oi=f,ka=!0,no=null,u!==null&&(Ti[Ii++]=Nl,Ti[Ii++]=Cl,Ti[Ii++]=yc,Nl=u.id,Cl=u.overflow,yc=f),f=ok(f,P.children),f.flags|=4096,f)}function KP(u,f,k){u.lanes|=f;var P=u.alternate;P!==null&&(P.lanes|=f),Lv(u.return,f,k)}function lk(u,f,k,P,R){var U=u.memoizedState;U===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:P,tail:k,tailMode:R}:(U.isBackwards=f,U.rendering=null,U.renderingStartTime=0,U.last=P,U.tail=k,U.tailMode=R)}function QP(u,f,k){var P=f.pendingProps,R=P.revealOrder,U=P.tail;if(ys(u,f,P.children,k),P=Ia.current,(P&2)!==0)P=P&1|2,f.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&KP(u,k,f);else if(u.tag===19)KP(u,k,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}P&=1}if(ua(Ia,P),(f.mode&1)===0)f.memoizedState=null;else switch(R){case"forwards":for(k=f.child,R=null;k!==null;)u=k.alternate,u!==null&&Ef(u)===null&&(R=k),k=k.sibling;k=R,k===null?(R=f.child,f.child=null):(R=k.sibling,k.sibling=null),lk(f,!1,R,k,U);break;case"backwards":for(k=null,R=f.child,f.child=null;R!==null;){if(u=R.alternate,u!==null&&Ef(u)===null){f.child=R;break}u=R.sibling,R.sibling=k,k=R,R=u}lk(f,!0,k,null,U);break;case"together":lk(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Ff(u,f){(f.mode&1)===0&&u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2)}function Ml(u,f,k){if(u!==null&&(f.dependencies=u.dependencies),jc|=f.lanes,(k&f.childLanes)===0)return null;if(u!==null&&f.child!==u.child)throw Error(a(153));if(f.child!==null){for(u=f.child,k=Od(u,u.pendingProps),f.child=k,k.return=f;u.sibling!==null;)u=u.sibling,k=k.sibling=Od(u,u.pendingProps),k.return=f;k.sibling=null}return f.child}function i9(u,f,k){switch(f.tag){case 3:VP(f),zu();break;case 5:lP(f);break;case 1:Bs(f.type)&&wf(f);break;case 4:zv(f,f.stateNode.containerInfo);break;case 10:var P=f.type._context,R=f.memoizedProps.value;ua(Mf,P._currentValue),P._currentValue=R;break;case 13:if(P=f.memoizedState,P!==null)return P.dehydrated!==null?(ua(Ia,Ia.current&1),f.flags|=128,null):(k&f.child.childLanes)!==0?WP(u,f,k):(ua(Ia,Ia.current&1),u=Ml(u,f,k),u!==null?u.sibling:null);ua(Ia,Ia.current&1);break;case 19:if(P=(k&f.childLanes)!==0,(u.flags&128)!==0){if(P)return QP(u,f,k);f.flags|=128}if(R=f.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),ua(Ia,Ia.current),P)break;return null;case 22:case 23:return f.lanes=0,zP(u,f,k)}return Ml(u,f,k)}var GP,dk,YP,ZP;GP=function(u,f){for(var k=f.child;k!==null;){if(k.tag===5||k.tag===6)u.appendChild(k.stateNode);else if(k.tag!==4&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===f)break;for(;k.sibling===null;){if(k.return===null||k.return===f)return;k=k.return}k.sibling.return=k.return,k=k.sibling}},dk=function(){},YP=function(u,f,k,P){var R=u.memoizedProps;if(R!==P){u=f.stateNode,kc(zo.current);var U=null;switch(k){case"input":R=ue(u,R),P=ue(u,P),U=[];break;case"select":R=ne({},R,{value:void 0}),P=ne({},P,{value:void 0}),U=[];break;case"textarea":R=hr(u,R),P=hr(u,P),U=[];break;default:typeof R.onClick!="function"&&typeof P.onClick=="function"&&(u.onclick=st)}be(k,P);var ae;k=null;for(Fe in R)if(!P.hasOwnProperty(Fe)&&R.hasOwnProperty(Fe)&&R[Fe]!=null)if(Fe==="style"){var pe=R[Fe];for(ae in pe)pe.hasOwnProperty(ae)&&(k||(k={}),k[ae]="")}else Fe!=="dangerouslySetInnerHTML"&&Fe!=="children"&&Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&Fe!=="autoFocus"&&(s.hasOwnProperty(Fe)?U||(U=[]):(U=U||[]).push(Fe,null));for(Fe in P){var Ne=P[Fe];if(pe=R?.[Fe],P.hasOwnProperty(Fe)&&Ne!==pe&&(Ne!=null||pe!=null))if(Fe==="style")if(pe){for(ae in pe)!pe.hasOwnProperty(ae)||Ne&&Ne.hasOwnProperty(ae)||(k||(k={}),k[ae]="");for(ae in Ne)Ne.hasOwnProperty(ae)&&pe[ae]!==Ne[ae]&&(k||(k={}),k[ae]=Ne[ae])}else k||(U||(U=[]),U.push(Fe,k)),k=Ne;else Fe==="dangerouslySetInnerHTML"?(Ne=Ne?Ne.__html:void 0,pe=pe?pe.__html:void 0,Ne!=null&&pe!==Ne&&(U=U||[]).push(Fe,Ne)):Fe==="children"?typeof Ne!="string"&&typeof Ne!="number"||(U=U||[]).push(Fe,""+Ne):Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&(s.hasOwnProperty(Fe)?(Ne!=null&&Fe==="onScroll"&&ta("scroll",u),U||pe===Ne||(U=[])):(U=U||[]).push(Fe,Ne))}k&&(U=U||[]).push("style",k);var Fe=U;(f.updateQueue=Fe)&&(f.flags|=4)}},ZP=function(u,f,k,P){k!==P&&(f.flags|=4)};function $g(u,f){if(!ka)switch(u.tailMode){case"hidden":f=u.tail;for(var k=null;f!==null;)f.alternate!==null&&(k=f),f=f.sibling;k===null?u.tail=null:k.sibling=null;break;case"collapsed":k=u.tail;for(var P=null;k!==null;)k.alternate!==null&&(P=k),k=k.sibling;P===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:P.sibling=null}}function Jn(u){var f=u.alternate!==null&&u.alternate.child===u.child,k=0,P=0;if(f)for(var R=u.child;R!==null;)k|=R.lanes|R.childLanes,P|=R.subtreeFlags&14680064,P|=R.flags&14680064,R.return=u,R=R.sibling;else for(R=u.child;R!==null;)k|=R.lanes|R.childLanes,P|=R.subtreeFlags,P|=R.flags,R.return=u,R=R.sibling;return u.subtreeFlags|=P,u.childLanes=k,f}function o9(u,f,k){var P=f.pendingProps;switch(Av(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(f),null;case 1:return Bs(f.type)&&kf(),Jn(f),null;case 3:return P=f.stateNode,Hu(),fa(Ds),fa(Zn),Vv(),P.pendingContext&&(P.context=P.pendingContext,P.pendingContext=null),(u===null||u.child===null)&&(Sf(f)?f.flags|=4:u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,no!==null&&(vk(no),no=null))),dk(u,f),Jn(f),null;case 5:Uv(f);var R=kc(Og.current);if(k=f.type,u!==null&&f.stateNode!=null)YP(u,f,k,P,R),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!P){if(f.stateNode===null)throw Error(a(166));return Jn(f),null}if(u=kc(zo.current),Sf(f)){P=f.stateNode,k=f.type;var U=f.memoizedProps;switch(P[Mi]=f,P[wd]=U,u=(f.mode&1)!==0,k){case"dialog":ta("cancel",P),ta("close",P);break;case"iframe":case"object":case"embed":ta("load",P);break;case"video":case"audio":for(R=0;R<bd.length;R++)ta(bd[R],P);break;case"source":ta("error",P);break;case"img":case"image":case"link":ta("error",P),ta("load",P);break;case"details":ta("toggle",P);break;case"input":le(P,U),ta("invalid",P);break;case"select":P._wrapperState={wasMultiple:!!U.multiple},ta("invalid",P);break;case"textarea":jr(P,U),ta("invalid",P)}be(k,U),R=null;for(var ae in U)if(U.hasOwnProperty(ae)){var pe=U[ae];ae==="children"?typeof pe=="string"?P.textContent!==pe&&(U.suppressHydrationWarning!==!0&&$e(P.textContent,pe,u),R=["children",pe]):typeof pe=="number"&&P.textContent!==""+pe&&(U.suppressHydrationWarning!==!0&&$e(P.textContent,pe,u),R=["children",""+pe]):s.hasOwnProperty(ae)&&pe!=null&&ae==="onScroll"&&ta("scroll",P)}switch(k){case"input":fe(P),Le(P,U,!0);break;case"textarea":fe(P),rt(P);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(P.onclick=st)}P=R,f.updateQueue=P,P!==null&&(f.flags|=4)}else{ae=R.nodeType===9?R:R.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Pr(k)),u==="http://www.w3.org/1999/xhtml"?k==="script"?(u=ae.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof P.is=="string"?u=ae.createElement(k,{is:P.is}):(u=ae.createElement(k),k==="select"&&(ae=u,P.multiple?ae.multiple=!0:P.size&&(ae.size=P.size))):u=ae.createElementNS(u,k),u[Mi]=f,u[wd]=P,GP(u,f,!1,!1),f.stateNode=u;e:{switch(ae=Ie(k,P),k){case"dialog":ta("cancel",u),ta("close",u),R=P;break;case"iframe":case"object":case"embed":ta("load",u),R=P;break;case"video":case"audio":for(R=0;R<bd.length;R++)ta(bd[R],u);R=P;break;case"source":ta("error",u),R=P;break;case"img":case"image":case"link":ta("error",u),ta("load",u),R=P;break;case"details":ta("toggle",u),R=P;break;case"input":le(u,P),R=ue(u,P),ta("invalid",u);break;case"option":R=P;break;case"select":u._wrapperState={wasMultiple:!!P.multiple},R=ne({},P,{value:void 0}),ta("invalid",u);break;case"textarea":jr(u,P),R=hr(u,P),ta("invalid",u);break;default:R=P}be(k,R),pe=R;for(U in pe)if(pe.hasOwnProperty(U)){var Ne=pe[U];U==="style"?Ce(u,Ne):U==="dangerouslySetInnerHTML"?(Ne=Ne?Ne.__html:void 0,Ne!=null&&ge(u,Ne)):U==="children"?typeof Ne=="string"?(k!=="textarea"||Ne!=="")&&ye(u,Ne):typeof Ne=="number"&&ye(u,""+Ne):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(s.hasOwnProperty(U)?Ne!=null&&U==="onScroll"&&ta("scroll",u):Ne!=null&&T(u,U,Ne,ae))}switch(k){case"input":fe(u),Le(u,P,!1);break;case"textarea":fe(u),rt(u);break;case"option":P.value!=null&&u.setAttribute("value",""+de(P.value));break;case"select":u.multiple=!!P.multiple,U=P.value,U!=null?qt(u,!!P.multiple,U,!1):P.defaultValue!=null&&qt(u,!!P.multiple,P.defaultValue,!0);break;default:typeof R.onClick=="function"&&(u.onclick=st)}switch(k){case"button":case"input":case"select":case"textarea":P=!!P.autoFocus;break e;case"img":P=!0;break e;default:P=!1}}P&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Jn(f),null;case 6:if(u&&f.stateNode!=null)ZP(u,f,u.memoizedProps,P);else{if(typeof P!="string"&&f.stateNode===null)throw Error(a(166));if(k=kc(Og.current),kc(zo.current),Sf(f)){if(P=f.stateNode,k=f.memoizedProps,P[Mi]=f,(U=P.nodeValue!==k)&&(u=oi,u!==null))switch(u.tag){case 3:$e(P.nodeValue,k,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&$e(P.nodeValue,k,(u.mode&1)!==0)}U&&(f.flags|=4)}else P=(k.nodeType===9?k:k.ownerDocument).createTextNode(P),P[Mi]=f,f.stateNode=P}return Jn(f),null;case 13:if(fa(Ia),P=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(ka&&li!==null&&(f.mode&1)!==0&&(f.flags&128)===0)eP(),zu(),f.flags|=98560,U=!1;else if(U=Sf(f),P!==null&&P.dehydrated!==null){if(u===null){if(!U)throw Error(a(318));if(U=f.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(a(317));U[Mi]=f}else zu(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Jn(f),U=!1}else no!==null&&(vk(no),no=null),U=!0;if(!U)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=k,f):(P=P!==null,P!==(u!==null&&u.memoizedState!==null)&&P&&(f.child.flags|=8192,(f.mode&1)!==0&&(u===null||(Ia.current&1)!==0?hn===0&&(hn=3):jk())),f.updateQueue!==null&&(f.flags|=4),Jn(f),null);case 4:return Hu(),dk(u,f),u===null&&vd(f.stateNode.containerInfo),Jn(f),null;case 10:return Bv(f.type._context),Jn(f),null;case 17:return Bs(f.type)&&kf(),Jn(f),null;case 19:if(fa(Ia),U=f.memoizedState,U===null)return Jn(f),null;if(P=(f.flags&128)!==0,ae=U.rendering,ae===null)if(P)$g(U,!1);else{if(hn!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(ae=Ef(u),ae!==null){for(f.flags|=128,$g(U,!1),P=ae.updateQueue,P!==null&&(f.updateQueue=P,f.flags|=4),f.subtreeFlags=0,P=k,k=f.child;k!==null;)U=k,u=P,U.flags&=14680066,ae=U.alternate,ae===null?(U.childLanes=0,U.lanes=u,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=ae.childLanes,U.lanes=ae.lanes,U.child=ae.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=ae.memoizedProps,U.memoizedState=ae.memoizedState,U.updateQueue=ae.updateQueue,U.type=ae.type,u=ae.dependencies,U.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),k=k.sibling;return ua(Ia,Ia.current&1|2),f.child}u=u.sibling}U.tail!==null&&Dt()>Gu&&(f.flags|=128,P=!0,$g(U,!1),f.lanes=4194304)}else{if(!P)if(u=Ef(ae),u!==null){if(f.flags|=128,P=!0,k=u.updateQueue,k!==null&&(f.updateQueue=k,f.flags|=4),$g(U,!0),U.tail===null&&U.tailMode==="hidden"&&!ae.alternate&&!ka)return Jn(f),null}else 2*Dt()-U.renderingStartTime>Gu&&k!==1073741824&&(f.flags|=128,P=!0,$g(U,!1),f.lanes=4194304);U.isBackwards?(ae.sibling=f.child,f.child=ae):(k=U.last,k!==null?k.sibling=ae:f.child=ae,U.last=ae)}return U.tail!==null?(f=U.tail,U.rendering=f,U.tail=f.sibling,U.renderingStartTime=Dt(),f.sibling=null,k=Ia.current,ua(Ia,P?k&1|2:k&1),f):(Jn(f),null);case 22:case 23:return wk(),P=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==P&&(f.flags|=8192),P&&(f.mode&1)!==0?(di&1073741824)!==0&&(Jn(f),f.subtreeFlags&6&&(f.flags|=8192)):Jn(f),null;case 24:return null;case 25:return null}throw Error(a(156,f.tag))}function l9(u,f){switch(Av(f),f.tag){case 1:return Bs(f.type)&&kf(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Hu(),fa(Ds),fa(Zn),Vv(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 5:return Uv(f),null;case 13:if(fa(Ia),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(a(340));zu()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return fa(Ia),null;case 4:return Hu(),null;case 10:return Bv(f.type._context),null;case 22:case 23:return wk(),null;case 24:return null;default:return null}}var zf=!1,es=!1,d9=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Ku(u,f){var k=u.ref;if(k!==null)if(typeof k=="function")try{k(null)}catch(P){La(u,f,P)}else k.current=null}function ck(u,f,k){try{k()}catch(P){La(u,f,P)}}var XP=!1;function c9(u,f){if(vt=dc,u=wg(),jg(u)){if("selectionStart"in u)var k={start:u.selectionStart,end:u.selectionEnd};else e:{k=(k=u.ownerDocument)&&k.defaultView||window;var P=k.getSelection&&k.getSelection();if(P&&P.rangeCount!==0){k=P.anchorNode;var R=P.anchorOffset,U=P.focusNode;P=P.focusOffset;try{k.nodeType,U.nodeType}catch{k=null;break e}var ae=0,pe=-1,Ne=-1,Fe=0,lt=0,ct=u,ot=null;t:for(;;){for(var Ct;ct!==k||R!==0&&ct.nodeType!==3||(pe=ae+R),ct!==U||P!==0&&ct.nodeType!==3||(Ne=ae+P),ct.nodeType===3&&(ae+=ct.nodeValue.length),(Ct=ct.firstChild)!==null;)ot=ct,ct=Ct;for(;;){if(ct===u)break t;if(ot===k&&++Fe===R&&(pe=ae),ot===U&&++lt===P&&(Ne=ae),(Ct=ct.nextSibling)!==null)break;ct=ot,ot=ct.parentNode}ct=Ct}k=pe===-1||Ne===-1?null:{start:pe,end:Ne}}else k=null}k=k||{start:0,end:0}}else k=null;for(Zt={focusedElem:u,selectionRange:k},dc=!1,Pt=f;Pt!==null;)if(f=Pt,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,Pt=u;else for(;Pt!==null;){f=Pt;try{var It=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(It!==null){var Ot=It.memoizedProps,Wa=It.memoizedState,Ee=f.stateNode,Pe=Ee.getSnapshotBeforeUpdate(f.elementType===f.type?Ot:so(f.type,Ot),Wa);Ee.__reactInternalSnapshotBeforeUpdate=Pe}break;case 3:var Oe=f.stateNode.containerInfo;Oe.nodeType===1?Oe.textContent="":Oe.nodeType===9&&Oe.documentElement&&Oe.removeChild(Oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ft){La(f,f.return,ft)}if(u=f.sibling,u!==null){u.return=f.return,Pt=u;break}Pt=f.return}return It=XP,XP=!1,It}function Fg(u,f,k){var P=f.updateQueue;if(P=P!==null?P.lastEffect:null,P!==null){var R=P=P.next;do{if((R.tag&u)===u){var U=R.destroy;R.destroy=void 0,U!==void 0&&ck(f,k,U)}R=R.next}while(R!==P)}}function Uf(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var k=f=f.next;do{if((k.tag&u)===u){var P=k.create;k.destroy=P()}k=k.next}while(k!==f)}}function uk(u){var f=u.ref;if(f!==null){var k=u.stateNode;switch(u.tag){case 5:u=k;break;default:u=k}typeof f=="function"?f(u):f.current=u}}function JP(u){var f=u.alternate;f!==null&&(u.alternate=null,JP(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&(delete f[Mi],delete f[wd],delete f[jd],delete f[Sv],delete f[Pv])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function e4(u){return u.tag===5||u.tag===3||u.tag===4}function t4(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||e4(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function mk(u,f,k){var P=u.tag;if(P===5||P===6)u=u.stateNode,f?k.nodeType===8?k.parentNode.insertBefore(u,f):k.insertBefore(u,f):(k.nodeType===8?(f=k.parentNode,f.insertBefore(u,k)):(f=k,f.appendChild(u)),k=k._reactRootContainer,k!=null||f.onclick!==null||(f.onclick=st));else if(P!==4&&(u=u.child,u!==null))for(mk(u,f,k),u=u.sibling;u!==null;)mk(u,f,k),u=u.sibling}function gk(u,f,k){var P=u.tag;if(P===5||P===6)u=u.stateNode,f?k.insertBefore(u,f):k.appendChild(u);else if(P!==4&&(u=u.child,u!==null))for(gk(u,f,k),u=u.sibling;u!==null;)gk(u,f,k),u=u.sibling}var zn=null,io=!1;function Td(u,f,k){for(k=k.child;k!==null;)r4(u,f,k),k=k.sibling}function r4(u,f,k){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Te,k)}catch{}switch(k.tag){case 5:es||Ku(k,f);case 6:var P=zn,R=io;zn=null,Td(u,f,k),zn=P,io=R,zn!==null&&(io?(u=zn,k=k.stateNode,u.nodeType===8?u.parentNode.removeChild(k):u.removeChild(k)):zn.removeChild(k.stateNode));break;case 18:zn!==null&&(io?(u=zn,k=k.stateNode,u.nodeType===8?Ig(u.parentNode,k):u.nodeType===1&&Ig(u,k),ri(u)):Ig(zn,k.stateNode));break;case 4:P=zn,R=io,zn=k.stateNode.containerInfo,io=!0,Td(u,f,k),zn=P,io=R;break;case 0:case 11:case 14:case 15:if(!es&&(P=k.updateQueue,P!==null&&(P=P.lastEffect,P!==null))){R=P=P.next;do{var U=R,ae=U.destroy;U=U.tag,ae!==void 0&&((U&2)!==0||(U&4)!==0)&&ck(k,f,ae),R=R.next}while(R!==P)}Td(u,f,k);break;case 1:if(!es&&(Ku(k,f),P=k.stateNode,typeof P.componentWillUnmount=="function"))try{P.props=k.memoizedProps,P.state=k.memoizedState,P.componentWillUnmount()}catch(pe){La(k,f,pe)}Td(u,f,k);break;case 21:Td(u,f,k);break;case 22:k.mode&1?(es=(P=es)||k.memoizedState!==null,Td(u,f,k),es=P):Td(u,f,k);break;default:Td(u,f,k)}}function a4(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var k=u.stateNode;k===null&&(k=u.stateNode=new d9),f.forEach(function(P){var R=b9.bind(null,u,P);k.has(P)||(k.add(P),P.then(R,R))})}}function oo(u,f){var k=f.deletions;if(k!==null)for(var P=0;P<k.length;P++){var R=k[P];try{var U=u,ae=f,pe=ae;e:for(;pe!==null;){switch(pe.tag){case 5:zn=pe.stateNode,io=!1;break e;case 3:zn=pe.stateNode.containerInfo,io=!0;break e;case 4:zn=pe.stateNode.containerInfo,io=!0;break e}pe=pe.return}if(zn===null)throw Error(a(160));r4(U,ae,R),zn=null,io=!1;var Ne=R.alternate;Ne!==null&&(Ne.return=null),R.return=null}catch(Fe){La(R,f,Fe)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)n4(f,u),f=f.sibling}function n4(u,f){var k=u.alternate,P=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(oo(f,u),qo(u),P&4){try{Fg(3,u,u.return),Uf(3,u)}catch(Ot){La(u,u.return,Ot)}try{Fg(5,u,u.return)}catch(Ot){La(u,u.return,Ot)}}break;case 1:oo(f,u),qo(u),P&512&&k!==null&&Ku(k,k.return);break;case 5:if(oo(f,u),qo(u),P&512&&k!==null&&Ku(k,k.return),u.flags&32){var R=u.stateNode;try{ye(R,"")}catch(Ot){La(u,u.return,Ot)}}if(P&4&&(R=u.stateNode,R!=null)){var U=u.memoizedProps,ae=k!==null?k.memoizedProps:U,pe=u.type,Ne=u.updateQueue;if(u.updateQueue=null,Ne!==null)try{pe==="input"&&U.type==="radio"&&U.name!=null&&xe(R,U),Ie(pe,ae);var Fe=Ie(pe,U);for(ae=0;ae<Ne.length;ae+=2){var lt=Ne[ae],ct=Ne[ae+1];lt==="style"?Ce(R,ct):lt==="dangerouslySetInnerHTML"?ge(R,ct):lt==="children"?ye(R,ct):T(R,lt,ct,Fe)}switch(pe){case"input":ze(R,U);break;case"textarea":nt(R,U);break;case"select":var ot=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!U.multiple;var Ct=U.value;Ct!=null?qt(R,!!U.multiple,Ct,!1):ot!==!!U.multiple&&(U.defaultValue!=null?qt(R,!!U.multiple,U.defaultValue,!0):qt(R,!!U.multiple,U.multiple?[]:"",!1))}R[wd]=U}catch(Ot){La(u,u.return,Ot)}}break;case 6:if(oo(f,u),qo(u),P&4){if(u.stateNode===null)throw Error(a(162));R=u.stateNode,U=u.memoizedProps;try{R.nodeValue=U}catch(Ot){La(u,u.return,Ot)}}break;case 3:if(oo(f,u),qo(u),P&4&&k!==null&&k.memoizedState.isDehydrated)try{ri(f.containerInfo)}catch(Ot){La(u,u.return,Ot)}break;case 4:oo(f,u),qo(u);break;case 13:oo(f,u),qo(u),R=u.child,R.flags&8192&&(U=R.memoizedState!==null,R.stateNode.isHidden=U,!U||R.alternate!==null&&R.alternate.memoizedState!==null||(pk=Dt())),P&4&&a4(u);break;case 22:if(lt=k!==null&&k.memoizedState!==null,u.mode&1?(es=(Fe=es)||lt,oo(f,u),es=Fe):oo(f,u),qo(u),P&8192){if(Fe=u.memoizedState!==null,(u.stateNode.isHidden=Fe)&&!lt&&(u.mode&1)!==0)for(Pt=u,lt=u.child;lt!==null;){for(ct=Pt=lt;Pt!==null;){switch(ot=Pt,Ct=ot.child,ot.tag){case 0:case 11:case 14:case 15:Fg(4,ot,ot.return);break;case 1:Ku(ot,ot.return);var It=ot.stateNode;if(typeof It.componentWillUnmount=="function"){P=ot,k=ot.return;try{f=P,It.props=f.memoizedProps,It.state=f.memoizedState,It.componentWillUnmount()}catch(Ot){La(P,k,Ot)}}break;case 5:Ku(ot,ot.return);break;case 22:if(ot.memoizedState!==null){o4(ct);continue}}Ct!==null?(Ct.return=ot,Pt=Ct):o4(ct)}lt=lt.sibling}e:for(lt=null,ct=u;;){if(ct.tag===5){if(lt===null){lt=ct;try{R=ct.stateNode,Fe?(U=R.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(pe=ct.stateNode,Ne=ct.memoizedProps.style,ae=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null,pe.style.display=pt("display",ae))}catch(Ot){La(u,u.return,Ot)}}}else if(ct.tag===6){if(lt===null)try{ct.stateNode.nodeValue=Fe?"":ct.memoizedProps}catch(Ot){La(u,u.return,Ot)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===u)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===u)break e;for(;ct.sibling===null;){if(ct.return===null||ct.return===u)break e;lt===ct&&(lt=null),ct=ct.return}lt===ct&&(lt=null),ct.sibling.return=ct.return,ct=ct.sibling}}break;case 19:oo(f,u),qo(u),P&4&&a4(u);break;case 21:break;default:oo(f,u),qo(u)}}function qo(u){var f=u.flags;if(f&2){try{e:{for(var k=u.return;k!==null;){if(e4(k)){var P=k;break e}k=k.return}throw Error(a(160))}switch(P.tag){case 5:var R=P.stateNode;P.flags&32&&(ye(R,""),P.flags&=-33);var U=t4(u);gk(u,U,R);break;case 3:case 4:var ae=P.stateNode.containerInfo,pe=t4(u);mk(u,pe,ae);break;default:throw Error(a(161))}}catch(Ne){La(u,u.return,Ne)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function u9(u,f,k){Pt=u,s4(u)}function s4(u,f,k){for(var P=(u.mode&1)!==0;Pt!==null;){var R=Pt,U=R.child;if(R.tag===22&&P){var ae=R.memoizedState!==null||zf;if(!ae){var pe=R.alternate,Ne=pe!==null&&pe.memoizedState!==null||es;pe=zf;var Fe=es;if(zf=ae,(es=Ne)&&!Fe)for(Pt=R;Pt!==null;)ae=Pt,Ne=ae.child,ae.tag===22&&ae.memoizedState!==null?l4(R):Ne!==null?(Ne.return=ae,Pt=Ne):l4(R);for(;U!==null;)Pt=U,s4(U),U=U.sibling;Pt=R,zf=pe,es=Fe}i4(u)}else(R.subtreeFlags&8772)!==0&&U!==null?(U.return=R,Pt=U):i4(u)}}function i4(u){for(;Pt!==null;){var f=Pt;if((f.flags&8772)!==0){var k=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:es||Uf(5,f);break;case 1:var P=f.stateNode;if(f.flags&4&&!es)if(k===null)P.componentDidMount();else{var R=f.elementType===f.type?k.memoizedProps:so(f.type,k.memoizedProps);P.componentDidUpdate(R,k.memoizedState,P.__reactInternalSnapshotBeforeUpdate)}var U=f.updateQueue;U!==null&&oP(f,U,P);break;case 3:var ae=f.updateQueue;if(ae!==null){if(k=null,f.child!==null)switch(f.child.tag){case 5:k=f.child.stateNode;break;case 1:k=f.child.stateNode}oP(f,ae,k)}break;case 5:var pe=f.stateNode;if(k===null&&f.flags&4){k=pe;var Ne=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":Ne.autoFocus&&k.focus();break;case"img":Ne.src&&(k.src=Ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var Fe=f.alternate;if(Fe!==null){var lt=Fe.memoizedState;if(lt!==null){var ct=lt.dehydrated;ct!==null&&ri(ct)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}es||f.flags&512&&uk(f)}catch(ot){La(f,f.return,ot)}}if(f===u){Pt=null;break}if(k=f.sibling,k!==null){k.return=f.return,Pt=k;break}Pt=f.return}}function o4(u){for(;Pt!==null;){var f=Pt;if(f===u){Pt=null;break}var k=f.sibling;if(k!==null){k.return=f.return,Pt=k;break}Pt=f.return}}function l4(u){for(;Pt!==null;){var f=Pt;try{switch(f.tag){case 0:case 11:case 15:var k=f.return;try{Uf(4,f)}catch(Ne){La(f,k,Ne)}break;case 1:var P=f.stateNode;if(typeof P.componentDidMount=="function"){var R=f.return;try{P.componentDidMount()}catch(Ne){La(f,R,Ne)}}var U=f.return;try{uk(f)}catch(Ne){La(f,U,Ne)}break;case 5:var ae=f.return;try{uk(f)}catch(Ne){La(f,ae,Ne)}}}catch(Ne){La(f,f.return,Ne)}if(f===u){Pt=null;break}var pe=f.sibling;if(pe!==null){pe.return=f.return,Pt=pe;break}Pt=f.return}}var m9=Math.ceil,qf=A.ReactCurrentDispatcher,hk=A.ReactCurrentOwner,_i=A.ReactCurrentBatchConfig,zr=0,Mn=null,en=null,Un=0,di=0,Qu=Nd(0),hn=0,zg=null,jc=0,Vf=0,fk=0,Ug=null,$s=null,pk=0,Gu=1/0,Tl=null,Hf=!1,xk=null,Id=null,Wf=!1,Ad=null,Kf=0,qg=0,yk=null,Qf=-1,Gf=0;function bs(){return(zr&6)!==0?Dt():Qf!==-1?Qf:Qf=Dt()}function Ed(u){return(u.mode&1)===0?1:(zr&2)!==0&&Un!==0?Un&-Un:GF.transition!==null?(Gf===0&&(Gf=ir()),Gf):(u=Nr,u!==0||(u=window.event,u=u===void 0?16:Er(u.type)),u)}function lo(u,f,k,P){if(50<qg)throw qg=0,yk=null,Error(a(185));dt(u,k,P),((zr&2)===0||u!==Mn)&&(u===Mn&&((zr&2)===0&&(Vf|=k),hn===4&&_d(u,Un)),Fs(u,P),k===1&&zr===0&&(f.mode&1)===0&&(Gu=Dt()+500,jf&&Sd()))}function Fs(u,f){var k=u.callbackNode;ar(u,f);var P=Je(u,u===Mn?Un:0);if(P===0)k!==null&&zt(k),u.callbackNode=null,u.callbackPriority=0;else if(f=P&-P,u.callbackPriority!==f){if(k!=null&&zt(k),f===1)u.tag===0?QF(c4.bind(null,u)):GS(c4.bind(null,u)),Yn(function(){(zr&6)===0&&Sd()}),k=null;else{switch(wi(P)){case 1:k=yt;break;case 4:k=Yt;break;case 16:k=At;break;case 536870912:k=ca;break;default:k=At}k=y4(k,d4.bind(null,u))}u.callbackPriority=f,u.callbackNode=k}}function d4(u,f){if(Qf=-1,Gf=0,(zr&6)!==0)throw Error(a(327));var k=u.callbackNode;if(Yu()&&u.callbackNode!==k)return null;var P=Je(u,u===Mn?Un:0);if(P===0)return null;if((P&30)!==0||(P&u.expiredLanes)!==0||f)f=Yf(u,P);else{f=P;var R=zr;zr|=2;var U=m4();(Mn!==u||Un!==f)&&(Tl=null,Gu=Dt()+500,Cc(u,f));do try{f9();break}catch(pe){u4(u,pe)}while(!0);Dv(),qf.current=U,zr=R,en!==null?f=0:(Mn=null,Un=0,f=hn)}if(f!==0){if(f===2&&(R=Mr(u),R!==0&&(P=R,f=bk(u,R))),f===1)throw k=zg,Cc(u,0),_d(u,P),Fs(u,Dt()),k;if(f===6)_d(u,P);else{if(R=u.current.alternate,(P&30)===0&&!g9(R)&&(f=Yf(u,P),f===2&&(U=Mr(u),U!==0&&(P=U,f=bk(u,U))),f===1))throw k=zg,Cc(u,0),_d(u,P),Fs(u,Dt()),k;switch(u.finishedWork=R,u.finishedLanes=P,f){case 0:case 1:throw Error(a(345));case 2:Sc(u,$s,Tl);break;case 3:if(_d(u,P),(P&130023424)===P&&(f=pk+500-Dt(),10<f)){if(Je(u,0)!==0)break;if(R=u.suspendedLanes,(R&P)!==P){bs(),u.pingedLanes|=u.suspendedLanes&R;break}u.timeoutHandle=mn(Sc.bind(null,u,$s,Tl),f);break}Sc(u,$s,Tl);break;case 4:if(_d(u,P),(P&4194240)===P)break;for(f=u.eventTimes,R=-1;0<P;){var ae=31-_t(P);U=1<<ae,ae=f[ae],ae>R&&(R=ae),P&=~U}if(P=R,P=Dt()-P,P=(120>P?120:480>P?480:1080>P?1080:1920>P?1920:3e3>P?3e3:4320>P?4320:1960*m9(P/1960))-P,10<P){u.timeoutHandle=mn(Sc.bind(null,u,$s,Tl),P);break}Sc(u,$s,Tl);break;case 5:Sc(u,$s,Tl);break;default:throw Error(a(329))}}}return Fs(u,Dt()),u.callbackNode===k?d4.bind(null,u):null}function bk(u,f){var k=Ug;return u.current.memoizedState.isDehydrated&&(Cc(u,f).flags|=256),u=Yf(u,f),u!==2&&(f=$s,$s=k,f!==null&&vk(f)),u}function vk(u){$s===null?$s=u:$s.push.apply($s,u)}function g9(u){for(var f=u;;){if(f.flags&16384){var k=f.updateQueue;if(k!==null&&(k=k.stores,k!==null))for(var P=0;P<k.length;P++){var R=k[P],U=R.getSnapshot;R=R.value;try{if(!si(U(),R))return!1}catch{return!1}}}if(k=f.child,f.subtreeFlags&16384&&k!==null)k.return=f,f=k;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function _d(u,f){for(f&=~fk,f&=~Vf,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var k=31-_t(f),P=1<<k;u[k]=-1,f&=~P}}function c4(u){if((zr&6)!==0)throw Error(a(327));Yu();var f=Je(u,0);if((f&1)===0)return Fs(u,Dt()),null;var k=Yf(u,f);if(u.tag!==0&&k===2){var P=Mr(u);P!==0&&(f=P,k=bk(u,P))}if(k===1)throw k=zg,Cc(u,0),_d(u,f),Fs(u,Dt()),k;if(k===6)throw Error(a(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,Sc(u,$s,Tl),Fs(u,Dt()),null}function kk(u,f){var k=zr;zr|=1;try{return u(f)}finally{zr=k,zr===0&&(Gu=Dt()+500,jf&&Sd())}}function Nc(u){Ad!==null&&Ad.tag===0&&(zr&6)===0&&Yu();var f=zr;zr|=1;var k=_i.transition,P=Nr;try{if(_i.transition=null,Nr=1,u)return u()}finally{Nr=P,_i.transition=k,zr=f,(zr&6)===0&&Sd()}}function wk(){di=Qu.current,fa(Qu)}function Cc(u,f){u.finishedWork=null,u.finishedLanes=0;var k=u.timeoutHandle;if(k!==-1&&(u.timeoutHandle=-1,Ja(k)),en!==null)for(k=en.return;k!==null;){var P=k;switch(Av(P),P.tag){case 1:P=P.type.childContextTypes,P!=null&&kf();break;case 3:Hu(),fa(Ds),fa(Zn),Vv();break;case 5:Uv(P);break;case 4:Hu();break;case 13:fa(Ia);break;case 19:fa(Ia);break;case 10:Bv(P.type._context);break;case 22:case 23:wk()}k=k.return}if(Mn=u,en=u=Od(u.current,null),Un=di=f,hn=0,zg=null,fk=Vf=jc=0,$s=Ug=null,vc!==null){for(f=0;f<vc.length;f++)if(k=vc[f],P=k.interleaved,P!==null){k.interleaved=null;var R=P.next,U=k.pending;if(U!==null){var ae=U.next;U.next=R,P.next=ae}k.pending=P}vc=null}return u}function u4(u,f){do{var k=en;try{if(Dv(),_f.current=Bf,Of){for(var P=Aa.memoizedState;P!==null;){var R=P.queue;R!==null&&(R.pending=null),P=P.next}Of=!1}if(wc=0,Pn=gn=Aa=null,Rg=!1,Dg=0,hk.current=null,k===null||k.return===null){hn=1,zg=f,en=null;break}e:{var U=u,ae=k.return,pe=k,Ne=f;if(f=Un,pe.flags|=32768,Ne!==null&&typeof Ne=="object"&&typeof Ne.then=="function"){var Fe=Ne,lt=pe,ct=lt.tag;if((lt.mode&1)===0&&(ct===0||ct===11||ct===15)){var ot=lt.alternate;ot?(lt.updateQueue=ot.updateQueue,lt.memoizedState=ot.memoizedState,lt.lanes=ot.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var Ct=DP(ae);if(Ct!==null){Ct.flags&=-257,BP(Ct,ae,pe,U,f),Ct.mode&1&&RP(U,Fe,f),f=Ct,Ne=Fe;var It=f.updateQueue;if(It===null){var Ot=new Set;Ot.add(Ne),f.updateQueue=Ot}else It.add(Ne);break e}else{if((f&1)===0){RP(U,Fe,f),jk();break e}Ne=Error(a(426))}}else if(ka&&pe.mode&1){var Wa=DP(ae);if(Wa!==null){(Wa.flags&65536)===0&&(Wa.flags|=256),BP(Wa,ae,pe,U,f),Ov(Wu(Ne,pe));break e}}U=Ne=Wu(Ne,pe),hn!==4&&(hn=2),Ug===null?Ug=[U]:Ug.push(U),U=ae;do{switch(U.tag){case 3:U.flags|=65536,f&=-f,U.lanes|=f;var Ee=_P(U,Ne,f);iP(U,Ee);break e;case 1:pe=Ne;var Pe=U.type,Oe=U.stateNode;if((U.flags&128)===0&&(typeof Pe.getDerivedStateFromError=="function"||Oe!==null&&typeof Oe.componentDidCatch=="function"&&(Id===null||!Id.has(Oe)))){U.flags|=65536,f&=-f,U.lanes|=f;var ft=OP(U,pe,f);iP(U,ft);break e}}U=U.return}while(U!==null)}h4(k)}catch(Lt){f=Lt,en===k&&k!==null&&(en=k=k.return);continue}break}while(!0)}function m4(){var u=qf.current;return qf.current=Bf,u===null?Bf:u}function jk(){(hn===0||hn===3||hn===2)&&(hn=4),Mn===null||(jc&268435455)===0&&(Vf&268435455)===0||_d(Mn,Un)}function Yf(u,f){var k=zr;zr|=2;var P=m4();(Mn!==u||Un!==f)&&(Tl=null,Cc(u,f));do try{h9();break}catch(R){u4(u,R)}while(!0);if(Dv(),zr=k,qf.current=P,en!==null)throw Error(a(261));return Mn=null,Un=0,hn}function h9(){for(;en!==null;)g4(en)}function f9(){for(;en!==null&&!Qt();)g4(en)}function g4(u){var f=x4(u.alternate,u,di);u.memoizedProps=u.pendingProps,f===null?h4(u):en=f,hk.current=null}function h4(u){var f=u;do{var k=f.alternate;if(u=f.return,(f.flags&32768)===0){if(k=o9(k,f,di),k!==null){en=k;return}}else{if(k=l9(k,f),k!==null){k.flags&=32767,en=k;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{hn=6,en=null;return}}if(f=f.sibling,f!==null){en=f;return}en=f=u}while(f!==null);hn===0&&(hn=5)}function Sc(u,f,k){var P=Nr,R=_i.transition;try{_i.transition=null,Nr=1,p9(u,f,k,P)}finally{_i.transition=R,Nr=P}return null}function p9(u,f,k,P){do Yu();while(Ad!==null);if((zr&6)!==0)throw Error(a(327));k=u.finishedWork;var R=u.finishedLanes;if(k===null)return null;if(u.finishedWork=null,u.finishedLanes=0,k===u.current)throw Error(a(177));u.callbackNode=null,u.callbackPriority=0;var U=k.lanes|k.childLanes;if(Vt(u,U),u===Mn&&(en=Mn=null,Un=0),(k.subtreeFlags&2064)===0&&(k.flags&2064)===0||Wf||(Wf=!0,y4(At,function(){return Yu(),null})),U=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||U){U=_i.transition,_i.transition=null;var ae=Nr;Nr=1;var pe=zr;zr|=4,hk.current=null,c9(u,k),n4(k,u),Si(Zt),dc=!!vt,Zt=vt=null,u.current=k,u9(k),fr(),zr=pe,Nr=ae,_i.transition=U}else u.current=k;if(Wf&&(Wf=!1,Ad=u,Kf=R),U=u.pendingLanes,U===0&&(Id=null),Et(k.stateNode),Fs(u,Dt()),f!==null)for(P=u.onRecoverableError,k=0;k<f.length;k++)R=f[k],P(R.value,{componentStack:R.stack,digest:R.digest});if(Hf)throw Hf=!1,u=xk,xk=null,u;return(Kf&1)!==0&&u.tag!==0&&Yu(),U=u.pendingLanes,(U&1)!==0?u===yk?qg++:(qg=0,yk=u):qg=0,Sd(),null}function Yu(){if(Ad!==null){var u=wi(Kf),f=_i.transition,k=Nr;try{if(_i.transition=null,Nr=16>u?16:u,Ad===null)var P=!1;else{if(u=Ad,Ad=null,Kf=0,(zr&6)!==0)throw Error(a(331));var R=zr;for(zr|=4,Pt=u.current;Pt!==null;){var U=Pt,ae=U.child;if((Pt.flags&16)!==0){var pe=U.deletions;if(pe!==null){for(var Ne=0;Ne<pe.length;Ne++){var Fe=pe[Ne];for(Pt=Fe;Pt!==null;){var lt=Pt;switch(lt.tag){case 0:case 11:case 15:Fg(8,lt,U)}var ct=lt.child;if(ct!==null)ct.return=lt,Pt=ct;else for(;Pt!==null;){lt=Pt;var ot=lt.sibling,Ct=lt.return;if(JP(lt),lt===Fe){Pt=null;break}if(ot!==null){ot.return=Ct,Pt=ot;break}Pt=Ct}}}var It=U.alternate;if(It!==null){var Ot=It.child;if(Ot!==null){It.child=null;do{var Wa=Ot.sibling;Ot.sibling=null,Ot=Wa}while(Ot!==null)}}Pt=U}}if((U.subtreeFlags&2064)!==0&&ae!==null)ae.return=U,Pt=ae;else e:for(;Pt!==null;){if(U=Pt,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:Fg(9,U,U.return)}var Ee=U.sibling;if(Ee!==null){Ee.return=U.return,Pt=Ee;break e}Pt=U.return}}var Pe=u.current;for(Pt=Pe;Pt!==null;){ae=Pt;var Oe=ae.child;if((ae.subtreeFlags&2064)!==0&&Oe!==null)Oe.return=ae,Pt=Oe;else e:for(ae=Pe;Pt!==null;){if(pe=Pt,(pe.flags&2048)!==0)try{switch(pe.tag){case 0:case 11:case 15:Uf(9,pe)}}catch(Lt){La(pe,pe.return,Lt)}if(pe===ae){Pt=null;break e}var ft=pe.sibling;if(ft!==null){ft.return=pe.return,Pt=ft;break e}Pt=pe.return}}if(zr=R,Sd(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Te,u)}catch{}P=!0}return P}finally{Nr=k,_i.transition=f}}return!1}function f4(u,f,k){f=Wu(k,f),f=_P(u,f,1),u=Md(u,f,1),f=bs(),u!==null&&(dt(u,1,f),Fs(u,f))}function La(u,f,k){if(u.tag===3)f4(u,u,k);else for(;f!==null;){if(f.tag===3){f4(f,u,k);break}else if(f.tag===1){var P=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(Id===null||!Id.has(P))){u=Wu(k,u),u=OP(f,u,1),f=Md(f,u,1),u=bs(),f!==null&&(dt(f,1,u),Fs(f,u));break}}f=f.return}}function x9(u,f,k){var P=u.pingCache;P!==null&&P.delete(f),f=bs(),u.pingedLanes|=u.suspendedLanes&k,Mn===u&&(Un&k)===k&&(hn===4||hn===3&&(Un&130023424)===Un&&500>Dt()-pk?Cc(u,0):fk|=k),Fs(u,f)}function p4(u,f){f===0&&((u.mode&1)===0?f=1:(f=Xe,Xe<<=1,(Xe&130023424)===0&&(Xe=4194304)));var k=bs();u=Sl(u,f),u!==null&&(dt(u,f,k),Fs(u,k))}function y9(u){var f=u.memoizedState,k=0;f!==null&&(k=f.retryLane),p4(u,k)}function b9(u,f){var k=0;switch(u.tag){case 13:var P=u.stateNode,R=u.memoizedState;R!==null&&(k=R.retryLane);break;case 19:P=u.stateNode;break;default:throw Error(a(314))}P!==null&&P.delete(f),p4(u,k)}var x4;x4=function(u,f,k){if(u!==null)if(u.memoizedProps!==f.pendingProps||Ds.current)Ls=!0;else{if((u.lanes&k)===0&&(f.flags&128)===0)return Ls=!1,i9(u,f,k);Ls=(u.flags&131072)!==0}else Ls=!1,ka&&(f.flags&1048576)!==0&&YS(f,Cf,f.index);switch(f.lanes=0,f.tag){case 2:var P=f.type;Ff(u,f),u=f.pendingProps;var R=Lu(f,Zn.current);Vu(f,k),R=Kv(null,f,P,u,R,k);var U=Qv();return f.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Bs(P)?(U=!0,wf(f)):U=!1,f.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Fv(f),R.updater=Lf,f.stateNode=R,R._reactInternals=f,ek(f,P,u,k),f=nk(null,f,P,!0,U,k)):(f.tag=0,ka&&U&&Iv(f),ys(null,f,R,k),f=f.child),f;case 16:P=f.elementType;e:{switch(Ff(u,f),u=f.pendingProps,R=P._init,P=R(P._payload),f.type=P,R=f.tag=k9(P),u=so(P,u),R){case 0:f=ak(null,f,P,u,k);break e;case 1:f=qP(null,f,P,u,k);break e;case 11:f=LP(null,f,P,u,k);break e;case 14:f=$P(null,f,P,so(P.type,u),k);break e}throw Error(a(306,P,""))}return f;case 0:return P=f.type,R=f.pendingProps,R=f.elementType===P?R:so(P,R),ak(u,f,P,R,k);case 1:return P=f.type,R=f.pendingProps,R=f.elementType===P?R:so(P,R),qP(u,f,P,R,k);case 3:e:{if(VP(f),u===null)throw Error(a(387));P=f.pendingProps,U=f.memoizedState,R=U.element,sP(u,f),Af(f,P,null,k);var ae=f.memoizedState;if(P=ae.element,U.isDehydrated)if(U={element:P,isDehydrated:!1,cache:ae.cache,pendingSuspenseBoundaries:ae.pendingSuspenseBoundaries,transitions:ae.transitions},f.updateQueue.baseState=U,f.memoizedState=U,f.flags&256){R=Wu(Error(a(423)),f),f=HP(u,f,P,k,R);break e}else if(P!==R){R=Wu(Error(a(424)),f),f=HP(u,f,P,k,R);break e}else for(li=Fo(f.stateNode.containerInfo.firstChild),oi=f,ka=!0,no=null,k=aP(f,null,P,k),f.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{if(zu(),P===R){f=Ml(u,f,k);break e}ys(u,f,P,k)}f=f.child}return f;case 5:return lP(f),u===null&&_v(f),P=f.type,R=f.pendingProps,U=u!==null?u.memoizedProps:null,ae=R.children,Cr(P,R)?ae=null:U!==null&&Cr(P,U)&&(f.flags|=32),UP(u,f),ys(u,f,ae,k),f.child;case 6:return u===null&&_v(f),null;case 13:return WP(u,f,k);case 4:return zv(f,f.stateNode.containerInfo),P=f.pendingProps,u===null?f.child=Uu(f,null,P,k):ys(u,f,P,k),f.child;case 11:return P=f.type,R=f.pendingProps,R=f.elementType===P?R:so(P,R),LP(u,f,P,R,k);case 7:return ys(u,f,f.pendingProps,k),f.child;case 8:return ys(u,f,f.pendingProps.children,k),f.child;case 12:return ys(u,f,f.pendingProps.children,k),f.child;case 10:e:{if(P=f.type._context,R=f.pendingProps,U=f.memoizedProps,ae=R.value,ua(Mf,P._currentValue),P._currentValue=ae,U!==null)if(si(U.value,ae)){if(U.children===R.children&&!Ds.current){f=Ml(u,f,k);break e}}else for(U=f.child,U!==null&&(U.return=f);U!==null;){var pe=U.dependencies;if(pe!==null){ae=U.child;for(var Ne=pe.firstContext;Ne!==null;){if(Ne.context===P){if(U.tag===1){Ne=Pl(-1,k&-k),Ne.tag=2;var Fe=U.updateQueue;if(Fe!==null){Fe=Fe.shared;var lt=Fe.pending;lt===null?Ne.next=Ne:(Ne.next=lt.next,lt.next=Ne),Fe.pending=Ne}}U.lanes|=k,Ne=U.alternate,Ne!==null&&(Ne.lanes|=k),Lv(U.return,k,f),pe.lanes|=k;break}Ne=Ne.next}}else if(U.tag===10)ae=U.type===f.type?null:U.child;else if(U.tag===18){if(ae=U.return,ae===null)throw Error(a(341));ae.lanes|=k,pe=ae.alternate,pe!==null&&(pe.lanes|=k),Lv(ae,k,f),ae=U.sibling}else ae=U.child;if(ae!==null)ae.return=U;else for(ae=U;ae!==null;){if(ae===f){ae=null;break}if(U=ae.sibling,U!==null){U.return=ae.return,ae=U;break}ae=ae.return}U=ae}ys(u,f,R.children,k),f=f.child}return f;case 9:return R=f.type,P=f.pendingProps.children,Vu(f,k),R=Ai(R),P=P(R),f.flags|=1,ys(u,f,P,k),f.child;case 14:return P=f.type,R=so(P,f.pendingProps),R=so(P.type,R),$P(u,f,P,R,k);case 15:return FP(u,f,f.type,f.pendingProps,k);case 17:return P=f.type,R=f.pendingProps,R=f.elementType===P?R:so(P,R),Ff(u,f),f.tag=1,Bs(P)?(u=!0,wf(f)):u=!1,Vu(f,k),AP(f,P,R),ek(f,P,R,k),nk(null,f,P,!0,u,k);case 19:return QP(u,f,k);case 22:return zP(u,f,k)}throw Error(a(156,f.tag))};function y4(u,f){return Re(u,f)}function v9(u,f,k,P){this.tag=u,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(u,f,k,P){return new v9(u,f,k,P)}function Nk(u){return u=u.prototype,!(!u||!u.isReactComponent)}function k9(u){if(typeof u=="function")return Nk(u)?1:0;if(u!=null){if(u=u.$$typeof,u===B)return 11;if(u===ce)return 14}return 2}function Od(u,f){var k=u.alternate;return k===null?(k=Oi(u.tag,f,u.key,u.mode),k.elementType=u.elementType,k.type=u.type,k.stateNode=u.stateNode,k.alternate=u,u.alternate=k):(k.pendingProps=f,k.type=u.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=u.flags&14680064,k.childLanes=u.childLanes,k.lanes=u.lanes,k.child=u.child,k.memoizedProps=u.memoizedProps,k.memoizedState=u.memoizedState,k.updateQueue=u.updateQueue,f=u.dependencies,k.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},k.sibling=u.sibling,k.index=u.index,k.ref=u.ref,k}function Zf(u,f,k,P,R,U){var ae=2;if(P=u,typeof u=="function")Nk(u)&&(ae=1);else if(typeof u=="string")ae=5;else e:switch(u){case D:return Pc(k.children,R,U,f);case E:ae=8,R|=8;break;case X:return u=Oi(12,k,f,R|2),u.elementType=X,u.lanes=U,u;case G:return u=Oi(13,k,f,R),u.elementType=G,u.lanes=U,u;case J:return u=Oi(19,k,f,R),u.elementType=J,u.lanes=U,u;case K:return Xf(k,R,U,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case ee:ae=10;break e;case Z:ae=9;break e;case B:ae=11;break e;case ce:ae=14;break e;case te:ae=16,P=null;break e}throw Error(a(130,u==null?u:typeof u,""))}return f=Oi(ae,k,f,R),f.elementType=u,f.type=P,f.lanes=U,f}function Pc(u,f,k,P){return u=Oi(7,u,P,f),u.lanes=k,u}function Xf(u,f,k,P){return u=Oi(22,u,P,f),u.elementType=K,u.lanes=k,u.stateNode={isHidden:!1},u}function Ck(u,f,k){return u=Oi(6,u,null,f),u.lanes=k,u}function Sk(u,f,k){return f=Oi(4,u.children!==null?u.children:[],u.key,f),f.lanes=k,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function w9(u,f,k,P,R){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yr(0),this.expirationTimes=yr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.identifierPrefix=P,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function Pk(u,f,k,P,R,U,ae,pe,Ne){return u=new w9(u,f,k,pe,Ne),f===1?(f=1,U===!0&&(f|=8)):f=0,U=Oi(3,null,null,f),u.current=U,U.stateNode=u,U.memoizedState={element:P,isDehydrated:k,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fv(U),u}function j9(u,f,k){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:P==null?null:""+P,children:u,containerInfo:f,implementation:k}}function b4(u){if(!u)return Cd;u=u._reactInternals;e:{if(Cn(u)!==u||u.tag!==1)throw Error(a(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Bs(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(a(171))}if(u.tag===1){var k=u.type;if(Bs(k))return KS(u,k,f)}return f}function v4(u,f,k,P,R,U,ae,pe,Ne){return u=Pk(k,P,!0,u,R,U,ae,pe,Ne),u.context=b4(null),k=u.current,P=bs(),R=Ed(k),U=Pl(P,R),U.callback=f??null,Md(k,U,R),u.current.lanes=R,dt(u,R,P),Fs(u,P),u}function Jf(u,f,k,P){var R=f.current,U=bs(),ae=Ed(R);return k=b4(k),f.context===null?f.context=k:f.pendingContext=k,f=Pl(U,ae),f.payload={element:u},P=P===void 0?null:P,P!==null&&(f.callback=P),u=Md(R,f,ae),u!==null&&(lo(u,R,ae,U),If(u,R,ae)),ae}function ep(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function k4(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var k=u.retryLane;u.retryLane=k!==0&&k<f?k:f}}function Mk(u,f){k4(u,f),(u=u.alternate)&&k4(u,f)}function N9(){return null}var w4=typeof reportError=="function"?reportError:function(u){console.error(u)};function Tk(u){this._internalRoot=u}tp.prototype.render=Tk.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(a(409));Jf(u,f,null,null)},tp.prototype.unmount=Tk.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;Nc(function(){Jf(null,u,null,null)}),f[Gr]=null}};function tp(u){this._internalRoot=u}tp.prototype.unstable_scheduleHydration=function(u){if(u){var f=ic();u={blockedOn:null,target:u,priority:f};for(var k=0;k<un.length&&f!==0&&f<un[k].priority;k++);un.splice(k,0,u),k===0&&bu(u)}};function Ik(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function rp(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function j4(){}function C9(u,f,k,P,R){if(R){if(typeof P=="function"){var U=P;P=function(){var Fe=ep(ae);U.call(Fe)}}var ae=v4(f,P,u,0,null,!1,!1,"",j4);return u._reactRootContainer=ae,u[Gr]=ae.current,vd(u.nodeType===8?u.parentNode:u),Nc(),ae}for(;R=u.lastChild;)u.removeChild(R);if(typeof P=="function"){var pe=P;P=function(){var Fe=ep(Ne);pe.call(Fe)}}var Ne=Pk(u,0,!1,null,null,!1,!1,"",j4);return u._reactRootContainer=Ne,u[Gr]=Ne.current,vd(u.nodeType===8?u.parentNode:u),Nc(function(){Jf(f,Ne,k,P)}),Ne}function ap(u,f,k,P,R){var U=k._reactRootContainer;if(U){var ae=U;if(typeof R=="function"){var pe=R;R=function(){var Ne=ep(ae);pe.call(Ne)}}Jf(f,ae,u,R)}else ae=C9(k,f,u,R,P);return ep(ae)}cl=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var k=We(f.pendingLanes);k!==0&&(ba(f,k|1),Fs(f,Dt()),(zr&6)===0&&(Gu=Dt()+500,Sd()))}break;case 13:Nc(function(){var P=Sl(u,1);if(P!==null){var R=bs();lo(P,u,1,R)}}),Mk(u,1)}},ti=function(u){if(u.tag===13){var f=Sl(u,134217728);if(f!==null){var k=bs();lo(f,u,134217728,k)}Mk(u,134217728)}},ul=function(u){if(u.tag===13){var f=Ed(u),k=Sl(u,f);if(k!==null){var P=bs();lo(k,u,f,P)}Mk(u,f)}},ic=function(){return Nr},br=function(u,f){var k=Nr;try{return Nr=u,f()}finally{Nr=k}},Ye=function(u,f,k){switch(f){case"input":if(ze(u,k),f=k.name,k.type==="radio"&&f!=null){for(k=u;k.parentNode;)k=k.parentNode;for(k=k.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<k.length;f++){var P=k[f];if(P!==u&&P.form===u.form){var R=Du(P);if(!R)throw Error(a(90));se(P),ze(P,R)}}}break;case"textarea":nt(u,k);break;case"select":f=k.value,f!=null&&qt(u,!!k.multiple,f,!1)}},Ve=kk,St=Nc;var S9={usingClientEntryPoint:!1,Events:[kl,wl,Du,gr,sa,kk]},Vg={findFiberByHostInstance:vl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P9={bundleType:Vg.bundleType,version:Vg.version,rendererPackageName:Vg.rendererPackageName,rendererConfig:Vg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=jt(u),u===null?null:u.stateNode},findFiberByHostInstance:Vg.findFiberByHostInstance||N9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!np.isDisabled&&np.supportsFiber)try{Te=np.inject(P9),at=np}catch{}}return zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S9,zs.createPortal=function(u,f){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ik(f))throw Error(a(200));return j9(u,f,null,k)},zs.createRoot=function(u,f){if(!Ik(u))throw Error(a(299));var k=!1,P="",R=w4;return f!=null&&(f.unstable_strictMode===!0&&(k=!0),f.identifierPrefix!==void 0&&(P=f.identifierPrefix),f.onRecoverableError!==void 0&&(R=f.onRecoverableError)),f=Pk(u,1,!1,null,null,k,!1,P,R),u[Gr]=f.current,vd(u.nodeType===8?u.parentNode:u),new Tk(f)},zs.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(a(188)):(u=Object.keys(u).join(","),Error(a(268,u)));return u=jt(f),u=u===null?null:u.stateNode,u},zs.flushSync=function(u){return Nc(u)},zs.hydrate=function(u,f,k){if(!rp(f))throw Error(a(200));return ap(null,u,f,!0,k)},zs.hydrateRoot=function(u,f,k){if(!Ik(u))throw Error(a(405));var P=k!=null&&k.hydratedSources||null,R=!1,U="",ae=w4;if(k!=null&&(k.unstable_strictMode===!0&&(R=!0),k.identifierPrefix!==void 0&&(U=k.identifierPrefix),k.onRecoverableError!==void 0&&(ae=k.onRecoverableError)),f=v4(f,null,u,1,k??null,R,!1,U,ae),u[Gr]=f.current,vd(u),P)for(u=0;u<P.length;u++)k=P[u],R=k._getVersion,R=R(k._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[k,R]:f.mutableSourceEagerHydrationData.push(k,R);return new tp(f)},zs.render=function(u,f,k){if(!rp(f))throw Error(a(200));return ap(null,u,f,!1,k)},zs.unmountComponentAtNode=function(u){if(!rp(u))throw Error(a(40));return u._reactRootContainer?(Nc(function(){ap(null,null,u,!1,function(){u._reactRootContainer=null,u[Gr]=null})}),!0):!1},zs.unstable_batchedUpdates=kk,zs.unstable_renderSubtreeIntoContainer=function(u,f,k,P){if(!rp(k))throw Error(a(200));if(u==null||u._reactInternals===void 0)throw Error(a(38));return ap(u,f,k,!1,P)},zs.version="18.3.1-next-f1338f8080-20240426",zs}var A4;function YE(){if(A4)return _k.exports;A4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_k.exports=R9(),_k.exports}var E4;function D9(){if(E4)return sp;E4=1;var e=YE();return sp.createRoot=e.createRoot,sp.hydrateRoot=e.hydrateRoot,sp}var B9=D9();const L9=Mo(B9);var _4="popstate";function $9(e={}){function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return Jj("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function a(n,s){return typeof s=="string"?s:Th(s)}return z9(t,a,null,e)}function Sa(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function F9(){return Math.random().toString(36).substring(2,10)}function O4(e,t){return{usr:e.state,key:e.key,idx:t}}function Jj(e,t,a=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?qm(t):t,state:a,key:t&&t.key||n||F9()}}function Th({pathname:e="/",search:t="",hash:a=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function qm(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function z9(e,t,a,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l="POP",d=null,c=g();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function g(){return(o.state||{idx:null}).idx}function h(){l="POP";let w=g(),S=w==null?null:w-c;c=w,d&&d({action:l,location:j.location,delta:S})}function x(w,S){l="PUSH";let M=Jj(j.location,w,S);c=g()+1;let T=O4(M,c),A=j.createHref(M);try{o.pushState(T,"",A)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(A)}i&&d&&d({action:l,location:j.location,delta:1})}function b(w,S){l="REPLACE";let M=Jj(j.location,w,S);c=g();let T=O4(M,c),A=j.createHref(M);o.replaceState(T,"",A),i&&d&&d({action:l,location:j.location,delta:0})}function v(w){return U9(w)}let j={get action(){return l},get location(){return e(s,o)},listen(w){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(_4,h),d=w,()=>{s.removeEventListener(_4,h),d=null}},createHref(w){return t(s,w)},createURL:v,encodeLocation(w){let S=v(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:b,go(w){return o.go(w)}};return j}function U9(e,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Sa(a,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Th(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=a+n),new URL(n,a)}function ZE(e,t,a="/"){return q9(e,t,a,!1)}function q9(e,t,a,n){let s=typeof t=="string"?qm(t):t,i=Vl(s.pathname||"/",a);if(i==null)return null;let o=XE(e);V9(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let c=tz(i);l=J9(o[d],c,n)}return l}function XE(e,t=[],a=[],n="",s=!1){let i=(o,l,d=s,c)=>{let g={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(n)&&d)return;Sa(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length)}let h=Ll([n,g.relativePath]),x=a.concat(g);o.children&&o.children.length>0&&(Sa(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),XE(o.children,t,x,h,d)),!(o.path==null&&!o.index)&&t.push({path:h,score:Z9(h,o.index),routesMeta:x})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let d of JE(o.path))i(o,l,!0,d)}),t}function JE(e){let t=e.split("/");if(t.length===0)return[];let[a,...n]=t,s=a.endsWith("?"),i=a.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=JE(n.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),s&&l.push(...o),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function V9(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:X9(t.routesMeta.map(n=>n.childrenIndex),a.routesMeta.map(n=>n.childrenIndex)))}var H9=/^:[\w-]+$/,W9=3,K9=2,Q9=1,G9=10,Y9=-2,R4=e=>e==="*";function Z9(e,t){let a=e.split("/"),n=a.length;return a.some(R4)&&(n+=Y9),t&&(n+=K9),a.filter(s=>!R4(s)).reduce((s,i)=>s+(H9.test(i)?W9:i===""?Q9:G9),n)}function X9(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function J9(e,t,a=!1){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let d=n[l],c=l===n.length-1,g=i==="/"?t:t.slice(i.length)||"/",h=gx({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},g),x=d.route;if(!h&&c&&a&&!n[n.length-1].route.index&&(h=gx({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ll([i,h.pathname]),pathnameBase:iz(Ll([i,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(i=Ll([i,h.pathnameBase]))}return o}function gx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,n]=ez(e.path,e.caseSensitive,e.end),s=t.match(a);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,{paramName:g,isOptional:h},x)=>{if(g==="*"){let v=l[x]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const b=l[x];return h&&!b?c[g]=void 0:c[g]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function ez(e,t=!1,a=!0){bi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function tz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Vl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=e.charAt(a);return n&&n!=="/"?null:e.slice(a)||"/"}var rz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,az=e=>rz.test(e);function nz(e,t="/"){let{pathname:a,search:n="",hash:s=""}=typeof e=="string"?qm(e):e,i;if(a)if(az(a))i=a;else{if(a.includes("//")){let o=a;a=a.replace(/\/\/+/g,"/"),bi(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${a}`)}a.startsWith("/")?i=D4(a.substring(1),"/"):i=D4(a,t)}else i=t;return{pathname:i,search:oz(n),hash:lz(s)}}function D4(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?a.length>1&&a.pop():s!=="."&&a.push(s)}),a.length>1?a.join("/"):"/"}function Dk(e,t,a,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sz(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function B1(e){let t=sz(e);return t.map((a,n)=>n===t.length-1?a.pathname:a.pathnameBase)}function L1(e,t,a,n=!1){let s;typeof e=="string"?s=qm(e):(s={...e},Sa(!s.pathname||!s.pathname.includes("?"),Dk("?","pathname","search",s)),Sa(!s.pathname||!s.pathname.includes("#"),Dk("#","pathname","hash",s)),Sa(!s.search||!s.search.includes("#"),Dk("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=a;else{let h=t.length-1;if(!n&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),h-=1;s.pathname=x.join("/")}l=h>=0?t[h]:"/"}let d=nz(s,l),c=o&&o!=="/"&&o.endsWith("/"),g=(i||o===".")&&a.endsWith("/");return!d.pathname.endsWith("/")&&(c||g)&&(d.pathname+="/"),d}var Ll=e=>e.join("/").replace(/\/\/+/g,"/"),iz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function cz(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var e_=["POST","PUT","PATCH","DELETE"];new Set(e_);var uz=["GET",...e_];new Set(uz);var Vm=p.createContext(null);Vm.displayName="DataRouter";var By=p.createContext(null);By.displayName="DataRouterState";p.createContext(!1);var t_=p.createContext({isTransitioning:!1});t_.displayName="ViewTransition";var mz=p.createContext(new Map);mz.displayName="Fetchers";var gz=p.createContext(null);gz.displayName="Await";var Zi=p.createContext(null);Zi.displayName="Navigation";var s0=p.createContext(null);s0.displayName="Location";var Xi=p.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var $1=p.createContext(null);$1.displayName="RouteError";function hz(e,{relative:t}={}){Sa(Hm(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=p.useContext(Zi),{hash:s,pathname:i,search:o}=i0(e,{relative:t}),l=i;return a!=="/"&&(l=i==="/"?a:Ll([a,i])),n.createHref({pathname:l,search:o,hash:s})}function Hm(){return p.useContext(s0)!=null}function gs(){return Sa(Hm(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(s0).location}var r_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a_(e){p.useContext(Zi).static||p.useLayoutEffect(e)}function Ra(){let{isDataRoute:e}=p.useContext(Xi);return e?Tz():fz()}function fz(){Sa(Hm(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(Vm),{basename:t,navigator:a}=p.useContext(Zi),{matches:n}=p.useContext(Xi),{pathname:s}=gs(),i=JSON.stringify(B1(n)),o=p.useRef(!1);return a_(()=>{o.current=!0}),p.useCallback((d,c={})=>{if(bi(o.current,r_),!o.current)return;if(typeof d=="number"){a.go(d);return}let g=L1(d,JSON.parse(i),s,c.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Ll([t,g.pathname])),(c.replace?a.replace:a.push)(g,c.state,c)},[t,a,i,s,e])}var pz=p.createContext(null);function xz(e){let t=p.useContext(Xi).outlet;return p.useMemo(()=>t&&p.createElement(pz.Provider,{value:e},t),[t,e])}function n_(){let{matches:e}=p.useContext(Xi),t=e[e.length-1];return t?t.params:{}}function i0(e,{relative:t}={}){let{matches:a}=p.useContext(Xi),{pathname:n}=gs(),s=JSON.stringify(B1(a));return p.useMemo(()=>L1(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function yz(e,t){return s_(e,t)}function s_(e,t,a,n,s){Sa(Hm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=p.useContext(Zi),{matches:o}=p.useContext(Xi),l=o[o.length-1],d=l?l.params:{},c=l?l.pathname:"/",g=l?l.pathnameBase:"/",h=l&&l.route;{let M=h&&h.path||"";i_(c,!h||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let x=gs(),b;if(t){let M=typeof t=="string"?qm(t):t;Sa(g==="/"||M.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),b=M}else b=x;let v=b.pathname||"/",j=v;if(g!=="/"){let M=g.replace(/^\//,"").split("/");j="/"+v.replace(/^\//,"").split("/").slice(M.length).join("/")}let w=ZE(e,{pathname:j});bi(h||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),bi(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=jz(w&&w.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Ll([g,i.encodeLocation?i.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:Ll([g,i.encodeLocation?i.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),o,a,n,s);return t&&S?p.createElement(s0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},S):S}function bz(){let e=Mz(),t=dz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:i},"ErrorBoundary")," or"," ",p.createElement("code",{style:i},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),a?p.createElement("pre",{style:s},a):null,o)}var vz=p.createElement(bz,null),kz=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?p.createElement(Xi.Provider,{value:this.props.routeContext},p.createElement($1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wz({routeContext:e,match:t,children:a}){let n=p.useContext(Vm);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(Xi.Provider,{value:e},a)}function jz(e,t=[],a=null,n=null,s=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let i=e,o=a?.errors;if(o!=null){let g=i.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);Sa(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,g+1))}let l=!1,d=-1;if(a)for(let g=0;g<i.length;g++){let h=i[g];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=g),h.route.id){let{loaderData:x,errors:b}=a,v=h.route.loader&&!x.hasOwnProperty(h.route.id)&&(!b||b[h.route.id]===void 0);if(h.route.lazy||v){l=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let c=a&&n?(g,h)=>{n(g,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:cz(a.matches),errorInfo:h})}:void 0;return i.reduceRight((g,h,x)=>{let b,v=!1,j=null,w=null;a&&(b=o&&h.route.id?o[h.route.id]:void 0,j=h.route.errorElement||vz,l&&(d<0&&x===0?(i_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):d===x&&(v=!0,w=h.route.hydrateFallbackElement||null)));let S=t.concat(i.slice(0,x+1)),M=()=>{let T;return b?T=j:v?T=w:h.route.Component?T=p.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=g,p.createElement(wz,{match:h,routeContext:{outlet:g,matches:S,isDataRoute:a!=null},children:T})};return a&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?p.createElement(kz,{location:a.location,revalidation:a.revalidation,component:j,error:b,children:M(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:c}):M()},null)}function F1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nz(e){let t=p.useContext(Vm);return Sa(t,F1(e)),t}function Cz(e){let t=p.useContext(By);return Sa(t,F1(e)),t}function Sz(e){let t=p.useContext(Xi);return Sa(t,F1(e)),t}function z1(e){let t=Sz(e),a=t.matches[t.matches.length-1];return Sa(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function Pz(){return z1("useRouteId")}function Mz(){let e=p.useContext($1),t=Cz("useRouteError"),a=z1("useRouteError");return e!==void 0?e:t.errors?.[a]}function Tz(){let{router:e}=Nz("useNavigate"),t=z1("useNavigate"),a=p.useRef(!1);return a_(()=>{a.current=!0}),p.useCallback(async(s,i={})=>{bi(a.current,r_),a.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var B4={};function i_(e,t,a){!t&&!B4[e]&&(B4[e]=!0,bi(!1,a))}p.memo(Iz);function Iz({routes:e,future:t,state:a,unstable_onError:n}){return s_(e,void 0,a,n,t)}function qp({to:e,replace:t,state:a,relative:n}){Sa(Hm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=p.useContext(Zi);bi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=p.useContext(Xi),{pathname:o}=gs(),l=Ra(),d=L1(e,B1(i),o,n==="path"),c=JSON.stringify(d);return p.useEffect(()=>{l(JSON.parse(c),{replace:t,state:a,relative:n})},[l,c,n,t,a]),null}function Az(e){return xz(e.context)}function ts(e){Sa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ez({basename:e="/",children:t=null,location:a,navigationType:n="POP",navigator:s,static:i=!1,unstable_useTransitions:o}){Sa(!Hm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:l,navigator:s,static:i,unstable_useTransitions:o,future:{}}),[l,s,i,o]);typeof a=="string"&&(a=qm(a));let{pathname:c="/",search:g="",hash:h="",state:x=null,key:b="default"}=a,v=p.useMemo(()=>{let j=Vl(c,l);return j==null?null:{location:{pathname:j,search:g,hash:h,state:x,key:b},navigationType:n}},[l,c,g,h,x,b,n]);return bi(v!=null,`<Router basename="${l}"> is not able to match the URL "${c}${g}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:p.createElement(Zi.Provider,{value:d},p.createElement(s0.Provider,{children:t,value:v}))}function _z({children:e,location:t}){return yz(eN(e),t)}function eN(e,t=[]){let a=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let i=[...t,s];if(n.type===p.Fragment){a.push.apply(a,eN(n.props.children,i));return}Sa(n.type===ts,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Sa(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=eN(n.props.children,i)),a.push(o)}),a}var Vp="get",Hp="application/x-www-form-urlencoded";function Ly(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Oz(e){return Ly(e)&&e.tagName.toLowerCase()==="button"}function Rz(e){return Ly(e)&&e.tagName.toLowerCase()==="form"}function Dz(e){return Ly(e)&&e.tagName.toLowerCase()==="input"}function Bz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Lz(e,t){return e.button===0&&(!t||t==="_self")&&!Bz(e)}function tN(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,a)=>{let n=e[a];return t.concat(Array.isArray(n)?n.map(s=>[a,s]):[[a,n]])},[]))}function $z(e,t){let a=tN(e);return t&&t.forEach((n,s)=>{a.has(s)||t.getAll(s).forEach(i=>{a.append(s,i)})}),a}var ip=null;function Fz(){if(ip===null)try{new FormData(document.createElement("form"),0),ip=!1}catch{ip=!0}return ip}var zz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bk(e){return e!=null&&!zz.has(e)?(bi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hp}"`),null):e}function Uz(e,t){let a,n,s,i,o;if(Rz(e)){let l=e.getAttribute("action");n=l?Vl(l,t):null,a=e.getAttribute("method")||Vp,s=Bk(e.getAttribute("enctype"))||Hp,i=new FormData(e)}else if(Oz(e)||Dz(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||l.getAttribute("action");if(n=d?Vl(d,t):null,a=e.getAttribute("formmethod")||l.getAttribute("method")||Vp,s=Bk(e.getAttribute("formenctype"))||Bk(l.getAttribute("enctype"))||Hp,i=new FormData(l,e),!Fz()){let{name:c,type:g,value:h}=e;if(g==="image"){let x=c?`${c}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else c&&i.append(c,h)}}else{if(Ly(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Vp,n=null,s=Hp,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:a.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function U1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qz(e,t,a){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${a}`:t&&Vl(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${a}`,n}async function Vz(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Hz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Wz(e,t,a){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await Vz(i,a);return o.links?o.links():[]}return[]}));return Yz(n.flat(1).filter(Hz).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function L4(e,t,a,n,s,i){let o=(d,c)=>a[c]?d.route.id!==a[c].route.id:!0,l=(d,c)=>a[c].pathname!==d.pathname||a[c].route.path?.endsWith("*")&&a[c].params["*"]!==d.params["*"];return i==="assets"?t.filter((d,c)=>o(d,c)||l(d,c)):i==="data"?t.filter((d,c)=>{let g=n.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(o(d,c)||l(d,c))return!0;if(d.route.shouldRevalidate){let h=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Kz(e,t,{includeHydrateFallback:a}={}){return Qz(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),a&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Qz(e){return[...new Set(e)]}function Gz(e){let t={},a=Object.keys(e).sort();for(let n of a)t[n]=e[n];return t}function Yz(e,t){let a=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(Gz(s));return a.has(i)||(a.add(i),n.push({key:i,link:s})),n},[])}function o_(){let e=p.useContext(Vm);return U1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Zz(){let e=p.useContext(By);return U1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var q1=p.createContext(void 0);q1.displayName="FrameworkContext";function l_(){let e=p.useContext(q1);return U1(e,"You must render this element inside a <HydratedRouter> element"),e}function Xz(e,t){let a=p.useContext(q1),[n,s]=p.useState(!1),[i,o]=p.useState(!1),{onFocus:l,onBlur:d,onMouseEnter:c,onMouseLeave:g,onTouchStart:h}=t,x=p.useRef(null);p.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let j=S=>{S.forEach(M=>{o(M.isIntersecting)})},w=new IntersectionObserver(j,{threshold:.5});return x.current&&w.observe(x.current),()=>{w.disconnect()}}},[e]),p.useEffect(()=>{if(n){let j=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(j)}}},[n]);let b=()=>{s(!0)},v=()=>{s(!1),o(!1)};return a?e!=="intent"?[i,x,{}]:[i,x,{onFocus:Wg(l,b),onBlur:Wg(d,v),onMouseEnter:Wg(c,b),onMouseLeave:Wg(g,v),onTouchStart:Wg(h,b)}]:[!1,x,{}]}function Wg(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function Jz({page:e,...t}){let{router:a}=o_(),n=p.useMemo(()=>ZE(a.routes,e,a.basename),[a.routes,e,a.basename]);return n?p.createElement(t8,{page:e,matches:n,...t}):null}function e8(e){let{manifest:t,routeModules:a}=l_(),[n,s]=p.useState([]);return p.useEffect(()=>{let i=!1;return Wz(e,t,a).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,a]),n}function t8({page:e,matches:t,...a}){let n=gs(),{manifest:s,routeModules:i}=l_(),{basename:o}=o_(),{loaderData:l,matches:d}=Zz(),c=p.useMemo(()=>L4(e,t,d,s,n,"data"),[e,t,d,s,n]),g=p.useMemo(()=>L4(e,t,d,s,n,"assets"),[e,t,d,s,n]),h=p.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let v=new Set,j=!1;if(t.forEach(S=>{let M=s.routes[S.route.id];!M||!M.hasLoader||(!c.some(T=>T.route.id===S.route.id)&&S.route.id in l&&i[S.route.id]?.shouldRevalidate||M.hasClientLoader?j=!0:v.add(S.route.id))}),v.size===0)return[];let w=qz(e,o,"data");return j&&v.size>0&&w.searchParams.set("_routes",t.filter(S=>v.has(S.route.id)).map(S=>S.route.id).join(",")),[w.pathname+w.search]},[o,l,n,s,c,t,e,i]),x=p.useMemo(()=>Kz(g,s),[g,s]),b=e8(g);return p.createElement(p.Fragment,null,h.map(v=>p.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...a})),x.map(v=>p.createElement("link",{key:v,rel:"modulepreload",href:v,...a})),b.map(({key:v,link:j})=>p.createElement("link",{key:v,nonce:a.nonce,...j})))}function r8(...e){return t=>{e.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var d_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d_&&(window.__reactRouterVersion="7.10.1")}catch{}function a8({basename:e,children:t,unstable_useTransitions:a,window:n}){let s=p.useRef();s.current==null&&(s.current=$9({window:n,v5Compat:!0}));let i=s.current,[o,l]=p.useState({action:i.action,location:i.location}),d=p.useCallback(c=>{a===!1?l(c):p.startTransition(()=>l(c))},[a]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.createElement(Ez,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:a===!0})}var c_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ls=p.forwardRef(function({onClick:t,discover:a="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:l,target:d,to:c,preventScrollReset:g,viewTransition:h,...x},b){let{basename:v,unstable_useTransitions:j}=p.useContext(Zi),w=typeof c=="string"&&c_.test(c),S,M=!1;if(typeof c=="string"&&w&&(S=c,d_))try{let ee=new URL(window.location.href),Z=c.startsWith("//")?new URL(ee.protocol+c):new URL(c),B=Vl(Z.pathname,v);Z.origin===ee.origin&&B!=null?c=B+Z.search+Z.hash:M=!0}catch{bi(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=hz(c,{relative:s}),[A,I,_]=Xz(n,x),D=o8(c,{replace:o,state:l,target:d,preventScrollReset:g,relative:s,viewTransition:h,unstable_useTransitions:j});function E(ee){t&&t(ee),ee.defaultPrevented||D(ee)}let X=p.createElement("a",{...x,..._,href:S||T,onClick:M||i?t:E,ref:r8(b,I),target:d,"data-discover":!w&&a==="render"?"true":void 0});return A&&!w?p.createElement(p.Fragment,null,X,p.createElement(Jz,{page:T})):X});ls.displayName="Link";var n8=p.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:l,children:d,...c},g){let h=i0(o,{relative:c.relative}),x=gs(),b=p.useContext(By),{navigator:v,basename:j}=p.useContext(Zi),w=b!=null&&g8(h)&&l===!0,S=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,M=x.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;a||(M=M.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&j&&(T=Vl(T,j)||T);const A=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let I=M===S||!s&&M.startsWith(S)&&M.charAt(A)==="/",_=T!=null&&(T===S||!s&&T.startsWith(S)&&T.charAt(S.length)==="/"),D={isActive:I,isPending:_,isTransitioning:w},E=I?t:void 0,X;typeof n=="function"?X=n(D):X=[n,I?"active":null,_?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let ee=typeof i=="function"?i(D):i;return p.createElement(ls,{...c,"aria-current":E,className:X,ref:g,style:ee,to:o,viewTransition:l},typeof d=="function"?d(D):d)});n8.displayName="NavLink";var s8=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:n,replace:s,state:i,method:o=Vp,action:l,onSubmit:d,relative:c,preventScrollReset:g,viewTransition:h,...x},b)=>{let{unstable_useTransitions:v}=p.useContext(Zi),j=u8(),w=m8(l,{relative:c}),S=o.toLowerCase()==="get"?"get":"post",M=typeof l=="string"&&c_.test(l),T=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let I=A.nativeEvent.submitter,_=I?.getAttribute("formmethod")||o,D=()=>j(I||A.currentTarget,{fetcherKey:t,method:_,navigate:a,replace:s,state:i,relative:c,preventScrollReset:g,viewTransition:h});v&&a!==!1?p.startTransition(()=>D()):D()};return p.createElement("form",{ref:b,method:S,action:w,onSubmit:n?d:T,...x,"data-discover":!M&&e==="render"?"true":void 0})});s8.displayName="Form";function i8(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u_(e){let t=p.useContext(Vm);return Sa(t,i8(e)),t}function o8(e,{target:t,replace:a,state:n,preventScrollReset:s,relative:i,viewTransition:o,unstable_useTransitions:l}={}){let d=Ra(),c=gs(),g=i0(e,{relative:i});return p.useCallback(h=>{if(Lz(h,t)){h.preventDefault();let x=a!==void 0?a:Th(c)===Th(g),b=()=>d(e,{replace:x,state:n,preventScrollReset:s,relative:i,viewTransition:o});l?p.startTransition(()=>b()):b()}},[c,d,g,a,n,t,e,s,i,o,l])}function l8(e){bi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=p.useRef(tN(e)),a=p.useRef(!1),n=gs(),s=p.useMemo(()=>$z(n.search,a.current?null:t.current),[n.search]),i=Ra(),o=p.useCallback((l,d)=>{const c=tN(typeof l=="function"?l(new URLSearchParams(s)):l);a.current=!0,i("?"+c,d)},[i,s]);return[s,o]}var d8=0,c8=()=>`__${String(++d8)}__`;function u8(){let{router:e}=u_("useSubmit"),{basename:t}=p.useContext(Zi),a=Pz(),n=e.fetch,s=e.navigate;return p.useCallback(async(i,o={})=>{let{action:l,method:d,encType:c,formData:g,body:h}=Uz(i,t);if(o.navigate===!1){let x=o.fetcherKey||c8();await n(x,a,o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:h,formMethod:o.method||d,formEncType:o.encType||c,flushSync:o.flushSync})}else await s(o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:h,formMethod:o.method||d,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:a,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,s,t,a])}function m8(e,{relative:t}={}){let{basename:a}=p.useContext(Zi),n=p.useContext(Xi);Sa(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...i0(e||".",{relative:t})},o=gs();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),d=l.getAll("index");if(d.some(g=>g==="")){l.delete("index"),d.filter(h=>h).forEach(h=>l.append("index",h));let g=l.toString();i.search=g?`?${g}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(i.pathname=i.pathname==="/"?a:Ll([a,i.pathname])),Th(i)}function g8(e,{relative:t}={}){let a=p.useContext(t_);Sa(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=u_("useViewTransitionState"),s=i0(e,{relative:t});if(!a.isTransitioning)return!1;let i=Vl(a.currentLocation.pathname,n)||a.currentLocation.pathname,o=Vl(a.nextLocation.pathname,n)||a.nextLocation.pathname;return gx(s.pathname,o)!=null||gx(s.pathname,i)!=null}var qd=YE();const m_=p.createContext(void 0),tc=()=>{const e=p.useContext(m_);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},h8=({children:e})=>{const[t,a]=p.useState(()=>{const i=localStorage.getItem("theme");return i?i==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});p.useEffect(()=>{const i=window.document.documentElement;t?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem("theme",t?"dark":"light")},[t]);const s={isDark:t,toggleTheme:()=>{a(!t)}};return r.jsx(m_.Provider,{value:s,children:e})},f8={common:{loading:"Ykleniyor...",change:"Deitir",error:"Hata",success:"Baarl",emailAddress:"E-posta Adresi",emailPlaceholder:"you@example.com",cancel:"ptal",save:"Kaydet",delete:"Sil",edit:"Dzenle",add:"Ekle",search:"Ara",filter:"Filtrele",close:"Kapat",open:"A",yes:"Evet",no:"Hayr",next:"leri",previous:"Geri",continue:"Devam Et",refresh:"Sayfay Yenile",clear:"Temizle",filters:"Filtreler",allStatuses:"Tm Durumlar",pending:"Beklemede",delivered:"Teslim Edildi",cancelled:"ptal Edildi",dateRange:"Tarih Aral",today:"Bugn",yesterday:"Dn",last7Days:"Son 7 Gn",last30Days:"Son 30 Gn",thisMonth:"Bu Ay",lastMonth:"Geen Ay",retry:"Tekrar Dene"},filter:{status:"Durum",all:"Tm",active:"Aktif",inactive:"Pasif",categories:"Kategoriler",allergenic:"alerjenik",nonallergenic:"alerjenik olmayan",specific:{allergens:"alerjenler"},price:{range:"Fiyat Aral",min:"Min Fiyat",max:"Max Fiyat"}},sort:{title:"Srala",name:{asc:"sim (A-Z)",desc:"sim (Z-A)"},price:{asc:"Fiyat (Dkten Yksee)",desc:"Fiyat (Yksekten De)"},order:{asc:"Grnt Sras (lkten Sona)",desc:"Grnt Sras (Sondan lke)"},created:{asc:"Oluturulma Tarihi (En Eskiden)",desc:"Oluturulma Tarihi (En Yeniden)"}},clear:{filters:"Filtreleri Temizle",all:"Tmn Temizle"},restaurantManagement:{tabs:{general:"Genel",legal:"Yasal",about:"Hakknda"},GenelBilgiler:"Genel Bilgiler"},nav:{home:"Ana Sayfa",features:"zellikler",pricing:"Fiyatlandrma",testimonials:"Yorumlar",faq:"SSS",contact:"letiim",login:"Giri",register:"Kayt Ol",logout:"k",profile:"Profil",settings:"Ayarlar",dashboard:"Panel",goToPanel:"Panele Git"},auth:{login:"Giri Yap",register:"Kayt Ol",logout:"k Yap",email:"E-posta",password:"ifre",confirmPassword:"ifre Onay",forgotPassword:"ifremi Unuttum",rememberMe:"Beni Hatrla",alreadyHaveAccount:"Zaten hesabnz var m?",dontHaveAccount:"Hesabnz yok mu?",signIn:"Giri Yap",signUp:"Kayt Ol"},hero:{title:{line1:"QR Men ile",line2:"Restorannz",line3:"Dijitalletirin"},subtitle:"Mterileriniz QR kod tarayarak mennze annda eriebilir. Temassz, hzl ve modern bir deneyim sunun.",features:{qrAccess:"QR Kod ile Hzl Eriim",mobileOptimized:"Mobil Optimizasyon",instantUpdate:"Anlk Gncelleme"},cta:{getStarted:"Hemen Bala",features:"zellikler"},socialProof:{restaurants:"500+ Mutlu Restoran",satisfaction:"%99 Mteri Memnuniyeti"}},dashboard:{overview:{title:"Genel Bak",description:"Restorannzn finansal ve operasyonel durumunu grntleyin.",loading:"Panel verileri ykleniyor...",refresh:"Yenile",errorTitle:"Panel verileri yklenemedi",kpis:{totalViews:"Toplam Grntleme",qrScans:"QR Taramalar",totalOrders:"Toplam Sipari",customerRating:"Mteri Puan",todaySales:"Bugnk Satlar",currentBalance:"Gncel Bakiye",weekRevenue:"Haftalk Gelir",monthRevenue:"Aylk Gelir",avgOrderValue:"Ort. Sipari Deeri",totalShifts:"Toplam Vardiyalar",changeTexts:{lastWeek:"Geen Haftaya Gre",lastMonth:"Geen Aya Gre",thisWeek:"Bu Hafta",today:"Bugn"}},quickStats:{thisMonth:"Bu Ay",totalOrders:"Toplam Sipari",average:"Ortalama",dailyOrders:"Gnlk Sipariler",new:"Yeni",customers:"Mteriler",rating:"Puan",totalCount:"Toplam Say",cashSales:"Nakit Sat",cardSales:"Kartl Sat",status:"Durum",open:"Ak",closed:"Kapal"},charts:{weeklyActivity:"Haftalk Aktivite",popularProducts:"Popler rnler",monthlyRevenue:"Aylk Gelir",paymentMethods:"deme Yntemleri",revenueComparison:"Gelir Karlatrmas",noData:"Veri mevcut deil"}},branches:{title:"ube Ynetimi",description:"ubelerinizi ynetin ve yeni ubeler ekleyin.",error:{loadFailed:"ubeler yklenirken bir hata olutu",createFailed:"ube oluturulurken bir hata olutu",updateFailed:"ube gncellenirken bir hata olutu",deleteFailed:"ube silinirken bir hata olutu",statusUpdateFailed:"ube durumu gncellenirken bir hata olutu",detailsLoadFailed:"ube detaylar yklenirken bir hata olutu",restaurantIdNotFound:"Restaurant ID bulunamad"},delete:{title:"ubeyi Sil",confirmMessage:'"{branchName}" ubesini silmek istediinizden emin misiniz? Bu ilem geri alnamaz.'}},orders:{title:"Sipariler",description:"Siparileri grntleyin ve ynetin.",loading:"Sipariler ykleniyor...",refresh:"Yenile",newOrder:"Yeni Sipari",tabs:{all:"Tm",pending:"Bekleyen",preparing:"Hazrlanan",ready:"Hazr",delivered:"Teslim Edilen",cancelled:"ptal Edilen"},status:{pending:"Bekliyor",preparing:"Hazrlanyor",ready:"Hazr",delivered:"Teslim Edildi",cancelled:"ptal Edildi"},stats:{totalOrders:"Toplam Sipari",totalRevenue:"Toplam Gelir",pendingOrders:"Bekleyen Sipariler",avgOrderValue:"Ortalama Sipari Deeri"}},moneyCase:{title:"Para Kasas Ynetimi"},orderType:{requiresPhone:"Telefon Numaras Gerektirir",requiresName:"sim Gerektirir",requiresTable:"Masa Seimi Gerektirir",estimatedMinutes:"Tahmini Dakika",requiresAddress:"Adres Gerektirir",title:"Sipari Tr Ayarlar",subtitle:"Sipari trlerinin aktiflik durumu, minimum tutar ve servis cretlerini ynetin",loading:"Sipari trleri ykleniyor...",pleaseWait:"Ltfen bekleyin",settingsUpdated:"ayarlar baaryla gncellendi",updateError:"Ayarlar gncellenirken hata olutu",loadingError:"Sipari trleri yklenirken hata olutu",active:"aktif",minutes:"dakika",requirements:"Gereksinimler",table:"Masa",address:"Adres",phone:"Telefon",activeStatus:"Aktif Durum",activeStatusDescription:"Bu sipari trn etkinletir/devre d brak",minOrderAmount:"Minimum Sipari Tutar",serviceCharge:"Servis creti",saveSettings:"Ayarlar Kaydet",updating:"Gncelleniyor...",totalOrderTypes:"Toplam Sipari Tr",activeTypes:"Aktif Trler",totalActiveOrders:"Toplam Aktif Sipari",estimatedTime:"Tahmini Sre"},products:{title:"rnler",description:"rnlerinizi grntleyin ve ynetin."},ingredients:{title:"erik"},extras:{title:"Ekstralar"},tables:{title:"Masa Ynetimi",description:"Masa ynetimi ilemleri.",loading:"Masalar ykleniyor...",selectBranch:"Masa ynetimi iin ltfen bir ube sein",noCategories:"Bu ubede henz masa Alan bulunmuyor",tableCount:"masa",newTable:"Yeni Masa Ekle"},users:{title:"Kullanc Ynetimi",description:"Kullanclar, rolleri ve izinleri ynetin.",loading:"Kullanclar ykleniyor...",tabs:{users:"Kullanclar",roles:"Roller"},stats:{total:"Toplam",active:"Aktif",users:"kullanc",roles:"rol",system:"Sistem",custom:"zel",totalUsers:"Toplam Kullanc"},error:{loadFailed:"Kullanclar yklenirken bir hata olutu",rolesLoadFailed:"Roller yklenirken bir hata olutu",createRoleFailed:"Rol oluturulamad",createUserFailed:"Kullanc oluturulamad"}},settings:{title:"Ayarlar",description:"Hesap ayarlarnz ynetin."},profile:{title:"Profil",description:"Kiisel bilgilerinizi grntleyin.",error:{loadFailed:"Profil bilgileri yklenirken bir hata olutu"},restaurantInfo:"Restoran Bilgileri"},restaurant:{title:"Restorant Ynetimi",refresh:"Yenile",description:"Restorant bilgilerinizi ve ayarlarnz ynetin.",loading:"Restoran bilgileri ykleniyor...",restaurantName:"Restoran Ad",restaurantStatus:"Restoran Durumu",restaurantLogo:"Restoran Logosu",companyInfo:"irket Bilgileri",addAboutInfo:"Restoran Hakknda Bilgisi Ekle",placeholders:{restaurantName:"Restoran adn girin",aboutStory:"Restoranmzn hikayesi",aboutDetails:"Restorannz hakknda detayl bilgi verin..."}},branchManagementTitle:"ube Ynetimi",ResturantManagment:{title:"Restoran Ynetimi"},sidebar:{title:"QR Men",logout:"k Yap",branch:"ube"}},theme:{toggleToDark:"Dark mode'a ge",toggleToLight:"Light mode'a ge",dark:"Karanlk",light:"Aydnlk"},language:{turkish:"Trke",english:"English",arabic:"",selectLanguage:"Dil Se"},settings:{title:"Ayarlar",description:"Hesap ayarlarnz ve tercihlerinizi ynetin",save:"Kaydet",saveSuccess:"Ayarlar baaryla kaydedildi.",tabs:{general:"Genel",notifications:"Bildirimler",privacy:"Gizlilik",appearance:"Grnm",data:"Veri"},general:{title:"Genel Ayarlar",description:"Temel hesap ayarlarnz yaplandrn",language:"Dil",timezone:"Saat Dilimi",dateFormat:"Tarih Format",currency:"Para Birimi",autoSave:{title:"Otomatik Kaydetme",description:"Otomatik kaydetme ayarlarnz ynetin",enabled:"Otomatik Kaydetme",enabledDesc:"Deiikliklerinizi otomatik olarak kaydeder",dataSync:"Veri Senkronizasyonu",dataSyncDesc:"Verilerinizi cihazlar arasnda senkronize eder"}},notifications:{title:"Bildirim Ayarlar",description:"Bildirim tercihlerinizi ynetin",enabled:"Bildirimleri A",enabledDesc:"Tm bildirimleri etkinletirir",email:"E-posta Bildirimleri",emailDesc:"nemli gncellemeler iin e-posta aln",push:"Push Bildirimleri",pushDesc:"Anlk bildirimler aln",sound:"Ses Bildirimleri",soundDesc:"Bildirim seslerini etkinletirir"},privacy:{title:"Gizlilik ve Gvenlik",description:"Hesap gvenliinizi ve gizlilik ayarlarnz ynetin",twoFactor:"ki Faktrl Dorulama",twoFactorDesc:"Hesabnz ekstra gvenlikle koruyun",autoLogout:"Otomatik Oturum Kapatma",autoLogoutDesc:"30 dakika hareketsizlik sonras oturumu kapatr",analytics:"Analitik Veri Paylam",analyticsDesc:"Gelitirme iin anonim veri paylam"},appearance:{title:"Grnm Ayarlar",description:"Arayz tercihlerinizi zelletirin",darkMode:"Karanlk Modu A",lightMode:"Aydnlk Modu A",darkModeDesc:"Karanlk tema kullann",lightModeDesc:"Aydnlk tema kullann",compact:"Kompakt Grnm",compactDesc:"Daha az boluk kullanan kompakt tasarm",animations:"Animasyonlar",animationsDesc:"Arayz animasyonlarn etkinletirir"},data:{title:"Veri Ynetimi",description:"Verilerinizi yedekleyin veya silin",download:"Veri ndir",downloadDesc:"Tm verilerinizi indirin",upload:"Veri Ykle",uploadDesc:"Yedekten veri ykleyin",delete:"Veri Sil",deleteDesc:"Tm verileri silin",storage:"Depolama",storageDesc:"Depolama alann ynetin"}},notifications:{title:"Bildirimler",empty:"Bildirim yok",markAllAsRead:"Tmn okundu iaretle"},brand:{name:"QR Menu",slogan:"Dijital Restoran zm"},features:{title:"Neden",titleHighlight:"QR Menu?",subtitle:"Modern restoranlar iin tasarlanm gl zellikler ile mteri deneyimini artrn ve iletmenizi dijital aa tayn.",list:{qrAccess:{title:"QR Kod ile Annda Eriim",description:"Mterileriniz masadaki QR kodu tarayarak mennze annda eriebilir. Uygulama indirme gerektirmez."},mobileOptimized:{title:"Mobil Optimizasyon",description:"Tm cihazlarda mkemmel grnm. Responsive tasarm ile telefon, tablet ve masastnde optimum deneyim."},instantUpdate:{title:"Anlk Gncelleme",description:"Men deiiklikleriniz annda yaynlanr. Fiyat gncellemeleri, yeni rnler hemen grnr."},analytics:{title:"Detayl Analitikler",description:"Hangi rnler daha ok baklyor, mteri davranlar ve sat trendleri hakknda rapor aln."},alwaysOpen:{title:"7/24 Eriim",description:"Mterileriniz istedii zaman mennze bakabilir. Restoran saatleri dnda da eriilebilir."},secure:{title:"Gvenli ve Hzl",description:"SSL sertifikas ile gvenli, hzl yklenen sayfalar. Mteri bilgileri korunur."},customizable:{title:"zelletirilebilir Tasarm",description:"Restorannzn tarzna uygun renk, font ve tasarm seenekleri. Marka kimliinizi yanstn."},multiLanguage:{title:"oklu Dil Destei",description:"Mennz birden fazla dilde sunabilirsiniz. Uluslararas mterilerinize hitap edin."}},cta:{title:"Restorannz Dijitalletirmeye Hazr msnz?",subtitle:"Bugn balayn ve mterilerinize modern bir deneyim sunun. Kurulum sadece 5 dakika!",button:"cretsiz Deneyin"}},footer:{description:"Restoranlar iin modern, hzl ve gvenli dijital men zm. Mteri deneyimini artrn, iletmenizi dijitalletirin.",contact:{phone:"+90 531 732 47 31",email:"services@idigitek.com",address:"Istanbul , Kayaehir"},sections:{product:{title:"rn",links:{features:"zellikler",pricing:"Fiyatlandrma",demo:"Demo",api:"API Dokmantasyonu"}},company:{title:"irket",links:{about:"Hakkmzda",pricing:"Fiyatlandrma",careers:"Kariyer",contact:"letiim"}},support:{title:"Destek",links:{helpCenter:"Yardm Merkezi",faq:"SSS",liveSupport:"Canl Destek",tutorials:"Eitim Videolar"}},legal:{title:"Yasal",links:{privacy:"Gizlilik Politikas",terms:"Kullanm artlar",cookies:"erez Politikas",gdpr:"GDPR"}}},newsletter:{title:"Gncellemelerden Haberdar Olun",subtitle:"Yeni zellikler ve gncellemeler hakknda bilgi aln.",placeholder:"E-posta adresiniz",button:"Abone Ol"},bottom:{copyright:"Tm haklar sakldr.",madeWith:"Trkiye'de tasarland ve gelitirildi "}},pages:{login:{title:"Giri Yap",subtitle:"QR Menu hesabnza giri yapn",backToHome:"Ana Sayfaya Dn",email:"E-posta",password:"ifre",rememberMe:"Beni Hatrla",forgotPassword:"ifremi Unuttum",confirimEmail:"E-posta Onayla",signIn:"Giri Yap",signingIn:"Giri Yaplyor...",noAccount:"Hesabnz yok mu?",registerNow:"Hemen Kaydolun",errors:{emailRequired:"E-posta gereklidir",emailInvalid:"Geerli bir e-posta adresi giriniz",passwordRequired:"ifre gereklidir",invalidCredentials:"E-posta veya ifre hatal",generalError:"Giri srasnda bir hata olutu. Ltfen tekrar deneyin."}},register:{title:"Hesap Olutur",subtitle:"QR Menu ailesine katln ve restorannz dijitalletirin",backToHome:"Ana Sayfaya Dn",firstName:"Ad",lastName:"Soyad",email:"E-posta",phone:"Telefon Numaras",password:"ifre",confirmPassword:"ifre Tekrar",createAccount:"Hesap Olutur",creating:"Hesap Oluturuluyor...",haveAccount:"Zaten hesabnz var m?",signInNow:"Giri Yapn",formProgress:"Form tamamlama",placeholders:{firstName:"Adnz",lastName:"Soyadnz",email:"ornek@email.com",phone:"05XX XXX XX XX",password:"",confirmPassword:"ifrenizi tekrar girin"},validation:{nameRequired:"Ad gereklidir",nameMin:"Ad en az 2 karakter olmaldr",surnameRequired:"Soyad gereklidir",surnameMin:"Soyad en az 2 karakter olmaldr",emailRequired:"E-posta gereklidir",emailInvalid:"Geerli bir e-posta adresi giriniz",phoneRequired:"Telefon numaras gereklidir",phoneInvalid:"Geerli bir telefon numaras giriniz (rn: 05XX XXX XX XX)",passwordRequired:"ifre gereklidir",passwordMin:"ifre en az 8 karakter olmaldr",passwordPattern:"ifre en az bir byk harf, bir kk harf ve bir rakam iermelidir",passwordConfirmRequired:"ifre tekrar gereklidir",passwordMismatch:"ifreler elemiyor",termsRequired:"Kullanm artlarn kabul etmelisiniz",emailExists:"Bu e-posta adresi zaten kullanmda"},passwordStrength:{veryWeak:"ok Zayf",weak:"Zayf",medium:"Orta",good:"yi",strong:"Gl"},terms:{service:"Kullanm artlar",and:"ve",privacy:"Gizlilik Politikas",accept:"n kabul ediyorum"},errors:{validation:"Kayt bilgilerinizi kontrol edin",invalidData:"Girilen bilgiler geersiz. Ltfen kontrol edin.",general:"Kayt srasnda bir hata olutu. Ltfen tekrar deneyin."},success:{message:"Kayt baarl! imdi restaurant bilgilerinizi girebilirsiniz."}},forgotPassword:{title:"ifremi Unuttum",subtitle:"E-posta adresinizi girin, ifre sfrlama balants gnderelim",backToLogin:"Giri Sayfasna Dn",email:"E-posta",sendResetLink:"Sfrlama Balants Gnder",sending:"Gnderiliyor...",resendCode:"Tekrar Gnder",countdown:"saniye sonra tekrar gnderebilirsiniz",placeholders:{email:"ornek@email.com"},success:{title:"E-posta Gnderildi!",message:"ifre sfrlama balants e-posta adresinize gnderildi. Ltfen e-postanz kontrol edin."},errors:{emailRequired:"E-posta gereklidir",emailInvalid:"Geerli bir e-posta adresi giriniz",emailNotFound:"Bu e-posta adresi ile kaytl hesap bulunamad",general:"ifre sfrlama balants gnderilirken bir hata olutu. Ltfen tekrar deneyin."}}},pricing:{title:"Size Uygun",titleHighlight:"Plan",titleEnd:"Sein",subtitle:"htiyalarnza gre tasarlanm esnek fiyatlandrma seenekleri. stediiniz zaman plan deitirebilir veya iptal edebilirsiniz.",monthly:"Aylk",yearly:"Yllk",freeMonths:"2 AY CRETSZ",mostPopular:"En Popler",plans:{basic:{name:"Balang",features:{0:"1 Restoran",1:"50 rn",2:"Temel Analitikler",3:"Email Destek",4:"QR Kod Oluturucu",5:"Mobil Optimizasyon"},button:"Bala"},pro:{name:"Profesyonel",features:{0:"3 Restoran",1:"Snrsz rn",2:"Gelimi Analitikler",3:"ncelikli Destek",4:"zel Tasarm",5:"oklu Dil Destei",6:"API Eriimi",7:"Beyaz Etiket"},button:"En Popler"},enterprise:{name:"Kurumsal",features:{0:"Snrsz Restoran",1:"Snrsz rn",2:"Kurumsal Analitikler",3:"7/24 Telefon Destei",4:"zel Entegrasyon",5:"Dedike Hesap Yneticisi",6:"SLA Garantisi",7:"Eitim ve Danmanlk"},button:"letiime Ge"}},additionalInfo:"Tm planlar 14 gn cretsiz deneme ierir  Kredi kart gerekli deil  stediiniz zaman iptal edin",vatInfo:"Fiyatlar KDV dahildir. Kurumsal planlar iin zel fiyatlandrma mevcuttur.",perMonth:"ay",perYear:"yl",monthlyEquivalent:"Aylk {amount} (2 ay cretsiz)"},testimonials:{title:"Mterilerimiz Ne",titleHighlight:"Diyor?",subtitle:"Trkiye'nin drt bir yanndan 500+ restorann gvendii QR Menu sistemi hakknda gerek kullanc deneyimleri.",customers:[{name:"Mehmet zkan",role:"Restoran Sahibi",company:"Lezzet Dura",content:"QR Menu sayesinde mteri memnuniyetimiz %40 artt. zellikle pandemi dneminde temassz men byk avantaj salad. Sistem ok kolay kullanlyor."},{name:"Aye Demir",role:"Genel Mdr",company:"Bella Vista Restaurant",content:"Mterilerimiz artk garsonlar beklemeden menye bakabiliyor. Sipari alma sremiz yarya indi. Gerekten mkemmel bir zm!"},{name:"Can Ylmaz",role:"letme Orta",company:"Keyif Cafe",content:"Analitik raporlar sayesinde hangi rnlerin daha popler olduunu gryoruz. Menmz optimize ettik ve satlarmz %25 artt."},{name:"Fatma Kaya",role:"Restoran Mdr",company:"Anadolu Sofras",content:"Fiyat gncellemeleri annda yansyor. Artk men basks ile uramyoruz. Hem maliyet tasarrufu hem de evre dostu."},{name:"Emre ahin",role:"Zincir Restoran Sahibi",company:"Burger House",content:"Tm ubelerimizi tek yerden ynetiyoruz. Her ube iin ayr men ve fiyatlandrma yapabiliyoruz. Muhteem sistem!"},{name:"Zeynep Arslan",role:"Cafe Sahibi",company:"Kahve Kesi",content:"Mteri destei harika. Kurulum srasnda her admda yardm aldk. imdi teknolojik bir cafe olduk ve mterilerimiz ok memnun."}],stats:{restaurants:"Mutlu Restoran",satisfaction:"Memnuniyet Oran",support:"Mteri Destei",setup:"Kurulum Sresi"}},faq:{title:"Ska Sorulan",titleHighlight:"Sorular",subtitle:"QR Menu hakknda merak ettiiniz her ey burada. Sorunuz yoksa bize ulaabilirsiniz.",questions:{1:{question:"QR Menu nasl alyor?",answer:"QR Menu sistemimiz ok basit. Restorannz iin bir QR kod oluturuyoruz. Mterileriniz bu QR kodu telefonlaryla tarayarak mennze annda eriebilir. Herhangi bir uygulama indirmeye gerek yok."},2:{question:"Kurulum ne kadar srer?",answer:"Kurulum sadece 5 dakika srer! Hesabnz oluturduktan sonra mennz ykleyip zelletirirsiniz. QR kodunuz hemen kullanma hazr hale gelir."},3:{question:"Mteri verilerini grebilir miyim?",answer:"Evet! Hangi rnlerin en ok grntlendii, peak saatler, mteri davranlar gibi detayl analitikler sunarz. Bu verilerle mennz optimize edebilirsiniz."},4:{question:"Fiyatlar kolayca deitirebilir miyim?",answer:"Tabii ki! Admin panelinizden istediiniz zaman fiyat gncelleyebilir, yeni rn ekleyebilir veya mevcut rnleri dzenleyebilirsiniz. Deiiklikler annda yaynlanr."},5:{question:"Mobil cihazlarda nasl grnyor?",answer:"Mennz tm cihazlarda mkemmel grnr. Responsive tasarm sayesinde telefon, tablet ve bilgisayarlarda optimum deneyim sunar."},6:{question:"Mteri destei var m?",answer:"Elbette! Email, telefon ve canl chat ile 7/24 destek veriyoruz. Kurulumdan kullanma kadar her admda yannzdayz."},7:{question:"ptal etmek istediimde ne olur?",answer:"stediiniz zaman iptal edebilirsiniz. Hibir szleme veya ceza yok. ptal ettikten sonra verilerinizi size gvenli ekilde teslim ederiz."},8:{question:"oklu restoran ynetebilir miyim?",answer:"Profesyonel ve Kurumsal planlarmzla birden fazla restoran tek hesaptan ynetebilirsiniz. Her restoran iin ayr men ve analitikler."}},cta:{title:"Baka sorunuz var m?",subtitle:"Cevabn bulamadnz sorular iin bize ulan. 24 saat iinde yantlyoruz.",button:"letiime Ge"}},contact:{title:"Bizimle",titleHighlight:"letiime",titleEnd:"Gein",subtitle:"QR Menu sistemi hakknda sorularnz m var? Bizimle iletiime gein.",info:{title:"letiim Bilgileri",phone:"Telefon",email:"E-posta",address:"Adres"},form:{title:"Bize Yazn",name:"Ad Soyad",nameRequired:"Ad Soyad *",namePlaceholder:"Adnz yazn",email:"E-posta",emailRequired:"E-posta *",emailPlaceholder:"E-posta adresiniz",company:"Restoran/irket Ad",companyPlaceholder:"letmenizin ad",message:"Mesajnz",messageRequired:"Mesajnz *",messagePlaceholder:"Mesajnz yazn...",sending:"Gnderiliyor...",send:"Mesaj Gnder",success:{title:"Mesajnz Gnderildi!",subtitle:"En ksa srede size geri dn yapacaz."}}},accessibility:{menu:"Meny a/kapat",theme:"Tema deitir",language:"Dil deitir",profile:"Profil mens",notifications:"Bildirimler"},orders:{loading:"Sipariler ykleniyor...",title:"Sipariler",description:"Tm siparilerinizi ynetin ve takip edin",orderNumber:"Sipari",table:"Masa",items:"rn",tabs:{all:"Tm Sipariler",pending:"Bekleyen",preparing:"Hazrlanyor",ready:"Hazr",delivered:"Teslim Edildi",cancelled:"ptal Edildi"},status:{pending:"Beklemede",preparing:"Hazrlanyor",ready:"Hazr",delivered:"Teslim Edildi",cancelled:"ptal Edildi"},filters:{status:"Durum",dateRange:"Tarih Aral",paymentType:"deme Tr",today:"Bugn",yesterday:"Dn",lastWeek:"Geen Hafta",lastMonth:"Geen Ay",custom:"zel"},actions:{refresh:"Yenile",export:"Da Aktar",filter:"Filtrele",search:"Sipari ara...",viewDetails:"Detaylar Grntle",changeStatus:"Durumu Deitir"},stats:{totalOrders:"Toplam Sipari",totalRevenue:"Toplam Gelir",pendingOrders:"Bekleyen Sipari",avgOrderValue:"Ortalama Sipari Deeri"}},tableManagement:{addTable:"Masa Ekle",ActiveStatus:"Aktif Durum",descriptionActive:"Kategori etkin ve grnr",descriptionInActive:"Kategori etkin deil ve gizli",loading:"Masalar ykleniyor...",title:"Masa Alan",description:"QR kodlarnz ve masalarnz ynetin",noCategories:"Alan Bulunmad",createFirstCategory:"Birinci Alan Olutur",error:{loadFailed:"ube listesi yklenemedi",dataLoadFailed:"Veriler yklenirken bir hata olutu"},deleteModal:{title:"eyi silmek istediinizden emin misiniz? "},actions:{addTable:"Masa Ekle",addQRCode:"QR Kod Ekle",generateQR:"QR Kod Olutur",downloadQR:"QR Kodu ndir",editTable:"Masa Dzenle",deleteTable:"Masa Sil"},categories:{title:"Alan Ynetimi",addCategory:"Alan Ekle",editCategory:"Alan Dzenle",deleteCategory:"Alan Sil",categoryName:"Alan Ad",tableCount:"Masa Says"},qrCodes:{title:"QR Kodlar",tableNumber:"Masa Numaras",category:"Alan",status:"Durum",actions:"lemler",active:"Aktif",inactive:"Pasif"}},userManagement:{loading:"Kullanclar ykleniyor...",title:"Kullanc Ynetimi",description:"Kullanclar, rolleri ve izinleri ynetin",error:{loadFailed:"Kullanclar yklenirken bir hata olutu",rolesLoadFailed:"Roller yklenirken bir hata olutu",createFailed:"Kullanc oluturulurken bir hata olutu",updateFailed:"Kullanc gncellenirken bir hata olutu",deleteFailed:"Kullanc silinirken bir hata olutu"},actions:{addUser:"Kullanc Ekle",editUser:"Kullanc Dzenle",deleteUser:"Kullanc Sil",resetPassword:"ifre Sfrla",changeRole:"Rol Deitir"},roles:{admin:"Ynetici",manager:"Mdr",staff:"Personel",viewer:"Grntleyici"},status:{active:"Aktif",inactive:"Pasif",suspended:"Askya Alnm"}},subscription:{title:"Abonelik",description:"Abonelik plannz ynetin ve faturalarnz grntleyin",currentPlan:"Mevcut Plan",planDetails:"Plan Detaylar",billing:"Faturalama",usage:"Kullanm",plan:"Plan",renewal:"Yenileme",changePlan:"Plan Deitir",availablePlans:"Kullanlabilir Planlar",selectPlan:"htiyalarnza uygun plan sein",tabs:{overview:"Genel Bak",billing:"Faturalar",usage:"Kullanm"},actions:{upgrade:"Ykselt",downgrade:"Dr",cancel:"ptal Et",renew:"Yenile",settings:"Ayarlar"}},products:{status:{outOfStock:"Stokta Yok",inStock:"Stokta Var",available:"Mevcut",unavailable:"Mevcut Deil"},count:"rn",empty:"Bu kategoride henz rn yok",actions:{addFirst:"lk rn ekle",addProduct:"rn Ekle",editProduct:"rn Dzenle",deleteProduct:"rn Sil"}},branchSelector:{status:{loading:"Ykleniyor...",error:"ube listesi alnamad"},empty:"Seenek bulunamad",actions:{changeBranchRestaurant:"ube/Restoran Deitir"},labels:{mainRestaurant:"Ana Restorant",branches:"ubeler"}},popularProducts:{title:"Popler rnler",empty:"rn satlar burada grnecek",labels:{orders:"sipari",percentage:"%"},tooltip:{ordersFormat:(e,t)=>`${e} sipari (${t}%)`,noData:"Veri bulunamad"}},weeklyActivity:{title:"Haftalk Aktivite",empty:{primary:"Henz aktivite verisi bulunmuyor",secondary:"Veriler yaknda burada grnecek"},labels:{views:"Grntlenme",qrScans:"QR Tarama"},legend:{views:"Grntlenme",qrScans:"QR Tarama"}},monthlyRevenue:{QuickStats:"Hzl statistikler",title:"Aylk Gelir Trendi",empty:{primary:"Henz gelir verisi bulunmuyor",secondary:"Gelir verileri burada grnecek"},labels:{total:"Toplam:",revenue:"Gelir"},currency:{symbol:"",format:e=>`${e.toLocaleString("tr-TR")}`}},branchCard:{status:{temporaryClosed:"Geici Kapal",open:"Ak",closed:"Kapal",active:"Aktif",inactive:"Pasif",hidden:"Gizli"},actions:{edit:"Dzenle",delete:"Sil",purge:"Verileri Temizle"},labels:{customerVisibility:"Mteriye Ak/Kapal",apiBranchOpen:"API BranchIsOpen:"},alt:{logo:"logo"}},addBranchCard:{title:"Add New Branch",description:"Click to add a new branch"},branchModal:{title:{add:"Yeni ube Ekle",edit:"ube Dzenle"},subtitle:"ube bilgilerini adm adm girebilirsiniz",steps:{basic:"Temel Bilgiler",address:"Adres Bilgileri",contact:"letiim & alma Saatleri"},sections:{basicInfo:"Temel Bilgiler",addressInfo:"Adres Bilgileri",contactInfo:"letiim Bilgileri",workingHours:"alma Saatleri"},fields:{branchName:{label:"ube Ad *",placeholder:"ube adn girin"},whatsappNumber:{label:"WhatsApp Sipari Numaras *",placeholder:"WhatsApp sipari numarasn girin"},branchLogo:{label:"ube Logosu (Opsiyonel)",select:"Logo Se",uploading:"Ykleniyor...",success:" Logo baaryla yklendi",preview:"ube logosu nizleme",supportText:"PNG, JPG, GIF formatlar desteklenir. Maksimum dosya boyutu: 5MB"},country:{label:"lke *",placeholder:"lke adn girin"},city:{label:"ehir *",placeholder:"ehir adn girin"},street:{label:"Sokak",placeholder:"Sokak adn girin"},zipCode:{label:"Posta Kodu",placeholder:"Posta kodunu girin"},addressLine1:{label:"Adres Satr 1",placeholder:"Detayl adres bilgisi girin"},addressLine2:{label:"Adres Satr 2 (Opsiyonel)",placeholder:"Ek adres bilgisi girin (opsiyonel)"},phone:{label:"Telefon Numaras",placeholder:"Telefon numarasn girin"},email:{label:"E-posta Adresi ",placeholder:"E-posta adresini girin"},location:{label:"Konum Bilgisi ",placeholder:"Konum bilgisini girin (rn: 40.9795,28.7225)"},contactHeader:{label:"letiim Bal (Opsiyonel)",placeholder:"letiim baln girin (opsiyonel)"},footerTitle:{label:"Footer Bal (Opsiyonel)",placeholder:"Footer baln girin (opsiyonel)"},footerDescription:{label:"Footer Aklamas (Opsiyonel)",placeholder:"Footer aklamasn girin (opsiyonel)"},openTitle:{label:"alma Saatleri Bal (Opsiyonel)",placeholder:"alma saatleri baln girin (opsiyonel)"},openDays:{label:"Ak Gnler (Opsiyonel)",placeholder:"Ak gnleri girin (opsiyonel)"},openHours:{label:"Ak Saatler (Opsiyonel)",placeholder:"Ak saatleri girin (opsiyonel)"}},workingHours:{description:"letmenizin alma saatlerini belirleyin",days:["Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi","Pazar"],open:"Ak",closed:"Kapal",openTime:"Al",closeTime:"Kapan",canOrder:" Bu gn mteriler sipari verebilecek",infoTitle:"alma Saatleri Hakknda",infoText:"Burada belirlediiniz saatler, mterilerin QR mennz zerinden sipari verebilecei zamanlar belirler. Kapal gnlerde sipari alnmaz."},errors:{branchName:"ube ad gereklidir",whatsappNumber:"WhatsApp sipari numaras gereklidir",country:"lke gereklidir",city:"ehir gereklidir",street:"Sokak gereklidir",zipCode:"Posta kodu gereklidir",addressLine1:"Adres satr  gereklidir",phone:"Telefon numaras gereklidir",email:"E-posta adresi gereklidir",location:"Konum bilgisi gereklidir",branchModal:"Logo gerekli",addressLine2:"Ayrntl adres gerekli"},buttons:{cancel:"ptal",back:"Geri",next:"leri",save:"Kaydet",saving:"Kaydediliyor..."}},branchManagement:{title:"ube Ynetimi",description:"Restoran ubelerini ynetin ve bilgilerini gncelleyin",loading:"ubeler ykleniyor...",addBranch:"Yeni ube Ekle",purgeConfirm:{title:"Bu ilemi yapmaya emin misiniz ?",description:""},error:{loadFailed:"ubeler yklenemedi",createFailed:"ube oluturulamad",updateFailed:"ube gncellenemedi",deleteFailed:"ube silinemedi",restaurantIdNotFound:"Restoran ID bulunamad",detailsLoadFailed:"ube detaylar yklenemedi",statusUpdateFailed:"ube durumu gncellenemedi",sessionExpired:"Oturum sresi doldu. Ltfen tekrar giri yapn.",noPermission:"Bu ilem iin yetkiniz bulunmuyor.",branchNotFound:"ube bulunamad.",connectionError:"nternet balantnz kontrol edin.",unknownError:"Beklenmeyen bir hata olutu"},noBranches:{title:"Henz ube yok",description:"Restorannzn ilk ubesini eklemeye balayn"},deleteConfirm:{title:"ube Silme Onay",description:'"{{branchName}}" ubesini silmek istediinizden emin misiniz? Bu ilem geri alnamaz.'},form:{branchName:"ube Ad",branchNamePlaceholder:"ube adn girin",branchNameRequired:"ube ad gereklidir",whatsappNumber:"WhatsApp Sipari Numaras",whatsappPlaceholder:"WhatsApp numarasn girin",branchLogo:"ube Logosu",logoUpload:"Logo Ykle",logoChange:"Logo Deitir",logoRemove:"Logoyu Kaldr",logoNotSelected:"Logo seilmedi",logoInstructions:"JPG, PNG veya GIF formatnda, maksimum 5MB boyutunda dosya ykleyebilirsiniz.",country:"lke",countryPlaceholder:"lke adn girin",city:"ehir",cityPlaceholder:"ehir adn girin",street:"Sokak",streetPlaceholder:"Sokak adn girin",zipCode:"Posta Kodu",zipCodePlaceholder:"Posta kodunu girin",addressLine1:"Adres Satr 1",addressLine1Placeholder:"Adres detayn girin",addressLine2:"Adres Satr 2",addressLine2Placeholder:"Ek adres bilgisi (opsiyonel)",phone:"Telefon",phonePlaceholder:"Telefon numarasn girin",email:"E-posta",emailPlaceholder:"E-posta adresini girin",location:"Konum",locationPlaceholder:"Konum bilgisini girin",contactHeader:"letiim Bal",contactHeaderPlaceholder:"letiim baln girin",footerTitle:"Footer Bal",footerTitlePlaceholder:"Footer baln girin",footerDescription:"Footer Aklamas",footerDescriptionPlaceholder:"Footer aklamasn girin",openTitle:"Al Saatleri Bal",openTitlePlaceholder:"Al saatleri baln girin",openDays:"Ak Gnler",openDaysPlaceholder:"Ak gnleri girin",openHours:"Ak Saatler",openHoursPlaceholder:"Ak saatleri girin",workingHours:"alma Saatleri",workingHoursRequired:"En az bir alma gn semelisiniz",isOpen:"Ak",dayNames:{0:"Pazar",1:"Pazartesi",2:"Sal",3:"aramba",4:"Perembe",5:"Cuma",6:"Cumartesi"}},modal:{createTitle:"Yeni ube Ekle",createDescription:"Yeni ube bilgilerini girin",editTitle:"ube Dzenle - {branchName}",editDescription:"ube bilgilerini dzenleyin",tabs:{general:"Genel Bilgiler",address:"Adres",contact:"letiim",workingHours:"alma Saatleri"},buttons:{creating:"Oluturuluyor...",updating:"Gncelleniyor...",create:"ube Olutur",update:"ubeyi Gncelle"},errors:{updateError:"Gncelleme Hatas",validationFailed:"Ltfen formdaki hatalar dzeltin ve tekrar deneyin.",dataValidationError:"Gncelleme srasnda bir hata olutu. Ltfen girdiiniz verileri kontrol edin.",imageUploadError:"Resim yklenirken hata olutu. Ltfen tekrar deneyin.",imageRemoveError:"Resim silinirken hata olutu.",uploadingImage:"Resim ykleniyor...",invalidFileType:"Ltfen geerli bir resim dosyas sein",fileSizeError:"Dosya boyutu 5MB'dan kk olmaldr"}},card:{edit:"Dzenle",delete:"Sil",temporaryClose:"Geici Kapat",temporaryOpen:"Geici A",status:{open:"Ak",closed:"Kapal",temporarilyClosed:"Geici Kapal"}}},commonBranch:{cancel:"ptal",delete:"Sil",save:"Kaydet",edit:"Dzenle",create:"Olutur",update:"Gncelle",close:"Kapat",loading:"Ykleniyor...",error:"Hata",success:"Baarl",warning:"Uyar",info:"Bilgi",required:"Gerekli",optional:"Opsiyonel"},productsContent:{branch:{selectAll:"Hepsi"},title:"rn Ynetimi",description:"Men kategorileri ve rnlerini ynetin",search:{placeholder:"Men elerini ara...",filter:"Filtrele",sort:"Srala",noResults:"rn bulunamad"},viewMode:{list:"Liste grnm",grid:"Izgara grnm"},actions:{addFirstCategory:"lk Kategori Ekle",addCategory:"Yeni Kategori",newCategory:"Yeni Kategori",addProduct:"Yeni rn",newProduct:"Yeni rn",editCategory:"Kategoriyi Dzenle",deleteCategory:"Kategoriyi Sil",editProduct:"rn Dzenle",deleteProduct:"rn Sil",manageIngredients:"Malzemeleri Ynet",updateIngredients:"Malzemeleri Gncelle",manageAddons:"Eklentileri Ynet",importSampleMenu:"rnek Men e Aktar",addFirstCategoryTitle:"lk Kategoriyi Ekle",RecycleBin:"Geri Dnm Kutusu"},emptyState:{noCategories:{title:"Henz men kategoriniz bulunmuyor",description:'Restorannzn mensn oluturmaya balamak iin ilk kategoriyi ekleyin. rnein "Ana Yemekler", "ecekler" veya "Tatllar" gibi.',addFirstCategory:"lk Kategoriyi Ekle"}},loading:{categories:"Kategoriler ykleniyor...",products:"rnler ykleniyor...",savingOrder:"Sralama kaydediliyor...",savingCategoryOrder:"Kategori sralamas kaydediliyor...",savingProductOrder:"rn sralamas kaydediliyor...",movingProduct:"rn tanyor...",deleting:"Siliniyor..."},dragDrop:{categoryReordering:"Kategori sralamas kaydediliyor...",productReordering:"rn sralamas kaydediliyor...",productMoving:"rn tanyor...",categoryOrderSaveError:"Kategori sralamas kaydedilirken bir hata olutu.",productOrderSaveError:"rn sralamas kaydedilirken bir hata olutu.",productMoveError:"rn tama ilemi kaydedilirken bir hata olutu."},delete:{product:{title:"rn Sil",message:'"{{productName}}" adl rn silmek istediinizden emin misiniz? Bu ilem geri alnamaz.',success:"rn baaryla silindi"},category:{title:"Kategoriyi Sil",messageWithProducts:'"{{categoryName}}" kategorisinde {{productCount}} rn bulunuyor. Bu kategoriyi silmek tm rnleri de silecektir. Devam etmek istediinizden emin misiniz?',messageEmpty:'"{{categoryName}}" kategorisini silmek istediinizden emin misiniz?',success:"Kategori baaryla silindi"}},error:{loadFailed:"Veriler yklenemedi",categoryNotFound:"Kategori bulunamad",productNotFound:"rn bulunamad",deleteFailed:"Silme ilemi baarsz",updateFailed:"Gncelleme baarsz",createFailed:"Oluturma baarsz",reorderFailed:"Sralama baarsz",invalidData:"Geersiz veri",networkError:"A balant hatas",refreshPage:"Ltfen sayfay yenileyin ve tekrar deneyin."},success:{categoryCreated:"Kategori baaryla oluturuldu",categoryUpdated:"Kategori baaryla gncellendi",categoryDeleted:"Kategori baaryla silindi",productCreated:"rn baaryla oluturuldu",productUpdated:"rn baaryla gncellendi",productDeleted:"rn baaryla silindi",orderSaved:"Sralama baaryla kaydedildi",ingredientsUpdated:"Malzemeler baaryla gncellendi",addonsUpdated:"Eklentiler baaryla gncellendi"},category:{products:"rn",productCount:"rn",noProducts:"Bu kategoride rn bulunmuyor",expand:"Genilet",collapse:"Daralt"},product:{price:"Fiyat",description:"Aklama",ingredients:"Malzemeler",addons:"Eklentiler",category:"Kategori",image:"Resim",status:"Durum",available:"Mevcut",unavailable:"Mevcut deil"},currency:{symbol:"",format:"{{amount}} "},status:{active:"Aktif",inactive:"Pasif",available:"Mevcut",unavailable:"Mevcut deil"},tooltips:{dragToReorder:"Sralamak iin srkleyin",dragToMoveCategory:"rn baka kategoriye tamak iin srkleyin",expandCategory:"Kategoriyi genilet",collapseCategory:"Kategoriyi daralt",editCategory:"Kategoriyi dzenle",deleteCategory:"Kategoriyi sil",editProduct:"rn dzenle",deleteProduct:"rn sil",manageIngredients:"rn malzemelerini ynet",manageAddons:"rn eklentilerini ynet"}},createCategoryModal:{title:"Yeni Kategori Ekle",subtitle:"Men kategorisi oluturun",close:"Kapat",form:{categoryName:{label:"Kategori Ad *",placeholder:"rn: Ana Yemekler, ecekler, Tatllar",required:"Kategori ad gereklidir"},status:{label:"Kategoriyi aktif et",description:"Aktif kategoriler mende grnr"}},buttons:{cancel:"ptal",create:"Kategori Ekle",creating:"Ekleniyor..."},errors:{general:"Kategori eklenirken bir hata olutu. Ltfen tekrar deneyin.",categoryExists:"Bu isimde bir kategori zaten mevcut. Ltfen farkl bir isim sein.",invalidData:"Girilen bilgiler geersiz. Ltfen kontrol edip tekrar deneyin.",serverError:"Sunucu hatas olutu. Ltfen daha sonra tekrar deneyin.",networkError:"A balant hatas. Balantnz kontrol edin ve tekrar deneyin.",unknownError:"Beklenmeyen bir hata olutu. Ltfen tekrar deneyin.",errorLabel:"Hata:"},success:{categoryCreated:"Kategori baaryla oluturuldu",categoryAdded:"Kategori baaryla menye eklendi"},validation:{nameRequired:"Kategori ad gereklidir",nameMinLength:"Kategori ad 2 karakterden fazla olmaldr",nameMaxLength:"Kategori ad 50 karakterden az olmaldr",invalidCharacters:"Kategori ad geersiz karakterler ieriyor"},accessibility:{closeModal:"Kategori ekleme modaln kapat",formTitle:"Yeni kategori ekleme formu",requiredField:"Zorunlu alan",optionalField:"stee bal alan"}},createProductModal:{title:"Yeni rn Ekle",subtitle:"Mennze rn ekleyin",close:"Kapat",form:{productImage:{label:"rn Grseli",dragActive:"Dosyay buraya brakn",uploadText:"Grsel ykleyin",supportedFormats:"PNG, JPG, GIF (5MB max)",removeImage:"Grseli kaldr"},productName:{label:"rn Ad",placeholder:"rn: Margherita Pizza",required:"rn ad gereklidir"},price:{label:"Fiyat ()",placeholder:"0",required:"Fiyat gereklidir",mustBePositive:"Fiyat 0'dan byk olmaldr",currency:""},category:{label:"Kategori",placeholder:"Kategori sein",required:"Kategori seimi gereklidir",invalidCategory:"Seilen kategori geersiz. Mevcut kategoriler: {{categories}}"},description:{label:"Aklama",placeholder:"rn aklamas...",required:"rn aklamas gereklidir"},status:{label:"rn aktif et",description:"Mende grntlenir",active:"Aktif",inactive:"Pasif"}},buttons:{cancel:"ptal",create:"rn Ekle",creating:"Ekleniyor...",uploading:"Ykleniyor..."},imageUpload:{dragToUpload:"Grseli buraya srkleyin veya yklemek iin tklayn",clickToUpload:"Grsel yklemek iin tklayn",dragActive:"Dosyay buraya brakn",supportedFormats:"PNG, JPG, GIF",maxSize:"5MB max",preview:"Grsel nizleme",remove:"Kaldr"},errors:{general:"rn eklenirken bir hata olutu. Ltfen tekrar deneyin.",nameRequired:"rn ad gereklidir",descriptionRequired:"rn aklamas gereklidir",priceRequired:"Fiyat gereklidir",priceMustBePositive:"Fiyat 0'dan byk olmaldr",categoryRequired:"Kategori seimi gereklidir",categoryInvalid:"Seilen kategori geersiz",imageInvalid:"Ltfen geerli bir grsel dosyas sein",imageTooLarge:"Grsel dosyas 5MB'dan kk olmaldr",imageUploadFailed:"Grsel yklenirken bir hata olutu",networkError:"A balant hatas. Balantnz kontrol edin ve tekrar deneyin.",serverError:"Sunucu hatas olutu. Ltfen daha sonra tekrar deneyin.",unknownError:"Beklenmeyen bir hata olutu. Ltfen tekrar deneyin.",errorLabel:"Hata:"},success:{productCreated:"rn baaryla oluturuldu",productAdded:"rn baaryla menye eklendi"},validation:{nameMinLength:"rn ad 2 karakterden fazla olmaldr",nameMaxLength:"rn ad 100 karakterden az olmaldr",descriptionMinLength:"Aklama 5 karakterden fazla olmaldr",descriptionMaxLength:"Aklama 500 karakterden az olmaldr",priceMin:"Fiyat 0'dan byk olmaldr",priceMax:"Fiyat 10000'den kk olmaldr"},accessibility:{closeModal:"rn ekleme modaln kapat",formTitle:"Yeni rn ekleme formu",requiredField:"Zorunlu alan",optionalField:"stee bal alan",imageUpload:"rn grseli ykle",removeImage:"rn grselini kaldr",priceInput:"rn fiyatn girin",categorySelect:"rn kategorisi sein",statusToggle:"rn durumunu deitir"}},productAddonsModal:{title:"rn Eklentileri",subtitle:"iin eklenti rnleri ynetin",close:"Kapat",panels:{currentAddons:{title:"Mevcut Eklentiler",count:"({{count}})",dragInstruction:"Srkleyerek sralayabilirsiniz",emptyState:{title:"Henz eklenti eklenmemi.",subtitle:"Sa panelden rn sein."}},availableProducts:{title:"Eklenti Olarak Eklenebilir rnler",searchPlaceholder:"rn ara...",emptyState:{noResults:"Arama kriterlerine uygun rn bulunamad.",noProducts:"Eklenebilir rn bulunamad."}}},actions:{edit:"Dzenle",save:"Kaydet",cancel:"ptal",remove:"Kaldr",recommended:"nerilen"},form:{marketingText:{placeholder:"Pazarlama metni...",label:"Pazarlama Metni"},isRecommended:{label:"nerilen eklenti olarak iaretle",badge:"nerilen"}},status:{outOfStock:"Stokta Yok",available:"Mevcut",unavailable:"Mevcut Deil"},loading:{addons:"Eklentiler ykleniyor...",products:"rnler ykleniyor...",saving:"Kaydediliyor..."},buttons:{cancel:"ptal",saveAddons:"Eklentileri Kaydet",saving:"Kaydediliyor..."},counters:{selectedProducts:"{{count}} rn seili",availableProducts:"{{count}} mevcut rn"},errors:{loadingData:"Eklenti verileri yklenirken bir hata olutu.",updatingAddon:"Eklenti gncellenirken bir hata olutu.",deletingAddon:"Eklenti silinirken bir hata olutu.",savingOrder:"Eklenti sralamas kaydedilirken bir hata olutu.",savingAddons:"Eklentiler kaydedilirken bir hata olutu. Ltfen tekrar deneyin.",general:"Beklenmeyen bir hata olutu. Ltfen tekrar deneyin.",networkError:"A balant hatas. Balantnz kontrol edin ve tekrar deneyin."},success:{addonsSaved:"rn eklentileri baaryla kaydedildi",orderUpdated:"Eklenti sralamas baaryla gncellendi",addonUpdated:"Eklenti baaryla gncellendi",addonRemoved:"Eklenti baaryla kaldrld"},accessibility:{closeModal:"rn eklentileri modaln kapat",dragHandle:"Eklenti srasn deitirmek iin srkle",editAddon:"Eklenti detaylarn dzenle",removeAddon:"Eklentiyi rnden kaldr",selectProduct:"rn eklenti olarak se",productImage:"rn resmi",toggleRecommended:"nerilen durumunu deitir"}},editCategoryModal:{title:"Kategori Dzenle",subtitle:"Kategori bilgilerini gncelle",close:"Kapat",form:{categoryName:{label:"Kategori Ad",placeholder:"Kategori adn girin...",required:"Kategori ad gereklidir",minLength:"Kategori ad en az 2 karakter olmaldr",maxLength:"Kategori ad 100 karakterden az olmaldr"},description:{label:"Aklama",placeholder:"Kategori aklamasn girin...",optional:"Opsiyonel",maxLength:"Aklama 500 karakterden az olmaldr"},status:{label:"Aktif",description:"Aktif olduunda kategori mende grnr",active:"Aktif",inactive:"Pasif"}},buttons:{cancel:"ptal",save:"Kaydet",saving:"Kaydediliyor...",update:"Kategoriyi Gncelle",updating:"Gncelleniyor..."},errors:{updateFailed:"Kategori gncellenirken bir hata olutu. Ltfen tekrar deneyin.",nameRequired:"Kategori ad gereklidir",nameMinLength:"Kategori ad en az 2 karakter olmaldr",nameMaxLength:"Kategori ad 100 karakterden az olmaldr",descriptionMaxLength:"Aklama 500 karakterden az olmaldr",general:"Beklenmeyen bir hata olutu. Ltfen tekrar deneyin.",networkError:"A balant hatas. Balantnz kontrol edin ve tekrar deneyin.",serverError:"Sunucu hatas olutu. Ltfen daha sonra tekrar deneyin."},success:{categoryUpdated:"Kategori baaryla gncellendi",changesSaved:"Deiiklikler baaryla kaydedildi"},validation:{nameRequired:"Ltfen bir kategori ad girin",nameMinLength:"Kategori ad ok ksa",nameMaxLength:"Kategori ad ok uzun",descriptionMaxLength:"Aklama ok uzun"},accessibility:{closeModal:"Kategori dzenleme modaln kapat",formTitle:"Kategori dzenleme formu",requiredField:"Zorunlu alan",optionalField:"Opsiyonel alan",statusToggle:"Kategori durumunu deitir",nameInput:"Kategori ad girii",descriptionInput:"Kategori aklama girii"}},confirmDeleteModal:{defaultTitle:"Silmeyi Onayla",deleteTitle:"eyi Sil",deleteTableWarning:"Masay silmeden nce bekleyen bir istek olmadndan emin olun.",warning:"Bu ilem geri alnamaz. e kalc olarak silinecektir.",itemTypes:{category:"Kategori",product:"rn",addon:"Eklenti",user:"Kullanc",order:"Sipari",coupon:"Kupon",discount:"ndirim",promotion:"Promosyon",review:"Deerlendirme",comment:"Yorum",image:"Resim",file:"Dosya",item:"e"},buttons:{cancel:"ptal",delete:"Sil",deleting:"Siliniyor...",confirm:"Onayla",confirming:"Onaylanyor..."},messages:{category:"Bu kategoriyi silmek istediinizden emin misiniz? Bu kategorideki tm rnler de etkilenecektir.",product:"Bu rn silmek istediinizden emin misiniz? Bu ilem geri alnamaz.",addon:"Bu eklentiyi silmek istediinizden emin misiniz? Tm ilikili rnlerden kaldrlacaktr.",user:"Bu kullancy silmek istediinizden emin misiniz? Tm verileri kalc olarak kaldrlacaktr.",general:"Bu eyi silmek istediinizden emin misiniz? Bu ilem geri alnamaz."},errors:{deleteFailed:"Silme ilemi srasnda bir hata olutu. Ltfen tekrar deneyin.",networkError:"A balant hatas. Ltfen balantnz kontrol edin ve tekrar deneyin.",serverError:"Sunucu hatas olutu. Ltfen daha sonra tekrar deneyin.",permissionError:"Bu eyi silme yetkiniz bulunmamaktadr.",notFound:"Silinecek e bulunamad.",hasRelations:"Bu e ilikili veriler ierdii iin silinemez.",general:"Beklenmeyen bir hata olutu. Ltfen tekrar deneyin."},success:{deleted:"e baaryla silindi",categoryDeleted:"Kategori baaryla silindi",productDeleted:"rn baaryla silindi",addonDeleted:"Eklenti baaryla silindi"},confirmations:{typeToConfirm:'Onaylamak iin "SL" yazn',enterName:"Silmeyi onaylamak iin adn girin",areYouSure:"Kesinlikle emin misiniz?",lastChance:"ptal etmek iin son ansnz."},accessibility:{closeModal:"Silme onay modaln kapat",deleteDialog:"Silme onay diyalou",warningIcon:"Uyar ikonu",deleteButton:"Silmeyi onayla",cancelButton:"Silmeyi iptal et",errorAlert:"Hata mesaj"}},editProductModal:{title:"rn Dzenle",subtitle:"rn bilgilerini gncelle",close:"Kapat",form:{productImage:{label:"rn Grseli",optional:"Opsiyonel"},productName:{label:"rn Ad",placeholder:"rn: Margherita Pizza",required:"rn ad gereklidir"},description:{label:"Aklama",placeholder:"rn aklamas...",optional:"Opsiyonel"},price:{label:"Fiyat ()",placeholder:"0",required:"Fiyat gereklidir",currency:""},category:{label:"Kategori",placeholder:"Kategori sein",required:"Kategori seimi gereklidir"},status:{label:"Stokta Var",description:"Mevcut olduunda rn mende grnr",available:"Mevcut",unavailable:"Mevcut Deil"}},buttons:{cancel:"ptal",update:"rn Gncelle",updating:"Gncelleniyor...",save:"Deiiklikleri Kaydet",saving:"Kaydediliyor...",uploading:"Grsel Ykleniyor..."},imageUpload:{clickToUpload:"Grsel yklemek iin tklayn",dragToUpload:"Grseli buraya srkleyin veya tklayn",dragActive:"Dosyay buraya brakn",supportedFormats:"PNG, JPG, GIF",maxSize:"maksimum 5MB",preview:"Grsel nizleme",remove:"Grseli kaldr",changeImage:"Grseli deitir"},errors:{errorLabel:"Hata:",updateFailed:"rn gncellenirken bir hata olutu. Ltfen tekrar deneyin.",nameRequired:"rn ad gereklidir",nameAlreadyExists:"Bu isimde bir rn zaten mevcut. Ltfen farkl bir isim sein.",descriptionRequired:"rn aklamas gereklidir",priceRequired:"Fiyat gereklidir",priceMustBePositive:"Fiyat 0'dan byk olmaldr",categoryRequired:"Kategori seimi gereklidir",imageInvalid:"Ltfen geerli bir grsel dosyas sein",imageTooLarge:"Grsel dosyas 5MB'dan kk olmaldr",imageUploadFailed:"Grsel yklenirken bir hata olutu",productNotFound:"rn bulunamad",permissionDenied:"Bu rn gncelleme yetkiniz bulunmamaktadr",networkError:"A balant hatas. Balantnz kontrol edin ve tekrar deneyin.",serverError:"Sunucu hatas olutu. Ltfen daha sonra tekrar deneyin.",unknownError:"Beklenmeyen bir hata olutu. Ltfen tekrar deneyin."},success:{productUpdated:"rn baaryla gncellendi",changesSaved:"Deiiklikler baaryla kaydedildi",imageUploaded:"Grsel baaryla yklendi"},validation:{nameMinLength:"rn ad 2 karakterden fazla olmaldr",nameMaxLength:"rn ad 100 karakterden az olmaldr",descriptionMaxLength:"Aklama 500 karakterden az olmaldr",priceMin:"Fiyat 0'dan byk olmaldr",priceMax:"Fiyat 10000'den az olmaldr",imageSize:"Grsel 5MB'dan kk olmaldr",imageType:"Sadece grsel dosyalarna izin verilir"},accessibility:{closeModal:"rn dzenleme modaln kapat",formTitle:"rn dzenleme formu",requiredField:"Zorunlu alan",optionalField:"Opsiyonel alan",imageUpload:"rn grseli ykle",removeImage:"rn grselini kaldr",priceInput:"rn fiyatn girin",categorySelect:"rn kategorisi sein",statusToggle:"rn durumunu deitir",imagePreview:"rn grseli nizleme"}},productIngredientModal:{title:"rn Malzemeleri",subtitle:"iin malzemeleri sein",close:"Kapat",search:{placeholder:"Malzemeleri ara...",label:"Malzeme ara",noResults:"Malzeme bulunamad"},summary:{selectedCount:"Seilen malzemeler",hasChanges:"Deiiklik var",noChanges:"Deiiklik yok"},form:{quantity:{label:"Miktar",placeholder:"Miktar",required:"Miktar gereklidir"},unit:{label:"Birim",placeholder:"Birim sein",required:"Birim gereklidir"}},units:{grams:"gr",milliliters:"ml",pieces:"adet",tablespoons:"yemek ka",teaspoons:"ay ka",cups:"su barda",kilograms:"kg",liters:"lt"},status:{available:"Kullanlabilir",unavailable:"Kullanlamaz",containsAllergens:"Alerjen erir",toBeAdded:"Eklenecek",toBeRemoved:"Kaldrlacak",selected:"Seili",unselected:"Seili deil"},allergenInfo:{count:"{{count}} alerjen",count_plural:"{{count}} alerjen",details:"Alerjen detaylar",warning:"Bu malzeme alerjen ierir"},loading:{ingredients:"Malzemeler ykleniyor...",saving:"Malzemeler kaydediliyor...",data:"Veriler ykleniyor..."},emptyState:{noIngredients:"Henz malzeme eklenmemi.",noSearchResults:"Arama kriterlerine uygun malzeme bulunamad.",noAvailableIngredients:"Kullanlabilir malzeme bulunamad."},buttons:{cancel:"ptal",skip:"Atla",save:"Kaydet",saveIngredients:"Malzemeleri Kaydet",saving:"Kaydediliyor...",add:"Malzeme Ekle",update:"Malzemeleri Gncelle"},footer:{totalCount:"Toplam: {{count}} malzeme",selectedInfo:"{{total}} malzemeden {{selected}} tanesi seili"},errors:{loadingData:"Malzeme verileri yklenirken bir hata olutu.",savingIngredients:"Malzemeler kaydedilirken bir hata olutu. Ltfen tekrar deneyin.",quantityRequired:"Tm malzemeler iin miktar 0'dan byk olmaldr.",unitRequired:"Tm malzemeler iin birim seilmelidir.",networkError:"A balant hatas. Balantnz kontrol edin ve tekrar deneyin.",serverError:"Sunucu hatas olutu. Ltfen daha sonra tekrar deneyin.",general:"Beklenmeyen bir hata olutu. Ltfen tekrar deneyin.",invalidQuantity:"Ltfen geerli bir miktar girin",ingredientNotFound:"Malzeme bulunamad",permissionDenied:"Malzemeleri deitirme yetkiniz bulunmamaktadr"},success:{ingredientsSaved:"Malzemeler baaryla kaydedildi",ingredientsUpdated:"Malzemeler baaryla gncellendi",ingredientAdded:"Malzeme baaryla eklendi",ingredientRemoved:"Malzeme baaryla kaldrld"},validation:{quantityMin:"Miktar 0'dan byk olmaldr",quantityMax:"Miktar 1000'den az olmaldr",unitRequired:"Ltfen bir birim sein",ingredientRequired:"Ltfen en az bir malzeme sein"},accessibility:{closeModal:"Malzeme seim modaln kapat",searchInput:"Malzeme ara",quantityInput:"Malzeme miktarn girin",unitSelect:"l birimini sein",ingredientCheckbox:"Malzeme se",selectedIndicator:"Malzeme seildi",allergenWarning:"Alerjen ierir",availabilityStatus:"Kullanlabilirlik durumu"}},ProductIngredientUpdateModal:{title:"Malzemeleri Gncelle",searchPlaceholder:"Malzeme ara...",selectedCount:"malzeme seili",loadingIngredients:"Malzemeler ykleniyor...",noIngredientsFound:"Malzeme bulunamad",noIngredientsFoundSearch:"Arama kriterlerine uygun malzeme bulunamad",unit:"Birim:",price:"Fiyat:",quantity:"Miktar",cancel:"ptal",save:"Kaydet",saving:"Kaydediliyor...",errors:{loadingIngredients:"Malzemeler yklenirken bir hata olutu",savingIngredients:"Malzemeler kaydedilirken bir hata olutu"},accessibility:{closeModal:"Malzeme gncelleme modaln kapat",formTitle:"rn malzemeleri gncelleme formu",searchInput:"Malzeme ara",ingredientToggle:"Malzeme seimini deitir",quantityInput:"Malzeme miktarn gir",selectedIndicator:"Malzeme seili",unselectedIndicator:"Malzeme seili deil",ingredientCard:"Malzeme seim kart",saveButton:"Malzeme deiikliklerini kaydet",cancelButton:"Malzeme gncellemesini iptal et"}},SortableCategory:{product:"rn",products:"rn",editCategory:"Kategoriyi dzenle",status:{active:"active"},deleteCategory:"Kategoriyi sil",reorderingProducts:"rn sralamas kaydediliyor...",noCategoryProducts:"Bu kategoride henz rn yok.",expandCategory:"Kategoriyi genilet",collapseCategory:"Kategoriyi daralt",dragCategory:"Kategori srasn deitirmek iin srkle",accessibility:{categoryActions:"Kategori ilemleri",productCount:"rn says",expandToggle:"Kategori geniletme durumunu deitir",editCategoryButton:"Kategoriyi dzenle",deleteCategoryButton:"Kategoriyi sil",dragHandle:"Kategori srasn deitirmek iin srkleme kolu",categoryCard:"Kategori kart",emptyCategory:"Bo kategori",reorderingStatus:"Kategori yeniden sralanyor"}},SortableProduct:{outOfStock:"Stokta Yok",loadingIngredients:"Malzemeler ykleniyor...",ingredients:"Malzemeler",noIngredients:"Malzeme eklenmemi",loadingAddons:"Eklentiler ykleniyor...",addons:"Eklentiler",noAddons:"Eklenti eklenmemi",manageAddons:"Eklentileri ynet",editProduct:"rn dzenle",deleteProduct:"rn sil",dragProduct:"rn srasn deitirmek iin srkle",allergenic:"Alerjen ierir",recommended:"nerilen",price:"Fiyat",errors:{loadingIngredients:"Malzemeler yklenirken bir hata olutu.",loadingAddons:"Eklentiler yklenirken bir hata olutu."},accessibility:{productImage:"rn resmi",productCard:"rn kart",productActions:"rn ilemleri",dragHandle:"rn srasn deitirmek iin srkleme kolu",outOfStockBadge:"rn stokta yok",ingredientsList:"rn malzemeleri listesi",addonsList:"rn eklentileri listesi",allergenWarning:"Alerjen ierir",recommendedAddon:"nerilen eklenti",editButton:"rn dzenle",deleteButton:"rn sil",addonsButton:"rn eklentilerini ynet"}},IngredientsContent:{searchPlaceholder:"Malzemeleri ara...",filter:"Filtrele",sort:"Srala",newIngredient:"Yeni Malzeme",ingredientName:"Malzeme Ad",status:"Durum",allergenInfo:"Alerjen Bilgisi",actions:"lemler",available:"Kullanlabilir",unavailable:"Kullanlamaz",containsAllergens:"Alerjen erir",noAllergens:"Alerjen ermez",edit:"Dzenle",delete:"Sil",noIngredientsFound:"Arama kriterlerine uygun malzeme bulunamad.",noIngredientsYet:"Henz malzeme eklenmemi.",deleteIngredient:"Malzeme Sil",deleteConfirmMessage:'"{name}" malzemesini silmek istediinizden emin misiniz?',deleteError:"Silme ilemi srasnda bir hata olutu. Ltfen tekrar deneyin.",cancel:"ptal",deleting:"Siliniyor...",editIngredient:"Malzeme Dzenle",addNewIngredient:"Yeni Malzeme Ekle",basicInfo:"Temel Bilgiler",ingredientNameRequired:"Malzeme ad gereklidir",enterIngredientName:"Malzeme adn girin",containsAllergensCheckbox:"Alerjen erir",availableForUse:"Kullanm in Uygun",allergenInfoContent:"Alerjen Bilgileri",selectAllergensMessage:"Bu malzemenin ierdii alerjenleri sein:",enableAllergenMessage:'Alerjen semek iin nce "Alerjen erir" seeneini iaretleyin.',allergenDetails:"Alerjen Detaylar",containsThisAllergen:"Bu alerjeni ierir",additionalNotes:"Ek notlar (istee bal)",updateError:"Malzeme gncellenirken bir hata olutu.",createError:"Malzeme eklenirken bir hata olutu.",updating:"Gncelleniyor...",adding:"Ekleniyor...",update:"Gncelle",add:"Ekle",accessibility:{ingredientsTable:"Malzeme ynetimi Masas",searchInput:"Malzeme ara",filterButton:"Malzemeleri filtrele",sortButton:"Malzemeleri srala",addButton:"Yeni malzeme ekle",editButton:"Malzemeyi dzenle",deleteButton:"Malzemeyi sil",ingredientCard:"Malzeme bilgi kart",allergenSelection:"Alerjen seimi",formModal:"Malzeme formu modal",deleteModal:"Silme onay modal",statusBadge:"Malzeme durumu",allergenBadge:"Alerjen bilgisi",closeModal:"Modal kapat",dragToReorder:"Yeniden sralamak iin srkle"}},TableCard:{active:"Aktif",inactive:"Pasif",occupied:"Dolu",empty:"Bo",capacity:"Kii",capacityPlural:"Kii",edit:"Dzenle",downloadQR:"QR Kodu ndir",disable:"Devre D Brak",enable:"Aktifletir",delete:"Sil",viewQRCode:"QR Kodunu Grntle",moreOptions:"Daha fazla seenek",accessibility:{tableCard:"Masa bilgi kart",statusBadge:"Masa durumu",occupancyBadge:"Masa doluluk durumu",actionsMenu:"Masa ilemleri mens",qrCodePreview:"QR kod nizlemesi",editButton:"Masay dzenle",downloadButton:"QR kodu indir",toggleButton:"Masa durumunu deitir",deleteButton:"Masay sil"}},QRCodeModal:{tableAddOption:"Masa Ekleme Seenei",howToAddTables:"Nasl masa eklemek istiyorsunuz?",singleTable:"Tek Masa Ekle",bulkTable:"Toplu Masa Ekle",createSingleTable:"Tek bir masa olutur",createMultipleTables:"Birden fazla masa olutur",branchSelection:"ube Seimi",selectBranch:"ube Sein",branchRequired:"Gerekli",loadingBranches:"ubeler ykleniyor...",editTable:"Masay Dzenle",addSingleTable:"Tek Masa Ekle",tableName:"Masa Ad",tableNamePlaceholder:"rn: Masa 1",autoNameNote:"Bo braklrsa otomatik isim verilir",tableCategory:"Masa Alan",selectCategory:"Alan Sein",loadingCategories:"Kategoriler ykleniyor...",noCategories:"Alan bulunamad",capacity:"Kapasite",capacityPlaceholder:"Kii says",displayOrder:"Grnm Sras",displayOrderPlaceholder:"Sralama iin numara",autoOrderNote:"Bo braklrsa otomatik sralama yaplr",tableActive:"Masa aktif olsun",addBulkTables:"Toplu Masa Ekle",categoryQuantities:"Alan Baznda Masa Miktarlar",addCategory:"Alan Ekle",category:"Alan",tableCount:"Masa Says",allTablesActive:"Tm masalar aktif olsun",tableSummary:"Oluturulacak Masalar zeti:",total:"Toplam",tables:"masa",cancel:"ptal",adding:"Ekleniyor...",addTable:"Masa Ekle",update:"Gncelle",updating:"Gncelleniyor...",creating:"Oluturuluyor... ({count} masa)",createTables:"{count} Masa Olutur",branchRequiredValidation:"ube seimi gereklidir",categoryRequired:"En az bir kategori gereklidir",accessibility:{modal:"Masa oluturma modal",stepSelection:"Masa oluturma yntemi seimi",branchSelector:"ube seimi dropdown",categorySelector:"Masa Alan seimi",tableForm:"Masa oluturma formu",bulkForm:"Toplu masa oluturma formu",backButton:"nceki adma dn",closeButton:"Modal kapat"}},TableCategoryModal:{title:"Masa Alan Ekle",subtitle:"Yeni masa Alan oluturun",categoryName:"Alan Ad",categoryNamePlaceholder:"rn: VIP Masalar, Bahe Masalar",description:"Aklama (Opsiyonel)",descriptionPlaceholder:"Alan hakknda ksa aklama...",colorSelection:"Renk Seimi",customColor:"zel renk",iconSelection:"Icon Seimi",branchSelection:"ube Seimi",cancel:"ptal",addCategory:"Alan Ekle",saving:"Kaydediliyor...",table:"Masa",chair:"Sandalye",service:"Servis",label:"Etiket",layer:"Katman",categoryNameRequired:"Alan ad gereklidir",iconRequired:"Bir icon semelisiniz",branchRequired:"ube seimi gereklidir",invalidData:"Geersiz veri gnderildi",unauthorized:"Yetkiniz bulunmuyor. Ltfen tekrar giri yapn.",forbidden:"Bu ilem iin yetkiniz bulunmuyor.",branchNotFound:"Seilen ube bulunamad.",serverError:"Sunucu hatas olutu. Ltfen daha sonra tekrar deneyin.",unexpectedError:"Alan eklenirken beklenmeyen bir hata olutu",accessibility:{modal:"Masa Alan oluturma modal",colorPalette:"Renk seimi paleti",colorPreset:"Hazr renk seenei",customColorPicker:"zel renk seici",iconGrid:"Icon seimi grid",iconOption:"Icon seenei",branchDropdown:"ube seimi dropdown",form:"Alan oluturma formu"}},AddQRCodeCard:{title:"Yeni Masa Ekle",subtitle:"Yeni masa eklemek iin tklayn",accessibility:{addButton:"Yeni masa ekle butonu",addCard:"Yeni masa ekle kart"}},userManagementPage:{rolePermissionsModal:{title:"Grntleme izinleri",noPermissions:"zin Yok"},editRole:{title:"Rol Gncellemesi",save:"kaydet"},confirmation:{deleteRoleTitle:"Rol Sil",deleteRoleMessage:"Bu rol silmek istediinizden emin misiniz? Bu ilem geri alnamaz.",deactivateTitle:"Kullancy Devre D Brak?",deactivateMessage:"{name} adl kullancy devre d brakmak istediinizden emin misiniz? Sisteme eriimini kaybedecek."},title:"Kullanc Ynetimi",loading:"Ykleniyor...",error:{title:"Hata",loadFailed:"Kullanclar yklenirken hata olutu",rolesLoadFailed:"Roller yklenirken hata olutu",retry:"Tekrar Dene",createUserFailed:"Kullanc oluturulamad",createRoleFailed:"Rol oluturulamad",changePasswordFailed:"ifre deitirilemedi",assignBranchFailed:"ube atamas baarsz"},changePasswordModal:{title:"ifre Deitir",info:"Bu kullanc iin yeni bir ifre girin. Yeni ifre ile hemen giri yapabilecektir.",newPassword:"Yeni ifre",currentPassword:"Mevcut ifre",currentPasswordPlaceholder:"Mevcut ifreyi girin",currentPasswordEntered:"Mevcut ifre",newPasswordPlaceholder:"Yeni ifre girin",confirmPassword:"ifre Onay",confirmPasswordPlaceholder:"Yeni ifreyi onaylayn",requirements:"ifre Gereksinimleri:",minLength:"En az 6 karakter",passwordsMatch:"ifreler eleiyor",submit:"ifreyi Deitir",cancel:"ptal",changing:"Deitiriliyor...",validation:{passwordRequired:"ifre gereklidir",passwordMinLength:"ifre en az 6 karakter olmaldr",confirmPasswordRequired:"Ltfen ifreyi onaylayn",passwordMismatch:"ifreler elemiyor"}},assignBranchModal:{title:"ube Ata",assigningTo:"Atanyor",toNewBranch:"yeni bir ubeye",currentBranch:"Mevcut ube",branchIdDisplay:"(ID: {{id}})",newBranchLabel:"Yeni ube",selectBranchPlaceholder:"Bir ube sein",submitButton:"ube Ata",assignedToRestaurant:"Restorana Atand",assignToRestaurant:"Restoran atamas",submitButtonLoading:"Atanyor...",validation:{branchRequired:"Ltfen bir ube sein"}},stats:{total:"Toplam",active:"Aktif",users:"kullanc",roles:"rol",system:"Sistem",custom:"zel",totalUsers:"Toplam Kullanc",owner:"Sahip",manager:"Mdr",staff:"Personel"},tabs:{users:"Kullanclar",roles:"Roller"},controls:{search:"Kullanc, email veya telefon ara...",searchRoles:"Rol, aklama veya kategori ara...",filterAll:"Tm Kategoriler",filterOwner:"Restoran Sahibi",filterManager:"ube Mdr",filterStaff:"Personel",filterActive:"Aktif Kullanclar",filterInactive:"Pasif Kullanclar",addUser:"Kullanc Ekle",addRole:"Rol Ekle"},table:{user:"Kullanc",contact:"letiim",roles:"Roller",location:"Restoran/ube",status:"Durum",registrationDate:"Kayt Tarihi",actions:"lemler",role:"Rol",description:"Aklama",statistics:"statistikler",position:"Konum"},status:{active:"Aktif",inactive:"Pasif",enabled:"Etkin",disabled:"Devre D",systemRole:"Sistem Rol"},roleTypes:{RestaurantOwner:"Sahip",BranchManager:"Mdr",Staff:"Personel"},actions:{viewDetails:"Detaylar Grntle",edit:"Dzenle",activate:"Aktifletir",deactivate:"Devre D Brak",delete:"Sil",updateRoles:"Rolleri Gncelle",assignBranch:"ube Ata",viewPermissions:"zinleri Grntle",changePassword:"ifre Deitir"},updateRoles:{title:"Kullanc Rollerini Gncelle",update:"Gncelleme"},permissionsModal:{title:"zinler",close:"Kapat",userRoles:"Kullanc Rolleri",permissions:"zinler",permissionsCount:"Say",noPermissions:"Izin Yok"},editUserModal:{title:"Kullancy Dzenle",firstNameLabel:"Ad",lastNameLabel:"Soyad",emailLabel:"E-posta",usernameLabel:"Kullanc Ad",isActiveLabel:"Kullanc Aktif",saveButton:"Deiiklikleri Kaydet",saveButtonLoading:"Kaydediliyor...",validation:{firstNameRequired:"Ad alan zorunludur",lastNameRequired:"Soyad alan zorunludur",emailRequired:"E-posta alan zorunludur",usernameRequired:"Kullanc ad zorunludur"}},noResults:{usersNotFound:"Kullanc Bulunamad",rolesNotFound:"Rol Bulunamad",usersEmpty:"Henz kullanc eklenmemi.",rolesEmpty:"Henz rol eklenmemi.",searchEmpty:"Arama kriterlerinize uygun kullanc bulunamad.",searchEmptyRoles:"Arama kriterlerinize uygun rol bulunamad."},systemRoleInfo:"Sistem rolleri nceden tanmlanmtr ve deitirilemez.",createRole:{title:"Yeni Rol Olutur",stepBasicInfo:"Temel Bilgiler",stepPermissions:"zinler",selectBranch:"ube Seimi",step1Info:"Rol Olutur",step1Description:"Yeni rol iin temel bilgileri girin",continue:"zinlere Devam Et",branch:"ube",selectAll:"Tm ubeler",noBranch:"ube Yok",finish:"Bitir",creating:"Oluturuluyor...",saving:"Kaydediliyor...",step2Info:"Kullanc izinlerini sein",step2Description:"Artk bu rol iin izinleri tanmlayabilirsiniz.",branchHint:"Bu rol belirli bir ubeye atayn veya tm ubelerde geerli olsun",roleName:"Rol Ad",back:"Dn",skipPermissions:"Atla (Daha Sonra Ekle)",roleNamePlaceholder:"rn: ube Mdr",category:"Kategori",categoryPlaceholder:"rn: Ynetim",description:"Aklama",descriptionPlaceholder:"Roln grev ve sorumluluklarn aklayn...",restaurantId:"Restoran ID",restaurantIdPlaceholder:"Varsaylan: Mevcut restoran",branchId:"ube ID",branchIdPlaceholder:"Bo: Tm ubeler",isActive:"Rol aktif olsun",permissions:"zinler",permissionsSelected:"seildi",cancel:"ptal",create:"Rol Olutur",validation:{nameRequired:"Rol ad en az 3 karakter olmaldr",nameMaxLength:"Rol ad en fazla 50 karakter olabilir",descriptionMaxLength:"Aklama en fazla 200 karakter olabilir",categoryMaxLength:"Kategori en fazla 50 karakter olabilir"}},createUser:{title:"Yeni Kullanc Olutur",personalInfo:"Kiisel Bilgiler",contactInfo:"letiim Bilgileri",selectBranch:"ube Seimi",passwordInfo:"ifre Bilgileri",locationInfo:"Konum Bilgileri",roleAssignment:"Yetki ve Rol Atamas",honeNumber:"Telefon Numaras",confirmPassword:"ifreyi Onayla",location:"Konum",roles:"Roller",userIsActive:"Kullanc Aktif",firstName:"Ad",firstNamePlaceholder:"rn: Ahmet",lastName:"Soyad",lastNamePlaceholder:"rn: Ylmaz",userName:"Kullanc Ad",userNamePlaceholder:"Otomatik oluturulacak",userNameHint:"Bo braklrsa otomatik olarak ad.soyad formatnda oluturulacak",email:"Email",emailPlaceholder:"ahmet@example.com",phone:"Telefon",phonePlaceholder:"+90 555 123 4567",password:"ifre",passwordPlaceholder:"En az 6 karakter",passwordConfirm:"ifre Tekrar",passwordConfirmPlaceholder:"ifrenizi tekrar giriniz",systemRoleInfo:"Sistem rolleri nceden tanmlanmtr ve deitirilemez.",locationType:"Konum Tr",restaurant:"Restoran",branch:"ube",restaurantId:"Restoran ID",restaurantIdPlaceholder:"rn: 123",branchId:"ube ID",branchIdPlaceholder:"rn: 456",profileImage:"Profil Resmi URL",profileImagePlaceholder:"https://example.com/avatar.jpg",userCreatorId:"Oluturan Kullanc ID",userCreatorIdPlaceholder:"Mevcut kullanc ID",assignmentType:"Atama Tr",rolesSelection:"Mevcut Rollerden Seim (nerilen)",permissionsSelection:"Dorudan zin Seimi (u anda desteklenmiyor)",apiWarning:" API sadece rol tabanl kullanc oluturmay destekliyor. nce rol oluturup, sonra kullancya atayn.",rolesLabel:"Roller",rolesSelected:"seildi",noRoles:{title:"Henz rol tanmlanmam",description:"Kullanc oluturmadan nce roller sekmesinden rol oluturun",tip:' pucu: nce "Roller" sekmesine geerek gerekli rolleri oluturun',warning:"Rol Gerekli",warningDescription:'Kullanc oluturmak iin en az bir rol tanmlanmal. "Roller" sekmesinden yeni rol oluturabilirsiniz.'},isActive:"Kullanc aktif olsun",cancel:"ptal",create:"Kullanc Olutur",creating:"Oluturuluyor...",createRoleFirst:"nce Rol Oluturun",validation:{nameRequired:"Ad alan zorunludur",nameMaxLength:"Ad en fazla 50 karakter olabilir",surnameRequired:"Soyad alan zorunludur",surnameMaxLength:"Soyad en fazla 50 karakter olabilir",emailRequired:"Email alan zorunludur",emailInvalid:"Geerli bir email adresi giriniz",passwordRequired:"ifre en az 6 karakter olmaldr",passwordMaxLength:"ifre en fazla 100 karakter olabilir",passwordConfirmRequired:"ifre tekrar zorunludur",passwordMismatch:"ifreler elemiyor",phoneRequired:"Telefon numaras zorunludur",restaurantIdRequired:"Geerli bir restoran ID giriniz",branchIdRequired:"Geerli bir ube ID giriniz",rolesRequired:"En az bir rol semelisiniz",permissionsNotSupported:"API sadece rol tabanl kullanc oluturmay destekliyor. Ltfen mevcut rollerden birini sein."}},roleDetails:{userCount:"Kullanc Says",permissionCount:"zin Says",restaurant:"Restoran",created:"Oluturulma Tarihi",system:"Sistem Rol",branch:"ube",noDescription:"Aklama bulunmuyor",users:"kullanc",permissions:"izin",branchSpecific:"ube Spesifik"},permissionCategories:{UserManagement:"Kullanc Ynetimi",RestaurantManagement:"Restoran Ynetimi",BranchManagement:"ube Ynetimi",OrderManagement:"Sipari Ynetimi",ProductManagement:"rn Ynetimi",Analytics:"Analitik"},success:{userCreated:"Kullanc baaryla oluturuldu",roleCreated:"Rol baaryla oluturuldu",userUpdated:"Kullanc baaryla gncellendi",roleUpdated:"Rol baaryla gncellendi"}},BranchtableManagement:{title:"Masa Ynetimi",subtitle:"Restoran masalarnz ve alanlarnz ynetin",tabs:{tables:"Masalar",categories:"Alanlar",statistics:"statistikler",batchCreate:"Toplu Olutur"},buttons:{addTable:"Masa Ekle",addCategory:"Alan Ekle",batchCreate:"Toplu Olutur",edit:"Dzenle",delete:"Sil",save:"Kaydet",cancel:"ptal",refresh:"Yenile",selectAll:"Tmn Se",clearSelection:"Seimi Temizle",export:"Da Aktar",import:"e Aktar"},labels:{tableName:"Masa Ad",category:"Alan",capacity:"Kapasite",status:"Durum",occupation:"Doluluk",displayOrder:"Grntleme Sras",search:"Masalarda ara...",filterByCategory:"Alana Gre Filtrele",viewMode:"Grnm Modu",totalTables:"Toplam Masa",activeTables:"Aktif Masalar",occupiedTables:"Dolu Masalar",availableTables:"Bo Masalar"},status:{active:"Aktif",inactive:"Pasif",occupied:"Dolu",available:"Bo",outOfService:"Hizmet D"},actions:{markOccupied:"Dolu Olarak aretle",markAvailable:"Bo Olarak aretle",activate:"Aktifletir",deactivate:"Pasifletir",viewDetails:"Detaylar Grntle"},messages:{tableCreated:"Masa baaryla oluturuldu",tableUpdated:"Masa baaryla gncellendi",tableDeleted:"Masa baaryla silindi",statusUpdated:"Durum baaryla gncellendi",error:"Bir hata olutu",noTables:"Masa bulunamad",confirmDelete:"Bu masay silmek istediinizden emin misiniz?",loading:"Ykleniyor...",saving:"Kaydediliyor...",deleting:"Siliniyor..."},statistics:{title:"Masa statistikleri",occupancyRate:"Doluluk Oran",averageCapacity:"Ortalama Kapasite",categoryBreakdown:"Alan Dalm",dailyOccupancy:"Gnlk Doluluk",peakHours:"Youn Saatler"},forms:{createTable:"Yeni Masa Olutur",editTable:"Masay Dzenle",batchCreateTables:"Birden Fazla Masa Olutur",quantity:"Miktar",namePrefix:"Ad neki",startingNumber:"Balang Numaras"}},BranchTableManagement:{tableNameLabel:"Masa Ad",capacityLabel:"Kapasite",clearTable:"Masay temizleniyor",refreshTable:"Masa  gncelle",clearin:"Temizleniyor...",loading:"Ykleniyor...",category:"Alan",SelectCategory:"Alan Sein",Quantity:"Miktar",Capacity:"Kapasite",createTables:"Masalar Oluturuluyor...",creatingTables:"Masalar Oluturuluyor...",multiCategory:"Farkl alanlarda ayn anda birden fazla masa oluturun",batchCreateTables:"Toplu masa Olutur",header:"Alan & Masa Ynetimi",subheader:"Manage restaurant categories and tables with accordion view",totalCategories:"Total Categories",totalTables:"Total Tables",occupiedTables:"Occupied Tables",availableTables:"Available Tables",searchPlaceholder:"Search categories...",refresh:"Refresh",addCategory:"Add Category",addCategoryTitle:"Add New Category",categoryNameLabel:"Category Name",categoryNamePlaceholder:"Enter category name",colorLabel:"Color",iconLabel:"Icon",save:"Save",cancel:"Cancel",noCategories:"No categories found",addFirstCategory:"Add Your First Category",tablesCount:"tables",status:"Status",active:"Active",inactive:"Inactive",occupation:"Occupation",occupied:"Occupied",available:"Available",addTable:"Add Table",tableNamePlaceholder:"Table name",capacityPlaceholder:"Capacity",noTables:"No tables in this category",qrCodeTitle:"QR Code - {tableName}",qrCodeDescription:"Scan this QR code to access the table menu",downloadQR:"Download QR Code",downloading:"Downloading...",copyQRUrl:"Copy QR URL",copied:"Copied!",success:{tableCleared:"{{tableName}} masas temizlendi ve artk kullanlabilir",tableOccupied:"{{tableName}} masann durumu 'dolu' olarak gncellendi",tableClearedGeneric:"Masa baaryla temizlendi",tableStatusUpdated:"Masa durumu baaryla gncellendi",categoryAdded:"Category added successfully",categoryUpdated:"Category updated successfully",categoryDeleted:"Category deleted successfully",tableAdded:"Table added successfully",tableUpdated:"Table updated successfully",tableDeleted:"Table deleted successfully",categoryActivated:"Category activated successfully",categoryDeactivated:"Category deactivated successfully",tableActivated:"Table activated successfully",tableDeactivated:"Table deactivated successfully",tableAvailable:"Table marked as available",dataRefreshed:"Data refreshed successfully"},error:{clearTableFailed:"Masa temizlenemedi. Ltfen tekrar deneyin.",fetchCategoriesFailed:"Failed to fetch categories",fetchTablesFailed:"Failed to fetch tables",categoryNameRequired:"Category name is required",createCategoryFirst:"Please create a category first",addCategoryFailed:"Failed to add category",updateCategoryFailed:"Failed to update category",deleteCategoryFailed:"Failed to delete category",categoryHasTables:"Cannot delete category with existing tables",categoryNotFound:"Category not found",addTableFailed:"Failed to add table",updateTableFailed:"Failed to update table",deleteTableFailed:"Failed to delete table",tableNameRequired:"Table name is required",tableNotFound:"Table not found",updateCategoryStatusFailed:"Failed to update category status",updateTableStatusFailed:"Failed to update table status",updateTableOccupationFailed:"Failed to update table occupation",refreshFailed:"Failed to refresh data"}},branchManagementBranch:{title:"ube Ynetimi",description:"ube bilgilerinizi ve ayarlarnz ynetin.",loading:"ube bilgileri ykleniyor...",noBranchFound:"Herhangi bir ube bulunamad",uploadLogo:"Logoyu Ykle",noLogo:"Logo Yok",logoAlt:"ube Logosu",uploading:"Ykleniyor...",uploadPrompt:"Resmi brakn veya gz atmak iin tklayn",uploadHint:"5 MB'ye kadar PNG, JPG, GIF",status:{open:"Ak",closed:"Kapal",temporarilyClosed:"Geici Kapal",reopenBranch:"ubeyi A",temporaryClose:"Geici Kapat"},actions:{edit:"Dzenle",save:"Kaydet",cancel:"ptal",delete:"Sil",deleting:"Siliniyor...",confirmDelete:"Silmeyi Onayla",deleteWarning:"Bu ubeyi silmek istediinizden emin misiniz? Bu ilem geri alnamaz.",onlineMenu:"evrimii Menye Git"},basicInfo:{title:"Temel Bilgiler",branchName:"ube Ad",whatsappNumber:"WhatsApp Numaras",email:"E-posta",notSpecified:"Belirtilmemi"},addressInfo:{title:"Adres Bilgileri",country:"lke",city:"ehir",street:"Sokak",postalCode:"Posta Kodu",region:"Blge"},workingHours:{title:"alma Saatleri",workingDay:"alma gn",openTime:"Al Saati",closeTime:"Kapan Saati",noWorkingHours:"alma saatleri belirtilmemi",days:{0:"Pazar",1:"Pazartesi",2:"Sal",3:"aramba",4:"Perembe",5:"Cuma",6:"Cumartesi"}},messages:{updateSuccess:"ube bilgileri baaryla gncellendi",deleteSuccess:"ube baaryla silindi",temporaryCloseSuccess:"ube geici olarak kapatld",reopenSuccess:"ube tekrar ald",updateError:"Gncelleme srasnda hata olutu",deleteError:"Silme ilemi srasnda hata olutu",statusChangeError:"Durum deitirme srasnda hata olutu",loadError:"ube bilgileri yklenirken hata olutu"},placeholders:{branchName:"ube adn girin",whatsappNumber:"WhatsApp numarasn girin",email:"E-posta adresini girin",country:"lke adn girin",city:"ehir adn girin",street:"Sokak adn girin",postalCode:"Posta kodunu girin",region:"Blge adn girin"}},branchCategories:{header:"ube Kategori Ynetimi",subheader:" ubesi iin kategorileri ve rnleri ynet",lastUpdated:"Son Gncelleme",stats:{availableCategories:"Mevcut Kategoriler",readyToAdd:"Eklemeye hazr",activeCategories:"Aktif Kategoriler",currentlyInBranch:"u anda ubede",selectedCategories:"Seilen Kategoriler",toBeAdded:"Eklenecek",selectedProducts:"Seilen rnler",fromCategories:"Kategorilerden",avalibleAddons:"Mevcut Eklentiler"},status:{active:"Aktif",inactive:"Pasif"},tabs:{addNew:"Yeni Ekle",manageExisting:"Mevcut Olanlar Ynet"},steps:{chooseCategories:"Kategori Se",selectProducts:"rn Se",reviewAdd:"ncele ve Ekle",finalStep:"Son adm",selected:"seili",back:"Geri"},addCategories:{title:"Kategori Se",subtitle:"ubenize eklemek istediiniz kategorileri sein",noAvailable:"Mevcut kategori yok",allAdded:"Mevcut tm kategoriler bu ubeye eklenmi",categoriesSelected:"kategori seildi",clearSelection:"Seimi Temizle",nextSelectProducts:"Sonraki: rn Se"},selectProducts:{title:"rn Se",subtitle:"Seilen kategorilerden rnleri sein",selectAll:"Tmn Se",clearAll:"Tmn Temizle",noProducts:"rn bulunamad",selected:"seildi",noProductsInCategories:"Seilen kategorilerde herhangi bir rn yok",available:"mevcut",productsSelectedFrom:"rn seildi",categories:"kategoriden",reviewSelection:"Seimi ncele"},review:{title:"ncele ve Ekle",subtitle:"ubeye eklemeden nce seiminizi inceleyin",of:"/",productsSelected:"rn seildi",all:"Tm",productsWillBeAdded:"rn eklenecek",totalValue:"Toplam deer",selectedProducts:"Seilen rnler",readyToAdd:"Eklemeye hazr",with:"ile",availableInBranch:"ubede Mevcut",startOver:"Batan Bala",adding:"Ekleniyor...",addToBranch:"ubeye Ekle"},manage:{title:"Mevcut Kategorileri Ynet",subtitle:"ubenizdeki kategorileri ve rnleri ynetin",saving:"Kaydediliyor...",saveOrder:"Sray Kaydet",exitReorder:"Sralamadan k",reorder:"Yeniden Srala",noCategoriesAdded:"Hi kategori eklenmemi",noCategoriesAddedDesc:"Bu ubeye henz hi kategori eklenmemi",addCategories:"Kategori Ekle",original:"Orijinal:",added:"eklendi",available:"mevcut",total:"Toplam",active:"Aktif",inactive:"Pasif",protected:"Korumal"},products:{inCategory:"Kategorideki rnler",added:"Eklendi",available:"Mevcut",ingredients:"ierik",allergens:"alerjen",viewDetails:"Detaylar Grntle",removeFromBranch:"ubeden Kaldr",addToBranch:"ubeye Ekle",addedToBranch:"ubeye eklenen rn",moreAvailableToAdd:"daha eklenebilir",withDetailedInfo:"detayl bilgili",products:"rn"},productDetails:{addedToBranch:"ubeye Eklendi",allergens:"Alerjenler",contains:"erir",mayContain:"erebilir",ingredients:"erikler",allergenic:"Alerjenik",available:"Mevcut",unavailable:"Mevcut Deil",quantity:"Miktar:",ingredientId:"erik ID:",allergenInformation:"Alerjen Bilgisi:",additionalInformation:"Ek Bilgiler",originalProduct:"Orijinal rn",originalPrice:"Orijinal Fiyat:",originalStatus:"Orijinal Durum:",originalDisplayOrder:"Orijinal Grnt Sras:",orderDetails:"Sipari Detaylar",lastUpdated:"Son Gncelleme:",close:"Kapat"},actions:{refresh:"Yenile",delete:"Sil",edit:"Dzenle",save:"Kaydet",cancel:"ptal",confirm:"Onayla",loading:"Ykleniyor..."},search:{categories:"Kategorilerde ara...",products:"rnlerde ara..."},status:{active:"Aktif",inactive:"Restaurant tarafndan devre d brakld",available:"Mevcut",unavailable:"Mevcut Deil"},messages:{success:{categoryAdded:"Kategori baaryla eklendi",categoryDeleted:"Kategori baaryla silindi",productAdded:"{name} rn baaryla eklendi",productRemoved:"{name} rn baaryla kaldrld",orderSaved:"Kategori sras baaryla kaydedildi"},error:{cannotDelete:'"{name}" kategorisi {count} rn ierdii iin silinemez. Ltfen nce tm rnleri kaldrn.',cannotDeleteTooltip:"Silinemez: Kategori {count} rn ieriyor. nce tm rnleri kaldrn.",productNotFound:"rn bulunamad",addingProduct:"rn eklenirken hata",removingProduct:"rn kaldrlrken hata",savingOrder:"Sra kaydedilirken hata",loadingCategories:"Kategoriler yklenirken hata",loadingProducts:"rnler yklenirken hata"}},deleteModal:{title:"Alan Sil",message:'"{name}" Alansn silmek istediinizden emin misiniz? Bu ilem geri alnamaz.',confirm:"Sil",cancel:"ptal"},placeholders:{searchCategories:"Kategorilerde ara...",searchProducts:"rnlerde ara..."}},profile:{title:"Profil",personalInfo:"Kiisel Bilgiler",editProfile:"Profili Dzenle",accountStatus:{active:"Aktif Hesap",inactive:"Pasif Hesap",status:"Hesap Durumu"},fields:{firstName:"Ad",lastName:"Soyad",username:"Kullanc Ad",email:"E-posta",registrationDate:"Kayt Tarihi",restaurantName:"Restoran Ad",status:"Durum"},restaurant:{info:"Restoran Bilgileri",name:"Restoran Ad",status:{active:"Aktif",inactive:"Pasif"}},permissions:{summary:"Yetki zeti",totalCategories:"Toplam Kategori",totalPermissions:"Toplam zin",rolesAndPermissions:"Kategoriler ve zinler",systemRole:"Sistem Rol"},categories:{Category:"Kategori Ynetimi",BranchCategory:"ube Kategori Ynetimi",Product:"rn Ynetimi",BranchProduct:"ube rn Ynetimi",BranchQRCode:"QR Kod Ynetimi",Order:"Sipari Ynetimi",Restaurant:"Restoran Ynetimi",Branch:"ube Ynetimi",Admin:"Ynetici lemleri"},permissionNames:{"category.create":"Kategori Oluturma","category.delete":"Kategori Silme","category.update":"Kategori Gncelleme","category.read":"Kategori Grntleme","branch.category.create":"ube Kategorisi Oluturma","branch.category.delete":"ube Kategorisi Silme","branch.category.update":"ube Kategorisi Gncelleme","branch.category.read":"ube Kategorisi Grntleme","product.create":"rn Oluturma","product.delete":"rn Silme","product.update":"rn Gncelleme","product.read":"rn Grntleme","product.edit":"rn Dzenleme","branch.product.create":"ube rn Oluturma","branch.product.delete":"ube rn Silme","branch.product.update":"ube rn Gncelleme","branch.product.read":"ube rn Grntleme","branch.qrcode.create":"QR Kodu Oluturma","branch.qrcode.delete":"QR Kodu Silme","branch.qrcode.update":"QR Kodu Gncelleme","branch.qrcode.read":"QR Kodu Grntleme","order.create":"Sipari Oluturma","order.delete":"Sipari Silme","order.update":"Sipari Gncelleme","order.read":"Sipari Grntleme","order.view":"Sipari Detay Grntleme","order.cancel":"Sipari ptal Etme","restaurant.create":"Restoran Oluturma","restaurant.delete":"Restoran Silme","restaurant.update":"Restoran Gncelleme","restaurant.read":"Restoran Grntleme","restaurant.user.create":"Restoran Kullancs Oluturma","restaurant.user.delete":"Restoran Kullancs Silme","restaurant.user.update":"Restoran Kullancs Gncelleme","restaurant.user.read":"Restoran Kullancs Grntleme","branch.create":"ube Oluturma","branch.delete":"ube Silme","branch.update":"ube Gncelleme","branch.read":"ube Grntleme","branch.user.create":"ube Kullancs Oluturma","branch.user.delete":"ube Kullancs Silme","branch.user.update":"ube Kullancs Gncelleme","branch.user.read":"ube Kullancs Grntleme","admin.api.control":"API Kontrol"},error:{loadFailed:"Profil verisi alnamad"}},addonModal:{title:"Eklentileri Yaplandr",loading:"Eklentiler ykleniyor...",refresh:"Yenile",search:{placeholder:"Eklentileri ad, aklama veya kategoriye gre arayn..."},stats:{available:"Mevcut",assigned:"Atanm",recommended:"nerilen"},sections:{assignedAddons:"Atanm Eklentiler",availableAddons:"Mevcut Eklentiler"},emptyState:{title:"Mevcut eklenti yok",description:"Bu rn iin eklenti kombinasyonlar tanmlamak iin restoran ynetimiyle iletiime gein",productId:"rn ID:"},actions:{add:"Ekle",remove:"Kaldr",configure:"Yaplandr",done:"Tamam",saveChanges:"Deiiklikleri Kaydet"},status:{assigned:"ATANMI",recommended:"nerilen"},configuration:{title:"Yaplandrma Ayarlar",specialPrice:"zel Fiyat",maxQuantity:"Maksimum Miktar",minQuantity:"Minumum Miktar",marketingText:"Pazarlama Metni",markRecommended:"nerilen olarak iaretle",placeholders:{marketingText:"rn., Popler seim, En iyi deer, Mteri favorisi..."}},messages:{success:{addonAdded:"Eklenti baaryla eklendi",addonRemoved:"Eklenti baaryla kaldrld",addonUpdated:"Eklenti baaryla gncellendi"},errors:{loadFailed:"rn eklentileri yklenemedi",updateFailed:"Eklenti atamas gncellenemedi",propertiesFailed:"Eklenti zellikleri gncellenemedi"}},footer:{summary:"of",addon:"eklenti",addons:"eklenti",assigned:"atanm"}},menu:{title:"Men",basePrice:"Temel Fiyat",loading:"Men Ykleniyor",allergens:"Alerjen Bilgisi",quantity:"Miktar",extras:"Ekstralar",required:"Gerekli",addons:"Eklentiler",product:"rn",addToBasket:"Sepete Ekle",addToOrder:"Siparie Ekle",loadingSubtitle:"Lezzetli seimlerimizi sizin iin hazrlyoruz...",error:{title:"Men Mevcut Deil",tryAgain:"Tekrar Dene"},search:{placeholder:"Lezzetli yemekler ara..."},categories:"Kategoriler",ingredients:"Malzemeler",open:"Ak",closed:"Kapal",chefsChoice:"ef'in nerisi",add:"Ekle",remove:"Kaldr",items:"e",item:"e",available:"mevcut",deliciousItems:"lezzetli",exploreMenu:"Menmz Kefedin",noResults:"Sonu bulunamad",noResultsDesc:"Farkl anahtar kelimeler deneyin veya dier kategorilere gz atn",noItemsCategory:"Bu kategoride e yok",noItemsCategoryDesc:"Lezzetli seenekler iin dier kategorileri kontrol edin",selectCategory:"zenle hazrlanm mutfak tekliflerimizi kefetmeye balamak iin bir kategori sein",whyChooseUs:{title:"Neden Bizi Semelisiniz?",subtitle:"Kalite, tazelik ve olaanst hizmet taahhdmzle mutfak mkemmelliini deneyimleyin",freshIngredients:{title:"Taze Malzemeler",description:"Yerel kaynakl, premium kalite malzemeler gnlk hazrlanr"},fastDelivery:{title:"Hzl Teslimat",description:"Kapnza hzl ve gvenilir teslimat hizmeti"},qualityAssured:{title:"Kalite Garantisi",description:"Titiz kalite kontrol ve hijyen standartlar"},expertChefs:{title:"Uzman efler",description:"Unutulmaz deneyimler yaratan deneyimli mutfak profesyonelleri"}},footer:{brand:"MenuHub",description:"Sekin restoran ve lezzetli mutfak sekimizle olaanst yemek deneyimleri kefedin.",quickLinks:"Hzl Balantlar",getInTouch:"letiime Gein",visitUs:"Bizi Ziyaret Edin",callUs:"Bizi Arayn",emailUs:"Bize Mail Gnderin",copyright:"Tm haklar sakldr.",privacyPolicy:"Gizlilik Politikas",termsOfService:"Hizmet artlar",poweredBy:"Destekleyen",links:{ourMenu:"Menmz",aboutUs:"Hakkmzda",locations:"Lokasyonlar",reservations:"Rezervasyonlar",specialOffers:"zel Teklifler",giftCards:"Hediye Kartlar"},services:{onlineOrdering:"Online Sipari",tableBooking:"Masa Rezervasyonu",privateEvents:"zel Etkinlikler",catering:"Catering",takeaway:"Paket Servis",corporateMeals:"Kurumsal Yemekler"}},cart:{title:"Sepet",order_can_be_updated:"Sipari gncellenebilir",time_remaining:"Kalan sre",modified_times:"{{count}} kez deitirildi",price_change_title:"Fiyat deiiklii",cancel_reason_prompt_title:"ptal Nedeni",reason:"ptal Nedeni",submit:"Gnder",confirm:"Onayla",confirm_cancel_title:"Yazdnz sebep restorana iletilecektir",cancel_order_confirm:"Siparii iptal etmek istediinizden emin misiniz?",order_cancelled_success:"Sipariiniz Baaryla ptal edildi",cancel:"Reddet",success:"Baarl",edit_order:"Siparii dzenle",edit_order_items:"Sipari elerini Dzenle",update_reason:"Gncelleme Nedeni",update_reason_placeholder:"Bu siparii neden gncelliyorsunuz?",update_reason_required:"Ltfen gncelleme iin bir neden belirtin",no_changes_detected:"Deiiklik alglanmad. Ltfen gncellemeden nce eleri deitirin.",characters:"karakter",updating:"Gncelleniyor...",update_order:"Siparii Gncelle",was:"nceden",add_note:"Not ekle...",marked_for_deletion:"Silinmek zere iaretlendi",restore_item:"eyi geri ykle",delete_item:"eyi sil",order_updated_success:"Sipari baaryla gncellendi!",order_update_failed:"Sipari gncellenemedi",price_change_confirm:"Siparii verdiinizden beri baz fiyatlar deiti. Gncellemeye devam etmek istiyor musunuz?",cancel_order:"Siparii ptal Et",orderType:"Sipari Tr:",table:"Masa:",notes:"Notlar:",refresh:"Yenile",refreshing:"Yenileniyor...",remove:"Kaldr",empty:"Sepetiniz bo",newOrder:"Yeni Sipari",orders:"Sipariler",placeOrder:"Sipari Ver",emptyDesc:"Sepetinize rn ekleyerek balayn",total:"Toplam",proceed:"Siparie Ge",processing:"leniyor...",clear:"Sepeti Temizle",item:"rn",items:"rn",variant:"varyant",variants:"varyant",plain:"Sade",customized:"zelletirilmi",addons:"Ekstralar",variantTotal:"Varyant Toplam",quantity:"Miktar",each:"adet",min:"Min",max:"Maks",qty:"Adet",minQuantityError:"{name} iin minimum miktar {min}",maxQuantityError:"{name} iin maksimum miktar {max}",decreaseQuantity:"Miktar azalt",increaseQuantity:"Miktar artr",creating_order:"Sipari oluturuluyor...",order_created_success:"Sipari baaryla oluturuldu!",order_creation_failed:"Sipari oluturulamad. Ltfen tekrar deneyin.",sending_whatsapp:"WhatsApp mesaj gnderiliyor...",whatsapp_sent_success:"WhatsApp mesaj baaryla gnderildi!",whatsapp_send_failed:"WhatsApp mesaj gnderilemedi",clearing_basket:"Sepet temizleniyor...",basket_cleared:"Sepet baaryla temizlendi!",clear_basket_failed:"Sepet temizlenemedi",load_order_types_failed:"Sipari trleri yklenemedi",confirming_price_changes:"Fiyat deiiklikleri onaylanyor...",price_changes_confirmed:"Fiyat deiiklikleri baaryla onayland!",price_changes_failed:"Fiyat deiiklikleri onaylanamad",session_required:"Oturum kimlii gerekli",extras:"Seenekler",without:"karlan",extra:"Ekstra",add:"Ekle"}},order:{form:{title:"Sipari Detaylar",orderType:"Sipari Tr",tableNumberRequired:"Masa numaras zorunlu",paymentMethod:"deme Yntemi",name:"sim",tableNumber:"Masa Numras",tableNumberPlaceholder:"Masa numaras burada giriniz...",address:"Adres",phone:"Telefon",specialInstructions:"zel Talimatlar",paymentMethods:"deme Yntemleri",cashDescription:"Nakit deme teslimatta yaplacak",creditCardDescription:"Kredi kart ile evrimii deme",onlinePaymentDescription:"evrimii deme portal zerinden deme",otherDescription:"Dier deme yntemleri hakknda restoranla iletiime gein",paymentMethodRequired:"deme yntemi gerekli",selectPaymentMethod:"deme Yntemini sein...",cash:"Nakit",creditCard:"Kredi Kart",onlinePayment:"Online deme",other:"Dier",information:"Bilgi",orderTypeRequired:"Sipari tr gerekli",selectOrderType:"Sipari trn sein...",orderInformation:"Sipari Bilgileri",customerName:"Mteri Ad",customerNameRequired:"Mteri ad gerekli",customerNamePlaceholder:"Mteri adn girin",deliveryAddress:"Teslimat Adresi",deliveryAddressRequired:"Bu sipari tr iin teslimat adresi gerekli",deliveryAddressPlaceholder:"Teslimat adresini girin",phoneNumber:"Telefon Numaras",phoneNumberRequired:"Bu sipari tr iin telefon numaras gerekli",phoneNumberPlaceholder:"Telefon numarasn girin",specialInstructionsPlaceholder:"Sipariiniz iin zel talimatlar...",orderSummary:"Sipari zeti",notes:"Sipari Notlar",notesPlaceholder:"zel bir isteiniz var m? (rnein soan yok)",subtotal:"Ara Toplam",serviceCharge:"Servis creti",minimumRequired:"Minimum gerekli",estimatedTime:"Tahmini sre",minutes:"dakika",backToCart:"Sepete Geri Dn",createOrder:"Sipari Olutur",creating:"Oluturuluyor...",loadingOrderTypes:"Sipari trleri ykleniyor...",noOrderTypes:"Mevcut sipari tr yok. Ltfen destek ile iletiime gein.",minimumOrder:"Minimum sipari",service:"servis",minimumOrderError:"{type} iin minimum sipari tutar ${amount}. Mevcut toplam: ${current}"},validation:{fixErrors:"Ltfen aadaki hatalar dzeltin:",customerNameRequired:"Mteri ad gerekli",orderTypeRequired:"Ltfen bir sipari tr sein",addressRequired:"Bu sipari tr iin teslimat adresi gerekli",phoneRequired:"Bu sipari tr iin telefon numaras gerekli"}},priceChange:{title:"Fiyat Deiiklikleri Tespit Edildi",description:"Sepetinizdeki baz rnlerin fiyat deiiklikleri var ve siparie devam etmeden nce onaylanmas gerekiyor.",changesRequired:"Gerekli Deiiklikler:",defaultMessage:"Devam etmek iin fiyat gncellemelerinin onaylanmas gerekiyor.",cancel:"ptal",confirm:"Onayla ve Devam Et",confirming:"Onaylanyor..."},productModal:{customizeOrder:"Sipariinizi zelletirin",allergenInformation:"Alerjen Bilgileri",ingredients:"indekiler",availableAddons:"Mevcut Ekstralar",add:"Ekle",recommended:"nerilen",min:"Min",max:"Maks",orderSummary:"Sipari zeti",quantity:"Miktar",total:"Toplam",addToCart:"Sepete Ekle",addons:"Ekstralar",extras:"Seenekler",required:"Zorunlu",selected:"seildi",select:"Se",minSelect:"Min",maxSelect:"Maks",qty:"Adet",removal:"karma",remove:"kar",removed:"karld",categoryRequired:"{{name}} zorunludur",minSelectionError:"{{name}} iin en az {{min}} seim yapn",maxSelectionError:"{{name}} iin en fazla {{max}} seim yaplabilir",extraRequired:"{{name}} seimi zorunludur"},errors:{loadingBasket:"Sepet yklenemedi",loadingOrderTypes:"Sipari trleri yklenemedi",removingItem:"rn sepetten kaldrlamad",increasingQuantity:"rn miktar artrlamad",decreasingQuantity:"rn miktar azaltlamad",increasingAddonQuantity:"Ekstra miktar artrlamad",clearingBasket:"Sepet temizlenemedi",creatingOrder:"Sipari oluturulamad",orderAlreadyProcessing:"Bu sipari zaten ileniyor",priceChangeDetails:"Fiyat deiiklii detaylar yklenemedi",confirmingPriceChanges:"Fiyat deiiklikleri onaylanamad",sessionIdRequired:"Fiyat deiiklii onay iin oturum kimlii gerekli",addonProductNotFound:"Ekstra rn kimlii bulunamad",cartItemNotFound:"Sepet rn bulunamad"},ordersManager:{total:"Toplam",subTotal:"Ara Toplam",modificationHistory:"deiiklik Gemii",lastModifiedAt:"Son Deitirilme Tarihi",modifiedBy:"Deitiren",modificationDetails:"DeiiklikAyrntlar",items:"eler",loadingOrders:"Sipariler Ykleniyor...",filtered:"Filtrelenen",clearFilters:"Filtreleri Temizle",serviceFeeApplied:"Servis creti",OrderType:"Sipari Tr",DeliveryAddress:"Teslimat Adresi",OrderNotesInformation:"Sipari Notlar & Bilgiler",OrderMetadata:"Sipari Meta Verisi",ItemCount:"rn Says",TotalItems:"Toplam rnler",OrderTimeline:"Sipari Zaman izelgesi",searchPlaceholder:"Burada Yaz",showAdvancedFilter:"Gelimi Filtreleri Gster",hideAdvancedFilter:"Gelimi Filtreleri Gizle",of:"in",orders:"sipariler",clearFilter:"Filtreleri Temizle",customerName:"Mteri Ad",tableName:"Masa Ad",orderType:"Sipari Tr",minPrice:"Minimum Fiyat",maxPrice:"Maksimum Fiyat",Showing:"Gsteriliyor",to:"a",perpage:"Sayfa Bana",cancelOrder:"Siparii ptal Et",cancelOrderConfirmation:"Siparii iptal etmek istediinizden emin misiniz?",deletedOrders:"Slienen Sipariler",title:"Sipari Ynetimi",description:"Restorannzn siparilerini kolayca ynetin ve takip edin.",pendingOrders:"Bekleyen Sipariler",branchOrders:"ube Siparileri",allStatuses:"Tm Durumlar",statusFilter:"Durum Filtresi",noOrders:"Henz  sipari yok.",customer:"Mteri",orderNumber:"Sipari No",status:"Durum",table:"Masa",amount:"Tutar",date:"Tarih",actions:"lemler",viewDetails:"Detaylar Grntle",confirm:"Onayla",reject:"Reddet",changeStatus:"Durum Deitir",orderItems:"Sipari rnleri",createdAt:"Oluturulma",confirmedAt:"Onaylanma",rowVersion:"Row Version",confirmOrderTitle:"Siparii Onayla",confirmOrderPrompt:"Bu siparii onaylamak istediinizden emin misiniz?",rejectOrderTitle:"Siparii Reddet",rejectOrderPrompt:"Reddetme nedenini girin:",rejectReasonPlaceholder:"Reddetme nedeni...",updateStatusTitle:"Durumu Gncelle",updateStatusPrompt:"Sipari durumunu {status} olarak gncellemek istediinizden emin misiniz?",cancel:"ptal",confirmAction:"Onayla",rejectAction:"Reddet",updateActio:"Gncelle",confirming:"Onaylanyor...",rejecting:"Reddediliyor...",updating:"Gncelleniyor...",orderDetailsTitle:"Sipari Detaylar",successNotification:"lem Baarl",orderConfirmedSuccess:"Sipari baaryla onayland!",orderRejectedSuccess:"Sipari baaryla reddedildi!",orderStatusUpdatedSuccess:"Sipari durumu baaryla gncellendi!",errorInvalidStatusTransition:"Geersiz durum geii: Ltfen nce siparii onaylayn (Onayland durumuna gein).",errorCannotConfirm:"Bu sipari onaylanamaz. Mevcut durum: {currentStatus}.",quantity:"Miktar",unitPrice:"Birim Fiyat",addonPrice:"Ekstra Fiyat",notes:"Not",amountLabel:"Toplam Tutar",DeliveryInformation:"Teslimat Bilgileri",TableInformation:"Masa Bilgileri",CustomerInformation:"Mteri Bilgileri",CustomerName:"Mteri Ad",PhoneNumber:"Telefon Numaras",OrderTag:"Etiket",OrderNotes:"Sipari Notlar",MinOrderAmount:"Minimum Sipari Tutar",CompletedAt:"Tamamlanma Tarihi",time:"saat",Status:"Durum"},orderService:{statuses:{pending:"Bekliyor",confirmed:"Onayland",preparing:"Hazrlanyor",ready:"Hazr",completed:"Tamamland",delivered:"Teslim Edildi",cancelled:"ptal Edildi",rejected:"Reddedildi",unknown:"Bilinmeyen"},errors:{createSessionOrder:"Session order oluturulurken hata olutu",getPendingOrders:"Pending orders getirilirken hata olutu",getTableOrders:"Table orders getirilirken hata olutu",getOrder:"Order getirilirken hata olutu",getBranchOrders:"Branch orders getirilirken hata olutu",confirmOrder:"Order onaylanrken hata olutu",rejectOrder:"Order reddedilirken hata olutu",updateOrderStatus:"Order status gncellenirken hata olutu",trackOrder:"Order tracking getirilirken hata olutu",getOrderTrackingQR:"Order tracking QR getirilirken hata olutu",smartCreateOrder:"Smart order oluturulurken hata olutu",getTableBasketSummary:"Table basket summary getirilirken hata olutu",validationError:"Dorulama hatas: {errors}",invalidRequest:"Geersiz istek. Ltfen verileri kontrol edin.",sessionExpired:"Oturum sreniz dolmu. Ltfen tekrar giri yapn.",unauthorized:"Bu ilem iin yetkiniz bulunmuyor.",orderNotFound:"Sipari bulunamad.",invalidStatus:"Sipari durumu bu ileme uygun deil.",noInternet:"nternet balantnz kontrol edin.",unknownError:"Bilinmeyen hata",getOrderTypeText:"Order type text getirme hatas",getOrderType:"Order type getirme hatas",getActiveOrderTypes:"Active order types getirme hatas",getAllOrderTypes:"All order types getirme hatas",orderTotalCalculation:"Order total calculation hatas",getEstimatedTime:"Estimated time getirme hatas",getOrderTypeByCode:"Order type by code getirme hatas",getOrderTypesForDisplay:"Order types for display getirme hatas",unknownOrderType:"Bilinmeyen Sipari Tr"}},branchPreferences:{title:"ube Tercihleri",description:"ubeye zel ayarlar ve tercihleri yaplandrn",loading:"ube tercihleri ykleniyor...",saving:"Kaydediliyor...",refresh:"Yenile",saveChanges:"Deiiklikleri Kaydet",saveSuccess:"ube tercihleri baaryla kaydedildi!",cleanupModes:{afterTimeout:"Zaman Amndan Sonra",afterClosing:"Kapatmadan Sonra",disabled:"Devre D"},sections:{orderManagement:{title:"Sipari Ynetimi",description:"Siparilerin nasl ilendiini ve ynetildiini yaplandrn",autoConfirmOrders:"Siparileri Otomatik Onayla",autoConfirmOrdersDesc:"Gelen siparileri manuel onay olmadan otomatik olarak onaylayn",useWhatsappForOrders:"Sipariler iin WhatsApp",useWhatsappForOrdersDesc:"Sipari bildirimleri iin WhatsApp entegrasyonunu etkinletirin"},displaySettings:{title:"Grnt Ayarlar",description:"Mterilere hangi bilgilerin gsterileceini yaplandrn",showProductDescriptions:"rn Aklamalarn Gster",showProductDescriptionsDesc:"Mterilere detayl rn aklamalarn gster",enableAllergenDisplay:"Alerjen Bilgilerini Gster",enableAllergenDisplayDesc:"Alerjen uyarlarn ve bilgilerini gster",enableIngredientDisplay:"erikleri Gster",enableIngredientDisplayDesc:"rnler iin ierik listelerini gster"},paymentMethods:{title:"deme Yntemleri",description:"Kabul edilen deme yntemlerini yaplandrn",acceptCash:"Nakit demeleri Kabul Et",acceptCashDesc:"Mterilerin nakit ile deme yapmalarna izin ver",acceptCreditCard:"Kredi Kartlarn Kabul Et",acceptCreditCardDesc:"Mterilerin kredi/banka kartlar ile deme yapmalarna izin ver",acceptOnlinePayment:"Online demeleri Kabul Et",acceptOnlinePaymentDesc:"Mterilerin dijital deme yntemleri ile online deme yapmalarna izin ver"},localization:{title:"Yerelletirme",description:"Dil ve blgesel ayarlar yaplandrn",defaultLanguage:"Varsaylan Dil",defaultCurrency:"Varsaylan Para Birimi",timeZone:"Saat Dilimi",supportedLanguages:"Desteklenen Diller"},sessionManagement:{title:"Oturum Ynetimi",description:"Oturum zaman am ve temizleme ayarlarn yaplandrn",sessionTimeout:"Oturum Zaman Am (Dakika)",cleanupMode:"Temizleme Modu",cleanupDelay:"Kapan Sonras Temizleme Gecikmesi (Dakika)",cleanupModeDesc:"Sresi dolan oturumlarn ne zaman temizleneceini sein",sessionTimeoutDesc:"Hareketsizlik nedeniyle oturumun sona ermesinden nceki dakikalar",cleanupDelayDesc:"Kapatmadan sonra temizlikten nce beklenecek dakikalar",cleanupDisabledMessage:"Oturum temizlii devre d. Oturumlar otomatik olarak temizlenmeyecek."}},currencies:{TRY:"Trk Liras ()",USD:"Amerikan Dolar ($)",EUR:"Euro ()"},languages:{tr:"Trke",en:"ngilizce",ar:"Arapa",de:"Almanca",fr:"Franszca",ru:"Rusa",es:"spanyolca"},timezones:{"Europe/Istanbul":"stanbul (UTC+3)","Europe/London":"Londra (UTC+0)","America/New_York":"New York (UTC-5)"},errors:{loadFailed:"ube tercihleri yklenemedi",saveFailed:"ube tercihleri kaydedilemedi",validationError:"Dorulama hatas: {errors}",invalidRequest:"Geersiz istek. Ltfen verileri kontrol edin.",sessionExpired:"Oturum sreniz dolmu. Ltfen tekrar giri yapn.",unauthorized:"Bu ilem iin yetkiniz bulunmuyor.",notFound:"ube tercihleri bulunamad.",conflict:"Veriler gncel deil. Sayfay yenileyip tekrar deneyin.",noInternet:"nternet balantnz kontrol edin.",unknownError:"Bilinmeyen bir hata olutu",invalidPaymentSettings:"Geersiz deme ayarlar. En az bir deme yntemi seilmelidir.",invalidSessionSettings:"Geersiz oturum ayarlar. Ltfen deerleri kontrol edin."}},whatsapp:{confirmation:{title:"WhatsApp'a Gnder?",subtitle:"Restoran WhatsApp ile bilgilendir",sendTo:"Sipari detaylarnz uraya gnderilecek:",restaurant:"Restoran",whatWillBeSent:"Gnderilecek bilgiler:",orderDetails:" Sipari detaylar ve rnler",customerInfo:" Mteri ad ve masa numaras",totalPrice:" Toplam fiyat ve zel notlar",timestamp:" Sipari zaman",note:"Not:",noteDescription:"Bu ilem cihaznzda WhatsApp' aacaktr. WhatsApp'a gndermemeyi seseniz bile sipariiniz ilenecektir.",skipWhatsApp:"WhatsApp' Atla",sendToWhatsApp:"WhatsApp'a Gnder",sending:"Gnderiliyor..."}},recycleBin:{title:"Geri Dnm Kutusu",titleProducts:"Silinmi rnler ve Kategoriler",titleBranches:"Silinmi ubeler",titleTables:"Silinmi Masalar",titleBranchProducts:"Silinmi ube rnleri ve Kategorileri",titleBranchCategories:"Silinmi ube Kategorileri",titleTableCategories:"Silinmi Masa Kategorileri",description:"Silinmi ubeler, kategoriler, rnler ve masalar ynetin",descriptionProducts:"Silinmi rnler ve kategorileri ynetin",descriptionBranches:"Silinmi ubeleri ynetin",descriptionTables:"Silinmi masalar ynetin",descriptionBranchProducts:"Silinmi ube rnleri ve kategorileri ynetin",descriptionBranchCategories:"Silinmi ube kategorilerini ynetin",descriptionTableCategories:"Silinmi masa kategorilerini ynetin",branchRestore:{title:"ube Geri Ykleme Seenekleri",subtitle:"Geri ykleme ilemi iin tercihlerinizi sein",simpleTitle:"ube Geri Ykle",simpleDesc:"Bu ube geri yklendiinde yalnzca genel ube bilgileri geri yklenir.",cascadeTitle:"Bu ube geri yklendiinde tm ilikili rnler ve kategoriler de geri yklenir.",cascadeDesc:"Yalnzca dal m yoksa tm ilikili rnleri ve kategorileri de geri yklemek ister misiniz?",recommended:"Recommended",includeProducts:"rnleri ve Kategorileri Dahil Et",includeTables:"Masalar Dahil Et",includeAll:"Tm likili Verileri Dahil Et"},productRestore:{title:"rn Seeneklerini Geri Ykle",subtitle:"rn nasl geri yklemek istediinizi sein",simpleTitle:"rn Geri Ykle",simpleDesc:"Bu rn geri yklemek yalnzca genel rn bilgilerini geri ykleyecektir.",cascadeTitle:"Bu rn geri yklemek, tm ilikili varyantlar ve eklentileri de geri ykleyecektir.",cascadeDesc:"Yalnzca rn m yoksa tm ilikili varyantlar ve eklentileri de geri yklemek mi istiyorsunuz?",includeOptions:"Varyantlar ve Eklentileri Dahil Et",includeImages:"rn Grselini Dahil Et",includeAll:"Tm likili Verileri Dahil Et",recommended:"Tavsiye Edilen"},categoryRestore:{title:"rn Seeneklerini Geri Ykle",subtitle:"rn Nasl Geri Ykleyeceinizi Sein",simpleTitle:"rn Geri Ykle",simpleDesc:"Bu rn geri yklemek yalnzca genel rn bilgilerini geri ykleyecektir",cascadeTitle:"Bu rn geri yklemek, tm ilikili varyantlar ve uzantlar da geri ykleyecektir",cascadeDesc:"Yalnzca rn m yoksa tm ilikili varyantlar ve uzantlar da geri yklemek istiyor musunuz?",includeOptions:"Varyantlar ve uzantlar dahil et",includeImages:"rn resmini ekle",includeAll:"Tm ilikili verileri ekle",includeProducts:"Kategorideki rnleri dahil et",recommended:"nerilen"},search:"e ara...",filter:{all:"Tm",group1:"Tm Grup 1",group2:"Tm Grup 2",group1Label:" Restoran Seviyesi (ubeler, rnler, Masalar)",group2Label:" ube Seviyesi (ube rnleri ve Kategorileri)",branches:"ubeler",categories:"Kategoriler",products:"rnler",tables:"Masalar",branchProducts:"ube rnleri",branchCategories:"ube Kategorileri",tableCategories:"Masa Kategorileri"},refresh:"Yenile",loading:"Ykleniyor...",stats:{group1:"Restoran Seviyesi",group1Desc:"ubeler, rnler, Masalar",extras:"Ekstralar",extrasDesc:"Ekstra rnler ve Kategoriler",group2:"ube Seviyesi",group2Desc:"ube rnleri ve Kategorileri",totalDeleted:"Toplam Silinmi",totalDesc:"Tm silinmi eler",filtered:"Gsterilen",filteredDesc:"Mevcut filtre sonular",deletedBranch:"Silinmi ube",deletedCategory:"Silinmi Kategori",deletedProduct:"Silinmi rn",deletedTable:"Silinmi Masa",deletedBranchProduct:"Silinmi ube rn",deletedBranchCategory:"Silinmi ube Kategorisi",deletedTableCategory:"Silinmi Masa Alan"},entityTypes:{category:"Kategori",product:"rn",branch:"ube",table:"Masa",branchProduct:"ube rn",extraCategory:"Ekstra Kategori",extra:"Ekstra",branchCategory:"ube Kategorisi",tableCategory:"Masa Alan",other:"Dier"},contextInfo:{category:"Kategori:",branch:"ube:",restaurant:"Restoran:"},deletedAt:"Silinme:",restore:{button:"Geri Ykle",restoring:"Geri ykleniyor...",successCategory:'"{name}" kategorisi baaryla geri yklendi',successProduct:'"{name}" rn baaryla geri yklendi',successBranch:'"{name}" ubesi baaryla geri yklendi',successTable:'"{name}" masas baaryla geri yklendi',successBranchCategory:'"{name}" ube kategorisi baaryla geri yklendi',successTableCategory:'"{name}" masa Alan baaryla geri yklendi',error:"Geri ykleme ilemi baarsz oldu"},empty:{title:"Geri dnm kutusu bo",titleFiltered:"Sonu bulunamad",description:"Henz silinmi e bulunmuyor",descriptionFiltered:"Arama kriterlerinize uygun silinmi e bulunmad"},errors:{loadingError:"Silinmi eler yklenirken hata olutu"}},management:{title:"Ynetim Bilgileri",subtitle:"irket ve yasal detaylar",noDataTitle:"Ynetim Bilgisi Yok",noDataMessage:"Ynetim bilgileri henz ayarlanmad. Balamak iin ltfen restoran detaylarn ekleyin.",dangerZone:{title:"Tehlikeli Blge",description:"Restoran ynetim bilgilerini kalc olarak silme ilemi geri alnamaz. Ltfen dikkatli olun."},messages:{purgeSuccess:"  "},buttons:{edit:"Dzenle",cancel:"ptal",save:"Deiiklikleri Kaydet",saving:"Kaydediliyor...",delete:" Sil",purge:" Temizle",viewFile:"Dosya A",viewLogo:"View Logo"},sections:{restaurantDetails:"Restoran Detaylar",companyInfo:"irket Bilgileri",taxInfo:"Vergi ve Kayt",certificates:"Sertifikalar ve zinler",additionalSettings:"Ek Ayarlar"},fields:{restaurantName:"Restoran Ad",restaurantLogo:"Restoran Logosu",companyTitle:"irket Unvan",legalType:"Yasal Tr",taxNumber:"Vergi Numaras",taxOffice:"Vergi Dairesi",mersisNumber:"MERSIS Numaras",tradeRegistry:"Ticaret Sicil Numaras",workPermit:"alma zni",foodCertificate:"Gda Sertifikas",logo:"Logo"},placeholders:{restaurantName:"Restoran adn girin",companyTitle:"irket unvann girin",taxNumber:"Vergi numarasn girin",taxOffice:"Vergi dairesini girin",mersisNumber:"MERSIS numarasn girin",tradeRegistry:"Ticaret sicil numarasn girin",selectLegalType:"Yasal Tr Sein"},legalTypes:{llc:"Limited irket",corporation:"Anonim irket",partnership:"Ortaklk"},status:{uploaded:"Yklendi",notUploaded:"Yklenmedi",available:"Mevcut",notAvailable:"Mevcut Deil"},common:{na:"Mevcut Deil"}},branches:{status:{active:"Aktif",inactive:"Pasif"},fields:{branchType:"ube Tr",branchTag:"ube Etiketi"}},restaurants:{status:{active:"Aktif",inactive:"Pasif"},actions:{edit:"Restoran Dzenle",delete:"Restoran Sil"},stats:{totalBranches:"Toplam ube",active:"Aktif",inactive:"Pasif"},common:{yes:"Evet",no:"Hayr"}},restaurantsTab:{status:{active:"Aktif",inactive:"Pasif"},actions:{edit:"Restoran Dzenle",delete:"Restoran Sil"},stats:{totalBranches:"Toplam ube",active:"Aktif",inactive:"Pasif"},common:{yes:"Evet",no:"Hayr"},modal:{editTitle:"Restoran Dzenle",placeholders:{restaurantName:"Restoran Ad",cuisineType:"Mutfak Tr"},buttons:{update:"Restoran Gncelle",updating:"Gncelleniyor..."}}},tabs:{restaurants:"Restoranlar",branches:"ubeler",management:"Ynetim Bilgileri",deleted:"Silinmi"},allergens:{GLUTEN:{name:"Gluten",description:"Buday, avdar, arpa, yulaf"},CRUSTACEANS:{name:"Kabuklu Deniz rnleri",description:"Karides, yenge, stakoz"},EGGS:{name:"Yumurta",description:"Yumurta ve yumurta rnleri"},FISH:{name:"Balk",description:"Tm balk rnleri"},PEANUTS:{name:"Yer Fst",description:"Yer fst ve yer fst rnleri"},SOYBEANS:{name:"Soya",description:"Soya ve soya rnleri"},MILK:{name:"St",description:"St ve st rnleri"},NUTS:{name:"Sert Kabuklu Meyveler",description:"Badem, fndk, ceviz, kaju vb."},CELERY:{name:"Kereviz",description:"Kereviz ve kereviz kk"},MUSTARD:{name:"Hardal",description:"Hardal ve hardal rnleri"},SESAME:{name:"Susam",description:"Susam tohumu ve rnleri"},SULPHITES:{name:"Slfitler",description:"Kkrt dioksit ve slfitler (>10mg/kg)"},LUPIN:{name:"Ac Bakla",description:"Ac bakla ve ac bakla rnleri"},MOLLUSCS:{name:"Yumuakalar",description:"Midye, istiridye, salyangoz, kalamar"}},tableQR:{loading:{validatingQR:"QR Kod Dorulanyor",fetchingTableInfo:"Masa bilgileri alnyor..."},error:{title:"Hata",tryAgain:"Tekrar Dene",sessionFeatureComingSoon:"Oturum balatma zellii yaknda eklenecek.",sessionStartFailed:"Oturum balatlamad."},header:{title:"Restoran Mens",subtitle:"Dijital Men Deneyimi",active:"Aktif"},welcome:{greeting:"Ho Geldiniz!",connectedToTable:"masasna baaryla balandnz",tableStatus:"Masa Durumu",occupied:"Dolu",available:"Msait",capacity:"Kapasite",person:"Kii",people:"Kii",session:"Oturum",sessionActive:"Aktif",sessionPending:"Bekleniyor",welcomeMessage:"Ho Geldiniz Mesaj"},actions:{viewMenu:"Meny Grntle",callWaiter:"Garson ar"},footer:{connectedViaQR:"QR Kod ile balandnz  Gvenli oturum"}},productCard:{chefsPick:"efin Seimi",customizable:"zelletirilebilir",addons:"+ekstralar",allergens:"Alerjenler",ingredients:"Malzemeler",inCart:"sepette",customizeOrder:"Siparii zelletir",addToCart:"Sepete Ekle",prepTime:"15-20 dakika",popular:"Popler",rating:"4.8",more:"daha fazla"},moneyCase:{title:"Kasa Ynetimi",subtitle:"ube nakit ilemlerinizi ynetin",selectBranch:"Bir ube sein",selectBranchToView:"ube Sein",branchSelector:"ube Seici",noBranches:"ube bulunamad",totalRevenue:"Toplam Gelir",periodSummary:"Dnem zeti",totalOrders:"Toplam Sipari",totalTransactions:"Toplam lem",openedBy:"Aan",closedBy:"Kapatan",shiftDuration:"Vardiya Sresi",showSummary:"zeti Gster",hideSummary:"zeti Gizle",netCashFlow:"Net Nakit Ak",netCashDesc:"Belirtilen dnemde kasaya giren ve kan toplam nakit miktar",serviceFeeDesc:"Belirtilen dnemde alnan toplam servis creti miktar",avgOrderValueDesc:"Belirtilen dnemdeki ortalama sipari tutar",totalShiftsDesc:"Belirtilen dnemde tamamlanan toplam kasa vardiyas says",cashDiscrepancyDesc:"Belirtilen dnemdeki toplam nakit fark miktar",cashDiscrepancy:"Nakit Fark",totalOrdersDesc:"Belirtilen dnemde ilenen toplam sipari says",showingResults:"Sonular gsteriliyor",from:"den",to:"e",netCash:"Net Nakit",financialOverview:"Finansal Genel Bak",grossSalesDesc:"Belirtilen dnemdeki toplam sat geliri miktar",operationalMetrics:"Operasyonel Metrikler",loadingSummary:"zetler ykleniyor...",pleaseWait:"Ltfen bekleyin...",lastClosedAt:"Son Kapan Zaman",previousCloseInfo:"nceki Kapan Bilgisi",suggestedBalance:"nerilen Bakiye",lastClosed:"Son Kapan",filtreler:{title:"Filtreler",quickSelect:"Hzl Seim",today:"Bugn",yesterday:"Dn",last7Days:"Son 7 Gn",last30Days:"Son 30 Gn",thisMonth:"Bu Ay",lastMonth:"Geen Ay",custom:"zel",fromDate:"Balang Tarihi",toDate:"Biti Tarihi",apply:"Uygula",clear:"Temizle",clearAll:"Tmn Temizle",to:"Biti Tarihi",from:"Balang Tarihi",active:"Aktif"},status:"Durum",open:"Ak",closed:"Kapal",todaySales:"Bugnk Satlar",todayCash:"Bugnk Nakit",todayCard:"Bugnk Kart",currentBalance:"Gncel Bakiye",transactionCount:"lem Says",transactions:"lem",openCase:"Kasa A",closeCase:"Kasa Kapat",viewZReport:"Z Raporu Grntle",history:"Kasa Gemii",records:"Kayt",noHistory:"Gemi bulunamad",noHistoryDescription:"Kasa ilemleri burada grnecek",openingBalance:"Al Bakiyesi",openingBalanceDescription:"Kasadaki balang nakit tutarn girin",closingBalance:"Kapan Bakiyesi",actualCash:"Gerek Nakit",expectedCash:"Beklenen Nakit",difference:"Fark",surplus:"Fazlalk",shortage:"Eksiklik",notes:"Notlar",notesPlaceholder:"Bu kasa seans hakknda not veya yorum ekleyin...",date:"Tarih & Saat",openedAt:"Al Zaman",closedAt:"Kapan Zaman",lastUpdated:"Son Gncelleme",caseId:"Kasa No",confirm:"Onayla",confirmClose:"Kapan Onayla",cancel:"ptal",close:"Kapat",print:"Yazdr",download:"ndir",zReport:"Z Raporu",reportDate:"Rapor Tarihi",openingInformation:"Al Bilgileri",salesSummary:"Sat zeti",closingInformation:"Kapan Bilgileri",totalSales:"Toplam Sat",cashSales:"Nakit Sat",cardSales:"Kart Sat",refunds:"adeler",expenses:"Giderler",avgOrderValue:"Ortalama Sipari Deeri",totalDiscrepancy:"Toplam Fark",totalShifts:"Toplam Vardiya",avgShiftDuration:"Ortalama Vardiya Sresi",shiftsWithIssues:"Problemi Olan Vardiyalar",period:"Rapor Dnemi",todayTotalSales:"Bugnn Toplam Satlar",currentShiftRevenue:"Mevcut Vardiya Geliri",closedShifts:"Kapal Vardiyalar",ordersToday:"Bugnk Sipariler",weekToDate:"Hafta Bandan Bugne",monthToDate:"Ay Bandan Bugne",shifts:"Vardiyalar",orders:"Sipariler",noReportData:"Rapor verisi bulunamad",serviceFee:"Servis creti",success:{opened:"Kasa baaryla ald!",closed:"Kasa baaryla kapatld!",closedWithDifference:"Kasa baaryla kapatld! Fark: {{difference}}"},error:{fetchBranches:"ubeler getirilemedi",fetchActiveCase:"Aktif kasa bilgisi getirilemedi",fetchHistory:"Kasa gemii getirilemedi",fetchZReport:"Z raporu getirilemedi",openCase:"Kasa alamad",closeCase:"Kasa kapatlamad",noBranchSelected:"Ltfen nce bir ube sein"},validation:{openingBalanceRequired:"Al bakiyesi gereklidir",openingBalanceMin:"Al bakiyesi 0 veya daha byk olmaldr",actualCashRequired:"Gerek nakit tutar gereklidir",actualCashMin:"Gerek nakit 0 veya daha byk olmaldr",notesMaxLength:"Notlar 500 karakteri geemez"},modal:{openTitle:"Kasa A",openDescription:"Yeni bir kasa seans balat",closeTitle:"Kasa Kapat",closeDescription:"Mevcut kasa seansn sonlandr ve nakit saym yap",zReportTitle:"Z Raporu - Detayl zet",confirmOpenMessage:"Yeni bir kasa amak istediinizden emin misiniz?",confirmCloseMessage:"Mevcut kasay kapatmak istediinizden emin misiniz? Bu ilem geri alnamaz."}},onboardingRestaurant:{backLink:"Kayt Sayfasna Dn",progress:{step1:"Temel Bilgiler",step2:"irket Bilgileri",step3:"Yasal Belgeler"},messages:{welcome:"Restaurant bilgileriniz baaryla kaydedildi. imdi ube bilgilerinizi girebilirsiniz.",success:"Restaurant bilgileriniz baaryla kaydedildi! ube bilgilerinizi girmeniz iin ynlendiriliyorsunuz...",errors:{sessionNotFound:"Oturum bilgisi bulunamad. Ltfen tekrar giri yapn.",serverConnection:"Sunucuya balanlamyor. Ltfen internet balantnz kontrol edin.",nameInUse:"Bu restaurant ad zaten kullanmda. Ltfen farkl bir ad deneyin.",genericCreate:"Restaurant kayd srasnda bir hata olutu. Ltfen tekrar deneyin.",idNotFound:"Restaurant ID alnamad. Ltfen tekrar deneyin.",fileUploadGeneric:"Dosya yklenirken hata olutu",filePathError:"Dosya ykleme baarsz: Dosya yolu alnamad"}},step1:{title:"Restaurant Bilgileri",subtitle:"Restaurant'nzn temel bilgilerini girin",nameLabel:"Restaurant Ad *",namePlaceholder:"Restaurant adnz girin",logoLabel:"Restaurant Logosu *",logoUploading:"Logo ykleniyor...",logoSuccess:" Logo baaryla yklendi",logoSuccessSub:"Cloudinary URL alnd",cuisineLabel:"Mutfak Tr *",errors:{nameRequired:"Restaurant ad gereklidir",logoRequired:"Restaurant logosu gereklidir",cuisineRequired:"Mutfak tr seiniz"}},step2:{title:"irket Bilgileri",subtitle:"irket bilgilerinizi girin",companyTitleLabel:"irket Unvan *",companyTitlePlaceholder:"irket unvannz girin",legalTypeLabel:"Hukuki Yap *",legalTypePlaceholder:"Hukuki yap seiniz",mersisLabel:"MERSS Numaras",mersisPlaceholder:"MERSS numaranz girin",tradeRegistryLabel:"Ticaret Sicil Numaras",tradeRegistryPlaceholder:"Ticaret sicil numaranz girin",errors:{taxNumberRequired:"Vergi numaras gereklidir",companyTitleRequired:"irket unvan gereklidir",mersisRequired:"MERSIS numaras gereklidir",legalTypeRequired:"Hukuki yap seiniz"}},step3:{title:"Yasal Belgeler",subtitle:"Vergi ve belge bilgilerinizi girin",taxNumberLabel:"Vergi Numaras *",taxNumberPlaceholder:"Vergi numaranz girin",taxOfficeLabel:"Vergi Dairesi *",taxOfficePlaceholder:"Vergi dairenizi girin",workPermitLabel:"alma zni Belgesi",workPermitUploading:"alma izni belgesi ykleniyor...",workPermitSuccess:" alma izni belgesi baaryla yklendi",foodCertificateLabel:"Gda Belgesi",foodCertificateUploading:"Gda belgesi ykleniyor...",foodCertificateSuccess:" Gda belgesi baaryla yklendi",errors:{taxNumberRequired:"Vergi numaras gereklidir",taxOfficeRequired:"Vergi dairesi gereklidir"}},navigation:{previous:"nceki Adm",next:"Sonraki Adm",submit:"Restaurant' Kaydet",submitting:"Kaydediliyor...",uploading:"Dosyalar Ykleniyor..."},cuisineTypes:{0:"Trk Mutfa",1:"talyan Mutfa",2:"in Mutfa",3:"Japon Mutfa",4:"Meksika Mutfa",5:"Hint Mutfa",6:"Fransz Mutfa",7:"Amerikan Mutfa",8:"Akdeniz Mutfa",9:"Tayland Mutfa",10:"Kore Mutfa",11:"Vietnam Mutfa",12:"Yunan Mutfa",13:"spanyol Mutfa",14:"Lbnan Mutfa",15:"Brezilya Mutfa",16:"Alman Mutfa",17:"Rus Mutfa",18:"ngiliz Mutfa",19:"Etiyopya Mutfa",20:"Fas Mutfa",21:"Arjantin Mutfa",22:"Peru Mutfa",23:"Karayip Mutfa",24:"Fusion Mutfa",25:"Vegan Mutfa",26:"Deniz rnleri",27:"Et Restoran",28:"Fast Food"},legalTypes:{as:"Anonim irket (A..)",ltd:"Limited irket (Ltd. ti.)",collective:"Kollektif irket",partnership:"Komandit irket",sole:"ahs letmesi",other:"Dier"}},resetPassword:{submitted:{title:"E-postanz Kontrol Edin",line1:"u adrese bir ifre sfrlama balants gnderdik:",line2:"Ltfen gelen kutunuzu (ve spam klasrn!) kontrol edin."},form:{title:"ifreyi Sfrla",subtitle:"Sfrlama balants almak iin e-postanz girin.",button:"Sfrlama Balants Gnder",emailAddress:"E-posta Adresi",emailPlaceholder:"you@example.com"}},setNewPassword:{form:{title:"Yeni ifre Belirle",subtitle:"Aaya yeni ifrenizi girin.",newPassword:"Yeni ifre",confirmPassword:"Yeni ifreyi Onayla",button:"Yeni ifreyi Kaydet",errorMatch:"ifreler elemiyor.",errorLength:"ifre en az 8 karakter olmaldr."},submitted:{title:"ifre Gncellendi!",message:"ifreniz baaryla gncellendi. imdi giri yapabilirsiniz."}},confirmMail:{submitted:{title:"E-postanz Kontrol Edin",line1:"u adrese yeni bir onay balants gnderdik:",line2:"Ltfen gelen kutunuzu (ve spam klasrn!) kontrol edin."},form:{title:"E-postanz Onaylayn",subtitle:"Onay balantsn yeniden gndermek iin e-postanz girin.",button:"Onay E-postasn Yeniden Gnder"}},onboardingBranch:{header:{backLink:"Restoran Bilgilerine Geri Dn",title:"ube Bilgileri",subtitle:"Restorannzn ube bilgilerini adm adm girebilirsiniz"},steps:{basic:"Temel Bilgiler",address:"Adres Bilgileri",contact:"letiim Bilgileri"},form:{step1:{title:"ube Bilgileri",description:"ubenizin temel bilgilerini girin",branchName:{label:"ube Ad *",placeholder:"ube adn girin",error:"ube ad gereklidir"},whatsappNumber:{label:"WhatsApp Sipari Numaras *",placeholder:"555 123 4567",ariaLabel:"lke Kodu",errorRequired:"WhatsApp sipari numaras gereklidir",errorInvalid:"Geersiz telefon numaras format (7-15 hane)."},branchLogo:{label:"ube Logosu (Opsiyonel)",success:" Logo baaryla yklendi",button:"Logo Se",buttonUploading:"Ykleniyor...",helper:"Desteklenen formatlar: PNG, JPG, GIF. Maksimum dosya boyutu: 5MB",infoTitle:"Otomatik Logo Kullanm",infoDescription:"ube logosu yklemezseniz, restaurant logosu otomatik olarak ube logosu olarak kullanlacaktr."}},step2:{title:"Adres Bilgileri",description:"ubenizin adres bilgilerini girin",country:{label:"lke *",placeholder:"lke adn girin",error:"lke gereklidir"},city:{label:"ehir *",placeholder:"ehir adn girin",error:"ehir gereklidir"},street:{label:"Sokak *",placeholder:"Sokak adn girin",error:"Sokak gereklidir"},zipCode:{label:"Posta Kodu *",placeholder:"Posta kodunu girin",error:"Posta kodu gereklidir"},addressLine1:{label:"Adres Satr 1 *",placeholder:"Detayl adres bilgisi girin",error:"Adres satr 1 gereklidir"},addressLine2:{label:"Adres Satr 2 *",placeholder:"Ek adres bilgisi girin",error:"Adres satr 2 gereklidir"}},step3:{title:"letiim Bilgileri",description:"ubenizin iletiim bilgilerini girin",phone:{label:"Telefon Numaras *",placeholder:"212 123 4567",ariaLabel:"lke Kodu",errorRequired:"Telefon numaras gereklidir",errorInvalid:"Geersiz telefon numaras format (7-15 hane)."},email:{label:"E-posta Adresi *",placeholder:"E-posta adresini girin",error:"E-posta adresi gereklidir"},location:{label:"Konum Bilgisi *",placeholder:"Konum bilgisini girin (rn: 40.9795, 28.7225)",error:"Konum bilgisi gereklidir",selectOnMap:"Haritadan Se",mapTitle:"Harita zerinden Konum Sein",useCurrentLocation:"Mevcut Konumumu Kullan",latitude:"Enlem",longitude:"Boylam",googleMapsLink:"Google Haritalar Linki (Opsiyonel)",googleMapsLinkPlaceholder:"Google Haritalar linkini buraya yaptrn...",googleMapsLinkHelper:"Google Haritalar linki yaptrn, koordinatlar otomatik olarak karlacak",invalidLink:"Bu linkten koordinatlar karlamad. Farkl bir format deneyin.",interactiveMap:"Etkileimli Harita",clickToPin:"Konum semek iin haritaya tklayn",markerPosition:"aretleyici Konumu",openFullMap:"Tam haritada a",manualCoordinates:"Manuel Koordinatlar",selectedCoordinates:"Seilen Koordinatlar:",mapHelp:"Harita nasl kullanlr:",mapHelp1:"Yukardaki alana Google Haritalar linkini yaptrn",mapHelp2:'Veya "Mevcut Konumumu Kullan" butonuna tklayn',mapHelp3:"Veya koordinatlar manuel olarak girin",mapHelp4:"Konumu hassas bir ekilde belirlemek iin tam haritay an",geolocationError:"Konumunuz alnamad. Ltfen manuel olarak sein.",geolocationNotSupported:"Konum belirleme zellii taraycnz tarafndan desteklenmiyor."},contactHeader:{label:"letiim Bal (Opsiyonel)",placeholder:"letiim baln girin (opsiyonel)"},footerTitle:{label:"Footer Bal (Opsiyonel)",placeholder:"Footer baln girin (opsiyonel)"},footerDescription:{label:"Footer Aklamas (Opsiyonel)",placeholder:"Footer aklamasn girin (opsiyonel)"},openTitle:{label:"alma Saatleri Bal (Opsiyonel)",placeholder:"alma saatleri baln girin (opsiyonel)"},openDays:{label:"Ak Gnler (Opsiyonel)",placeholder:"Ak gnleri girin (opsiyonel)"},openHours:{label:"Ak Saatler (Opsiyonel)",placeholder:"Ak saatleri girin (opsiyonel)"},workingHours:{title:"alma Saatleri",description:"letmenizin alma saatlerini belirleyin. Gece boyunca ak kalabilirsiniz (rn: 23:00 - 02:00).",openLabel:"Al Saati",closeLabel:"Kapan Saati",dayNames:["Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi","Pazar"],toggleOpen:"Ak",toggleClosed:"Kapal",workingDayNote:" Bu gn mteriler sipari verebilecek",overnightNote:"(Gece boyunca ak)",error:{minOneDay:"En az bir gn iin alma saati belirtmelisiniz",allTimesRequired:"Tm alma gnleri iin al ve kapan saati belirtmelisiniz",invalidRange:"Geersiz alma saati aral: {openTime} - {closeTime}. Gece boyunca ak kalma sresi 12 saati geemez.",openBeforeClose:"Al saati ({openTime}) kapan saatinden ({closeTime}) nce olmaldr"},infoBox:{title:"alma Saatleri Hakknda",item1:" Burada belirlediiniz saatler, mterilerin QR mennz zerinden sipari verebilecei zamanlar belirler.",item2:" Kapal gnlerde sipari alnmaz, ancak kapal gnler de veritabannda saklanr.",item3:" Gece boyunca ak kalabilirsiniz (rn: 23:00 - 02:00). Bu durumda kapan saati ertesi gne geer.",item4:" Gece boyunca ak kalma sresi maksimum 12 saat olabilir."}}}},buttons:{back:"Geri",next:"leri",save:"Kaydet",saving:"Kaydediliyor...",cancel:"ptal",confirm:"Onayla"},messages:{errorTitle:"Hata",successTitle:"Baarl",successMessage:"ube bilgileriniz baaryla kaydedildi! Ynlendiriliyorsunuz...",api:{restaurantNotFound:"Restaurant bilgisi bulunamad. Ltfen tekrar restaurant oluturun.",branchIdMissing:"ube ID alnamad. Ltfen tekrar deneyin.",nameInUse:"Bu ube ad zaten kullanmda. Ltfen farkl bir ad deneyin.",connectionError:"Sunucuya balanlamyor. Ltfen internet balantnz kontrol edin.",serverError:"Sunucu hatas olutu. Ltfen daha sonra tekrar deneyin veya form verilerinizi kontrol edin.",genericCreateError:"ube kayd srasnda bir hata olutu. Ltfen tekrar deneyin.",logoUploadError:"Logo yklenirken hata olutu. Ltfen tekrar deneyin."}}},extrasManagement:{title:"Ekstra Ynetimi",description:"Ekstra kategorilerini ve elerini ynetin",searchPlaceholder:"Kategori veya ekstra ara...",loading:"Ykleniyor...",processing:"leniyor...",buttons:{add:"Ekle",edit:"Dzenle",delete:"Sil",save:"Kaydet",cancel:"ptal",close:"Kapat",back:"Geri",done:"Tamam",addItem:"e Ekle",createFirst:"lk eyi Olutur"},deleteModal:{titleCategory:"Kategori Silinsin mi?",titleItem:"e Silinsin mi?",confirmMessage:'"{name}" esini silmek istediinizden emin misiniz?',warningMessage:"Bu ilem geri alnamaz. e geri dnm kutusuna tanacaktr.",confirmButton:"Sil",processingButton:"Siliniyor...",cancelButton:"ptal"},categories:{title:"Ekstra Kategorileri",addNew:"+ Yeni Kategori Ekle",addCategory:"Yeni Kategori Ekle",editCategory:"Kategoriyi Dzenle",noCategories:"Kategori bulunamad",tryAdjusting:"Aramanz ayarlayn veya yeni kategori ekleyin.",select:"Se:",qtyLimit:"Miktar Limiti:",active:"Aktif",inactive:"Pasif",required:"Zorunlu",fields:{categoryName:"Kategori Ad",categoryNamePlaceholder:"rn: Pizza Malzemeleri",statusLabel:"Aktif Durum",requiredLabel:"Zorunlu mu?",selectionRules:"Seim Kurallar",minSelection:"Minimum Seim",maxSelection:"Maksimum Seim",removalCategoryLabel:"karma Kategorisi",minQuantity:"Minimum Miktar",maxQuantity:"Maksimum Miktar"}},extras:{title:"Ekstralar",addExtra:"Yeni Ekstra Ekle",editExtra:"Ekstra Dzenle",noItems:"Bu kategoride henz e yok.",noDescription:"Aklama yok",fields:{parentCategory:"st Kategori",selectCategory:"Kategori Sein...",itemName:"e Ad",itemNamePlaceholder:"e ad",price:"Fiyat",description:"Aklama",descriptionPlaceholder:"stee bal detaylar...",imageLabel:"e Resmi",uploadText:"Resim yklemek iin tklayn",activeLabel:"Aktif",removalLabel:"karma esi (Eksi)"}},productExtras:{manageCategories:"rn Kategorilerini Ynet",manageExtras:"Ekstralar Ynet",addCategory:"Kategori Ekle",addExtra:"Ekstra Ekle",selectCategory:"Kategori Se",chooseCategory:"Kategori Sein...",selectExtra:"Ekstra Se",chooseExtra:"Ekstra Sein...",noCategoriesYet:"Henz kategori eklenmedi",noExtrasYet:"Henz ekstra eklenmedi",confirmDelete:"Bu kategoriyi silmek istediinizden emin misiniz?",confirmDeleteExtra:"Bu ekstrayi silmek istediinizden emin misiniz?",unknownCategory:"Bilinmeyen Kategori",unknownExtra:"Bilinmeyen Ekstra",confirm:"Onayla",selection:"Seim",quantity:"Miktar",required:"Zorunlu",optional:"stee Bal",basePrice:"Temel Fiyat",unitPrice:"Birim Fiyat",selectionMode:"Seim Modu",single:"Tekli",multiple:"oklu",requiredExtra:"Zorunlu Ekstra",defaultQty:"Varsaylan Miktar",minQty:"Min Miktar",maxQty:"Maks Miktar",qty:"Miktar",minSelection:"Min Seim",maxSelection:"Maks Seim",minQuantity:"Min Miktar",maxQuantity:"Maks Miktar",selectionLimits:"Seim Limitleri",quantityLimits:"Miktar Limitleri",minSelectLabel:"Min Seim",maxSelectLabel:"Maks Seim",minTotalLabel:"Min Toplam",maxTotalLabel:"Maks Toplam"},recycleBin:{title:"Geri Dnm Kutusu",empty:"Geri dnm kutusu bo",restore:"Geri Ykle",permanentDelete:"Kalc Olarak Sil",confirmRestore:'"{name}" geri yklensin mi?',confirmPermanentDelete:'"{name}" kalc olarak silinsin mi? Bu ilem geri alnamaz.'},errors:{loadCategories:"Kategoriler yklenirken hata",loadExtras:"Ekstralar yklenirken hata",uploadImage:"Resim yklenirken hata",deleteFailed:"e silinemedi",loadFailed:"Veri yklenemedi",saveFailed:"Veri kaydedilemedi",updateFailed:"Veri gncellenemedi",restoreFailed:"e geri yklenemedi"},success:{categoryAdded:"Kategori baaryla eklendi",categoryUpdated:"Kategori baaryla gncellendi",categoryDeleted:"Kategori baaryla silindi",extraAdded:"Ekstra baaryla eklendi",extraUpdated:"Ekstra baaryla gncellendi",extraDeleted:"Ekstra baaryla silindi",restored:"Baaryla geri yklendi"},categoryConfigModal:{title:"ube Ekstralarn Yaplandr",productLabel:"Ekstralar yaplandrlyor:",searchPlaceholder:"Kategorilerde ara...",errors:{loadFailed:"Yaplandrma verileri yklenemedi",saveFailed:"Yaplandrma kaydedilemedi",generic:"Bir hata olutu"},stats:{selectedCategories:"Kategoriler",selectedExtras:"Ekstralar",available:"Toplam Mevcut"},loading:{categories:"Kategoriler ve ekstralar ykleniyor..."},empty:{noResults:"Aramanzla eleen kategori yok",noCategories:"Mevcut ekstra kategorisi yok"},badges:{required:"Zorunlu",optional:"stee Bal",removal:"karma"},category:{availableExtras:"ekstra mevcut",configurationTitle:"Kategori Kurallar",selectExtrasTitle:"Ekstralar Se",selectCategoryWarning:"Ekstra seimini etkinletirmek iin bu kategoriyi sein"},fields:{minSelection:"Min Seim",maxSelection:"Maks Seim",minQuantity:"Min Toplam Adet",maxQuantity:"Maks Toplam Adet",overrideRequired:'"Zorunlu" Durumunu Geersiz Kl',specialPrice:"zel Fiyat",minQty:"Min Adet",maxQty:"Maks Adet",required:"Zorunlu"},labels:{originalPrice:"Orijinal",removesIngredient:"Malzemeyi karr",extraConfiguration:"Ekstra Yaplandrmas"},placeholders:{defaultPrice:"Varsaylan"},messages:{removalPriceWarning:"karma ekstralar iin fiyat belirlenemez"},footer:{categoriesSelected:"kategori seildi",cancel:"ptal",save:"Deiiklikleri Kaydet",saving:"Kaydediliyor..."}}},onboardingComplete:{title:"Kayt lemi Tamamland!",message:"Restaurant ve ube bilgileriniz baaryla kaydedildi. Giri sayfasna ynlendiriliyorsunuz...",redirectingIn:"saniye iinde ynlendirileceksiniz"},countries:{afghanistan:"Afganistan",albania:"Arnavutluk",algeria:"Cezayir",andorra:"Andorra",angola:"Angola",argentina:"Arjantin",armenia:"Ermenistan",australia:"Avustralya",austria:"Avusturya",azerbaijan:"Azerbaycan",bahamas:"Bahamalar",bahrain:"Bahreyn",bangladesh:"Banglade",barbados:"Barbados",belarus:"Belarus",belgium:"Belika",belize:"Belize",benin:"Benin",bhutan:"Butan",bolivia:"Bolivya",bosnia:"Bosna Hersek",botswana:"Botsvana",brazil:"Brezilya",brunei:"Bruney",bulgaria:"Bulgaristan",burkina_faso:"Burkina Faso",burundi:"Burundi",cambodia:"Kamboya",cameroon:"Kamerun",canada:"Kanada",cape_verde:"Yeil Burun Adalar",central_african_republic:"Orta Afrika Cumhuriyeti",chad:"ad",chile:"ili",china:"in",colombia:"Kolombiya",comoros:"Komorlar",congo:"Kongo",costa_rica:"Kosta Rika",croatia:"Hrvatistan",cuba:"Kba",cyprus:"Kbrs",czech_republic:"ek Cumhuriyeti",denmark:"Danimarka",djibouti:"Cibuti",dominica:"Dominika",dominican_republic:"Dominik Cumhuriyeti",ecuador:"Ekvador",egypt:"Msr",el_salvador:"El Salvador",equatorial_guinea:"Ekvator Ginesi",eritrea:"Eritre",estonia:"Estonya",ethiopia:"Etiyopya",fiji:"Fiji",finland:"Finlandiya",france:"Fransa",gabon:"Gabon",gambia:"Gambiya",georgia:"Grcistan",germany:"Almanya",ghana:"Gana",greece:"Yunanistan",grenada:"Grenada",guatemala:"Guatemala",guinea:"Gine",guinea_bissau:"Gine-Bissau",guyana:"Guyana",haiti:"Haiti",honduras:"Honduras",hungary:"Macaristan",iceland:"zlanda",india:"Hindistan",indonesia:"Endonezya",iran:"ran",iraq:"Irak",ireland:"rlanda",israel:"srail",italy:"talya",jamaica:"Jamaika",japan:"Japonya",jordan:"rdn",kazakhstan:"Kazakistan",kenya:"Kenya",kiribati:"Kiribati",kuwait:"Kuveyt",kyrgyzstan:"Krgzistan",laos:"Laos",latvia:"Letonya",lebanon:"Lbnan",lesotho:"Lesotho",liberia:"Liberya",libya:"Libya",liechtenstein:"Lihtentayn",lithuania:"Litvanya",luxembourg:"Lksemburg",madagascar:"Madagaskar",malawi:"Malavi",malaysia:"Malezya",maldives:"Maldivler",mali:"Mali",malta:"Malta",marshall_islands:"Marshall Adalar",mauritania:"Moritanya",mauritius:"Mauritius",mexico:"Meksika",micronesia:"Mikronezya",moldova:"Moldova",monaco:"Monako",mongolia:"Moolistan",montenegro:"Karada",morocco:"Fas",mozambique:"Mozambik",myanmar:"Myanmar",namibia:"Namibya",nauru:"Nauru",nepal:"Nepal",netherlands:"Hollanda",new_zealand:"Yeni Zelanda",nicaragua:"Nikaragua",niger:"Nijer",nigeria:"Nijerya",north_korea:"Kuzey Kore",north_macedonia:"Kuzey Makedonya",norway:"Norve",oman:"Umman",pakistan:"Pakistan",palau:"Palau",palestine:"Filistin",panama:"Panama",papua_new_guinea:"Papua Yeni Gine",paraguay:"Paraguay",peru:"Peru",philippines:"Filipinler",poland:"Polonya",portugal:"Portekiz",qatar:"Katar",romania:"Romanya",russia:"Rusya",rwanda:"Ruanda",saint_kitts:"Saint Kitts ve Nevis",saint_lucia:"Saint Lucia",saint_vincent:"Saint Vincent ve Grenadinler",samoa:"Samoa",san_marino:"San Marino",sao_tome:"So Tom ve Prncipe",saudi_arabia:"Suudi Arabistan",senegal:"Senegal",serbia:"Srbistan",seychelles:"Seyeller",sierra_leone:"Sierra Leone",singapore:"Singapur",slovakia:"Slovakya",slovenia:"Slovenya",solomon_islands:"Solomon Adalar",somalia:"Somali",south_africa:"Gney Afrika",south_korea:"Gney Kore",south_sudan:"Gney Sudan",spain:"spanya",sri_lanka:"Sri Lanka",sudan:"Sudan",suriname:"Surinam",sweden:"sve",switzerland:"svire",syria:"Suriye",taiwan:"Tayvan",tajikistan:"Tacikistan",tanzania:"Tanzanya",thailand:"Tayland",timor_leste:"Dou Timor",togo:"Togo",tonga:"Tonga",trinidad:"Trinidad ve Tobago",tunisia:"Tunus",turkey:"Trkiye",turkmenistan:"Trkmenistan",tuvalu:"Tuvalu",uganda:"Uganda",ukraine:"Ukrayna",uae:"Birleik Arap Emirlikleri",united_kingdom:"Birleik Krallk",united_states:"Amerika Birleik Devletleri",uruguay:"Uruguay",uzbekistan:"zbekistan",vanuatu:"Vanuatu",vatican:"Vatikan",venezuela:"Venezuela",vietnam:"Vietnam",yemen:"Yemen",zambia:"Zambiya",zimbabwe:"Zimbabve"}},p8={common:{loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",change:"Change",save:"Save",delete:"Delete",edit:"Edit",emailAddress:"Email Address",emailPlaceholder:"you@example.com",add:"Add",search:"Search",filter:"Filter",close:"Close",open:"Open",yes:"Yes",no:"No",next:"Next",previous:"Previous",continue:"Continue",refresh:"Refresh",clear:"Clear",filters:"Filters",allStatuses:"All Statuses",pending:"Pending",delivered:"Delivered",cancelled:"Cancelled",dateRange:"Date Range",today:"Today",yesterday:"Yesterday",last7Days:"Last 7 Days",last30Days:"Last 30 Days",thisMonth:"This Month",lastMonth:"Last Month",retry:"Retry"},filter:{status:"Status",all:"All",active:"Active",inactive:"Inactive",categories:"Categories",allergenic:"allergenic",nonallergenic:"non-allergenic",specific:{allergens:"allergens"},price:{range:"Price Range",min:"Min Price",max:"Max Price"}},sort:{title:"Sort By",name:{asc:"Name (A-Z)",desc:"Name (Z-A)"},price:{asc:"Price (Low to High)",desc:"Price (High to Low)"},order:{asc:"Display Order (First to Last)",desc:"Display Order (Last to First)"},created:{asc:"Date Created (Oldest First)",desc:"Date Created (Newest First)"}},clear:{filters:"Clear Filters",all:"Clear All"},restaurantManagement:{tabs:{general:"General",legal:"Legal",about:"About"},GeneralInformation:"General Information",restaurantLogo:""},nav:{home:"Home",features:"Features",pricing:"Pricing",testimonials:"Testimonials",faq:"FAQ",contact:"Contact",login:"Login",register:"Register",logout:"Logout",profile:"Profile",settings:"Settings",dashboard:"Dashboard",goToPanel:"Go to Panel"},auth:{login:"Login",register:"Register",logout:"Logout",email:"Email",password:"Password",confirmPassword:"Confirm Password",forgotPassword:"Forgot Password",rememberMe:"Remember Me",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",signIn:"Sign In",signUp:"Sign Up"},hero:{title:{line1:"Digitize Your",line2:"Restaurant",line3:"with QR Menu"},subtitle:"Your customers can instantly access your menu by scanning the QR code. Offer a contactless, fast and modern experience.",features:{qrAccess:"Quick Access with QR Code",mobileOptimized:"Mobile Optimization",instantUpdate:"Instant Update"},cta:{getStarted:"Get Started",features:"Features"},socialProof:{restaurants:"500+ Happy Restaurants",satisfaction:"99% Customer Satisfaction"}},dashboard:{overview:{title:"Overview",description:"View the financial and operational status of your restaurant.",loading:"Loading dashboard data...",refresh:"Refresh",errorTitle:"Failed to load dashboard data",kpis:{totalViews:"Total Views",qrScans:"QR Scans",totalOrders:"Total Orders",customerRating:"Customer Rating",todaySales:"Today Sales",currentBalance:"Current Balance",weekRevenue:"Weekly Revenue",monthRevenue:"Monthly Revenue",avgOrderValue:"Avg. Order Value",totalShifts:"Total Shifts",changeTexts:{lastWeek:"vs Last Week",lastMonth:"vs Last Month",thisWeek:"This Week",today:"Today"}},quickStats:{thisMonth:"This Month",totalOrders:"Total Orders",average:"Average",dailyOrders:"Daily Orders",new:"New",customers:"Customers",rating:"Rating",totalCount:"Total Count",cashSales:"Cash Sales",cardSales:"Card Sales",status:"Status",open:"Open",closed:"Closed"},charts:{weeklyActivity:"Weekly Activity",popularProducts:"Popular Products",monthlyRevenue:"Monthly Revenue",paymentMethods:"Payment Methods",revenueComparison:"Revenue Comparison",noData:"No data available"}},branches:{title:"Branch Management",description:"Manage your branches and add new branches.",error:{loadFailed:"Failed to load branches",createFailed:"Failed to create branch",updateFailed:"Failed to update branch",deleteFailed:"Failed to delete branch",statusUpdateFailed:"Failed to update branch status",detailsLoadFailed:"Failed to load branch details",restaurantIdNotFound:"Restaurant ID not found"},delete:{title:"Delete Branch",confirmMessage:'Are you sure you want to delete branch "{branchName}"? This action cannot be undone.'}},orders:{title:"Orders",description:"View and manage orders.",loading:"Loading orders...",refresh:"Refresh",newOrder:"New Order",tabs:{all:"All",pending:"Pending",preparing:"Preparing",ready:"Ready",delivered:"Delivered",cancelled:"Cancelled"},status:{pending:"Pending",preparing:"Preparing",ready:"Ready",delivered:"Delivered",cancelled:"Cancelled"},stats:{totalOrders:"Total Orders",totalRevenue:"Total Revenue",pendingOrders:"Pending Orders",avgOrderValue:"Average Order Value"}},orderType:{title:"Order Type Settings",requiresName:"Requires Customer Name",requiresTable:"Requires Table Selection",requiresAddress:"Requires Address",requiresPhone:"Requires Phone Number",estimatedMinutes:"Estimated Minutes",subtitle:"Manage activation status, minimum order amount and service charges for order types",loading:"Loading order types...",pleaseWait:"Please wait",settingsUpdated:"settings updated successfully",updateError:"Error occurred while updating settings",loadingError:"Error occurred while loading order types",active:"active",minutes:"minutes",requirements:"Requirements",table:"Table",address:"Address",phone:"Phone",activeStatus:"Active Status",activeStatusDescription:"Enable/disable this order type",minOrderAmount:"Minimum Order Amount",serviceCharge:"Service Charge",saveSettings:"Save Settings",updating:"Updating...",totalOrderTypes:"Total Order Types",activeTypes:"Active Types",totalActiveOrders:"Total Active Orders",estimatedTime:"Estimated Time"},moneyCase:{title:"Money Case Management"},products:{title:"Products",description:"View and manage your products."},ingredients:{title:"Ingredients"},extras:{title:"Extras"},tables:{title:"Table Management",description:"Table management operations.",loading:"Loading tables...",selectBranch:"Please select a branch for table management",noCategories:"No table categories found in this branch yet",tableCount:"tables",newTable:"Add New Table"},users:{title:"User Management",description:"Manage users, roles and permissions.",loading:"Loading users...",tabs:{users:"Users",roles:"Roles"},stats:{total:"Total",active:"Active",users:"users",roles:"roles",system:"System",custom:"Custom",totalUsers:"Total Users"},error:{loadFailed:"Failed to load users",rolesLoadFailed:"Failed to load roles",createRoleFailed:"Failed to create role",createUserFailed:"Failed to create user"}},settings:{title:"Settings",description:"Manage your account settings."},profile:{title:"Profile",description:"View your personal information.",error:{loadFailed:"Failed to load profile information"},restaurantInfo:"Restaurant Information"},restaurant:{title:"Restaurant Management",refresh:"Refresh",description:"Manage your restaurant information and settings.",loading:"Loading restaurant information...",restaurantName:"Restaurant Name",restaurantStatus:"Restaurant Status",restaurantLogo:"Restaurant Logo",companyInfo:"Company Information",addAboutInfo:"Add Restaurant About Information",placeholders:{restaurantName:"Enter restaurant name",aboutStory:"Our restaurant story",aboutDetails:"Provide detailed information about your restaurant..."}},RestaurantManagement:{title:"Restaurant Management"},branchManagementTitle:"Branch Management",sidebar:{title:"QR Menu",logout:"Logout",branch:"Branch"}},theme:{toggleToDark:"Switch to dark mode",toggleToLight:"Switch to light mode",dark:"Dark",light:"Light"},language:{turkish:"Trke",english:"English",arabic:"",selectLanguage:"Select Language"},settings:{title:"Settings",description:"Manage your account settings and preferences",save:"Save",saveSuccess:"Settings saved successfully.",tabs:{general:"General",notifications:"Notifications",privacy:"Privacy",appearance:"Appearance",data:"Data"},general:{title:"General Settings",description:"Configure your basic account settings",language:"Language",timezone:"Timezone",dateFormat:"Date Format",currency:"Currency",autoSave:{title:"Auto Save",description:"Manage your auto save settings",enabled:"Auto Save",enabledDesc:"Automatically saves your changes",dataSync:"Data Synchronization",dataSyncDesc:"Synchronizes your data across devices"}},notifications:{title:"Notification Settings",description:"Manage your notification preferences",enabled:"Enable Notifications",enabledDesc:"Enables all notifications",email:"Email Notifications",emailDesc:"Receive email for important updates",push:"Push Notifications",pushDesc:"Receive instant notifications",sound:"Sound Notifications",soundDesc:"Enables notification sounds"},privacy:{title:"Privacy and Security",description:"Manage your account security and privacy settings",twoFactor:"Two-Factor Authentication",twoFactorDesc:"Protect your account with extra security",autoLogout:"Auto Logout",autoLogoutDesc:"Logs out after 30 minutes of inactivity",analytics:"Analytics Data Sharing",analyticsDesc:"Anonymous data sharing for development"},appearance:{title:"Appearance Settings",description:"Customize your interface preferences",darkMode:"Enable Dark Mode",lightMode:"Enable Light Mode",darkModeDesc:"Use dark theme",lightModeDesc:"Use light theme",compact:"Compact View",compactDesc:"Compact design that uses less space",animations:"Animations",animationsDesc:"Enables interface animations"},data:{title:"Data Management",description:"Backup or delete your data",download:"Download Data",downloadDesc:"Download all your data",upload:"Upload Data",uploadDesc:"Upload data from backup",delete:"Delete Data",deleteDesc:"Delete all data",storage:"Storage",storageDesc:"Manage storage space"}},notifications:{title:"Notifications",empty:"No notifications",markAllAsRead:"Mark all as read"},brand:{name:"QR Menu",slogan:"Digital Restaurant Solution"},features:{title:"Why",titleHighlight:"QR Menu?",subtitle:"Enhance customer experience and take your business to the digital age with powerful features designed for modern restaurants.",list:{qrAccess:{title:"Instant Access with QR Code",description:"Your customers can instantly access your menu by scanning the QR code on the table. No app download required."},mobileOptimized:{title:"Mobile Optimization",description:"Perfect view on all devices. Optimal experience on phone, tablet and desktop with responsive design."},instantUpdate:{title:"Instant Update",description:"Your menu changes are published instantly. Price updates and new products are visible immediately."},analytics:{title:"Detailed Analytics",description:"Get reports on which products are viewed more, customer behavior and sales trends."},alwaysOpen:{title:"24/7 Access",description:"Your customers can view your menu anytime. Accessible even outside restaurant hours."},secure:{title:"Secure and Fast",description:"Secure with SSL certificate, fast loading pages. Customer information is protected."},customizable:{title:"Customizable Design",description:"Color, font and design options suitable for your restaurant style. Reflect your brand identity."},multiLanguage:{title:"Multi-Language Support",description:"You can offer your menu in multiple languages. Appeal to your international customers."}},cta:{title:"Ready to Digitize Your Restaurant?",subtitle:"Start today and offer your customers a modern experience. Setup takes only 5 minutes!",button:"Try for Free"}},footer:{description:"Modern, fast and secure digital menu solution for restaurants. Enhance customer experience and digitize your business.",contact:{phone:"+90 531 732 47 31",email:"services@idigitek.com",address:"Istanbul , Kayaehir"},sections:{product:{title:"Product",links:{features:"Features",pricing:"Pricing",demo:"Demo",api:"API Documentation"}},company:{title:"Company",links:{about:"About Us",pricing:"Pricing",careers:"Careers",contact:"Contact"}},support:{title:"Support",links:{helpCenter:"Help Center",faq:"FAQ",liveSupport:"Live Support",tutorials:"Tutorial Videos"}},legal:{title:"Legal",links:{privacy:"Privacy Policy",terms:"Terms of Service",cookies:"Cookie Policy",gdpr:"GDPR"}}},newsletter:{title:"Stay Updated",subtitle:"Get information about new features and updates.",placeholder:"Your email address",button:"Subscribe"},bottom:{copyright:"All rights reserved.",madeWith:"Designed and developed in Turkey "}},pages:{login:{title:"Login",subtitle:"Sign in to your QR Menu account",backToHome:"Back to Home",email:"Email",password:"Password",rememberMe:"Remember Me",forgotPassword:"Forgot Password",confirimEmail:"Confirm Email",signIn:"Sign In",signingIn:"Signing In...",noAccount:"Don't have an account?",registerNow:"Register Now",errors:{emailRequired:"Email is required",emailInvalid:"Please enter a valid email address",passwordRequired:"Password is required",invalidCredentials:"Invalid email or password",generalError:"An error occurred during login. Please try again."}},register:{title:"Create Account",subtitle:"Join the QR Menu family and digitize your restaurant",backToHome:"Back to Home",firstName:"First Name",lastName:"Last Name",email:"Email",phone:"Phone Number",password:"Password",confirmPassword:"Confirm Password",createAccount:"Create Account",creating:"Creating Account...",haveAccount:"Already have an account?",signInNow:"Sign In",formProgress:"Form completion",placeholders:{firstName:"Your first name",lastName:"Your last name",email:"example@email.com",phone:"05XX XXX XX XX",password:"",confirmPassword:"Re-enter your password"},validation:{nameRequired:"First name is required",nameMin:"First name must be at least 2 characters",surnameRequired:"Last name is required",surnameMin:"Last name must be at least 2 characters",emailRequired:"Email is required",emailInvalid:"Please enter a valid email address",phoneRequired:"Phone number is required",phoneInvalid:"Please enter a valid phone number (e.g., 05XX XXX XX XX)",passwordRequired:"Password is required",passwordMin:"Password must be at least 8 characters",passwordPattern:"Password must contain at least one uppercase letter, one lowercase letter and one number",passwordConfirmRequired:"Password confirmation is required",passwordMismatch:"Passwords do not match",termsRequired:"You must accept the terms of service",emailExists:"This email address is already in use"},passwordStrength:{veryWeak:"Very Weak",weak:"Weak",medium:"Medium",good:"Good",strong:"Strong"},terms:{service:"Terms of Service",and:"and",privacy:"Privacy Policy",accept:"I accept"},errors:{validation:"Please check your registration information",invalidData:"Invalid information entered. Please check.",general:"An error occurred during registration. Please try again."},success:{message:"Registration successful! Now you can enter your restaurant information."}},forgotPassword:{title:"Forgot Password",subtitle:"Enter your email address and we'll send you a password reset link",backToLogin:"Back to Login",email:"Email",sendResetLink:"Send Reset Link",sending:"Sending...",resendCode:"Resend Code",countdown:"seconds until you can resend",placeholders:{email:"example@email.com"},success:{title:"Email Sent!",message:"Password reset link has been sent to your email address. Please check your email."},errors:{emailRequired:"Email is required",emailInvalid:"Please enter a valid email address",emailNotFound:"No account found with this email address",general:"An error occurred while sending the password reset link. Please try again."}}},pricing:{title:"Choose Your",titleHighlight:"Perfect",titleEnd:"Plan",subtitle:"Flexible pricing options designed for your needs. You can change or cancel your plan anytime.",monthly:"Monthly",yearly:"Yearly",freeMonths:"2 MONTHS FREE",mostPopular:"Most Popular",plans:{basic:{name:"Starter",features:{0:"1 Restaurant",1:"50 Products",2:"Basic Analytics",3:"Email Support",4:"QR Code Generator",5:"Mobile Optimization"},button:"Get Started"},pro:{name:"Professional",features:{0:"3 Restaurants",1:"Unlimited Products",2:"Advanced Analytics",3:"Priority Support",4:"Custom Design",5:"Multi-Language Support",6:"API Access",7:"White Label"},button:"Most Popular"},enterprise:{name:"Enterprise",features:{0:"Unlimited Restaurants",1:"Unlimited Products",2:"Enterprise Analytics",3:"24/7 Phone Support",4:"Custom Integration",5:"Dedicated Account Manager",6:"SLA Guarantee",7:"Training & Consulting"},button:"Contact Us"}},additionalInfo:"All plans include 14-day free trial  No credit card required  Cancel anytime",vatInfo:"Prices include VAT. Custom pricing available for enterprise plans.",perMonth:"month",perYear:"year",monthlyEquivalent:"Monthly {amount} (2 months free)"},testimonials:{title:"What Our Customers",titleHighlight:"Say",subtitle:"Real user experiences about the QR Menu system trusted by 500+ restaurants across Turkey.",customers:[{name:"Mehmet zkan",role:"Restaurant Owner",company:"Lezzet Dura",content:"Thanks to QR Menu, our customer satisfaction increased by 40%. Especially during the pandemic, contactless menu provided a great advantage. The system is very easy to use."},{name:"Aye Demir",role:"General Manager",company:"Bella Vista Restaurant",content:"Our customers can now view the menu without waiting for waiters. Our order taking time has been halved. Really a perfect solution!"},{name:"Can Ylmaz",role:"Business Partner",company:"Keyif Cafe",content:"Thanks to analytics reports, we see which products are more popular. We optimized our menu and our sales increased by 25%."},{name:"Fatma Kaya",role:"Restaurant Manager",company:"Anadolu Sofras",content:"Price updates are reflected instantly. We no longer deal with menu printing. Both cost savings and environmentally friendly."},{name:"Emre ahin",role:"Chain Restaurant Owner",company:"Burger House",content:"We manage all our branches from one place. We can create separate menus and pricing for each branch. Magnificent system!"},{name:"Zeynep Arslan",role:"Cafe Owner",company:"Kahve Kesi",content:"Customer support is great. We got help at every step during installation. Now we are a technological cafe and our customers are very satisfied."}],stats:{restaurants:"Happy Restaurants",satisfaction:"Satisfaction Rate",support:"Customer Support",setup:"Setup Time"}},faq:{title:"Frequently Asked",titleHighlight:"Questions",subtitle:"Everything you want to know about QR Menu is here. If you don't find your question, you can contact us.",questions:{1:{question:"How does QR Menu work?",answer:"Our QR Menu system is very simple. We create a QR code for your restaurant. Your customers can instantly access your menu by scanning this QR code with their phones. No app download required."},2:{question:"How long does setup take?",answer:"Setup takes only 5 minutes! After creating your account, you upload and customize your menu. Your QR code becomes ready to use immediately."},3:{question:"Can I see customer data?",answer:"Yes! We provide detailed analytics such as which products are viewed most, peak hours, customer behaviors. You can optimize your menu with this data."},4:{question:"Can I easily change prices?",answer:"Of course! You can update prices, add new products or edit existing products anytime from your admin panel. Changes are published instantly."},5:{question:"How does it look on mobile devices?",answer:"Your menu looks perfect on all devices. With responsive design, it provides optimal experience on phones, tablets and computers."},6:{question:"Is there customer support?",answer:"Absolutely! We provide 24/7 support via email, phone and live chat. We are with you at every step from installation to usage."},7:{question:"What happens when I want to cancel?",answer:"You can cancel anytime. No contract or penalty. After cancellation, we securely deliver your data to you."},8:{question:"Can I manage multiple restaurants?",answer:"With our Professional and Enterprise plans, you can manage multiple restaurants from a single account. Separate menu and analytics for each restaurant."}},cta:{title:"Do you have other questions?",subtitle:"Contact us for questions you can't find answers to. We respond within 24 hours.",button:"Contact Us"}},contact:{title:"Get in",titleHighlight:"Touch",titleEnd:"with Us",subtitle:"Do you have questions about the QR Menu system? Contact us.",info:{title:"Contact Information",phone:"Phone",email:"Email",address:"Address"},form:{title:"Write to Us",name:"Full Name",nameRequired:"Full Name *",namePlaceholder:"Enter your name",email:"Email",emailRequired:"Email *",emailPlaceholder:"Your email address",company:"Restaurant/Company Name",companyPlaceholder:"Your business name",message:"Your Message",messageRequired:"Your Message *",messagePlaceholder:"Write your message...",sending:"Sending...",send:"Send Message",success:{title:"Your Message Has Been Sent!",subtitle:"We will get back to you as soon as possible."}}},accessibility:{menu:"Toggle menu",theme:"Change theme",language:"Change language",profile:"Profile menu",notifications:"Notifications"},orders:{loading:"Loading orders...",title:"Orders",description:"Manage and track all your orders",orderNumber:"Order",table:"Table",items:"Items",tabs:{all:"All Orders",pending:"Pending",preparing:"Preparing",ready:"Ready",delivered:"Delivered",cancelled:"Cancelled"},status:{pending:"Pending",preparing:"Preparing",ready:"Ready",delivered:"Delivered",cancelled:"Cancelled"},filters:{status:"Status",dateRange:"Date Range",paymentType:"Payment Type",today:"Today",yesterday:"Yesterday",lastWeek:"Last Week",lastMonth:"Last Month",custom:"Custom"},actions:{refresh:"Refresh",export:"Export",filter:"Filter",search:"Search orders...",viewDetails:"View Details",changeStatus:"Change Status"},stats:{totalOrders:"Total Orders",totalRevenue:"Total Revenue",pendingOrders:"Pending Orders",avgOrderValue:"Average Order Value"}},tableManagement:{addTable:"Add Table",loading:"Loading tables...",title:"Table Management",ActiveStatus:"Active Status",descriptionActive:"Category is active and visible",descriptionInActive:"Category is inactive and hidden",description:"Manage your QR codes and tables",noCategories:"Not Found Area",createFirstCategory:"Create First Area",error:{loadFailed:"Failed to load branch list",dataLoadFailed:"An error occurred while loading data"},deleteModal:{title:"Are You Sure you want delete the item ? "},actions:{addTable:"Add Table",addQRCode:"Add QR Code",generateQR:"Generate QR Code",downloadQR:"Download QR Code",editTable:"Edit Table",deleteTable:"Delete Table"},categories:{title:"Area Management",addCategory:"Add Area",editCategory:"Edit Area",deleteCategory:"Delete Area",categoryName:"Area Name",tableCount:"Table Count"},qrCodes:{title:"QR Codes",tableNumber:"Table Number",category:"Category",status:"Status",actions:"Actions",active:"Active",inactive:"Inactive"}},userManagement:{loading:"Loading users...",title:"User Management",noBranch:"No branch selected. Please select a branch to manage users.",description:"Manage users, roles and permissions",error:{loadFailed:"An error occurred while loading users",rolesLoadFailed:"An error occurred while loading roles",createFailed:"An error occurred while creating user",updateFailed:"An error occurred while updating user",deleteFailed:"An error occurred while deleting user"},actions:{addUser:"Add User",editUser:"Edit User",deleteUser:"Delete User",resetPassword:"Reset Password",changeRole:"Change Role"},roles:{admin:"Admin",manager:"Manager",staff:"Staff",viewer:"Viewer"},status:{active:"Active",inactive:"Inactive",suspended:"Suspended"}},subscription:{title:"Subscription",description:"Manage your subscription plan and view your bills",currentPlan:"Current Plan",planDetails:"Plan Details",billing:"Billing",usage:"Usage",plan:"Plan",renewal:"Renewal",changePlan:"Change Plan",availablePlans:"Available Plans",selectPlan:"Choose a plan that fits your needs",tabs:{overview:"Overview",billing:"Billing",usage:"Usage"},actions:{upgrade:"Upgrade",downgrade:"Downgrade",cancel:"Cancel",renew:"Renew",settings:"Settings"}},products:{status:{outOfStock:"Out of Stock",inStock:"In Stock",available:"Available",unavailable:"Unavailable"},count:"products",empty:"No products in this category yet",actions:{addFirst:"Add first product",addProduct:"Add Product",editProduct:"Edit Product",deleteProduct:"Delete Product"}},branchSelector:{status:{loading:"Loading...",error:"Could not fetch branch list"},empty:"No options found",actions:{changeBranchRestaurant:"Change Branch/Restaurant"},labels:{mainRestaurant:"Main Restaurant",branches:"Branches"}},popularProducts:{title:"Popular Products",empty:"Product sales will appear here",labels:{orders:"orders",percentage:"%"},tooltip:{ordersFormat:(e,t)=>`${e} orders (${t}%)`,noData:"No data available"}},weeklyActivity:{title:"Haftalk Aktivite",empty:{primary:"No activity data yet",secondary:"Data will appear here soon"},labels:{views:"Views",qrScans:"QR Scan"},legend:{views:"Views",qrScans:"QR Scan"}},monthlyRevenue:{QuickStats:"Quick Stats",title:"Monthly Revenue Trend",empty:{primary:"No revenue data available yet",secondary:"Revenue data will appear here"},labels:{total:"Total:",revenue:"Revenue"},currency:{symbol:"$",format:e=>`$${e.toLocaleString("en-US")}`}},branchCard:{status:{temporaryClosed:"Temporarily Closed",open:"Open",closed:"Closed",active:"Active",inactive:"Inactive",hidden:"Hidden"},actions:{edit:"Edit",delete:"Delete",purge:"Purge Branch Data"},labels:{customerVisibility:"Customer Visibility",apiBranchOpen:"API BranchIsOpen:"},alt:{logo:"logo"}},addBranchCard:{title:"Add New Branch",description:"Click to add a new branch"},branchModal:{title:{add:"Add New Branch",edit:"Edit Branch"},subtitle:"You can enter branch information step by step",steps:{basic:"Basic Information",address:"Address Information",contact:"Contact & Working Hours"},sections:{basicInfo:"Basic Information",addressInfo:"Address Information",contactInfo:"Contact Information",workingHours:"Working Hours"},fields:{branchName:{label:"Branch Name *",placeholder:"Enter branch name"},whatsappNumber:{label:"WhatsApp Order Number *",placeholder:"Enter WhatsApp order number"},branchLogo:{label:"Branch Logo (Optional)",select:"Select Logo",uploading:"Uploading...",success:" Logo uploaded successfully",preview:"Branch logo preview",supportText:"PNG, JPG, GIF formats are supported. Maximum file size: 5MB"},country:{label:"Country *",placeholder:"Enter country name"},city:{label:"City *",placeholder:"Enter city name"},street:{label:"Street *",placeholder:"Enter street name"},zipCode:{label:"Zip Code *",placeholder:"Enter zip code"},addressLine1:{label:"Address Line 1 *",placeholder:"Enter detailed address information"},addressLine2:{label:"Address Line 2 (Optional)",placeholder:"Enter additional address information (optional)"},phone:{label:"Phone Number *",placeholder:"Enter phone number"},email:{label:"Email Address *",placeholder:"Enter email address"},location:{label:"Location Information *",placeholder:"Enter location information (e.g., 40.9795,28.7225)"},contactHeader:{label:"Contact Header (Optional)",placeholder:"Enter contact header (optional)"},footerTitle:{label:"Footer Title (Optional)",placeholder:"Enter footer title (optional)"},footerDescription:{label:"Footer Description (Optional)",placeholder:"Enter footer description (optional)"},openTitle:{label:"Working Hours Title (Optional)",placeholder:"Enter working hours title (optional)"},openDays:{label:"Open Days (Optional)",placeholder:"Enter open days (optional)"},openHours:{label:"Open Hours (Optional)",placeholder:"Enter open hours (optional)"}},workingHours:{description:"Set your business working hours",days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],open:"Open",closed:"Closed",openTime:"Open",closeTime:"Close",canOrder:" Customers can place orders on this day",infoTitle:"About Working Hours",infoText:"The hours you set here determine when customers can place orders through your QR menu. No orders are taken on closed days."},errors:{branchName:"Branch name is required",whatsappNumber:"WhatsApp order number is required",country:"Country is required",city:"City is required",street:"Street is required",zipCode:"Zip code is required",addressLine1:"Address line 1 is required",phone:"Phone number is required",email:"Email address is required",location:"Location information is required",branchModal:"Logo required",addressLine2:"Detailed address required"},buttons:{cancel:"Cancel",back:"Back",next:"Next",save:"Save",saving:"Saving..."}},branchManagement:{title:"Branch Management",description:"Manage restaurant branches and update their information",loading:"Loading branches...",addBranch:"Add New Branch",purgeConfirm:{title:"Are ypu sure about that ?",description:""},error:{loadFailed:"Failed to load branches",createFailed:"Failed to create branch",updateFailed:"Failed to update branch",deleteFailed:"Failed to delete branch",restaurantIdNotFound:"Restaurant ID not found",detailsLoadFailed:"Failed to load branch details",statusUpdateFailed:"Failed to update branch status",sessionExpired:"Session expired. Please log in again.",noPermission:"You do not have permission for this operation.",branchNotFound:"Branch not found.",connectionError:"Check your internet connection.",unknownError:"An unexpected error occurred"},noBranches:{title:"No branches yet",description:"Start by adding your first restaurant branch"},deleteConfirm:{title:"Confirm Branch Deletion",description:'Are you sure you want to delete the branch "{{branchName}}"? This action cannot be undone.'},form:{branchName:"Branch Name",branchNamePlaceholder:"Enter branch name",branchNameRequired:"Branch name is required",whatsappNumber:"WhatsApp Order Number",whatsappPlaceholder:"Enter WhatsApp number",branchLogo:"Branch Logo",logoUpload:"Upload Logo",logoChange:"Change Logo",logoRemove:"Remove Logo",logoNotSelected:"No logo selected",logoInstructions:"You can upload JPG, PNG or GIF files, maximum 5MB size.",country:"Country",countryPlaceholder:"Enter country name",city:"City",cityPlaceholder:"Enter city name",street:"Street",streetPlaceholder:"Enter street name",zipCode:"Zip Code",zipCodePlaceholder:"Enter zip code",addressLine1:"Address Line 1",addressLine1Placeholder:"Enter address details",addressLine2:"Address Line 2",addressLine2Placeholder:"Additional address information (optional)",phone:"Phone",phonePlaceholder:"Enter phone number",email:"Email",emailPlaceholder:"Enter email address",location:"Location",locationPlaceholder:"Enter location information",contactHeader:"Contact Header",contactHeaderPlaceholder:"Enter contact header",footerTitle:"Footer Title",footerTitlePlaceholder:"Enter footer title",footerDescription:"Footer Description",footerDescriptionPlaceholder:"Enter footer description",openTitle:"Opening Hours Title",openTitlePlaceholder:"Enter opening hours title",openDays:"Open Days",openDaysPlaceholder:"Enter open days",openHours:"Open Hours",openHoursPlaceholder:"Enter open hours",workingHours:"Working Hours",workingHoursRequired:"At least one working day must be selected",isOpen:"Open",dayNames:{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"}},modal:{createTitle:"Add New Branch",createDescription:"Enter new branch information",editTitle:"Edit Branch - {branchName}",editDescription:"Edit branch information",tabs:{general:"General Information",address:"Address",contact:"Contact",workingHours:"Working Hours"},buttons:{creating:"Creating...",updating:"Updating...",create:"Create Branch",update:"Update Branch"},errors:{updateError:"Update Error",validationFailed:"Please fix the errors in the form and try again.",dataValidationError:"An error occurred during update. Please check the entered data.",imageUploadError:"Failed to upload image. Please try again.",imageRemoveError:"Failed to remove image.",uploadingImage:"Uploading image...",invalidFileType:"Please select a valid image file",fileSizeError:"File size must be less than 5MB"}},card:{edit:"Edit",delete:"Delete",temporaryClose:"Temporary Close",temporaryOpen:"Temporary Open",status:{open:"Open",closed:"Closed",temporarilyClosed:"Temporarily Closed"}}},commonBranch:{cancel:"Cancel",delete:"Delete",save:"Save",edit:"Edit",create:"Create",update:"Update",close:"Close",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Information",required:"Required",optional:"Optional"},productsContent:{branch:{selectAll:"All"},title:"Products Management",description:"Manage menu categories and products",search:{placeholder:"Search menu items...",filter:"Filter",sort:"Sort",noResults:"No products found"},viewMode:{list:"List view",grid:"Grid view"},actions:{addFirstCategory:"Add First Category",addCategory:"New Category",newCategory:"New Category",addProduct:"New Product",newProduct:"New Product",editCategory:"Edit Category",deleteCategory:"Delete Category",editProduct:"Edit Product",deleteProduct:"Delete Product",manageIngredients:"Manage Ingredients",updateIngredients:"Update Ingredients",manageAddons:"Manage Add-ons",importSampleMenu:"Import Sample Menu",addFirstCategoryTitle:"Add First Category",RecycleBin:"Recycle Bin"},emptyState:{noCategories:{title:"No menu categories yet",description:'Start creating your restaurant menu by adding the first category. For example "Main Dishes", "Beverages" or "Desserts".',addFirstCategory:"Add First Category"}},loading:{categories:"Loading categories...",products:"Loading products...",savingOrder:"Saving order...",savingCategoryOrder:"Saving category order...",savingProductOrder:"Saving product order...",movingProduct:"Moving product...",deleting:"Deleting..."},dragDrop:{categoryReordering:"Saving category order...",productReordering:"Saving product order...",productMoving:"Moving product...",categoryOrderSaveError:"An error occurred while saving category order.",productOrderSaveError:"An error occurred while saving product order.",productMoveError:"An error occurred while moving the product."},delete:{product:{title:"Delete Product",message:'Are you sure you want to delete "{{productName}}"? This action cannot be undone.',success:"Product deleted successfully"},category:{title:"Delete Category",messageWithProducts:'Category "{{categoryName}}" contains {{productCount}} products. Deleting this category will also delete all products. Are you sure you want to continue?',messageEmpty:'Are you sure you want to delete category "{{categoryName}}"?',success:"Category deleted successfully"}},error:{loadFailed:"Failed to load data",categoryNotFound:"Category not found",productNotFound:"Product not found",deleteFailed:"Failed to delete",updateFailed:"Failed to update",createFailed:"Failed to create",reorderFailed:"Failed to reorder",invalidData:"Invalid data",networkError:"Network connection error",refreshPage:"Please refresh the page and try again."},success:{categoryCreated:"Category created successfully",categoryUpdated:"Category updated successfully",categoryDeleted:"Category deleted successfully",productCreated:"Product created successfully",productUpdated:"Product updated successfully",productDeleted:"Product deleted successfully",orderSaved:"Order saved successfully",ingredientsUpdated:"Ingredients updated successfully",addonsUpdated:"Add-ons updated successfully"},category:{products:"products",productCount:"product",noProducts:"No products in this category",expand:"Expand",collapse:"Collapse"},product:{price:"Price",description:"Description",ingredients:"Ingredients",addons:"Add-ons",category:"Category",image:"Image",status:"Status",available:"Available",unavailable:"Unavailable"},currency:{symbol:"",format:"{{amount}} "},status:{active:"Active",inactive:"Inactive",available:"Available",unavailable:"Unavailable"},tooltips:{dragToReorder:"Drag to reorder",dragToMoveCategory:"Drag to move product to another category",expandCategory:"Expand category",collapseCategory:"Collapse category",editCategory:"Edit category",deleteCategory:"Delete category",editProduct:"Edit product",deleteProduct:"Delete product",manageIngredients:"Manage product ingredients",manageAddons:"Manage product add-ons"}},createCategoryModal:{title:"Add New Category",subtitle:"Create menu category",close:"Close",form:{categoryName:{label:"Category Name *",placeholder:"e.g: Main Dishes, Beverages, Desserts",required:"Category name is required"},status:{label:"Activate category",description:"Active categories appear in the menu"}},buttons:{cancel:"Cancel",create:"Add Category",creating:"Adding..."},errors:{general:"An error occurred while adding the category. Please try again.",categoryExists:"A category with this name already exists. Please choose a different name.",invalidData:"The entered data is invalid. Please check and try again.",serverError:"A server error occurred. Please try again later.",networkError:"Network connection error. Check your connection and try again.",unknownError:"An unexpected error occurred. Please try again.",errorLabel:"Error:"},success:{categoryCreated:"Category created successfully",categoryAdded:"Category successfully added to the menu"},validation:{nameRequired:"Category name is required",nameMinLength:"Category name must be more than 2 characters",nameMaxLength:"Category name must be less than 50 characters",invalidCharacters:"Category name contains invalid characters"},accessibility:{closeModal:"Close add category modal",formTitle:"Add new category form",requiredField:"Required field",optionalField:"Optional field"}},createProductModal:{title:"Add New Product",subtitle:"Add product to your menu",close:"Close",form:{productImage:{label:"Product Image",dragActive:"Drop file here",uploadText:"Upload image",supportedFormats:"PNG, JPG, GIF (5MB max)",removeImage:"Remove image"},productName:{label:"Product Name",placeholder:"e.g: Margherita Pizza",required:"Product name is required"},price:{label:"Price ()",placeholder:"0",required:"Price is required",mustBePositive:"Price must be greater than 0",currency:""},category:{label:"Category",placeholder:"Select category",required:"Category selection is required",invalidCategory:"Selected category is invalid. Available categories: {{categories}}"},description:{label:"Description",placeholder:"Product description...",required:"Product description is required"},status:{label:"Activate product",description:"Displays in menu",active:"Active",inactive:"Inactive"}},buttons:{cancel:"Cancel",create:"Add Product",creating:"Adding...",uploading:"Uploading..."},imageUpload:{dragToUpload:"Drag image here or click to upload",clickToUpload:"Click to upload image",dragActive:"Drop file here",supportedFormats:"PNG, JPG, GIF",maxSize:"5MB max",preview:"Image preview",remove:"Remove"},errors:{general:"An error occurred while adding the product. Please try again.",nameRequired:"Product name is required",descriptionRequired:"Product description is required",priceRequired:"Price is required",priceMustBePositive:"Price must be greater than 0",categoryRequired:"Category selection is required",categoryInvalid:"Selected category is invalid",imageInvalid:"Please select a valid image file",imageTooLarge:"Image file size must be less than 5MB",imageUploadFailed:"Failed to upload image",networkError:"Network connection error. Check your connection and try again.",serverError:"A server error occurred. Please try again later.",unknownError:"An unexpected error occurred. Please try again.",errorLabel:"Error:"},success:{productCreated:"Product created successfully",productAdded:"Product successfully added to the menu"},validation:{nameMinLength:"Product name must be more than 2 characters",nameMaxLength:"Product name must be less than 100 characters",descriptionMinLength:"Description must be more than 5 characters",descriptionMaxLength:"Description must be less than 500 characters",priceMin:"Price must be greater than 0",priceMax:"Price must be less than 10000"},accessibility:{closeModal:"Close add product modal",formTitle:"Add new product form",requiredField:"Required field",optionalField:"Optional field",imageUpload:"Upload product image",removeImage:"Remove product image",priceInput:"Enter product price",categorySelect:"Select product category",statusToggle:"Toggle product status"}},productAddonsModal:{title:"Product Addons",subtitle:"manage addon products for",close:"Close",panels:{currentAddons:{title:"Current Addons",count:"({{count}})",dragInstruction:"You can reorder by dragging",emptyState:{title:"No addons added yet.",subtitle:"Select products from the right panel."}},availableProducts:{title:"Products Available as Addons",searchPlaceholder:"Search products...",emptyState:{noResults:"No products found matching search criteria.",noProducts:"No addable products found."}}},actions:{edit:"Edit",save:"Save",cancel:"Cancel",remove:"Remove",recommended:"Recommended"},form:{marketingText:{placeholder:"Marketing text...",label:"Marketing Text"},isRecommended:{label:"Mark as recommended addon",badge:"Recommended"}},status:{outOfStock:"Out of Stock",available:"Available",unavailable:"Unavailable"},loading:{addons:"Loading addons...",products:"Loading products...",saving:"Saving..."},buttons:{cancel:"Cancel",saveAddons:"Save Addons",saving:"Saving..."},counters:{selectedProducts:"{{count}} products selected",availableProducts:"{{count}} available products"},errors:{loadingData:"An error occurred while loading addon data.",updatingAddon:"An error occurred while updating addon.",deletingAddon:"An error occurred while deleting addon.",savingOrder:"An error occurred while saving addon order.",savingAddons:"An error occurred while saving addons. Please try again.",general:"An unexpected error occurred. Please try again.",networkError:"Network connection error. Check your connection and try again."},success:{addonsSaved:"Product addons saved successfully",orderUpdated:"Addon order updated successfully",addonUpdated:"Addon updated successfully",addonRemoved:"Addon removed successfully"},accessibility:{closeModal:"Close product addons modal",dragHandle:"Drag to reorder addon",editAddon:"Edit addon details",removeAddon:"Remove addon from product",selectProduct:"Select product as addon",productImage:"Product image",toggleRecommended:"Toggle recommended status"}},editCategoryModal:{title:"Edit Category",subtitle:"Update category information",close:"Close",form:{categoryName:{label:"Category Name",placeholder:"Enter category name...",required:"Category name is required",minLength:"Category name must be at least 2 characters",maxLength:"Category name must be less than 100 characters"},description:{label:"Description",placeholder:"Enter category description...",optional:"Optional",maxLength:"Description must be less than 500 characters"},status:{label:"Active",description:"Category will be visible in the menu when active",active:"Active",inactive:"Inactive"}},buttons:{cancel:"Cancel",save:"Save",saving:"Saving...",update:"Update Category",updating:"Updating..."},errors:{updateFailed:"An error occurred while updating the category. Please try again.",nameRequired:"Category name is required",nameMinLength:"Category name must be at least 2 characters",nameMaxLength:"Category name must be less than 100 characters",descriptionMaxLength:"Description must be less than 500 characters",general:"An unexpected error occurred. Please try again.",networkError:"Network connection error. Check your connection and try again.",serverError:"A server error occurred. Please try again later."},success:{categoryUpdated:"Category updated successfully",changesSaved:"Changes saved successfully"},validation:{nameRequired:"Please enter a category name",nameMinLength:"Category name is too short",nameMaxLength:"Category name is too long",descriptionMaxLength:"Description is too long"},accessibility:{closeModal:"Close edit category modal",formTitle:"Edit category form",requiredField:"Required field",optionalField:"Optional field",statusToggle:"Toggle category status",nameInput:"Category name input",descriptionInput:"Category description input"}},confirmDeleteModal:{defaultTitle:"Confirm Deletion",deleteTitle:"Delete Item",deleteTableWarning:"Ensure there is no pending request before deleting the table.",warning:"This action cannot be undone. The item will be permanently deleted.",itemTypes:{category:"Category",product:"Product",addon:"Addon",user:"User",order:"Order",coupon:"Coupon",discount:"Discount",promotion:"Promotion",review:"Review",comment:"Comment",image:"Image",file:"File",item:"Item"},buttons:{cancel:"Cancel",delete:"Delete",deleting:"Deleting...",confirm:"Confirm",confirming:"Confirming..."},messages:{category:"Are you sure you want to delete this category? All products in this category will also be affected.",product:"Are you sure you want to delete this product? This action cannot be undone.",addon:"Are you sure you want to delete this addon? It will be removed from all associated products.",user:"Are you sure you want to delete this user? All their data will be permanently removed.",general:"Are you sure you want to delete this item? This action cannot be undone."},errors:{deleteFailed:"An error occurred during deletion. Please try again.",networkError:"Network connection error. Please check your connection and try again.",serverError:"A server error occurred. Please try again later.",permissionError:"You do not have permission to delete this item.",notFound:"The item to delete was not found.",hasRelations:"Cannot delete this item because it has related data.",general:"An unexpected error occurred. Please try again."},success:{deleted:"Item deleted successfully",categoryDeleted:"Category deleted successfully",productDeleted:"Product deleted successfully",addonDeleted:"Addon deleted successfully"},confirmations:{typeToConfirm:'Type "DELETE" to confirm',enterName:"Enter the name to confirm deletion",areYouSure:"Are you absolutely sure?",lastChance:"This is your last chance to cancel."},accessibility:{closeModal:"Close delete confirmation modal",deleteDialog:"Delete confirmation dialog",warningIcon:"Warning icon",deleteButton:"Confirm deletion",cancelButton:"Cancel deletion",errorAlert:"Error message"}},editProductModal:{title:"Edit Product",subtitle:"Update product information",close:"Close",form:{productImage:{label:"Product Image",optional:"Optional"},productName:{label:"Product Name",placeholder:"e.g: Margherita Pizza",required:"Product name is required"},description:{label:"Description",placeholder:"Product description...",optional:"Optional"},price:{label:"Price ()",placeholder:"0",required:"Price is required",currency:""},category:{label:"Category",placeholder:"Select category",required:"Category selection is required"},status:{label:"Available in Stock",description:"Product will be visible in menu when available",available:"Available",unavailable:"Unavailable"}},buttons:{cancel:"Cancel",update:"Update Product",updating:"Updating...",save:"Save Changes",saving:"Saving...",uploading:"Uploading Image..."},imageUpload:{clickToUpload:"Click to upload image",dragToUpload:"Drag image here or click to upload",dragActive:"Drop file here",supportedFormats:"PNG, JPG, GIF",maxSize:"5MB max",preview:"Image preview",remove:"Remove image",changeImage:"Change image"},errors:{errorLabel:"Error:",updateFailed:"An error occurred while updating the product. Please try again.",nameRequired:"Product name is required",nameAlreadyExists:"A product with this name already exists. Please choose a different name.",descriptionRequired:"Product description is required",priceRequired:"Price is required",priceMustBePositive:"Price must be greater than 0",categoryRequired:"Category selection is required",imageInvalid:"Please select a valid image file",imageTooLarge:"Image file size must be less than 5MB",imageUploadFailed:"Failed to upload image",productNotFound:"Product not found",permissionDenied:"You do not have permission to update this product",networkError:"Network connection error. Check your connection and try again.",serverError:"A server error occurred. Please try again later.",unknownError:"An unexpected error occurred. Please try again."},success:{productUpdated:"Product updated successfully",changesSaved:"Changes saved successfully",imageUploaded:"Image uploaded successfully"},validation:{nameMinLength:"Product name must be more than 2 characters",nameMaxLength:"Product name must be less than 100 characters",descriptionMaxLength:"Description must be less than 500 characters",priceMin:"Price must be greater than 0",priceMax:"Price must be less than 10000",imageSize:"Image must be less than 5MB",imageType:"Only image files are allowed"},accessibility:{closeModal:"Close edit product modal",formTitle:"Edit product form",requiredField:"Required field",optionalField:"Optional field",imageUpload:"Upload product image",removeImage:"Remove product image",priceInput:"Enter product price",categorySelect:"Select product category",statusToggle:"Toggle product availability",imagePreview:"Product image preview"}},productIngredientModal:{title:"Product Ingredients",subtitle:"select ingredients for",close:"Close",search:{placeholder:"Search ingredients...",label:"Search ingredients",noResults:"No ingredients found"},summary:{selectedCount:"Selected ingredients",hasChanges:"Has changes",noChanges:"No changes"},form:{quantity:{label:"Quantity",placeholder:"Amount",required:"Quantity is required"},unit:{label:"Unit",placeholder:"Select unit",required:"Unit is required"}},units:{grams:"g",milliliters:"ml",pieces:"piece",tablespoons:"tbsp",teaspoons:"tsp",cups:"cup",kilograms:"kg",liters:"l"},status:{available:"Available",unavailable:"Unavailable",containsAllergens:"Contains Allergens",toBeAdded:"To be added",toBeRemoved:"To be removed",selected:"Selected",unselected:"Unselected"},allergenInfo:{count:"{{count}} allergen",count_plural:"{{count}} allergens",details:"Allergen details",warning:"This ingredient contains allergens"},loading:{ingredients:"Loading ingredients...",saving:"Saving ingredients...",data:"Loading data..."},emptyState:{noIngredients:"No ingredients added yet.",noSearchResults:"No ingredients found matching search criteria.",noAvailableIngredients:"No available ingredients found."},buttons:{cancel:"Cancel",skip:"Skip",save:"Save",saveIngredients:"Save Ingredients",saving:"Saving...",add:"Add Ingredients",update:"Update Ingredients"},footer:{totalCount:"Total: {{count}} ingredients",selectedInfo:"{{selected}} of {{total}} selected"},errors:{loadingData:"An error occurred while loading ingredient data.",savingIngredients:"An error occurred while saving ingredients. Please try again.",quantityRequired:"All ingredients must have a quantity greater than 0.",unitRequired:"All ingredients must have a unit selected.",networkError:"Network connection error. Check your connection and try again.",serverError:"A server error occurred. Please try again later.",general:"An unexpected error occurred. Please try again.",invalidQuantity:"Please enter a valid quantity",ingredientNotFound:"Ingredient not found",permissionDenied:"You do not have permission to modify ingredients"},success:{ingredientsSaved:"Ingredients saved successfully",ingredientsUpdated:"Ingredients updated successfully",ingredientAdded:"Ingredient added successfully",ingredientRemoved:"Ingredient removed successfully"},validation:{quantityMin:"Quantity must be greater than 0",quantityMax:"Quantity must be less than 1000",unitRequired:"Please select a unit",ingredientRequired:"Please select at least one ingredient"},accessibility:{closeModal:"Close ingredient selection modal",searchInput:"Search for ingredients",quantityInput:"Enter ingredient quantity",unitSelect:"Select measurement unit",ingredientCheckbox:"Select ingredient",selectedIndicator:"Ingredient selected",allergenWarning:"Contains allergens",availabilityStatus:"Availability status"}},ProductIngredientUpdateModal:{title:"Update Ingredients",searchPlaceholder:"Search ingredients...",selectedCount:"ingredients selected",loadingIngredients:"Loading ingredients...",noIngredientsFound:"No ingredients found",noIngredientsFoundSearch:"No ingredients found matching search criteria",unit:"Unit:",price:"Price:",quantity:"Quantity",cancel:"Cancel",save:"Save",saving:"Saving...",errors:{loadingIngredients:"An error occurred while loading ingredients",savingIngredients:"An error occurred while saving ingredients"},accessibility:{closeModal:"Close update ingredients modal",formTitle:"Update product ingredients form",searchInput:"Search for ingredients",ingredientToggle:"Toggle ingredient selection",quantityInput:"Enter ingredient quantity",selectedIndicator:"Ingredient selected",unselectedIndicator:"Ingredient not selected",ingredientCard:"Ingredient selection card",saveButton:"Save ingredient changes",cancelButton:"Cancel ingredient update"}},SortableCategory:{product:"product",products:"products",status:{active:"active"},editCategory:"Edit category",deleteCategory:"Delete category",reorderingProducts:"Saving product order...",noCategoryProducts:"No products in this category yet.",expandCategory:"Expand category",collapseCategory:"Collapse category",dragCategory:"Drag to reorder category",accessibility:{categoryActions:"Category actions",productCount:"Product count",expandToggle:"Toggle category expansion",editCategoryButton:"Edit category",deleteCategoryButton:"Delete category",dragHandle:"Drag handle to reorder category",categoryCard:"Category card",emptyCategory:"Empty category",reorderingStatus:"Category is being reordered"}},SortableProduct:{outOfStock:"Out of Stock",loadingIngredients:"Loading ingredients...",ingredients:"Ingredients",noIngredients:"No ingredients added",loadingAddons:"Loading addons...",addons:"Addons",noAddons:"No addons added",manageAddons:"Manage addons",editProduct:"Edit product",deleteProduct:"Delete product",dragProduct:"Drag to reorder product",allergenic:"Contains allergens",recommended:"Recommended",price:"Price",errors:{loadingIngredients:"An error occurred while loading ingredients.",loadingAddons:"An error occurred while loading addons."},accessibility:{productImage:"Product image",productCard:"Product card",productActions:"Product actions",dragHandle:"Drag handle to reorder product",outOfStockBadge:"Product is out of stock",ingredientsList:"Product ingredients list",addonsList:"Product addons list",allergenWarning:"Contains allergens",recommendedAddon:"Recommended addon",editButton:"Edit product",deleteButton:"Delete product",addonsButton:"Manage product addons"}},IngredientsContent:{searchPlaceholder:"Search ingredients...",filter:"Filter",sort:"Sort",newIngredient:"New Ingredient",ingredientName:"Ingredient Name",status:"Status",allergenInfo:"Allergen Information",actions:"Actions",available:"Available",unavailable:"Unavailable",containsAllergens:"Contains Allergens",noAllergens:"No Allergens",edit:"Edit",delete:"Delete",noIngredientsFound:"No ingredients found matching search criteria.",noIngredientsYet:"No ingredients added yet.",deleteIngredient:"Delete Ingredient",deleteConfirmMessage:'Are you sure you want to delete "{name}" ingredient?',deleteError:"An error occurred during deletion. Please try again.",cancel:"Cancel",deleting:"Deleting...",editIngredient:"Edit Ingredient",addNewIngredient:"Add New Ingredient",basicInfo:"Basic Information",ingredientNameRequired:"Ingredient name is required",enterIngredientName:"Enter ingredient name",containsAllergensCheckbox:"Contains Allergens",availableForUse:"Available for Use",allergenInfoContent:"Allergen Information",selectAllergensMessage:"Select allergens contained in this ingredient:",enableAllergenMessage:'Check "Contains Allergens" first to select allergens.',allergenDetails:"Allergen Details",containsThisAllergen:"Contains this allergen",additionalNotes:"Additional notes (optional)",updateError:"An error occurred while updating ingredient.",createError:"An error occurred while adding ingredient.",updating:"Updating...",adding:"Adding...",update:"Update",add:"Add",accessibility:{ingredientsTable:"Ingredients management table",searchInput:"Search ingredients",filterButton:"Filter ingredients",sortButton:"Sort ingredients",addButton:"Add new ingredient",editButton:"Edit ingredient",deleteButton:"Delete ingredient",ingredientCard:"Ingredient information card",allergenSelection:"Allergen selection",formModal:"Ingredient form modal",deleteModal:"Delete confirmation modal",statusBadge:"Ingredient status",allergenBadge:"Allergen information",closeModal:"Close modal",dragToReorder:"Drag to reorder"}},TableCard:{active:"Active",inactive:"Inactive",occupied:"Occupied",empty:"Empty",capacity:"Person",capacityPlural:"People",edit:"Edit",downloadQR:"Download QR Code",disable:"Disable",enable:"Activate",delete:"Delete",viewQRCode:"View QR Code",moreOptions:"More options",accessibility:{tableCard:"Table information card",statusBadge:"Table status",occupancyBadge:"Table occupancy status",actionsMenu:"Table actions menu",qrCodePreview:"QR code preview",editButton:"Edit table",downloadButton:"Download QR code",toggleButton:"Toggle table status",deleteButton:"Delete table"}},QRCodeModal:{tableAddOption:"Table Adding Option",howToAddTables:"How would you like to add tables?",singleTable:"Add Single Table",bulkTable:"Add Multiple Tables",createSingleTable:"Create a single table",createMultipleTables:"Create multiple tables",branchSelection:"Branch Selection",selectBranch:"Select Branch",branchRequired:"Required",loadingBranches:"Loading branches...",editTable:"Edit Table",addSingleTable:"Add Single Table",tableName:"Table Name",tableNamePlaceholder:"e.g. Table 1",autoNameNote:"Automatic name will be given if left empty",tableCategory:"Table Area",selectCategory:"Select Area",loadingCategories:"Loading Areas...",noCategories:"No Area found",capacity:"Capacity",capacityPlaceholder:"Number of people",displayOrder:"Display Order",displayOrderPlaceholder:"Number for ordering",autoOrderNote:"Automatic ordering will be applied if left empty",tableActive:"Table should be active",addBulkTables:"Add Multiple Tables",categoryQuantities:"Category-based Table Quantities",addCategory:"Add Category",category:"Category",tableCount:"Table Count",allTablesActive:"All tables should be active",tableSummary:"Tables to be Created Summary:",total:"Total",tables:"tables",cancel:"Cancel",adding:"Adding...",addTable:"Add Table",update:"Update",updating:"Updating...",creating:"Creating... ({count} tables)",createTables:"{count} Create Tables",branchRequiredValidation:"Branch selection is required",categoryRequired:"At least one Area is required",accessibility:{modal:"Table creation modal",stepSelection:"Table creation method selection",branchSelector:"Branch selection dropdown",categorySelector:"Table Area selection",tableForm:"Table creation form",bulkForm:"Bulk table creation form",backButton:"Go back to previous step",closeButton:"Close modal"}},TableCategoryModal:{title:"Add Table Area",subtitle:"Create a new table Area",categoryName:"Area Name",categoryNamePlaceholder:"e.g. VIP Tables, Garden Tables",description:"Description (Optional)",descriptionPlaceholder:"Brief description about the Area...",colorSelection:"Color Selection",customColor:"Custom color",iconSelection:"Icon Selection",branchSelection:"Branch Selection",cancel:"Cancel",addCategory:"Add Area",saving:"Saving...",table:"Table",chair:"Chair",service:"Service",label:"Label",layer:"Layer",categoryNameRequired:"Category name is required",iconRequired:"You must select an icon",branchRequired:"Branch selection is required",invalidData:"Invalid data sent",unauthorized:"You are not authorized. Please log in again.",forbidden:"You do not have permission for this operation.",branchNotFound:"Selected branch not found.",serverError:"Server error occurred. Please try again later.",unexpectedError:"An unexpected error occurred while adding category",accessibility:{modal:"Table Area creation modal",colorPalette:"Color selection palette",colorPreset:"Preset color option",customColorPicker:"Custom color picker",iconGrid:"Icon selection grid",iconOption:"Icon selection option",branchDropdown:"Branch selection dropdown",form:"Area creation form"}},AddQRCodeCard:{title:"Add New Table",subtitle:"Click to add a new table",accessibility:{addButton:"Add new table button",addCard:"Add new table card"}},userManagementPage:{systemRoleInfo:"You can't do cahnges on this",rolePermissionsModal:{title:"View Permissons",noPermissions:"No Permissions"},editRole:{title:"Editing Role",save:"Save"},confirmation:{deleteRoleTitle:"Delete Role",deleteRoleMessage:"Are you sure you want to delete this role? This action cannot be undone.",deactivateTitle:"Deactivate User?",deactivateMessage:"Are you sure you want to deactivate {name}? They will lose access to the system."},title:"User Management",loading:"Loading...",error:{title:"Error",loadFailed:"Failed to load users",rolesLoadFailed:"Failed to load roles",retry:"Try Again",createUserFailed:"Failed to create user",createRoleFailed:"Failed to create role",changePasswordFailed:"Failed to change password",assignBranchFailed:"Failed to assign branch"},changePasswordModal:{title:"Change Password",info:"Enter a new password for this user. They will be able to log in with this new password.",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",requirements:"Password Requirements:",minLength:"At least 6 characters",passwordsMatch:"Passwords match",submit:"Change Password",cancel:"Cancel",currentPassword:"Current Password",currentPasswordPlaceholder:"Enter your cuurent password",currentPasswordEntered:"Current password",changing:"Changing...",validation:{passwordRequired:"Password is required",passwordMinLength:"Password must be at least 6 characters",confirmPasswordRequired:"Please confirm the password",passwordMismatch:"Passwords do not match"}},assignBranchModal:{title:"Assign Branch",assigningTo:"Assigning",toNewBranch:"to a new branch",currentBranch:"Current Branch",branchIdDisplay:"(ID: {{id}})",newBranchLabel:"New Branch",selectBranchPlaceholder:"Select a branch",submitButton:"Assign Branch",submitButtonLoading:"Assigning...",assignedToRestaurant:"Assigned To Restaurant",assignToRestaurant:"Restaurant assignment",validation:{branchRequired:"Please select a branch"}},stats:{total:"Total",active:"Active",users:"users",roles:"roles",system:"System",custom:"Custom",totalUsers:"Total Users",owner:"Owner",manager:"Manager",staff:"Staff"},tabs:{users:"Users",roles:"Roles"},controls:{search:"Search user, email or phone...",searchRoles:"Search role, description or category...",filterAll:"All Categories",filterOwner:"Restaurant Owner",filterManager:"Branch Manager",filterStaff:"Staff",filterActive:"Active Users",filterInactive:"Inactive Users",addUser:"Add User",addRole:"Add Role"},table:{user:"User",contact:"Contact",roles:"Roles",location:"Restaurant/Branch",status:"Status",registrationDate:"Registration Date",actions:"Actions",role:"Role",description:"Description",statistics:"Statistics",position:"Location"},status:{active:"Active",inactive:"Inactive",enabled:"Enabled",disabled:"Disabled",systemRole:"System Role"},roleTypes:{RestaurantOwner:"Owner",BranchManager:"Manager",Staff:"Staff",SuperAdmin:"Super Admin",BranchStaff:"Branch Staff"},permissionsModal:{title:"Permissions",close:"Close",userRoles:"User Roles",permissions:"Permissions",permissionsCount:"Count",noPermissions:"No Permissions"},editUserModal:{title:"Edit User",firstNameLabel:"First Name",lastNameLabel:"Last Name",emailLabel:"Email",usernameLabel:"Username",isActiveLabel:"User is Active",saveButton:"Save Changes",saveButtonLoading:"Saving...",validation:{firstNameRequired:"First name is required",lastNameRequired:"Last name is required",emailRequired:"Email is required",usernameRequired:"Username is required"}},actions:{viewDetails:"View Details",edit:"Edit",activate:"Activate",deactivate:"Deactivate",delete:"Delete",updateRoles:"Update Roles",assignBranch:"Assign Branches",viewPermissions:"View Permissions",changePassword:"Change Password"},updateRoles:{title:"Update User Roles",update:"Update"},noResults:{usersNotFound:"No Users Found",rolesNotFound:"No Roles Found",usersEmpty:"No users have been added yet.",rolesEmpty:"No roles have been added yet.",searchEmpty:"No users found matching your search criteria.",searchEmptyRoles:"No roles found matching your search criteria."},createRole:{title:"Create New Role",step1Title:"Step 1: Basic Information",step2Title:"Step 2: Select Permissions",stepBasicInfo:"Basic Info",stepPermissions:"Permissions",step1Info:"Create Role",step2Info:"Select user permissions",step1Description:"Enter the basic information for the new role",roleCreatedSuccess:"Role Created Successfully!",step2Description:"Now you can select permissions for this role",continue:"Continue to Permissions",back:"Back",skipPermissions:"Skip (Add Later)",finish:"Finish",creating:"Creating...",saving:"Saving...",loadingPermissions:"Loading permissions...",basicInfo:"Basic Information",noBranch:"No Branch Assignment ",branch:"Restaurant and Branch Assignment",selectBranch:"Select Branches",branchHint:"If no branch is selected, the role will apply to all branches of the restaurant.",selectAll:"Select All",roleName:"Role Name",roleNamePlaceholder:"e.g.: Branch Manager",category:"Category",categoryPlaceholder:"e.g.: Management",description:"Description",descriptionPlaceholder:"Describe the role duties and responsibilities...",restaurantId:"Restaurant ID",restaurantIdPlaceholder:"Default: Current restaurant",branchId:"Branch ID",branchIdPlaceholder:"Empty: All branches",isActive:"Role should be active",permissions:"Permissions",permissionsSelected:"selected",cancel:"Cancel",create:"Create Role",deselectAll:"Un Select",validation:{nameRequired:"Role name must be at least 3 characters",nameMaxLength:"Role name can be maximum 50 characters",descriptionMaxLength:"Description can be maximum 200 characters",categoryMaxLength:"Category can be maximum 50 characters"}},createUser:{title:"Create New User",selectBranch:"Select Branch",personalInfo:"Personal Information",contactInfo:"Contact Information",passwordInfo:"Password Information",locationInfo:"Location Information",roleAssignment:"Authority and Role Assignment",phoneNumber:"Phone Number",confirmPassword:"Confirm Password",location:"Restaurant/Branch Location",roles:"Roles",userIsActive:"User is Active",firstName:"First Name",firstNamePlaceholder:"e.g.: John",lastName:"Last Name",lastNamePlaceholder:"e.g.: Doe",userName:"Username",userNamePlaceholder:"Will be auto-generated",userNameHint:"If left empty, it will be automatically created in firstname.lastname format",email:"Email",emailPlaceholder:"john@example.com",phone:"Phone",phonePlaceholder:"+1 555 123 4567",password:"Password",passwordPlaceholder:"At least 6 characters",passwordConfirm:"Confirm Password",passwordConfirmPlaceholder:"Re-enter your password",locationType:"Location Type",restaurant:"Restaurant",branch:"Branch",restaurantId:"Restaurant ID",restaurantIdPlaceholder:"e.g.: 123",branchId:"Branch ID",branchIdPlaceholder:"e.g.: 456",profileImage:"Profile Image URL",profileImagePlaceholder:"https://example.com/avatar.jpg",userCreatorId:"Creator User ID",userCreatorIdPlaceholder:"Current user ID",assignmentType:"Assignment Type",rolesSelection:"Select from Existing Roles (Recommended)",permissionsSelection:"Direct Permission Selection (Currently not supported)",apiWarning:" API only supports role-based user creation. Create roles first, then assign them to users.",rolesLabel:"Roles",rolesSelected:"selected",noRoles:{title:"No roles defined yet",description:"Create roles from the roles tab before creating users",tip:' Tip: Switch to "Roles" tab first to create necessary roles',warning:"Role Required",warningDescription:'At least one role must be defined to create a user. You can create new roles from the "Roles" tab.'},isActive:"User should be active",cancel:"Cancel",create:"Create User",creating:"Creating...",createRoleFirst:"Create Role First",validation:{nameRequired:"First name is required",nameMaxLength:"First name can be maximum 50 characters",surnameRequired:"Last name is required",surnameMaxLength:"Last name can be maximum 50 characters",emailRequired:"Email is required",emailInvalid:"Please enter a valid email address",passwordRequired:"Password must be at least 6 characters",passwordMaxLength:"Password can be maximum 100 characters",passwordConfirmRequired:"Password confirmation is required",passwordMismatch:"Passwords do not match",phoneRequired:"Phone number is required",restaurantIdRequired:"Please enter a valid restaurant ID",branchIdRequired:"Please enter a valid branch ID",rolesRequired:"You must select at least one role",permissionsNotSupported:"API only supports role-based user creation. Please select from existing roles."}},roleDetails:{userCount:"User Count",permissionCount:"Permission Count",restaurant:"Restaurant",branch:"Branch",noDescription:"No description available",created:"Created",system:"System",users:"users",permissions:"permissions",branchSpecific:"Branch Specific"},permissionCategories:{UserManagement:"User Management",RestaurantManagement:"Restaurant Management",BranchManagement:"Branch Management",OrderManagement:"Order Management",ProductManagement:"Product Management",Analytics:"Analytics"},success:{userCreated:"User created successfully",roleCreated:"Role created successfully",userUpdated:"User updated successfully",roleUpdated:"Role updated successfully"}},BranchtableManagement:{title:"Table Management",loading:"Loading...",batchCreateTables:"batchCreateTables",subtitle:"Manage your restaurant tables and areas",tabs:{tables:"Tables",categories:"Areas",statistics:"Statistics",batchCreate:"Batch Create"},buttons:{addTable:"Add Table",addCategory:"Add Area",batchCreate:"Batch Create",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",refresh:"Refresh",selectAll:"Select All",clearSelection:"Clear Selection",export:"Export",import:"Import"},labels:{tableName:"Table Name",category:"Area",capacity:"Capacity",status:"Status",occupation:"Occupation",displayOrder:"Display Order",search:"Search tables...",filterByCategory:"Filter by Area",viewMode:"View Mode",totalTables:"Total Tables",activeTables:"Active Tables",occupiedTables:"Occupied Tables",availableTables:"Available Tables"},status:{active:"Active",inactive:"Inactive",occupied:"Occupied",available:"Available",outOfService:"Out of Service"},actions:{markOccupied:"Mark as Occupied",markAvailable:"Mark as Available",activate:"Activate",deactivate:"Deactivate",viewDetails:"View Details"},messages:{tableCreated:"Table created successfully",tableUpdated:"Table updated successfully",tableDeleted:"Table deleted successfully",statusUpdated:"Status updated successfully",error:"An error occurred",noTables:"No tables found",confirmDelete:"Are you sure you want to delete this table?",loading:"Loading...",saving:"Saving...",deleting:"Deleting..."},statistics:{title:"Table Statistics",occupancyRate:"Occupancy Rate",averageCapacity:"Average Capacity",categoryBreakdown:"Area Breakdown",dailyOccupancy:"Daily Occupancy",peakHours:"Peak Hours"},forms:{createTable:"Create New Table",editTable:"Edit Table",batchCreateTables:"Create Multiple Tables",quantity:"Quantity",namePrefix:"Name Prefix",startingNumber:"Starting Number"}},BranchTableManagement:{capacityLabel:"Capacity",tableNameLabel:"Table Name",header:"Area & Table Management",clearTable:"Clear Table",refreshTable:"Refresh Status",clearing:"Clearing...",loading:"Loading...",category:"Area",createTables:"Create Tables",creatingTables:"Creating...",SelectCategory:"Select Area",Capacity:"Capacity",Quantity:"Quantity",batchCreateTables:"Batch Create Tables",subheader:"Manage restaurant categories and tables with accordion view",totalCategories:"Total Categories",totalTables:"Total Tables",occupiedTables:"Occupied Tables",availableTables:"Available Tables",searchPlaceholder:"Search categories...",refresh:"Refresh",addCategory:"Add Category",addCategoryTitle:"Add New Category",multiCategory:"Create multiple tables across different categories at once",categoryNameLabel:"Category Name",categoryNamePlaceholder:"Enter category name",colorLabel:"Color",iconLabel:"Icon",save:"Save",cancel:"Cancel",noCategories:"No categories found",addFirstCategory:"Add Your First Category",tablesCount:"tables",status:"Status",active:"Active",inactive:"Inactive",occupation:"Occupation",occupied:"Occupied",available:"Available",addTable:"Add Table",tableNamePlaceholder:"Table name",capacityPlaceholder:"Capacity",noTables:"No tables in this category",qrCodeTitle:"QR Code - {tableName}",qrCodeDescription:"Scan this QR code to access the table menu",downloadQR:"Download QR Code",downloading:"Downloading...",copyQRUrl:"Copy QR URL",copied:"Copied!",success:{tableCleared:"Table {{tableName}} has been cleared and is now available",tableOccupied:"Table {{tableName}} status has been updated to occupied",tableClearedGeneric:"Table has been cleared successfully",tableStatusUpdated:"Table status has been updated successfully",categoryAdded:"Category added successfully",categoryUpdated:"Category updated successfully",categoryDeleted:"Category deleted successfully",tableAdded:"Table added successfully",tableUpdated:"Table updated successfully",tableDeleted:"Table deleted successfully",categoryActivated:"Category activated successfully",categoryDeactivated:"Category deactivated successfully",tableActivated:"Table activated successfully",tableDeactivated:"Table deactivated successfully",tableAvailable:"Table marked as available",dataRefreshed:"Data refreshed successfully"},error:{clearTableFailed:"Failed to clear table. Please try again.",fetchCategoriesFailed:"Failed to fetch categories",fetchTablesFailed:"Failed to fetch tables",createCategoryFirst:"Please create a category first",categoryNameRequired:"Category name is required",addCategoryFailed:"Failed to add category",updateCategoryFailed:"Failed to update category",deleteCategoryFailed:"Failed to delete category",categoryHasTables:"Cannot delete category with existing tables",categoryNotFound:"Category not found",addTableFailed:"Failed to add table",updateTableFailed:"Failed to update table",deleteTableFailed:"Failed to delete table",tableNameRequired:"Table name is required",tableNotFound:"Table not found",updateCategoryStatusFailed:"Failed to update category status",updateTableStatusFailed:"Failed to update table status",updateTableOccupationFailed:"Failed to update table occupation",refreshFailed:"Failed to refresh data"}},branchManagementBranch:{title:"Branch Management",description:"Manage your branch information and settings.",loading:"Loading branch information...",noBranchFound:"No branch found",uploadLogo:"Upload Logo",noLogo:"No Logo",logoAlt:"Branch Logo",uploading:"Uploading...",uploadPrompt:"Drop image or click to browse",uploadHint:"PNG, JPG, GIF up to 5MB",status:{open:"Open",closed:"Closed",temporarilyClosed:"Temporarily Closed",reopenBranch:"Reopen Branch",temporaryClose:"Temporary Close"},actions:{edit:"Edit",save:"Save",cancel:"Cancel",delete:"Delete",deleting:"Deleting...",confirmDelete:"Confirm Delete",deleteWarning:"Are you sure you want to delete this branch? This action cannot be undone.",onlineMenu:"Online Menu URL"},basicInfo:{title:"Basic Information",branchName:"Branch Name",whatsappNumber:"WhatsApp Number",email:"Email",notSpecified:"Not specified"},addressInfo:{title:"Address Information",country:"Country",city:"City",street:"Street",postalCode:"Postal Code",region:"Region"},workingHours:{title:"Working Hours",workingDay:"Working day",openTime:"Open Time",closeTime:"Close Time",noWorkingHours:"No working hours specified",days:{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"}},messages:{updateSuccess:"Branch information updated successfully",deleteSuccess:"Branch deleted successfully",temporaryCloseSuccess:"Branch temporarily closed",reopenSuccess:"Branch reopened",updateError:"Error occurred during update",deleteError:"Error occurred during deletion",statusChangeError:"Error occurred while changing status",loadError:"Error occurred while loading branch information"},placeholders:{branchName:"Enter branch name",whatsappNumber:"Enter WhatsApp number",email:"Enter email address",country:"Enter country",city:"Enter city",street:"Enter street",postalCode:"Enter postal code",region:"Enter region"}},branchCategories:{header:"Branch Categories Management",subheader:"Manage categories and products for Branch ",lastUpdated:"Last Updated",status:{active:"Active",inactive:"Pasif"},stats:{availableCategories:"Available Categories",readyToAdd:"Ready to add",activeCategories:"Active Categories",currentlyInBranch:"Currently in branch",selectedCategories:"Selected Categories",toBeAdded:"To be added",selectedProducts:"Selected Products",fromCategories:"From categories",avalibleAddons:"Available Addons"},tabs:{addNew:"Add New",manageExisting:"Manage Existing"},steps:{chooseCategories:"Choose Categories",selectProducts:"Select Products",reviewAdd:"Review & Add",finalStep:"Final step",selected:"selected",back:"Back"},addCategories:{title:"Choose Categories",subtitle:"Select categories to add to your branch",noAvailable:"No categories available",allAdded:"All available categories have been added to this branch",categoriesSelected:"categories selected",clearSelection:"Clear Selection",nextSelectProducts:"Next: Select Products"},selectProducts:{title:"Select Products",subtitle:"Choose products from selected categories",selectAll:"Select All",clearAll:"Clear All",noProducts:"No products found",noProductsInCategories:"Selected categories don't have any products",available:"available",selected:"selected",productsSelectedFrom:"products selected from",categories:"categories",reviewSelection:"Review Selection"},review:{title:"Review & Add",subtitle:"Review your selection before adding to branch",of:"of",productsSelected:"products selected",all:"All",productsWillBeAdded:"products will be added",totalValue:"Total value",selectedProducts:"Selected Products",readyToAdd:"Ready to add",with:"with",availableInBranch:"Available in Branch",startOver:"Start Over",adding:"Adding...",addToBranch:"Add to Branch"},manage:{title:"Manage Existing Categories",subtitle:"Manage categories and products in your branch",saving:"Saving...",saveOrder:"Save Order",exitReorder:"Exit Reorder",reorder:"Reorder",noCategoriesAdded:"No categories added",noCategoriesAddedDesc:"No categories have been added to this branch yet",addCategories:"Add Categories",original:"Original:",added:"added",available:"available",total:"Total",active:"Active",inactive:"Inactive",protected:"Protected"},products:{inCategory:"Products in Category",added:"Added",available:"Available",ingredients:"ingredients",allergens:"allergens",viewDetails:"View Details",removeFromBranch:"Remove from Branch",addToBranch:"Add to Branch",addedToBranch:"products added to branch",moreAvailableToAdd:"more available to add",withDetailedInfo:"with detailed info",products:"products"},productDetails:{addedToBranch:"Added to Branch",allergens:"Allergens",contains:"Contains",mayContain:"May Contain",ingredients:"Ingredients",allergenic:"Allergenic",available:"Available",unavailable:"Unavailable",quantity:"Quantity:",ingredientId:"Ingredient ID:",allergenInformation:"Allergen Information:",additionalInformation:"Additional Information",originalProduct:"Original Product",originalPrice:"Original Price:",originalStatus:"Original Status:",originalDisplayOrder:"Original Display Order:",orderDetails:"Order Details",lastUpdated:"Last Updated:",close:"Close"},actions:{refresh:"Refresh",delete:"Delete",edit:"Edit",save:"Save",cancel:"Cancel",confirm:"Confirm",loading:"Loading..."},search:{categories:"Search categories...",products:"Search products..."},status:{active:"Active",inactive:"Disabled by the restaurant",available:"Available",unavailable:"Unavailable"},messages:{success:{categoryAdded:"Category added successfully",categoryDeleted:"Category deleted successfully",productAdded:"Product {name} added successfully",productRemoved:"Product {name} removed successfully",orderSaved:"Category order saved successfully"},error:{cannotDelete:'Cannot delete category "{name}" because it contains {count} products. Please remove all products first.',cannotDeleteTooltip:"Cannot delete: Category contains {count} products. Remove all products first.",productNotFound:"Product not found",addingProduct:"Error adding product",removingProduct:"Error removing product",savingOrder:"Error saving category order",loadingCategories:"Error loading categories",loadingProducts:"Error loading products"}},deleteModal:{title:"Delete Area",message:'Are you sure you want to delete the Area "{name}"? This action cannot be undone.',confirm:"Delete",cancel:"Cancel"},placeholders:{searchCategories:"Search categories...",searchProducts:"Search products..."}},profile:{title:"Profile",personalInfo:"Personal Information",editProfile:"Edit Profile",accountStatus:{active:"Active Account",inactive:"Inactive Account",status:"Account Status"},fields:{firstName:"First Name",lastName:"Last Name",username:"Username",email:"Email",registrationDate:"Registration Date",restaurantName:"Restaurant Name",status:"Status"},restaurant:{info:"Restaurant Information",name:"Restaurant Name",status:{active:"Active",inactive:"Inactive"}},permissions:{summary:"Permission Summary",totalCategories:"Total Categories",totalPermissions:"Total Permissions",rolesAndPermissions:"Categories and Permissions",systemRole:"System Role"},categories:{Category:"Category Management",BranchCategory:"Branch Category Management",Product:"Product Management",BranchProduct:"Branch Product Management",BranchQRCode:"QR Code Management",Order:"Order Management",Restaurant:"Restaurant Management",Branch:"Branch Management",Admin:"Admin Operations"},permissionNames:{"category.create":"Create Category","category.delete":"Delete Category","category.update":"Update Category","category.read":"View Category","branch.category.create":"Create Branch Category","branch.category.delete":"Delete Branch Category","branch.category.update":"Update Branch Category","branch.category.read":"View Branch Category","product.create":"Create Product","product.delete":"Delete Product","product.update":"Update Product","product.read":"View Product","product.edit":"Edit Product","branch.product.create":"Create Branch Product","branch.product.delete":"Delete Branch Product","branch.product.update":"Update Branch Product","branch.product.read":"View Branch Product","branch.qrcode.create":"Create QR Code","branch.qrcode.delete":"Delete QR Code","branch.qrcode.update":"Update QR Code","branch.qrcode.read":"View QR Code","order.create":"Create Order","order.delete":"Delete Order","order.update":"Update Order","order.read":"View Order","order.view":"View Order Details","order.cancel":"Cancel Order","restaurant.create":"Create Restaurant","restaurant.delete":"Delete Restaurant","restaurant.update":"Update Restaurant","restaurant.read":"View Restaurant","restaurant.user.create":"Create Restaurant User","restaurant.user.delete":"Delete Restaurant User","restaurant.user.update":"Update Restaurant User","restaurant.user.read":"View Restaurant User","branch.create":"Create Branch","branch.delete":"Delete Branch","branch.update":"Update Branch","branch.read":"View Branch","branch.user.create":"Create Branch User","branch.user.delete":"Delete Branch User","branch.user.update":"Update Branch User","branch.user.read":"View Branch User","admin.api.control":"API Control"},error:{loadFailed:"Failed to load profile data"}},addonModal:{title:"Configure Addons",loading:"Loading addons...",refresh:"Refresh",search:{placeholder:"Search addons by name, description, or category..."},stats:{available:"Available",assigned:"Assigned",recommended:"Recommended"},sections:{assignedAddons:"Assigned Addons",availableAddons:"Available Addons"},emptyState:{title:"No addons available",description:"Contact restaurant management to define addon combinations for this product",productId:"Product ID:"},actions:{add:"Add",remove:"Remove",configure:"Configure",done:"Done",saveChanges:"Save Changes"},status:{assigned:"ASSIGNED",recommended:"Recommended"},configuration:{title:"Configuration Settings",specialPrice:"Special Price",maxQuantity:"Max Quantity",minQuantity:"Min Quantity",marketingText:"Marketing Text",markRecommended:"Mark as recommended",placeholders:{marketingText:"e.g., Popular choice, Best value, Customer favorite..."}},messages:{success:{addonAdded:"Addon added successfully",addonRemoved:"Addon removed successfully",addonUpdated:"Addon updated successfully"},errors:{loadFailed:"Failed to load product addons",updateFailed:"Failed to update addon assignment",propertiesFailed:"Failed to update addon properties"}},footer:{summary:"of",addon:"addon",addons:"addons",assigned:"assigned"}},menu:{title:"Menu",basePrice:"Base Price",loading:"Loading Menu",allergens:"Allergens",quantity:"Quantity",addons:"Addons",products:"Products",addToBasket:"Add to Basket",addToOrder:"Add to Order",loadingSubtitle:"Preparing our delicious selections for you...",error:{title:"Menu Unavailable",tryAgain:"Try Again"},search:{placeholder:"Search for delicious dishes..."},categories:"Categories",ingredients:"Ingredients",open:"Open",closed:"Closed",chefsChoice:"Chef's Choice",add:"Add",remove:"Remove",items:"items",item:"item",available:"available",deliciousItems:"delicious",exploreMenu:"Explore Our Menu",noResults:"No results found",noResultsDesc:"Try different keywords or browse other categories",noItemsCategory:"No items in this category",noItemsCategoryDesc:"Check other categories for delicious options",selectCategory:"Select a category to start exploring our carefully crafted culinary offerings",whyChooseUs:{title:"Why Choose Us?",subtitle:"Experience culinary excellence with our commitment to quality, freshness, and exceptional service",freshIngredients:{title:"Fresh Ingredients",description:"Locally sourced, premium quality ingredients prepared daily"},fastDelivery:{title:"Fast Delivery",description:"Quick and reliable delivery service to your doorstep"},qualityAssured:{title:"Quality Assured",description:"Rigorous quality control and hygiene standards"},expertChefs:{title:"Expert Chefs",description:"Experienced culinary professionals crafting memorable experiences"}},footer:{brand:"MenuHub",description:"Discover exceptional dining experiences with our curated selection of restaurants and delicious cuisines.",quickLinks:"Quick Links",getInTouch:"Get in Touch",visitUs:"Visit Us",callUs:"Call Us",emailUs:"Email Us",copyright:"All rights reserved.",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",poweredBy:"Powered by",links:{ourMenu:"Our Menu",aboutUs:"About Us",locations:"Locations",reservations:"Reservations",specialOffers:"Special Offers",giftCards:"Gift Cards"},services:{onlineOrdering:"Online Ordering",tableBooking:"Table Booking",privateEvents:"Private Events",catering:"Catering",takeaway:"Takeaway",corporateMeals:"Corporate Meals"}},cart:{title:"Cart",newOrder:"New Order",orders:"Orders",orderType:"Order Type",table:"Table:",notes:"Notes:",price_change_title:"Price Change",confirm:"Confirm",cancel:"Cancel",cancel_Reason_prompt_title:"Cancellation Reason",reason:"Cancellation Reason",submit:"Send",confirm_cancel_title:"The reason you wrote will reach the restaurant.",cancel_order_confirm:"Are you sure you want to cancel the order?",order_cancelled_success:"Your order has been successfully canceled.",success:"Success",order_can_be_updated:"Order can be updated",time_remaining:"Time remaining",modified_times:"Modified {{count}} time(s)",edit_order:"Edit order",edit_order_items:"Edit Order Items",update_reason:"Update Reason",tableNumberRequired:"Table number required",update_reason_placeholder:"Why are you updating this order?",update_reason_required:"Please provide a reason for the update",no_changes_detected:"No changes detected. Please modify items before updating.",characters:"characters",updating:"Updating...",update_order:"Update Order",was:"was",add_note:"Add note...",marked_for_deletion:"Marked for deletion",restore_item:"Restore item",delete_item:"Delete item",order_updated_success:"Order updated successfully!",order_update_failed:"Failed to update order",price_change_confirm:"Some prices have changed since you placed the order. Do you want to proceed with the update?",cancel_order:"Cancel Order",refresh:"Refresh",refreshing:"Refreshing...",remove:"Remove",empty:"Your cart is empty",emptyDesc:"Start by adding some items to your cart",total:"Total",placeOrder:"Place Order",proceed:"Proceed to Order",processing:"Processing...",clear:"Clear Cart",item:"item",items:"items",variant:"variant",variants:"variants",plain:"Plain",customized:"Customized",addons:"Add-ons",variantTotal:"Variant Total",quantity:"Quantity",each:"each",min:"Min",max:"Max",qty:"Qty",minQuantityError:"Minimum quantity for {name} is {min}",maxQuantityError:"Maximum quantity for {name} is {max}",decreaseQuantity:"Decrease quantity",increaseQuantity:"Increase quantity",creating_order:"Creating order...",order_created_success:"Order created successfully!",order_creation_failed:"Failed to create order. Please try again.",sending_whatsapp:"Sending WhatsApp message...",whatsapp_sent_success:"WhatsApp message sent successfully!",whatsapp_send_failed:"Failed to send WhatsApp message",clearing_basket:"Clearing basket...",basket_cleared:"Basket cleared successfully!",clear_basket_failed:"Failed to clear basket",load_order_types_failed:"Failed to load order types",confirming_price_changes:"Confirming price changes...",price_changes_confirmed:"Price changes confirmed successfully!",price_changes_failed:"Failed to confirm price changes",session_required:"Session ID required",extras:"Extras",without:"Without",extra:"Extra",add:"Add"}},order:{form:{title:"Order Details",name:"name",address:"address",phone:"phone",tableNumberPlaceholder:"Enter table number here..",tableNumber:"Table Number",email:"email",orderDetails:"Order Details",orderType:"Order Type",paymentMethod:"Payment Method",cashDescription:"Pay with cash upon delivery or pickup",creditCardDescription:"Pay securely with credit card online",onlinePaymentDescription:"Pay using online payment methods",selectPaymentMethod:"Select payment method...",orderTypeRequired:"Order type is required",cash:"Cash",information:"Information",creditCard:"Credit Card",onlinePayment:"Online Payment",selectOrderType:"Select order type...",orderInformation:"Order Information",customerName:"Customer Name",customerNameRequired:"Customer name is required",customerNamePlaceholder:"Enter customer name",deliveryAddress:"Delivery Address",deliveryAddressRequired:"Delivery address is required for this order type",deliveryAddressPlaceholder:"Enter delivery address",phoneNumber:"Phone Number",phoneNumberRequired:"Phone number is required for this order type",phoneNumberPlaceholder:"Enter phone number",specialInstructions:"Special Instructions",specialInstructionsPlaceholder:"Any special instructions for your order...",orderSummary:"Order Summary",notes:"Order Notes",notesPlaceholder:"Any special requests? (e.g. No onions)",subtotal:"Subtotal",serviceCharge:"Service Charge",minimumRequired:"Minimum required",estimatedTime:"Estimated time",minutes:"minutes",backToCart:"Back to Cart",createOrder:"Create Order",creating:"Creating...",loadingOrderTypes:"Loading order types...",noOrderTypes:"No order types available. Please contact support.",minimumOrder:"Minimum order",service:"service",minimumOrderError:"Minimum order amount for {type} is ${amount}. Current total: ${current}"},validation:{fixErrors:"Please fix the following errors:",customerNameRequired:"Customer name is required",orderTypeRequired:"Please select an order type",addressRequired:"Delivery address is required for this order type",phoneRequired:"Phone number is required for this order type"}},priceChange:{title:"Price Changes Detected",description:"Some items in your basket have price changes that need to be confirmed before proceeding with the order.",changesRequired:"Changes Required:",defaultMessage:"Price updates need to be confirmed to continue.",cancel:"Cancel",confirm:"Confirm & Continue",confirming:"Confirming..."},productModal:{customizeOrder:"Customize Your Order",allergenInformation:"Allergen Information",ingredients:"Ingredients",availableAddons:"Available Add-ons",add:"Add",recommended:"Recommended",min:"Min",max:"Max",orderSummary:"Order Summary",quantity:"Quantity",total:"Total",addToCart:"Add to Cart",addons:"Addons",extras:"Extras",required:"Required",selected:"selected",select:"Select",minSelect:"Min",maxSelect:"Max",qty:"Qty",removal:"Removal",remove:"Remove",removed:"Removed",categoryRequired:"{{name}} is required",minSelectionError:"Select at least {{min}} items from {{name}}",maxSelectionError:"Maximum {{max}} items allowed from {{name}}",extraRequired:"{{name}} is required"},errors:{loadingBasket:"Failed to load basket",loadingOrderTypes:"Failed to load order types",removingItem:"Failed to remove item from basket",increasingQuantity:"Failed to increase item quantity",decreasingQuantity:"Failed to decrease item quantity",increasingAddonQuantity:"Failed to increase addon quantity",clearingBasket:"Failed to clear basket",creatingOrder:"Failed to create order",orderAlreadyProcessing:"This order is already being processed",priceChangeDetails:"Failed to load price change details",confirmingPriceChanges:"Failed to confirm price changes",sessionIdRequired:"Session ID required for price change confirmation",addonProductNotFound:"Could not find addon product ID",cartItemNotFound:"Cart item not found"},ordersManager:{total:"Total",clearFilters:"Clear Filters",subTotal:"Sub Total",filtered:"Filtered",modificationHistory:"Modification History",lastModifiedAt:"Last Modified At",modifiedBy:"ModifiedBy",modificationDetails:"Modification Details",loadingOrders:"Loading Orders...",items:"items",OrderType:"Order Type",serviceFeeApplied:"Service Charge",DeliveryAddress:"Delivery Address",OrderNotesInformation:"Order Notes & Information",OrderMetadata:"Order Metadata",ItemCount:"Item Count",TotalItems:"Total Items",OrderTimeline:"Order Timeline",searchPlaceholder:"Write here",showAdvancedFilter:"Show Advanced Filters",hideAdvancedFilter:"Hide Advanced Filters",confirmedAt:"Confirmed At",of:"of",orders:"orders",clearFilter:"Clear Filters",customerName:"Customer Name",tableName:"Table Name",orderType:"Order type",minPrice:"Min Price",maxPrice:"Max price",Showing:"Showing",to:"to",perpage:"Per Page",cancelOrder:"Cancel Order",cancelOrderConfirmation:"Are you sure you want to cancel the order?",deletedOrders:"Deleted Orders",title:"Order Management",description:"Easily manage and track your restaurant's orders.",pendingOrders:"Pending Orders",branchOrders:"Branch Orders",allStatuses:"All Statuses",statusFilter:"Status Filter",noOrders:"No  orders yet.",customer:"Customer",orderNumber:"Order Number",status:"Status",table:"Table",amount:"Amount",date:"Date",actions:"Actions",viewDetails:"View Details",confirm:"Confirm",reject:"Reject",changeStatus:"Change Status",orderItems:"Order Items",createdAt:"Created At",confirmedA:"Confirmed At",rowVersion:"Row Version",confirmOrderTitle:"Confirm Order",confirmOrderPrompt:"Are you sure you want to confirm this order?",rejectOrderTitle:"Reject Order",rejectOrderPrompt:"Enter the reason for rejection:",rejectReasonPlaceholder:"Reason for rejection...",updateStatusTitle:"Update Status",updateStatusPrompt:"Are you sure you want to update the order status ?",cancel:"Cancel",confirmAction:"Confirm",rejectAction:"Reject",updateAction:"Update",confirming:"Confirming...",rejecting:"Rejecting...",updating:"Updating...",orderDetailsTitle:"Order Details",successNotification:"Operation Successful",orderConfirmedSucces:"Order confirmed successfully!",orderRejectedSuccess:"Order rejected successfully!",orderStatusUpdatedSuccess:"Order status updated successfully!",errorInvalidStatusTransition:"Invalid status transition: Please confirm the order first (move to Confirmed status).",errorCannotConfirm:"This order cannot be confirmed. Current status: {currentStatus}.",quantity:"Quantity",unitPrice:"Unit Price",addonPrice:"Addon Price",notes:"Notes",amountLabel:"Total Amount",DeliveryInformation:"Delivery Information",TableInformation:"Table Information",CustomerInformation:"Customer Information",CustomerName:"Customer Name",PhoneNumber:"Phone Number",OrderTag:"Order Tag",OrderNotes:"Order Notes",MinOrderAmount:"Minimum Order Amount",CompletedAt:"Completed At",time:"Time",Status:"Status"},orderService:{statuses:{pending:"Pending",confirmed:"Confirmed",preparing:"Preparing",ready:"Ready",completed:"Completed",delivered:"Delivered",cancelled:"Cancelled",rejected:"Rejected",unknown:"Unknown"},errors:{createSessionOrder:"Error creating session order",getPendingOrders:"Error fetching pending orders",getTableOrders:"Error fetching table orders",getOrder:"Error fetching order",getBranchOrders:"Error fetching branch orders",confirmOrder:"Error confirming order",rejectOrder:"Error rejecting order",updateOrderStatus:"Error updating order status",trackOrder:"Error fetching order tracking",getOrderTrackingQR:"Error fetching order tracking QR",smartCreateOrder:"Error creating smart order",getTableBasketSummary:"Error fetching table basket summary",validationError:"Validation error: {errors}",invalidRequest:"Invalid request. Please check the data.",sessionExpired:"Session expired. Please log in again.",unauthorized:"You are not authorized for this action.",orderNotFound:"Order not found.",invalidStatus:"Order status is not suitable for this action.",noInternet:"Check your internet connection.",unknownError:"Unknown error",getOrderTypeText:"Error fetching order type text",getOrderType:"Error fetching order type",getActiveOrderTypes:"Error fetching active order types",getAllOrderTypes:"Error fetching all order types",orderTotalCalculation:"Error calculating order total",getEstimatedTime:"Error fetching estimated delivery time",getOrderTypeByCode:"Error fetching order type by code",getOrderTypesForDisplay:"Error fetching order types for display",unknownOrderType:"Unknown order type"}},branchPreferences:{title:"Branch Preferences",description:"Configure branch-specific settings and preferences",loading:"Loading branch preferences...",saving:"Saving...",refresh:"Refresh",saveChanges:"Save Changes",saveSuccess:"Branch preferences saved successfully!",cleanupModes:{afterTimeout:"After Timeout",afterClosing:"After Closing",disabled:"Disabled"},sections:{orderManagement:{title:"Order Management",description:"Configure how orders are handled and processed",autoConfirmOrders:"Auto Confirm Orders",autoConfirmOrdersDesc:"Automatically confirm incoming orders without manual approval",useWhatsappForOrders:"WhatsApp for Orders",useWhatsappForOrdersDesc:"Enable WhatsApp integration for order notifications"},displaySettings:{title:"Display Settings",description:"Configure what information is displayed to customers",showProductDescriptions:"Show Product Descriptions",showProductDescriptionsDesc:"Display detailed product descriptions to customers",enableAllergenDisplay:"Display Allergen Information",enableAllergenDisplayDesc:"Show allergen warnings and information",enableIngredientDisplay:"Display Ingredients",enableIngredientDisplayDesc:"Show ingredient lists for products"},paymentMethods:{title:"Payment Methods",description:"Configure accepted payment methods",acceptCash:"Accept Cash Payments",acceptCashDesc:"Allow customers to pay with cash",acceptCreditCard:"Accept Credit Cards",acceptCreditCardDesc:"Allow customers to pay with credit/debit cards",acceptOnlinePayment:"Accept Online Payments",acceptOnlinePaymentDesc:"Allow customers to pay online through digital payment methods"},localization:{title:"Localization",description:"Configure language and regional settings",defaultLanguage:"Default Language",defaultCurrency:"Default Currency",timeZone:"Time Zone",supportedLanguages:"Supported Languages"},sessionManagement:{title:"Session Management",description:"Configure session timeout and cleanup settings",sessionTimeout:"Session Timeout (Minutes)",cleanupMode:"Cleanup Mode",cleanupDela:"Cleanup Delay After Close (Minutes)",cleanupModeDesc:"Choose when to cleanup expired sessions",sessionTimeoutDesc:"Minutes before session expires due to inactivity",cleanupDelayDesc:"Minutes to wait after closing before cleanup",cleanupDisabledMessage:"Session cleanup is disabled. Sessions will not be automatically cleaned up."}},currencies:{TRY:"Turkish Lira ()",USD:"US Dollar ($)",EUR:"Euro ()"},languages:{tr:"Turkish",en:"English",ar:"Arabic",de:"German",fr:"French",es:"Spanish",it:"Italian",ru:"Russian",zh:"Chinese",ja:"Japanese"},timezones:{"Europe/Istanbul":"Istanbul (UTC+3)","Europe/London":"London (UTC+0)","America/New_York":"New York (UTC-5)"},errors:{loadFailed:"Failed to load branch preferences",saveFailed:"Failed to save branch preferences",validationError:"Validation error: {errors}",invalidRequest:"Invalid request. Please check the data.",sessionExpired:"Session expired. Please log in again.",unauthorized:"You don't have permission for this action.",notFound:"Branch preferences not found.",conflict:"Data is not up to date. Please refresh the page and try again.",noInternet:"Check your internet connection.",unknownError:"An unknown error occurred",invalidPaymentSettings:"Invalid payment settings. At least one payment method must be selected.",invalidSessionSettings:"Invalid session settings. Please check the values."}},whatsapp:{confirmation:{title:"Send to WhatsApp?",subtitle:"Notify restaurant via WhatsApp",sendTo:"Your order details will be sent to:",restaurant:"Restaurant",whatWillBeSent:"What will be sent:",orderDetails:" Your order details and items",customerInfo:" Customer name and table number",totalPrice:" Total price and any special notes",timestamp:" Order timestamp",note:"Note:",noteDescription:"This will open WhatsApp on your device. Your order will still be processed even if you choose not to send to WhatsApp.",skipWhatsApp:"Skip WhatsApp",sendToWhatsApp:"Send to WhatsApp",sending:"Sending..."}},recycleBin:{title:"Recycle Bin",titleProducts:"Deleted Products and Categories",titleBranches:"Deleted Branches",titleTables:"Deleted Tables",titleBranchProducts:"Deleted Branch Products and Categories",titleBranchCategories:"Deleted Branch Categories",titleTableCategories:"Deleted Table Categories",description:"Manage deleted branches, categories, products, and tables",descriptionProducts:"Manage deleted products and categories",descriptionBranches:"Manage deleted branches",descriptionTables:"Manage deleted tables",descriptionBranchProducts:"Manage deleted branch products and categories",descriptionBranchCategories:"Manage deleted branch categories",descriptionTableCategories:"Manage deleted table categories",search:"Search items...",filter:{all:"All Items",group1:"All Group 1",group2:"All Group 2",group1Label:" Restaurant Level (Branches, Products, Tables)",group2Label:" Branch Level (Branch Products & Categories)",branches:"Branches",categories:"Categories",products:"Products",tables:"Tables",branchProducts:"Branch Products",branchCategories:"Branch Categories",tableCategories:"Table Categories"},refresh:"Refresh",loading:"Loading...",stats:{group1:"Restaurant Level",group1Desc:"Branches, Products, Tables",group2:"Branch Level",group2Desc:"Branch Products & Categories",totalDeleted:"Total Deleted",extras:" Deleted Extras",extrasDesc:"All deleted extras",totalDesc:"All deleted items",filtered:"Showing",filteredDesc:"Current filter results",deletedBranch:"Deleted Branches",deletedCategory:"Deleted Categories",deletedProduct:"Deleted Products",deletedTable:"Deleted Tables",deletedBranchProduct:"Deleted Branch Products",deletedBranchCategory:"Deleted Branch Categories",deletedTableCategory:"Deleted Table Categories"},entityTypes:{category:"Category",product:"Product",branch:"Branch",table:"Table",branchProduct:"Branch Product",branchCategory:"Branch Category",tableCategory:"Table Area",extraCategory:" Extra Category",extra:"Extra",other:"Other"},contextInfo:{category:"Category:",branch:"Branch:",restaurant:"Restaurant:"},deletedAt:"Deleted:",restore:{button:"Restore",restoring:"Restoring...",successCategory:'"{name}" category has been restored successfully',successProduct:'"{name}" product has been restored successfully',successBranch:'"{name}" branch has been restored successfully',successTable:'"{name}" table has been restored successfully',successBranchCategory:'"{name}" branch category has been restored successfully',successTableCategory:'"{name}" table Area has been restored successfully',error:"Restore operation failed"},productRestore:{title:"Restore Product Options",subtitle:"Choose how you want to restore the product",simpleTitle:"Restore Product",simpleDesc:"Restoring this product will restore just general product information.",cascadeTitle:"Restoring this product will also restore all associated variants and addons.",cascadeDesc:"Do you want to restore just the product or also all associated variants and addons?",includeOptions:"Include Variants and Addons",includeImages:"Include Product Image",includeAll:"Include All Associated Data",recommended:"Recommended"},categoryRestore:{title:"Restore Product Options",subtitle:"Choose How to Restore the Product",simpleTitle:"Restore the Product",simpleDesc:"Restoring this product will restore only general product information",cascadeTitle:"Restoring this product will also restore all associated variants and extensions",cascadeDesc:"Do you want to restore just the product or all associated variants and extensions as well?",includeOptions:"Include variants and extensions",includeImages:"Include the product image",includeAll:"Include all associated data",includeProducts:"Include products in the category",recommended:"Recommended"},branchRestore:{title:"Restore Branch Options",subtitle:"Choose how you want to restore the branch",simpleTitle:"Restore Branch",simpleDesc:"Restoring this branch will restore just general branch information.",cascadeTitle:"Restoring this branch will also restore all associated products and categories.",cascadeDesc:"Do you want to restore just the branch or also all associated products and categories?",recommended:"Recommended",includeProducts:"Include Products and Categories",includeTables:"Include Tables",includeAll:"Include All Associated Data"},empty:{title:"Recycle bin is empty",titleFiltered:"No results found",description:"No deleted items found yet",descriptionFiltered:"No deleted items match your search criteria"},errors:{loadingError:"Error loading deleted items"}},management:{title:"Management Information",subtitle:"Company and legal details",noDataTitle:"No Management Information",noDataMessage:"Management information has not been set up yet. Please add restaurant details to get started.",dangerZone:{title:"Danger Zone",description:"Caution: These actions are irreversible. Please proceed with care."},messages:{purgeSuccess:"Purge Deleted Success"},buttons:{edit:"Edit",cancel:"Cancel",save:"Save Changes",saving:"Saving Changes...",delete:"Delete Restaurant",purge:"Purge Restaurant Data",viewFile:"View File",viewLogo:"View Logo"},sections:{restaurantDetails:"Restaurant Details",companyInfo:"Company Information",taxInfo:"Tax & Registration",certificates:"Certificates & Permits",additionalSettings:"Additional Settings"},fields:{restaurantName:"Restaurant Name",restaurantLogo:"Restaurant Logo",companyTitle:"Company Title",legalType:"Legal Type",taxNumber:"Tax Number",taxOffice:"Tax Office",mersisNumber:"MERSIS Number",tradeRegistry:"Trade Registry Number",workPermit:"Work Permit",foodCertificate:"Food Certificate",logo:"Logo"},placeholders:{restaurantName:"Enter restaurant name",companyTitle:"Enter company title",taxNumber:"Enter tax number",taxOffice:"Enter tax office",mersisNumber:"Enter MERSIS number",tradeRegistry:"Enter trade registry number",selectLegalType:"Select Legal Type"},legalTypes:{llc:"LLC",corporation:"Corporation",partnership:"Partnership"},status:{uploaded:"Uploaded",notUploaded:"Not uploaded",available:"Available",notAvailable:"Not Available"},common:{na:"N/A"}},resetPassword:{submitted:{title:"Check Your Email",line1:"We've sent a password reset link to",line2:"Please check your inbox (and spam folder!)."},form:{title:"Reset Password",subtitle:"Enter your email to get a reset link.",button:"Send Reset Link",emailAddress:"Email Address",emailPlaceholder:"you@example.com"}},setNewPassword:{form:{title:"Set New Password",subtitle:"Enter your new password below.",newPassword:"New Password",confirmPassword:"Confirm New Password",button:"Save New Password",errorMatch:"Passwords do not match.",errorLength:"Password must be at least 8 characters."},submitted:{title:"Password Updated!",message:"Your password has been successfully updated. You can now log in."}},confirmMail:{submitted:{title:"Check Your Email",line1:"We've sent a new confirmation link to",line2:"Please check your inbox (and spam folder!)."},form:{title:"Confirm Your Email",subtitle:"Enter your email to resend the confirmation link.",button:"Resend Confirmation"}},branches:{status:{active:"Active",inactive:"Inactive"},fields:{branchType:"Branch Type",branchTag:"Branch Tag"}},restaurantsTab:{status:{active:"Active",inactive:"Inactive"},actions:{edit:"Edit Restaurant",delete:"Delete Restaurant"},stats:{totalBranches:"Total Branches",active:"Active",inactive:"Inactive"},common:{yes:"Yes",no:"No"},modal:{editTitle:"Edit Restaurant",placeholders:{restaurantName:"Restaurant Name",cuisineType:"Cuisine Type"},buttons:{update:"Update Restaurant",updating:"Updating..."}}},tabs:{restaurants:"Restaurants",branches:"Branches",management:"Management Info",deleted:"Deleted"},allergens:{GLUTEN:{name:"Gluten",description:"Wheat, rye, barley, oats"},CRUSTACEANS:{name:"Crustaceans",description:"Prawns, crabs, lobster"},EGGS:{name:"Eggs",description:"Eggs and egg products"},FISH:{name:"Fish",description:"All fish products"},PEANUTS:{name:"Peanuts",description:"Peanuts and peanut products"},SOYBEANS:{name:"Soybeans",description:"Soya and soya products"},MILK:{name:"Milk",description:"Milk and dairy products"},NUTS:{name:"Tree Nuts",description:"Almonds, hazelnuts, walnuts, cashews, etc."},CELERY:{name:"Celery",description:"Celery and celeriac"},MUSTARD:{name:"Mustard",description:"Mustard and mustard products"},SESAME:{name:"Sesame",description:"Sesame seeds and products"},SULPHITES:{name:"Sulphites",description:"Sulphur dioxide and sulphites (>10mg/kg)"},LUPIN:{name:"Lupin",description:"Lupin and lupin products"},MOLLUSCS:{name:"Molluscs",description:"Clams, mussels, oysters, snails, squid"}},tableQR:{loading:{validatingQR:"Validating QR Code",fetchingTableInfo:"Fetching table information..."},error:{title:"Error",tryAgain:"Try Again",sessionFeatureComingSoon:"Session start feature coming soon.",sessionStartFailed:"Session could not be started."},header:{title:"Restaurant Menu",subtitle:"Digital Menu Experience",active:"Active"},welcome:{greeting:"Welcome!",connectedToTable:"Successfully connected to table",tableStatus:"Table Status",occupied:"Occupied",available:"Available",capacity:"Capacity",person:"Person",people:"People",session:"Session",sessionActive:"Active",sessionPending:"Pending",welcomeMessage:"Welcome Message"},actions:{viewMenu:"View Menu",callWaiter:"Call Waiter"},footer:{connectedViaQR:"Connected via QR Code  Secure session"}},productCard:{chefsPick:"Chef's Pick",customizable:"Customizable",addons:"+addons",allergens:"Allergens",ingredients:"Ingredients",inCart:"in cart",customizeOrder:"Customize Order",addToCart:"Add to Cart",prepTime:"15-20 min",popular:"Popular",rating:"4.8",more:"more"},moneyCase:{title:"Money Case Management",subtitle:"Manage your branch cash operations",selectBranch:"Select a branch",selectBranchToView:"Select Branch",branchSelector:"Branch Selector",noBranches:"No branches available",totalRevenue:"Total Revenue",periodSummary:"Period Summary",totalOrders:"Total Orders",totalTransactions:"Total Transactions",shiftDuration:"Shift Duration",closedBy:"Closed By",openedBy:"Opened By",showSummary:"Show Summary",hideSummary:"Hide Summary",netCash:"Net Cash",netCashDesc:"Total cash inflow and outflow during the session",serviceFeeDesc:"Total service fees collected during the session",avgOrderValueDesc:"Average value of orders processed during the session",totalShiftsDesc:"Total number of money case sessions conducted",cashDiscrepancyDesc:"Total discrepancies found during cash reconciliation",cashDiscrepancy:"Cash Discrepancy",totalOrdersDesc:"Total number of orders processed during the session",showingResults:"Showing results for",from:"from",to:"to",grossSalesDesc:"Total sales before any deductions",operationalMetrics:"Operational Metrics",loadingSummary:"Loading summary...",pleaseWait:"Please wait...",financialOverview:"Financial Overview",suggestedBalance:"Suggested Closing Balance",previousCloseInfo:"Previous Closing Information",lastClosed:"Last Closed At",filters:{title:"Filters",quickSelect:"Quick Select",today:"Today",yesterday:"Yesterday",last7Days:"Last 7 Days",last30Days:"Last 30 Days",thisMonth:"This Month",lastMonth:"Last Month",custom:"Custom",fromDate:"From Date",toDate:"To Date",apply:"Apply",clear:"Clear",clearAll:"Clear All",to:"To",from:"From",active:"Active"},status:"Status",open:"Open",closed:"Closed",todaySales:"Today's Sales",todayCash:"Today's Cash",todayCard:"Today's Card",currentBalance:"Current Balance",transactionCount:"Transaction Count",transactions:"Transactions",openCase:"Open Money Case",closeCase:"Close Money Case",viewZReport:"View Z Report",history:"Money Case History",records:"Records",noHistory:"No history available",noHistoryDescription:"Money case operations will appear here",openingBalance:"Opening Balance",openingBalanceDescription:"Enter the initial cash amount in the register",closingBalance:"Closing Balance",actualCash:"Actual Cash",expectedCash:"Expected Cash",difference:"Difference",surplus:"Surplus",shortage:"Shortage",notes:"Notes",notesPlaceholder:"Add any notes or comments about this money case session...",date:"Date & Time",openedAt:"Opened At",closedAt:"Closed At",lastUpdated:"Last Updated",caseId:"Money Case ID",confirm:"Confirm",confirmClose:"Confirm Close",cancel:"Cancel",close:"Close",print:"Print",download:"Download",serviceFee:"Service Fee",avgOrderValue:"Avg. Order Value",totalDiscrepancy:"Total Discrepancy",totalShifts:"Total Shifts",avgShiftDuration:"Avg. Shift Duration",shiftsWithIssues:"Shifts with Issues",period:"Period",todayTotalSales:"Today's Total Sales",currentShiftRevenue:"Current Shift Revenue",closedShifts:"Closed Shifts",ordersToday:"Orders Today",weekToDate:"Week to Date",monthToDate:"Month to Date",shifts:"Shifts",orders:"Orders",zReport:"Z Report",reportDate:"Report Date",openingInformation:"Opening Information",salesSummary:"Sales Summary",closingInformation:"Closing Information",totalSales:"Total Sales",cashSales:"Cash Sales",cardSales:"Card Sales",refunds:"Refunds",expenses:"Expenses",noReportData:"No report data available",success:{opened:"Money case opened successfully!",closed:"Money case closed successfully!",closedWithDifference:"Money case closed successfully! Difference: {{difference}}"},error:{fetchBranches:"Failed to fetch branches",fetchActiveCase:"Failed to fetch active money case",fetchHistory:"Failed to fetch money case history",fetchZReport:"Failed to fetch Z report",openCase:"Failed to open money case",closeCase:"Failed to close money case",noBranchSelected:"Please select a branch first"},validation:{openingBalanceRequired:"Opening balance is required",openingBalanceMin:"Opening balance must be 0 or greater",actualCashRequired:"Actual cash amount is required",actualCashMin:"Actual cash must be 0 or greater",notesMaxLength:"Notes cannot exceed 500 characters"},modal:{openTitle:"Open Money Case",openDescription:"Start a new money case session",closeTitle:"Close Money Case",closeDescription:"End the current money case session and reconcile cash",zReportTitle:"Z Report - Detailed Summary",confirmOpenMessage:"Are you sure you want to open a new money case?",confirmCloseMessage:"Are you sure you want to close the current money case? This action cannot be undone."}},user:{read:"okuma"},onboardingRestaurant:{backLink:"Back to Register Page",progress:{step1:"Basic Info",step2:"Company Info",step3:"Legal Documents"},messages:{welcome:"Your restaurant information was saved successfully. You can now enter your branch information.",success:"Your restaurant information was saved successfully! Redirecting you to enter branch information...",errors:{sessionNotFound:"Session information not found. Please log in again.",serverConnection:"Cannot connect to the server. Please check your internet connection.",nameInUse:"This restaurant name is already in use. Please try a different name.",genericCreate:"An error occurred during restaurant registration. Please try again.",idNotFound:"Restaurant ID could not be retrieved. Please try again.",fileUploadGeneric:"An error occurred while uploading the file",filePathError:"File upload failed: File path not received"}},step1:{title:"Restaurant Information",subtitle:"Enter your restaurant's basic information",nameLabel:"Restaurant Name *",namePlaceholder:"Enter your restaurant name",logoLabel:"Restaurant Logo *",logoUploading:"Logo uploading...",logoSuccess:" Logo uploaded successfully",logoSuccessSub:"Cloudinary URL received",cuisineLabel:"Cuisine Type *",errors:{nameRequired:"Restaurant name is required",logoRequired:"Restaurant logo is required",cuisineRequired:"Select a cuisine type"}},step2:{title:"Company Information",subtitle:"Enter your company information",companyTitleLabel:"Company Title *",companyTitlePlaceholder:"Enter your company title",legalTypeLabel:"Legal Type *",legalTypePlaceholder:"Select a legal type",mersisLabel:"MERSIS Number",mersisPlaceholder:"Enter your MERSIS number",tradeRegistryLabel:"Trade Registry Number",tradeRegistryPlaceholder:"Enter your trade registry number",errors:{taxNumberRequired:"Tax number is required",mersisRequired:"MERSIS number is required",companyTitleRequired:"Company title is required",legalTypeRequired:"Select a legal type"}},step3:{title:"Legal Documents",subtitle:"Enter your tax and document information",taxNumberLabel:"Tax Number *",taxNumberPlaceholder:"Enter your tax number",taxOfficeLabel:"Tax Office *",taxOfficePlaceholder:"Enter your tax office",workPermitLabel:"Work Permit Document",workPermitUploading:"Work permit document uploading...",workPermitSuccess:" Work permit document uploaded successfully",foodCertificateLabel:"Food Certificate",foodCertificateUploading:"Food certificate uploading...",foodCertificateSuccess:" Food certificate uploaded successfully",errors:{taxNumberRequired:"Tax number is required",taxOfficeRequired:"Tax office is required"}},navigation:{previous:"Previous Step",next:"Next Step",submit:"Save Restaurant",submitting:"Saving...",uploading:"Files Uploading..."},cuisineTypes:{0:"Turkish Cuisine",1:"Italian Cuisine",2:"Chinese Cuisine",3:"Japanese Cuisine",4:"Mexican Cuisine",5:"Indian Cuisine",6:"French Cuisine",7:"American Cuisine",8:"Mediterranean Cuisine",9:"Thai Cuisine",10:"Korean Cuisine",11:"Vietnamese Cuisine",12:"Greek Cuisine",13:"Spanish Cuisine",14:"Lebanese Cuisine",15:"Brazilian Cuisine",16:"German Cuisine",17:"Russian Cuisine",18:"British Cuisine",19:"Ethiopian Cuisine",20:"Moroccan Cuisine",21:"Argentinian Cuisine",22:"Peruvian Cuisine",23:"Caribbean Cuisine",24:"Fusion Cuisine",25:"Vegan Cuisine",26:"Seafood",27:"Steakhouse",28:"Fast Food"},legalTypes:{as:"Incorporated (A..)",ltd:"Limited Liability (Ltd. ti.)",collective:"Collective Company",partnership:"Limited Partnership",sole:"Sole Proprietorship",other:"Other"}},onboardingBranch:{header:{backLink:"Back to Restaurant Information",title:"Branch Information",subtitle:"Enter your restaurant branch information step by step"},steps:{basic:"Basic Information",address:"Address Information",contact:"Contact Information"},form:{step1:{title:"Branch Information",description:"Enter the basic information of your branch",branchName:{label:"Branch Name *",placeholder:"Enter branch name",error:"Branch name is required"},whatsappNumber:{label:"WhatsApp Order Number *",placeholder:"555 123 4567",ariaLabel:"Country Code",errorRequired:"WhatsApp order number is required",errorInvalid:"Invalid phone number format (7-15 digits)."},branchLogo:{label:"Branch Logo (Optional)",success:" Logo uploaded successfully",button:"Choose Logo",buttonUploading:"Uploading...",helper:"Supported formats: PNG, JPG, GIF. Maximum file size: 5MB",infoTitle:"Automatic Logo Usage",infoDescription:"If you don't upload a branch logo, the restaurant logo will be used automatically."}},step2:{title:"Address Information",description:"Enter your branch address details",country:{label:"Country *",placeholder:"Enter country name",error:"Country is required"},city:{label:"City *",placeholder:"Enter city name",error:"City is required"},street:{label:"Street",placeholder:"Enter street name",error:"Street is required"},zipCode:{label:"Zip Code",placeholder:"Enter zip code",error:"Zip code is required"},addressLine1:{label:"Address Line 1",placeholder:"Enter detailed address",error:"Address line 1 is required"},addressLine2:{label:"Address Line 2",placeholder:"Enter additional address information",error:"Address line 2 is required"}},step3:{title:"Contact Information",description:"Enter your branch contact details",phone:{label:"Phone Number ",placeholder:"212 123 4567",ariaLabel:"Country Code",errorRequired:"Phone number is required",errorInvalid:"Invalid phone number format (7-15 digits)."},email:{label:"Email Address ",placeholder:"Enter email address",error:"Email address is required"},location:{label:"Location Information ",placeholder:"Enter location info (e.g., 40.9795, 28.7225)",error:"Location information is required",selectOnMap:"Select on Map",mapTitle:"Select Location on Map",useCurrentLocation:"Use My Current Location",latitude:"Latitude",longitude:"Longitude",googleMapsLink:"Google Maps Link (Optional)",googleMapsLinkPlaceholder:"Paste Google Maps link here...",googleMapsLinkHelper:"Paste a Google Maps link and coordinates will be extracted automatically",invalidLink:"Could not extract coordinates from this link. Try a different format.",interactiveMap:"Interactive Map",clickToPin:"Click on the map to pin location",markerPosition:"Marker Position",openFullMap:"Open in full map",manualCoordinates:"Manual Coordinates",selectedCoordinates:"Selected Coordinates:",mapHelp:"How to use the map:",mapHelp1:"Paste a Google Maps link in the field above",mapHelp2:'Or click "Use My Current Location"',mapHelp3:"Or enter coordinates manually",mapHelp4:"Open full map to pinpoint location precisely",geolocationError:"Could not get your location. Please select manually.",geolocationNotSupported:"Geolocation is not supported by your browser."},contactHeader:{label:"Contact Header (Optional)",placeholder:"Enter contact header (optional)"},footerTitle:{label:"Footer Title (Optional)",placeholder:"Enter footer title (optional)"},footerDescription:{label:"Footer Description (Optional)",placeholder:"Enter footer description (optional)"},openTitle:{label:"Opening Hours Title (Optional)",placeholder:"Enter opening hours title (optional)"},openDays:{label:"Open Days (Optional)",placeholder:"Enter open days (optional)"},openHours:{label:"Open Hours (Optional)",placeholder:"Enter open hours (optional)"},workingHours:{title:"Working Hours",description:"Set your working hours. You can stay open overnight (e.g., 23:00 - 02:00).",openLabel:"Opening Time",closeLabel:"Closing Time",dayNames:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],toggleOpen:"Open",toggleClosed:"Closed",workingDayNote:" Customers can order on this day",overnightNote:"(Open overnight)",error:{minOneDay:"You must specify working hours for at least one day",allTimesRequired:"You must specify opening and closing times for all working days",invalidRange:"Invalid time range: {openTime} - {closeTime}. Overnight period cannot exceed 12 hours.",openBeforeClose:"Opening time ({openTime}) must be before closing time ({closeTime})"},infoBox:{title:"About Working Hours",item1:" The hours you set here determine when customers can place orders via your QR menu.",item2:" Orders are not accepted on closed days, but closed days are also saved in the database.",item3:" You can stay open overnight (e.g., 23:00 - 02:00). The closing time will apply to the next day.",item4:" Maximum overnight opening period is 12 hours."}}}},buttons:{back:"Back",next:"Next",save:"Save",saving:"Saving...",cancel:"Cancel",confirm:"Confirm"},messages:{errorTitle:"Error",successTitle:"Success",successMessage:"Branch information saved successfully! Redirecting...",api:{restaurantNotFound:"Restaurant information not found. Please create a restaurant again.",branchIdMissing:"Could not get branch ID. Please try again.",nameInUse:"This branch name is already in use. Please try a different name.",connectionError:"Cannot connect to server. Please check your internet connection.",serverError:"Server error occurred. Please try again later or check your form data.",genericCreateError:"An error occurred while registering the branch. Please try again.",logoUploadError:"An error occurred while uploading the logo. Please try again."}}},extrasManagement:{title:"Extras Management",description:"Manage extra categories and their items",searchPlaceholder:"Search for categories or extras...",loading:"Loading...",processing:"Processing...",buttons:{add:"Add",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",close:"Close",back:"Back",done:"Done",addItem:"Add Item",createFirst:"Create First Item"},deleteModal:{titleCategory:"Delete Category?",titleItem:"Delete Item?",confirmMessage:'Are you sure you want to delete "{name}"?',warningMessage:"This action cannot be undone. The item will be moved to the recycle bin.",confirmButton:"Delete",processingButton:"Deleting...",cancelButton:"Cancel"},categories:{title:"Extra Categories",addNew:"+ Add New Category",addCategory:"Add New Category",editCategory:"Edit Category",noCategories:"No categories found",tryAdjusting:"Try adjusting your search or add a new category.",select:"Select:",qtyLimit:"Qty Limit:",active:"Active",inactive:"Inactive",required:"Required",fields:{categoryName:"Category Name",categoryNamePlaceholder:"e.g., Pizza Toppings",statusLabel:"Active Status",requiredLabel:"Is it required?",selectionRules:"Selection Rules",removalCategoryLabel:"Removal Category",minSelection:"Minimum Selection",maxSelection:"Maximum Selection",minQuantity:"Minimum Quantity",maxQuantity:"Maximum Quantity"}},extras:{title:"Extras",addExtra:"Add New Extra",editExtra:"Edit Extra",noItems:"No items in this category yet.",noDescription:"No description",fields:{parentCategory:"Parent Category",selectCategory:"Select Category...",itemName:"Item Name",itemNamePlaceholder:"Item name",price:"Price",description:"Description",descriptionPlaceholder:"Optional details...",imageLabel:"Item Image",uploadText:"Click to upload image",activeLabel:"Active",removalLabel:"Removal Item (Subtraction)"}},productExtras:{manageCategories:"Manage Product Categories",manageExtras:"Manage Extras",addCategory:"Add Category",addExtra:"Add Extra",selectCategory:"Select Category",chooseCategory:"Choose Category...",selectExtra:"Select Extra",chooseExtra:"Choose Extra...",noCategoriesYet:"No categories added yet",noExtrasYet:"No extras added yet",confirmDelete:"Are you sure you want to delete this category?",confirmDeleteExtra:"Are you sure you want to delete this extra?",unknownCategory:"Unknown Category",unknownExtra:"Unknown Extra",confirm:"Confirm",selection:"Selection",quantity:"Quantity",required:"Required",optional:"Optional",basePrice:"Base Price",unitPrice:"Unit Price",selectionMode:"Selection Mode",single:"Single",multiple:"Multiple",requiredExtra:"Required Extra",defaultQty:"Default Qty",minQty:"Min Qty",maxQty:"Max Qty",qty:"Qty",minSelection:"Min Selection",maxSelection:"Max Selection",minQuantity:"Min Quantity",maxQuantity:"Max Quantity",selectionLimits:"Selection Limits",quantityLimits:"Quantity Limits",minSelectLabel:"Min Select",maxSelectLabel:"Max Select",minTotalLabel:"Min Total",maxTotalLabel:"Max Total"},recycleBin:{title:"Recycle Bin",empty:"Recycle bin is empty",restore:"Restore",permanentDelete:"Delete Permanently",confirmRestore:'Do you want to restore "{name}"?',confirmPermanentDelete:'Do you want to permanently delete "{name}"? This action cannot be undone.'},errors:{loadCategories:"Error loading categories",loadExtras:"Error loading extras",uploadImage:"Error uploading image",deleteFailed:"Failed to delete item",loadFailed:"Failed to load data",saveFailed:"Failed to save data",updateFailed:"Failed to update data",restoreFailed:"Failed to restore item"},success:{categoryAdded:"Category added successfully",categoryUpdated:"Category updated successfully",categoryDeleted:"Category deleted successfully",extraAdded:"Extra added successfully",extraUpdated:"Extra updated successfully",extraDeleted:"Extra deleted successfully",restored:"Restored successfully"},categoryConfigModal:{title:"Configure Branch Extras",productLabel:"Configuring extras for:",searchPlaceholder:"Search categories...",errors:{loadFailed:"Failed to load configuration data",saveFailed:"Failed to save configuration",generic:"An error occurred"},stats:{selectedCategories:"Categories",selectedExtras:"Extras",available:"Total Available"},loading:{categories:"Loading categories and extras..."},empty:{noResults:"No categories match your search",noCategories:"No extra categories available"},badges:{required:"Required",optional:"Optional",removal:"Removal"},category:{availableExtras:"extras available",configurationTitle:"Category Rules",selectExtrasTitle:"Select Extras",selectCategoryWarning:"Select this category to enable extras selection"},fields:{minSelection:"Min Selection",maxSelection:"Max Selection",minQuantity:"Min Total Qty",maxQuantity:"Max Total Qty",overrideRequired:'Override "Required" Status',specialPrice:"Special Price",minQty:"Min Qty",maxQty:"Max Qty",required:"Required"},labels:{originalPrice:"Original",removesIngredient:"Removes ingredient",extraConfiguration:"Extra Configuration"},placeholders:{defaultPrice:"Default"},messages:{removalPriceWarning:"Price cannot be set for removal extras"},footer:{categoriesSelected:"categories selected",cancel:"Cancel",save:"Save Changes",saving:"Saving..."}}},onboardingComplete:{title:"Registration Complete!",message:"Your restaurant and branch information has been successfully saved. You are being redirected to the login page...",redirectingIn:"seconds until redirection"},countries:{afghanistan:"Afghanistan",albania:"Albania",algeria:"Algeria",andorra:"Andorra",angola:"Angola",argentina:"Argentina",armenia:"Armenia",australia:"Australia",austria:"Austria",azerbaijan:"Azerbaijan",bahamas:"Bahamas",bahrain:"Bahrain",bangladesh:"Bangladesh",barbados:"Barbados",belarus:"Belarus",belgium:"Belgium",belize:"Belize",benin:"Benin",bhutan:"Bhutan",bolivia:"Bolivia",bosnia:"Bosnia and Herzegovina",botswana:"Botswana",brazil:"Brazil",brunei:"Brunei",bulgaria:"Bulgaria",burkina_faso:"Burkina Faso",burundi:"Burundi",cambodia:"Cambodia",cameroon:"Cameroon",canada:"Canada",cape_verde:"Cape Verde",central_african_republic:"Central African Republic",chad:"Chad",chile:"Chile",china:"China",colombia:"Colombia",comoros:"Comoros",congo:"Congo",costa_rica:"Costa Rica",croatia:"Croatia",cuba:"Cuba",cyprus:"Cyprus",czech_republic:"Czech Republic",denmark:"Denmark",djibouti:"Djibouti",dominica:"Dominica",dominican_republic:"Dominican Republic",ecuador:"Ecuador",egypt:"Egypt",el_salvador:"El Salvador",equatorial_guinea:"Equatorial Guinea",eritrea:"Eritrea",estonia:"Estonia",ethiopia:"Ethiopia",fiji:"Fiji",finland:"Finland",france:"France",gabon:"Gabon",gambia:"Gambia",georgia:"Georgia",germany:"Germany",ghana:"Ghana",greece:"Greece",grenada:"Grenada",guatemala:"Guatemala",guinea:"Guinea",guinea_bissau:"Guinea-Bissau",guyana:"Guyana",haiti:"Haiti",honduras:"Honduras",hungary:"Hungary",iceland:"Iceland",india:"India",indonesia:"Indonesia",iran:"Iran",iraq:"Iraq",ireland:"Ireland",israel:"Israel",italy:"Italy",jamaica:"Jamaica",japan:"Japan",jordan:"Jordan",kazakhstan:"Kazakhstan",kenya:"Kenya",kiribati:"Kiribati",kuwait:"Kuwait",kyrgyzstan:"Kyrgyzstan",laos:"Laos",latvia:"Latvia",lebanon:"Lebanon",lesotho:"Lesotho",liberia:"Liberia",libya:"Libya",liechtenstein:"Liechtenstein",lithuania:"Lithuania",luxembourg:"Luxembourg",madagascar:"Madagascar",malawi:"Malawi",malaysia:"Malaysia",maldives:"Maldives",mali:"Mali",malta:"Malta",marshall_islands:"Marshall Islands",mauritania:"Mauritania",mauritius:"Mauritius",mexico:"Mexico",micronesia:"Micronesia",moldova:"Moldova",monaco:"Monaco",mongolia:"Mongolia",montenegro:"Montenegro",morocco:"Morocco",mozambique:"Mozambique",myanmar:"Myanmar",namibia:"Namibia",nauru:"Nauru",nepal:"Nepal",netherlands:"Netherlands",new_zealand:"New Zealand",nicaragua:"Nicaragua",niger:"Niger",nigeria:"Nigeria",north_korea:"North Korea",north_macedonia:"North Macedonia",norway:"Norway",oman:"Oman",pakistan:"Pakistan",palau:"Palau",palestine:"Palestine",panama:"Panama",papua_new_guinea:"Papua New Guinea",paraguay:"Paraguay",peru:"Peru",philippines:"Philippines",poland:"Poland",portugal:"Portugal",qatar:"Qatar",romania:"Romania",russia:"Russia",rwanda:"Rwanda",saint_kitts:"Saint Kitts and Nevis",saint_lucia:"Saint Lucia",saint_vincent:"Saint Vincent and the Grenadines",samoa:"Samoa",san_marino:"San Marino",sao_tome:"Sao Tome and Principe",saudi_arabia:"Saudi Arabia",senegal:"Senegal",serbia:"Serbia",seychelles:"Seychelles",sierra_leone:"Sierra Leone",singapore:"Singapore",slovakia:"Slovakia",slovenia:"Slovenia",solomon_islands:"Solomon Islands",somalia:"Somalia",south_africa:"South Africa",south_korea:"South Korea",south_sudan:"South Sudan",spain:"Spain",sri_lanka:"Sri Lanka",sudan:"Sudan",suriname:"Suriname",sweden:"Sweden",switzerland:"Switzerland",syria:"Syria",taiwan:"Taiwan",tajikistan:"Tajikistan",tanzania:"Tanzania",thailand:"Thailand",timor_leste:"Timor-Leste",togo:"Togo",tonga:"Tonga",trinidad:"Trinidad and Tobago",tunisia:"Tunisia",turkey:"Turkey",turkmenistan:"Turkmenistan",tuvalu:"Tuvalu",uganda:"Uganda",ukraine:"Ukraine",uae:"United Arab Emirates",united_kingdom:"United Kingdom",united_states:"United States",uruguay:"Uruguay",uzbekistan:"Uzbekistan",vanuatu:"Vanuatu",vatican:"Vatican City",venezuela:"Venezuela",vietnam:"Vietnam",yemen:"Yemen",zambia:"Zambia",zimbabwe:"Zimbabwe"}},x8={common:{loading:" ...",error:"",actions:"",change:"",success:"",cancel:"",emailAddress:"  ",emailPlaceholder:"you@example.com",save:"",delete:"",edit:"",add:"",search:"",filter:"",close:"",open:"",yes:"",no:"",next:"",previous:"",continue:"",refresh:" ",clear:"",filters:"",allStatuses:" ",pending:" ",delivered:" ",cancelled:"",dateRange:" ",today:"",yesterday:"",last7Days:" 7 ",last30Days:" 30 ",thisMonth:" ",lastMonth:" "},filter:{status:"",all:"",active:"",inactive:" ",categories:"",allergenic:" ",nonallergenic:"  ",specific:{allergens:" "},price:{range:" ",min:" ",max:" "}},sort:{title:" ",name:{asc:" (-)",desc:" (-)"},price:{asc:" (   )",desc:" (   )"},order:{asc:"  (  )",desc:"  (  )"},created:{asc:"  ( )",desc:"  ( )"}},clear:{filters:" ",all:" "},restaurantManagement:{tabs:{general:"",legal:"",about:""},GeneralInformation:" "},nav:{home:"",features:"",pricing:"",testimonials:"",faq:" ",contact:" ",login:" ",register:"",logout:" ",profile:" ",settings:"",dashboard:" ",goToPanel:"  "},auth:{login:" ",register:"",logout:" ",email:" ",password:" ",confirmPassword:"  ",forgotPassword:"  ",rememberMe:"",alreadyHaveAccount:"   ",dontHaveAccount:"  ",signIn:" ",signUp:" "},hero:{title:{line1:"  ",line2:"",line3:" QR "},subtitle:"        .      .",features:{qrAccess:"  ",mobileOptimized:"  ",instantUpdate:"  "},cta:{getStarted:"  ",features:" "},socialProof:{restaurants:"  500   ",satisfaction:"99%   "}},dashboard:{overview:{title:" ",description:"    .",loading:"  ...",refresh:"",errorTitle:"    ",kpis:{totalViews:" ",qrScans:"  QR",totalOrders:" ",customerRating:" ",todaySales:" ",currentBalance:" ",weekRevenue:" ",monthRevenue:" ",avgOrderValue:"  ",totalShifts:" ",changeTexts:{lastWeek:"  ",lastMonth:"  ",thisWeek:" ",today:""}},quickStats:{thisMonth:" ",totalOrders:" ",average:"",dailyOrders:" ",new:"",customers:"",rating:"",totalCount:" ",cashSales:" ",cardSales:" ",status:"",open:"",closed:""},charts:{weeklyActivity:" ",popularProducts:" ",monthlyRevenue:" ",paymentMethods:" ",revenueComparison:" ",noData:"   "}},branches:{title:" ",description:"    .",error:{loadFailed:"   ",createFailed:"   ",updateFailed:"   ",deleteFailed:"   ",statusUpdateFailed:"    ",detailsLoadFailed:"    ",restaurantIdNotFound:"   "},delete:{title:" ",confirmMessage:'        "{branchName}"      .'}},orders:{title:"",description:"  .",loading:"  ...",refresh:"",newOrder:" ",tabs:{all:"",pending:" ",preparing:" ",ready:"",delivered:" ",cancelled:""},status:{pending:" ",preparing:" ",ready:"",delivered:" ",cancelled:""},stats:{totalOrders:" ",totalRevenue:" ",pendingOrders:" ",avgOrderValue:"  "}},moneyCase:{title:"  "},ingredients:{title:""},extras:{title:""},orderType:{title:"  ",subtitle:"          ",loading:"   ...",pleaseWait:" ",estimatedMinutes:" ",settingsUpdated:"   ",updateError:"    ",loadingError:"     ",active:"",requiresAddress:" ",requiresTable:"  ",requiresName:"  ",requiresPhone:"  ",minutes:"",requirements:"",table:"",address:"",phone:"",activeStatus:" ",activeStatusDescription:"/    ",minOrderAmount:"   ",serviceCharge:" ",saveSettings:" ",updating:" ...",totalOrderTypes:"  ",activeTypes:" ",totalActiveOrders:"  ",estimatedTime:" "},products:{title:"",description:"  ."},tables:{title:" ",description:"  .",loading:"  ...",selectBranch:"    ",noCategories:"       ",tableCount:"",newTable:"  "},users:{title:" ",description:"   .",loading:"  ...",tabs:{users:"",roles:""},stats:{total:"",active:"",users:"",roles:"",system:"",custom:"",totalUsers:" "},error:{loadFailed:"   ",rolesLoadFailed:"   ",createRoleFailed:"   ",createUserFailed:"   "}},settings:{title:"",description:"  ."},profile:{title:" ",description:"  .",error:{loadFailed:"     "},restaurantInfo:" "},restaurant:{title:" ",description:"   .",loading:"   ...",restaurantName:" ",restaurantStatus:" ",restaurantLogo:" ",companyInfo:" ",addAboutInfo:"   ",refresh:"",placeholders:{restaurantName:"  ",aboutStory:" ",aboutDetails:"    ..."}},sidebar:{title:" QR",logout:" ",branch:""},RestaurantManagement:{title:" "},branchManagementTitle:" "},theme:{toggleToDark:"   ",toggleToLight:"   ",dark:"",light:""},language:{turkish:"Trke",english:"English",arabic:"",selectLanguage:" "},settings:{title:"",description:"   ",save:"",saveSuccess:"   .",tabs:{general:"",notifications:"",privacy:"",appearance:"",data:""},general:{title:" ",description:"   ",language:"",timezone:" ",dateFormat:" ",currency:"",autoSave:{title:" ",description:"   ",enabled:" ",enabledDesc:"  ",dataSync:" ",dataSyncDesc:"   "}},notifications:{title:" ",description:"  ",enabled:" ",enabledDesc:"  ",email:"  ",emailDesc:"    ",push:" ",pushDesc:"  ",sound:" ",soundDesc:"  "},privacy:{title:" ",description:"    ",twoFactor:" ",twoFactorDesc:"   ",autoLogout:"  ",autoLogoutDesc:"   30    ",analytics:"  ",analyticsDesc:"   "},appearance:{title:" ",description:"  ",darkMode:"  ",lightMode:"  ",darkModeDesc:"  ",lightModeDesc:"  ",compact:" ",compactDesc:"    ",animations:" ",animationsDesc:"   "},data:{title:" ",description:"    ",download:" ",downloadDesc:"  ",upload:" ",uploadDesc:"    ",delete:" ",deleteDesc:"  ",storage:"",storageDesc:"  "}},notifications:{title:"",empty:"  ",markAllAsRead:"  "},brand:{name:"QR Menu",slogan:"  "},features:{title:" ",titleHighlight:"  ",subtitle:"              .",list:{qrAccess:{title:"  ",description:"  .             ."},mobileOptimized:{title:"  ",description:"              ."},instantUpdate:{title:"    ",description:"      .         ."},analytics:{title:"   ",description:"   .         ."},alwaysOpen:{title:"   ",description:"       .    24/7     ."},secure:{title:"  ",description:"               (SSL)."},customizable:{title:"   ",description:"            ."},multiLanguage:{title:"  ",description:"              ."}},cta:{title:"   ",subtitle:"      .       5 !",button:"  "}},footer:{description:"      .     .",contact:{phone:"+90 531 732 47 31",email:"services@idigitek.com",address:"Istanbul , Kayaehir"},sections:{product:{title:"",links:{features:"",pricing:"",demo:" ",api:" API"}},company:{title:"",links:{about:" ",pricing:"",careers:"",contact:" "}},support:{title:"",links:{helpCenter:" ",faq:" ",liveSupport:" ",tutorials:" "}},legal:{title:"",links:{privacy:" ",terms:" ",cookies:"   ",gdpr:"GDPR"}}},newsletter:{title:" ",subtitle:"      .",placeholder:"  ",button:""},bottom:{copyright:"  .",madeWith:"    "}},pages:{login:{title:" ",subtitle:"    QR Menu  ",backToHome:"  ",email:" ",password:" ",rememberMe:"",forgotPassword:"  ",confirimEmail:"   ",signIn:" ",signingIn:"  ...",noAccount:"  ",registerNow:" ",errors:{emailRequired:"  ",emailInvalid:"     ",passwordRequired:"  ",invalidCredentials:"     ",generalError:"    .    ."}},register:{title:" ",subtitle:"   QR Menu  ",backToHome:"  ",firstName:" ",lastName:" ",email:" ",phone:" ",password:" ",confirmPassword:"  ",createAccount:" ",creating:"  ...",haveAccount:"   ",signInNow:" ",formProgress:" ",placeholders:{firstName:" ",lastName:" ",email:"@.",phone:"05XX XXX XX XX",password:"",confirmPassword:"   "},validation:{nameRequired:"  ",nameMin:"     2   ",surnameRequired:"  ",surnameMin:"     2   ",emailRequired:"  ",emailInvalid:"     ",phoneRequired:"  ",phoneInvalid:"     (: 05XX XXX XX XX)",passwordRequired:"  ",passwordMin:"     8   ",passwordPattern:"             ",passwordConfirmRequired:"   ",passwordMismatch:"   ",termsRequired:"   ",emailExists:"     "},passwordStrength:{veryWeak:" ",weak:"",medium:"",good:"",strong:""},terms:{service:" ",and:"",privacy:" ",accept:" "},errors:{validation:"    ",invalidData:"  .  .",general:"   .    ."},success:{message:"  !     ."}},forgotPassword:{title:"  ",subtitle:"          ",backToLogin:"   ",email:" ",sendResetLink:"   ",sending:" ...",resendCode:"  ",countdown:"    ",placeholders:{email:"@."},success:{title:"   !",message:"          .     ."},errors:{emailRequired:"  ",emailInvalid:"     ",emailNotFound:"       ",general:"        .    ."}}},pricing:{title:" ",titleHighlight:"",titleEnd:" ",subtitle:"      .          .",monthly:" ",yearly:" ",freeMonths:"  ",mostPopular:" ",plans:{basic:{name:" ",features:{0:"  ",1:"  50 ",2:"   ",3:"    ",4:"  QR ",5:"   "},button:" "},pro:{name:" ",features:{0:"  3 ",1:"    ",2:"  ",3:"   ",4:"   ",5:"   ",6:"  (API Access)",7:"   (White Label)"},button:" "},enterprise:{name:" ",features:{0:"   ",1:"   ",2:"   ",3:"    ",4:"    ",5:"  ",6:"   (SLA)",7:"   24/7"},button:"  "}},additionalInfo:"       14             ",vatInfo:"     .     .",perMonth:"",perYear:"",monthlyEquivalent:" {amount} /  (  )"},testimonials:{title:"",titleHighlight:" ",subtitle:"            .",customers:[{name:" ",role:" ",company:" ",content:'        40%.   " "     .    .'},{name:" ",role:" ",company:"  ",content:"    .                ."},{name:" ",role:" ",company:" ",content:"                  25%."},{name:" ",role:" ",company:" ",content:"     .       .     ."},{name:" ",role:"  ",company:" ",content:"    .              .    ."},{name:" ",role:" ",company:" ",content:"      .           ."}],stats:{restaurants:"  ",satisfaction:"  ",support:"  ",setup:" "}},faq:{title:"",titleHighlight:"",subtitle:"       .      .",questions:{1:{question:"    (QR Menu)",answer:"     .    QR                    ."},2:{question:"    ",answer:"     5 !             QR    ."},3:{question:"     ",answer:"    .                   ."},4:{question:"   ",answer:"    .                     ."},5:{question:"     ",answer:"   .   (Responsive)              ."},6:{question:"     ",answer:"   .          .       ."},7:{question:"     ",answer:"    .           .         ."},8:{question:"      ",answer:".                        ."}},cta:{title:"     ",subtitle:"       .      24 .",button:" "}},contact:{title:"",titleHighlight:"",titleEnd:"",subtitle:"               .",info:{title:" ",phone:" ",email:" ",address:""},form:{title:"  ",name:" ",nameRequired:"  *",namePlaceholder:"  ",email:" ",emailRequired:"  *",emailPlaceholder:"example@domain.com",company:"  / ",companyPlaceholder:"   ",message:" ",messageRequired:" *",messagePlaceholder:"   ...",sending:" ...",send:" ",success:{title:"  !",subtitle:"  .         ."}}},accessibility:{menu:"/ ",theme:" ",language:" ",profile:"  ",notifications:""},orders:{loading:"  ...",title:"",description:"   ",orderNumber:"",table:"",items:"",tabs:{all:" ",pending:" ",preparing:" ",ready:"",delivered:" ",cancelled:""},status:{pending:" ",preparing:" ",ready:"",delivered:" ",cancelled:""},filters:{status:"",dateRange:" ",paymentType:" ",today:"",yesterday:"",lastWeek:" ",lastMonth:" ",custom:""},actions:{refresh:"",export:"",filter:"",search:"  ...",viewDetails:" ",changeStatus:" "},stats:{totalOrders:" ",totalRevenue:" ",pendingOrders:" ",avgOrderValue:"  "}},tableManagement:{addTable:" ",ActiveStatus:" ",descriptionActive:"  ",descriptionInActive:"   ",loading:"  ...",title:" ",description:"  QR   ",noCategories:" ",createFirstCategory:"  ",error:{loadFailed:"    ",dataLoadFailed:"    "},actions:{addTable:" ",addQRCode:"  QR",generateQR:"  QR",downloadQR:"  QR",editTable:" ",deleteTable:" "},deleteModal:{title:" "},categories:{title:" ",addCategory:" ",editCategory:" ",deleteCategory:" ",categoryName:" ",tableCount:" "},qrCodes:{title:" QR",tableNumber:" ",category:"",status:"",actions:"",active:"",inactive:" "}},userManagement:{loading:"  ...",title:" ",noBranch:"    ",description:"   ",error:{loadFailed:"    ",rolesLoadFailed:"    ",createFailed:"    ",updateFailed:"    ",deleteFailed:"    "},actions:{addUser:" ",editUser:" ",deleteUser:" ",resetPassword:"   ",changeRole:" "},roles:{admin:"",manager:"",staff:"",viewer:""},status:{active:"",inactive:" ",suspended:""}},subscription:{title:"",description:"    ",currentPlan:" ",planDetails:" ",billing:"",usage:"",plan:"",renewal:"",changePlan:" ",availablePlans:" ",selectPlan:"   ",tabs:{overview:" ",billing:"",usage:""},actions:{upgrade:"",downgrade:"",cancel:"",renew:"",settings:""}},products:{status:{outOfStock:" ",inStock:"",available:"",unavailable:" "},count:"",empty:"      ",actions:{addFirst:"  ",addProduct:" ",editProduct:" ",deleteProduct:" "}},branchSelector:{status:{loading:" ...",error:"   "},empty:"    ",actions:{changeBranchRestaurant:" /"},labels:{mainRestaurant:" ",branches:""}},popularProducts:{title:"  ",empty:"   ",labels:{orders:"",percentage:"%"},tooltip:{ordersFormat:(e,t)=>`${e}  (${t}%)`,noData:"   "}},weeklyActivity:{title:" ",empty:{primary:"     ",secondary:"   "},labels:{views:"",qrScans:"  QR"},legend:{views:"",qrScans:"  QR"}},monthlyRevenue:{QuickStats:" ",title:"  ",empty:{primary:"     ",secondary:"   "},labels:{total:":",revenue:""},currency:{symbol:"",format:e=>`${e.toLocaleString("ar-SA")} `}},branchCard:{status:{temporaryClosed:" ",open:"",closed:"",active:"",inactive:" ",hidden:""},actions:{edit:"",delete:"",purge:" "},labels:{customerVisibility:" ",apiBranchOpen:"API BranchIsOpen:"},alt:{logo:""}},addBranchCard:{title:"  ",description:"   "},branchModal:{title:{add:"  ",edit:" "},subtitle:"     ",steps:{basic:" ",address:" ",contact:"  "},sections:{basicInfo:" ",addressInfo:" ",contactInfo:" ",workingHours:" "},fields:{branchName:{label:" ",placeholder:"  "},whatsappNumber:{label:"  ",placeholder:"   "},branchLogo:{label:"  ()",select:" ",uploading:" ...",success:"    ",preview:"  ",supportText:"  PNG JPG GIF.    : 5 "},country:{label:" *",placeholder:"  "},city:{label:" *",placeholder:"  "},street:{label:"",placeholder:"  "},zipCode:{label:"  ",placeholder:"  "},addressLine1:{label:"  1",placeholder:"   "},addressLine2:{label:"  2 ()",placeholder:"    ()"},phone:{label:" ",placeholder:"  "},email:{label:"   ",placeholder:"   "},location:{label:"  ",placeholder:"   (: 40.9795,28.7225)"},contactHeader:{label:"  ()",placeholder:"   ()"},footerTitle:{label:"  ()",placeholder:"   ()"},footerDescription:{label:"  ()",placeholder:"   ()"},openTitle:{label:"   ()",placeholder:"    ()"},openDays:{label:"  ()",placeholder:"   ()"},openHours:{label:"  ()",placeholder:"   ()"}},workingHours:{description:"   ",days:["","","","","","",""],open:"",closed:"",openTime:"",closeTime:"",canOrder:"       ",infoTitle:"  ",infoText:"             QR  .       ."},errors:{branchName:"  ",whatsappNumber:"   ",country:" ",city:" ",street:" ",zipCode:"  ",addressLine1:"  1 ",phone:"  ",email:"   ",location:"  ",branchModal:" ",addressLine2:"  "},buttons:{cancel:"",back:"",next:"",save:"",saving:" ..."}},branchManagement:{title:" ",description:"    ",loading:"  ...",addBranch:"  ",purgeConfirm:{title:"       ",description:""},error:{loadFailed:"   ",createFailed:"   ",updateFailed:"   ",deleteFailed:"   ",restaurantIdNotFound:"   ",detailsLoadFailed:"    ",statusUpdateFailed:"    ",sessionExpired:"  .     .",noPermission:"    .",branchNotFound:"  .",connectionError:"   .",unknownError:"   "},noBranches:{title:"   ",description:"    "},deleteConfirm:{title:"  ",description:'      "{{branchName}}"      .'},form:{branchName:" ",branchNamePlaceholder:"  ",branchNameRequired:"  ",whatsappNumber:"  ",whatsappPlaceholder:"  ",branchLogo:" ",logoUpload:" ",logoChange:" ",logoRemove:" ",logoNotSelected:"   ",logoInstructions:"    JPG PNG  GIF   5 .",country:"",countryPlaceholder:"  ",city:"",cityPlaceholder:"  ",street:"",streetPlaceholder:"  ",zipCode:" ",zipCodePlaceholder:"  ",addressLine1:" ",addressLine1Placeholder:"  ",addressLine2:" ",addressLine2Placeholder:"   ()",phone:"",phonePlaceholder:"  ",email:" ",emailPlaceholder:"   ",location:"",locationPlaceholder:"  ",contactHeader:" ",contactHeaderPlaceholder:"  ",footerTitle:" ",footerTitlePlaceholder:"  ",footerDescription:" ",footerDescriptionPlaceholder:"  ",openTitle:"  ",openTitlePlaceholder:"   ",openDays:" ",openDaysPlaceholder:"  ",openHours:" ",openHoursPlaceholder:"  ",workingHours:" ",workingHoursRequired:"      ",isOpen:"",dayNames:{0:"",1:"",2:"",3:"",4:"",5:"",6:""}},modal:{createTitle:"  ",createDescription:"   ",editTitle:"  - {branchName}",editDescription:"  ",tabs:{general:" ",address:"",contact:"",workingHours:" "},buttons:{creating:" ...",updating:" ...",create:" ",update:" "},errors:{updateError:"  ",validationFailed:"       .",dataValidationError:"   .     .",imageUploadError:"   .    .",imageRemoveError:"   .",uploadingImage:"  ...",invalidFileType:"    ",fileSizeError:"       5 "}},card:{edit:"",delete:"",temporaryClose:" ",temporaryOpen:" ",status:{open:"",closed:"",temporarilyClosed:" "}}},commonBranch:{cancel:"",delete:"",save:"",edit:"",create:"",update:"",close:"",loading:" ...",error:"",success:"",warning:"",info:"",required:"",optional:""},productsContent:{branch:{selectAll:""},title:" ",description:"   ",search:{placeholder:"   ...",filter:"",sort:"",noResults:"    "},viewMode:{list:" ",grid:" "},actions:{addFirstCategory:"  ",addCategory:" ",newCategory:" ",addProduct:" ",newProduct:" ",editCategory:" ",deleteCategory:" ",editProduct:" ",deleteProduct:" ",manageIngredients:" ",updateIngredients:" ",manageAddons:" ",importSampleMenu:"  ",addFirstCategoryTitle:"  ",RecycleBin:" "},emptyState:{noCategories:{title:"    ",description:'         .    " " ""  "".',addFirstCategory:"  "}},loading:{categories:"  ...",products:"  ...",savingOrder:"  ...",savingCategoryOrder:"   ...",savingProductOrder:"   ...",movingProduct:"  ...",deleting:" ..."},dragDrop:{categoryReordering:"   ...",productReordering:"   ...",productMoving:"  ...",categoryOrderSaveError:"     .",productOrderSaveError:"     .",productMoveError:"    ."},delete:{product:{title:" ",message:'       "{{productName}}"      .',success:"   "},category:{title:" ",messageWithProducts:'  "{{categoryName}}"  {{productCount}} .       .       ',messageEmpty:'        "{{categoryName}}"',success:"   "}},error:{loadFailed:"   ",categoryNotFound:"  ",productNotFound:"  ",deleteFailed:"  ",updateFailed:"  ",createFailed:"  ",reorderFailed:"   ",invalidData:"  ",networkError:"   ",refreshPage:"     ."},success:{categoryCreated:"   ",categoryUpdated:"   ",categoryDeleted:"   ",productCreated:"   ",productUpdated:"   ",productDeleted:"   ",orderSaved:"   ",ingredientsUpdated:"   ",addonsUpdated:"   "},category:{products:"",productCount:"",noProducts:"     ",expand:"",collapse:""},product:{price:"",description:"",ingredients:"",addons:"",category:"",image:"",status:"",available:"",unavailable:" "},currency:{symbol:"",format:"{{amount}} "},status:{active:"",inactive:" ",available:"",unavailable:" "},tooltips:{dragToReorder:"  ",dragToMoveCategory:"     ",expandCategory:" ",collapseCategory:" ",editCategory:" ",deleteCategory:" ",editProduct:" ",deleteProduct:" ",manageIngredients:"  ",manageAddons:"  "}},createCategoryModal:{title:"  ",subtitle:"  ",close:"",form:{categoryName:{label:"  *",placeholder:":    ",required:"  "},status:{label:" ",description:"    "}},buttons:{cancel:"",create:" ",creating:" ..."},errors:{general:"    .    .",categoryExists:"    .    .",invalidData:"   .     .",serverError:"   .   .",networkError:"   .      .",unknownError:"   .    .",errorLabel:":"},success:{categoryCreated:"   ",categoryAdded:"     "},validation:{nameRequired:"  ",nameMinLength:"       ",nameMaxLength:"       50 ",invalidCharacters:"      "},accessibility:{closeModal:"   ",formTitle:"   ",requiredField:" ",optionalField:" "}},createProductModal:{title:"  ",subtitle:"   ",close:"",form:{productImage:{label:" ",dragActive:"  ",uploadText:" ",supportedFormats:"PNG JPG GIF (  5 )",removeImage:" "},productName:{label:" ",placeholder:":  ",required:"  "},price:{label:" ()",placeholder:"0",required:" ",mustBePositive:"      0",currency:""},category:{label:"",placeholder:" ",required:"  ",invalidCategory:"   .  : {{categories}}"},description:{label:"",placeholder:" ...",required:"  "},status:{label:" ",description:"  ",active:"",inactive:" "}},buttons:{cancel:"",create:" ",creating:" ...",uploading:" ..."},imageUpload:{dragToUpload:"     ",clickToUpload:"  ",dragActive:"  ",supportedFormats:"PNG JPG GIF",maxSize:"  5 ",preview:" ",remove:""},errors:{general:"    .    .",nameRequired:"  ",descriptionRequired:"  ",priceRequired:" ",priceMustBePositive:"      0",categoryRequired:"  ",categoryInvalid:"   ",imageInvalid:"    ",imageTooLarge:"        5 ",imageUploadFailed:"   ",networkError:"   .      .",serverError:"   .   .",unknownError:"   .    .",errorLabel:":"},success:{productCreated:"   ",productAdded:"     "},validation:{nameMinLength:"       ",nameMaxLength:"       100 ",descriptionMinLength:"      5 ",descriptionMaxLength:"      500 ",priceMin:"      0",priceMax:"      10000"},accessibility:{closeModal:"   ",formTitle:"   ",requiredField:" ",optionalField:" ",imageUpload:"  ",removeImage:"  ",priceInput:"  ",categorySelect:"  ",statusToggle:"  "}},productAddonsModal:{title:" ",subtitle:"   ",close:"",panels:{currentAddons:{title:" ",count:"({{count}})",dragInstruction:"   ",emptyState:{title:"     .",subtitle:"    ."}},availableProducts:{title:"  ",searchPlaceholder:"  ...",emptyState:{noResults:"       .",noProducts:"      ."}}},actions:{edit:"",save:"",cancel:"",remove:"",recommended:" "},form:{marketingText:{placeholder:" ...",label:" "},isRecommended:{label:"    ",badge:" "}},status:{outOfStock:"  ",available:"",unavailable:" "},loading:{addons:"  ...",products:"  ...",saving:" ..."},buttons:{cancel:"",saveAddons:" ",saving:" ..."},counters:{selectedProducts:"{{count}}  ",availableProducts:"{{count}}  "},errors:{loadingData:"     .",updatingAddon:"    .",deletingAddon:"    .",savingOrder:"     .",savingAddons:"    .    .",general:"   .    .",networkError:"   .      ."},success:{addonsSaved:"    ",orderUpdated:"    ",addonUpdated:"   ",addonRemoved:"   "},accessibility:{closeModal:"   ",dragHandle:"   ",editAddon:"  ",removeAddon:"   ",selectProduct:"  ",productImage:" ",toggleRecommended:"  "}},editCategoryModal:{title:" ",subtitle:"  ",close:"",form:{categoryName:{label:" ",placeholder:"  ...",required:"  ",minLength:"       2 ",maxLength:"       100 "},description:{label:"",placeholder:"  ...",optional:"",maxLength:"      500 "},status:{label:"",description:"       ",active:"",inactive:" "}},buttons:{cancel:"",save:"",saving:" ...",update:" ",updating:" ..."},errors:{updateFailed:"    .    .",nameRequired:"  ",nameMinLength:"       2 ",nameMaxLength:"       100 ",descriptionMaxLength:"      500 ",general:"   .    .",networkError:"   .      .",serverError:"   .     ."},success:{categoryUpdated:"   ",changesSaved:"   "},validation:{nameRequired:"   ",nameMinLength:"   ",nameMaxLength:"   ",descriptionMaxLength:"  "},accessibility:{closeModal:"   ",formTitle:"  ",requiredField:" ",optionalField:" ",statusToggle:"  ",nameInput:"  ",descriptionInput:"  "}},confirmDeleteModal:{defaultTitle:" ",deleteTitle:" ",deleteTableWarning:"        ",warning:"     .    .",itemTypes:{category:"",product:"",addon:"",user:"",order:"",coupon:"",discount:"",promotion:"",review:"",comment:"",image:"",file:"",item:""},buttons:{cancel:"",delete:"",deleting:" ...",confirm:"",confirming:" ..."},messages:{category:"             .",product:"            .",addon:"            .",user:"           .",general:"            ."},errors:{deleteFailed:"   .    .",networkError:"   .       .",serverError:"   .     .",permissionError:"     .",notFound:"      .",hasRelations:"         .",general:"   .    ."},success:{deleted:"   ",categoryDeleted:"   ",productDeleted:"   ",addonDeleted:"   "},confirmations:{typeToConfirm:' "" ',enterName:"   ",areYouSure:"   ",lastChance:"   ."},accessibility:{closeModal:"   ",deleteDialog:"  ",warningIcon:" ",deleteButton:" ",cancelButton:" ",errorAlert:" "}},editProductModal:{title:" ",subtitle:"  ",close:"",form:{productImage:{label:" ",optional:""},productName:{label:" ",placeholder:":  ",required:"  "},description:{label:"",placeholder:" ...",optional:""},price:{label:" ()",placeholder:"0",required:" ",currency:""},category:{label:"",placeholder:" ",required:"  "},status:{label:"  ",description:"       ",available:"",unavailable:" "}},buttons:{cancel:"",update:" ",updating:" ...",save:" ",saving:" ...",uploading:"  ..."},imageUpload:{clickToUpload:"  ",dragToUpload:"     ",dragActive:"  ",supportedFormats:"PNG, JPG, GIF",maxSize:"  5 ",preview:" ",remove:" ",changeImage:" "},errors:{errorLabel:":",updateFailed:"    .    .",nameRequired:"  ",nameAlreadyExists:"    .    .",descriptionRequired:"  ",priceRequired:" ",priceMustBePositive:"      0",categoryRequired:"  ",imageInvalid:"    ",imageTooLarge:"        5 ",imageUploadFailed:"   ",productNotFound:"    ",permissionDenied:"     ",networkError:"   .      .",serverError:"   .     .",unknownError:"   .    ."},success:{productUpdated:"   ",changesSaved:"   ",imageUploaded:"   "},validation:{nameMinLength:"       ",nameMaxLength:"       100 ",descriptionMaxLength:"      500 ",priceMin:"      0",priceMax:"      10000",imageSize:"      5 ",imageType:"   "},accessibility:{closeModal:"   ",formTitle:"  ",requiredField:" ",optionalField:" ",imageUpload:"  ",removeImage:"  ",priceInput:"  ",categorySelect:"  ",statusToggle:"   ",imagePreview:"  "}},productIngredientModal:{title:" ",subtitle:"  ",close:"",search:{placeholder:"  ...",label:"  ",noResults:"    "},summary:{selectedCount:" ",hasChanges:" ",noChanges:"  "},form:{quantity:{label:"",placeholder:"",required:" "},unit:{label:"",placeholder:" ",required:" "}},units:{grams:"",milliliters:"",pieces:"",tablespoons:" ",teaspoons:" ",cups:"",kilograms:"",liters:""},status:{available:"",unavailable:" ",containsAllergens:"   ",toBeAdded:" ",toBeRemoved:" ",selected:"",unselected:" "},allergenInfo:{count:"{{count}}  ",count_plural:"{{count}}  ",details:"  ",warning:"     "},loading:{ingredients:"  ...",saving:"  ...",data:"  ..."},emptyState:{noIngredients:"     .",noSearchResults:"       .",noAvailableIngredients:"     ."},buttons:{cancel:"",skip:"",save:"",saveIngredients:" ",saving:" ...",add:" ",update:" "},footer:{totalCount:": {{count}} ",selectedInfo:"  {{selected}}  {{total}}"},errors:{loadingData:"     .",savingIngredients:"    .    .",quantityRequired:"         0.",unitRequired:"    .",networkError:"   .      .",serverError:"   .     .",general:"   .    .",invalidQuantity:"   ",ingredientNotFound:"    ",permissionDenied:"    "},success:{ingredientsSaved:"   ",ingredientsUpdated:"   ",ingredientAdded:"   ",ingredientRemoved:"   "},validation:{quantityMin:"      0",quantityMax:"      1000",unitRequired:"  ",ingredientRequired:"     "},accessibility:{closeModal:"   ",searchInput:"  ",quantityInput:"  ",unitSelect:"  ",ingredientCheckbox:" ",selectedIndicator:"  ",allergenWarning:"   ",availabilityStatus:" "}},ProductIngredientUpdateModal:{title:" ",searchPlaceholder:"  ...",selectedCount:" ",loadingIngredients:"  ...",noIngredientsFound:"    ",noIngredientsFoundSearch:"       ",unit:":",price:":",quantity:"",cancel:"",save:"",saving:" ...",errors:{loadingIngredients:"    ",savingIngredients:"    "},accessibility:{closeModal:"   ",formTitle:"   ",searchInput:"  ",ingredientToggle:"  ",quantityInput:"  ",selectedIndicator:" ",unselectedIndicator:"  ",ingredientCard:"  ",saveButton:"  ",cancelButton:"  "}},SortableCategory:{product:"",products:"",status:{active:""},editCategory:" ",deleteCategory:" ",reorderingProducts:"   ...",noCategoryProducts:"      .",expandCategory:" ",collapseCategory:" ",dragCategory:"   ",accessibility:{categoryActions:" ",productCount:" ",expandToggle:"  ",editCategoryButton:" ",deleteCategoryButton:" ",dragHandle:"    ",categoryCard:" ",emptyCategory:" ",reorderingStatus:"   "}},SortableProduct:{outOfStock:" ",loadingIngredients:"  ...",ingredients:"",noIngredients:"   ",loadingAddons:"  ...",addons:"",noAddons:"   ",manageAddons:" ",editProduct:" ",deleteProduct:" ",dragProduct:"   ",allergenic:"   ",recommended:" ",price:"",errors:{loadingIngredients:"    .",loadingAddons:"    ."},accessibility:{productImage:" ",productCard:" ",productActions:" ",dragHandle:"    ",outOfStockBadge:"   ",ingredientsList:"  ",addonsList:"  ",allergenWarning:"   ",recommendedAddon:"  ",editButton:" ",deleteButton:" ",addonsButton:"  "}},IngredientsContent:{searchPlaceholder:"  ...",filter:"",sort:"",newIngredient:" ",ingredientName:" ",status:"",allergenInfo:"  ",actions:"",available:"",unavailable:" ",containsAllergens:"   ",noAllergens:"    ",edit:"",delete:"",noIngredientsFound:"       .",noIngredientsYet:"    .",deleteIngredient:" ",deleteConfirmMessage:'        "{name}"',deleteError:"   .    .",cancel:"",deleting:" ...",editIngredient:" ",addNewIngredient:"  ",basicInfo:" ",ingredientNameRequired:"  ",enterIngredientName:"  ",containsAllergensCheckbox:"   ",availableForUse:" ",allergenInfoContent:"  ",selectAllergensMessage:"      :",enableAllergenMessage:'  "   "   .',allergenDetails:"  ",containsThisAllergen:"    ",additionalNotes:"  ()",updateError:"    .",createError:"    .",updating:" ...",adding:" ...",update:"",add:"",accessibility:{ingredientsTable:"  ",searchInput:"  ",filterButton:" ",sortButton:" ",addButton:"  ",editButton:" ",deleteButton:" ",ingredientCard:"  ",allergenSelection:"  ",formModal:"  ",deleteModal:"  ",statusBadge:" ",allergenBadge:"  ",closeModal:" ",dragToReorder:"  "}},TableCard:{active:"",inactive:" ",occupied:"",empty:"",capacity:"",capacityPlural:"",edit:"",downloadQR:"  QR",disable:" ",enable:"",delete:"",viewQRCode:"  QR",moreOptions:"  ",accessibility:{tableCard:"  ",statusBadge:" ",occupancyBadge:"  ",actionsMenu:"  ",qrCodePreview:"  QR",editButton:" ",downloadButton:"  QR",toggleButton:"  ",deleteButton:" "}},QRCodeModal:{tableAddOption:"  ",howToAddTables:"   ",singleTable:"  ",bulkTable:"  ",createSingleTable:"  ",createMultipleTables:"  ",branchSelection:" ",selectBranch:" ",branchRequired:"",loadingBranches:"  ...",editTable:" ",addSingleTable:"  ",tableName:" ",tableNamePlaceholder:":  1",autoNameNote:"      ",tableCategory:" ",selectCategory:" ",loadingCategories:"  ...",noCategories:"    ",capacity:"",capacityPlaceholder:" ",displayOrder:" ",displayOrderPlaceholder:" ",autoOrderNote:"      ",tableActive:"    ",addBulkTables:"  ",categoryQuantities:"   ",addCategory:" ",category:"",tableCount:" ",allTablesActive:"     ",tableSummary:"   :",total:"",tables:"",cancel:"",adding:" ...",addTable:" ",update:"",updating:" ...",creating:" ... ({count} )",createTables:" {count} ",branchRequiredValidation:"  ",categoryRequired:"    ",accessibility:{modal:"  ",stepSelection:"   ",branchSelector:"  ",categorySelector:"  ",tableForm:"  ",bulkForm:"   ",backButton:"  ",closeButton:" "}},TableCategoryModal:{title:"  ",subtitle:"   ",categoryName:" ",categoryNamePlaceholder:":  VIP  ",description:" ()",descriptionPlaceholder:"   ...",colorSelection:" ",customColor:" ",iconSelection:" ",branchSelection:" ",cancel:"",addCategory:" ",saving:" ...",table:"",chair:"",service:"",label:"",layer:"",categoryNameRequired:"  ",iconRequired:"  ",branchRequired:"  ",invalidData:"    ",unauthorized:" .     .",forbidden:"    .",branchNotFound:"   .",serverError:"   .     .",unexpectedError:"      ",accessibility:{modal:"   ",colorPalette:"  ",colorPreset:"  ",customColorPicker:"  ",iconGrid:"  ",iconOption:" ",branchDropdown:"  ",form:"  "}},AddQRCodeCard:{title:"  ",subtitle:"   ",accessibility:{addButton:"   ",addCard:"   "}},userManagementPage:{systemRoleInfo:"    ",editRole:{title:" ",save:""},confirmation:{deleteRoleTitle:" ",deleteRoleMessage:"              ",deactivateTitle:"  ",deactivateMessage:"        {name}    "},rolePermissionsModal:{title:" ",noPermissions:" "},title:" ",loading:" ...",error:{title:"",loadFailed:"   ",rolesLoadFailed:"   ",retry:"  ",createUserFailed:"   ",createRoleFailed:"   ",changePasswordFailed:"   ",assignBranchFailed:"  "},changePasswordModal:{title:"  ",info:"     .        .",newPassword:"  ",newPasswordPlaceholder:"   ",currentPassword:"  ",currentPasswordPlaceholder:"   ",currentPasswordEntered:"  ",confirmPassword:"  ",confirmPasswordPlaceholder:"   ",requirements:"  :",minLength:"6   ",passwordsMatch:"  ",submit:"  ",cancel:"",changing:" ...",validation:{passwordRequired:"  ",passwordMinLength:"     6   ",confirmPasswordRequired:"   ",passwordMismatch:"   "}},assignBranchModal:{title:" ",assigningTo:"",toNewBranch:"  ",currentBranch:" ",branchIdDisplay:"(: {{id}})",newBranchLabel:" ",selectBranchPlaceholder:" ",submitButton:" ",submitButtonLoading:" ...",validation:{branchRequired:"  ",assignedToRestaurant:" ",assignToRestaurant:" "}},stats:{total:"",active:"",users:"",roles:"",system:"",custom:"",totalUsers:" ",owner:"",manager:"",staff:""},tabs:{users:"",roles:""},controls:{search:"       ...",searchRoles:"      ...",filterAll:" ",filterOwner:" ",filterManager:" ",filterStaff:"",filterActive:" ",filterInactive:"  ",addUser:" ",addRole:" "},table:{user:"",contact:"",roles:"",location:"/",status:"",registrationDate:" ",actions:"",role:"",description:"",statistics:"",position:""},status:{active:"",inactive:" ",enabled:"",disabled:"",systemRole:" "},roleTypes:{RestaurantOwner:"",BranchManager:"",Staff:"",SuperAdmin:" ",BranchStaff:" "},actions:{viewDetails:" ",edit:"",activate:"",deactivate:" ",delete:"",updateRoles:" ",assignBranch:" ",viewPermissions:" ",changePassword:"  "},updateRoles:{title:"  ",update:""},permissionsModal:{title:"",close:"",userRoles:"  ",permissions:"",permissionsCount:"",noPermissions:" "},editUserModal:{title:" ",firstNameLabel:" ",lastNameLabel:" ",emailLabel:" ",usernameLabel:" ",isActiveLabel:" ",saveButton:" ",saveButtonLoading:" ...",validation:{firstNameRequired:"  ",lastNameRequired:"  ",emailRequired:"  ",usernameRequired:"  "}},noResults:{usersNotFound:"    ",rolesNotFound:"    ",usersEmpty:"     .",rolesEmpty:"     .",searchEmpty:"       .",searchEmptyRoles:"       ."},createRole:{title:"  ",step1Title:" :  ",step2Title:" :  ",stepBasicInfo:" ",stepPermissions:"",step1Info:" ",step1Description:"    ",roleCreatedSuccess:"   !",step2Description:"     ",continue:"  ",back:"",step2Info:"  ",skipPermissions:" ( )",finish:"",createing:" ...",saving:"...",loadingPermissions:"  ...",basicInfo:" ",branch:"",selectBranch:" ",noBranch:"   ",branchHint:"   .         .",selectAll:" ",roleName:" ",roleNamePlaceholder:":  ",category:"",categoryPlaceholder:": ",description:"",deselectAll:" ",descriptionPlaceholder:"   ...",restaurantId:" ",restaurantIdPlaceholder:":  ",branchId:" ",branchIdPlaceholder:":  ",isActive:"    ",permissions:"",permissionsSelected:"",cancel:"",create:" ",creating:" ...",validation:{nameRequired:"       3 ",nameMaxLength:"     50   ",descriptionMaxLength:"    200   ",categoryMaxLength:"    50   "}},createUser:{title:"  ",personalInfo:" ",contactInfo:" ",passwordInfo:"  ",locationInfo:" ",roleAssignment:"  ",selectBranch:" ",phoneNumber:" ",confirmPassword:"  ",location:"",roles:"",userIsActive:"    ",firstName:" ",firstNamePlaceholder:": ",lastName:" ",lastNamePlaceholder:": ",userName:" ",userNamePlaceholder:"  ",userNameHint:"       .",email:" ",emailPlaceholder:"ahmed@example.com",phone:"",phonePlaceholder:"+966 55 123 4567",password:" ",passwordPlaceholder:"  6 ",passwordConfirm:"  ",passwordConfirmPlaceholder:"   ",locationType:" ",restaurant:"",branch:"",restaurantId:" ",restaurantIdPlaceholder:": 123",branchId:" ",branchIdPlaceholder:": 456",profileImage:"   ",profileImagePlaceholder:"https://example.com/avatar.jpg",userCreatorId:"  ",userCreatorIdPlaceholder:"  ",systemRoleInfo:"  ",assignmentType:" ",rolesSelection:"    ()",permissionsSelection:"   (  )",apiWarning:"         .      .",rolesLabel:"",rolesSelected:"",noRoles:{title:"     ",description:"       ",tip:' :    ""    ',warning:" ",warningDescription:'       .       "".'},isActive:"    ",cancel:"",create:" ",creating:" ...",createRoleFirst:"  ",validation:{nameRequired:"  ",nameMaxLength:"     50   ",surnameRequired:"  ",surnameMaxLength:"     50   ",emailRequired:"  ",emailInvalid:"     ",passwordRequired:"       6 ",passwordMaxLength:"     100   ",passwordConfirmRequired:"   ",passwordMismatch:"   ",phoneRequired:"  ",restaurantIdRequired:"    ",branchIdRequired:"    ",rolesRequired:"     ",permissionsNotSupported:"        .     ."}},roleDetails:{userCount:" ",permissionCount:" ",restaurant:"",branch:"",noDescription:"   ",users:"",permissions:"",created:"  ",system:" ",branchSpecific:" "},permissionCategories:{UserManagement:" ",RestaurantManagement:" ",BranchManagement:" ",OrderManagement:" ",ProductManagement:" ",Analytics:""},success:{userCreated:"   ",roleCreated:"   ",userUpdated:"   ",roleUpdated:"   "}},BranchtableManagement:{title:" ",subtitle:"   ",tabs:{tables:"",categories:"",statistics:"",batchCreate:" "},buttons:{addTable:" ",addCategory:" ",batchCreate:" ",edit:"",delete:"",save:"",cancel:"",refresh:"",selectAll:" ",clearSelection:" ",export:"",import:""},labels:{tableName:" ",category:"",capacity:"",status:"",occupation:"",displayOrder:" ",search:"  ...",filterByCategory:"  ",viewMode:" ",totalTables:" ",activeTables:" ",occupiedTables:" ",availableTables:" "},status:{active:"",inactive:" ",occupied:"",available:"",outOfService:" "},actions:{markOccupied:" ",markAvailable:" ",activate:"",deactivate:" ",viewDetails:" "},messages:{tableCreated:"   ",tableUpdated:"   ",tableDeleted:"   ",statusUpdated:"   ",error:" ",noTables:"    ",confirmDelete:"      ",loading:" ...",saving:" ...",deleting:" ..."},statistics:{title:" ",occupancyRate:" ",averageCapacity:" ",categoryBreakdown:" ",dailyOccupancy:" ",peakHours:" "},forms:{createTable:"  ",editTable:" ",batchCreateTables:"  ",quantity:"",namePrefix:" ",startingNumber:" "}},BranchTableManagement:{capacityLabel:"",tableNameLabel:" ",clearTable:"  ",refreshTable:"  ",clearing:" ...",loading:" ...",multiCategory:"        ",category:"",SelectCategory:" ",Quantity:" ",Capacity:"   ( )",createTables:" ",creatingTables:"  ...",batchCreateTables:"   ",header:"  ",subheader:"      ",totalCategories:" ",totalTables:" ",occupiedTables:" ",availableTables:" ",searchPlaceholder:"  ...",refresh:"",addCategory:" ",addCategoryTitle:"  ",categoryNameLabel:" ",categoryNamePlaceholder:"  ",colorLabel:"",iconLabel:"",save:"",cancel:"",noCategories:"    ",addFirstCategory:"  ",tablesCount:"",status:"",active:"",inactive:" ",occupation:"",occupied:"",available:"",addTable:" ",tableNamePlaceholder:" ",capacityPlaceholder:"",noTables:"     ",qrCodeTitle:" QR - {tableName}",qrCodeDescription:"  QR     ",downloadQR:"  QR",downloading:" ...",copyQRUrl:"  QR",copied:" !",success:{tableCleared:"   {{tableName}}   ",tableOccupied:"    {{tableName}}  ",tableClearedGeneric:"   ",tableStatusUpdated:"    ",categoryAdded:"   ",categoryUpdated:"   ",categoryDeleted:"   ",tableAdded:"   ",tableUpdated:"   ",tableDeleted:"   ",categoryActivated:"   ",categoryDeactivated:"    ",tableActivated:"   ",tableDeactivated:"    ",tableAvailable:"     ",dataRefreshed:"   "},error:{clearTableFailed:"  .    ",fetchCategoriesFailed:"   ",createCategoryFirst:"      ",fetchTablesFailed:"   ",categoryNameRequired:"  ",addCategoryFailed:"   ",updateCategoryFailed:"   ",deleteCategoryFailed:"   ",categoryHasTables:"       ",categoryNotFound:"  ",addTableFailed:"   ",updateTableFailed:"   ",deleteTableFailed:"   ",tableNameRequired:"  ",tableNotFound:"  ",updateCategoryStatusFailed:"    ",updateTableStatusFailed:"    ",updateTableOccupationFailed:"     ",refreshFailed:"   "}},branchManagementBranch:{title:" ",description:"   .",loading:"   ...",noBranchFound:"     ",uploadLogo:" ",noLogo:"  ",logoAlt:" ",uploading:" ...",uploadPrompt:"     ",uploadHint:"PNG, JPG, GIF  5 ",status:{open:"",closed:"",temporarilyClosed:" ",reopenBranch:"  ",temporaryClose:" "},actions:{edit:"",save:"",cancel:"",delete:"",deleting:" ...",confirmDelete:" ",deleteWarning:"              .",onlineMenu:"  "},basicInfo:{title:" ",branchName:" ",whatsappNumber:" ",email:" ",notSpecified:" "},addressInfo:{title:" ",country:"",city:"",street:"",postalCode:" ",region:""},workingHours:{title:" ",workingDay:" ",openTime:" ",closeTime:" ",noWorkingHours:"    ",days:{0:"",1:"",2:"",3:"",4:"",5:"",6:""}},messages:{updateSuccess:"    ",deleteSuccess:"   ",temporaryCloseSuccess:"   ",reopenSuccess:"   ",updateError:"   ",deleteError:"   ",statusChangeError:"    ",loadError:"     "},placeholders:{branchName:"  ",whatsappNumber:"  ",email:"   ",country:" ",city:" ",street:" ",postalCode:"  ",region:" "}},branchCategories:{header:"  ",subheader:"    ",lastUpdated:" ",status:{active:"",inactive:" "},stats:{availableCategories:" ",readyToAdd:" ",activeCategories:" ",currentlyInBranch:"   ",selectedCategories:" ",toBeAdded:" ",selectedProducts:" ",fromCategories:" ",avalibleAddons:" "},tabs:{addNew:" ",manageExisting:" "},steps:{chooseCategories:" ",selectProducts:" ",reviewAdd:" ",finalStep:" ",selected:"",back:""},addCategories:{title:" ",subtitle:"      ",noAvailable:"   ",allAdded:"       ",categoriesSelected:" ",clearSelection:" ",nextSelectProducts:":  "},selectProducts:{title:" ",subtitle:"    ",selectAll:" ",clearAll:" ",noProducts:"    ",noProductsInCategories:"      ",available:"",productsSelectedFrom:"  ",categories:"",selected:"",reviewSelection:" "},review:{title:" ",subtitle:"     ",of:"",productsSelected:" ",all:"",productsWillBeAdded:"  ",totalValue:" ",selectedProducts:" ",readyToAdd:" ",with:"",availableInBranch:"  ",startOver:"  ",adding:" ...",addToBranch:"  "},manage:{title:"  ",subtitle:"    ",saving:" ...",saveOrder:" ",exitReorder:"  ",reorder:" ",noCategoriesAdded:"   ",noCategoriesAddedDesc:"        ",addCategories:" ",original:":",added:"",available:"",total:"",active:"",inactive:" ",protected:""},products:{inCategory:"  ",added:"",available:"",ingredients:"",allergens:" ",viewDetails:" ",removeFromBranch:"  ",addToBranch:"  ",addedToBranch:"   ",moreAvailableToAdd:"  ",withDetailedInfo:" ",products:""},productDetails:{addedToBranch:"  ",allergens:" ",contains:" ",mayContain:"  ",ingredients:"",allergenic:" ",available:"",unavailable:" ",quantity:":",ingredientId:" :",allergenInformation:"  :",additionalInformation:" ",originalProduct:" ",originalPrice:" :",originalStatus:" :",originalDisplayOrder:"  :",orderDetails:" ",lastUpdated:" :",close:""},actions:{refresh:"",delete:"",edit:"",save:"",cancel:"",confirm:"",loading:" ..."},search:{categories:"  ...",products:"  ..."},status:{active:"",inactive:"    ",available:"",unavailable:" "},messages:{success:{categoryAdded:"   ",categoryDeleted:"   ",productAdded:"   {name} ",productRemoved:"   {name} ",orderSaved:"    "},error:{cannotDelete:'    "{name}"    {count} .     .',cannotDeleteTooltip:"  :    {count} .    .",productNotFound:"  ",addingProduct:"   ",removingProduct:"   ",savingOrder:"   ",loadingCategories:"   ",loadingProducts:"   "}},deleteModal:{title:" ",message:'      "{name}"      .',confirm:"",cancel:""},placeholders:{searchCategories:"  ...",searchProducts:"  ..."}},profile:{title:" ",personalInfo:" ",editProfile:"  ",accountStatus:{active:" ",inactive:"  ",status:" "},fields:{firstName:" ",lastName:" ",username:" ",email:" ",registrationDate:" ",restaurantName:" ",status:""},restaurant:{info:" ",name:" ",status:{active:"",inactive:" "}},permissions:{summary:" ",totalCategories:" ",totalPermissions:" ",rolesAndPermissions:" ",systemRole:" "},categories:{Category:" ",BranchCategory:"  ",Product:" ",BranchProduct:"  ",BranchQRCode:"  QR",Order:" ",Restaurant:" ",Branch:" ",Admin:" "},permissionNames:{"category.create":" ","category.delete":" ","category.update":" ","category.read":" ","branch.category.create":"  ","branch.category.delete":"  ","branch.category.update":"  ","branch.category.read":"  ","product.create":" ","product.delete":" ","product.update":" ","product.read":" ","product.edit":" ","branch.product.create":"  ","branch.product.delete":"  ","branch.product.update":"  ","branch.product.read":"  ","branch.qrcode.create":"  QR","branch.qrcode.delete":"  QR","branch.qrcode.update":"  QR","branch.qrcode.read":"  QR","order.create":" ","order.delete":" ","order.update":" ","order.read":" ","order.view":"  ","order.cancel":" ","restaurant.create":" ","restaurant.delete":" ","restaurant.update":" ","restaurant.read":" ","restaurant.user.create":"  ","restaurant.user.delete":"  ","restaurant.user.update":"  ","restaurant.user.read":"  ","branch.create":" ","branch.delete":" ","branch.update":" ","branch.read":" ","branch.user.create":"  ","branch.user.delete":"  ","branch.user.update":"  ","branch.user.read":"  ","admin.api.control":"  API"},error:{loadFailed:"     "}},addonModal:{title:" ",loading:"  ...",refresh:"",search:{placeholder:"       ..."},stats:{available:"",assigned:"",recommended:" "},sections:{assignedAddons:" ",availableAddons:" "},emptyState:{title:"   ",description:"       ",productId:" :"},actions:{add:"",remove:"",configure:"",done:"",saveChanges:" "},status:{assigned:"",recommended:" "},configuration:{title:" ",specialPrice:" ",maxQuantity:"  ",minQuantity:"  ",marketingText:" ",markRecommended:"   ",placeholders:{marketingText:":      ..."}},messages:{success:{addonAdded:"   ",addonRemoved:"   ",addonUpdated:"   "},errors:{loadFailed:"    ",updateFailed:"    ",propertiesFailed:"    "}},footer:{summary:"",addon:"",addons:"",assigned:""}},menu:{title:"",loading:" ",basePrice:" ",quantity:"",addons:"",product:"",addToBasket:"  ",addToOrder:"  ",allergens:" ",loadingSubtitle:"   ...",error:{title:"  ",tryAgain:"  "},search:{placeholder:"   ..."},categories:"",ingredients:"",open:"",closed:"",chefsChoice:" ",add:"",remove:"",items:"",item:"",available:"",deliciousItems:"",exploreMenu:" ",noResults:"    ",noResultsDesc:"      ",noItemsCategory:"     ",noItemsCategoryDesc:"       ",selectCategory:"      ",whyChooseUs:{title:" ",subtitle:"        ",freshIngredients:{title:" ",description:"       "},fastDelivery:{title:" ",description:"      "},qualityAssured:{title:" ",description:"    "},expertChefs:{title:" ",description:"        "}},footer:{brand:" ",description:"          .",quickLinks:" ",getInTouch:" ",visitUs:"",callUs:" ",emailUs:"",copyright:"  .",privacyPolicy:" ",termsOfService:" ",poweredBy:" ",links:{ourMenu:"",aboutUs:" ",locations:"",reservations:"",specialOffers:" ",giftCards:" "},services:{onlineOrdering:"  ",tableBooking:" ",privateEvents:" ",catering:" ",takeaway:" ",corporateMeals:" "}},cart:{title:"",basePrice:" ",price_change_title:"  ",confirm:"",cancel:"",confirm_cancel_title:"     .",cancel_order_confirm:"      ",order_cancelled_success:"    .",success:"",newOrder:" ",orders:"",cancel_Reason_prompt_title:" ",reason:" ",submit:"",order_can_be_updated:"  ",time_remaining:" ",modified_times:"  {{count}} /",edit_order:" ",edit_order_items:"  ",update_reason:" ",update_reason_placeholder:"    ",update_reason_required:"   ",no_changes_detected:"    .     .",characters:"",updating:" ...",update_order:" ",was:"",add_note:" ...",marked_for_deletion:" ",restore_item:" ",delete_item:" ",order_updated_success:"   !",order_update_failed:"  ",price_change_confirm:"     .    ",cancel_order:" ",notes:"",refresh:"",refreshing:" ...",remove:"",orderType:" ",table:"",empty:" ",emptyDesc:"     ",total:"",proceed:" ",placeOrder:" ",processing:" ...",clear:" ",item:"",items:"",variant:"",variants:"",plain:"",customized:"",addons:"",variantTotal:" ",quantity:"",each:"",min:" ",max:" ",qty:"",minQuantityError:"    {name}  {min}",maxQuantityError:"    {name}  {max}",decreaseQuantity:" ",increaseQuantity:" ",creating_order:"  ...",order_created_success:"   !",order_creation_failed:"   .    .",sending_whatsapp:"   ...",whatsapp_sent_success:"    !",whatsapp_send_failed:"    ",clearing_basket:"  ...",basket_cleared:"   !",clear_basket_failed:"   ",load_order_types_failed:"    ",confirming_price_changes:"   ...",price_changes_confirmed:"    !",price_changes_failed:"    ",session_required:"  ",extras:" ",without:"",extra:"",add:""}},order:{form:{title:" ",orderType:" ",paymentMethod:" ",selectPaymentMethod:"  ...",tableNumberPlaceholder:"..   ",cash:"",tableNumberRequired:"  ",tableNumber:" ",creditCard:" ",onlinePayment:"  ",name:"",phone:" ",address:"",cashDescription:"   ",creditCardDescription:"     ",onlinePaymentDescription:"     ",orderTypeRequired:"  ",selectOrderType:"  ...",orderInformation:" ",customerName:" ",customerNameRequired:"  ",information:"",customerNamePlaceholder:"  ",deliveryAddress:" ",deliveryAddressRequired:"      ",deliveryAddressPlaceholder:"  ",phoneNumber:" ",phoneNumberRequired:"      ",phoneNumberPlaceholder:"  ",specialInstructions:" ",specialInstructionsPlaceholder:"   ...",orderSummary:" ",notes:" ",notesPlaceholder:"     (:  )",subtotal:" ",serviceCharge:" ",minimumRequired:"  ",estimatedTime:" ",minutes:"",backToCart:" ",createOrder:" ",creating:" ...",loadingOrderTypes:"   ...",noOrderTypes:"    .   .",minimumOrder:"  ",service:"",minimumOrderError:"     {type}  ${amount}.  : ${current}"},validation:{fixErrors:"   :",customerNameRequired:"  ",orderTypeRequired:"   ",addressRequired:"      ",phoneRequired:"      "}},priceChange:{title:"    ",description:"               .",changesRequired:" :",defaultMessage:"     .",cancel:"",confirm:" ",confirming:" ..."},productModal:{customizeOrder:" ",allergenInformation:" ",ingredients:"",availableAddons:" ",add:"",recommended:" ",min:" ",max:" ",orderSummary:" ",quantity:"",total:"",addToCart:"  ",addons:"",extras:" ",required:"",selected:" ",select:"",minSelect:"",maxSelect:"",qty:"",removal:"",remove:"",removed:" ",categoryRequired:"{{name}} ",minSelectionError:" {{min}}     {{name}}",maxSelectionError:"  {{max}}     {{name}}",extraRequired:"{{name}} "},errors:{loadingBasket:"  ",loadingOrderTypes:"   ",removingItem:"    ",increasingQuantity:"   ",decreasingQuantity:"   ",increasingAddonQuantity:"   ",clearingBasket:"  ",creatingOrder:"  ",orderAlreadyProcessing:"    ",priceChangeDetails:"    ",confirmingPriceChanges:"   ",sessionIdRequired:"     ",addonProductNotFound:"      ",cartItemNotFound:"     "},ordersManager:{total:"",clearFilters:" ",filtered:" ",OrderType:" ",subTotal:" ",serviceFeeApplied:" ",modificationHistory:" ",DeliveryAddress:" ",loadingOrders:"  ...",lastModifiedAt:" ",modifiedBy:"  ",modificationDetails:" ",items:"",OrderNotesInformation:"  ",OrderMetadata:"  ",ItemCount:" ",TotalItems:" ",searchPlaceholder:" ",OrderTimeline:"  ",showAdvancedFilter:"  ",hideAdvancedFilter:"  ",of:"",orders:"",title:" ",clearFilter:" ",customerName:" ",tableName:" ",orderType:" ",minPrice:" ",maxPrice:" ",showing:"",to:"",perpage:" ",cancelOrder:" ",cancelOrderConfirmation:"       ?",deletedOrders:" ",description:"    .",pendingOrders:" ",branchOrders:" ",allStatuses:" ",statusFilter:" ",noOrders:"    .",customer:"",orderNumber:" ",status:"",table:"",amount:"",date:"",actions:"",viewDetails:" ",confirm:"",reject:"",changeStatus:" ",orderItems:" ",createdAt:" ",confirmedAt:" ",rowVersion:" ",confirmOrderTitle:" ",confirmOrderPrompt:"        ",rejectOrderTitle:" ",rejectOrderPrompt:"  :",rejectReasonPlaceholder:" ...",updateStatusTitle:" ",updateStatusPrompt:"          ",cancel:"",confirmAction:"",rejectAction:"",updateAction:"",confirming:" ...",rejecting:" ...",updating:" ...",orderDetailsTitle:" ",successNotification:" ",orderConfirmedSuccess:"   !",orderRejectedSuccess:"   !",orderStatusUpdatedSuccess:"    !",errorInvalidStatusTransition:"   :     (   '').",errorCannotConfirm:"    .  : {currentStatus}.",quantity:"",unitPrice:" ",addonPrice:" ",notes:"",amountLabel:" ",DeliveryInformation:" ",TableInformation:" ",CustomerInformation:" ",CustomerName:" ",PhoneNumber:" ",OrderTag:" ",OrderNotes:" ",MinOrderAmount:"   ",CompletedAt:" ",time:""},orderService:{statuses:{pending:"",confirmed:"",preparing:" ",ready:"",completed:"",delivered:" ",cancelled:"",rejected:"",unknown:" "},errors:{createSessionOrder:"     ",getPendingOrders:"     ",getTableOrders:"     ",getOrder:"    ",getBranchOrders:"     ",confirmOrder:"    ",rejectOrder:"    ",updateOrderStatus:"     ",trackOrder:"     ",getOrderTrackingQR:"     QR  ",smartCreateOrder:"     ",getTableBasketSummary:"      ",validationError:" : {errors}",invalidRequest:"  .    .",sessionExpired:"  .     .",unauthorized:"    .",orderNotFound:"  .",invalidStatus:"     .",noInternet:"   .",unknownError:"  ",getOrderTypeText:"      ",getOrderType:"     ",getActiveOrderTypes:"      ",getAllOrderTypes:"      ",orderTotalCalculation:"     ",getEstimatedTime:"   Sydney:    ",getOrderTypeByCode:"       ",getOrderTypesForDisplay:"      ",unknownOrderType:"   "}},branchPreferences:{title:" ",description:"    ",loading:"   ...",saving:" ...",refresh:"",saveChanges:" ",saveSuccess:"    !",cleanupModes:{afterTimeout:"  ",afterClosing:" ",disabled:""},sections:{orderManagement:{title:" ",description:"     ",autoConfirmOrders:"  ",autoConfirmOrdersDesc:"      ",useWhatsappForOrders:" ",useWhatsappForOrdersDesc:"    "},displaySettings:{title:" ",description:"     ",showProductDescriptions:"  ",showProductDescriptionsDesc:"    ",enableAllergenDisplay:"   ",enableAllergenDisplayDesc:"    ",enableIngredientDisplay:" ",enableIngredientDisplayDesc:"   "},paymentMethods:{title:" ",description:"   ",acceptCash:"  ",acceptCashDesc:"   ",acceptCreditCard:"  ",acceptCreditCardDesc:"    /",acceptOnlinePayment:"  ",acceptOnlinePaymentDesc:"         "},localization:{title:" ",description:"   ",defaultLanguage:" ",defaultCurrency:" ",timeZone:" ",supportedLanguages:" "},sessionManagement:{title:" ",description:"    ",sessionTimeout:"  ()",cleanupMode:" ",cleanupDelay:"    ()",cleanupModeDesc:"      ",sessionTimeoutDesc:"       ",cleanupDelayDesc:"     ",cleanupDisabledMessage:"  .     ."}},currencies:{TRY:"  ()",USD:"  ($)",EUR:" ()"},languages:{tr:"",en:"",ar:"",de:"",fr:"",ru:"",es:""},timezones:{"Europe/Istanbul":" (UTC+3)","Europe/London":" (UTC+0)","America/New_York":" (UTC-5)"},errors:{loadFailed:"    ",saveFailed:"    ",validationError:" : {errors}",invalidRequest:"  .    .",sessionExpired:"  .     .",unauthorized:"    .",notFound:"   .",conflict:"  .      .",noInternet:"   .",unknownError:"   ",invalidPaymentSettings:"   .       .",invalidSessionSettings:"   .    ."}},whatsapp:{confirmation:{title:"  ",subtitle:"   ",sendTo:"    :",restaurant:"",whatWillBeSent:"  :",orderDetails:"   ",customerInfo:"    ",totalPrice:"     ",timestamp:"  ",note:":",noteDescription:"      .          .",skipWhatsApp:" ",sendToWhatsApp:"  ",sending:" ..."}},recycleBin:{title:" ",titleProducts:"  ",titleBranches:" ",titleTables:" ",titleBranchProducts:"   ",titleBranchCategories:"  ",titleTableCategories:"  ",description:"     ",descriptionProducts:"   ",descriptionBranches:"  ",descriptionTables:"  ",descriptionBranchProducts:"    ",descriptionBranchCategories:"   ",descriptionTableCategories:"   ",search:"  ...",branchRestore:{title:"  ",subtitle:"    ",simpleTitle:"  ",simpleDesc:"         ",cascadeTitle:"     ",cascadeDesc:"          ",recommended:"",includeProducts:"  ",includeTables:" ",includeAll:"   "},productRestore:{title:"  ",subtitle:"   ",simpleTitle:"  ",simpleDesc:"     ",cascadeTitle:"    ",cascadeDesc:"       (Variants)   ",includeOptions:"  ",includeImages:"  ",includeAll:"   ",recommended:""},categoryRestore:{title:"  ",subtitle:"   ",simpleTitle:"  ",simpleDesc:"        ",cascadeTitle:"   ",cascadeDesc:"        ",includeOptions:"  ",includeImages:"  ",includeAll:"   ",includeProducts:"   ",recommended:""},filter:{all:" ",group1:" ( )",group2:" ( )",group1Label:"   (  )",group2Label:"   (  )",branches:"",categories:"",products:"",tables:"",branchProducts:" ",branchCategories:" ",tableCategories:" "},refresh:"",loading:" ...",stats:{group1:" ",group1Desc:"  ",group2:" ",group2Desc:"  ",totalDeleted:" ",totalDesc:"    ",filtered:" ",filteredDesc:"  ",deletedBranch:" ",deletedCategory:" ",deletedProduct:" ",extrasDesc:"   ",extras:"",deletedTable:" ",deletedBranchProduct:"  ",deletedBranchCategory:"  ",deletedTableCategory:"  ",showing:"",showingDesc:""},entityTypes:{category:"",product:"",branch:"",table:"",branchProduct:" ",branchCategory:" ",tableCategory:" ",extraCategory:" ",extra:"",other:""},contextInfo:{category:":",branch:":",restaurant:":"},deletedAt:" :",restore:{button:"",restoring:" ...",successCategory:'   "{name}" ',successProduct:'   "{name}" ',successBranch:'   "{name}" ',successTable:'   "{name}" ',successBranchCategory:'    "{name}" ',successTableCategory:'    "{name}" ',error:"  "},empty:{title:"  ",titleFiltered:"  ",description:"    ",descriptionFiltered:"     "},errors:{loadingError:"     "}},management:{title:" ",subtitle:"  ",noDataTitle:"   ",noDataMessage:"     .     .",dangerZone:{title:" ",description:"!           ."},buttons:{edit:"",cancel:"",save:" ",saving:" ...",delete:"",purge:"",viewFile:" ",viewLogo:" "},messages:{purgeSuccess:" "},resetPassword:{submitted:{title:"   ",line1:"       ",line2:"       (  !)."},form:{title:"   ",subtitle:"       .",button:"   ",emailAddress:"  ",emailPlaceholder:"you@example.com"}},setNewPassword:{form:{title:"   ",subtitle:"    .",newPassword:"  ",confirmPassword:"   ",button:"   ",errorMatch:"   .",errorLength:"      8   ."},submitted:{title:"   !",message:"      .    ."}},confirmMail:{submitted:{title:"   ",line1:"     ",line2:"       (  !)."},form:{title:"  ",subtitle:"      .",button:"  "}},sections:{restaurantDetails:" ",companyInfo:" ",taxInfo:" ",certificates:" ",additionalSettings:" "},fields:{restaurantName:" ",restaurantLogo:" ",companyTitle:" ",legalType:" ",taxNumber:" ",taxOffice:" ",mersisNumber:" MERSIS",tradeRegistry:"  ",workPermit:" ",foodCertificate:" ",logo:""},placeholders:{restaurantName:"  ",companyTitle:"  ",taxNumber:"  ",taxOffice:"  ",mersisNumber:"  MERSIS",tradeRegistry:"   ",selectLegalType:"  "},legalTypes:{llc:"   ",corporation:"",partnership:""},status:{uploaded:" ",notUploaded:"  ",available:"",notAvailable:" "},common:{na:" "}},branches:{status:{active:"",inactive:" "},fields:{branchType:" ",branchTag:" "}},restaurantsTab:{status:{active:"",inactive:" "},actions:{edit:" ",delete:" "},stats:{totalBranches:" ",active:"",inactive:" "},common:{yes:"",no:""},modal:{editTitle:" ",placeholders:{restaurantName:" ",cuisineType:" "},buttons:{update:" ",updating:" ..."}}},tabs:{restaurants:"",branches:"",management:" ",deleted:""},allergens:{GLUTEN:{name:"",description:"   "},CRUSTACEANS:{name:"",description:"  "},EGGS:{name:"",description:"  "},FISH:{name:"",description:"  "},PEANUTS:{name:" ",description:"  "},SOYBEANS:{name:" ",description:"  "},MILK:{name:"",description:"  "},NUTS:{name:"",description:"    "},CELERY:{name:"",description:"  "},MUSTARD:{name:"",description:"  "},SESAME:{name:"",description:"  "},SULPHITES:{name:"",description:"    (>10/)"},LUPIN:{name:"",description:"  "},MOLLUSCS:{name:"",description:"    "}},tableQR:{loading:{validatingQR:"    ",fetchingTableInfo:"    ..."},error:{title:"",tryAgain:"  ",sessionFeatureComingSoon:"    .",sessionStartFailed:"  ."},header:{title:" ",subtitle:"  ",active:""},welcome:{greeting:" !",connectedToTable:"   ",tableStatus:" ",occupied:"",available:"",capacity:"",person:"",people:"",session:"",sessionActive:"",sessionPending:" ",welcomeMessage:" "},actions:{viewMenu:" ",callWaiter:" "},footer:{connectedViaQR:"       "}},productCard:{chefsPick:" ",customizable:" ",addons:"+",allergens:" ",ingredients:"",inCart:" ",customizeOrder:" ",addToCart:"  ",prepTime:"- ",popular:" ",rating:".",more:""},moneyCase:{title:"  ",subtitle:"   ",selectBranch:" ",selectBranchToView:" ",branchSelector:" ",noBranches:"   ",totalRevenue:" ",periodSummary:" ",totalOrders:" ",totalTransactions:" ",openedBy:"  ",closedBy:"  ",shiftDuration:" ",showSummary:" ",hideSummary:" ",netCash:" ",netCashDesc:"     ",serviceFeeDesc:"     ",avgOrderValueDesc:"    ",totalShiftsDesc:"      ",cashDiscrepancyDesc:"       ",cashDiscrepancy:" ",totalOrdersDesc:"     ",showingResults:"  ",from:"",to:"",grossSalesDesc:"      ",operationalMetrics:" ",loadingSummary:"   ...",pleaseWait:" ",financialOverview:"  ",suggestedBalance:" ",previousCloseInfo:"  ",lastClosed:"  ",filters:{title:"",quickSelect:" ",today:"",yesterday:"",last7Days:" 7 ",last30Days:" 30 ",thisMonth:" ",lastMonth:" ",custom:"",fromDate:" ",toDate:" ",apply:"",clear:"",clearAll:" ",to:"",from:"",active:""},status:"",open:"",closed:"",todaySales:" ",todayCash:" ",todayCard:" ",currentBalance:" ",transactionCount:" ",transactions:"",avgOrderValue:"  ",totalDiscrepancy:" ",totalShifts:" ",avgShiftDuration:"  ",shiftsWithIssues:"  ",period:"",todayTotalSales:"  ",currentShiftRevenue:"  ",closedShifts:" ",ordersToday:" ",weekToDate:"    ",monthToDate:"    ",shifts:"",orders:"",openCase:" ",closeCase:" ",viewZReport:"  Z",history:" ",records:"",noHistory:"  ",noHistoryDescription:"   ",serviceFee:" ",openingBalance:" ",openingBalanceDescription:"     ",closingBalance:" ",actualCash:" ",expectedCash:" ",difference:"",surplus:"",shortage:"",notes:"",notesPlaceholder:"        ...",date:" ",openedAt:" ",closedAt:" ",lastUpdated:" ",caseId:" ",confirm:"",confirmClose:" ",cancel:"",close:"",print:"",download:"",zReport:" Z",reportDate:" ",openingInformation:" ",salesSummary:" ",closingInformation:" ",totalSales:" ",cashSales:" ",cardSales:" ",refunds:"",expenses:"",noReportData:"   ",success:{opened:"   !",closed:"   !",closedWithDifference:"   ! : {{difference}}"},error:{fetchBranches:"   ",fetchActiveCase:"     ",fetchHistory:"    ",fetchZReport:"    Z",openCase:"   ",closeCase:"   ",noBranchSelected:"   "},validation:{openingBalanceRequired:"  ",openingBalanceMin:"     0  ",actualCashRequired:"   ",actualCashMin:"     0  ",notesMaxLength:"     500 "},modal:{openTitle:"  ",openDescription:"   ",closeTitle:"  ",closeDescription:"     ",zReportTitle:" Z -  ",confirmOpenMessage:"        ",confirmCloseMessage:"              ."}},onboardingRestaurant:{backLink:"   ",progress:{step1:" ",step2:" ",step3:" "},messages:{welcome:"    .     .",success:"    !     ...",errors:{sessionNotFound:"     .     .",serverConnection:"   .     .",nameInUse:"    .    .",genericCreate:"    .    .",idNotFound:"    .    .",fileUploadGeneric:"    ",filePathError:"  :     "}},step1:{title:" ",subtitle:"   ",nameLabel:"  *",namePlaceholder:"  ",logoLabel:"  *",logoUploading:"  ...",logoSuccess:"    ",logoSuccessSub:"   Cloudinary",cuisineLabel:"  *",errors:{nameRequired:"  ",logoRequired:"  ",cuisineRequired:"  "}},step2:{title:" ",subtitle:"  ",companyTitleLabel:"   *",companyTitlePlaceholder:"   ",legalTypeLabel:"  *",legalTypePlaceholder:"  ",mersisLabel:" MERSIS",mersisPlaceholder:"  MERSIS  ",tradeRegistryLabel:"  ",tradeRegistryPlaceholder:"     ",errors:{taxNumberRequired:"  ",companyTitleRequired:"   ",mersisRequired:" MERSIS ",legalTypeRequired:"  "}},step3:{title:" ",subtitle:"   ",taxNumberLabel:"  *",taxNumberPlaceholder:"  ",taxOfficeLabel:"  *",taxOfficePlaceholder:"    ",workPermitLabel:"  ",workPermitUploading:"    ...",workPermitSuccess:"      ",foodCertificateLabel:" ",foodCertificateUploading:"   ...",foodCertificateSuccess:"     ",errors:{taxNumberRequired:"  ",taxOfficeRequired:"  "}},navigation:{previous:" ",next:" ",submit:" ",submitting:" ...",uploading:"  ..."},cuisineTypes:{0:" ",1:" ",2:" ",3:" ",4:" ",5:" ",6:" ",7:" ",8:" ",9:" ",10:" ",11:" ",12:" ",13:" ",14:" ",15:" ",16:" ",17:" ",18:" ",19:" ",20:" ",21:" ",22:" ",23:" ",24:" ",25:" ",26:" ",27:" ",28:" "},legalTypes:{as:"  (A..)",ltd:"    (Ltd. ti.)",collective:" ",partnership:"  ",sole:" ",other:""}},onboardingBranch:{header:{backLink:"   ",title:" ",subtitle:"     "},steps:{basic:" ",address:" ",contact:" "},form:{step1:{title:" ",description:"   ",branchName:{label:"  *",placeholder:"  ",error:"  "},whatsappNumber:{label:"   *",placeholder:"555 123 4567",ariaLabel:" ",errorRequired:"   ",errorInvalid:"     (7-15 )."},branchLogo:{label:"  ()",success:"    ",button:" ",buttonUploading:" ...",helper:"  PNG, JPG, GIF.   : 5 ",infoTitle:"  ",infoDescription:"          ."}},step2:{title:" ",description:"   ",country:{label:" *",placeholder:"  ",error:" "},city:{label:" *",placeholder:"  ",error:" "},street:{label:" *",placeholder:"  ",error:" "},zipCode:{label:"  *",placeholder:"  ",error:"  "},addressLine1:{label:"  1 *",placeholder:"  ",error:"  1 "},addressLine2:{label:"  2 *",placeholder:"   ",error:"  2 "}},step3:{title:" ",description:"   ",phone:{label:"  *",placeholder:"212 123 4567",ariaLabel:" ",errorRequired:"  ",errorInvalid:"     (7-15 )."},email:{label:"   *",placeholder:"   ",error:"   "},location:{label:"  *",placeholder:"   (: 40.9795, 28.7225)",error:"  ",selectOnMap:"  ",mapTitle:"   ",useCurrentLocation:"  ",latitude:" ",longitude:" ",googleMapsLink:"   ()",googleMapsLinkPlaceholder:"    ...",googleMapsLinkHelper:"       ",invalidLink:"       .   .",interactiveMap:" ",clickToPin:"    ",markerPosition:" ",openFullMap:"   ",manualCoordinates:" ",selectedCoordinates:" :",mapHelp:"  :",mapHelp1:"      ",mapHelp2:'  "  "',mapHelp3:"   ",mapHelp4:"     ",geolocationError:"   .   .",geolocationNotSupported:"      ."},contactHeader:{label:"  ()",placeholder:"   ()"},footerTitle:{label:"  ()",placeholder:"   ()"},footerDescription:{label:"  ()",placeholder:"   ()"},openTitle:{label:"   ()",placeholder:"    ()"},openDays:{label:"  ()",placeholder:"   ()"},openHours:{label:"  ()",placeholder:"   ()"},workingHours:{title:" ",description:"  .      (: 23:00 - 02:00).",openLabel:" ",closeLabel:" ",dayNames:["","","","","","",""],toggleOpen:"",toggleClosed:"",workingDayNote:"      ",overnightNote:"(  )",error:{minOneDay:"       ",allTimesRequired:"       ",invalidRange:"   : {openTime} - {closeTime}.        12 .",openBeforeClose:"     ({openTime})    ({closeTime})"},infoBox:{title:"  ",item1:"             QR  .",item2:"               .",item3:"      (: 23:00 - 02:00).       .",item4:"        12 ."}}}},buttons:{back:"",next:"",save:"",saving:" ...",cancel:"",confirm:""},messages:{errorTitle:"",successTitle:"",successMessage:"    !   ...",api:{restaurantNotFound:"     .     .",branchIdMissing:"    .    .",nameInUse:"     .    .",connectionError:"   .     .",serverError:"   .          .",genericCreateError:"    .    .",logoUploadError:"    .    ."}}},extrasManagement:{title:" ",description:"     ",searchPlaceholder:"    ...",loading:" ...",processing:" ...",buttons:{add:"",edit:"",delete:"",save:"",cancel:"",close:"",back:"",done:"",addItem:" ",createFirst:"  "},deleteModal:{titleCategory:" ",titleItem:" ",confirmMessage:'     "{name}"',warningMessage:"     .      .",confirmButton:"",processingButton:" ...",cancelButton:""},categories:{title:" ",addNew:"+   ",addCategory:"  ",editCategory:" ",noCategories:"    ",tryAdjusting:"      .",select:":",qtyLimit:" :",active:"",inactive:" ",required:"",fields:{categoryName:" ",categoryNamePlaceholder:":  ",statusLabel:" ",requiredLabel:"  ",selectionRules:" ",minSelection:"  ",maxSelection:"  ",minQuantity:"  ",maxQuantity:"  ",removalCategoryLabel:"  ()"}},extras:{title:"",addExtra:"  ",editExtra:" ",noItems:"      .",noDescription:"  ",fields:{parentCategory:" ",selectCategory:" ...",itemName:" ",itemNamePlaceholder:" ",price:"",description:"",descriptionPlaceholder:" ...",imageLabel:" ",uploadText:"  ",activeLabel:"",removalLabel:"  ()"}},productExtras:{manageCategories:"  ",manageExtras:" ",addCategory:" ",addExtra:" ",selectCategory:" ",chooseCategory:" ...",selectExtra:" ",chooseExtra:" ...",noCategoriesYet:"    ",noExtrasYet:"    ",confirmDelete:"      ",confirmDeleteExtra:"      ",unknownCategory:"  ",unknownExtra:"  ",confirm:"",selection:"",quantity:"",required:"",optional:"",basePrice:" ",unitPrice:" ",selectionMode:" ",single:"",multiple:"",requiredExtra:" ",defaultQty:" ",minQty:" ",maxQty:" ",qty:"",minSelection:"  ",maxSelection:"  ",minQuantity:"  ",maxQuantity:"  ",selectionLimits:" ",quantityLimits:" ",minSelectLabel:" ",maxSelectLabel:" ",minTotalLabel:"  ",maxTotalLabel:"  "},recycleBin:{title:" ",empty:"  ",restore:"",permanentDelete:" ",confirmRestore:'   "{name}"',confirmPermanentDelete:'   "{name}"       .'},errors:{loadCategories:"   ",loadExtras:"   ",uploadImage:"   ",deleteFailed:"  ",loadFailed:"  ",saveFailed:"  ",updateFailed:"  ",restoreFailed:"  "},success:{categoryAdded:"   ",categoryUpdated:"   ",categoryDeleted:"   ",extraAdded:"   ",extraUpdated:"   ",extraDeleted:"   ",restored:"  "},categoryConfigModal:{title:"  ",productLabel:"  :",searchPlaceholder:"  ...",errors:{loadFailed:"   ",saveFailed:"  ",generic:"  "},stats:{selectedCategories:"",selectedExtras:"",available:" "},loading:{categories:"   ..."},empty:{noResults:"    ",noCategories:"    "},badges:{required:"",optional:"",removal:""},category:{availableExtras:" ",configurationTitle:" ",selectExtrasTitle:" ",selectCategoryWarning:"      "},fields:{minSelection:" ",maxSelection:" ",minQuantity:"  ",maxQuantity:"  ",overrideRequired:'  ""',specialPrice:" ",minQty:" ",maxQty:" ",required:""},labels:{originalPrice:"",removesIngredient:" ",extraConfiguration:" "},placeholders:{defaultPrice:""},messages:{removalPriceWarning:"     "},footer:{categoriesSelected:" ",cancel:"",save:" ",saving:" ..."}}},onboardingComplete:{title:"  !",message:"     .      ...",redirectingIn:"  "},countries:{afghanistan:"",albania:"",algeria:"",andorra:"",angola:"",argentina:"",armenia:"",australia:"",austria:"",azerbaijan:"",bahamas:" ",bahrain:"",bangladesh:"",barbados:"",belarus:"",belgium:"",belize:"",benin:"",bhutan:"",bolivia:"",bosnia:" ",botswana:"",brazil:"",brunei:"",bulgaria:"",burkina_faso:" ",burundi:"",cambodia:"",cameroon:"",canada:"",cape_verde:" ",central_african_republic:"  ",chad:"",chile:"",china:"",colombia:"",comoros:" ",congo:"",costa_rica:"",croatia:"",cuba:"",cyprus:"",czech_republic:"",denmark:"",djibouti:"",dominica:"",dominican_republic:" ",ecuador:"",egypt:"",el_salvador:"",equatorial_guinea:" ",eritrea:"",estonia:"",ethiopia:"",fiji:"",finland:"",france:"",gabon:"",gambia:"",georgia:"",germany:"",ghana:"",greece:"",grenada:"",guatemala:"",guinea:"",guinea_bissau:" ",guyana:"",haiti:"",honduras:"",hungary:"",iceland:"",india:"",indonesia:"",iran:"",iraq:"",ireland:"",israel:"",italy:"",jamaica:"",japan:"",jordan:"",kazakhstan:"",kenya:"",kiribati:"",kuwait:"",kyrgyzstan:"",laos:"",latvia:"",lebanon:"",lesotho:"",liberia:"",libya:"",liechtenstein:"",lithuania:"",luxembourg:"",madagascar:"",malawi:"",malaysia:"",maldives:" ",mali:"",malta:"",marshall_islands:" ",mauritania:"",mauritius:"",mexico:"",micronesia:"",moldova:"",monaco:"",mongolia:"",montenegro:" ",morocco:"",mozambique:"",myanmar:"",namibia:"",nauru:"",nepal:"",netherlands:"",new_zealand:"",nicaragua:"",niger:"",nigeria:"",north_korea:" ",north_macedonia:" ",norway:"",oman:"",pakistan:"",palau:"",palestine:"",panama:"",papua_new_guinea:"  ",paraguay:"",peru:"",philippines:"",poland:"",portugal:"",qatar:"",romania:"",russia:"",rwanda:"",saint_kitts:"  ",saint_lucia:" ",saint_vincent:"  ",samoa:"",san_marino:" ",sao_tome:"  ",saudi_arabia:"",senegal:"",serbia:"",seychelles:"",sierra_leone:"",singapore:"",slovakia:"",slovenia:"",solomon_islands:" ",somalia:"",south_africa:" ",south_korea:" ",south_sudan:" ",spain:"",sri_lanka:"",sudan:"",suriname:"",sweden:"",switzerland:"",syria:"",taiwan:"",tajikistan:"",tanzania:"",thailand:"",timor_leste:" ",togo:"",tonga:"",trinidad:" ",tunisia:"",turkey:"",turkmenistan:"",tuvalu:"",uganda:"",ukraine:"",uae:"  ",united_kingdom:" ",united_states:" ",uruguay:"",uzbekistan:"",vanuatu:"",vatican:"",venezuela:"",vietnam:"",yemen:"",zambia:"",zimbabwe:""}},y8={tr:f8,en:p8,ar:x8},g_=p.createContext(void 0),Ze=()=>{const e=p.useContext(g_);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},b8=({children:e})=>{const[t,a]=p.useState(()=>{const l=localStorage.getItem("language");return l&&["tr","en","ar"].includes(l)?l:"tr"}),n=t==="ar";p.useEffect(()=>{document.documentElement.dir=n?"rtl":"ltr",document.documentElement.lang=t,localStorage.setItem("language",t)},[t,n]);const o={language:t,setLanguage:l=>{a(l)},isRTL:n,t:(l,d)=>{const c=l.split(".");let g=y8[t];for(const x of c)g=g?.[x];let h=typeof g=="string"?g:l;return d&&Object.entries(d).forEach(([x,b])=>{h=h.replace(new RegExp(`{${x}}`,"g"),String(b))}),h}};return r.jsx(g_.Provider,{value:o,children:e})},Kg=({children:e})=>{const t=gs(),a=localStorage.getItem("token"),n=localStorage.getItem("tokenExpiry");if(!a||!n)return r.jsx(qp,{to:"/login",state:{from:t},replace:!0});try{if(new Date(n)<=new Date)return localStorage.removeItem("token"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("userId"),r.jsx(qp,{to:"/login",state:{from:t},replace:!0})}catch{return localStorage.removeItem("token"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("userId"),r.jsx(qp,{to:"/login",state:{from:t},replace:!0})}return e},h_=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),$y=p.createContext({}),Fy=p.createContext(null),zy=typeof document<"u",V1=zy?p.useLayoutEffect:p.useEffect,f_=p.createContext({strict:!1}),H1=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),v8="framerAppearId",p_="data-"+H1(v8);function k8(e,t,a,n){const{visualElement:s}=p.useContext($y),i=p.useContext(f_),o=p.useContext(Fy),l=p.useContext(h_).reducedMotion,d=p.useRef();n=n||i.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:s,props:a,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=d.current;p.useInsertionEffect(()=>{c&&c.update(a,o)});const g=p.useRef(!!(a[p_]&&!window.HandoffComplete));return V1(()=>{c&&(c.render(),g.current&&c.animationState&&c.animationState.animateChanges())}),p.useEffect(()=>{c&&(c.updateFeatures(),!g.current&&c.animationState&&c.animationState.animateChanges(),g.current&&(g.current=!1,window.HandoffComplete=!0))}),c}function im(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function w8(e,t,a){return p.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),a&&(typeof a=="function"?a(n):im(a)&&(a.current=n))},[t])}function Ih(e){return typeof e=="string"||Array.isArray(e)}function Uy(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const W1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],K1=["initial",...W1];function qy(e){return Uy(e.animate)||K1.some(t=>Ih(e[t]))}function x_(e){return!!(qy(e)||e.variants)}function j8(e,t){if(qy(e)){const{initial:a,animate:n}=e;return{initial:a===!1||Ih(a)?a:void 0,animate:Ih(n)?n:void 0}}return e.inherit!==!1?t:{}}function N8(e){const{initial:t,animate:a}=j8(e,p.useContext($y));return p.useMemo(()=>({initial:t,animate:a}),[$4(t),$4(a)])}function $4(e){return Array.isArray(e)?e.join(" "):e}const F4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ah={};for(const e in F4)Ah[e]={isEnabled:t=>F4[e].some(a=>!!t[a])};function C8(e){for(const t in e)Ah[t]={...Ah[t],...e[t]}}const Q1=p.createContext({}),y_=p.createContext({}),S8=Symbol.for("motionComponentSymbol");function P8({preloadedFeatures:e,createVisualElement:t,useRender:a,useVisualState:n,Component:s}){e&&C8(e);function i(l,d){let c;const g={...p.useContext(h_),...l,layoutId:M8(l)},{isStatic:h}=g,x=N8(l),b=n(l,h);if(!h&&zy){x.visualElement=k8(s,b,g,t);const v=p.useContext(y_),j=p.useContext(f_).strict;x.visualElement&&(c=x.visualElement.loadFeatures(g,j,e,v))}return p.createElement($y.Provider,{value:x},c&&x.visualElement?p.createElement(c,{visualElement:x.visualElement,...g}):null,a(s,l,w8(b,x.visualElement,d),b,h,x.visualElement))}const o=p.forwardRef(i);return o[S8]=s,o}function M8({layoutId:e}){const t=p.useContext(Q1).id;return t&&e!==void 0?t+"-"+e:e}function T8(e){function t(n,s={}){return P8(e(n,s))}if(typeof Proxy>"u")return t;const a=new Map;return new Proxy(t,{get:(n,s)=>(a.has(s)||a.set(s,t(s)),a.get(s))})}const I8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function G1(e){return typeof e!="string"||e.includes("-")?!1:!!(I8.indexOf(e)>-1||/[A-Z]/.test(e))}const hx={};function A8(e){Object.assign(hx,e)}const o0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mu=new Set(o0);function b_(e,{layout:t,layoutId:a}){return mu.has(e)||e.startsWith("origin")||(t||a!==void 0)&&(!!hx[e]||e==="opacity")}const Ys=e=>!!(e&&e.getVelocity),E8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_8=o0.length;function O8(e,{enableHardwareAcceleration:t=!0,allowTransformNone:a=!0},n,s){let i="";for(let o=0;o<_8;o++){const l=o0[o];if(e[l]!==void 0){const d=E8[l]||l;i+=`${d}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,n?"":i):a&&n&&(i="none"),i}const v_=e=>t=>typeof t=="string"&&t.startsWith(e),k_=v_("--"),rN=v_("var(--"),R8=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,D8=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Qd=(e,t,a)=>Math.min(Math.max(a,e),t),gu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},yh={...gu,transform:e=>Qd(0,1,e)},op={...gu,default:1},bh=e=>Math.round(e*1e5)/1e5,Vy=/(-)?([\d]*\.?[\d])+/g,w_=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,B8=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function l0(e){return typeof e=="string"}const d0=e=>({test:t=>l0(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Bd=d0("deg"),Xo=d0("%"),or=d0("px"),L8=d0("vh"),$8=d0("vw"),z4={...Xo,parse:e=>Xo.parse(e)/100,transform:e=>Xo.transform(e*100)},U4={...gu,transform:Math.round},j_={borderWidth:or,borderTopWidth:or,borderRightWidth:or,borderBottomWidth:or,borderLeftWidth:or,borderRadius:or,radius:or,borderTopLeftRadius:or,borderTopRightRadius:or,borderBottomRightRadius:or,borderBottomLeftRadius:or,width:or,maxWidth:or,height:or,maxHeight:or,size:or,top:or,right:or,bottom:or,left:or,padding:or,paddingTop:or,paddingRight:or,paddingBottom:or,paddingLeft:or,margin:or,marginTop:or,marginRight:or,marginBottom:or,marginLeft:or,rotate:Bd,rotateX:Bd,rotateY:Bd,rotateZ:Bd,scale:op,scaleX:op,scaleY:op,scaleZ:op,skew:Bd,skewX:Bd,skewY:Bd,distance:or,translateX:or,translateY:or,translateZ:or,x:or,y:or,z:or,perspective:or,transformPerspective:or,opacity:yh,originX:z4,originY:z4,originZ:or,zIndex:U4,fillOpacity:yh,strokeOpacity:yh,numOctaves:U4};function Y1(e,t,a,n){const{style:s,vars:i,transform:o,transformOrigin:l}=e;let d=!1,c=!1,g=!0;for(const h in t){const x=t[h];if(k_(h)){i[h]=x;continue}const b=j_[h],v=D8(x,b);if(mu.has(h)){if(d=!0,o[h]=v,!g)continue;x!==(b.default||0)&&(g=!1)}else h.startsWith("origin")?(c=!0,l[h]=v):s[h]=v}if(t.transform||(d||n?s.transform=O8(e.transform,a,g,n):s.transform&&(s.transform="none")),c){const{originX:h="50%",originY:x="50%",originZ:b=0}=l;s.transformOrigin=`${h} ${x} ${b}`}}const Z1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function N_(e,t,a){for(const n in t)!Ys(t[n])&&!b_(n,a)&&(e[n]=t[n])}function F8({transformTemplate:e},t,a){return p.useMemo(()=>{const n=Z1();return Y1(n,t,{enableHardwareAcceleration:!a},e),Object.assign({},n.vars,n.style)},[t])}function z8(e,t,a){const n=e.style||{},s={};return N_(s,n,e),Object.assign(s,F8(e,t,a)),e.transformValues?e.transformValues(s):s}function U8(e,t,a){const n={},s=z8(e,t,a);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const q8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fx(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||q8.has(e)}let C_=e=>!fx(e);function V8(e){e&&(C_=t=>t.startsWith("on")?!fx(t):e(t))}try{V8(require("@emotion/is-prop-valid").default)}catch{}function H8(e,t,a){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(C_(s)||a===!0&&fx(s)||!t&&!fx(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function q4(e,t,a){return typeof e=="string"?e:or.transform(t+a*e)}function W8(e,t,a){const n=q4(t,e.x,e.width),s=q4(a,e.y,e.height);return`${n} ${s}`}const K8={offset:"stroke-dashoffset",array:"stroke-dasharray"},Q8={offset:"strokeDashoffset",array:"strokeDasharray"};function G8(e,t,a=1,n=0,s=!0){e.pathLength=1;const i=s?K8:Q8;e[i.offset]=or.transform(-n);const o=or.transform(t),l=or.transform(a);e[i.array]=`${o} ${l}`}function X1(e,{attrX:t,attrY:a,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:d=0,...c},g,h,x){if(Y1(e,c,g,x),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:b,style:v,dimensions:j}=e;b.transform&&(j&&(v.transform=b.transform),delete b.transform),j&&(s!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=W8(j,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(b.x=t),a!==void 0&&(b.y=a),n!==void 0&&(b.scale=n),o!==void 0&&G8(b,o,l,d,!1)}const S_=()=>({...Z1(),attrs:{}}),J1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Y8(e,t,a,n){const s=p.useMemo(()=>{const i=S_();return X1(i,t,{enableHardwareAcceleration:!1},J1(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};N_(i,e.style,e),s.style={...i,...s.style}}return s}function Z8(e=!1){return(a,n,s,{latestValues:i},o)=>{const d=(G1(a)?Y8:U8)(n,i,o,a),g={...H8(n,typeof a=="string",e),...d,ref:s},{children:h}=n,x=p.useMemo(()=>Ys(h)?h.get():h,[h]);return p.createElement(a,{...g,children:x})}}function P_(e,{style:t,vars:a},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in a)e.style.setProperty(i,a[i])}const M_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function T_(e,t,a,n){P_(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(M_.has(s)?s:H1(s),t.attrs[s])}function e2(e,t){const{style:a}=e,n={};for(const s in a)(Ys(a[s])||t.style&&Ys(t.style[s])||b_(s,e))&&(n[s]=a[s]);return n}function I_(e,t){const a=e2(e,t);for(const n in e)if(Ys(e[n])||Ys(t[n])){const s=o0.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;a[s]=e[n]}return a}function t2(e,t,a,n={},s={}){return typeof t=="function"&&(t=t(a!==void 0?a:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(a!==void 0?a:e.custom,n,s)),t}function A_(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const px=e=>Array.isArray(e),X8=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),J8=e=>px(e)?e[e.length-1]||0:e;function Wp(e){const t=Ys(e)?e.get():e;return X8(t)?t.toValue():t}function eU({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:a},n,s,i){const o={latestValues:tU(n,s,i,e),renderState:t()};return a&&(o.mount=l=>a(n,l,o)),o}const E_=e=>(t,a)=>{const n=p.useContext($y),s=p.useContext(Fy),i=()=>eU(e,t,n,s);return a?i():A_(i)};function tU(e,t,a,n){const s={},i=n(e,{});for(const x in i)s[x]=Wp(i[x]);let{initial:o,animate:l}=e;const d=qy(e),c=x_(e);t&&c&&!d&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let g=a?a.initial===!1:!1;g=g||o===!1;const h=g?l:o;return h&&typeof h!="boolean"&&!Uy(h)&&(Array.isArray(h)?h:[h]).forEach(b=>{const v=t2(e,b);if(!v)return;const{transitionEnd:j,transition:w,...S}=v;for(const M in S){let T=S[M];if(Array.isArray(T)){const A=g?T.length-1:0;T=T[A]}T!==null&&(s[M]=T)}for(const M in j)s[M]=j[M]}),s}const Qa=e=>e;class V4{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const a=this.order.indexOf(t);a!==-1&&(this.order.splice(a,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function rU(e){let t=new V4,a=new V4,n=0,s=!1,i=!1;const o=new WeakSet,l={schedule:(d,c=!1,g=!1)=>{const h=g&&s,x=h?t:a;return c&&o.add(d),x.add(d)&&h&&s&&(n=t.order.length),d},cancel:d=>{a.remove(d),o.delete(d)},process:d=>{if(s){i=!0;return}if(s=!0,[t,a]=[a,t],a.clear(),n=t.order.length,n)for(let c=0;c<n;c++){const g=t.order[c];g(d),o.has(g)&&(l.schedule(g),e())}s=!1,i&&(i=!1,l.process(d))}};return l}const lp=["prepare","read","update","preRender","render","postRender"],aU=40;function nU(e,t){let a=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=lp.reduce((h,x)=>(h[x]=rU(()=>a=!0),h),{}),o=h=>i[h].process(s),l=()=>{const h=performance.now();a=!1,s.delta=n?1e3/60:Math.max(Math.min(h-s.timestamp,aU),1),s.timestamp=h,s.isProcessing=!0,lp.forEach(o),s.isProcessing=!1,a&&t&&(n=!1,e(l))},d=()=>{a=!0,n=!0,s.isProcessing||e(l)};return{schedule:lp.reduce((h,x)=>{const b=i[x];return h[x]=(v,j=!1,w=!1)=>(a||d(),b.schedule(v,j,w)),h},{}),cancel:h=>lp.forEach(x=>i[x].cancel(h)),state:s,steps:i}}const{schedule:ga,cancel:Hl,state:as,steps:Lk}=nU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qa,!0),sU={useVisualState:E_({scrapeMotionValuesFromProps:I_,createRenderState:S_,onMount:(e,t,{renderState:a,latestValues:n})=>{ga.read(()=>{try{a.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{a.dimensions={x:0,y:0,width:0,height:0}}}),ga.render(()=>{X1(a,n,{enableHardwareAcceleration:!1},J1(t.tagName),e.transformTemplate),T_(t,a)})}})},iU={useVisualState:E_({scrapeMotionValuesFromProps:e2,createRenderState:Z1})};function oU(e,{forwardMotionProps:t=!1},a,n){return{...G1(e)?sU:iU,preloadedFeatures:a,useRender:Z8(t),createVisualElement:n,Component:e}}function Rl(e,t,a,n={passive:!0}){return e.addEventListener(t,a,n),()=>e.removeEventListener(t,a)}const __=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Hy(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const lU=e=>t=>__(t)&&e(t,Hy(t));function $l(e,t,a,n){return Rl(e,t,lU(a),n)}const dU=(e,t)=>a=>t(e(a)),Wd=(...e)=>e.reduce(dU);function O_(e){let t=null;return()=>{const a=()=>{t=null};return t===null?(t=e,a):!1}}const H4=O_("dragHorizontal"),W4=O_("dragVertical");function R_(e){let t=!1;if(e==="y")t=W4();else if(e==="x")t=H4();else{const a=H4(),n=W4();a&&n?t=()=>{a(),n()}:(a&&a(),n&&n())}return t}function D_(){const e=R_(!0);return e?(e(),!1):!0}class rc{constructor(t){this.isMounted=!1,this.node=t}update(){}}function K4(e,t){const a="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||D_())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&ga.update(()=>l[n](i,o))};return $l(e.current,a,s,{passive:!e.getProps()[n]})}class cU extends rc{mount(){this.unmount=Wd(K4(this.node,!0),K4(this.node,!1))}unmount(){}}class uU extends rc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wd(Rl(this.node.current,"focus",()=>this.onFocus()),Rl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const B_=(e,t)=>t?e===t?!0:B_(e,t.parentElement):!1;function $k(e,t){if(!t)return;const a=new PointerEvent("pointer"+e);t(a,Hy(a))}class mU extends rc{constructor(){super(...arguments),this.removeStartListeners=Qa,this.removeEndListeners=Qa,this.removeAccessibleListeners=Qa,this.startPointerPress=(t,a)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=$l(window,"pointerup",(l,d)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:g,globalTapTarget:h}=this.node.getProps();ga.update(()=>{!h&&!B_(this.node.current,l.target)?g&&g(l,d):c&&c(l,d)})},{passive:!(n.onTap||n.onPointerUp)}),o=$l(window,"pointercancel",(l,d)=>this.cancelPress(l,d),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Wd(i,o),this.startPress(t,a)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||$k("up",(d,c)=>{const{onTap:g}=this.node.getProps();g&&ga.update(()=>g(d,c))})};this.removeEndListeners(),this.removeEndListeners=Rl(this.node.current,"keyup",o),$k("down",(l,d)=>{this.startPress(l,d)})},a=Rl(this.node.current,"keydown",t),n=()=>{this.isPressing&&$k("cancel",(i,o)=>this.cancelPress(i,o))},s=Rl(this.node.current,"blur",n);this.removeAccessibleListeners=Wd(a,s)}}startPress(t,a){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&ga.update(()=>n(t,a))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!D_()}cancelPress(t,a){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&ga.update(()=>n(t,a))}mount(){const t=this.node.getProps(),a=$l(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Rl(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Wd(a,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const aN=new WeakMap,Fk=new WeakMap,gU=e=>{const t=aN.get(e.target);t&&t(e)},hU=e=>{e.forEach(gU)};function fU({root:e,...t}){const a=e||document;Fk.has(a)||Fk.set(a,{});const n=Fk.get(a),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(hU,{root:e,...t})),n[s]}function pU(e,t,a){const n=fU(t);return aN.set(e,a),n.observe(e),()=>{aN.delete(e),n.unobserve(e)}}const xU={some:0,all:1};class yU extends rc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:n,amount:s="some",once:i}=t,o={root:a?a.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:xU[s]},l=d=>{const{isIntersecting:c}=d;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:g,onViewportLeave:h}=this.node.getProps(),x=c?g:h;x&&x(d)};return pU(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(bU(t,a))&&this.startObserver()}unmount(){}}function bU({viewport:e={}},{viewport:t={}}={}){return a=>e[a]!==t[a]}const vU={inView:{Feature:yU},tap:{Feature:mU},focus:{Feature:uU},hover:{Feature:cU}};function L_(e,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==e.length)return!1;for(let n=0;n<a;n++)if(t[n]!==e[n])return!1;return!0}function kU(e){const t={};return e.values.forEach((a,n)=>t[n]=a.get()),t}function wU(e){const t={};return e.values.forEach((a,n)=>t[n]=a.getVelocity()),t}function Wy(e,t,a){const n=e.getProps();return t2(n,t,a!==void 0?a:n.custom,kU(e),wU(e))}let r2=Qa;const Vc=e=>e*1e3,Fl=e=>e/1e3,jU={current:!1},$_=e=>Array.isArray(e)&&typeof e[0]=="number";function F_(e){return!!(!e||typeof e=="string"&&z_[e]||$_(e)||Array.isArray(e)&&e.every(F_))}const gh=([e,t,a,n])=>`cubic-bezier(${e}, ${t}, ${a}, ${n})`,z_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gh([0,.65,.55,1]),circOut:gh([.55,0,1,.45]),backIn:gh([.31,.01,.66,-.59]),backOut:gh([.33,1.53,.69,.99])};function U_(e){if(e)return $_(e)?gh(e):Array.isArray(e)?e.map(U_):z_[e]}function NU(e,t,a,{delay:n=0,duration:s,repeat:i=0,repeatType:o="loop",ease:l,times:d}={}){const c={[t]:a};d&&(c.offset=d);const g=U_(l);return Array.isArray(g)&&(c.easing=g),e.animate(c,{delay:n,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function CU(e,{repeat:t,repeatType:a="loop"}){const n=t&&a!=="loop"&&t%2===1?0:e.length-1;return e[n]}const q_=(e,t,a)=>(((1-3*a+3*t)*e+(3*a-6*t))*e+3*t)*e,SU=1e-7,PU=12;function MU(e,t,a,n,s){let i,o,l=0;do o=t+(a-t)/2,i=q_(o,n,s)-e,i>0?a=o:t=o;while(Math.abs(i)>SU&&++l<PU);return o}function c0(e,t,a,n){if(e===t&&a===n)return Qa;const s=i=>MU(i,0,1,e,a);return i=>i===0||i===1?i:q_(s(i),t,n)}const TU=c0(.42,0,1,1),IU=c0(0,0,.58,1),V_=c0(.42,0,.58,1),AU=e=>Array.isArray(e)&&typeof e[0]!="number",H_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,W_=e=>t=>1-e(1-t),a2=e=>1-Math.sin(Math.acos(e)),K_=W_(a2),EU=H_(a2),Q_=c0(.33,1.53,.69,.99),n2=W_(Q_),_U=H_(n2),OU=e=>(e*=2)<1?.5*n2(e):.5*(2-Math.pow(2,-10*(e-1))),RU={linear:Qa,easeIn:TU,easeInOut:V_,easeOut:IU,circIn:a2,circInOut:EU,circOut:K_,backIn:n2,backInOut:_U,backOut:Q_,anticipate:OU},Q4=e=>{if(Array.isArray(e)){r2(e.length===4);const[t,a,n,s]=e;return c0(t,a,n,s)}else if(typeof e=="string")return RU[e];return e},s2=(e,t)=>a=>!!(l0(a)&&B8.test(a)&&a.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(a,t)),G_=(e,t,a)=>n=>{if(!l0(n))return n;const[s,i,o,l]=n.match(Vy);return{[e]:parseFloat(s),[t]:parseFloat(i),[a]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},DU=e=>Qd(0,255,e),zk={...gu,transform:e=>Math.round(DU(e))},Dc={test:s2("rgb","red"),parse:G_("red","green","blue"),transform:({red:e,green:t,blue:a,alpha:n=1})=>"rgba("+zk.transform(e)+", "+zk.transform(t)+", "+zk.transform(a)+", "+bh(yh.transform(n))+")"};function BU(e){let t="",a="",n="",s="";return e.length>5?(t=e.substring(1,3),a=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),a=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,a+=a,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const nN={test:s2("#"),parse:BU,transform:Dc.transform},om={test:s2("hsl","hue"),parse:G_("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:a,alpha:n=1})=>"hsla("+Math.round(e)+", "+Xo.transform(bh(t))+", "+Xo.transform(bh(a))+", "+bh(yh.transform(n))+")"},ks={test:e=>Dc.test(e)||nN.test(e)||om.test(e),parse:e=>Dc.test(e)?Dc.parse(e):om.test(e)?om.parse(e):nN.parse(e),transform:e=>l0(e)?e:e.hasOwnProperty("red")?Dc.transform(e):om.transform(e)},_a=(e,t,a)=>-a*e+a*t+e;function Uk(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+(t-e)*6*a:a<1/2?t:a<2/3?e+(t-e)*(2/3-a)*6:e}function LU({hue:e,saturation:t,lightness:a,alpha:n}){e/=360,t/=100,a/=100;let s=0,i=0,o=0;if(!t)s=i=o=a;else{const l=a<.5?a*(1+t):a+t-a*t,d=2*a-l;s=Uk(d,l,e+1/3),i=Uk(d,l,e),o=Uk(d,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const qk=(e,t,a)=>{const n=e*e;return Math.sqrt(Math.max(0,a*(t*t-n)+n))},$U=[nN,Dc,om],FU=e=>$U.find(t=>t.test(e));function G4(e){const t=FU(e);let a=t.parse(e);return t===om&&(a=LU(a)),a}const Y_=(e,t)=>{const a=G4(e),n=G4(t),s={...a};return i=>(s.red=qk(a.red,n.red,i),s.green=qk(a.green,n.green,i),s.blue=qk(a.blue,n.blue,i),s.alpha=_a(a.alpha,n.alpha,i),Dc.transform(s))};function zU(e){var t,a;return isNaN(e)&&l0(e)&&(((t=e.match(Vy))===null||t===void 0?void 0:t.length)||0)+(((a=e.match(w_))===null||a===void 0?void 0:a.length)||0)>0}const Z_={regex:R8,countKey:"Vars",token:"${v}",parse:Qa},X_={regex:w_,countKey:"Colors",token:"${c}",parse:ks.parse},J_={regex:Vy,countKey:"Numbers",token:"${n}",parse:gu.parse};function Vk(e,{regex:t,countKey:a,token:n,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+a]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(s)))}function xx(e){const t=e.toString(),a={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return a.value.includes("var(--")&&Vk(a,Z_),Vk(a,X_),Vk(a,J_),a}function eO(e){return xx(e).values}function tO(e){const{values:t,numColors:a,numVars:n,tokenised:s}=xx(e),i=t.length;return o=>{let l=s;for(let d=0;d<i;d++)d<n?l=l.replace(Z_.token,o[d]):d<n+a?l=l.replace(X_.token,ks.transform(o[d])):l=l.replace(J_.token,bh(o[d]));return l}}const UU=e=>typeof e=="number"?0:e;function qU(e){const t=eO(e);return tO(e)(t.map(UU))}const Gd={test:zU,parse:eO,createTransformer:tO,getAnimatableNone:qU},rO=(e,t)=>a=>`${a>0?t:e}`;function aO(e,t){return typeof e=="number"?a=>_a(e,t,a):ks.test(e)?Y_(e,t):e.startsWith("var(")?rO(e,t):sO(e,t)}const nO=(e,t)=>{const a=[...e],n=a.length,s=e.map((i,o)=>aO(i,t[o]));return i=>{for(let o=0;o<n;o++)a[o]=s[o](i);return a}},VU=(e,t)=>{const a={...e,...t},n={};for(const s in a)e[s]!==void 0&&t[s]!==void 0&&(n[s]=aO(e[s],t[s]));return s=>{for(const i in n)a[i]=n[i](s);return a}},sO=(e,t)=>{const a=Gd.createTransformer(t),n=xx(e),s=xx(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?Wd(nO(n.values,s.values),a):rO(e,t)},Eh=(e,t,a)=>{const n=t-e;return n===0?1:(a-e)/n},Y4=(e,t)=>a=>_a(e,t,a);function HU(e){return typeof e=="number"?Y4:typeof e=="string"?ks.test(e)?Y_:sO:Array.isArray(e)?nO:typeof e=="object"?VU:Y4}function WU(e,t,a){const n=[],s=a||HU(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const d=Array.isArray(t)?t[o]||Qa:t;l=Wd(d,l)}n.push(l)}return n}function iO(e,t,{clamp:a=!0,ease:n,mixer:s}={}){const i=e.length;if(r2(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=WU(t,n,s),l=o.length,d=c=>{let g=0;if(l>1)for(;g<e.length-2&&!(c<e[g+1]);g++);const h=Eh(e[g],e[g+1],c);return o[g](h)};return a?c=>d(Qd(e[0],e[i-1],c)):d}function KU(e,t){const a=e[e.length-1];for(let n=1;n<=t;n++){const s=Eh(0,t,n);e.push(_a(a,1,s))}}function QU(e){const t=[0];return KU(t,e.length-1),t}function GU(e,t){return e.map(a=>a*t)}function YU(e,t){return e.map(()=>t||V_).splice(0,e.length-1)}function yx({duration:e=300,keyframes:t,times:a,ease:n="easeInOut"}){const s=AU(n)?n.map(Q4):Q4(n),i={done:!1,value:t[0]},o=GU(a&&a.length===t.length?a:QU(t),e),l=iO(o,t,{ease:Array.isArray(s)?s:YU(t,s)});return{calculatedDuration:e,next:d=>(i.value=l(d),i.done=d>=e,i)}}function oO(e,t){return t?e*(1e3/t):0}const ZU=5;function lO(e,t,a){const n=Math.max(t-ZU,0);return oO(a-e(n),t-n)}const Hk=.001,XU=.01,JU=10,eq=.05,tq=1;function rq({duration:e=800,bounce:t=.25,velocity:a=0,mass:n=1}){let s,i,o=1-t;o=Qd(eq,tq,o),e=Qd(XU,JU,Fl(e)),o<1?(s=c=>{const g=c*o,h=g*e,x=g-a,b=sN(c,o),v=Math.exp(-h);return Hk-x/b*v},i=c=>{const h=c*o*e,x=h*a+a,b=Math.pow(o,2)*Math.pow(c,2)*e,v=Math.exp(-h),j=sN(Math.pow(c,2),o);return(-s(c)+Hk>0?-1:1)*((x-b)*v)/j}):(s=c=>{const g=Math.exp(-c*e),h=(c-a)*e+1;return-Hk+g*h},i=c=>{const g=Math.exp(-c*e),h=(a-c)*(e*e);return g*h});const l=5/e,d=nq(s,i,l);if(e=Vc(e),isNaN(d))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(d,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:e}}}const aq=12;function nq(e,t,a){let n=a;for(let s=1;s<aq;s++)n=n-e(n)/t(n);return n}function sN(e,t){return e*Math.sqrt(1-t*t)}const sq=["duration","bounce"],iq=["stiffness","damping","mass"];function Z4(e,t){return t.some(a=>e[a]!==void 0)}function oq(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Z4(e,iq)&&Z4(e,sq)){const a=rq(e);t={...t,...a,mass:1},t.isResolvedFromDuration=!0}return t}function dO({keyframes:e,restDelta:t,restSpeed:a,...n}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:l,damping:d,mass:c,duration:g,velocity:h,isResolvedFromDuration:x}=oq({...n,velocity:-Fl(n.velocity||0)}),b=h||0,v=d/(2*Math.sqrt(l*c)),j=i-s,w=Fl(Math.sqrt(l/c)),S=Math.abs(j)<5;a||(a=S?.01:2),t||(t=S?.005:.5);let M;if(v<1){const T=sN(w,v);M=A=>{const I=Math.exp(-v*w*A);return i-I*((b+v*w*j)/T*Math.sin(T*A)+j*Math.cos(T*A))}}else if(v===1)M=T=>i-Math.exp(-w*T)*(j+(b+w*j)*T);else{const T=w*Math.sqrt(v*v-1);M=A=>{const I=Math.exp(-v*w*A),_=Math.min(T*A,300);return i-I*((b+v*w*j)*Math.sinh(_)+T*j*Math.cosh(_))/T}}return{calculatedDuration:x&&g||null,next:T=>{const A=M(T);if(x)o.done=T>=g;else{let I=b;T!==0&&(v<1?I=lO(M,T,A):I=0);const _=Math.abs(I)<=a,D=Math.abs(i-A)<=t;o.done=_&&D}return o.value=o.done?i:A,o}}}function X4({keyframes:e,velocity:t=0,power:a=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:d,restDelta:c=.5,restSpeed:g}){const h=e[0],x={done:!1,value:h},b=E=>l!==void 0&&E<l||d!==void 0&&E>d,v=E=>l===void 0?d:d===void 0||Math.abs(l-E)<Math.abs(d-E)?l:d;let j=a*t;const w=h+j,S=o===void 0?w:o(w);S!==w&&(j=S-h);const M=E=>-j*Math.exp(-E/n),T=E=>S+M(E),A=E=>{const X=M(E),ee=T(E);x.done=Math.abs(X)<=c,x.value=x.done?S:ee};let I,_;const D=E=>{b(x.value)&&(I=E,_=dO({keyframes:[x.value,v(x.value)],velocity:lO(T,E,x.value),damping:s,stiffness:i,restDelta:c,restSpeed:g}))};return D(0),{calculatedDuration:null,next:E=>{let X=!1;return!_&&I===void 0&&(X=!0,A(E),D(E)),I!==void 0&&E>I?_.next(E-I):(!X&&A(E),x)}}}const lq=e=>{const t=({timestamp:a})=>e(a);return{start:()=>ga.update(t,!0),stop:()=>Hl(t),now:()=>as.isProcessing?as.timestamp:performance.now()}},J4=2e4;function e5(e){let t=0;const a=50;let n=e.next(t);for(;!n.done&&t<J4;)t+=a,n=e.next(t);return t>=J4?1/0:t}const dq={decay:X4,inertia:X4,tween:yx,keyframes:yx,spring:dO};function bx({autoplay:e=!0,delay:t=0,driver:a=lq,keyframes:n,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:d,onStop:c,onComplete:g,onUpdate:h,...x}){let b=1,v=!1,j,w;const S=()=>{w=new Promise(z=>{j=z})};S();let M;const T=dq[s]||yx;let A;T!==yx&&typeof n[0]!="number"&&(A=iO([0,100],n,{clamp:!1}),n=[0,100]);const I=T({...x,keyframes:n});let _;l==="mirror"&&(_=T({...x,keyframes:[...n].reverse(),velocity:-(x.velocity||0)}));let D="idle",E=null,X=null,ee=null;I.calculatedDuration===null&&i&&(I.calculatedDuration=e5(I));const{calculatedDuration:Z}=I;let B=1/0,G=1/0;Z!==null&&(B=Z+o,G=B*(i+1)-o);let J=0;const ce=z=>{if(X===null)return;b>0&&(X=Math.min(X,z)),b<0&&(X=Math.min(z-G/b,X)),E!==null?J=E:J=Math.round(z-X)*b;const V=J-t*(b>=0?1:-1),F=b>=0?V<0:V>G;J=Math.max(V,0),D==="finished"&&E===null&&(J=G);let $=J,q=I;if(i){const me=Math.min(J,G)/B;let je=Math.floor(me),fe=me%1;!fe&&me>=1&&(fe=1),fe===1&&je--,je=Math.min(je,i+1),!!(je%2)&&(l==="reverse"?(fe=1-fe,o&&(fe-=o/B)):l==="mirror"&&(q=_)),$=Qd(0,1,fe)*B}const H=F?{done:!1,value:n[0]}:q.next($);A&&(H.value=A(H.value));let{done:Q}=H;!F&&Z!==null&&(Q=b>=0?J>=G:J<=0);const de=E===null&&(D==="finished"||D==="running"&&Q);return h&&h(H.value),de&&Y(),H},te=()=>{M&&M.stop(),M=void 0},K=()=>{D="idle",te(),j(),S(),X=ee=null},Y=()=>{D="finished",g&&g(),te(),j()},re=()=>{if(v)return;M||(M=a(ce));const z=M.now();d&&d(),E!==null?X=z-E:(!X||D==="finished")&&(X=z),D==="finished"&&S(),ee=X,E=null,D="running",M.start()};e&&re();const ne={then(z,V){return w.then(z,V)},get time(){return Fl(J)},set time(z){z=Vc(z),J=z,E!==null||!M||b===0?E=z:X=M.now()-z/b},get duration(){const z=I.calculatedDuration===null?e5(I):I.calculatedDuration;return Fl(z)},get speed(){return b},set speed(z){z===b||!M||(b=z,ne.time=Fl(J))},get state(){return D},play:re,pause:()=>{D="paused",E=J},stop:()=>{v=!0,D!=="idle"&&(D="idle",c&&c(),K())},cancel:()=>{ee!==null&&ce(ee),K()},complete:()=>{D="finished"},sample:z=>(X=0,ce(z))};return ne}function cq(e){let t;return()=>(t===void 0&&(t=e()),t)}const uq=cq(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),mq=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),dp=10,gq=2e4,hq=(e,t)=>t.type==="spring"||e==="backgroundColor"||!F_(t.ease);function fq(e,t,{onUpdate:a,onComplete:n,...s}){if(!(uq()&&mq.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,l,d,c=!1;const g=()=>{d=new Promise(T=>{l=T})};g();let{keyframes:h,duration:x=300,ease:b,times:v}=s;if(hq(t,s)){const T=bx({...s,repeat:0,delay:0});let A={done:!1,value:h[0]};const I=[];let _=0;for(;!A.done&&_<gq;)A=T.sample(_),I.push(A.value),_+=dp;v=void 0,h=I,x=_-dp,b="linear"}const j=NU(e.owner.current,t,h,{...s,duration:x,ease:b,times:v}),w=()=>{c=!1,j.cancel()},S=()=>{c=!0,ga.update(w),l(),g()};return j.onfinish=()=>{c||(e.set(CU(h,s)),n&&n(),S())},{then(T,A){return d.then(T,A)},attachTimeline(T){return j.timeline=T,j.onfinish=null,Qa},get time(){return Fl(j.currentTime||0)},set time(T){j.currentTime=Vc(T)},get speed(){return j.playbackRate},set speed(T){j.playbackRate=T},get duration(){return Fl(x)},play:()=>{o||(j.play(),Hl(w))},pause:()=>j.pause(),stop:()=>{if(o=!0,j.playState==="idle")return;const{currentTime:T}=j;if(T){const A=bx({...s,autoplay:!1});e.setWithVelocity(A.sample(T-dp).value,A.sample(T).value,dp)}S()},complete:()=>{c||j.finish()},cancel:S}}function pq({keyframes:e,delay:t,onUpdate:a,onComplete:n}){const s=()=>(a&&a(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Qa,pause:Qa,stop:Qa,then:i=>(i(),Promise.resolve()),cancel:Qa,complete:Qa});return t?bx({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const xq={type:"spring",stiffness:500,damping:25,restSpeed:10},yq=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),bq={type:"keyframes",duration:.8},vq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kq=(e,{keyframes:t})=>t.length>2?bq:mu.has(e)?e.startsWith("scale")?yq(t[1]):xq:vq,iN=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gd.test(t)||t==="0")&&!t.startsWith("url(")),wq=new Set(["brightness","contrast","saturate","opacity"]);function jq(e){const[t,a]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=a.match(Vy)||[];if(!n)return e;const s=a.replace(n,"");let i=wq.has(t)?1:0;return n!==a&&(i*=100),t+"("+i+s+")"}const Nq=/([a-z-]*)\(.*?\)/g,oN={...Gd,getAnimatableNone:e=>{const t=e.match(Nq);return t?t.map(jq).join(" "):e}},Cq={...j_,color:ks,backgroundColor:ks,outlineColor:ks,fill:ks,stroke:ks,borderColor:ks,borderTopColor:ks,borderRightColor:ks,borderBottomColor:ks,borderLeftColor:ks,filter:oN,WebkitFilter:oN},i2=e=>Cq[e];function cO(e,t){let a=i2(e);return a!==oN&&(a=Gd),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const uO=e=>/^0[^.\s]+$/.test(e);function Sq(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||uO(e)}function Pq(e,t,a,n){const s=iN(t,a);let i;Array.isArray(a)?i=[...a]:i=[null,a];const o=n.from!==void 0?n.from:e.get();let l;const d=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),Sq(i[c])&&d.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(l=i[c]);if(s&&d.length&&l)for(let c=0;c<d.length;c++){const g=d[c];i[g]=cO(t,l)}return i}function Mq({when:e,delay:t,delayChildren:a,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:d,elapsed:c,...g}){return!!Object.keys(g).length}function o2(e,t){return e[t]||e.default||e}const Tq={skipAnimations:!1},l2=(e,t,a,n={})=>s=>{const i=o2(n,e)||{},o=i.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Vc(o);const d=Pq(t,e,a,i),c=d[0],g=d[d.length-1],h=iN(e,c),x=iN(e,g);let b={keyframes:d,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(Mq(i)||(b={...b,...kq(e,b)}),b.duration&&(b.duration=Vc(b.duration)),b.repeatDelay&&(b.repeatDelay=Vc(b.repeatDelay)),!h||!x||jU.current||i.type===!1||Tq.skipAnimations)return pq(b);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=fq(t,e,b);if(v)return v}return bx(b)};function vx(e){return!!(Ys(e)&&e.add)}const mO=e=>/^\-?\d*\.?\d+$/.test(e);function d2(e,t){e.indexOf(t)===-1&&e.push(t)}function c2(e,t){const a=e.indexOf(t);a>-1&&e.splice(a,1)}class u2{constructor(){this.subscriptions=[]}add(t){return d2(this.subscriptions,t),()=>c2(this.subscriptions,t)}notify(t,a,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,a,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,a,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Iq=e=>!isNaN(parseFloat(e));class Aq{constructor(t,a={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=as;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,ga.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ga.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Iq(this.current),this.owner=a.owner}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new u2);const n=this.events[t].add(a);return t==="change"?()=>{n(),ga.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t,a=!0){!a||!this.passiveEffect?this.updateAndNotify(t,a):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,a,n){this.set(a),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?oO(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vm(e,t){return new Aq(e,t)}const gO=e=>t=>t.test(e),Eq={test:e=>e==="auto",parse:e=>e},hO=[gu,or,Xo,Bd,$8,L8,Eq],Qg=e=>hO.find(gO(e)),_q=[...hO,ks,Gd],Oq=e=>_q.find(gO(e));function Rq(e,t,a){e.hasValue(t)?e.getValue(t).set(a):e.addValue(t,vm(a))}function Dq(e,t){const a=Wy(e,t);let{transitionEnd:n={},transition:s={},...i}=a?e.makeTargetAnimatable(a,!1):{};i={...i,...n};for(const o in i){const l=J8(i[o]);Rq(e,o,l)}}function Bq(e,t,a){var n,s;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const d=i[l],c=t[d];let g=null;Array.isArray(c)&&(g=c[0]),g===null&&(g=(s=(n=a[d])!==null&&n!==void 0?n:e.readValue(d))!==null&&s!==void 0?s:t[d]),g!=null&&(typeof g=="string"&&(mO(g)||uO(g))?g=parseFloat(g):!Oq(g)&&Gd.test(c)&&(g=cO(d,c)),e.addValue(d,vm(g,{owner:e})),a[d]===void 0&&(a[d]=g),g!==null&&e.setBaseTarget(d,g))}}function Lq(e,t){return t?(t[e]||t.default||t).from:void 0}function $q(e,t,a){const n={};for(const s in e){const i=Lq(s,t);if(i!==void 0)n[s]=i;else{const o=a.getValue(s);o&&(n[s]=o.get())}}return n}function Fq({protectedKeys:e,needsAnimating:t},a){const n=e.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,n}function zq(e,t){const a=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==a)return!0}else return a!==t}function fO(e,t,{delay:a=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const d=e.getValue("willChange");n&&(i=n);const c=[],g=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const x=e.getValue(h),b=l[h];if(!x||b===void 0||g&&Fq(g,h))continue;const v={delay:a,elapsed:0,...o2(i||{},h)};if(window.HandoffAppearAnimations){const S=e.getProps()[p_];if(S){const M=window.HandoffAppearAnimations(S,h,x,ga);M!==null&&(v.elapsed=M,v.isHandoff=!0)}}let j=!v.isHandoff&&!zq(x,b);if(v.type==="spring"&&(x.getVelocity()||v.velocity)&&(j=!1),x.animation&&(j=!1),j)continue;x.start(l2(h,x,b,e.shouldReduceMotion&&mu.has(h)?{type:!1}:v));const w=x.animation;vx(d)&&(d.add(h),w.then(()=>d.remove(h))),c.push(w)}return o&&Promise.all(c).then(()=>{o&&Dq(e,o)}),c}function lN(e,t,a={}){const n=Wy(e,t,a.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};a.transitionOverride&&(s=a.transitionOverride);const i=n?()=>Promise.all(fO(e,n,a)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:c=0,staggerChildren:g,staggerDirection:h}=s;return Uq(e,t,c+d,g,h,a)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,c]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>c())}else return Promise.all([i(),o(a.delay)])}function Uq(e,t,a=0,n=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*n,d=s===1?(c=0)=>c*n:(c=0)=>l-c*n;return Array.from(e.variantChildren).sort(qq).forEach((c,g)=>{c.notify("AnimationStart",t),o.push(lN(c,t,{...i,delay:a+d(g)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function qq(e,t){return e.sortNodePosition(t)}function Vq(e,t,a={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>lN(e,i,a));n=Promise.all(s)}else if(typeof t=="string")n=lN(e,t,a);else{const s=typeof t=="function"?Wy(e,t,a.custom):t;n=Promise.all(fO(e,s,a))}return n.then(()=>e.notify("AnimationComplete",t))}const Hq=[...W1].reverse(),Wq=W1.length;function Kq(e){return t=>Promise.all(t.map(({animation:a,options:n})=>Vq(e,a,n)))}function Qq(e){let t=Kq(e);const a=Yq();let n=!0;const s=(d,c)=>{const g=Wy(e,c);if(g){const{transition:h,transitionEnd:x,...b}=g;d={...d,...b,...x}}return d};function i(d){t=d(e)}function o(d,c){const g=e.getProps(),h=e.getVariantContext(!0)||{},x=[],b=new Set;let v={},j=1/0;for(let S=0;S<Wq;S++){const M=Hq[S],T=a[M],A=g[M]!==void 0?g[M]:h[M],I=Ih(A),_=M===c?T.isActive:null;_===!1&&(j=S);let D=A===h[M]&&A!==g[M]&&I;if(D&&n&&e.manuallyAnimateOnMount&&(D=!1),T.protectedKeys={...v},!T.isActive&&_===null||!A&&!T.prevProp||Uy(A)||typeof A=="boolean")continue;let X=Gq(T.prevProp,A)||M===c&&T.isActive&&!D&&I||S>j&&I,ee=!1;const Z=Array.isArray(A)?A:[A];let B=Z.reduce(s,{});_===!1&&(B={});const{prevResolvedValues:G={}}=T,J={...G,...B},ce=te=>{X=!0,b.has(te)&&(ee=!0,b.delete(te)),T.needsAnimating[te]=!0};for(const te in J){const K=B[te],Y=G[te];if(v.hasOwnProperty(te))continue;let re=!1;px(K)&&px(Y)?re=!L_(K,Y):re=K!==Y,re?K!==void 0?ce(te):b.add(te):K!==void 0&&b.has(te)?ce(te):T.protectedKeys[te]=!0}T.prevProp=A,T.prevResolvedValues=B,T.isActive&&(v={...v,...B}),n&&e.blockInitialAnimation&&(X=!1),X&&(!D||ee)&&x.push(...Z.map(te=>({animation:te,options:{type:M,...d}})))}if(b.size){const S={};b.forEach(M=>{const T=e.getBaseTarget(M);T!==void 0&&(S[M]=T)}),x.push({animation:S})}let w=!!x.length;return n&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(w=!1),n=!1,w?t(x):Promise.resolve()}function l(d,c,g){var h;if(a[d].isActive===c)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(b=>{var v;return(v=b.animationState)===null||v===void 0?void 0:v.setActive(d,c)}),a[d].isActive=c;const x=o(g,d);for(const b in a)a[b].protectedKeys={};return x}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>a}}function Gq(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!L_(t,e):!1}function Mc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Yq(){return{animate:Mc(!0),whileInView:Mc(),whileHover:Mc(),whileTap:Mc(),whileDrag:Mc(),whileFocus:Mc(),exit:Mc()}}class Zq extends rc{constructor(t){super(t),t.animationState||(t.animationState=Qq(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Uy(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){}}let Xq=0;class Jq extends rc{constructor(){super(...arguments),this.id=Xq++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});a&&!t&&i.then(()=>a(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const eV={animation:{Feature:Zq},exit:{Feature:Jq}},t5=(e,t)=>Math.abs(e-t);function tV(e,t){const a=t5(e.x,t.x),n=t5(e.y,t.y);return Math.sqrt(a**2+n**2)}class pO{constructor(t,a,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Kk(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=tV(h.offset,{x:0,y:0})>=3;if(!x&&!b)return;const{point:v}=h,{timestamp:j}=as;this.history.push({...v,timestamp:j});const{onStart:w,onMove:S}=this.handlers;x||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,h)},this.handlePointerMove=(h,x)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Wk(x,this.transformPagePoint),ga.update(this.updatePoint,!0)},this.handlePointerUp=(h,x)=>{this.end();const{onEnd:b,onSessionEnd:v,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Kk(h.type==="pointercancel"?this.lastMoveEventInfo:Wk(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(h,w),v&&v(h,w)},!__(t))return;this.dragSnapToOrigin=i,this.handlers=a,this.transformPagePoint=n,this.contextWindow=s||window;const o=Hy(t),l=Wk(o,this.transformPagePoint),{point:d}=l,{timestamp:c}=as;this.history=[{...d,timestamp:c}];const{onSessionStart:g}=a;g&&g(t,Kk(l,this.history)),this.removeListeners=Wd($l(this.contextWindow,"pointermove",this.handlePointerMove),$l(this.contextWindow,"pointerup",this.handlePointerUp),$l(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Hl(this.updatePoint)}}function Wk(e,t){return t?{point:t(e.point)}:e}function r5(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Kk({point:e},t){return{point:e,delta:r5(e,xO(t)),offset:r5(e,rV(t)),velocity:aV(t,.1)}}function rV(e){return e[0]}function xO(e){return e[e.length-1]}function aV(e,t){if(e.length<2)return{x:0,y:0};let a=e.length-1,n=null;const s=xO(e);for(;a>=0&&(n=e[a],!(s.timestamp-n.timestamp>Vc(t)));)a--;if(!n)return{x:0,y:0};const i=Fl(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function vi(e){return e.max-e.min}function dN(e,t=0,a=.01){return Math.abs(e-t)<=a}function a5(e,t,a,n=.5){e.origin=n,e.originPoint=_a(t.min,t.max,e.origin),e.scale=vi(a)/vi(t),(dN(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=_a(a.min,a.max,e.origin)-e.originPoint,(dN(e.translate)||isNaN(e.translate))&&(e.translate=0)}function vh(e,t,a,n){a5(e.x,t.x,a.x,n?n.originX:void 0),a5(e.y,t.y,a.y,n?n.originY:void 0)}function n5(e,t,a){e.min=a.min+t.min,e.max=e.min+vi(t)}function nV(e,t,a){n5(e.x,t.x,a.x),n5(e.y,t.y,a.y)}function s5(e,t,a){e.min=t.min-a.min,e.max=e.min+vi(t)}function kh(e,t,a){s5(e.x,t.x,a.x),s5(e.y,t.y,a.y)}function sV(e,{min:t,max:a},n){return t!==void 0&&e<t?e=n?_a(t,e,n.min):Math.max(e,t):a!==void 0&&e>a&&(e=n?_a(a,e,n.max):Math.min(e,a)),e}function i5(e,t,a){return{min:t!==void 0?e.min+t:void 0,max:a!==void 0?e.max+a-(e.max-e.min):void 0}}function iV(e,{top:t,left:a,bottom:n,right:s}){return{x:i5(e.x,a,s),y:i5(e.y,t,n)}}function o5(e,t){let a=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([a,n]=[n,a]),{min:a,max:n}}function oV(e,t){return{x:o5(e.x,t.x),y:o5(e.y,t.y)}}function lV(e,t){let a=.5;const n=vi(e),s=vi(t);return s>n?a=Eh(t.min,t.max-n,e.min):n>s&&(a=Eh(e.min,e.max-s,t.min)),Qd(0,1,a)}function dV(e,t){const a={};return t.min!==void 0&&(a.min=t.min-e.min),t.max!==void 0&&(a.max=t.max-e.min),a}const cN=.35;function cV(e=cN){return e===!1?e=0:e===!0&&(e=cN),{x:l5(e,"left","right"),y:l5(e,"top","bottom")}}function l5(e,t,a){return{min:d5(e,t),max:d5(e,a)}}function d5(e,t){return typeof e=="number"?e:e[t]||0}const c5=()=>({translate:0,scale:1,origin:0,originPoint:0}),lm=()=>({x:c5(),y:c5()}),u5=()=>({min:0,max:0}),an=()=>({x:u5(),y:u5()});function $i(e){return[e("x"),e("y")]}function yO({top:e,left:t,right:a,bottom:n}){return{x:{min:t,max:a},y:{min:e,max:n}}}function uV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function mV(e,t){if(!t)return e;const a=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:a.y,left:a.x,bottom:n.y,right:n.x}}function Qk(e){return e===void 0||e===1}function uN({scale:e,scaleX:t,scaleY:a}){return!Qk(e)||!Qk(t)||!Qk(a)}function Ic(e){return uN(e)||bO(e)||e.z||e.rotate||e.rotateX||e.rotateY}function bO(e){return m5(e.x)||m5(e.y)}function m5(e){return e&&e!=="0%"}function kx(e,t,a){const n=e-a,s=t*n;return a+s}function g5(e,t,a,n,s){return s!==void 0&&(e=kx(e,s,n)),kx(e,a,n)+t}function mN(e,t=0,a=1,n,s){e.min=g5(e.min,t,a,n,s),e.max=g5(e.max,t,a,n,s)}function vO(e,{x:t,y:a}){mN(e.x,t.translate,t.scale,t.originPoint),mN(e.y,a.translate,a.scale,a.originPoint)}function gV(e,t,a,n=!1){const s=a.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=a[l],o=i.projectionDelta;const d=i.instance;d&&d.style&&d.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&dm(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,vO(e,o)),n&&Ic(i.latestValues)&&dm(e,i.latestValues))}t.x=h5(t.x),t.y=h5(t.y)}function h5(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ld(e,t){e.min=e.min+t,e.max=e.max+t}function f5(e,t,[a,n,s]){const i=t[s]!==void 0?t[s]:.5,o=_a(e.min,e.max,i);mN(e,t[a],t[n],o,t.scale)}const hV=["x","scaleX","originX"],fV=["y","scaleY","originY"];function dm(e,t){f5(e.x,t,hV),f5(e.y,t,fV)}function kO(e,t){return yO(mV(e.getBoundingClientRect(),t))}function pV(e,t,a){const n=kO(e,a),{scroll:s}=t;return s&&(Ld(n.x,s.offset.x),Ld(n.y,s.offset.y)),n}const wO=({current:e})=>e?e.ownerDocument.defaultView:null,xV=new WeakMap;class yV{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=an(),this.visualElement=t}start(t,{snapToCursor:a=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(Hy(g,"page").point)},i=(g,h)=>{const{drag:x,dragPropagation:b,onDragStart:v}=this.getProps();if(x&&!b&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=R_(x),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$i(w=>{let S=this.getAxisMotionValue(w).get()||0;if(Xo.test(S)){const{projection:M}=this.visualElement;if(M&&M.layout){const T=M.layout.layoutBox[w];T&&(S=vi(T)*(parseFloat(S)/100))}}this.originPoint[w]=S}),v&&ga.update(()=>v(g,h),!1,!0);const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},o=(g,h)=>{const{dragPropagation:x,dragDirectionLock:b,onDirectionLock:v,onDrag:j}=this.getProps();if(!x&&!this.openGlobalLock)return;const{offset:w}=h;if(b&&this.currentDirection===null){this.currentDirection=bV(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),j&&j(g,h)},l=(g,h)=>this.stop(g,h),d=()=>$i(g=>{var h;return this.getAnimationState(g)==="paused"&&((h=this.getAxisMotionValue(g).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new pO(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:wO(this.visualElement)})}stop(t,a){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=a;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ga.update(()=>i(t,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,n){const{drag:s}=this.getProps();if(!n||!cp(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=sV(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:a,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;a&&im(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&s?this.constraints=iV(s.layoutBox,a):this.constraints=!1,this.elastic=cV(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&$i(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=dV(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!im(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=pV(n,s.root,this.visualElement.getTransformPagePoint());let o=oV(s.layout.layoutBox,i);if(a){const l=a(uV(o));this.hasMutatedConstraints=!!l,l&&(o=yO(l))}return o}startAnimation(t){const{drag:a,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},c=$i(g=>{if(!cp(g,a,this.currentDirection))return;let h=d&&d[g]||{};o&&(h={min:0,max:0});const x=s?200:1e6,b=s?40:1e7,v={type:"inertia",velocity:n?t[g]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(g,v)});return Promise.all(c).then(l)}startAxisValueAnimation(t,a){const n=this.getAxisMotionValue(t);return n.start(l2(t,n,0,a))}stopAnimation(){$i(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){$i(t=>{var a;return(a=this.getAxisMotionValue(t).animation)===null||a===void 0?void 0:a.pause()})}getAnimationState(t){var a;return(a=this.getAxisMotionValue(t).animation)===null||a===void 0?void 0:a.state}getAxisMotionValue(t){const a="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[a];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){$i(a=>{const{drag:n}=this.getProps();if(!cp(a,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(a);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[a];i.set(t[a]-_a(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:n}=this.visualElement;if(!im(a)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};$i(o=>{const l=this.getAxisMotionValue(o);if(l){const d=l.get();s[o]=lV({min:d,max:d},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),$i(o=>{if(!cp(o,t,null))return;const l=this.getAxisMotionValue(o),{min:d,max:c}=this.constraints[o];l.set(_a(d,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;xV.set(this.visualElement,this);const t=this.visualElement.current,a=$l(t,"pointerdown",d=>{const{drag:c,dragListener:g=!0}=this.getProps();c&&g&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();im(d)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const o=Rl(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:c})=>{this.isDragging&&c&&($i(g=>{const h=this.getAxisMotionValue(g);h&&(this.originPoint[g]+=d[g].translate,h.set(h.get()+d[g].translate))}),this.visualElement.render())}));return()=>{o(),a(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=cN,dragMomentum:l=!0}=t;return{...t,drag:a,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function cp(e,t,a){return(t===!0||t===e)&&(a===null||a===e)}function bV(e,t=10){let a=null;return Math.abs(e.y)>t?a="y":Math.abs(e.x)>t&&(a="x"),a}class vV extends rc{constructor(t){super(t),this.removeGroupControls=Qa,this.removeListeners=Qa,this.controls=new yV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qa}unmount(){this.removeGroupControls(),this.removeListeners()}}const p5=e=>(t,a)=>{e&&ga.update(()=>e(t,a))};class kV extends rc{constructor(){super(...arguments),this.removePointerDownListener=Qa}onPointerDown(t){this.session=new pO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wO(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:p5(t),onStart:p5(a),onMove:n,onEnd:(i,o)=>{delete this.session,s&&ga.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=$l(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function wV(){const e=p.useContext(Fy);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:a,register:n}=e,s=p.useId();return p.useEffect(()=>n(s),[]),!t&&a?[!1,()=>a&&a(s)]:[!0]}const Kp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function x5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Gg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(or.test(e))e=parseFloat(e);else return e;const a=x5(e,t.target.x),n=x5(e,t.target.y);return`${a}% ${n}%`}},jV={correct:(e,{treeScale:t,projectionDelta:a})=>{const n=e,s=Gd.parse(e);if(s.length>5)return n;const i=Gd.createTransformer(e),o=typeof s[0]!="number"?1:0,l=a.x.scale*t.x,d=a.y.scale*t.y;s[0+o]/=l,s[1+o]/=d;const c=_a(l,d,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class NV extends Lr.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;A8(CV),i&&(a.group&&a.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Kp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==a||a===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ga.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jO(e){const[t,a]=wV(),n=p.useContext(Q1);return Lr.createElement(NV,{...e,layoutGroup:n,switchLayoutGroup:p.useContext(y_),isPresent:t,safeToRemove:a})}const CV={borderRadius:{...Gg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gg,borderTopRightRadius:Gg,borderBottomLeftRadius:Gg,borderBottomRightRadius:Gg,boxShadow:jV},NO=["TopLeft","TopRight","BottomLeft","BottomRight"],SV=NO.length,y5=e=>typeof e=="string"?parseFloat(e):e,b5=e=>typeof e=="number"||or.test(e);function PV(e,t,a,n,s,i){s?(e.opacity=_a(0,a.opacity!==void 0?a.opacity:1,MV(n)),e.opacityExit=_a(t.opacity!==void 0?t.opacity:1,0,TV(n))):i&&(e.opacity=_a(t.opacity!==void 0?t.opacity:1,a.opacity!==void 0?a.opacity:1,n));for(let o=0;o<SV;o++){const l=`border${NO[o]}Radius`;let d=v5(t,l),c=v5(a,l);if(d===void 0&&c===void 0)continue;d||(d=0),c||(c=0),d===0||c===0||b5(d)===b5(c)?(e[l]=Math.max(_a(y5(d),y5(c),n),0),(Xo.test(c)||Xo.test(d))&&(e[l]+="%")):e[l]=c}(t.rotate||a.rotate)&&(e.rotate=_a(t.rotate||0,a.rotate||0,n))}function v5(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const MV=CO(0,.5,K_),TV=CO(.5,.95,Qa);function CO(e,t,a){return n=>n<e?0:n>t?1:a(Eh(e,t,n))}function k5(e,t){e.min=t.min,e.max=t.max}function Ri(e,t){k5(e.x,t.x),k5(e.y,t.y)}function w5(e,t,a,n,s){return e-=t,e=kx(e,1/a,n),s!==void 0&&(e=kx(e,1/s,n)),e}function IV(e,t=0,a=1,n=.5,s,i=e,o=e){if(Xo.test(t)&&(t=parseFloat(t),t=_a(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=_a(i.min,i.max,n);e===i&&(l-=t),e.min=w5(e.min,t,a,l,s),e.max=w5(e.max,t,a,l,s)}function j5(e,t,[a,n,s],i,o){IV(e,t[a],t[n],t[s],t.scale,i,o)}const AV=["x","scaleX","originX"],EV=["y","scaleY","originY"];function N5(e,t,a,n){j5(e.x,t,AV,a?a.x:void 0,n?n.x:void 0),j5(e.y,t,EV,a?a.y:void 0,n?n.y:void 0)}function C5(e){return e.translate===0&&e.scale===1}function SO(e){return C5(e.x)&&C5(e.y)}function _V(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function PO(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function S5(e){return vi(e.x)/vi(e.y)}class OV{constructor(){this.members=[]}add(t){d2(this.members,t),t.scheduleRender()}remove(t){if(c2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(s=>t===s);if(a===0)return!1;let n;for(let s=a;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,a){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,a&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:n}=t;a.onExitComplete&&a.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function P5(e,t,a){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(n=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),a){const{rotate:d,rotateX:c,rotateY:g}=a;d&&(n+=`rotate(${d}deg) `),c&&(n+=`rotateX(${c}deg) `),g&&(n+=`rotateY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const RV=(e,t)=>e.depth-t.depth;class DV{constructor(){this.children=[],this.isDirty=!1}add(t){d2(this.children,t),this.isDirty=!0}remove(t){c2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(RV),this.isDirty=!1,this.children.forEach(t)}}function BV(e,t){const a=performance.now(),n=({timestamp:s})=>{const i=s-a;i>=t&&(Hl(n),e(i-t))};return ga.read(n,!0),()=>Hl(n)}function LV(e){window.MotionDebug&&window.MotionDebug.record(e)}function $V(e){return e instanceof SVGElement&&e.tagName!=="svg"}function FV(e,t,a){const n=Ys(e)?e:vm(e);return n.start(l2("",n,t,a)),n.animation}const M5=["","X","Y","Z"],zV={visibility:"hidden"},T5=1e3;let UV=0;const Ac={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function MO({attachResizeListener:e,defaultParent:t,measureScroll:a,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t?.()){this.id=UV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ac.totalNodes=Ac.resolvedTargetDeltas=Ac.recalculatedProjection=0,this.nodes.forEach(HV),this.nodes.forEach(YV),this.nodes.forEach(ZV),this.nodes.forEach(WV),LV(Ac)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new DV)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new u2),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const d=this.eventHandlers.get(o);d&&d.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$V(o),this.instance=o;const{layoutId:d,layout:c,visualElement:g}=this.options;if(g&&!g.current&&g.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(c||d)&&(this.isLayoutDirty=!0),e){let h;const x=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=BV(x,250),Kp.hasAnimatedSinceResize&&(Kp.hasAnimatedSinceResize=!1,this.nodes.forEach(A5))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:x,hasRelativeTargetChanged:b,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||rH,{onLayoutAnimationStart:w,onLayoutAnimationComplete:S}=g.getProps(),M=!this.targetLayout||!PO(this.targetLayout,v)||b,T=!x&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||x&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const A={...o2(j,"layout"),onPlay:w,onComplete:S};(g.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else x||A5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Hl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XV),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const h=this.path[g];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(I5);return}this.isUpdating||this.nodes.forEach(QV),this.isUpdating=!1,this.nodes.forEach(GV),this.nodes.forEach(qV),this.nodes.forEach(VV),this.clearAllSnapshots();const l=performance.now();as.delta=Qd(0,1e3/60,l-as.timestamp),as.timestamp=l,as.isProcessing=!0,Lk.update.process(as),Lk.preRender.process(as),Lk.render.process(as),as.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(KV),this.sharedNodes.forEach(JV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ga.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ga.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=an(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:a(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!SO(this.projectionDelta),d=this.getTransformTemplate(),c=d?d(this.latestValues,""):void 0,g=c!==this.prevTransformTemplateValue;o&&(l||Ic(this.latestValues)||g)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return o&&(d=this.removeTransform(d)),aH(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return an();const l=o.measureViewportBox(),{scroll:d}=this.root;return d&&(Ld(l.x,d.offset.x),Ld(l.y,d.offset.y)),l}removeElementScroll(o){const l=an();Ri(l,o);for(let d=0;d<this.path.length;d++){const c=this.path[d],{scroll:g,options:h}=c;if(c!==this.root&&g&&h.layoutScroll){if(g.isRoot){Ri(l,o);const{scroll:x}=this.root;x&&(Ld(l.x,-x.offset.x),Ld(l.y,-x.offset.y))}Ld(l.x,g.offset.x),Ld(l.y,g.offset.y)}}return l}applyTransform(o,l=!1){const d=an();Ri(d,o);for(let c=0;c<this.path.length;c++){const g=this.path[c];!l&&g.options.layoutScroll&&g.scroll&&g!==g.root&&dm(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ic(g.latestValues)&&dm(d,g.latestValues)}return Ic(this.latestValues)&&dm(d,this.latestValues),d}removeTransform(o){const l=an();Ri(l,o);for(let d=0;d<this.path.length;d++){const c=this.path[d];if(!c.instance||!Ic(c.latestValues))continue;uN(c.latestValues)&&c.updateSnapshot();const g=an(),h=c.measurePageBox();Ri(g,h),N5(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,g)}return Ic(this.latestValues)&&N5(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==as.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==d;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:x}=this.options;if(!(!this.layout||!(h||x))){if(this.resolvedRelativeTargetAt=as.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=an(),this.relativeTargetOrigin=an(),kh(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=an(),this.targetWithTransforms=an()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ri(this.target,this.layout.layoutBox),vO(this.target,this.targetDelta)):Ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=an(),this.relativeTargetOrigin=an(),kh(this.relativeTargetOrigin,this.target,b.target),Ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ac.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||uN(this.parent.latestValues)||bO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),d=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===as.timestamp&&(c=!1),c)return;const{layout:g,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||h))return;Ri(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;gV(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:v}=l;if(!v){this.projectionTransform&&(this.projectionDelta=lm(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=lm(),this.projectionDeltaWithTransform=lm());const j=this.projectionTransform;vh(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=P5(this.projectionDelta,this.treeScale),(this.projectionTransform!==j||this.treeScale.x!==x||this.treeScale.y!==b)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Ac.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const d=this.snapshot,c=d?d.latestValues:{},g={...this.latestValues},h=lm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const x=an(),b=d?d.source:void 0,v=this.layout?this.layout.source:void 0,j=b!==v,w=this.getStack(),S=!w||w.members.length<=1,M=!!(j&&!S&&this.options.crossfade===!0&&!this.path.some(tH));this.animationProgress=0;let T;this.mixTargetDelta=A=>{const I=A/1e3;E5(h.x,o.x,I),E5(h.y,o.y,I),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kh(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eH(this.relativeTarget,this.relativeTargetOrigin,x,I),T&&_V(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=an()),Ri(T,this.relativeTarget)),j&&(this.animationValues=g,PV(g,c,this.latestValues,I,M,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Hl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ga.update(()=>{Kp.hasAnimatedSinceResize=!0,this.currentAnimation=FV(0,T5,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(T5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:d,layout:c,latestValues:g}=o;if(!(!l||!d||!c)){if(this!==o&&this.layout&&c&&TO(this.options.animationType,this.layout.layoutBox,c.layoutBox)){d=this.target||an();const h=vi(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+h;const x=vi(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+x}Ri(l,d),dm(l,g),vh(this.projectionDeltaWithTransform,this.layoutCorrected,l,g)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new OV),this.sharedNodes.get(o).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:d}={}){const c=this.getStack();c&&c.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:d}=o;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(l=!0),!l)return;const c={};for(let g=0;g<M5.length;g++){const h="rotate"+M5[g];d[h]&&(c[h]=d[h],o.setStaticValue(h,0))}o.render();for(const g in c)o.setStaticValue(g,c[g]);o.scheduleRender()}getProjectionStyles(o){var l,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zV;const c={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Wp(o?.pointerEvents)||"",c.transform=g?g(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=Wp(o?.pointerEvents)||""),this.hasProjected&&!Ic(this.latestValues)&&(j.transform=g?g({},""):"none",this.hasProjected=!1),j}const x=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=P5(this.projectionDeltaWithTransform,this.treeScale,x),g&&(c.transform=g(x,c.transform));const{x:b,y:v}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?(d=(l=x.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:c.opacity=h===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const j in hx){if(x[j]===void 0)continue;const{correct:w,applyTo:S}=hx[j],M=c.transform==="none"?x[j]:w(x[j],h);if(S){const T=S.length;for(let A=0;A<T;A++)c[S[A]]=M}else c[j]=M}return this.options.layoutId&&(c.pointerEvents=h===this?Wp(o?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(I5),this.root.sharedNodes.clear()}}}function qV(e){e.updateLayout()}function VV(e){var t;const a=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&a&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=a.source!==e.layout.source;i==="size"?$i(h=>{const x=o?a.measuredBox[h]:a.layoutBox[h],b=vi(x);x.min=n[h].min,x.max=x.min+b}):TO(i,a.layoutBox,n)&&$i(h=>{const x=o?a.measuredBox[h]:a.layoutBox[h],b=vi(n[h]);x.max=x.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+b)});const l=lm();vh(l,n,a.layoutBox);const d=lm();o?vh(d,e.applyTransform(s,!0),a.measuredBox):vh(d,n,a.layoutBox);const c=!SO(l);let g=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:x,layout:b}=h;if(x&&b){const v=an();kh(v,a.layoutBox,x.layoutBox);const j=an();kh(j,n,b.layoutBox),PO(v,j)||(g=!0),h.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:a,delta:d,layoutDelta:l,hasLayoutChanged:c,hasRelativeTargetChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function HV(e){Ac.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function WV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function KV(e){e.clearSnapshot()}function I5(e){e.clearMeasurements()}function QV(e){e.isLayoutDirty=!1}function GV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function A5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function YV(e){e.resolveTargetDelta()}function ZV(e){e.calcProjection()}function XV(e){e.resetRotation()}function JV(e){e.removeLeadSnapshot()}function E5(e,t,a){e.translate=_a(t.translate,0,a),e.scale=_a(t.scale,1,a),e.origin=t.origin,e.originPoint=t.originPoint}function _5(e,t,a,n){e.min=_a(t.min,a.min,n),e.max=_a(t.max,a.max,n)}function eH(e,t,a,n){_5(e.x,t.x,a.x,n),_5(e.y,t.y,a.y,n)}function tH(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const rH={duration:.45,ease:[.4,0,.1,1]},O5=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),R5=O5("applewebkit/")&&!O5("chrome/")?Math.round:Qa;function D5(e){e.min=R5(e.min),e.max=R5(e.max)}function aH(e){D5(e.x),D5(e.y)}function TO(e,t,a){return e==="position"||e==="preserve-aspect"&&!dN(S5(t),S5(a),.2)}const nH=MO({attachResizeListener:(e,t)=>Rl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gk={current:void 0},IO=MO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Gk.current){const e=new nH({});e.mount(window),e.setOptions({layoutScroll:!0}),Gk.current=e}return Gk.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),sH={pan:{Feature:kV},drag:{Feature:vV,ProjectionNode:IO,MeasureLayout:jO}},iH=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function oH(e){const t=iH.exec(e);if(!t)return[,];const[,a,n]=t;return[a,n]}function gN(e,t,a=1){const[n,s]=oH(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return mO(o)?parseFloat(o):o}else return rN(s)?gN(s,t,a+1):s}function lH(e,{...t},a){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:a};a&&(a={...a}),e.values.forEach(s=>{const i=s.get();if(!rN(i))return;const o=gN(i,n);o&&s.set(o)});for(const s in t){const i=t[s];if(!rN(i))continue;const o=gN(i,n);o&&(t[s]=o,a||(a={}),a[s]===void 0&&(a[s]=i))}return{target:t,transitionEnd:a}}const dH=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),AO=e=>dH.has(e),cH=e=>Object.keys(e).some(AO),B5=e=>e===gu||e===or,L5=(e,t)=>parseFloat(e.split(", ")[t]),$5=(e,t)=>(a,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return L5(s[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?L5(i[1],e):0}},uH=new Set(["x","y","z"]),mH=o0.filter(e=>!uH.has(e));function gH(e){const t=[];return mH.forEach(a=>{const n=e.getValue(a);n!==void 0&&(t.push([a,n.get()]),n.set(a.startsWith("scale")?1:0))}),t.length&&e.render(),t}const km={width:({x:e},{paddingLeft:t="0",paddingRight:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),height:({y:e},{paddingTop:t="0",paddingBottom:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:$5(4,13),y:$5(5,14)};km.translateX=km.x;km.translateY=km.y;const hH=(e,t,a)=>{const n=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),a.forEach(c=>{l[c]=km[c](n,i)}),t.render();const d=t.measureViewportBox();return a.forEach(c=>{const g=t.getValue(c);g&&g.jump(l[c]),e[c]=km[c](d,i)}),e},fH=(e,t,a={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(AO);let i=[],o=!1;const l=[];if(s.forEach(d=>{const c=e.getValue(d);if(!e.hasValue(d))return;let g=a[d],h=Qg(g);const x=t[d];let b;if(px(x)){const v=x.length,j=x[0]===null?1:0;g=x[j],h=Qg(g);for(let w=j;w<v&&x[w]!==null;w++)b?r2(Qg(x[w])===b):b=Qg(x[w])}else b=Qg(x);if(h!==b)if(B5(h)&&B5(b)){const v=c.get();typeof v=="string"&&c.set(parseFloat(v)),typeof x=="string"?t[d]=parseFloat(x):Array.isArray(x)&&b===or&&(t[d]=x.map(parseFloat))}else h?.transform&&b?.transform&&(g===0||x===0)?g===0?c.set(b.transform(g)):t[d]=h.transform(x):(o||(i=gH(e),o=!0),l.push(d),n[d]=n[d]!==void 0?n[d]:t[d],c.jump(x))}),l.length){const d=l.indexOf("height")>=0?window.pageYOffset:null,c=hH(t,e,l);return i.length&&i.forEach(([g,h])=>{e.getValue(g).set(h)}),e.render(),zy&&d!==null&&window.scrollTo({top:d}),{target:c,transitionEnd:n}}else return{target:t,transitionEnd:n}};function pH(e,t,a,n){return cH(t)?fH(e,t,a,n):{target:t,transitionEnd:n}}const xH=(e,t,a,n)=>{const s=lH(e,t,n);return t=s.target,n=s.transitionEnd,pH(e,t,a,n)},hN={current:null},EO={current:!1};function yH(){if(EO.current=!0,!!zy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>hN.current=e.matches;e.addListener(t),t()}else hN.current=!1}function bH(e,t,a){const{willChange:n}=t;for(const s in t){const i=t[s],o=a[s];if(Ys(i))e.addValue(s,i),vx(n)&&n.add(s);else if(Ys(o))e.addValue(s,vm(i,{owner:e})),vx(n)&&n.remove(s);else if(o!==i)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(s);e.addValue(s,vm(l!==void 0?l:i,{owner:e}))}}for(const s in a)t[s]===void 0&&e.removeValue(s);return t}const F5=new WeakMap,_O=Object.keys(Ah),vH=_O.length,z5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],kH=K1.length;class wH{constructor({parent:t,props:a,presenceContext:n,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ga.render(this.render,!1,!0);const{latestValues:l,renderState:d}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=a.initial?{...l}:{},this.renderState=d,this.parent=t,this.props=a,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=qy(a),this.isVariantNode=x_(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...g}=this.scrapeMotionValuesFromProps(a,{});for(const h in g){const x=g[h];l[h]!==void 0&&Ys(x)&&(x.set(l[h],!1),vx(c)&&c.add(h))}}scrapeMotionValuesFromProps(t,a){return{}}mount(t){this.current=t,F5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,n)=>this.bindToMotionValue(n,a)),EO.current||yH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hN.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){F5.delete(this.current),this.projection&&this.projection.unmount(),Hl(this.notifyUpdate),Hl(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,a){const n=mu.has(t),s=a.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ga.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=a.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...a},n,s,i){let o,l;for(let d=0;d<vH;d++){const c=_O[d],{isEnabled:g,Feature:h,ProjectionNode:x,MeasureLayout:b}=Ah[c];x&&(o=x),g(a)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),b&&(l=b))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:c,drag:g,dragConstraints:h,layoutScroll:x,layoutRoot:b}=a;this.projection.setOptions({layoutId:d,layout:c,alwaysMeasureLayout:!!g||h&&im(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:x,layoutRoot:b})}return l}updateFeatures(){for(const t in this.features){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):an()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}makeTargetAnimatable(t,a=!0){return this.makeTargetAnimatableFromInstance(t,this.props,a)}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let n=0;n<z5.length;n++){const s=z5[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=bH(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const a={};for(let n=0;n<kH;n++){const s=K1[n],i=this.props[s];(Ih(i)||i===!1)&&(a[s]=i)}return a}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){a!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,a)),this.values.set(t,a),this.latestValues[t]=a.get()}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&a!==void 0&&(n=vm(a,{owner:this}),this.addValue(t,n)),n}readValue(t){var a;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(a=this.getBaseTargetFromProps(this.props,t))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){var a;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(a=t2(this.props,n))===null||a===void 0?void 0:a[t]:void 0;if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ys(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new u2),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}}class OO extends wH{sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:n}){delete a[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:a,...n},{transformValues:s},i){let o=$q(n,t||{},this);if(s&&(a&&(a=s(a)),n&&(n=s(n)),o&&(o=s(o))),i){Bq(this,n,o);const l=xH(this,n,o,a);a=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:a,...n}}}function jH(e){return window.getComputedStyle(e)}class NH extends OO{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,a){if(mu.has(a)){const n=i2(a);return n&&n.default||0}else{const n=jH(t),s=(k_(a)?n.getPropertyValue(a):n[a])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:a}){return kO(t,a)}build(t,a,n,s){Y1(t,a,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,a){return e2(t,a)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ys(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}renderInstance(t,a,n,s){P_(t,a,n,s)}}class CH extends OO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(mu.has(a)){const n=i2(a);return n&&n.default||0}return a=M_.has(a)?a:H1(a),t.getAttribute(a)}measureInstanceViewportBox(){return an()}scrapeMotionValuesFromProps(t,a){return I_(t,a)}build(t,a,n,s){X1(t,a,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,a,n,s){T_(t,a,n,s)}mount(t){this.isSVGTag=J1(t.tagName),super.mount(t)}}const SH=(e,t)=>G1(e)?new CH(t,{enableHardwareAcceleration:!1}):new NH(t,{enableHardwareAcceleration:!0}),PH={layout:{ProjectionNode:IO,MeasureLayout:jO}},MH={...eV,...vU,...sH,...PH},ke=T8((e,t)=>oU(e,t,MH,SH));function RO(){const e=p.useRef(!1);return V1(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function TH(){const e=RO(),[t,a]=p.useState(0),n=p.useCallback(()=>{e.current&&a(t+1)},[t]);return[p.useCallback(()=>ga.postRender(n),[n]),t]}class IH extends p.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=a.offsetHeight||0,n.width=a.offsetWidth||0,n.top=a.offsetTop,n.left=a.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function AH({children:e,isPresent:t}){const a=p.useId(),n=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0});return p.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:d}=s.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=a;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),p.createElement(IH,{isPresent:t,childRef:n,sizeRef:s},p.cloneElement(e,{ref:n}))}const Yk=({children:e,initial:t,isPresent:a,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=A_(EH),d=p.useId(),c=p.useMemo(()=>({id:d,initial:t,isPresent:a,custom:s,onExitComplete:g=>{l.set(g,!0);for(const h of l.values())if(!h)return;n&&n()},register:g=>(l.set(g,!1),()=>l.delete(g))}),i?void 0:[a]);return p.useMemo(()=>{l.forEach((g,h)=>l.set(h,!1))},[a]),p.useEffect(()=>{!a&&!l.size&&n&&n()},[a]),o==="popLayout"&&(e=p.createElement(AH,{isPresent:a},e)),p.createElement(Fy.Provider,{value:c},e)};function EH(){return new Map}function _H(e){return p.useEffect(()=>()=>e(),[])}const Ec=e=>e.key||"";function OH(e,t){e.forEach(a=>{const n=Ec(a);t.set(n,a)})}function RH(e){const t=[];return p.Children.forEach(e,a=>{p.isValidElement(a)&&t.push(a)}),t}const pr=({children:e,custom:t,initial:a=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=p.useContext(Q1).forceRender||TH()[0],d=RO(),c=RH(e);let g=c;const h=p.useRef(new Map).current,x=p.useRef(g),b=p.useRef(new Map).current,v=p.useRef(!0);if(V1(()=>{v.current=!1,OH(c,b),x.current=g}),_H(()=>{v.current=!0,b.clear(),h.clear()}),v.current)return p.createElement(p.Fragment,null,g.map(M=>p.createElement(Yk,{key:Ec(M),isPresent:!0,initial:a?void 0:!1,presenceAffectsLayout:i,mode:o},M)));g=[...g];const j=x.current.map(Ec),w=c.map(Ec),S=j.length;for(let M=0;M<S;M++){const T=j[M];w.indexOf(T)===-1&&!h.has(T)&&h.set(T,void 0)}return o==="wait"&&h.size&&(g=[]),h.forEach((M,T)=>{if(w.indexOf(T)!==-1)return;const A=b.get(T);if(!A)return;const I=j.indexOf(T);let _=M;if(!_){const D=()=>{h.delete(T);const E=Array.from(b.keys()).filter(X=>!w.includes(X));if(E.forEach(X=>b.delete(X)),x.current=c.filter(X=>{const ee=Ec(X);return ee===T||E.includes(ee)}),!h.size){if(d.current===!1)return;l(),n&&n()}};_=p.createElement(Yk,{key:Ec(A),isPresent:!1,onExitComplete:D,custom:t,presenceAffectsLayout:i,mode:o},A),h.set(T,_)}g.splice(I,0,_)}),g=g.map(M=>{const T=M.key;return h.has(T)?M:p.createElement(Yk,{key:Ec(M),isPresent:!0,presenceAffectsLayout:i,mode:o},M)}),p.createElement(p.Fragment,null,h.size?g:g.map(M=>p.cloneElement(M)))};var DH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const BH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),qe=(e,t)=>{const a=p.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:d,...c},g)=>p.createElement("svg",{ref:g,...DH,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${BH(e)}`,l].join(" "),...c},[...t.map(([h,x])=>p.createElement(h,x)),...Array.isArray(d)?d:[d]]));return a.displayName=`${e}`,a};const Nt=qe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const ya=qe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const DO=qe("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v2H7v-2a2 2 0 0 0-4 0Z",key:"1e01m0"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);const Qp=qe("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);const ms=qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Ui=qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Gp=qe("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);const m2=qe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const BO=qe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const fN=qe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);const pN=qe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);const LO=qe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const xN=qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const Zk=qe("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);const aa=qe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const Hs=qe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const LH=qe("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const la=qe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);const wx=qe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const U5=qe("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);const Wl=qe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const tr=qe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const _r=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const wm=qe("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);const Rr=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const $O=qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Wm=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Hn=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const mm=qe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const Or=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const FO=qe("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);const zO=qe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const rl=qe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const jx=qe("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);const Yp=qe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const qr=qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const _h=qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const q5=qe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);const Cs=qe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const Ya=qe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const UO=qe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);const vn=qe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);const al=qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const $H=qe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const Yg=qe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const V5=qe("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);const Wi=qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const Ws=qe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const Ky=qe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const qO=qe("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const VO=qe("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6h0",key:"1uc279"}],["path",{d:"M14 6h0a6 6 0 0 1 6 6v3",key:"1j9mnm"}]]);const Vi=qe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);const FH=qe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const zH=qe("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Yd=qe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const u0=qe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const bn=qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const HO=qe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);const Hc=qe("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);const UH=qe("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);const hu=qe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const H5=qe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const g2=qe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const qH=qe("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);const VH=qe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);const h2=qe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);const mt=qe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Zp=qe("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]);const Zd=qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const W5=qe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);const jm=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Zs=qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Qr=qe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const wh=qe("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]);const WO=qe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const KO=qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const f2=qe("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);const Xk=qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const ds=qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const QO=qe("MoonStar",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}],["path",{d:"M19 3v4",key:"vgv24u"}],["path",{d:"M21 5h-4",key:"1wcg1f"}]]);const p2=qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const Nx=qe("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const GO=qe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);const Ar=qe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const Nm=qe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const qs=qe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const Cm=qe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);const bo=qe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const YO=qe("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);const Dn=qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const K5=qe("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const HH=qe("PlusSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const Ut=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const ZO=qe("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);const WH=qe("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]);const Jo=qe("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const KH=qe("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);const QH=qe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);const cs=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const XO=qe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Oa=qe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const GH=qe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);const Bn=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Oh=qe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const YH=qe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const qa=qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Q5=qe("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const xa=qe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);const G5=qe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const Kn=qe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const eu=qe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const Ps=qe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const Hi=qe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const hi=qe("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);const m0=qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const ZH=qe("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);const Xd=qe("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);const fu=qe("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);const XH=qe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const wr=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const JH=qe("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);const eW=qe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const Sm=qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Qy=qe("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);const JO=qe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);const Gy=qe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);const tW=qe("Umbrella",[["path",{d:"M22 12a10.06 10.06 1 0 0-20 0Z",key:"1teyop"}],["path",{d:"M12 12v8a2 2 0 0 0 4 0",key:"ulpmoc"}],["path",{d:"M12 2v1",key:"11qlp1"}]]);const x2=qe("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);const vo=qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Bc=qe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const Cx=qe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const jh=qe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);const On=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const $r=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const e6=qe("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);const nl=qe("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);const rW=qe("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);const aW=qe("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);const nW=qe("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);const y2=qe("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);const Ga=qe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const xt=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const ko=qe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),sW=()=>{const{t:e,isRTL:t}=Ze(),a=[{icon:r.jsx(Jo,{className:"h-5 w-5"}),text:e("hero.features.qrAccess")},{icon:r.jsx(eu,{className:"h-5 w-5"}),text:e("hero.features.mobileOptimized")},{icon:r.jsx(ko,{className:"h-5 w-5"}),text:e("hero.features.instantUpdate")}];return r.jsx("section",{id:"hero",className:"section-padding pt-24 lg:pt-32 bg-gradient-to-br from-primary-50 to-blue-100 dark:from-gray-900 dark:to-gray-800",children:r.jsx("div",{className:"container-max",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[r.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:`text-center lg:${t?"text-right":"text-left"}`,children:[r.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 dark:text-white mb-6",children:[r.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:e("hero.title.line1")}),r.jsx("br",{}),e("hero.title.line2"),r.jsx("br",{}),r.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:e("hero.title.line3")})]}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600 dark:text-gray-300 mb-8 max-w-2xl",children:e("hero.subtitle")}),r.jsx("div",{className:`flex flex-wrap gap-4 justify-center lg:${t?"justify-end":"justify-start"} mb-8`,children:a.map((n,s)=>r.jsxs(ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2+s*.1},className:`flex items-center gap-2 ${t?"space-x-reverse":""} bg-white dark:bg-gray-800 px-4 py-2 rounded-full shadow-md`,children:[r.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:n.icon}),r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:n.text})]},s))}),r.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:`flex flex-col sm:flex-row gap-4 justify-center lg:${t?"justify-end":"justify-start"}`,children:[r.jsx("button",{onClick:()=>document.getElementById("pricing")?.scrollIntoView({behavior:"smooth"}),className:"btn-primary text-lg px-8 py-4",children:e("hero.cta.getStarted")}),r.jsx("button",{onClick:()=>document.getElementById("features")?.scrollIntoView({behavior:"smooth"}),className:"btn-secondary text-lg px-8 py-4",children:e("hero.cta.features")})]}),r.jsxs(ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.6},className:`mt-12 flex items-center justify-center lg:${t?"justify-end":"justify-start"} space-x-6 ${t?"space-x-reverse":""} text-sm text-gray-600 dark:text-gray-400`,children:[r.jsxs("div",{className:`flex items-center space-x-2 ${t?"space-x-reverse":""}`,children:[r.jsx(tr,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{children:e("hero.socialProof.restaurants")})]}),r.jsxs("div",{className:`flex items-center space-x-2 ${t?"space-x-reverse":""}`,children:[r.jsx(tr,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{children:e("hero.socialProof.satisfaction")})]})]})]}),r.jsx(ke.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"relative",children:r.jsxs("div",{className:"relative max-w-md mx-auto",children:[r.jsx("div",{className:"bg-gray-900 rounded-[2.5rem] p-2 shadow-2xl",children:r.jsx("div",{className:"bg-white dark:bg-gray-100 rounded-[2rem] overflow-hidden",children:r.jsxs("div",{className:"h-96 bg-gradient-to-b from-primary-500 to-primary-600 p-6 text-white relative",children:[r.jsxs("div",{className:"flex justify-between items-center text-xs mb-4",children:[r.jsx("span",{children:"9:41"}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"w-4 h-2 bg-white rounded-sm opacity-60"}),r.jsx("div",{className:"w-4 h-2 bg-white rounded-sm opacity-80"}),r.jsx("div",{className:"w-4 h-2 bg-white rounded-sm"})]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Jo,{className:"h-16 w-16 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"iDIGITEK Restoran"}),r.jsx("p",{className:"text-sm opacity-90 mb-6",children:"Menmz grntlemek iin QR kodu tarayn"}),r.jsxs("div",{className:"space-y-3 text-left",children:[r.jsx("div",{className:"bg-white/20 rounded-lg p-3",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-medium",children:"Margherita Pizza"}),r.jsx("span",{className:"font-semibold",children:"45"})]})}),r.jsx("div",{className:"bg-white/20 rounded-lg p-3",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-medium",children:"Caesar Salad"}),r.jsx("span",{className:"font-semibold",children:"28"})]})}),r.jsx("div",{className:"bg-white/20 rounded-lg p-3",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-medium",children:"Tiramisu"}),r.jsx("span",{className:"font-semibold",children:"22"})]})})]})]})]})})}),r.jsx(ke.div,{animate:{y:[0,-10,0],rotate:[0,5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute -top-6 -right-6 bg-white dark:bg-gray-800 p-4 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:r.jsx(Jo,{className:"h-12 w-12 text-primary-600 dark:text-primary-400"})}),r.jsxs("div",{className:"absolute inset-0 -z-10",children:[r.jsx("div",{className:"absolute top-1/4 -left-8 w-32 h-32 bg-primary-200 dark:bg-primary-900 rounded-full opacity-20 blur-xl"}),r.jsx("div",{className:"absolute bottom-1/4 -right-8 w-24 h-24 bg-blue-200 dark:bg-blue-900 rounded-full opacity-20 blur-xl"})]})]})})]})})})},iW={QrCode:Jo,Smartphone:eu,Zap:ko,BarChart3:LO,Clock:Or,Shield:xa,Palette:Nm,Globe:Wi},oW=()=>{const{t:e,isRTL:t}=Ze(),a=[{id:"1",title:e("features.list.qrAccess.title"),description:e("features.list.qrAccess.description"),icon:"QrCode"},{id:"2",title:e("features.list.mobileOptimized.title"),description:e("features.list.mobileOptimized.description"),icon:"Smartphone"},{id:"3",title:e("features.list.instantUpdate.title"),description:e("features.list.instantUpdate.description"),icon:"Zap"},{id:"4",title:e("features.list.analytics.title"),description:e("features.list.analytics.description"),icon:"BarChart3"},{id:"5",title:e("features.list.alwaysOpen.title"),description:e("features.list.alwaysOpen.description"),icon:"Clock"},{id:"6",title:e("features.list.secure.title"),description:e("features.list.secure.description"),icon:"Shield"},{id:"7",title:e("features.list.customizable.title"),description:e("features.list.customizable.description"),icon:"Palette"},{id:"8",title:e("features.list.multiLanguage.title"),description:e("features.list.multiLanguage.description"),icon:"Globe"}];return r.jsx("section",{id:"features",className:"section-padding bg-white dark:bg-gray-900",children:r.jsxs("div",{className:"container-max",children:[r.jsxs(ke.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:`text-center mb-16 ${t?"text-right":""}`,children:[r.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:[e("features.title")," ",r.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:e("features.titleHighlight")})]}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:e("features.subtitle")})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:a.map((n,s)=>{const i=iW[n.icon];return r.jsxs(ke.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:s*.1},viewport:{once:!0},className:"card text-center group hover:shadow-2xl hover:-translate-y-2",children:[r.jsx("div",{className:"w-16 h-16 bg-primary-100 dark:bg-primary-900/30 rounded-xl flex items-center justify-center mx-auto mb-4 group-hover:bg-primary-200 dark:group-hover:bg-primary-900/50 transition-colors duration-300",children:r.jsx(i,{className:"h-8 w-8 text-primary-600 dark:text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:n.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:n.description})]},n.id)})}),r.jsx(ke.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.8},viewport:{once:!0},className:"text-center mt-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-blue-600 rounded-2xl p-8 md:p-12 text-white",children:[r.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:e("features.cta.title")}),r.jsx("p",{className:"text-lg opacity-90 mb-8 max-w-2xl mx-auto",children:e("features.cta.subtitle")}),r.jsx("button",{onClick:()=>document.getElementById("pricing")?.scrollIntoView({behavior:"smooth"}),className:"bg-white text-primary-600 font-semibold py-4 px-8 rounded-lg hover:bg-gray-100 transition-colors duration-300 shadow-lg",children:e("features.cta.button")})]})})]})})},t6=()=>{const{t:e,isRTL:t}=Ze(),[a,n]=p.useState(!1),i=(()=>{const o=["pricing.plans.basic.features.0","pricing.plans.basic.features.1","pricing.plans.basic.features.2","pricing.plans.basic.features.3","pricing.plans.basic.features.4","pricing.plans.basic.features.5"],l=["pricing.plans.pro.features.0","pricing.plans.pro.features.1","pricing.plans.pro.features.2","pricing.plans.pro.features.3","pricing.plans.pro.features.4","pricing.plans.pro.features.5","pricing.plans.pro.features.6","pricing.plans.pro.features.7"],d=["pricing.plans.enterprise.features.0","pricing.plans.enterprise.features.1","pricing.plans.enterprise.features.2","pricing.plans.enterprise.features.3","pricing.plans.enterprise.features.4","pricing.plans.enterprise.features.5","pricing.plans.enterprise.features.6","pricing.plans.enterprise.features.7"];return[{id:"basic",name:e("pricing.plans.basic.name"),price:a?990:99,period:e(a?"pricing.perYear":"pricing.perMonth"),features:o.map(g=>e(g)),buttonText:e("pricing.plans.basic.button")},{id:"pro",name:e("pricing.plans.pro.name"),price:a?1990:199,period:e(a?"pricing.perYear":"pricing.perMonth"),features:l.map(g=>e(g)),isPopular:!0,buttonText:e("pricing.plans.pro.button")},{id:"enterprise",name:e("pricing.plans.enterprise.name"),price:a?3990:399,period:e(a?"pricing.perYear":"pricing.perMonth"),features:d.map(g=>e(g)),buttonText:e("pricing.plans.enterprise.button")}]})();return r.jsx("section",{id:"pricing",className:"section-padding bg-gray-50 dark:bg-gray-800",children:r.jsxs("div",{className:"container-max",children:[r.jsxs(ke.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:`text-center mb-16 ${t?"text-right":""}`,children:[r.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:[e("pricing.title")," ",r.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:e("pricing.titleHighlight")})," ",e("pricing.titleEnd")]}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto mb-8",children:e("pricing.subtitle")}),r.jsxs("div",{className:`flex items-center justify-center space-x-4 ${t?"space-x-reverse":""}`,children:[r.jsx("span",{className:`text-sm font-medium ${a?"text-gray-500 dark:text-gray-400":"text-primary-600 dark:text-primary-400"}`,children:e("pricing.monthly")}),r.jsx("button",{onClick:()=>n(!a),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${a?"bg-primary-600":"bg-gray-200 dark:bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t?a?"translate-x-[-1.25rem]":"translate-x-[-0.25rem]":a?"translate-x-6":"translate-x-1"}`})}),r.jsx("span",{className:`text-sm font-medium ${a?"text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400"}`,children:e("pricing.yearly")}),a&&r.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded-full",children:e("pricing.freeMonths")})]})]}),r.jsx("div",{className:"grid lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:i.map((o,l)=>r.jsxs(ke.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:l*.1},viewport:{once:!0},className:`relative bg-white dark:bg-gray-900 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-8 ${o.isPopular?"border-2 border-primary-500 scale-105":"border border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-600"}`,children:[o.isPopular&&r.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:r.jsxs("span",{className:`bg-primary-600 text-white px-4 py-2 rounded-full text-sm font-semibold flex items-center space-x-1 ${t?"space-x-reverse":""}`,children:[r.jsx(Hi,{className:"h-4 w-4"}),r.jsx("span",{children:e("pricing.mostPopular")})]})}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:o.name}),r.jsxs("div",{className:`flex items-end justify-center space-x-1 ${t?"space-x-reverse":""}`,children:[r.jsxs("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:["",o.price]}),r.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-lg",children:["/",o.period]})]}),a&&r.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 mt-1",children:e("pricing.monthlyEquivalent",{amount:Math.round(o.price/12)})})]}),r.jsx("ul",{className:"space-y-4 mb-8",children:o.features.map((d,c)=>r.jsxs("li",{className:`flex items-center space-x-3 ${t?"space-x-reverse":""}`,children:[r.jsx(_r,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:d})]},c))}),r.jsx("button",{className:`w-full py-4 px-6 rounded-lg font-semibold transition-all duration-300 ${o.isPopular?"bg-primary-600 hover:bg-primary-700 text-white shadow-lg hover:shadow-xl":"bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-900 dark:text-white"}`,children:o.buttonText})]},o.id))}),r.jsxs(ke.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},className:"text-center mt-12",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:e("pricing.additionalInfo")}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:e("pricing.vatInfo")})]})]})})},lW=()=>{const{t:e,isRTL:t}=Ze(),a=[{id:"1",name:e("testimonials.customers.0.name"),role:e("testimonials.customers.0.role"),company:e("testimonials.customers.0.company"),content:e("testimonials.customers.0.content"),avatar:""},{id:"2",name:e("testimonials.customers.1.name"),role:e("testimonials.customers.1.role"),company:e("testimonials.customers.1.company"),content:e("testimonials.customers.1.content"),avatar:""},{id:"3",name:e("testimonials.customers.2.name"),role:e("testimonials.customers.2.role"),company:e("testimonials.customers.2.company"),content:e("testimonials.customers.2.content"),avatar:""},{id:"4",name:e("testimonials.customers.3.name"),role:e("testimonials.customers.3.role"),company:e("testimonials.customers.3.company"),content:e("testimonials.customers.3.content"),avatar:""},{id:"5",name:e("testimonials.customers.4.name"),role:e("testimonials.customers.4.role"),company:e("testimonials.customers.4.company"),content:e("testimonials.customers.4.content"),avatar:""},{id:"6",name:e("testimonials.customers.5.name"),role:e("testimonials.customers.5.role"),company:e("testimonials.customers.5.company"),content:e("testimonials.customers.5.content"),avatar:""}];return r.jsx("section",{id:"testimonials",className:"section-padding bg-gray-50 dark:bg-gray-800",children:r.jsxs("div",{className:"container-max",children:[r.jsxs(ke.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:`text-center mb-16 ${t?"text-right":""}`,children:[r.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:[e("testimonials.title")," ",r.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:e("testimonials.titleHighlight")})]}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:e("testimonials.subtitle")})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((n,s)=>r.jsxs(ke.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:s*.1},viewport:{once:!0},className:"card relative",children:[r.jsx("div",{className:`absolute -top-4 ${t?"-right-4":"-left-4"} w-8 h-8 bg-primary-600 dark:bg-primary-500 rounded-full flex items-center justify-center`,children:r.jsx(KH,{className:"h-4 w-4 text-white"})}),r.jsx("div",{className:`flex items-center space-x-1 ${t?"space-x-reverse":""} mb-4`,children:[...Array(5)].map((i,o)=>r.jsx(Hi,{className:"h-4 w-4 text-yellow-400 fill-current"},o))}),r.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-6 leading-relaxed",children:['"',n.content,'"']}),r.jsxs("div",{className:`flex items-center space-x-3 ${t?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-400 to-primary-600 rounded-full flex items-center justify-center text-white text-xl",children:n.avatar}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:n.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n.role}),r.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 font-medium",children:n.company})]})]})]},n.id))}),r.jsxs(ke.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.6},viewport:{once:!0},className:"grid grid-cols-2 lg:grid-cols-4 gap-8 mt-16 pt-16 border-t border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:"500+"}),r.jsx("div",{className:"text-gray-600 dark:text-gray-400 font-medium",children:e("testimonials.stats.restaurants")})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:"%99"}),r.jsx("div",{className:"text-gray-600 dark:text-gray-400 font-medium",children:e("testimonials.stats.satisfaction")})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:"24/7"}),r.jsx("div",{className:"text-gray-600 dark:text-gray-400 font-medium",children:e("testimonials.stats.support")})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:"5 Dak"}),r.jsx("div",{className:"text-gray-600 dark:text-gray-400 font-medium",children:e("testimonials.stats.setup")})]})]})]})})},dW=()=>{const{t:e,isRTL:t}=Ze(),[a,n]=p.useState(new Set),s=o=>{const l=new Set(a);l.has(o)?l.delete(o):l.add(o),n(l)},i=Array.from({length:8},(o,l)=>{const d=String(l+1);return{id:d,question:e(`faq.questions.${d}.question`),answer:e(`faq.questions.${d}.answer`)}});return r.jsx("section",{id:"faq",className:"section-padding bg-white dark:bg-gray-900",children:r.jsxs("div",{className:"container-max",children:[r.jsxs(ke.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:`text-center mb-16 ${t?"text-right":""}`,children:[r.jsxs("div",{className:`flex items-center justify-center space-x-2 ${t?"space-x-reverse":""} mb-4`,children:[r.jsx(zH,{className:"h-8 w-8 text-primary-600 dark:text-primary-400"}),r.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white",children:[e("faq.title")," ",r.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:e("faq.titleHighlight")})]})]}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:e("faq.subtitle")})]}),r.jsx("div",{className:"max-w-4xl mx-auto",children:i.map((o,l)=>r.jsxs(ke.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:l*.1},viewport:{once:!0},className:"border border-gray-200 dark:border-gray-700 rounded-lg mb-4 overflow-hidden",children:[r.jsxs("button",{onClick:()=>s(o.id),className:"w-full px-6 py-4 text-left bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200 flex items-center justify-between",children:[r.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o.question}),r.jsx(Rr,{className:`h-5 w-5 text-gray-500 dark:text-gray-400 transition-transform duration-200 ${a.has(o.id)?"transform rotate-180":""}`})]}),r.jsx(pr,{children:a.has(o.id)&&r.jsx(ke.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden bg-white dark:bg-gray-900",children:r.jsx("div",{className:"px-6 py-4",children:r.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:o.answer})})})})]},o.id))}),r.jsxs(ke.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.8},viewport:{once:!0},className:"text-center mt-16",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:e("faq.cta.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:e("faq.cta.subtitle")}),r.jsx("button",{onClick:()=>document.getElementById("contact")?.scrollIntoView({behavior:"smooth"}),className:"btn-primary",children:e("faq.cta.button")})]})]})})},cW=()=>{const{t:e,isRTL:t}=Ze(),[a,n]=p.useState({name:"",email:"",company:"",message:""}),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[d,c]=p.useState(!1),g=p.useRef(null),h=e("footer.contact.phone"),x=h.replace(/[^\d+]/g,""),b=e("footer.contact.address"),v=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(b)}`;p.useEffect(()=>{const S=M=>{g.current&&!g.current.contains(M.target)&&c(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const j=S=>{const{name:M,value:T}=S.target;n(A=>({...A,[M]:T}))},w=async S=>{S.preventDefault(),i(!0),await new Promise(M=>setTimeout(M,2e3)),l(!0),i(!1),setTimeout(()=>{l(!1),n({name:"",email:"",company:"",message:""})},3e3)};return r.jsx("section",{id:"contact",className:"section-padding bg-white dark:bg-gray-900",children:r.jsxs("div",{className:"container-max",children:[r.jsxs(ke.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:`text-center mb-16 ${t?"text-right":""}`,children:[r.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:[e("contact.title")," ",r.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:e("contact.titleHighlight")})," ",e("contact.titleEnd")]}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:e("contact.subtitle")})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[r.jsxs(ke.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"space-y-8",children:[r.jsx("div",{children:r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:e("contact.info.title")})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:`flex items-start space-x-4 ${t?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900/30 rounded-lg flex items-center justify-center shrink-0",children:r.jsx(Dn,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"})}),r.jsxs("div",{className:"relative",ref:g,children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e("contact.info.phone")}),r.jsx("button",{onClick:()=>c(!d),className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200 text-left rtl:text-right",dir:"ltr",children:h}),d&&r.jsxs("div",{className:`absolute top-full mt-2 ${t?"right-0":"left-0"} w-48 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden z-20`,children:[r.jsxs("a",{href:`tel:${x}`,className:"flex items-center px-4 py-3 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-primary-600 dark:hover:text-primary-400 transition-colors space-x-3 rtl:space-x-reverse",children:[r.jsx(YO,{className:"h-4 w-4"}),r.jsx("span",{children:"Call"})]}),r.jsxs("a",{href:`https://wa.me/${x}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-3 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-green-600 dark:hover:text-green-400 transition-colors space-x-3 rtl:space-x-reverse",children:[r.jsx(f2,{className:"h-4 w-4"}),r.jsx("span",{children:"WhatsApp"})]})]})]})]}),r.jsxs("div",{className:`flex items-start space-x-4 ${t?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900/30 rounded-lg flex items-center justify-center shrink-0",children:r.jsx(Zs,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e("contact.info.email")}),r.jsx("a",{href:`mailto:${e("footer.contact.email")}`,className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200 block",children:e("footer.contact.email")})]})]}),r.jsxs("div",{className:`flex items-start space-x-4 ${t?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900/30 rounded-lg flex items-center justify-center shrink-0",children:r.jsx(Qr,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e("contact.info.address")}),r.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200 block",children:b})]})]})]}),r.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-800",children:r.jsx("div",{className:"rounded-xl overflow-hidden shadow-sm border border-gray-200 dark:border-gray-700",children:r.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3006.1776449310637!2d28.754581876316873!3d41.108811213228044!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14caafc44acaaab1%3A0xdcc4e8667013e001!2siDIGITEK%20(Dijital%20Eser)!5e0!3m2!1sen!2str!4v1763711788125!5m2!1sen!2str",width:"100%",height:"300",style:{border:0,display:"block"},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Office Location",className:"w-full"})})})]}),r.jsx(ke.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"card",children:o?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Oh,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:e("contact.form.success.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("contact.form.success.subtitle")})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:e("contact.form.title")}),r.jsxs("form",{onSubmit:w,className:"space-y-6",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("contact.form.nameRequired")}),r.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:a.name,onChange:j,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-800 dark:text-white transition-colors duration-200",placeholder:e("contact.form.namePlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("contact.form.emailRequired")}),r.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:a.email,onChange:j,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-800 dark:text-white transition-colors duration-200",placeholder:e("contact.form.emailPlaceholder")})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("contact.form.company")}),r.jsx("input",{type:"text",id:"company",name:"company",value:a.company,onChange:j,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-800 dark:text-white transition-colors duration-200",placeholder:e("contact.form.companyPlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("contact.form.messageRequired")}),r.jsx("textarea",{id:"message",name:"message",required:!0,rows:5,value:a.message,onChange:j,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-800 dark:text-white transition-colors duration-200",placeholder:e("contact.form.messagePlaceholder")})]}),r.jsx("button",{type:"submit",disabled:s,className:`w-full btn-primary ${s?"opacity-50 cursor-not-allowed":""}`,children:s?r.jsxs("span",{className:`flex items-center justify-center space-x-2 ${t?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:e("contact.form.sending")})]}):r.jsxs("span",{className:`flex items-center justify-center space-x-2 ${t?"space-x-reverse":""}`,children:[r.jsx(Oh,{className:"h-4 w-4"}),r.jsx("span",{children:e("contact.form.send")})]})})]})]})})]})]})})},uW=()=>r.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-300",children:r.jsxs("main",{children:[r.jsx(sW,{}),r.jsx(oW,{}),r.jsx(t6,{}),r.jsx(lW,{}),r.jsx(dW,{}),r.jsx(cW,{})]})}),mW="modulepreload",gW=function(e){return"/"+e},Y5={},Wc=function(t,a,n){let s=Promise.resolve();if(a&&a.length>0){let c=function(g){return Promise.all(g.map(h=>Promise.resolve(h).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var o=c;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=l?.nonce||l?.getAttribute("nonce");s=c(a.map(g=>{if(g=gW(g),g in Y5)return;Y5[g]=!0;const h=g.endsWith(".css"),x=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${x}`))return;const b=document.createElement("link");if(b.rel=h?"stylesheet":mW,h||(b.as="script"),b.crossOrigin="",b.href=g,d&&b.setAttribute("nonce",d),document.head.appendChild(b),h)return new Promise((v,j)=>{b.addEventListener("load",v),b.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${g}`)))})}))}function i(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return s.then(l=>{for(const d of l||[])d.status==="rejected"&&i(d.reason);return t().catch(i)})};function r6(e,t){return function(){return e.apply(t,arguments)}}const{toString:hW}=Object.prototype,{getPrototypeOf:b2}=Object,{iterator:Yy,toStringTag:a6}=Symbol,Zy=(e=>t=>{const a=hW.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),To=e=>(e=e.toLowerCase(),t=>Zy(t)===e),Xy=e=>t=>typeof t===e,{isArray:Km}=Array,Pm=Xy("undefined");function g0(e){return e!==null&&!Pm(e)&&e.constructor!==null&&!Pm(e.constructor)&&Ks(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const n6=To("ArrayBuffer");function fW(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&n6(e.buffer),t}const pW=Xy("string"),Ks=Xy("function"),s6=Xy("number"),h0=e=>e!==null&&typeof e=="object",xW=e=>e===!0||e===!1,Xp=e=>{if(Zy(e)!=="object")return!1;const t=b2(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(a6 in e)&&!(Yy in e)},yW=e=>{if(!h0(e)||g0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},bW=To("Date"),vW=To("File"),kW=To("Blob"),wW=To("FileList"),jW=e=>h0(e)&&Ks(e.pipe),NW=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ks(e.append)&&((t=Zy(e))==="formdata"||t==="object"&&Ks(e.toString)&&e.toString()==="[object FormData]"))},CW=To("URLSearchParams"),[SW,PW,MW,TW]=["ReadableStream","Request","Response","Headers"].map(To),IW=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function f0(e,t,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Km(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(g0(e))return;const i=a?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function i6(e,t){if(g0(e))return null;t=t.toLowerCase();const a=Object.keys(e);let n=a.length,s;for(;n-- >0;)if(s=a[n],t===s.toLowerCase())return s;return null}const Lc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,o6=e=>!Pm(e)&&e!==Lc;function yN(){const{caseless:e,skipUndefined:t}=o6(this)&&this||{},a={},n=(s,i)=>{const o=e&&i6(a,i)||i;Xp(a[o])&&Xp(s)?a[o]=yN(a[o],s):Xp(s)?a[o]=yN({},s):Km(s)?a[o]=s.slice():(!t||!Pm(s))&&(a[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&f0(arguments[s],n);return a}const AW=(e,t,a,{allOwnKeys:n}={})=>(f0(t,(s,i)=>{a&&Ks(s)?e[i]=r6(s,a):e[i]=s},{allOwnKeys:n}),e),EW=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_W=(e,t,a,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},OW=(e,t,a,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=a!==!1&&b2(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},RW=(e,t,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=t.length;const n=e.indexOf(t,a);return n!==-1&&n===a},DW=e=>{if(!e)return null;if(Km(e))return e;let t=e.length;if(!s6(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},BW=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&b2(Uint8Array)),LW=(e,t)=>{const n=(e&&e[Yy]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},$W=(e,t)=>{let a;const n=[];for(;(a=e.exec(t))!==null;)n.push(a);return n},FW=To("HTMLFormElement"),zW=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,n,s){return n.toUpperCase()+s}),Z5=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),UW=To("RegExp"),l6=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),n={};f0(a,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},qW=e=>{l6(e,(t,a)=>{if(Ks(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const n=e[a];if(Ks(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},VW=(e,t)=>{const a={},n=s=>{s.forEach(i=>{a[i]=!0})};return Km(e)?n(e):n(String(e).split(t)),a},HW=()=>{},WW=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function KW(e){return!!(e&&Ks(e.append)&&e[a6]==="FormData"&&e[Yy])}const QW=e=>{const t=new Array(10),a=(n,s)=>{if(h0(n)){if(t.indexOf(n)>=0)return;if(g0(n))return n;if(!("toJSON"in n)){t[s]=n;const i=Km(n)?[]:{};return f0(n,(o,l)=>{const d=a(o,s+1);!Pm(d)&&(i[l]=d)}),t[s]=void 0,i}}return n};return a(e,0)},GW=To("AsyncFunction"),YW=e=>e&&(h0(e)||Ks(e))&&Ks(e.then)&&Ks(e.catch),d6=((e,t)=>e?setImmediate:t?((a,n)=>(Lc.addEventListener("message",({source:s,data:i})=>{s===Lc&&i===a&&n.length&&n.shift()()},!1),s=>{n.push(s),Lc.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Ks(Lc.postMessage)),ZW=typeof queueMicrotask<"u"?queueMicrotask.bind(Lc):typeof process<"u"&&process.nextTick||d6,XW=e=>e!=null&&Ks(e[Yy]),Ue={isArray:Km,isArrayBuffer:n6,isBuffer:g0,isFormData:NW,isArrayBufferView:fW,isString:pW,isNumber:s6,isBoolean:xW,isObject:h0,isPlainObject:Xp,isEmptyObject:yW,isReadableStream:SW,isRequest:PW,isResponse:MW,isHeaders:TW,isUndefined:Pm,isDate:bW,isFile:vW,isBlob:kW,isRegExp:UW,isFunction:Ks,isStream:jW,isURLSearchParams:CW,isTypedArray:BW,isFileList:wW,forEach:f0,merge:yN,extend:AW,trim:IW,stripBOM:EW,inherits:_W,toFlatObject:OW,kindOf:Zy,kindOfTest:To,endsWith:RW,toArray:DW,forEachEntry:LW,matchAll:$W,isHTMLForm:FW,hasOwnProperty:Z5,hasOwnProp:Z5,reduceDescriptors:l6,freezeMethods:qW,toObjectSet:VW,toCamelCase:zW,noop:HW,toFiniteNumber:WW,findKey:i6,global:Lc,isContextDefined:o6,isSpecCompliantForm:KW,toJSONObject:QW,isAsyncFn:GW,isThenable:YW,setImmediate:d6,asap:ZW,isIterable:XW};function Sr(e,t,a,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Ue.inherits(Sr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ue.toJSONObject(this.config),code:this.code,status:this.status}}});const c6=Sr.prototype,u6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{u6[e]={value:e}});Object.defineProperties(Sr,u6);Object.defineProperty(c6,"isAxiosError",{value:!0});Sr.from=(e,t,a,n,s,i)=>{const o=Object.create(c6);Ue.toFlatObject(e,o,function(g){return g!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return Sr.call(o,l,d,a,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const JW=null;function bN(e){return Ue.isPlainObject(e)||Ue.isArray(e)}function m6(e){return Ue.endsWith(e,"[]")?e.slice(0,-2):e}function X5(e,t,a){return e?e.concat(t).map(function(s,i){return s=m6(s),!a&&i?"["+s+"]":s}).join(a?".":""):t}function eK(e){return Ue.isArray(e)&&!e.some(bN)}const tK=Ue.toFlatObject(Ue,{},null,function(t){return/^is[A-Z]/.test(t)});function Jy(e,t,a){if(!Ue.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,a=Ue.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,w){return!Ue.isUndefined(w[j])});const n=a.metaTokens,s=a.visitor||g,i=a.dots,o=a.indexes,d=(a.Blob||typeof Blob<"u"&&Blob)&&Ue.isSpecCompliantForm(t);if(!Ue.isFunction(s))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(Ue.isDate(v))return v.toISOString();if(Ue.isBoolean(v))return v.toString();if(!d&&Ue.isBlob(v))throw new Sr("Blob is not supported. Use a Buffer instead.");return Ue.isArrayBuffer(v)||Ue.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function g(v,j,w){let S=v;if(v&&!w&&typeof v=="object"){if(Ue.endsWith(j,"{}"))j=n?j:j.slice(0,-2),v=JSON.stringify(v);else if(Ue.isArray(v)&&eK(v)||(Ue.isFileList(v)||Ue.endsWith(j,"[]"))&&(S=Ue.toArray(v)))return j=m6(j),S.forEach(function(T,A){!(Ue.isUndefined(T)||T===null)&&t.append(o===!0?X5([j],A,i):o===null?j:j+"[]",c(T))}),!1}return bN(v)?!0:(t.append(X5(w,j,i),c(v)),!1)}const h=[],x=Object.assign(tK,{defaultVisitor:g,convertValue:c,isVisitable:bN});function b(v,j){if(!Ue.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+j.join("."));h.push(v),Ue.forEach(v,function(S,M){(!(Ue.isUndefined(S)||S===null)&&s.call(t,S,Ue.isString(M)?M.trim():M,j,x))===!0&&b(S,j?j.concat(M):[M])}),h.pop()}}if(!Ue.isObject(e))throw new TypeError("data must be an object");return b(e),t}function J5(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function v2(e,t){this._pairs=[],e&&Jy(e,this,t)}const g6=v2.prototype;g6.append=function(t,a){this._pairs.push([t,a])};g6.toString=function(t){const a=t?function(n){return t.call(this,n,J5)}:J5;return this._pairs.map(function(s){return a(s[0])+"="+a(s[1])},"").join("&")};function rK(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function h6(e,t,a){if(!t)return e;const n=a&&a.encode||rK;Ue.isFunction(a)&&(a={serialize:a});const s=a&&a.serialize;let i;if(s?i=s(t,a):i=Ue.isURLSearchParams(t)?t.toString():new v2(t,a).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class eM{constructor(){this.handlers=[]}use(t,a,n){return this.handlers.push({fulfilled:t,rejected:a,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ue.forEach(this.handlers,function(n){n!==null&&t(n)})}}const f6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aK=typeof URLSearchParams<"u"?URLSearchParams:v2,nK=typeof FormData<"u"?FormData:null,sK=typeof Blob<"u"?Blob:null,iK={isBrowser:!0,classes:{URLSearchParams:aK,FormData:nK,Blob:sK},protocols:["http","https","file","blob","url","data"]},k2=typeof window<"u"&&typeof document<"u",vN=typeof navigator=="object"&&navigator||void 0,oK=k2&&(!vN||["ReactNative","NativeScript","NS"].indexOf(vN.product)<0),lK=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dK=k2&&window.location.href||"http://localhost",cK=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:k2,hasStandardBrowserEnv:oK,hasStandardBrowserWebWorkerEnv:lK,navigator:vN,origin:dK},Symbol.toStringTag,{value:"Module"})),os={...cK,...iK};function uK(e,t){return Jy(e,new os.classes.URLSearchParams,{visitor:function(a,n,s,i){return os.isNode&&Ue.isBuffer(a)?(this.append(n,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function mK(e){return Ue.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function gK(e){const t={},a=Object.keys(e);let n;const s=a.length;let i;for(n=0;n<s;n++)i=a[n],t[i]=e[i];return t}function p6(e){function t(a,n,s,i){let o=a[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=a.length;return o=!o&&Ue.isArray(s)?s.length:o,d?(Ue.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!Ue.isObject(s[o]))&&(s[o]=[]),t(a,n,s[o],i)&&Ue.isArray(s[o])&&(s[o]=gK(s[o])),!l)}if(Ue.isFormData(e)&&Ue.isFunction(e.entries)){const a={};return Ue.forEachEntry(e,(n,s)=>{t(mK(n),s,a,0)}),a}return null}function hK(e,t,a){if(Ue.isString(e))try{return(t||JSON.parse)(e),Ue.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(a||JSON.stringify)(e)}const p0={transitional:f6,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const n=a.getContentType()||"",s=n.indexOf("application/json")>-1,i=Ue.isObject(t);if(i&&Ue.isHTMLForm(t)&&(t=new FormData(t)),Ue.isFormData(t))return s?JSON.stringify(p6(t)):t;if(Ue.isArrayBuffer(t)||Ue.isBuffer(t)||Ue.isStream(t)||Ue.isFile(t)||Ue.isBlob(t)||Ue.isReadableStream(t))return t;if(Ue.isArrayBufferView(t))return t.buffer;if(Ue.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return uK(t,this.formSerializer).toString();if((l=Ue.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Jy(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||s?(a.setContentType("application/json",!1),hK(t)):t}],transformResponse:[function(t){const a=this.transitional||p0.transitional,n=a&&a.forcedJSONParsing,s=this.responseType==="json";if(Ue.isResponse(t)||Ue.isReadableStream(t))return t;if(t&&Ue.isString(t)&&(n&&!this.responseType||s)){const o=!(a&&a.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Sr.from(l,Sr.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:os.classes.FormData,Blob:os.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ue.forEach(["delete","get","head","post","put","patch"],e=>{p0.headers[e]={}});const fK=Ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pK=e=>{const t={};let a,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),a=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!a||t[a]&&fK[a])&&(a==="set-cookie"?t[a]?t[a].push(n):t[a]=[n]:t[a]=t[a]?t[a]+", "+n:n)}),t},tM=Symbol("internals");function Zg(e){return e&&String(e).trim().toLowerCase()}function Jp(e){return e===!1||e==null?e:Ue.isArray(e)?e.map(Jp):String(e)}function xK(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(e);)t[n[1]]=n[2];return t}const yK=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Jk(e,t,a,n,s){if(Ue.isFunction(n))return n.call(this,t,a);if(s&&(t=a),!!Ue.isString(t)){if(Ue.isString(n))return t.indexOf(n)!==-1;if(Ue.isRegExp(n))return n.test(t)}}function bK(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,n)=>a.toUpperCase()+n)}function vK(e,t){const a=Ue.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+a,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let Qs=class{constructor(t){t&&this.set(t)}set(t,a,n){const s=this;function i(l,d,c){const g=Zg(d);if(!g)throw new Error("header name must be a non-empty string");const h=Ue.findKey(s,g);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||d]=Jp(l))}const o=(l,d)=>Ue.forEach(l,(c,g)=>i(c,g,d));if(Ue.isPlainObject(t)||t instanceof this.constructor)o(t,a);else if(Ue.isString(t)&&(t=t.trim())&&!yK(t))o(pK(t),a);else if(Ue.isObject(t)&&Ue.isIterable(t)){let l={},d,c;for(const g of t){if(!Ue.isArray(g))throw TypeError("Object iterator must return a key-value pair");l[c=g[0]]=(d=l[c])?Ue.isArray(d)?[...d,g[1]]:[d,g[1]]:g[1]}o(l,a)}else t!=null&&i(a,t,n);return this}get(t,a){if(t=Zg(t),t){const n=Ue.findKey(this,t);if(n){const s=this[n];if(!a)return s;if(a===!0)return xK(s);if(Ue.isFunction(a))return a.call(this,s,n);if(Ue.isRegExp(a))return a.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=Zg(t),t){const n=Ue.findKey(this,t);return!!(n&&this[n]!==void 0&&(!a||Jk(this,this[n],n,a)))}return!1}delete(t,a){const n=this;let s=!1;function i(o){if(o=Zg(o),o){const l=Ue.findKey(n,o);l&&(!a||Jk(n,n[l],l,a))&&(delete n[l],s=!0)}}return Ue.isArray(t)?t.forEach(i):i(t),s}clear(t){const a=Object.keys(this);let n=a.length,s=!1;for(;n--;){const i=a[n];(!t||Jk(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const a=this,n={};return Ue.forEach(this,(s,i)=>{const o=Ue.findKey(n,i);if(o){a[o]=Jp(s),delete a[i];return}const l=t?bK(i):String(i).trim();l!==i&&delete a[i],a[l]=Jp(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return Ue.forEach(this,(n,s)=>{n!=null&&n!==!1&&(a[s]=t&&Ue.isArray(n)?n.join(", "):n)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const n=new this(t);return a.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[tM]=this[tM]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Zg(o);n[l]||(vK(s,o),n[l]=!0)}return Ue.isArray(t)?t.forEach(i):i(t),this}};Qs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ue.reduceDescriptors(Qs.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[a]=n}}});Ue.freezeMethods(Qs);function ew(e,t){const a=this||p0,n=t||a,s=Qs.from(n.headers);let i=n.data;return Ue.forEach(e,function(l){i=l.call(a,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function x6(e){return!!(e&&e.__CANCEL__)}function Qm(e,t,a){Sr.call(this,e??"canceled",Sr.ERR_CANCELED,t,a),this.name="CanceledError"}Ue.inherits(Qm,Sr,{__CANCEL__:!0});function y6(e,t,a){const n=a.config.validateStatus;!a.status||!n||n(a.status)?e(a):t(new Sr("Request failed with status code "+a.status,[Sr.ERR_BAD_REQUEST,Sr.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function kK(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function wK(e,t){e=e||10;const a=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),g=n[i];o||(o=c),a[s]=d,n[s]=c;let h=i,x=0;for(;h!==s;)x+=a[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const b=g&&c-g;return b?Math.round(x*1e3/b):void 0}}function jK(e,t){let a=0,n=1e3/t,s,i;const o=(c,g=Date.now())=>{a=g,s=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const g=Date.now(),h=g-a;h>=n?o(c,g):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},n-h)))},()=>s&&o(s)]}const Sx=(e,t,a=3)=>{let n=0;const s=wK(50,250);return jK(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-n,c=s(d),g=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&g?(l-o)/c:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},a)},rM=(e,t)=>{const a=e!=null;return[n=>t[0]({lengthComputable:a,total:e,loaded:n}),t[1]]},aM=e=>(...t)=>Ue.asap(()=>e(...t)),NK=os.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,os.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(os.origin),os.navigator&&/(msie|trident)/i.test(os.navigator.userAgent)):()=>!0,CK=os.hasStandardBrowserEnv?{write(e,t,a,n,s,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Ue.isNumber(a)&&l.push(`expires=${new Date(a).toUTCString()}`),Ue.isString(n)&&l.push(`path=${n}`),Ue.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),Ue.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function SK(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function PK(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function b6(e,t,a){let n=!SK(t);return e&&(n||a==!1)?PK(e,t):t}const nM=e=>e instanceof Qs?{...e}:e;function tu(e,t){t=t||{};const a={};function n(c,g,h,x){return Ue.isPlainObject(c)&&Ue.isPlainObject(g)?Ue.merge.call({caseless:x},c,g):Ue.isPlainObject(g)?Ue.merge({},g):Ue.isArray(g)?g.slice():g}function s(c,g,h,x){if(Ue.isUndefined(g)){if(!Ue.isUndefined(c))return n(void 0,c,h,x)}else return n(c,g,h,x)}function i(c,g){if(!Ue.isUndefined(g))return n(void 0,g)}function o(c,g){if(Ue.isUndefined(g)){if(!Ue.isUndefined(c))return n(void 0,c)}else return n(void 0,g)}function l(c,g,h){if(h in t)return n(c,g);if(h in e)return n(void 0,c)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,g,h)=>s(nM(c),nM(g),h,!0)};return Ue.forEach(Object.keys({...e,...t}),function(g){const h=d[g]||s,x=h(e[g],t[g],g);Ue.isUndefined(x)&&h!==l||(a[g]=x)}),a}const v6=e=>{const t=tu({},e);let{data:a,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Qs.from(o),t.url=h6(b6(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Ue.isFormData(a)){if(os.hasStandardBrowserEnv||os.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ue.isFunction(a.getHeaders)){const d=a.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([g,h])=>{c.includes(g.toLowerCase())&&o.set(g,h)})}}if(os.hasStandardBrowserEnv&&(n&&Ue.isFunction(n)&&(n=n(t)),n||n!==!1&&NK(t.url))){const d=s&&i&&CK.read(i);d&&o.set(s,d)}return t},MK=typeof XMLHttpRequest<"u",TK=MK&&function(e){return new Promise(function(a,n){const s=v6(e);let i=s.data;const o=Qs.from(s.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=s,g,h,x,b,v;function j(){b&&b(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function S(){if(!w)return;const T=Qs.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),I={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:T,config:e,request:w};y6(function(D){a(D),j()},function(D){n(D),j()},I),w=null}"onloadend"in w?w.onloadend=S:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(S)},w.onabort=function(){w&&(n(new Sr("Request aborted",Sr.ECONNABORTED,e,w)),w=null)},w.onerror=function(A){const I=A&&A.message?A.message:"Network Error",_=new Sr(I,Sr.ERR_NETWORK,e,w);_.event=A||null,n(_),w=null},w.ontimeout=function(){let A=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const I=s.transitional||f6;s.timeoutErrorMessage&&(A=s.timeoutErrorMessage),n(new Sr(A,I.clarifyTimeoutError?Sr.ETIMEDOUT:Sr.ECONNABORTED,e,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&Ue.forEach(o.toJSON(),function(A,I){w.setRequestHeader(I,A)}),Ue.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),l&&l!=="json"&&(w.responseType=s.responseType),c&&([x,v]=Sx(c,!0),w.addEventListener("progress",x)),d&&w.upload&&([h,b]=Sx(d),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(g=T=>{w&&(n(!T||T.type?new Qm(null,e,w):T),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const M=kK(s.url);if(M&&os.protocols.indexOf(M)===-1){n(new Sr("Unsupported protocol "+M+":",Sr.ERR_BAD_REQUEST,e));return}w.send(i||null)})},IK=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let n=new AbortController,s;const i=function(c){if(!s){s=!0,l();const g=c instanceof Error?c:this.reason;n.abort(g instanceof Sr?g:new Qm(g instanceof Error?g.message:g))}};let o=t&&setTimeout(()=>{o=null,i(new Sr(`timeout ${t} of ms exceeded`,Sr.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>Ue.asap(l),d}},AK=function*(e,t){let a=e.byteLength;if(a<t){yield e;return}let n=0,s;for(;n<a;)s=n+t,yield e.slice(n,s),n=s},EK=async function*(e,t){for await(const a of _K(e))yield*AK(a,t)},_K=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:a,value:n}=await t.read();if(a)break;yield n}}finally{await t.cancel()}},sM=(e,t,a,n)=>{const s=EK(e,t);let i=0,o,l=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:c,value:g}=await s.next();if(c){l(),d.close();return}let h=g.byteLength;if(a){let x=i+=h;a(x)}d.enqueue(new Uint8Array(g))}catch(c){throw l(c),c}},cancel(d){return l(d),s.return()}},{highWaterMark:2})},iM=64*1024,{isFunction:up}=Ue,OK=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ue.global),{ReadableStream:oM,TextEncoder:lM}=Ue.global,dM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},RK=e=>{e=Ue.merge.call({skipUndefined:!0},OK,e);const{fetch:t,Request:a,Response:n}=e,s=t?up(t):typeof fetch=="function",i=up(a),o=up(n);if(!s)return!1;const l=s&&up(oM),d=s&&(typeof lM=="function"?(v=>j=>v.encode(j))(new lM):async v=>new Uint8Array(await new a(v).arrayBuffer())),c=i&&l&&dM(()=>{let v=!1;const j=new a(os.origin,{body:new oM,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!j}),g=o&&l&&dM(()=>Ue.isReadableStream(new n("").body)),h={stream:g&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!h[v]&&(h[v]=(j,w)=>{let S=j&&j[v];if(S)return S.call(j);throw new Sr(`Response type '${v}' is not supported`,Sr.ERR_NOT_SUPPORT,w)})});const x=async v=>{if(v==null)return 0;if(Ue.isBlob(v))return v.size;if(Ue.isSpecCompliantForm(v))return(await new a(os.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Ue.isArrayBufferView(v)||Ue.isArrayBuffer(v))return v.byteLength;if(Ue.isURLSearchParams(v)&&(v=v+""),Ue.isString(v))return(await d(v)).byteLength},b=async(v,j)=>{const w=Ue.toFiniteNumber(v.getContentLength());return w??x(j)};return async v=>{let{url:j,method:w,data:S,signal:M,cancelToken:T,timeout:A,onDownloadProgress:I,onUploadProgress:_,responseType:D,headers:E,withCredentials:X="same-origin",fetchOptions:ee}=v6(v),Z=t||fetch;D=D?(D+"").toLowerCase():"text";let B=IK([M,T&&T.toAbortSignal()],A),G=null;const J=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let ce;try{if(_&&c&&w!=="get"&&w!=="head"&&(ce=await b(E,S))!==0){let z=new a(j,{method:"POST",body:S,duplex:"half"}),V;if(Ue.isFormData(S)&&(V=z.headers.get("content-type"))&&E.setContentType(V),z.body){const[F,$]=rM(ce,Sx(aM(_)));S=sM(z.body,iM,F,$)}}Ue.isString(X)||(X=X?"include":"omit");const te=i&&"credentials"in a.prototype,K={...ee,signal:B,method:w.toUpperCase(),headers:E.normalize().toJSON(),body:S,duplex:"half",credentials:te?X:void 0};G=i&&new a(j,K);let Y=await(i?Z(G,ee):Z(j,K));const re=g&&(D==="stream"||D==="response");if(g&&(I||re&&J)){const z={};["status","statusText","headers"].forEach(q=>{z[q]=Y[q]});const V=Ue.toFiniteNumber(Y.headers.get("content-length")),[F,$]=I&&rM(V,Sx(aM(I),!0))||[];Y=new n(sM(Y.body,iM,F,()=>{$&&$(),J&&J()}),z)}D=D||"text";let ne=await h[Ue.findKey(h,D)||"text"](Y,v);return!re&&J&&J(),await new Promise((z,V)=>{y6(z,V,{data:ne,headers:Qs.from(Y.headers),status:Y.status,statusText:Y.statusText,config:v,request:G})})}catch(te){throw J&&J(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new Sr("Network Error",Sr.ERR_NETWORK,v,G),{cause:te.cause||te}):Sr.from(te,te&&te.code,v,G)}}},DK=new Map,k6=e=>{let t=e&&e.env||{};const{fetch:a,Request:n,Response:s}=t,i=[n,s,a];let o=i.length,l=o,d,c,g=DK;for(;l--;)d=i[l],c=g.get(d),c===void 0&&g.set(d,c=l?new Map:RK(t)),g=c;return c};k6();const w2={http:JW,xhr:TK,fetch:{get:k6}};Ue.forEach(w2,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const cM=e=>`- ${e}`,BK=e=>Ue.isFunction(e)||e===null||e===!1;function LK(e,t){e=Ue.isArray(e)?e:[e];const{length:a}=e;let n,s;const i={};for(let o=0;o<a;o++){n=e[o];let l;if(s=n,!BK(n)&&(s=w2[(l=String(n)).toLowerCase()],s===void 0))throw new Sr(`Unknown adapter '${l}'`);if(s&&(Ue.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=a?o.length>1?`since :
`+o.map(cM).join(`
`):" "+cM(o[0]):"as no adapter specified";throw new Sr("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const w6={getAdapter:LK,adapters:w2};function tw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qm(null,e)}function uM(e){return tw(e),e.headers=Qs.from(e.headers),e.data=ew.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),w6.getAdapter(e.adapter||p0.adapter,e)(e).then(function(n){return tw(e),n.data=ew.call(e,e.transformResponse,n),n.headers=Qs.from(n.headers),n},function(n){return x6(n)||(tw(e),n&&n.response&&(n.response.data=ew.call(e,e.transformResponse,n.response),n.response.headers=Qs.from(n.response.headers))),Promise.reject(n)})}const j6="1.13.2",eb={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{eb[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const mM={};eb.transitional=function(t,a,n){function s(i,o){return"[Axios v"+j6+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new Sr(s(o," has been removed"+(a?" in "+a:"")),Sr.ERR_DEPRECATED);return a&&!mM[o]&&(mM[o]=!0,console.warn(s(o," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(i,o,l):!0}};eb.spelling=function(t){return(a,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function $K(e,t,a){if(typeof e!="object")throw new Sr("options must be an object",Sr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new Sr("option "+i+" must be "+d,Sr.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Sr("Unknown option "+i,Sr.ERR_BAD_OPTION)}}const ex={assertOptions:$K,validators:eb},Vo=ex.validators;let Kc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new eM,response:new eM}}async request(t,a){try{return await this._request(t,a)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=tu(this.defaults,a);const{transitional:n,paramsSerializer:s,headers:i}=a;n!==void 0&&ex.assertOptions(n,{silentJSONParsing:Vo.transitional(Vo.boolean),forcedJSONParsing:Vo.transitional(Vo.boolean),clarifyTimeoutError:Vo.transitional(Vo.boolean)},!1),s!=null&&(Ue.isFunction(s)?a.paramsSerializer={serialize:s}:ex.assertOptions(s,{encode:Vo.function,serialize:Vo.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),ex.assertOptions(a,{baseUrl:Vo.spelling("baseURL"),withXsrfToken:Vo.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let o=i&&Ue.merge(i.common,i[a.method]);i&&Ue.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),a.headers=Qs.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(a)===!1||(d=d&&j.synchronous,l.unshift(j.fulfilled,j.rejected))});const c=[];this.interceptors.response.forEach(function(j){c.push(j.fulfilled,j.rejected)});let g,h=0,x;if(!d){const v=[uM.bind(this),void 0];for(v.unshift(...l),v.push(...c),x=v.length,g=Promise.resolve(a);h<x;)g=g.then(v[h++],v[h++]);return g}x=l.length;let b=a;for(;h<x;){const v=l[h++],j=l[h++];try{b=v(b)}catch(w){j.call(this,w);break}}try{g=uM.call(this,b)}catch(v){return Promise.reject(v)}for(h=0,x=c.length;h<x;)g=g.then(c[h++],c[h++]);return g}getUri(t){t=tu(this.defaults,t);const a=b6(t.baseURL,t.url,t.allowAbsoluteUrls);return h6(a,t.params,t.paramsSerializer)}};Ue.forEach(["delete","get","head","options"],function(t){Kc.prototype[t]=function(a,n){return this.request(tu(n||{},{method:t,url:a,data:(n||{}).data}))}});Ue.forEach(["post","put","patch"],function(t){function a(n){return function(i,o,l){return this.request(tu(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Kc.prototype[t]=a(),Kc.prototype[t+"Form"]=a(!0)});let FK=class N6{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Qm(i,o,l),a(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=n=>{t.abort(n)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new N6(function(s){t=s}),cancel:t}}};function zK(e){return function(a){return e.apply(null,a)}}function UK(e){return Ue.isObject(e)&&e.isAxiosError===!0}const kN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(kN).forEach(([e,t])=>{kN[t]=e});function C6(e){const t=new Kc(e),a=r6(Kc.prototype.request,t);return Ue.extend(a,Kc.prototype,t,{allOwnKeys:!0}),Ue.extend(a,t,null,{allOwnKeys:!0}),a.create=function(s){return C6(tu(e,s))},a}const Za=C6(p0);Za.Axios=Kc;Za.CanceledError=Qm;Za.CancelToken=FK;Za.isCancel=x6;Za.VERSION=j6;Za.toFormData=Jy;Za.AxiosError=Sr;Za.Cancel=Za.CanceledError;Za.all=function(t){return Promise.all(t)};Za.spread=zK;Za.isAxiosError=UK;Za.mergeConfig=tu;Za.AxiosHeaders=Qs;Za.formToJSON=e=>p6(Ue.isHTMLForm(e)?new FormData(e):e);Za.getAdapter=w6.getAdapter;Za.HttpStatusCode=kN;Za.default=Za;const{Axios:ije,AxiosError:oje,CanceledError:lje,isCancel:dje,CancelToken:cje,VERSION:uje,all:mje,Cancel:gje,isAxiosError:gM,spread:hje,toFormData:fje,AxiosHeaders:pje,HttpStatusCode:xje,formToJSON:yje,getAdapter:bje,mergeConfig:vje}=Za;class qK{isDevelopment=!1;isProduction=!0;isTest=!1;formatMessage(t,a,n){const s=new Date().toISOString(),i=this.getLevelIcon(t),o=n?`[${n}] `:"";return`${i} ${s} ${o}${a}`}getLevelIcon(t){switch(t){case"info":return"";case"warn":return"";case"error":return"";case"debug":return"";default:return""}}shouldLog(t){return this.isTest?!1:this.isProduction?t==="error"||t==="warn":!0}shouldLogSignalR(t){return this.isTest?!1:this.isProduction?t==="error"||t==="warn":!0}shouldLogDebug(t){return t==="debug"?this.isDevelopment&&!this.isProduction:this.shouldLog(t)}info(t,a,n){this.shouldLog("info")&&this.formatMessage("info",t,n?.prefix)}warn(t,a,n){if(!this.shouldLog("warn"))return;const s=this.formatMessage("warn",t,n?.prefix);console.warn(s,a||"")}error(t,a,n){if(!this.shouldLog("error"))return;const s=this.formatMessage("error",t,n?.prefix);console.error(s,a||"")}debug(t,a,n){this.shouldLogDebug("debug")&&this.formatMessage("debug",t,n?.prefix)}signalR(t,a,n){if(!this.shouldLogSignalR(t))return;const s=this.formatMessage(t,`[SignalR] ${a}`);(t==="error"?console.error:t==="warn"?console.warn:console.log)(s,n||"")}log(t,a){this.isDevelopment&&console.log(t,a||"")}}const N=new qK,Nh=Object.freeze(Object.defineProperty({__proto__:null,logger:N},Symbol.toStringTag,{value:"Module"})),S6=e=>{if(N.error("Error parsing:",e),e.status===0||e.message?.includes("Network Error")||e.message?.includes("ERR_EMPTY_RESPONSE")||e.message?.includes("ERR_CONNECTION_REFUSED"))return{message:e.message||"Network Error",type:"network",retryable:!0,userFriendlyMessage:"Sunucuya balanlamyor. Ltfen internet balantnz kontrol edin."};if(e.code==="ECONNABORTED"||e.message?.includes("timeout"))return{message:e.message||"Request timeout",type:"network",retryable:!0,userFriendlyMessage:"stek zaman amna urad. Ltfen tekrar deneyin."};if(e.message?.includes("CORS"))return{message:e.message||"CORS Error",type:"network",retryable:!1,userFriendlyMessage:"Sunucu eriim hatas. Ltfen daha sonra tekrar deneyin."};if(e.response?.status){const t=e.response.status;switch(t){case 400:return{message:e.response.data?.message||"Bad Request",type:"validation",retryable:!1,userFriendlyMessage:e.response.data?.message||"Geersiz istek. Ltfen bilgilerinizi kontrol edin."};case 401:return{message:e.response.data?.message||"Unauthorized",type:"auth",retryable:!1,userFriendlyMessage:"Giri bilgileriniz hatal. Ltfen tekrar deneyin."};case 403:return{message:e.response.data?.message||"Forbidden",type:"auth",retryable:!1,userFriendlyMessage:"Bu ilem iin yetkiniz bulunmuyor."};case 404:return{message:e.response.data?.message||"Not Found",type:"server",retryable:!1,userFriendlyMessage:"stenen kaynak bulunamad."};case 500:case 502:case 503:case 504:return{message:e.response.data?.message||"Server Error",type:"server",retryable:!0,userFriendlyMessage:"Sunucu hatas. Ltfen daha sonra tekrar deneyin."};default:return{message:e.response.data?.message||`HTTP ${t}`,type:"server",retryable:t>=500,userFriendlyMessage:e.response.data?.message||"Bir hata olutu. Ltfen tekrar deneyin."}}}return{message:e.message||"Unknown Error",type:"unknown",retryable:!1,userFriendlyMessage:"Beklenmeyen bir hata olutu. Ltfen tekrar deneyin."}},VK=e=>S6(e).userFriendlyMessage,HK=(e,t)=>{const a=S6(e);N.error(` ${t}:`,{message:a.message,type:a.type,retryable:a.retryable,originalError:e})},WK="https://api.mertcode.com",j2=()=>navigator.onLine,P6=()=>j2()?"Sunucuya balanlamyor. Ltfen internet balantnz kontrol edin.":"nternet balantnz kesilmi. Ltfen balantnz kontrol edin.",he=Za.create({baseURL:WK,headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:3e4,withCredentials:!0});he.interceptors.request.use(e=>{if(!j2()){const a={status:0,message:P6(),errors:void 0,response:void 0};return Promise.reject(a)}(e.url?.includes("/batch")||e.headers?.["X-Request-Type"]==="batch-operation")&&(e.timeout=12e4);const t=localStorage.getItem("customerSessionToken");if(t)e.headers.Authorization=`Bearer ${t}`;else{const a=localStorage.getItem("token");if(a){e.headers.Authorization=`Bearer ${a}`;const n=localStorage.getItem("tokenExpiry");if(n){const s=new Date(n);(isNaN(s.getTime())||s<=new Date)&&N.warn(" Token sresi dolmu veya geersiz!")}}}return e},e=>(N.error(" Request Error:",e),Promise.reject(e)));he.interceptors.request.use(e=>{if(!j2()){const a={status:0,message:P6(),errors:void 0,response:void 0};return Promise.reject(a)}if((e.url?.includes("/batch")||e.headers?.["X-Request-Type"]==="batch-operation")&&(e.timeout=12e4),e.url?.includes("/api/online")){if(["/start-session","/menu/"].some(i=>e.url?.includes(i)))return e;const s=localStorage.getItem("token");if(s)e.headers.Authorization=`Bearer ${s}`;else{const i={status:401,message:"Online menu oturumu balatlmam. Ltfen sayfay yenileyin.",errors:void 0,response:void 0};return Promise.reject(i)}return e}const t=localStorage.getItem("customerSessionToken");if(t)e.headers.Authorization=`Bearer ${t}`;else{const a=localStorage.getItem("token");if(a){e.headers.Authorization=`Bearer ${a}`;const n=localStorage.getItem("tokenExpiry");if(n){const s=new Date(n);(isNaN(s.getTime())||s<=new Date)&&N.warn(" Token sresi dolmu veya geersiz!")}}}return e},e=>(N.error(" Request Error:",e),Promise.reject(e)));const x0=e=>{try{const a=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(a).split("").map(function(s){return"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n)}catch(t){return console.error("Token decode hatas:",t),null}},Qc=()=>{try{const e=localStorage.getItem("token");return e&&x0(e)?.restaurant_id||null}catch(e){return console.error("Restaurant ID alnrken hata:",e),null}},Px=()=>{try{const e=localStorage.getItem("token");if(!e)return!1;const t=x0(e),a=t?.restaurant_id&&t?.restaurant_id!==""&&t?.restaurant_id!==null&&t?.restaurant_id!==void 0,n=t?.branch_id&&t?.branch_id!==""&&t?.branch_id!==null&&t?.branch_id!==void 0;return!a&&n}catch(e){return console.error("Kullanc tipi kontrol edilirken hata:",e),!1}},hM=Object.freeze(Object.defineProperty({__proto__:null,decodeToken:x0,getRestaurantIdFromToken:Qc,httpClient:he,isBranchOnlyUser:Px},Symbol.toStringTag,{value:"Module"}));async function Dr(e){return(await he.request(e)).data}class KK{async login(t){return Dr({method:"POST",url:"/api/Auth/Login",data:t})}async register(t){const{logger:a}=await Wc(async()=>{const{logger:n}=await Promise.resolve().then(()=>Nh);return{logger:n}},[]);try{a.info("Register istei gnderiliyor:",{email:t.email});const n=await Dr({method:"POST",url:"/api/Auth/Register",data:t});a.info("Register API yant:",n);const s={success:!0,data:n,message:n.message};return a.info("Register baarl:",s),s}catch(n){throw a.error("Register hatas:",n),n}}async getSelectionScreenData(){const{logger:t}=await Wc(async()=>{const{logger:a}=await Promise.resolve().then(()=>Nh);return{logger:a}},void 0);try{t.info("getSelectionScreenData arlyor...");const a=await Dr({method:"GET",url:"/api/Auth/GetSelectionScreenData"});if(t.info("getSelectionScreenData API yant:",a),!a)throw new Error("API yant bo");const n=a;if(!n.restaurantId||!n.restaurantName)throw new Error("Restoran bilgileri eksik");const s={success:!0,data:n};return t.info("getSelectionScreenData baarl:",s),s}catch(a){throw t.error("getSelectionScreenData hatas:",a),a}}async getUserProfile(){const{logger:t}=await Wc(async()=>{const{logger:a}=await Promise.resolve().then(()=>Nh);return{logger:a}},void 0);try{t.info("getUserProfile arlyor...");const a=localStorage.getItem("token");if(!a)throw new Error("Token bulunamad");const n=x0(a);if(!n)throw new Error("Token geersiz");let s=null;try{s=await Dr({method:"GET",url:"/api/Users/profile"})}catch(o){o?.response?.status===404?t.info("Profile endpoint mevcut deil, JWT kullanlacak"):t.warn("/api/Users/profile istei baarsz, JWT'ye dlecek:",o)}if(s){let o;if(s.appUser&&s.appRoles)o=s;else if(s.data?.appUser&&s.data?.appRoles)o=s.data;else if(s.success!==void 0&&s.data)o=s.data;else if(s.id&&s.email&&s.roles&&s.permissions)o={appUser:{appUserId:s.id,name:s.name,surname:s.surname,userName:s.userName,email:s.email,restaurantId:s.restaurantId,restaurant:{restaurantId:s.restaurantId,restaurantName:s.restaurantName,restaurantLogoPath:"",restaurantStatus:!0},branchId:s.branchId,branch:null,profileImage:s.profileImage,isActive:s.isActive,createdDate:s.createdDate,modifiedDate:s.modifiedDate},appRoles:s.roles.map((l,d)=>({appRoleId:`api-role-${d}`,name:l,description:l,restaurantId:s.restaurantId,branchId:s.branchId,category:l.includes("Branch")?"Branch":"Restaurant",isSystemRole:!0,createdDate:s.createdDate,modifiedDate:null,permissions:s.permissions.map((c,g)=>({permissionId:g,name:c,description:c,category:l.includes("Branch")?"Branch":"Restaurant"}))}))};else throw t.warn("Bilinmeyen API yant format:",s),new Error("API yant format tannmyor");if(!o.appUser)throw new Error("Kullanc bilgileri eksik");return o.appUser.restaurant?.restaurantName&&localStorage.setItem("restaurantName",o.appUser.restaurant.restaurantName),t.info("getUserProfile baarl (API):",o),{success:!0,data:o}}return t.info("JWT ierisinden kullanc profili oluturuluyor"),{success:!0,data:{appUser:{appUserId:n.user_id||n.sub||"",name:n.name||n.given_name||"",surname:n.surname||n.family_name||"",userName:n.unique_name||n.username||"",email:n.email||"",restaurantId:n.restaurant_id||0,restaurant:{restaurantId:n.restaurant_id||0,restaurantName:n.restaurant_name||"",restaurantLogoPath:n.restaurant_logo_path||"",restaurantStatus:n.restaurant_status??!0},branchId:n.branch_id||null,branch:null,profileImage:n.profile_image||"",isActive:n.is_active??!0,createdDate:n.created_at||"",modifiedDate:n.modified_at||null},appRoles:Array.isArray(n.roles)?n.roles.map((o,l)=>({appRoleId:`jwt-role-${l}`,name:o,description:o,restaurantId:n.restaurant_id||null,branchId:n.branch_id||null,category:"JWT",isSystemRole:!1,createdDate:"",modifiedDate:null,permissions:Array.isArray(n.permissions)?n.permissions.map((d,c)=>({permissionId:c,name:d,description:d,category:o.includes("Branch")?"Branch":"Restaurant"})):[]})):[]}}}catch(a){throw t.error("getUserProfile hatas:",a),a}}async changePassword(t){try{return await Dr({method:"POST",url:"/api/Auth/ChangePassword",data:t})}catch(a){throw a}}async changeEmail(t){try{return await Dr({method:"POST",url:"/api/Auth/ChangeEmail",data:t})}catch(a){throw a}}async forgotPassword(t){try{return await Dr({method:"POST",url:"/api/Auth/ForgotPassword",data:{email:t}})}catch(a){throw a}}logout(){localStorage.removeItem("token"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("userId")}}const Mm=new KK,M6=()=>{const[e,t]=p.useState({isOnline:navigator.onLine,isConnecting:!1,lastOnline:null,lastOffline:null});return p.useEffect(()=>{const n=()=>{N.info(" nternet balants geri geldi"),t(i=>({...i,isOnline:!0,isConnecting:!1,lastOnline:new Date}))},s=()=>{N.warn(" nternet balants kesildi"),t(i=>({...i,isOnline:!1,lastOffline:new Date}))};return window.addEventListener("online",n),window.addEventListener("offline",s),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}},[]),{...e,testConnection:async()=>{try{t(d=>({...d,isConnecting:!0}));const n=new AbortController,s=setTimeout(()=>n.abort(),5e3),o=await fetch("https://api.mertcode.com/api/health",{method:"HEAD",cache:"no-cache",signal:n.signal});clearTimeout(s);const l=o.ok;return l?N.info(" Network balants test edildi - Baarl"):N.warn(" Network balants test edildi - Baarsz"),t(d=>({...d,isOnline:l,isConnecting:!1})),l}catch(n){return N.error(" Network balants test edilirken hata:",n),t(s=>({...s,isOnline:!1,isConnecting:!1})),!1}}}},QK=()=>{const e=Ra(),{t,isRTL:a}=Ze(),{isOnline:n,testConnection:s}=M6(),[i,o]=p.useState({email:"",password:"",rememberMe:!1}),[l,d]=p.useState({}),[c,g]=p.useState(!1),[h,x]=p.useState(!1);p.useEffect(()=>{window.scrollTo(0,0)},[]),p.useEffect(()=>{const w=localStorage.getItem("savedEmail");localStorage.getItem("rememberMe")==="true"&&w&&o(M=>({...M,email:w,rememberMe:!0}))},[]),p.useEffect(()=>{const w=localStorage.getItem("token"),S=localStorage.getItem("tokenExpiry");if(w&&S)try{new Date(S)>new Date?(N.info("Valid token found, redirecting to dashboard"),e("/dashboard")):(N.info("Token expired, clearing localStorage"),localStorage.removeItem("token"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("userId"))}catch(M){N.error("Error parsing token expiry",M)}},[e]);const b=w=>{const{name:S,value:M,type:T,checked:A}=w.target;o(I=>({...I,[S]:T==="checkbox"?A:M})),l[S]&&d(I=>({...I,[S]:void 0}))},v=()=>{const w={};return i.email?.trim()?/\S+@\S+\.\S+/.test(i.email)||(w.email=t("pages.login.errors.emailInvalid")):w.email=t("pages.login.errors.emailRequired"),i.password?.trim()||(w.password=t("pages.login.errors.passwordRequired")),d(w),Object.keys(w).length===0},j=async w=>{if(w.preventDefault(),N.info("Form submitted",{email:i.email,rememberMe:i.rememberMe,hasPassword:!!i.password}),!v()){N.warn("Form validation failed");return}if(x(!0),d({}),!n&&(N.warn("Network balants yok, balant test ediliyor..."),!await s())){d({general:"nternet balantnz kesilmi. Ltfen balantnz kontrol edin."}),x(!1);return}try{N.info("Sending login request",{email:i.email,rememberMe:i.rememberMe});const S={email:i.email,password:i.password},M=await Mm.login(S);if(N.info("Login response received",{hasAccessToken:!!M?.accessToken,hasExpiresAt:!!M?.expiresAt}),M.accessToken){const T=M.accessToken.split("."),I=JSON.parse(atob(T[1])).user_id;N.info("Login successful, saving token and redirecting"),localStorage.setItem("token",M.accessToken),localStorage.setItem("userId",I),localStorage.setItem("tokenExpiry",M.expiresAt),N.info("Token saved to localStorage",{tokenLength:M.accessToken.length,userId:I,expiresAt:M.expiresAt}),i.rememberMe?(localStorage.setItem("savedEmail",i.email),localStorage.setItem("rememberMe","true"),localStorage.setItem("token",M.accessToken),localStorage.setItem("userId",I),localStorage.setItem("tokenExpiry",M.expiresAt),N.info("Remember Me enabled - email saved",{email:i.email})):(localStorage.removeItem("savedEmail"),localStorage.removeItem("rememberMe"),N.info("Remember Me disabled - email removed"));const _=localStorage.getItem("token");if(N.info("Verifying localStorage after save",{tokenExists:!!_,rememberMe:localStorage.getItem("rememberMe"),savedEmail:localStorage.getItem("savedEmail")}),localStorage.getItem("onboarding_userId")){N.info("Onboarding sreci devam ediyor, restaurant onboarding sayfasna ynlendiriliyor"),e("/onboarding/restaurant");return}if(Px()){N.info("Branch-only user detected, redirecting to dashboard"),e("/dashboard");return}e("/dashboard")}else throw N.error("Invalid login response - no access token"),new Error("Geersiz giri yant")}catch(S){if(HK(S,"Login error"),d({general:S.response?.data?.errorMessage||VK(S)}),x(!1),S.message==="Sunucudan geersiz yant alnd"&&S.response?.status===200)try{N.info("Trying to parse successful response with error",{data:S.response?.data});const M=S.response?.data?.accessToken;if(M){const T=M.split("."),I=JSON.parse(atob(T[1])).user_id;if(N.info("Found access token in error response, saving and redirecting"),localStorage.setItem("token",M),localStorage.setItem("userId",I),localStorage.setItem("tokenExpiry",S.response.data.expiresAt),i.rememberMe?(localStorage.setItem("savedEmail",i.email),localStorage.setItem("rememberMe","true"),N.info("Remember Me enabled - email saved")):(localStorage.removeItem("savedEmail"),localStorage.removeItem("rememberMe"),N.info("Remember Me disabled - email removed")),localStorage.getItem("onboarding_userId")){N.info("Onboarding sreci devam ediyor, restaurant onboarding sayfasna ynlendiriliyor"),e("/onboarding/restaurant");return}if(Px()){N.info("Branch-only user detected, redirecting to dashboard"),e("/dashboard");return}e("/dashboard");return}}catch(M){N.error("Response parsing error",M)}if(S.status===400)if(S.errors){const M={};Object.entries(S.errors).forEach(([T,A])=>{M[T]=Array.isArray(A)?A[0]:A}),d(M)}else d({general:S.response.data.errorMessage||t("pages.login.errors.generalError")});else S.status===401?d({general:S.response.data.errorMessage}):d({general:S.response.data.errorMessage||t("pages.login.errors.generalError")})}finally{x(!1)}};return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx(ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"mb-8 pt-10",children:r.jsxs(ls,{to:"/",className:`inline-flex items-center space-x-2 ${a?"space-x-reverse":""} text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200`,children:[r.jsx(ms,{className:`h-4 w-4 ${a?"rotate-180":""}`}),r.jsx("span",{children:t("pages.login.backToHome")})]})}),r.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:`text-center mb-8 ${a?"text-right":""}`,children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:t("pages.login.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t("pages.login.subtitle")})]}),r.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[l.general&&r.jsx(ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 rounded-lg bg-red-50 dark:bg-red-900/20 p-4 border border-red-200 dark:border-red-800",children:r.jsxs("div",{className:`flex ${a?"space-x-reverse":""}`,children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Nt,{className:"h-5 w-5 text-red-400"})}),r.jsxs("div",{className:`${a?"mr-3":"ml-3"}`,children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-400",children:t("common.error")}),r.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:l.general})]})]})}),r.jsxs("form",{className:"space-y-6",onSubmit:j,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("pages.login.email")}),r.jsxs("div",{className:"relative",children:[r.jsx(Zs,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:i.email,onChange:b,className:`w-full ${a?"pr-10 pl-2":"pl-12 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 ${l.email?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:t("pages.register.placeholders.email")})]}),l.email&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.email})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("pages.login.password")}),r.jsxs("div",{className:"relative",children:[r.jsx(Zd,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{id:"password",name:"password",type:c?"text":"password",autoComplete:"current-password",value:i.password,onChange:b,className:`w-full ${a?"pr-10 pl-2":"pl-12 pr-12"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 ${l.password?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:t("pages.register.placeholders.password")}),r.jsx("button",{type:"button",onClick:()=>g(!c),className:`absolute ${a?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`,children:c?r.jsx(Cs,{className:"h-5 w-5"}):r.jsx(Ya,{className:"h-5 w-5"})})]}),l.password&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.password})]}),r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${a?"space-x-reverse":""} space-x-2`,children:[r.jsx("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",checked:i.rememberMe,onChange:b,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600 rounded"}),r.jsx("label",{htmlFor:"rememberMe",className:`${a?"mr-2":"ml-2"} block text-sm text-gray-700 dark:text-gray-300`,children:t("pages.login.rememberMe")})]}),r.jsx("div",{className:"text-sm",children:r.jsx(ls,{to:"/resetPassword",className:"font-medium text-primary-600 dark:text-primary-400 hover:underline",children:t("pages.login.forgotPassword")})}),r.jsx("div",{className:"text-sm",children:r.jsx(ls,{to:"/confirmMail",className:"font-medium text-primary-600 dark:text-primary-400 hover:underline",children:t("pages.login.confirimEmail")})})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:h,className:`w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg text-white text-sm font-medium ${h?"bg-primary-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700"} transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500`,children:h?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:`animate-spin ${a?"ml-3 -mr-1":"-ml-1 mr-3"} h-5 w-5 text-white`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t("pages.login.signingIn")]}):t("pages.login.signIn")})}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t("pages.login.noAccount")," ",r.jsx(ls,{to:"/register",className:"font-medium text-primary-600 dark:text-primary-400 hover:underline",children:t("pages.login.registerNow")})]})})]})]})]})})},tb=["countries.afghanistan","countries.albania","countries.algeria","countries.andorra","countries.angola","countries.argentina","countries.armenia","countries.australia","countries.austria","countries.azerbaijan","countries.bahamas","countries.bahrain","countries.bangladesh","countries.barbados","countries.belarus","countries.belgium","countries.belize","countries.benin","countries.bhutan","countries.bolivia","countries.bosnia","countries.botswana","countries.brazil","countries.brunei","countries.bulgaria","countries.burkina_faso","countries.burundi","countries.cambodia","countries.cameroon","countries.canada","countries.cape_verde","countries.central_african_republic","countries.chad","countries.chile","countries.china","countries.colombia","countries.comoros","countries.congo","countries.costa_rica","countries.croatia","countries.cuba","countries.cyprus","countries.czech_republic","countries.denmark","countries.djibouti","countries.dominica","countries.dominican_republic","countries.ecuador","countries.egypt","countries.el_salvador","countries.equatorial_guinea","countries.eritrea","countries.estonia","countries.ethiopia","countries.fiji","countries.finland","countries.france","countries.gabon","countries.gambia","countries.georgia","countries.germany","countries.ghana","countries.greece","countries.grenada","countries.guatemala","countries.guinea","countries.guinea_bissau","countries.guyana","countries.haiti","countries.honduras","countries.hungary","countries.iceland","countries.india","countries.indonesia","countries.iran","countries.iraq","countries.ireland","countries.israel","countries.italy","countries.jamaica","countries.japan","countries.jordan","countries.kazakhstan","countries.kenya","countries.kiribati","countries.kuwait","countries.kyrgyzstan","countries.laos","countries.latvia","countries.lebanon","countries.lesotho","countries.liberia","countries.libya","countries.liechtenstein","countries.lithuania","countries.luxembourg","countries.madagascar","countries.malawi","countries.malaysia","countries.maldives","countries.mali","countries.malta","countries.marshall_islands","countries.mauritania","countries.mauritius","countries.mexico","countries.micronesia","countries.moldova","countries.monaco","countries.mongolia","countries.montenegro","countries.morocco","countries.mozambique","countries.myanmar","countries.namibia","countries.nauru","countries.nepal","countries.netherlands","countries.new_zealand","countries.nicaragua","countries.niger","countries.nigeria","countries.north_korea","countries.north_macedonia","countries.norway","countries.oman","countries.pakistan","countries.palau","countries.palestine","countries.panama","countries.papua_new_guinea","countries.paraguay","countries.peru","countries.philippines","countries.poland","countries.portugal","countries.qatar","countries.romania","countries.russia","countries.rwanda","countries.saint_kitts","countries.saint_lucia","countries.saint_vincent","countries.samoa","countries.san_marino","countries.sao_tome","countries.saudi_arabia","countries.senegal","countries.serbia","countries.seychelles","countries.sierra_leone","countries.singapore","countries.slovakia","countries.slovenia","countries.solomon_islands","countries.somalia","countries.south_africa","countries.south_korea","countries.south_sudan","countries.spain","countries.sri_lanka","countries.sudan","countries.suriname","countries.sweden","countries.switzerland","countries.syria","countries.taiwan","countries.tajikistan","countries.tanzania","countries.thailand","countries.timor_leste","countries.togo","countries.tonga","countries.trinidad","countries.tunisia","countries.turkey","countries.turkmenistan","countries.tuvalu","countries.uganda","countries.ukraine","countries.uae","countries.united_kingdom","countries.united_states","countries.uruguay","countries.uzbekistan","countries.vanuatu","countries.vatican","countries.venezuela","countries.vietnam","countries.yemen","countries.zambia","countries.zimbabwe"],Gs=[{name:"TR",code:"+90"},{name:"US",code:"+1"},{name:"GB",code:"+44"},{name:"DE",code:"+49"},{name:"FR",code:"+33"},{name:"ES",code:"+34"},{name:"IT",code:"+39"},{name:"NL",code:"+31"},{name:"GR",code:"+30"},{name:"JP",code:"+81"},{name:"KR",code:"+82"},{name:"CN",code:"+86"},{name:"IN",code:"+91"},{name:"BR",code:"+55"},{name:"RU",code:"+7"},{name:"AU",code:"+61"},{name:"CA",code:"+1"},{name:"MX",code:"+52"},{name:"AR",code:"+54"},{name:"ZA",code:"+27"},{name:"EG",code:"+20"},{name:"SA",code:"+966"},{name:"AE",code:"+971"},{name:"AT",code:"+43"},{name:"BE",code:"+32"},{name:"SE",code:"+46"},{name:"NO",code:"+47"},{name:"DK",code:"+45"},{name:"PL",code:"+48"},{name:"PT",code:"+351"},{name:"IE",code:"+353"},{name:"UA",code:"+380"},{name:"CZ",code:"+420"},{name:"HU",code:"+36"},{name:"RO",code:"+40"},{name:"CH",code:"+41"},{name:"FI",code:"+358"},{name:"IS",code:"+354"},{name:"LU",code:"+352"},{name:"SK",code:"+421"},{name:"SI",code:"+386"},{name:"BG",code:"+359"},{name:"HR",code:"+385"},{name:"RS",code:"+381"},{name:"BA",code:"+387"},{name:"AL",code:"+355"},{name:"MK",code:"+389"},{name:"LT",code:"+370"},{name:"LV",code:"+371"},{name:"EE",code:"+372"},{name:"PS",code:"+970"},{name:"SY",code:"+963"},{name:"JO",code:"+962"},{name:"LB",code:"+961"},{name:"IQ",code:"+964"},{name:"KW",code:"+965"},{name:"QA",code:"+974"},{name:"OM",code:"+968"},{name:"BH",code:"+973"},{name:"PK",code:"+92"},{name:"BD",code:"+880"},{name:"LK",code:"+94"},{name:"NP",code:"+977"},{name:"TH",code:"+66"},{name:"VN",code:"+84"},{name:"PH",code:"+63"},{name:"ID",code:"+62"},{name:"MY",code:"+60"},{name:"SG",code:"+65"},{name:"NZ",code:"+64"},{name:"CL",code:"+56"},{name:"CO",code:"+57"},{name:"PE",code:"+51"},{name:"VE",code:"+58"},{name:"NG",code:"+234"},{name:"KE",code:"+254"},{name:"MA",code:"+212"},{name:"TN",code:"+216"}],GK=()=>{const e=Ra(),{t,isRTL:a}=Ze(),[n,s]=p.useState({name:"",surName:"",email:"",password:"",passwordConfirm:"",phoneNumber:"",countryCode:"+90",profileImagePath:" ",termsofUserService:!1}),[i,o]=p.useState({}),[l,d]=p.useState(!1),[c,g]=p.useState(!1),[h,x]=p.useState(!1);p.useEffect(()=>{window.scrollTo(0,0)},[]);const b=p.useCallback(I=>{const{name:_,value:D,type:E}=I.target,X=E==="checkbox",ee=I.target.checked;s(Z=>({...Z,[_]:X?ee:D})),i[_]&&o(Z=>({...Z,[_]:void 0}))},[i]),v=p.useCallback(I=>{const{value:_}=I.target,D=_.replace(/\D/g,"");s(E=>({...E,phoneNumber:D})),i.phoneNumber&&o(E=>({...E,phoneNumber:void 0}))},[i.phoneNumber]),j=()=>{const I={};if(n.name?.trim()?n.name.trim().length<2&&(I.name=t("pages.register.validation.nameMin")):I.name=t("pages.register.validation.nameRequired"),n.surName?.trim()?n.surName.trim().length<2&&(I.surName=t("pages.register.validation.surnameMin")):I.surName=t("pages.register.validation.surnameRequired"),n.email?.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email.trim())||(I.email=t("pages.register.validation.emailInvalid")):I.email=t("pages.register.validation.emailRequired"),n.password?.trim()?n.password.length<8?I.password=t("pages.register.validation.passwordMin"):/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(n.password)||(I.password=t("pages.register.validation.passwordPattern")):I.password=t("pages.register.validation.passwordRequired"),n.passwordConfirm?.trim()?n.password!==n.passwordConfirm&&(I.passwordConfirm=t("pages.register.validation.passwordMismatch")):I.passwordConfirm=t("pages.register.validation.passwordConfirmRequired"),!n.phoneNumber?.trim())I.phoneNumber=t("pages.register.validation.phoneRequired");else{const _=/^\d{7,15}$/,D=n.phoneNumber.replace(/[\s\-\(\)]/g,"");_.test(D)||(I.phoneNumber=t("pages.register.validation.phoneInvalid"))}return n.termsofUserService||(I.termsofUserService=t("pages.register.validation.termsRequired")),o(I),Object.keys(I).length===0},w=async I=>{if(I.preventDefault(),!!j()){x(!0),o({});try{const _=`${n.countryCode}${n.phoneNumber.replace(/\D/g,"")}`,D={name:n.name.trim(),surName:n.surName.trim(),email:n.email.trim().toLowerCase(),password:n.password,passwordConfirm:n.passwordConfirm,phoneNumber:_,profileImagePath:" ",termsofUserService:n.termsofUserService},E=await Mm.register(D);if(!E?.success||!E.data?.userId)throw new Error(E.message||"Sunucudan geersiz yant alnd");localStorage.setItem("onboarding_userId",E.data.userId),localStorage.setItem("userId",E.data.userId),e("/onboarding/restaurant",{state:{message:t("pages.register.success.message"),userId:E.data.userId}})}catch(_){N.error("Register error:",_.response||_);const D=_.response?.status,E=_.response?.data?.errors,X=_.response?.data?.details?.message,ee=_.response?.data?.message;if(D===400){const Z={};E?(Object.entries(E).forEach(([B,G])=>{B!=="profileImagePath"&&B!=="ProfileImagePath"&&(Z[B]=Array.isArray(G)?G[0]:G)}),Object.keys(Z).length>0?o(Z):o({general:ee||_.message||t("pages.register.errors.validation")})):o({general:ee||_.message||t("pages.register.errors.validation")})}else if(D===409)o({email:t("pages.register.validation.emailExists")});else if(D===422)o({general:t("pages.register.errors.invalidData")});else{const Z=_.message;X&&(X.includes("is already taken")||X.includes("zaten alnm"))?o({email:t("pages.register.validation.emailExists")}):o({general:X||ee||Z||t("pages.register.errors.general")})}}finally{x(!1)}}},S=I=>{let _=0;I.length>=8&&_++,/[a-z]/.test(I)&&_++,/[A-Z]/.test(I)&&_++,/\d/.test(I)&&_++,/[^a-zA-Z\d]/.test(I)&&_++;const D=[{text:t("pages.register.passwordStrength.veryWeak"),color:"text-red-500"},{text:t("pages.register.passwordStrength.weak"),color:"text-red-400"},{text:t("pages.register.passwordStrength.medium"),color:"text-yellow-500"},{text:t("pages.register.passwordStrength.good"),color:"text-blue-500"},{text:t("pages.register.passwordStrength.strong"),color:"text-green-500"}];return{score:_,...D[Math.min(_,4)]}},[M,T]=p.useState({}),A=p.useCallback(I=>{T(_=>({..._,[I]:!0}))},[]);return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx(ke.div,{initial:{opacity:0,x:a?20:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"mb-8 pt-10",children:r.jsxs(ls,{to:"/",className:`inline-flex items-center space-x-2 ${a?"space-x-reverse":""} text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200`,children:[r.jsx(ms,{className:`h-4 w-4 ${a?"rotate-180":""}`}),r.jsx("span",{children:t("pages.register.backToHome")})]})}),r.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:`text-center mb-8 ${a?"text-right":""}`,children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:t("pages.register.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t("pages.register.subtitle")})]}),r.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[i.general&&r.jsx(ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 rounded-lg bg-red-50 dark:bg-red-900/20 p-4 border border-red-200 dark:border-red-800",children:r.jsxs("div",{className:`flex ${a?"space-x-reverse":""}`,children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Nt,{className:"h-5 w-5 text-red-400"})}),r.jsxs("div",{className:`${a?"mr-3":"ml-3"}`,children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-400",children:t("common.error")}),r.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:i.general})]})]})}),r.jsxs("form",{className:"space-y-6",onSubmit:w,children:[r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("pages.register.firstName")}),r.jsxs("div",{className:"relative",children:[r.jsx(On,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"given-name",value:n.name,onChange:b,onBlur:()=>A("name"),className:`w-full ${a?"pr-10 pl-2":"pl-12 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 ${i.name?"border-red-500 dark:border-red-500":M.name&&n.name.trim()?"border-green-500 dark:border-green-400":"border-gray-300 dark:border-gray-600"}`,placeholder:t("pages.register.placeholders.firstName")})]}),i.name&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.name})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"surName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("pages.register.lastName")}),r.jsxs("div",{className:"relative",children:[r.jsx(On,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{id:"surName",name:"surName",type:"text",autoComplete:"family-name",value:n.surName,onChange:b,onBlur:()=>A("surName"),className:`w-full ${a?"pr-10 pl-2":"pl-12 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 ${i.surName?"border-red-500 dark:border-red-500":M.surName&&n.surName.trim()?"border-green-500 dark:border-green-400":"border-gray-300 dark:border-gray-600"}`,placeholder:t("pages.register.placeholders.lastName")})]}),i.surName&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.surName})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("pages.register.email")}),r.jsxs("div",{className:"relative",children:[r.jsx(Zs,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:n.email,onChange:b,onBlur:()=>A("email"),className:`w-full ${a?"pr-10 pl-2":"pl-12 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 ${i.email?"border-red-500 dark:border-red-500":M.email&&n.email.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email.trim())?"border-green-500 dark:border-green-400":"border-gray-300 dark:border-gray-600"}`,placeholder:t("pages.register.placeholders.email")})]}),i.email&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.email})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("pages.register.phone")}),r.jsxs("div",{className:`flex space-x-2 ${a?"space-x-reverse":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("select",{id:"countryCode",name:"countryCode",value:n.countryCode,onChange:b,className:`h-full py-3 ${a?"pr-8 pl-3":"pl-3 pr-8"} border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 border-gray-300 dark:border-gray-600 appearance-none`,"aria-label":t("pages.register.countryCode"),children:Gs.map(I=>r.jsxs("option",{value:I.code,children:[I.name," (",I.code,")"]},I.name))}),r.jsx("div",{className:`absolute inset-y-0 ${a?"left-0 pl-2":"right-0 pr-2"} flex items-center pointer-events-none`,children:r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Dn,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 z-10`}),r.jsx("input",{id:"phoneNumber",name:"phoneNumber",type:"tel",autoComplete:"tel-national",value:n.phoneNumber,onChange:v,onBlur:()=>A("phoneNumber"),maxLength:10,className:`w-full ${a?"pr-10 pl-2":"pl-12 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 ${i.phoneNumber?"border-red-500 dark:border-red-500":M.phoneNumber&&n.phoneNumber.trim()&&/^\d{7,15}$/.test(n.phoneNumber.trim())?"border-green-500 dark:border-green-400":"border-gray-300 dark:border-gray-600"}`,placeholder:t("pages.register.placeholders.phone")})]})]}),i.phoneNumber&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.phoneNumber})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("pages.register.password")}),r.jsxs("div",{className:"relative",children:[r.jsx(Zd,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:"new-password",value:n.password,onChange:b,onBlur:()=>A("password"),className:`w-full ${a?"pr-10 pl-12":"pl-12 pr-12"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 ${i.password?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:t("pages.register.placeholders.password")}),r.jsx("button",{type:"button",onClick:()=>d(!l),className:`absolute ${a?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`,children:l?r.jsx(Cs,{className:"h-5 w-5"}):r.jsx(Ya,{className:"h-5 w-5"})})]}),n.password&&M.password&&r.jsx("div",{className:"mt-2",children:(()=>{const I=S(n.password);return r.jsxs("div",{className:`flex items-center space-x-2 ${a?"space-x-reverse":""}`,children:[r.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${I.score<=1?"bg-red-500":I.score<=2?"bg-yellow-500":I.score<=3?"bg-blue-500":"bg-green-500"} ${a?"ml-auto":""}`,style:{width:`${I.score/5*100}%`}})}),r.jsx("span",{className:`text-xs font-medium ${I.color}`,children:I.text})]})})()}),i.password&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.password})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"passwordConfirm",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("pages.register.confirmPassword")}),r.jsxs("div",{className:"relative",children:[r.jsx(Zd,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{id:"passwordConfirm",name:"passwordConfirm",type:c?"text":"password",autoComplete:"new-password",value:n.passwordConfirm,onChange:b,className:`w-full ${a?"pr-10 pl-12":"pl-12 pr-12"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white transition-colors duration-200 ${i.passwordConfirm?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:t("pages.register.placeholders.confirmPassword")}),r.jsx("button",{type:"button",onClick:()=>g(!c),className:`absolute ${a?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`,children:c?r.jsx(Cs,{className:"h-5 w-5"}):r.jsx(Ya,{className:"h-5 w-5"})})]}),i.passwordConfirm&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.passwordConfirm})]}),r.jsxs("div",{className:`flex items-center ${a?"space-x-reverse":""}`,children:[r.jsx("input",{id:"termsofUserService",name:"termsofUserService",type:"checkbox",checked:n.termsofUserService,onChange:b,className:`h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600 rounded ${i.termsofUserService?"border-red-500":""}`}),r.jsxs("label",{htmlFor:"termsofUserService",className:`${a?"mr-2":"ml-2"} block text-sm text-gray-700 dark:text-gray-300`,children:[r.jsx(ls,{to:"/terms",className:"text-primary-600 dark:text-primary-400 hover:underline",children:t("pages.register.terms.service")})," ",t("pages.register.terms.and")," ",r.jsx(ls,{to:"/privacy",className:"text-primary-600 dark:text-primary-400 hover:underline",children:t("pages.register.terms.privacy")})," ",t("pages.register.terms.accept")]})]}),i.termsofUserService&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.termsofUserService}),r.jsxs("div",{children:[r.jsx(ke.button,{type:"submit",disabled:h,whileHover:h?{}:{scale:1.02},whileTap:h?{}:{scale:.98},className:`w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg text-white text-sm font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${h?"bg-primary-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700 hover:shadow-lg"}`,children:h?r.jsxs(ke.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center",children:[r.jsxs("svg",{className:`animate-spin ${a?"ml-3 -mr-1":"-ml-1 mr-3"} h-5 w-5 text-white`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t("pages.register.creating")]}):t("pages.register.createAccount")}),r.jsx("div",{className:"mt-4 text-center",children:r.jsx("div",{className:`flex items-center justify-center space-x-2 ${a?"space-x-reverse":""} text-xs text-gray-500 dark:text-gray-400`,children:(()=>{const D=[n.name.trim(),n.surName.trim(),n.email.trim(),n.phoneNumber.trim(),n.password.trim(),n.passwordConfirm.trim(),n.termsofUserService].filter(Boolean).length/7*100;return r.jsxs(r.Fragment,{children:[r.jsxs("span",{children:[t("pages.register.formProgress"),":"]}),r.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-1",children:r.jsx("div",{className:`bg-primary-600 h-1 rounded-full transition-all duration-300 ${a?"ml-auto":""}`,style:{width:`${D}%`}})}),r.jsxs("span",{children:[Math.round(D),"%"]})]})})()})})]}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t("pages.register.haveAccount")," ",r.jsx(ls,{to:"/login",className:"font-medium text-primary-600 dark:text-primary-400 hover:underline",children:t("pages.register.signInNow")})]})})]})]})]})})};function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function YK(e,t){if(ru(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T6(e){var t=YK(e,"string");return ru(t)=="symbol"?t:t+""}function hh(e,t,a){return(t=T6(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fM(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function rr(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(a),!0).forEach(function(n){hh(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fM(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function ZK(e){if(Array.isArray(e))return e}function XK(e,t){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var n,s,i,o,l=[],d=!0,c=!1;try{if(i=(a=a.call(e)).next,t===0){if(Object(a)!==a)return;d=!1}else for(;!(d=(n=i.call(a)).done)&&(l.push(n.value),l.length!==t);d=!0);}catch(g){c=!0,s=g}finally{try{if(!d&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(c)throw s}}return l}}function wN(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function I6(e,t){if(e){if(typeof e=="string")return wN(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?wN(e,t):void 0}}function JK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zl(e,t){return ZK(e)||XK(e,t)||I6(e,t)||JK()}function eQ(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function rd(e,t){if(e==null)return{};var a,n,s=eQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var tQ=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function rQ(e){var t=e.defaultInputValue,a=t===void 0?"":t,n=e.defaultMenuIsOpen,s=n===void 0?!1:n,i=e.defaultValue,o=i===void 0?null:i,l=e.inputValue,d=e.menuIsOpen,c=e.onChange,g=e.onInputChange,h=e.onMenuClose,x=e.onMenuOpen,b=e.value,v=rd(e,tQ),j=p.useState(l!==void 0?l:a),w=zl(j,2),S=w[0],M=w[1],T=p.useState(d!==void 0?d:s),A=zl(T,2),I=A[0],_=A[1],D=p.useState(b!==void 0?b:o),E=zl(D,2),X=E[0],ee=E[1],Z=p.useCallback(function(Y,re){typeof c=="function"&&c(Y,re),ee(Y)},[c]),B=p.useCallback(function(Y,re){var ne;typeof g=="function"&&(ne=g(Y,re)),M(ne!==void 0?ne:Y)},[g]),G=p.useCallback(function(){typeof x=="function"&&x(),_(!0)},[x]),J=p.useCallback(function(){typeof h=="function"&&h(),_(!1)},[h]),ce=l!==void 0?l:S,te=d!==void 0?d:I,K=b!==void 0?b:X;return rr(rr({},v),{},{inputValue:ce,menuIsOpen:te,onChange:Z,onInputChange:B,onMenuClose:J,onMenuOpen:G,value:K})}function sr(){return sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},sr.apply(null,arguments)}function aQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pM(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T6(n.key),n)}}function nQ(e,t,a){return t&&pM(e.prototype,t),a&&pM(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function jN(e,t){return jN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},jN(e,t)}function sQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jN(e,t)}function Mx(e){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mx(e)}function A6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A6=function(){return!!e})()}function iQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oQ(e,t){if(t&&(ru(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iQ(e)}function lQ(e){var t=A6();return function(){var a,n=Mx(e);if(t){var s=Mx(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return oQ(this,a)}}function dQ(e){if(Array.isArray(e))return wN(e)}function cQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N2(e){return dQ(e)||cQ(e)||I6(e)||uQ()}function mQ(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function gQ(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var hQ=(function(){function e(a){var n=this;this._insertTag=function(s){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,i),n.tags.push(s)},this.isSpeedy=a.speedy===void 0?!0:a.speedy,this.tags=[],this.ctr=0,this.nonce=a.nonce,this.key=a.key,this.container=a.container,this.prepend=a.prepend,this.insertionPoint=a.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(gQ(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=mQ(s);try{i.insertRule(n,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},e})(),rs="-ms-",Tx="-moz-",Wr="-webkit-",E6="comm",C2="rule",S2="decl",fQ="@import",_6="@keyframes",pQ="@layer",xQ=Math.abs,rb=String.fromCharCode,yQ=Object.assign;function bQ(e,t){return Vn(e,0)^45?(((t<<2^Vn(e,0))<<2^Vn(e,1))<<2^Vn(e,2))<<2^Vn(e,3):0}function O6(e){return e.trim()}function vQ(e,t){return(e=t.exec(e))?e[0]:e}function Kr(e,t,a){return e.replace(t,a)}function NN(e,t){return e.indexOf(t)}function Vn(e,t){return e.charCodeAt(t)|0}function Rh(e,t,a){return e.slice(t,a)}function Ko(e){return e.length}function P2(e){return e.length}function mp(e,t){return t.push(e),e}function kQ(e,t){return e.map(t).join("")}var ab=1,Tm=1,R6=0,Xs=0,sn=0,Gm="";function nb(e,t,a,n,s,i,o){return{value:e,root:t,parent:a,type:n,props:s,children:i,line:ab,column:Tm,length:o,return:""}}function Xg(e,t){return yQ(nb("",null,null,"",null,null,0),e,{length:-e.length},t)}function wQ(){return sn}function jQ(){return sn=Xs>0?Vn(Gm,--Xs):0,Tm--,sn===10&&(Tm=1,ab--),sn}function xi(){return sn=Xs<R6?Vn(Gm,Xs++):0,Tm++,sn===10&&(Tm=1,ab++),sn}function el(){return Vn(Gm,Xs)}function tx(){return Xs}function y0(e,t){return Rh(Gm,e,t)}function Dh(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function D6(e){return ab=Tm=1,R6=Ko(Gm=e),Xs=0,[]}function B6(e){return Gm="",e}function rx(e){return O6(y0(Xs-1,CN(e===91?e+2:e===40?e+1:e)))}function NQ(e){for(;(sn=el())&&sn<33;)xi();return Dh(e)>2||Dh(sn)>3?"":" "}function CQ(e,t){for(;--t&&xi()&&!(sn<48||sn>102||sn>57&&sn<65||sn>70&&sn<97););return y0(e,tx()+(t<6&&el()==32&&xi()==32))}function CN(e){for(;xi();)switch(sn){case e:return Xs;case 34:case 39:e!==34&&e!==39&&CN(sn);break;case 40:e===41&&CN(e);break;case 92:xi();break}return Xs}function SQ(e,t){for(;xi()&&e+sn!==57;)if(e+sn===84&&el()===47)break;return"/*"+y0(t,Xs-1)+"*"+rb(e===47?e:xi())}function PQ(e){for(;!Dh(el());)xi();return y0(e,Xs)}function MQ(e){return B6(ax("",null,null,null,[""],e=D6(e),0,[0],e))}function ax(e,t,a,n,s,i,o,l,d){for(var c=0,g=0,h=o,x=0,b=0,v=0,j=1,w=1,S=1,M=0,T="",A=s,I=i,_=n,D=T;w;)switch(v=M,M=xi()){case 40:if(v!=108&&Vn(D,h-1)==58){NN(D+=Kr(rx(M),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:D+=rx(M);break;case 9:case 10:case 13:case 32:D+=NQ(v);break;case 92:D+=CQ(tx()-1,7);continue;case 47:switch(el()){case 42:case 47:mp(TQ(SQ(xi(),tx()),t,a),d);break;default:D+="/"}break;case 123*j:l[c++]=Ko(D)*S;case 125*j:case 59:case 0:switch(M){case 0:case 125:w=0;case 59+g:S==-1&&(D=Kr(D,/\f/g,"")),b>0&&Ko(D)-h&&mp(b>32?yM(D+";",n,a,h-1):yM(Kr(D," ","")+";",n,a,h-2),d);break;case 59:D+=";";default:if(mp(_=xM(D,t,a,c,g,s,l,T,A=[],I=[],h),i),M===123)if(g===0)ax(D,t,_,_,A,i,h,l,I);else switch(x===99&&Vn(D,3)===110?100:x){case 100:case 108:case 109:case 115:ax(e,_,_,n&&mp(xM(e,_,_,0,0,s,l,T,s,A=[],h),I),s,I,h,l,n?A:I);break;default:ax(D,_,_,_,[""],I,0,l,I)}}c=g=b=0,j=S=1,T=D="",h=o;break;case 58:h=1+Ko(D),b=v;default:if(j<1){if(M==123)--j;else if(M==125&&j++==0&&jQ()==125)continue}switch(D+=rb(M),M*j){case 38:S=g>0?1:(D+="\f",-1);break;case 44:l[c++]=(Ko(D)-1)*S,S=1;break;case 64:el()===45&&(D+=rx(xi())),x=el(),g=h=Ko(T=D+=PQ(tx())),M++;break;case 45:v===45&&Ko(D)==2&&(j=0)}}return i}function xM(e,t,a,n,s,i,o,l,d,c,g){for(var h=s-1,x=s===0?i:[""],b=P2(x),v=0,j=0,w=0;v<n;++v)for(var S=0,M=Rh(e,h+1,h=xQ(j=o[v])),T=e;S<b;++S)(T=O6(j>0?x[S]+" "+M:Kr(M,/&\f/g,x[S])))&&(d[w++]=T);return nb(e,t,a,s===0?C2:l,d,c,g)}function TQ(e,t,a){return nb(e,t,a,E6,rb(wQ()),Rh(e,2,-2),0)}function yM(e,t,a,n){return nb(e,t,a,S2,Rh(e,0,n),Rh(e,n+1,-1),n)}function gm(e,t){for(var a="",n=P2(e),s=0;s<n;s++)a+=t(e[s],s,e,t)||"";return a}function IQ(e,t,a,n){switch(e.type){case pQ:if(e.children.length)break;case fQ:case S2:return e.return=e.return||e.value;case E6:return"";case _6:return e.return=e.value+"{"+gm(e.children,n)+"}";case C2:e.value=e.props.join(",")}return Ko(a=gm(e.children,n))?e.return=e.value+"{"+a+"}":""}function AQ(e){var t=P2(e);return function(a,n,s,i){for(var o="",l=0;l<t;l++)o+=e[l](a,n,s,i)||"";return o}}function EQ(e){return function(t){t.root||(t=t.return)&&e(t)}}var _Q=function(t,a,n){for(var s=0,i=0;s=i,i=el(),s===38&&i===12&&(a[n]=1),!Dh(i);)xi();return y0(t,Xs)},OQ=function(t,a){var n=-1,s=44;do switch(Dh(s)){case 0:s===38&&el()===12&&(a[n]=1),t[n]+=_Q(Xs-1,a,n);break;case 2:t[n]+=rx(s);break;case 4:if(s===44){t[++n]=el()===58?"&\f":"",a[n]=t[n].length;break}default:t[n]+=rb(s)}while(s=xi());return t},RQ=function(t,a){return B6(OQ(D6(t),a))},bM=new WeakMap,DQ=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var a=t.value,n=t.parent,s=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&a.charCodeAt(0)!==58&&!bM.get(n))&&!s){bM.set(t,!0);for(var i=[],o=RQ(a,i),l=n.props,d=0,c=0;d<o.length;d++)for(var g=0;g<l.length;g++,c++)t.props[c]=i[d]?o[d].replace(/&\f/g,l[g]):l[g]+" "+o[d]}}},BQ=function(t){if(t.type==="decl"){var a=t.value;a.charCodeAt(0)===108&&a.charCodeAt(2)===98&&(t.return="",t.value="")}};function L6(e,t){switch(bQ(e,t)){case 5103:return Wr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Wr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Wr+e+Tx+e+rs+e+e;case 6828:case 4268:return Wr+e+rs+e+e;case 6165:return Wr+e+rs+"flex-"+e+e;case 5187:return Wr+e+Kr(e,/(\w+).+(:[^]+)/,Wr+"box-$1$2"+rs+"flex-$1$2")+e;case 5443:return Wr+e+rs+"flex-item-"+Kr(e,/flex-|-self/,"")+e;case 4675:return Wr+e+rs+"flex-line-pack"+Kr(e,/align-content|flex-|-self/,"")+e;case 5548:return Wr+e+rs+Kr(e,"shrink","negative")+e;case 5292:return Wr+e+rs+Kr(e,"basis","preferred-size")+e;case 6060:return Wr+"box-"+Kr(e,"-grow","")+Wr+e+rs+Kr(e,"grow","positive")+e;case 4554:return Wr+Kr(e,/([^-])(transform)/g,"$1"+Wr+"$2")+e;case 6187:return Kr(Kr(Kr(e,/(zoom-|grab)/,Wr+"$1"),/(image-set)/,Wr+"$1"),e,"")+e;case 5495:case 3959:return Kr(e,/(image-set\([^]*)/,Wr+"$1$`$1");case 4968:return Kr(Kr(e,/(.+:)(flex-)?(.*)/,Wr+"box-pack:$3"+rs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Wr+e+e;case 4095:case 3583:case 4068:case 2532:return Kr(e,/(.+)-inline(.+)/,Wr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ko(e)-1-t>6)switch(Vn(e,t+1)){case 109:if(Vn(e,t+4)!==45)break;case 102:return Kr(e,/(.+:)(.+)-([^]+)/,"$1"+Wr+"$2-$3$1"+Tx+(Vn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~NN(e,"stretch")?L6(Kr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Vn(e,t+1)!==115)break;case 6444:switch(Vn(e,Ko(e)-3-(~NN(e,"!important")&&10))){case 107:return Kr(e,":",":"+Wr)+e;case 101:return Kr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Wr+(Vn(e,14)===45?"inline-":"")+"box$3$1"+Wr+"$2$3$1"+rs+"$2box$3")+e}break;case 5936:switch(Vn(e,t+11)){case 114:return Wr+e+rs+Kr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Wr+e+rs+Kr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Wr+e+rs+Kr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Wr+e+rs+e+e}return e}var LQ=function(t,a,n,s){if(t.length>-1&&!t.return)switch(t.type){case S2:t.return=L6(t.value,t.length);break;case _6:return gm([Xg(t,{value:Kr(t.value,"@","@"+Wr)})],s);case C2:if(t.length)return kQ(t.props,function(i){switch(vQ(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return gm([Xg(t,{props:[Kr(i,/:(read-\w+)/,":"+Tx+"$1")]})],s);case"::placeholder":return gm([Xg(t,{props:[Kr(i,/:(plac\w+)/,":"+Wr+"input-$1")]}),Xg(t,{props:[Kr(i,/:(plac\w+)/,":"+Tx+"$1")]}),Xg(t,{props:[Kr(i,/:(plac\w+)/,rs+"input-$1")]})],s)}return""})}},$Q=[LQ],FQ=function(t){var a=t.key;if(a==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(j){var w=j.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(j),j.setAttribute("data-s",""))})}var s=t.stylisPlugins||$Q,i={},o,l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+a+' "]'),function(j){for(var w=j.getAttribute("data-emotion").split(" "),S=1;S<w.length;S++)i[w[S]]=!0;l.push(j)});var d,c=[DQ,BQ];{var g,h=[IQ,EQ(function(j){g.insert(j)})],x=AQ(c.concat(s,h)),b=function(w){return gm(MQ(w),x)};d=function(w,S,M,T){g=M,b(w?w+"{"+S.styles+"}":S.styles),T&&(v.inserted[S.name]=!0)}}var v={key:a,sheet:new hQ({key:a,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:d};return v.sheet.hydrate(l),v},rw={exports:{}},Yr={};var vM;function zQ(){if(vM)return Yr;vM=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,a=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,g=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,x=e?Symbol.for("react.suspense_list"):60120,b=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,j=e?Symbol.for("react.block"):60121,w=e?Symbol.for("react.fundamental"):60117,S=e?Symbol.for("react.responder"):60118,M=e?Symbol.for("react.scope"):60119;function T(I){if(typeof I=="object"&&I!==null){var _=I.$$typeof;switch(_){case t:switch(I=I.type,I){case d:case c:case n:case i:case s:case h:return I;default:switch(I=I&&I.$$typeof,I){case l:case g:case v:case b:case o:return I;default:return _}}case a:return _}}}function A(I){return T(I)===c}return Yr.AsyncMode=d,Yr.ConcurrentMode=c,Yr.ContextConsumer=l,Yr.ContextProvider=o,Yr.Element=t,Yr.ForwardRef=g,Yr.Fragment=n,Yr.Lazy=v,Yr.Memo=b,Yr.Portal=a,Yr.Profiler=i,Yr.StrictMode=s,Yr.Suspense=h,Yr.isAsyncMode=function(I){return A(I)||T(I)===d},Yr.isConcurrentMode=A,Yr.isContextConsumer=function(I){return T(I)===l},Yr.isContextProvider=function(I){return T(I)===o},Yr.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===t},Yr.isForwardRef=function(I){return T(I)===g},Yr.isFragment=function(I){return T(I)===n},Yr.isLazy=function(I){return T(I)===v},Yr.isMemo=function(I){return T(I)===b},Yr.isPortal=function(I){return T(I)===a},Yr.isProfiler=function(I){return T(I)===i},Yr.isStrictMode=function(I){return T(I)===s},Yr.isSuspense=function(I){return T(I)===h},Yr.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===n||I===c||I===i||I===s||I===h||I===x||typeof I=="object"&&I!==null&&(I.$$typeof===v||I.$$typeof===b||I.$$typeof===o||I.$$typeof===l||I.$$typeof===g||I.$$typeof===w||I.$$typeof===S||I.$$typeof===M||I.$$typeof===j)},Yr.typeOf=T,Yr}var kM;function UQ(){return kM||(kM=1,rw.exports=zQ()),rw.exports}var aw,wM;function qQ(){if(wM)return aw;wM=1;var e=UQ(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=n,i[e.Memo]=s;function o(v){return e.isMemo(v)?s:i[v.$$typeof]||t}var l=Object.defineProperty,d=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,x=Object.prototype;function b(v,j,w){if(typeof j!="string"){if(x){var S=h(j);S&&S!==x&&b(v,S,w)}var M=d(j);c&&(M=M.concat(c(j)));for(var T=o(v),A=o(j),I=0;I<M.length;++I){var _=M[I];if(!a[_]&&!(w&&w[_])&&!(A&&A[_])&&!(T&&T[_])){var D=g(j,_);try{l(v,_,D)}catch{}}}}return v}return aw=b,aw}qQ();var VQ=!0;function HQ(e,t,a){var n="";return a.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(n+=s+" ")}),n}var $6=function(t,a,n){var s=t.key+"-"+a.name;(n===!1||VQ===!1)&&t.registered[s]===void 0&&(t.registered[s]=a.styles)},WQ=function(t,a,n){$6(t,a,n);var s=t.key+"-"+a.name;if(t.inserted[a.name]===void 0){var i=a;do t.insert(a===i?"."+s:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function KQ(e){for(var t=0,a,n=0,s=e.length;s>=4;++n,s-=4)a=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,a=(a&65535)*1540483477+((a>>>16)*59797<<16),a^=a>>>24,t=(a&65535)*1540483477+((a>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var QQ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function GQ(e){var t=Object.create(null);return function(a){return t[a]===void 0&&(t[a]=e(a)),t[a]}}var YQ=/[A-Z]|^ms/g,ZQ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,F6=function(t){return t.charCodeAt(1)===45},jM=function(t){return t!=null&&typeof t!="boolean"},nw=GQ(function(e){return F6(e)?e:e.replace(YQ,"-$&").toLowerCase()}),NM=function(t,a){switch(t){case"animation":case"animationName":if(typeof a=="string")return a.replace(ZQ,function(n,s,i){return Qo={name:s,styles:i,next:Qo},s})}return QQ[t]!==1&&!F6(t)&&typeof a=="number"&&a!==0?a+"px":a};function Bh(e,t,a){if(a==null)return"";var n=a;if(n.__emotion_styles!==void 0)return n;switch(typeof a){case"boolean":return"";case"object":{var s=a;if(s.anim===1)return Qo={name:s.name,styles:s.styles,next:Qo},s.name;var i=a;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Qo={name:o.name,styles:o.styles,next:Qo},o=o.next;var l=i.styles+";";return l}return XQ(e,t,a)}case"function":{if(e!==void 0){var d=Qo,c=a(e);return Qo=d,Bh(e,t,c)}break}}var g=a;return g}function XQ(e,t,a){var n="";if(Array.isArray(a))for(var s=0;s<a.length;s++)n+=Bh(e,t,a[s])+";";else for(var i in a){var o=a[i];if(typeof o!="object"){var l=o;jM(l)&&(n+=nw(i)+":"+NM(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var d=0;d<o.length;d++)jM(o[d])&&(n+=nw(i)+":"+NM(i,o[d])+";");else{var c=Bh(e,t,o);switch(i){case"animation":case"animationName":{n+=nw(i)+":"+c+";";break}default:n+=i+"{"+c+"}"}}}return n}var CM=/label:\s*([^\s;{]+)\s*(;|$)/g,Qo;function z6(e,t,a){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,s="";Qo=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,s+=Bh(a,t,i);else{var o=i;s+=o[0]}for(var l=1;l<e.length;l++)if(s+=Bh(a,t,e[l]),n){var d=i;s+=d[l]}CM.lastIndex=0;for(var c="",g;(g=CM.exec(s))!==null;)c+="-"+g[1];var h=KQ(s)+c;return{name:h,styles:s,next:Qo}}var JQ=function(t){return t()},eG=Xj.useInsertionEffect?Xj.useInsertionEffect:!1,tG=eG||JQ,U6=p.createContext(typeof HTMLElement<"u"?FQ({key:"css"}):null);U6.Provider;var rG=function(t){return p.forwardRef(function(a,n){var s=p.useContext(U6);return t(a,s,n)})},aG=p.createContext({}),M2={}.hasOwnProperty,SN="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",nG=function(t,a){var n={};for(var s in a)M2.call(a,s)&&(n[s]=a[s]);return n[SN]=t,n},sG=function(t){var a=t.cache,n=t.serialized,s=t.isStringTag;return $6(a,n,s),tG(function(){return WQ(a,n,s)}),null},iG=rG(function(e,t,a){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var s=e[SN],i=[n],o="";typeof e.className=="string"?o=HQ(t.registered,i,e.className):e.className!=null&&(o=e.className+" ");var l=z6(i,void 0,p.useContext(aG));o+=t.key+"-"+l.name;var d={};for(var c in e)M2.call(e,c)&&c!=="css"&&c!==SN&&(d[c]=e[c]);return d.className=o,a&&(d.ref=a),p.createElement(p.Fragment,null,p.createElement(sG,{cache:t,serialized:l,isStringTag:typeof s=="string"}),p.createElement(s,d))}),oG=iG,Kt=function(t,a){var n=arguments;if(a==null||!M2.call(a,"css"))return p.createElement.apply(void 0,n);var s=n.length,i=new Array(s);i[0]=oG,i[1]=nG(t,a);for(var o=2;o<s;o++)i[o]=n[o];return p.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Kt||(Kt={}));function T2(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return z6(t)}function lG(){var e=T2.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function dG(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const cG=Math.min,uG=Math.max,Ix=Math.round,gp=Math.floor,Ax=e=>({x:e,y:e});function mG(e){const{x:t,y:a,width:n,height:s}=e;return{width:n,height:s,top:a,left:t,right:t+n,bottom:a+s,x:t,y:a}}function sb(){return typeof window<"u"}function q6(e){return H6(e)?(e.nodeName||"").toLowerCase():"#document"}function Kl(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function V6(e){var t;return(t=(H6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function H6(e){return sb()?e instanceof Node||e instanceof Kl(e).Node:!1}function gG(e){return sb()?e instanceof Element||e instanceof Kl(e).Element:!1}function I2(e){return sb()?e instanceof HTMLElement||e instanceof Kl(e).HTMLElement:!1}function SM(e){return!sb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Kl(e).ShadowRoot}const hG=new Set(["inline","contents"]);function W6(e){const{overflow:t,overflowX:a,overflowY:n,display:s}=A2(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+a)&&!hG.has(s)}function fG(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pG=new Set(["html","body","#document"]);function xG(e){return pG.has(q6(e))}function A2(e){return Kl(e).getComputedStyle(e)}function yG(e){if(q6(e)==="html")return e;const t=e.assignedSlot||e.parentNode||SM(e)&&e.host||V6(e);return SM(t)?t.host:t}function K6(e){const t=yG(e);return xG(t)?e.ownerDocument?e.ownerDocument.body:e.body:I2(t)&&W6(t)?t:K6(t)}function Ex(e,t,a){var n;t===void 0&&(t=[]),a===void 0&&(a=!0);const s=K6(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Kl(s);if(i){const l=PN(o);return t.concat(o,o.visualViewport||[],W6(s)?s:[],l&&a?Ex(l):[])}return t.concat(s,Ex(s,[],a))}function PN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function bG(e){const t=A2(e);let a=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=I2(e),i=s?e.offsetWidth:a,o=s?e.offsetHeight:n,l=Ix(a)!==i||Ix(n)!==o;return l&&(a=i,n=o),{width:a,height:n,$:l}}function E2(e){return gG(e)?e:e.contextElement}function PM(e){const t=E2(e);if(!I2(t))return Ax(1);const a=t.getBoundingClientRect(),{width:n,height:s,$:i}=bG(t);let o=(i?Ix(a.width):a.width)/n,l=(i?Ix(a.height):a.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const vG=Ax(0);function kG(e){const t=Kl(e);return!fG()||!t.visualViewport?vG:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wG(e,t,a){return!1}function MM(e,t,a,n){t===void 0&&(t=!1);const s=e.getBoundingClientRect(),i=E2(e);let o=Ax(1);t&&(o=PM(e));const l=wG()?kG(i):Ax(0);let d=(s.left+l.x)/o.x,c=(s.top+l.y)/o.y,g=s.width/o.x,h=s.height/o.y;if(i){const x=Kl(i),b=n;let v=x,j=PN(v);for(;j&&n&&b!==v;){const w=PM(j),S=j.getBoundingClientRect(),M=A2(j),T=S.left+(j.clientLeft+parseFloat(M.paddingLeft))*w.x,A=S.top+(j.clientTop+parseFloat(M.paddingTop))*w.y;d*=w.x,c*=w.y,g*=w.x,h*=w.y,d+=T,c+=A,v=Kl(j),j=PN(v)}}return mG({width:g,height:h,x:d,y:c})}function Q6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function jG(e,t){let a=null,n;const s=V6(e);function i(){var l;clearTimeout(n),(l=a)==null||l.disconnect(),a=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),i();const c=e.getBoundingClientRect(),{left:g,top:h,width:x,height:b}=c;if(l||t(),!x||!b)return;const v=gp(h),j=gp(s.clientWidth-(g+x)),w=gp(s.clientHeight-(h+b)),S=gp(g),T={rootMargin:-v+"px "+-j+"px "+-w+"px "+-S+"px",threshold:uG(0,cG(1,d))||1};let A=!0;function I(_){const D=_[0].intersectionRatio;if(D!==d){if(!A)return o();D?o(!1,D):n=setTimeout(()=>{o(!1,1e-7)},1e3)}D===1&&!Q6(c,e.getBoundingClientRect())&&o(),A=!1}try{a=new IntersectionObserver(I,{...T,root:s.ownerDocument})}catch{a=new IntersectionObserver(I,T)}a.observe(e)}return o(!0),i}function NG(e,t,a,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,c=E2(e),g=s||i?[...c?Ex(c):[],...Ex(t)]:[];g.forEach(S=>{s&&S.addEventListener("scroll",a,{passive:!0}),i&&S.addEventListener("resize",a)});const h=c&&l?jG(c,a):null;let x=-1,b=null;o&&(b=new ResizeObserver(S=>{let[M]=S;M&&M.target===c&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var T;(T=b)==null||T.observe(t)})),a()}),c&&!d&&b.observe(c),b.observe(t));let v,j=d?MM(e):null;d&&w();function w(){const S=MM(e);j&&!Q6(j,S)&&a(),j=S,v=requestAnimationFrame(w)}return a(),()=>{var S;g.forEach(M=>{s&&M.removeEventListener("scroll",a),i&&M.removeEventListener("resize",a)}),h?.(),(S=b)==null||S.disconnect(),b=null,d&&cancelAnimationFrame(v)}}var MN=p.useLayoutEffect,CG=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],_x=function(){};function SG(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function PG(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),s=2;s<a;s++)n[s-2]=arguments[s];var i=[].concat(n);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&i.push("".concat(SG(e,o)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var TM=function(t){return DG(t)?t.filter(Boolean):ru(t)==="object"&&t!==null?[t]:[]},G6=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var a=rd(t,CG);return rr({},a)},Va=function(t,a,n){var s=t.cx,i=t.getStyles,o=t.getClassNames,l=t.className;return{css:i(a,t),className:s(n??{},o(a,t),l)}};function ib(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function MG(e){return ib(e)?window.innerHeight:e.clientHeight}function Y6(e){return ib(e)?window.pageYOffset:e.scrollTop}function Ox(e,t){if(ib(e)){window.scrollTo(0,t);return}e.scrollTop=t}function TG(e){var t=getComputedStyle(e),a=t.position==="absolute",n=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var s=e;s=s.parentElement;)if(t=getComputedStyle(s),!(a&&t.position==="static")&&n.test(t.overflow+t.overflowY+t.overflowX))return s;return document.documentElement}function IG(e,t,a,n){return a*((e=e/n-1)*e*e+1)+t}function hp(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_x,s=Y6(e),i=t-s,o=10,l=0;function d(){l+=o;var c=IG(l,s,i,a);Ox(e,c),l<a?window.requestAnimationFrame(d):n(e)}d()}function IM(e,t){var a=e.getBoundingClientRect(),n=t.getBoundingClientRect(),s=t.offsetHeight/3;n.bottom+s>a.bottom?Ox(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+s,e.scrollHeight)):n.top-s<a.top&&Ox(e,Math.max(t.offsetTop-s,0))}function AG(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function AM(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function EG(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Z6=!1,_G={get passive(){return Z6=!0}},fp=typeof window<"u"?window:{};fp.addEventListener&&fp.removeEventListener&&(fp.addEventListener("p",_x,_G),fp.removeEventListener("p",_x,!1));var OG=Z6;function RG(e){return e!=null}function DG(e){return Array.isArray(e)}function pp(e,t,a){return e?t:a}var BG=function(t){for(var a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++)n[s-1]=arguments[s];var i=Object.entries(t).filter(function(o){var l=zl(o,1),d=l[0];return!n.includes(d)});return i.reduce(function(o,l){var d=zl(l,2),c=d[0],g=d[1];return o[c]=g,o},{})},LG=["children","innerProps"],$G=["children","innerProps"];function FG(e){var t=e.maxHeight,a=e.menuEl,n=e.minHeight,s=e.placement,i=e.shouldScroll,o=e.isFixedPosition,l=e.controlHeight,d=TG(a),c={placement:"bottom",maxHeight:t};if(!a||!a.offsetParent)return c;var g=d.getBoundingClientRect(),h=g.height,x=a.getBoundingClientRect(),b=x.bottom,v=x.height,j=x.top,w=a.offsetParent.getBoundingClientRect(),S=w.top,M=o?window.innerHeight:MG(d),T=Y6(d),A=parseInt(getComputedStyle(a).marginBottom,10),I=parseInt(getComputedStyle(a).marginTop,10),_=S-I,D=M-j,E=_+T,X=h-T-j,ee=b-M+T+A,Z=T+j-I,B=160;switch(s){case"auto":case"bottom":if(D>=v)return{placement:"bottom",maxHeight:t};if(X>=v&&!o)return i&&hp(d,ee,B),{placement:"bottom",maxHeight:t};if(!o&&X>=n||o&&D>=n){i&&hp(d,ee,B);var G=o?D-A:X-A;return{placement:"bottom",maxHeight:G}}if(s==="auto"||o){var J=t,ce=o?_:E;return ce>=n&&(J=Math.min(ce-A-l,t)),{placement:"top",maxHeight:J}}if(s==="bottom")return i&&Ox(d,ee),{placement:"bottom",maxHeight:t};break;case"top":if(_>=v)return{placement:"top",maxHeight:t};if(E>=v&&!o)return i&&hp(d,Z,B),{placement:"top",maxHeight:t};if(!o&&E>=n||o&&_>=n){var te=t;return(!o&&E>=n||o&&_>=n)&&(te=o?_-I:E-I),i&&hp(d,Z,B),{placement:"top",maxHeight:te}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return c}function zG(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var X6=function(t){return t==="auto"?"bottom":t},UG=function(t,a){var n,s=t.placement,i=t.theme,o=i.borderRadius,l=i.spacing,d=i.colors;return rr((n={label:"menu"},hh(n,zG(s),"100%"),hh(n,"position","absolute"),hh(n,"width","100%"),hh(n,"zIndex",1),n),a?{}:{backgroundColor:d.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},J6=p.createContext(null),qG=function(t){var a=t.children,n=t.minMenuHeight,s=t.maxMenuHeight,i=t.menuPlacement,o=t.menuPosition,l=t.menuShouldScrollIntoView,d=t.theme,c=p.useContext(J6)||{},g=c.setPortalPlacement,h=p.useRef(null),x=p.useState(s),b=zl(x,2),v=b[0],j=b[1],w=p.useState(null),S=zl(w,2),M=S[0],T=S[1],A=d.spacing.controlHeight;return MN(function(){var I=h.current;if(I){var _=o==="fixed",D=l&&!_,E=FG({maxHeight:s,menuEl:I,minHeight:n,placement:i,shouldScroll:D,isFixedPosition:_,controlHeight:A});j(E.maxHeight),T(E.placement),g?.(E.placement)}},[s,i,o,l,n,g,A]),a({ref:h,placerProps:rr(rr({},t),{},{placement:M||X6(i),maxHeight:v})})},VG=function(t){var a=t.children,n=t.innerRef,s=t.innerProps;return Kt("div",sr({},Va(t,"menu",{menu:!0}),{ref:n},s),a)},HG=VG,WG=function(t,a){var n=t.maxHeight,s=t.theme.spacing.baseUnit;return rr({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},a?{}:{paddingBottom:s,paddingTop:s})},KG=function(t){var a=t.children,n=t.innerProps,s=t.innerRef,i=t.isMulti;return Kt("div",sr({},Va(t,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},n),a)},eR=function(t,a){var n=t.theme,s=n.spacing.baseUnit,i=n.colors;return rr({textAlign:"center"},a?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},QG=eR,GG=eR,YG=function(t){var a=t.children,n=a===void 0?"No options":a,s=t.innerProps,i=rd(t,LG);return Kt("div",sr({},Va(rr(rr({},i),{},{children:n,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),n)},ZG=function(t){var a=t.children,n=a===void 0?"Loading...":a,s=t.innerProps,i=rd(t,$G);return Kt("div",sr({},Va(rr(rr({},i),{},{children:n,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),n)},XG=function(t){var a=t.rect,n=t.offset,s=t.position;return{left:a.left,position:s,top:n,width:a.width,zIndex:1}},JG=function(t){var a=t.appendTo,n=t.children,s=t.controlElement,i=t.innerProps,o=t.menuPlacement,l=t.menuPosition,d=p.useRef(null),c=p.useRef(null),g=p.useState(X6(o)),h=zl(g,2),x=h[0],b=h[1],v=p.useMemo(function(){return{setPortalPlacement:b}},[]),j=p.useState(null),w=zl(j,2),S=w[0],M=w[1],T=p.useCallback(function(){if(s){var D=AG(s),E=l==="fixed"?0:window.pageYOffset,X=D[x]+E;(X!==S?.offset||D.left!==S?.rect.left||D.width!==S?.rect.width)&&M({offset:X,rect:D})}},[s,l,x,S?.offset,S?.rect.left,S?.rect.width]);MN(function(){T()},[T]);var A=p.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),s&&d.current&&(c.current=NG(s,d.current,T,{elementResize:"ResizeObserver"in window}))},[s,T]);MN(function(){A()},[A]);var I=p.useCallback(function(D){d.current=D,A()},[A]);if(!a&&l!=="fixed"||!S)return null;var _=Kt("div",sr({ref:I},Va(rr(rr({},t),{},{offset:S.offset,position:l,rect:S.rect}),"menuPortal",{"menu-portal":!0}),i),n);return Kt(J6.Provider,{value:v},a?qd.createPortal(_,a):_)},eY=function(t){var a=t.isDisabled,n=t.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:a?"none":void 0,position:"relative"}},tY=function(t){var a=t.children,n=t.innerProps,s=t.isDisabled,i=t.isRtl;return Kt("div",sr({},Va(t,"container",{"--is-disabled":s,"--is-rtl":i}),n),a)},rY=function(t,a){var n=t.theme.spacing,s=t.isMulti,i=t.hasValue,o=t.selectProps.controlShouldRenderValue;return rr({alignItems:"center",display:s&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},a?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},aY=function(t){var a=t.children,n=t.innerProps,s=t.isMulti,i=t.hasValue;return Kt("div",sr({},Va(t,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),n),a)},nY=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},sY=function(t){var a=t.children,n=t.innerProps;return Kt("div",sr({},Va(t,"indicatorsContainer",{indicators:!0}),n),a)},EM,iY=["size"],oY=["innerProps","isRtl","size"],lY={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},tR=function(t){var a=t.size,n=rd(t,iY);return Kt("svg",sr({height:a,width:a,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:lY},n))},_2=function(t){return Kt(tR,sr({size:20},t),Kt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},rR=function(t){return Kt(tR,sr({size:20},t),Kt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},aR=function(t,a){var n=t.isFocused,s=t.theme,i=s.spacing.baseUnit,o=s.colors;return rr({label:"indicatorContainer",display:"flex",transition:"color 150ms"},a?{}:{color:n?o.neutral60:o.neutral20,padding:i*2,":hover":{color:n?o.neutral80:o.neutral40}})},dY=aR,cY=function(t){var a=t.children,n=t.innerProps;return Kt("div",sr({},Va(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),a||Kt(rR,null))},uY=aR,mY=function(t){var a=t.children,n=t.innerProps;return Kt("div",sr({},Va(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),a||Kt(_2,null))},gY=function(t,a){var n=t.isDisabled,s=t.theme,i=s.spacing.baseUnit,o=s.colors;return rr({label:"indicatorSeparator",alignSelf:"stretch",width:1},a?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:i*2,marginTop:i*2})},hY=function(t){var a=t.innerProps;return Kt("span",sr({},a,Va(t,"indicatorSeparator",{"indicator-separator":!0})))},fY=lG(EM||(EM=dG([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),pY=function(t,a){var n=t.isFocused,s=t.size,i=t.theme,o=i.colors,l=i.spacing.baseUnit;return rr({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},a?{}:{color:n?o.neutral60:o.neutral20,padding:l*2})},sw=function(t){var a=t.delay,n=t.offset;return Kt("span",{css:T2({animation:"".concat(fY," 1s ease-in-out ").concat(a,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},xY=function(t){var a=t.innerProps,n=t.isRtl,s=t.size,i=s===void 0?4:s,o=rd(t,oY);return Kt("div",sr({},Va(rr(rr({},o),{},{innerProps:a,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),a),Kt(sw,{delay:0,offset:n}),Kt(sw,{delay:160,offset:!0}),Kt(sw,{delay:320,offset:!n}))},yY=function(t,a){var n=t.isDisabled,s=t.isFocused,i=t.theme,o=i.colors,l=i.borderRadius,d=i.spacing;return rr({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},a?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:s?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:s?o.primary:o.neutral30}})},bY=function(t){var a=t.children,n=t.isDisabled,s=t.isFocused,i=t.innerRef,o=t.innerProps,l=t.menuIsOpen;return Kt("div",sr({ref:i},Va(t,"control",{control:!0,"control--is-disabled":n,"control--is-focused":s,"control--menu-is-open":l}),o,{"aria-disabled":n||void 0}),a)},vY=bY,kY=["data"],wY=function(t,a){var n=t.theme.spacing;return a?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},jY=function(t){var a=t.children,n=t.cx,s=t.getStyles,i=t.getClassNames,o=t.Heading,l=t.headingProps,d=t.innerProps,c=t.label,g=t.theme,h=t.selectProps;return Kt("div",sr({},Va(t,"group",{group:!0}),d),Kt(o,sr({},l,{selectProps:h,theme:g,getStyles:s,getClassNames:i,cx:n}),c),Kt("div",null,a))},NY=function(t,a){var n=t.theme,s=n.colors,i=n.spacing;return rr({label:"group",cursor:"default",display:"block"},a?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},CY=function(t){var a=G6(t);a.data;var n=rd(a,kY);return Kt("div",sr({},Va(t,"groupHeading",{"group-heading":!0}),n))},SY=jY,PY=["innerRef","isDisabled","isHidden","inputClassName"],MY=function(t,a){var n=t.isDisabled,s=t.value,i=t.theme,o=i.spacing,l=i.colors;return rr(rr({visibility:n?"hidden":"visible",transform:s?"translateZ(0)":""},TY),a?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},nR={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},TY={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":rr({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},nR)},IY=function(t){return rr({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},nR)},AY=function(t){var a=t.cx,n=t.value,s=G6(t),i=s.innerRef,o=s.isDisabled,l=s.isHidden,d=s.inputClassName,c=rd(s,PY);return Kt("div",sr({},Va(t,"input",{"input-container":!0}),{"data-value":n||""}),Kt("input",sr({className:a({input:!0},d),ref:i,style:IY(l),disabled:o},c)))},EY=AY,_Y=function(t,a){var n=t.theme,s=n.spacing,i=n.borderRadius,o=n.colors;return rr({label:"multiValue",display:"flex",minWidth:0},a?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},OY=function(t,a){var n=t.theme,s=n.borderRadius,i=n.colors,o=t.cropWithEllipsis;return rr({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},a?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},RY=function(t,a){var n=t.theme,s=n.spacing,i=n.borderRadius,o=n.colors,l=t.isFocused;return rr({alignItems:"center",display:"flex"},a?{}:{borderRadius:i/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},sR=function(t){var a=t.children,n=t.innerProps;return Kt("div",n,a)},DY=sR,BY=sR;function LY(e){var t=e.children,a=e.innerProps;return Kt("div",sr({role:"button"},a),t||Kt(_2,{size:14}))}var $Y=function(t){var a=t.children,n=t.components,s=t.data,i=t.innerProps,o=t.isDisabled,l=t.removeProps,d=t.selectProps,c=n.Container,g=n.Label,h=n.Remove;return Kt(c,{data:s,innerProps:rr(rr({},Va(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:d},Kt(g,{data:s,innerProps:rr({},Va(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},a),Kt(h,{data:s,innerProps:rr(rr({},Va(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(a||"option")},l),selectProps:d}))},FY=$Y,zY=function(t,a){var n=t.isDisabled,s=t.isFocused,i=t.isSelected,o=t.theme,l=o.spacing,d=o.colors;return rr({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},a?{}:{backgroundColor:i?d.primary:s?d.primary25:"transparent",color:n?d.neutral20:i?d.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:i?d.primary:d.primary50}})},UY=function(t){var a=t.children,n=t.isDisabled,s=t.isFocused,i=t.isSelected,o=t.innerRef,l=t.innerProps;return Kt("div",sr({},Va(t,"option",{option:!0,"option--is-disabled":n,"option--is-focused":s,"option--is-selected":i}),{ref:o,"aria-disabled":n},l),a)},qY=UY,VY=function(t,a){var n=t.theme,s=n.spacing,i=n.colors;return rr({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},a?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},HY=function(t){var a=t.children,n=t.innerProps;return Kt("div",sr({},Va(t,"placeholder",{placeholder:!0}),n),a)},WY=HY,KY=function(t,a){var n=t.isDisabled,s=t.theme,i=s.spacing,o=s.colors;return rr({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},a?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},QY=function(t){var a=t.children,n=t.isDisabled,s=t.innerProps;return Kt("div",sr({},Va(t,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),s),a)},GY=QY,YY={ClearIndicator:mY,Control:vY,DropdownIndicator:cY,DownChevron:rR,CrossIcon:_2,Group:SY,GroupHeading:CY,IndicatorsContainer:sY,IndicatorSeparator:hY,Input:EY,LoadingIndicator:xY,Menu:HG,MenuList:KG,MenuPortal:JG,LoadingMessage:ZG,NoOptionsMessage:YG,MultiValue:FY,MultiValueContainer:DY,MultiValueLabel:BY,MultiValueRemove:LY,Option:qY,Placeholder:WY,SelectContainer:tY,SingleValue:GY,ValueContainer:aY},ZY=function(t){return rr(rr({},YY),t.components)},_M=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function XY(e,t){return!!(e===t||_M(e)&&_M(t))}function JY(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(!XY(e[a],t[a]))return!1;return!0}function eZ(e,t){t===void 0&&(t=JY);var a=null;function n(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(a&&a.lastThis===this&&t(s,a.lastArgs))return a.lastResult;var o=e.apply(this,s);return a={lastResult:o,lastArgs:s,lastThis:this},o}return n.clear=function(){a=null},n}var tZ={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},rZ=function(t){return Kt("span",sr({css:tZ},t))},OM=rZ,aZ={guidance:function(t){var a=t.isSearchable,n=t.isMulti,s=t.tabSelectsValue,i=t.context,o=t.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(a?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var a=t.action,n=t.label,s=n===void 0?"":n,i=t.labels,o=t.isDisabled;switch(a){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return o?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(t){var a=t.context,n=t.focused,s=t.options,i=t.label,o=i===void 0?"":i,l=t.selectValue,d=t.isDisabled,c=t.isSelected,g=t.isAppleDevice,h=function(j,w){return j&&j.length?"".concat(j.indexOf(w)+1," of ").concat(j.length):""};if(a==="value"&&l)return"value ".concat(o," focused, ").concat(h(l,n),".");if(a==="menu"&&g){var x=d?" disabled":"",b="".concat(c?" selected":"").concat(x);return"".concat(o).concat(b,", ").concat(h(s,n),".")}return""},onFilter:function(t){var a=t.inputValue,n=t.resultsMessage;return"".concat(n).concat(a?" for search term "+a:"",".")}},nZ=function(t){var a=t.ariaSelection,n=t.focusedOption,s=t.focusedValue,i=t.focusableOptions,o=t.isFocused,l=t.selectValue,d=t.selectProps,c=t.id,g=t.isAppleDevice,h=d.ariaLiveMessages,x=d.getOptionLabel,b=d.inputValue,v=d.isMulti,j=d.isOptionDisabled,w=d.isSearchable,S=d.menuIsOpen,M=d.options,T=d.screenReaderStatus,A=d.tabSelectsValue,I=d.isLoading,_=d["aria-label"],D=d["aria-live"],E=p.useMemo(function(){return rr(rr({},aZ),h||{})},[h]),X=p.useMemo(function(){var ce="";if(a&&E.onChange){var te=a.option,K=a.options,Y=a.removedValue,re=a.removedValues,ne=a.value,z=function(de){return Array.isArray(de)?null:de},V=Y||te||z(ne),F=V?x(V):"",$=K||re||void 0,q=$?$.map(x):[],H=rr({isDisabled:V&&j(V,l),label:F,labels:q},a);ce=E.onChange(H)}return ce},[a,E,j,l,x]),ee=p.useMemo(function(){var ce="",te=n||s,K=!!(n&&l&&l.includes(n));if(te&&E.onFocus){var Y={focused:te,label:x(te),isDisabled:j(te,l),isSelected:K,options:i,context:te===n?"menu":"value",selectValue:l,isAppleDevice:g};ce=E.onFocus(Y)}return ce},[n,s,x,j,E,i,l,g]),Z=p.useMemo(function(){var ce="";if(S&&M.length&&!I&&E.onFilter){var te=T({count:i.length});ce=E.onFilter({inputValue:b,resultsMessage:te})}return ce},[i,b,S,E,M,T,I]),B=a?.action==="initial-input-focus",G=p.useMemo(function(){var ce="";if(E.guidance){var te=s?"value":S?"menu":"input";ce=E.guidance({"aria-label":_,context:te,isDisabled:n&&j(n,l),isMulti:v,isSearchable:w,tabSelectsValue:A,isInitialFocus:B})}return ce},[_,n,s,v,j,w,S,E,l,A,B]),J=Kt(p.Fragment,null,Kt("span",{id:"aria-selection"},X),Kt("span",{id:"aria-focused"},ee),Kt("span",{id:"aria-results"},Z),Kt("span",{id:"aria-guidance"},G));return Kt(p.Fragment,null,Kt(OM,{id:c},B&&J),Kt(OM,{"aria-live":D,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!B&&J))},sZ=nZ,TN=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],iZ=new RegExp("["+TN.map(function(e){return e.letters}).join("")+"]","g"),iR={};for(var iw=0;iw<TN.length;iw++)for(var ow=TN[iw],lw=0;lw<ow.letters.length;lw++)iR[ow.letters[lw]]=ow.base;var oR=function(t){return t.replace(iZ,function(a){return iR[a]})},oZ=eZ(oR),RM=function(t){return t.replace(/^\s+|\s+$/g,"")},lZ=function(t){return"".concat(t.label," ").concat(t.value)},dZ=function(t){return function(a,n){if(a.data.__isNew__)return!0;var s=rr({ignoreCase:!0,ignoreAccents:!0,stringify:lZ,trim:!0,matchFrom:"any"},t),i=s.ignoreCase,o=s.ignoreAccents,l=s.stringify,d=s.trim,c=s.matchFrom,g=d?RM(n):n,h=d?RM(l(a)):l(a);return i&&(g=g.toLowerCase(),h=h.toLowerCase()),o&&(g=oZ(g),h=oR(h)),c==="start"?h.substr(0,g.length)===g:h.indexOf(g)>-1}},cZ=["innerRef"];function uZ(e){var t=e.innerRef,a=rd(e,cZ),n=BG(a,"onExited","in","enter","exit","appear");return Kt("input",sr({ref:t},n,{css:T2({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var mZ=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function gZ(e){var t=e.isEnabled,a=e.onBottomArrive,n=e.onBottomLeave,s=e.onTopArrive,i=e.onTopLeave,o=p.useRef(!1),l=p.useRef(!1),d=p.useRef(0),c=p.useRef(null),g=p.useCallback(function(w,S){if(c.current!==null){var M=c.current,T=M.scrollTop,A=M.scrollHeight,I=M.clientHeight,_=c.current,D=S>0,E=A-I-T,X=!1;E>S&&o.current&&(n&&n(w),o.current=!1),D&&l.current&&(i&&i(w),l.current=!1),D&&S>E?(a&&!o.current&&a(w),_.scrollTop=A,X=!0,o.current=!0):!D&&-S>T&&(s&&!l.current&&s(w),_.scrollTop=0,X=!0,l.current=!0),X&&mZ(w)}},[a,n,s,i]),h=p.useCallback(function(w){g(w,w.deltaY)},[g]),x=p.useCallback(function(w){d.current=w.changedTouches[0].clientY},[]),b=p.useCallback(function(w){var S=d.current-w.changedTouches[0].clientY;g(w,S)},[g]),v=p.useCallback(function(w){if(w){var S=OG?{passive:!1}:!1;w.addEventListener("wheel",h,S),w.addEventListener("touchstart",x,S),w.addEventListener("touchmove",b,S)}},[b,x,h]),j=p.useCallback(function(w){w&&(w.removeEventListener("wheel",h,!1),w.removeEventListener("touchstart",x,!1),w.removeEventListener("touchmove",b,!1))},[b,x,h]);return p.useEffect(function(){if(t){var w=c.current;return v(w),function(){j(w)}}},[t,v,j]),function(w){c.current=w}}var DM=["boxSizing","height","overflow","paddingRight","position"],BM={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function LM(e){e.cancelable&&e.preventDefault()}function $M(e){e.stopPropagation()}function FM(){var e=this.scrollTop,t=this.scrollHeight,a=e+this.offsetHeight;e===0?this.scrollTop=1:a===t&&(this.scrollTop=e-1)}function zM(){return"ontouchstart"in window||navigator.maxTouchPoints}var UM=!!(typeof window<"u"&&window.document&&window.document.createElement),Jg=0,Zu={capture:!1,passive:!1};function hZ(e){var t=e.isEnabled,a=e.accountForScrollbars,n=a===void 0?!0:a,s=p.useRef({}),i=p.useRef(null),o=p.useCallback(function(d){if(UM){var c=document.body,g=c&&c.style;if(n&&DM.forEach(function(v){var j=g&&g[v];s.current[v]=j}),n&&Jg<1){var h=parseInt(s.current.paddingRight,10)||0,x=document.body?document.body.clientWidth:0,b=window.innerWidth-x+h||0;Object.keys(BM).forEach(function(v){var j=BM[v];g&&(g[v]=j)}),g&&(g.paddingRight="".concat(b,"px"))}c&&zM()&&(c.addEventListener("touchmove",LM,Zu),d&&(d.addEventListener("touchstart",FM,Zu),d.addEventListener("touchmove",$M,Zu))),Jg+=1}},[n]),l=p.useCallback(function(d){if(UM){var c=document.body,g=c&&c.style;Jg=Math.max(Jg-1,0),n&&Jg<1&&DM.forEach(function(h){var x=s.current[h];g&&(g[h]=x)}),c&&zM()&&(c.removeEventListener("touchmove",LM,Zu),d&&(d.removeEventListener("touchstart",FM,Zu),d.removeEventListener("touchmove",$M,Zu)))}},[n]);return p.useEffect(function(){if(t){var d=i.current;return o(d),function(){l(d)}}},[t,o,l]),function(d){i.current=d}}var fZ=function(t){var a=t.target;return a.ownerDocument.activeElement&&a.ownerDocument.activeElement.blur()},pZ={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function xZ(e){var t=e.children,a=e.lockEnabled,n=e.captureEnabled,s=n===void 0?!0:n,i=e.onBottomArrive,o=e.onBottomLeave,l=e.onTopArrive,d=e.onTopLeave,c=gZ({isEnabled:s,onBottomArrive:i,onBottomLeave:o,onTopArrive:l,onTopLeave:d}),g=hZ({isEnabled:a}),h=function(b){c(b),g(b)};return Kt(p.Fragment,null,a&&Kt("div",{onClick:fZ,css:pZ}),t(h))}var yZ={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},bZ=function(t){var a=t.name,n=t.onFocus;return Kt("input",{required:!0,name:a,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:yZ,value:"",onChange:function(){}})},vZ=bZ;function O2(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function kZ(){return O2(/^iPhone/i)}function lR(){return O2(/^Mac/i)}function wZ(){return O2(/^iPad/i)||lR()&&navigator.maxTouchPoints>1}function jZ(){return kZ()||wZ()}function NZ(){return lR()||jZ()}var CZ=function(t){return t.label},SZ=function(t){return t.label},PZ=function(t){return t.value},MZ=function(t){return!!t.isDisabled},TZ={clearIndicator:uY,container:eY,control:yY,dropdownIndicator:dY,group:wY,groupHeading:NY,indicatorsContainer:nY,indicatorSeparator:gY,input:MY,loadingIndicator:pY,loadingMessage:GG,menu:UG,menuList:WG,menuPortal:XG,multiValue:_Y,multiValueLabel:OY,multiValueRemove:RY,noOptionsMessage:QG,option:zY,placeholder:VY,singleValue:KY,valueContainer:rY},IZ={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},AZ=4,dR=4,EZ=38,_Z=dR*2,OZ={baseUnit:dR,controlHeight:EZ,menuGutter:_Z},dw={borderRadius:AZ,colors:IZ,spacing:OZ},RZ={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:AM(),captureMenuScroll:!AM(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:dZ(),formatGroupLabel:CZ,getOptionLabel:SZ,getOptionValue:PZ,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:MZ,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!EG(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var a=t.count;return"".concat(a," result").concat(a!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function qM(e,t,a,n){var s=mR(e,t,a),i=gR(e,t,a),o=uR(e,t),l=Rx(e,t);return{type:"option",data:t,isDisabled:s,isSelected:i,label:o,value:l,index:n}}function nx(e,t){return e.options.map(function(a,n){if("options"in a){var s=a.options.map(function(o,l){return qM(e,o,t,l)}).filter(function(o){return HM(e,o)});return s.length>0?{type:"group",data:a,options:s,index:n}:void 0}var i=qM(e,a,t,n);return HM(e,i)?i:void 0}).filter(RG)}function cR(e){return e.reduce(function(t,a){return a.type==="group"?t.push.apply(t,N2(a.options.map(function(n){return n.data}))):t.push(a.data),t},[])}function VM(e,t){return e.reduce(function(a,n){return n.type==="group"?a.push.apply(a,N2(n.options.map(function(s){return{data:s.data,id:"".concat(t,"-").concat(n.index,"-").concat(s.index)}}))):a.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),a},[])}function DZ(e,t){return cR(nx(e,t))}function HM(e,t){var a=e.inputValue,n=a===void 0?"":a,s=t.data,i=t.isSelected,o=t.label,l=t.value;return(!fR(e)||!i)&&hR(e,{label:o,value:l,data:s},n)}function BZ(e,t){var a=e.focusedValue,n=e.selectValue,s=n.indexOf(a);if(s>-1){var i=t.indexOf(a);if(i>-1)return a;if(s<t.length)return t[s]}return null}function LZ(e,t){var a=e.focusedOption;return a&&t.indexOf(a)>-1?a:t[0]}var cw=function(t,a){var n,s=(n=t.find(function(i){return i.data===a}))===null||n===void 0?void 0:n.id;return s||null},uR=function(t,a){return t.getOptionLabel(a)},Rx=function(t,a){return t.getOptionValue(a)};function mR(e,t,a){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,a):!1}function gR(e,t,a){if(a.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,a);var n=Rx(e,t);return a.some(function(s){return Rx(e,s)===n})}function hR(e,t,a){return e.filterOption?e.filterOption(t,a):!0}var fR=function(t){var a=t.hideSelectedOptions,n=t.isMulti;return a===void 0?n:a},$Z=1,pR=(function(e){sQ(a,e);var t=lQ(a);function a(n){var s;if(aQ(this,a),s=t.call(this,n),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(d){s.controlRef=d},s.focusedOptionRef=null,s.getFocusedOptionRef=function(d){s.focusedOptionRef=d},s.menuListRef=null,s.getMenuListRef=function(d){s.menuListRef=d},s.inputRef=null,s.getInputRef=function(d){s.inputRef=d},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(d,c){var g=s.props,h=g.onChange,x=g.name;c.name=x,s.ariaOnChange(d,c),h(d,c)},s.setValue=function(d,c,g){var h=s.props,x=h.closeMenuOnSelect,b=h.isMulti,v=h.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:v}),x&&(s.setState({inputIsHiddenAfterUpdate:!b}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(d,{action:c,option:g})},s.selectOption=function(d){var c=s.props,g=c.blurInputOnSelect,h=c.isMulti,x=c.name,b=s.state.selectValue,v=h&&s.isOptionSelected(d,b),j=s.isOptionDisabled(d,b);if(v){var w=s.getOptionValue(d);s.setValue(b.filter(function(S){return s.getOptionValue(S)!==w}),"deselect-option",d)}else if(!j)h?s.setValue([].concat(N2(b),[d]),"select-option",d):s.setValue(d,"select-option");else{s.ariaOnChange(d,{action:"select-option",option:d,name:x});return}g&&s.blurInput()},s.removeValue=function(d){var c=s.props.isMulti,g=s.state.selectValue,h=s.getOptionValue(d),x=g.filter(function(v){return s.getOptionValue(v)!==h}),b=pp(c,x,x[0]||null);s.onChange(b,{action:"remove-value",removedValue:d}),s.focusInput()},s.clearValue=function(){var d=s.state.selectValue;s.onChange(pp(s.props.isMulti,[],null),{action:"clear",removedValues:d})},s.popValue=function(){var d=s.props.isMulti,c=s.state.selectValue,g=c[c.length-1],h=c.slice(0,c.length-1),x=pp(d,h,h[0]||null);g&&s.onChange(x,{action:"pop-value",removedValue:g})},s.getFocusedOptionId=function(d){return cw(s.state.focusableOptionsWithIds,d)},s.getFocusableOptionsWithIds=function(){return VM(nx(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var d=arguments.length,c=new Array(d),g=0;g<d;g++)c[g]=arguments[g];return PG.apply(void 0,[s.props.classNamePrefix].concat(c))},s.getOptionLabel=function(d){return uR(s.props,d)},s.getOptionValue=function(d){return Rx(s.props,d)},s.getStyles=function(d,c){var g=s.props.unstyled,h=TZ[d](c,g);h.boxSizing="border-box";var x=s.props.styles[d];return x?x(h,c):h},s.getClassNames=function(d,c){var g,h;return(g=(h=s.props.classNames)[d])===null||g===void 0?void 0:g.call(h,c)},s.getElementId=function(d){return"".concat(s.state.instancePrefix,"-").concat(d)},s.getComponents=function(){return ZY(s.props)},s.buildCategorizedOptions=function(){return nx(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return cR(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(d,c){s.setState({ariaSelection:rr({value:d},c)})},s.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(d){s.blockOptionHover=!1},s.onControlMouseDown=function(d){if(!d.defaultPrevented){var c=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&s.onMenuClose():c&&s.openMenu("first"):(c&&(s.openAfterFocus=!0),s.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},s.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!s.props.isDisabled){var c=s.props,g=c.isMulti,h=c.menuIsOpen;s.focusInput(),h?(s.setState({inputIsHiddenAfterUpdate:!g}),s.onMenuClose()):s.openMenu("first"),d.preventDefault()}},s.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(s.clearValue(),d.preventDefault(),s.openAfterFocus=!1,d.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(d){typeof s.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&ib(d.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(d)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(d){var c=d.touches,g=c&&c.item(0);g&&(s.initialTouchX=g.clientX,s.initialTouchY=g.clientY,s.userIsDragging=!1)},s.onTouchMove=function(d){var c=d.touches,g=c&&c.item(0);if(g){var h=Math.abs(g.clientX-s.initialTouchX),x=Math.abs(g.clientY-s.initialTouchY),b=5;s.userIsDragging=h>b||x>b}},s.onTouchEnd=function(d){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(d.target)&&s.menuListRef&&!s.menuListRef.contains(d.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(d){s.userIsDragging||s.onControlMouseDown(d)},s.onClearIndicatorTouchEnd=function(d){s.userIsDragging||s.onClearIndicatorMouseDown(d)},s.onDropdownIndicatorTouchEnd=function(d){s.userIsDragging||s.onDropdownIndicatorMouseDown(d)},s.handleInputChange=function(d){var c=s.props.inputValue,g=d.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(g,{action:"input-change",prevInputValue:c}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(d){s.props.onFocus&&s.props.onFocus(d),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(d){var c=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(d),s.onInputChange("",{action:"input-blur",prevInputValue:c}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(d){if(!(s.blockOptionHover||s.state.focusedOption===d)){var c=s.getFocusableOptions(),g=c.indexOf(d);s.setState({focusedOption:d,focusedOptionId:g>-1?s.getFocusedOptionId(d):null})}},s.shouldHideSelectedOptions=function(){return fR(s.props)},s.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),s.focus()},s.onKeyDown=function(d){var c=s.props,g=c.isMulti,h=c.backspaceRemovesValue,x=c.escapeClearsValue,b=c.inputValue,v=c.isClearable,j=c.isDisabled,w=c.menuIsOpen,S=c.onKeyDown,M=c.tabSelectsValue,T=c.openMenuOnFocus,A=s.state,I=A.focusedOption,_=A.focusedValue,D=A.selectValue;if(!j&&!(typeof S=="function"&&(S(d),d.defaultPrevented))){switch(s.blockOptionHover=!0,d.key){case"ArrowLeft":if(!g||b)return;s.focusValue("previous");break;case"ArrowRight":if(!g||b)return;s.focusValue("next");break;case"Delete":case"Backspace":if(b)return;if(_)s.removeValue(_);else{if(!h)return;g?s.popValue():v&&s.clearValue()}break;case"Tab":if(s.isComposing||d.shiftKey||!w||!M||!I||T&&s.isOptionSelected(I,D))return;s.selectOption(I);break;case"Enter":if(d.keyCode===229)break;if(w){if(!I||s.isComposing)return;s.selectOption(I);break}return;case"Escape":w?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:b}),s.onMenuClose()):v&&x&&s.clearValue();break;case" ":if(b)return;if(!w){s.openMenu("first");break}if(!I)return;s.selectOption(I);break;case"ArrowUp":w?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":w?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!w)return;s.focusOption("pageup");break;case"PageDown":if(!w)return;s.focusOption("pagedown");break;case"Home":if(!w)return;s.focusOption("first");break;case"End":if(!w)return;s.focusOption("last");break;default:return}d.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++$Z),s.state.selectValue=TM(n.value),n.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),o=s.buildFocusableOptions(),l=o.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=o[l],s.state.focusedOptionId=cw(i,o[l])}return s}return nQ(a,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&IM(this.menuListRef,this.focusedOptionRef),NZ()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isDisabled,l=i.menuIsOpen,d=this.state.isFocused;(d&&!o&&s.isDisabled||d&&l&&!s.menuIsOpen)&&this.focusInput(),d&&o&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!o&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(IM(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,o=this.state,l=o.selectValue,d=o.isFocused,c=this.buildFocusableOptions(),g=s==="first"?0:c.length-1;if(!this.props.isMulti){var h=c.indexOf(l[0]);h>-1&&(g=h)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[g],focusedOptionId:this.getFocusedOptionId(c[g])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,o=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=o.indexOf(l);l||(d=-1);var c=o.length-1,g=-1;if(o.length){switch(s){case"previous":d===0?g=0:d===-1?g=c:g=d-1;break;case"next":d>-1&&d<c&&(g=d+1);break}this.setState({inputIsHidden:g!==-1,focusedValue:o[g]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var d=0,c=l.indexOf(o);o||(c=-1),s==="up"?d=c>0?c-1:l.length-1:s==="down"?d=(c+1)%l.length:s==="pageup"?(d=c-i,d<0&&(d=0)):s==="pagedown"?(d=c+i,d>l.length-1&&(d=l.length-1)):s==="last"&&(d=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[d])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(dw):rr(rr({},dw),this.props.theme):dw})},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,o=this.getStyles,l=this.getClassNames,d=this.getValue,c=this.selectOption,g=this.setValue,h=this.props,x=h.isMulti,b=h.isRtl,v=h.options,j=this.hasValue();return{clearValue:s,cx:i,getStyles:o,getClassNames:l,getValue:d,hasValue:j,isMulti:x,isRtl:b,options:v,selectOption:c,selectProps:h,setValue:g,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,o=s.isMulti;return i===void 0?o:i}},{key:"isOptionDisabled",value:function(s,i){return mR(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return gR(this.props,s,i)}},{key:"filterOption",value:function(s,i){return hR(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:o,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var s=this.props,i=s.isDisabled,o=s.isSearchable,l=s.inputId,d=s.inputValue,c=s.tabIndex,g=s.form,h=s.menuIsOpen,x=s.required,b=this.getComponents(),v=b.Input,j=this.state,w=j.inputIsHidden,S=j.ariaSelection,M=this.commonProps,T=l||this.getElementId("input"),A=rr(rr(rr({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":x,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?S?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?p.createElement(v,sr({},M,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:T,innerRef:this.getInputRef,isDisabled:i,isHidden:w,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:g,type:"text",value:d},A)):p.createElement(uZ,sr({id:T,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:_x,onFocus:this.onInputFocus,disabled:i,tabIndex:c,inputMode:"none",form:g,value:""},A))})},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),o=i.MultiValue,l=i.MultiValueContainer,d=i.MultiValueLabel,c=i.MultiValueRemove,g=i.SingleValue,h=i.Placeholder,x=this.commonProps,b=this.props,v=b.controlShouldRenderValue,j=b.isDisabled,w=b.isMulti,S=b.inputValue,M=b.placeholder,T=this.state,A=T.selectValue,I=T.focusedValue,_=T.isFocused;if(!this.hasValue()||!v)return S?null:p.createElement(h,sr({},x,{key:"placeholder",isDisabled:j,isFocused:_,innerProps:{id:this.getElementId("placeholder")}}),M);if(w)return A.map(function(E,X){var ee=E===I,Z="".concat(s.getOptionLabel(E),"-").concat(s.getOptionValue(E));return p.createElement(o,sr({},x,{components:{Container:l,Label:d,Remove:c},isFocused:ee,isDisabled:j,key:Z,index:X,removeProps:{onClick:function(){return s.removeValue(E)},onTouchEnd:function(){return s.removeValue(E)},onMouseDown:function(G){G.preventDefault()}},data:E}),s.formatOptionLabel(E,"value"))});if(S)return null;var D=A[0];return p.createElement(g,sr({},x,{data:D,isDisabled:j}),this.formatOptionLabel(D,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,o=this.commonProps,l=this.props,d=l.isDisabled,c=l.isLoading,g=this.state.isFocused;if(!this.isClearable()||!i||d||!this.hasValue()||c)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return p.createElement(i,sr({},o,{innerProps:h,isFocused:g}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,o=this.commonProps,l=this.props,d=l.isDisabled,c=l.isLoading,g=this.state.isFocused;if(!i||!c)return null;var h={"aria-hidden":"true"};return p.createElement(i,sr({},o,{innerProps:h,isDisabled:d,isFocused:g}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,o=s.IndicatorSeparator;if(!i||!o)return null;var l=this.commonProps,d=this.props.isDisabled,c=this.state.isFocused;return p.createElement(o,sr({},l,{isDisabled:d,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var o=this.commonProps,l=this.props.isDisabled,d=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return p.createElement(i,sr({},o,{innerProps:c,isDisabled:l,isFocused:d}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),o=i.Group,l=i.GroupHeading,d=i.Menu,c=i.MenuList,g=i.MenuPortal,h=i.LoadingMessage,x=i.NoOptionsMessage,b=i.Option,v=this.commonProps,j=this.state.focusedOption,w=this.props,S=w.captureMenuScroll,M=w.inputValue,T=w.isLoading,A=w.loadingMessage,I=w.minMenuHeight,_=w.maxMenuHeight,D=w.menuIsOpen,E=w.menuPlacement,X=w.menuPosition,ee=w.menuPortalTarget,Z=w.menuShouldBlockScroll,B=w.menuShouldScrollIntoView,G=w.noOptionsMessage,J=w.onMenuScrollToTop,ce=w.onMenuScrollToBottom;if(!D)return null;var te=function(F,$){var q=F.type,H=F.data,Q=F.isDisabled,de=F.isSelected,me=F.label,je=F.value,fe=j===H,se=Q?void 0:function(){return s.onOptionHover(H)},ie=Q?void 0:function(){return s.selectOption(H)},ue="".concat(s.getElementId("option"),"-").concat($),le={id:ue,onClick:ie,onMouseMove:se,onMouseOver:se,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:de};return p.createElement(b,sr({},v,{innerProps:le,data:H,isDisabled:Q,isSelected:de,key:ue,label:me,type:q,value:je,isFocused:fe,innerRef:fe?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(F.data,"menu"))},K;if(this.hasOptions())K=this.getCategorizedOptions().map(function(V){if(V.type==="group"){var F=V.data,$=V.options,q=V.index,H="".concat(s.getElementId("group"),"-").concat(q),Q="".concat(H,"-heading");return p.createElement(o,sr({},v,{key:H,data:F,options:$,Heading:l,headingProps:{id:Q,data:V.data},label:s.formatGroupLabel(V.data)}),V.options.map(function(de){return te(de,"".concat(q,"-").concat(de.index))}))}else if(V.type==="option")return te(V,"".concat(V.index))});else if(T){var Y=A({inputValue:M});if(Y===null)return null;K=p.createElement(h,v,Y)}else{var re=G({inputValue:M});if(re===null)return null;K=p.createElement(x,v,re)}var ne={minMenuHeight:I,maxMenuHeight:_,menuPlacement:E,menuPosition:X,menuShouldScrollIntoView:B},z=p.createElement(qG,sr({},v,ne),function(V){var F=V.ref,$=V.placerProps,q=$.placement,H=$.maxHeight;return p.createElement(d,sr({},v,ne,{innerRef:F,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:T,placement:q}),p.createElement(xZ,{captureEnabled:S,onTopArrive:J,onBottomArrive:ce,lockEnabled:Z},function(Q){return p.createElement(c,sr({},v,{innerRef:function(me){s.getMenuListRef(me),Q(me)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:s.getElementId("listbox")},isLoading:T,maxHeight:H,focusedOption:j}),K)}))});return ee||X==="fixed"?p.createElement(g,sr({},v,{appendTo:ee,controlElement:this.controlRef,menuPlacement:E,menuPosition:X}),z):z}},{key:"renderFormField",value:function(){var s=this,i=this.props,o=i.delimiter,l=i.isDisabled,d=i.isMulti,c=i.name,g=i.required,h=this.state.selectValue;if(g&&!this.hasValue()&&!l)return p.createElement(vZ,{name:c,onFocus:this.onValueInputFocus});if(!(!c||l))if(d)if(o){var x=h.map(function(j){return s.getOptionValue(j)}).join(o);return p.createElement("input",{name:c,type:"hidden",value:x})}else{var b=h.length>0?h.map(function(j,w){return p.createElement("input",{key:"i-".concat(w),name:c,type:"hidden",value:s.getOptionValue(j)})}):p.createElement("input",{name:c,type:"hidden",value:""});return p.createElement("div",null,b)}else{var v=h[0]?this.getOptionValue(h[0]):"";return p.createElement("input",{name:c,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,o=i.ariaSelection,l=i.focusedOption,d=i.focusedValue,c=i.isFocused,g=i.selectValue,h=this.getFocusableOptions();return p.createElement(sZ,sr({},s,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:d,isFocused:c,selectValue:g,focusableOptions:h,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,o=s.IndicatorsContainer,l=s.SelectContainer,d=s.ValueContainer,c=this.props,g=c.className,h=c.id,x=c.isDisabled,b=c.menuIsOpen,v=this.state.isFocused,j=this.commonProps=this.getCommonProps();return p.createElement(l,sr({},j,{className:g,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:x,isFocused:v}),this.renderLiveRegion(),p.createElement(i,sr({},j,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:x,isFocused:v,menuIsOpen:b}),p.createElement(d,sr({},j,{isDisabled:x}),this.renderPlaceholderOrValue(),this.renderInput()),p.createElement(o,sr({},j,{isDisabled:x}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var o=i.prevProps,l=i.clearFocusValueOnUpdate,d=i.inputIsHiddenAfterUpdate,c=i.ariaSelection,g=i.isFocused,h=i.prevWasFocused,x=i.instancePrefix,b=s.options,v=s.value,j=s.menuIsOpen,w=s.inputValue,S=s.isMulti,M=TM(v),T={};if(o&&(v!==o.value||b!==o.options||j!==o.menuIsOpen||w!==o.inputValue)){var A=j?DZ(s,M):[],I=j?VM(nx(s,M),"".concat(x,"-option")):[],_=l?BZ(i,M):null,D=LZ(i,A),E=cw(I,D);T={selectValue:M,focusedOption:D,focusedOptionId:E,focusableOptionsWithIds:I,focusedValue:_,clearFocusValueOnUpdate:!1}}var X=d!=null&&s!==o?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},ee=c,Z=g&&h;return g&&!Z&&(ee={value:pp(S,M,M[0]||null),options:M,action:"initial-input-focus"},Z=!h),c?.action==="initial-input-focus"&&(ee=null),rr(rr(rr({},T),X),{},{prevProps:s,ariaSelection:ee,prevWasFocused:Z})}}]),a})(p.Component);pR.defaultProps=RZ;var FZ=p.forwardRef(function(e,t){var a=rQ(e);return p.createElement(pR,sr({ref:t},a))}),Dx=FZ,xR=(e=>(e[e.Turkish=0]="Turkish",e[e.Italian=1]="Italian",e[e.Chinese=2]="Chinese",e[e.Japanese=3]="Japanese",e[e.Mexican=4]="Mexican",e[e.Indian=5]="Indian",e[e.French=6]="French",e[e.American=7]="American",e[e.Mediterranean=8]="Mediterranean",e[e.Thai=9]="Thai",e[e.Korean=10]="Korean",e[e.Vietnamese=11]="Vietnamese",e[e.Greek=12]="Greek",e[e.Spanish=13]="Spanish",e[e.Lebanese=14]="Lebanese",e[e.Brazilian=15]="Brazilian",e[e.German=16]="German",e[e.Russian=17]="Russian",e[e.British=18]="British",e[e.Ethiopian=19]="Ethiopian",e[e.Moroccan=20]="Moroccan",e[e.Argentinian=21]="Argentinian",e[e.Peruvian=22]="Peruvian",e[e.Caribbean=23]="Caribbean",e[e.Fusion=24]="Fusion",e[e.Vegan=25]="Vegan",e[e.Seafood=26]="Seafood",e[e.Steakhouse=27]="Steakhouse",e[e.FastFood=28]="FastFood",e))(xR||{});const $c=(e,t="string")=>e?e.toLowerCase()===t?"":e:"";class zZ{baseUrl="/api/Restaurants";async getRestaurants(){try{N.info("Tm restoranlar getiriliyor...");const t=await he.get(this.baseUrl);return N.info("Restoranlar alnd:",t.data),t.data.map(n=>({...n,restaurantName:$c(n.restaurantName),restaurantLogoPath:$c(n.restaurantLogoPath)}))}catch(t){throw N.error("Restoranlar alnrken hata olutu:",t),t}}async createRestaurant(t){try{N.info("Restaurant oluturma istei gnderiliyor:",t);const{userId:a,...n}=t,s={...n,creatorUserId:a};N.info("API'ye gnderilen dzenlenmi veri:",s);const i=await he.post(`${this.baseUrl}`,s);return N.info("Restaurant API Response:",i.data),i.data}catch(a){throw N.error("Restaurant oluturma hatas:",a),a}}async getRestaurantByUserId(t){try{return(await he.get(`/api/Restaurants/user/${t}`)).data.data||null}catch(a){if(a.status===404)return null;throw a}}async getRestaurantBranchesDropdown(){try{return(await he.get(`${this.baseUrl}/branches/dropdown`)).data.map(n=>({id:n.branchId,name:n.branchName,type:"branch",isActive:n.branchStatus,branchTag:n.branchTag}))}catch(t){throw N.error(" Restaurant ve ube listesi alnrken hata olutu:",t),t}}async getRestaurantManagementInfo(){try{N.info("Restaurant ynetim bilgileri alnyor...");const{getRestaurantIdFromToken:t}=await Wc(async()=>{const{getRestaurantIdFromToken:o}=await Promise.resolve().then(()=>hM);return{getRestaurantIdFromToken:o}},void 0),a=t(),n=a?`${this.baseUrl}/management-info?restaurantId=${a}`:`${this.baseUrl}/management-info`,s=await he.get(n);N.info("Restaurant ynetim bilgileri alnd:",s.data);let i=s.data;if(!i.restaurantName||i.restaurantName.toLowerCase()==="string"){const o=localStorage.getItem("restaurantName");if(o&&o.toLowerCase()!=="string")i={...i,restaurantName:o};else{const l=localStorage.getItem("token");if(l){const{decodeToken:d}=await Wc(async()=>{const{decodeToken:h}=await Promise.resolve().then(()=>hM);return{decodeToken:h}},void 0),g=d(l)?.restaurant_name;g&&g.toLowerCase()!=="string"&&(i={...i,restaurantName:g})}}}if(i.restaurantLogoPath&&$c(i.restaurantLogoPath)===""){const o=localStorage.getItem("restaurantLogoPath");o&&o.toLowerCase()!=="string"?i={...i,restaurantLogoPath:o}:i={...i,restaurantLogoPath:""}}return i={...i,restaurantName:$c(i.restaurantName)},i}catch(t){if(t?.response?.status===404)return N.warn("Restaurant ynetim bilgileri endpoint 404 dnd. Varsaylan bo deer kullanlacak."),null;throw N.error("Restaurant ynetim bilgileri alnrken hata olutu:",t),t}}async updateRestaurantManagementInfo(t){try{N.info("Restaurant ynetim bilgileri gncelleniyor...",t);const a={updateRestaurantDto:{restaurantId:t.restaurantId||0,restaurantName:t.restaurantName||null,restaurantLogoPath:t.restaurantLogoPath||null,cuisineType:t.cuisineTypeId||void 0,hasAlcoholService:t.hasAlcoholService||null,companyTitle:t.companyTitle||null,taxNumber:t.taxNumber||null,taxOffice:t.taxOffice||null,mersisNumber:t.mersisNumber||null,tradeRegistryNumber:t.tradeRegistryNumber||null,legalType:t.legalType||null,workPermitFilePath:t.workPermitFilePath||null,foodCertificateFilePath:t.foodCertificateFilePath||null,restaurantStatus:t.restaurantStatus||null,restaurantDateModified:new Date().toISOString()},updateAboutDto:{about:t.about||null}};N.info("API'ye gnderilen format:",a);const n=await he.put(`${this.baseUrl}/management-info`,a);return N.info("Restaurant ynetim bilgileri gncellendi:",n.data),n.data}catch(a){throw N.error("Restaurant ynetim bilgileri gncellenirken hata olutu:",a),a}}async updateRestaurant(t,a){return(await he.put(`/api/Restaurants/${t}`,a)).data.data}async deleteRestaurant(t){try{N.info("Restaurant silme istei gnderiliyor:",t),await he.delete(`/api/Restaurants/${t}`),N.info("Restaurant baaryla silindi:",t)}catch(a){throw N.error("Restaurant silinirken hata olutu:",a),a}}async getDeletedRestaurants(){try{N.info("Silinmi restaurantlar getiriliyor...");const t=await he.get(`${this.baseUrl}/deleted`);return N.info("Silinmi restaurantlar alnd:",t.data),t.data}catch(t){throw N.error("Silinmi restaurantlar alnrken hata olutu:",t),t}}async restoreRestaurant(t){try{N.info("Restaurant restore istei gnderiliyor:",t),await he.post(`${this.baseUrl}/${t}/restore`),N.info("Restaurant baaryla restore edildi:",t)}catch(a){throw N.error("Restaurant restore edilirken hata olutu:",a),a}}async createAbout(t){try{N.info("About oluturma istei gnderiliyor:",t);const a=await he.post("/api/About",t);return N.info("About oluturma yant:",a.data),a.data}catch(a){throw N.error("About oluturma hatas:",a),a}}async getAbout(t){try{N.info("About bilgileri alnyor...",t);const a=await he.get(`/api/About?restaurantId=${t}`);return N.info("About bilgileri alnd:",a.data),a.data}catch(a){if(a?.response?.status===404)return N.info("About bilgisi bulunamad (404)"),null;throw N.error("About bilgileri alnrken hata:",a),a}}async updateAbout(t){try{N.info("About gncelleme istei gnderiliyor:",t);const a=await he.put("/api/About",t);return N.info("About gncelleme yant:",a.data),a.data}catch(a){throw N.error("About gncelleme hatas:",a),a}}}const ws=new zZ;class UZ{baseUrl="/api/Medias";async uploadFile(t,a){const n=new FormData;return n.append("file",t),a&&n.append("previousUrl",a),(await he.post(this.baseUrl,n,{headers:{"Content-Type":"multipart/form-data"}})).data}async deleteFile(t){await he.delete(`/api/Media?filePath=${encodeURIComponent(t)}`)}}const Ki=new UZ,qZ=()=>{const e=Ra(),t=gs(),{t:a,isRTL:n}=Ze(),[s,i]=p.useState(1),[o,l]=p.useState(!1),[d,c]=p.useState({}),[g,h]=p.useState(""),[x,b]=p.useState(""),[v,j]=p.useState(""),[w,S]=p.useState(!1),[M,T]=p.useState(!1),[A,I]=p.useState(!1),[_,D]=p.useState({logo:0,workPermit:0,foodCertificate:0}),[E,X]=p.useState({restaurantName:"",restaurantLogoPath:"",isActive:!0,cuisineType:xR.Turkish,hasAlcoholService:!1,companyTitle:"",taxNumber:"",taxOffice:"",mersisNumber:"",tradeRegistryNumber:"",legalType:"",workPermitFilePath:"",foodCertificateFilePath:"",userId:""});p.useEffect(()=>{const z=localStorage.getItem("onboarding_userId");if(!z){N.error("UserId bulunamad!"),h(a("onboardingRestaurant.messages.errors.sessionNotFound")),setTimeout(()=>{e("/register")},2e3);return}j(z),X(V=>({...V,userId:z})),N.info("UserId yklendi",{storedUserId:z})},[e,a]);const ee=[{value:0,label:a("onboardingRestaurant.cuisineTypes.0")},{value:1,label:a("onboardingRestaurant.cuisineTypes.1")},{value:2,label:a("onboardingRestaurant.cuisineTypes.2")},{value:3,label:a("onboardingRestaurant.cuisineTypes.3")},{value:4,label:a("onboardingRestaurant.cuisineTypes.4")},{value:5,label:a("onboardingRestaurant.cuisineTypes.5")},{value:6,label:a("onboardingRestaurant.cuisineTypes.6")},{value:7,label:a("onboardingRestaurant.cuisineTypes.7")},{value:8,label:a("onboardingRestaurant.cuisineTypes.8")},{value:9,label:a("onboardingRestaurant.cuisineTypes.9")},{value:10,label:a("onboardingRestaurant.cuisineTypes.10")},{value:11,label:a("onboardingRestaurant.cuisineTypes.11")},{value:12,label:a("onboardingRestaurant.cuisineTypes.12")},{value:13,label:a("onboardingRestaurant.cuisineTypes.13")},{value:14,label:a("onboardingRestaurant.cuisineTypes.14")},{value:15,label:a("onboardingRestaurant.cuisineTypes.15")},{value:16,label:a("onboardingRestaurant.cuisineTypes.16")},{value:17,label:a("onboardingRestaurant.cuisineTypes.17")},{value:18,label:a("onboardingRestaurant.cuisineTypes.18")},{value:19,label:a("onboardingRestaurant.cuisineTypes.19")},{value:20,label:a("onboardingRestaurant.cuisineTypes.20")},{value:21,label:a("onboardingRestaurant.cuisineTypes.21")},{value:22,label:a("onboardingRestaurant.cuisineTypes.22")},{value:23,label:a("onboardingRestaurant.cuisineTypes.23")},{value:24,label:a("onboardingRestaurant.cuisineTypes.24")},{value:25,label:a("onboardingRestaurant.cuisineTypes.25")},{value:26,label:a("onboardingRestaurant.cuisineTypes.26")},{value:27,label:a("onboardingRestaurant.cuisineTypes.27")},{value:28,label:a("onboardingRestaurant.cuisineTypes.28")}],Z=[a("onboardingRestaurant.legalTypes.as"),a("onboardingRestaurant.legalTypes.ltd"),a("onboardingRestaurant.legalTypes.collective"),a("onboardingRestaurant.legalTypes.partnership"),a("onboardingRestaurant.legalTypes.sole"),a("onboardingRestaurant.legalTypes.other")],B=z=>{const{name:V,value:F,type:$}=z.target,q=$==="checkbox"?z.target.checked:void 0;X(H=>({...H,[V]:q!==void 0?q:F})),d[V]&&c(H=>({...H,[V]:null}))},G=z=>async V=>{const F=V.target.files?.[0];if(!F)return;const $=q=>{switch(z){case"restaurantLogoPath":S(q);break;case"workPermitFilePath":T(q);break;case"foodCertificateFilePath":I(q);break}};c(q=>({...q,[z]:null})),$(!0);try{N.info(`${z} dosya ykleme balatlyor`,{fileName:F.name,fileSize:F.size});const q=await Ki.uploadFile(F);if(q)X(H=>({...H,[z]:q})),N.info(`${z} baaryla yklendi`,{filePath:q});else throw new Error(a("onboardingRestaurant.messages.errors.filePathError"))}catch(q){N.error(`${z} ykleme hatas`,q);const H=q.message||a("onboardingRestaurant.messages.errors.fileUploadGeneric");c(Q=>({...Q,[z]:H})),X(Q=>({...Q,[z]:""})),V.target.value=""}finally{$(!1)}},J=z=>{const V={};switch(z){case 1:E.restaurantName?.trim()||(V.restaurantName=a("onboardingRestaurant.step1.errors.nameRequired")),(E.cuisineType===void 0||E.cuisineType===null)&&(V.cuisineType=a("onboardingRestaurant.step1.errors.cuisineRequired"));break;case 2:E.companyTitle?.trim()||(V.companyTitle=a("onboardingRestaurant.step2.errors.companyTitleRequired")),E.legalType?.trim()||(V.legalType=a("onboardingRestaurant.step2.errors.legalTypeRequired"));break}return c(V),Object.keys(V).length===0},ce=()=>{J(s)&&(c({}),i(z=>z+1))},te=()=>{c({}),i(z=>z-1)},K=async z=>{z.preventDefault(),h(""),b("");const V=J(1),F=J(2),$=J(3);if(!V||!F||!$){if(J(s),!J(1)){i(1);return}if(!J(2)){i(2);return}if(!J(3)){i(3);return}return}if(!v){h(a("onboardingRestaurant.messages.errors.sessionNotFound")),setTimeout(()=>{e("/register")},2e3);return}l(!0);try{N.info("Restaurant verisi gnderiliyor",{formData:E});const q={...E,userId:v,cuisineType:parseInt(E.cuisineType.toString(),10)};N.info("Processed data with userId and integer cuisineType",{processedData:q});const H=await ws.createRestaurant(q);if(N.info("Restaurant Creation Response",{response:H}),H&&H.restaurantId!==void 0){b(a("onboardingRestaurant.messages.success")),localStorage.removeItem("onboarding_userId");const Q=H.restaurantId;N.info("Oluturulan Restaurant ID",{restaurantId:Q}),localStorage.setItem("onboarding_restaurantId",Q.toString()),N.info("RestaurantId localStorage'a kaydedildi",{restaurantId:Q}),E.restaurantLogoPath&&(localStorage.setItem("restaurantLogoPath",E.restaurantLogoPath),N.info("Restaurant logo path localStorage'a kaydedildi",{restaurantLogoPath:E.restaurantLogoPath})),setTimeout(()=>{e("/onboarding/branch",{state:{message:a("onboardingRestaurant.messages.welcome"),restaurantId:Q.toString()}})},2e3)}else console.error("RestaurantId alnamad! Response:",H),h(a("onboardingRestaurant.messages.errors.idNotFound"))}catch(q){console.error("Restaurant creation error:",q);const H=q;if(H.status===400&&H.errors){const Q=[];for(const de in H.errors){const me=H.errors[de];Array.isArray(me)?Q.push(`${de}: ${me.join(", ")}`):Q.push(`${de}: ${me}`)}h(Q.join(`
`))}else H.status===409?h(a("onboardingRestaurant.messages.errors.nameInUse")):H.status===0?h(a("onboardingRestaurant.messages.errors.serverConnection")):h(H.message||a("onboardingRestaurant.messages.errors.genericCreate"))}finally{l(!1)}},Y=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(hi,{className:"h-12 w-12 mx-auto text-primary-600 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:a("onboardingRestaurant.step1.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a("onboardingRestaurant.step1.subtitle")})]}),r.jsxs("div",{children:[r.jsxs("div",{className:`flex justify-between items-center mb-2 ${n?"flex-row-reverse":""}`,children:[r.jsx("label",{htmlFor:"restaurantName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:a("onboardingRestaurant.step1.nameLabel")}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400","aria-live":"polite",children:[E.restaurantName.length," / 50"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(aa,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"restaurantName",name:"restaurantName",value:E.restaurantName,onChange:B,maxLength:50,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${d.restaurantName?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingRestaurant.step1.namePlaceholder"),dir:n?"rtl":"ltr"})]}),d.restaurantName&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d.restaurantName})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"restaurantLogo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingRestaurant.step1.logoLabel")}),r.jsxs("div",{className:"relative",children:[r.jsx(wx,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"file",id:"restaurantLogo",accept:"image/*",onChange:G("restaurantLogoPath"),disabled:w,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${w?"opacity-50 cursor-not-allowed":""} ${d.restaurantLogoPath?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white`}),w&&r.jsx("div",{className:`absolute ${n?"left-3":"right-3"} top-1/2 transform -translate-y-1/2`,children:r.jsx("div",{className:"w-4 h-4 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"})})]}),w&&r.jsx("p",{className:`mt-1 text-sm text-blue-600 dark:text-blue-400 ${n?"text-right":"text-left"}`,children:a("onboardingRestaurant.step1.logoUploading")}),d.restaurantLogoPath&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d.restaurantLogoPath}),E.restaurantLogoPath&&!w&&r.jsx("div",{className:"mt-3",children:r.jsxs("div",{className:`flex items-center space-x-3 ${n?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx("img",{src:E.restaurantLogoPath,alt:"Restaurant Logo Preview",className:"h-16 w-16 object-cover rounded-lg border border-gray-300 dark:border-gray-600"}),r.jsxs("div",{children:[r.jsx("p",{className:`text-sm text-green-600 dark:text-green-400 font-medium ${n?"text-right":"text-left"}`,children:a("onboardingRestaurant.step1.logoSuccess")}),r.jsx("p",{className:`text-xs text-gray-500 dark:text-gray-400 ${n?"text-right":"text-left"}`,children:a("onboardingRestaurant.step1.logoSuccessSub")})]})]})})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"cuisineType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingRestaurant.step1.cuisineLabel")}),r.jsxs("div",{className:"relative ",children:[r.jsx(nl,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 z-10`}),r.jsx(Dx,{id:"cuisineType",name:"cuisineType",value:ee.find(z=>z.value===E.cuisineType),onChange:z=>{z&&(X(V=>({...V,cuisineType:z.value})),d.cuisineType&&c(V=>({...V,cuisineType:void 0})))},options:ee,isSearchable:!0,placeholder:a("onboardingRestaurant.step1.cuisineLabel"),className:n?"text-right":"text-left",styles:{control:(z,V)=>({...z,paddingLeft:n?"1rem":"2.5rem",paddingRight:n?"2.5rem":"1rem",paddingTop:"0.75rem",paddingBottom:"0.75rem",borderRadius:"0.5rem",borderColor:d.cuisineType?"#ef4444":V.isFocused?"#6366f1":document.documentElement.classList.contains("dark")?"#4b5563":"#d1d5db",backgroundColor:d.cuisineType?document.documentElement.classList.contains("dark")?"#7f1d1d":"#fef2f2":document.documentElement.classList.contains("dark")?"#374151":"#fff",boxShadow:V.isFocused?"0 0 0 2px rgba(99, 102, 241, 0.5)":"none","&:hover":{borderColor:V.isFocused?"#6366f1":document.documentElement.classList.contains("dark")?"#4b5563":"#d1d5db"}}),menu:z=>({...z,backgroundColor:document.documentElement.classList.contains("dark")?"#374151":"#fff",zIndex:50}),option:(z,V)=>({...z,backgroundColor:V.isSelected?"#6366f1":V.isFocused?document.documentElement.classList.contains("dark")?"#4b5563":"#e0e7ff":document.documentElement.classList.contains("dark")?"#374151":"#fff",color:V.isSelected?"#fff":document.documentElement.classList.contains("dark")?"#f3f4f6":"#111827",cursor:"pointer"}),singleValue:z=>({...z,color:document.documentElement.classList.contains("dark")?"#f3f4f6":"#111827"}),input:z=>({...z,color:document.documentElement.classList.contains("dark")?"#f3f4f6":"#111827"}),placeholder:z=>({...z,color:document.documentElement.classList.contains("dark")?"#9ca3af":"#6b7280"})}})]}),d.cuisineType&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d.cuisineType})]})]}),re=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(Hs,{className:"h-12 w-12 mx-auto text-primary-600 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:a("onboardingRestaurant.step2.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a("onboardingRestaurant.step2.subtitle")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"companyTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingRestaurant.step2.companyTitleLabel")}),r.jsxs("div",{className:"relative",children:[r.jsx(Hs,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"companyTitle",name:"companyTitle",value:E.companyTitle,onChange:B,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${d.companyTitle?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingRestaurant.step2.companyTitlePlaceholder"),dir:n?"rtl":"ltr"})]}),d.companyTitle&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d.companyTitle})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"legalType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingRestaurant.step2.legalTypeLabel")}),r.jsxs("div",{className:"relative",children:[r.jsx(xa,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 z-10`}),r.jsx(Dx,{id:"legalType",name:"legalType",value:E.legalType?{value:E.legalType,label:E.legalType}:null,onChange:z=>{z&&(X(V=>({...V,legalType:z.value})),d.legalType&&c(V=>({...V,legalType:void 0})))},options:Z.map(z=>({value:z,label:z})),isSearchable:!0,placeholder:a("onboardingRestaurant.step2.legalTypePlaceholder"),isClearable:!0,className:n?"text-right":"text-left",styles:{control:(z,V)=>({...z,paddingLeft:n?"1rem":"2.5rem",paddingRight:n?"2.5rem":"1rem",paddingTop:"0.75rem",paddingBottom:"0.75rem",borderRadius:"0.5rem",borderColor:d.legalType?"#ef4444":V.isFocused?"#6366f1":document.documentElement.classList.contains("dark")?"#4b5563":"#d1d5db",backgroundColor:d.legalType?document.documentElement.classList.contains("dark")?"#7f1d1d":"#fef2f2":document.documentElement.classList.contains("dark")?"#374151":"#fff",boxShadow:V.isFocused?"0 0 0 2px rgba(99, 102, 241, 0.5)":"none","&:hover":{borderColor:V.isFocused?"#6366f1":document.documentElement.classList.contains("dark")?"#4b5563":"#d1d5db"}}),menu:z=>({...z,backgroundColor:document.documentElement.classList.contains("dark")?"#374151":"#fff",zIndex:50}),option:(z,V)=>({...z,backgroundColor:V.isSelected?"#6366f1":V.isFocused?document.documentElement.classList.contains("dark")?"#4b5563":"#e0e7ff":document.documentElement.classList.contains("dark")?"#374151":"#fff",color:V.isSelected?"#fff":document.documentElement.classList.contains("dark")?"#f3f4f6":"#111827",cursor:"pointer"}),singleValue:z=>({...z,color:document.documentElement.classList.contains("dark")?"#f3f4f6":"#111827"}),input:z=>({...z,color:document.documentElement.classList.contains("dark")?"#f3f4f6":"#111827"}),placeholder:z=>({...z,color:document.documentElement.classList.contains("dark")?"#9ca3af":"#6b7280"})}})]}),d.legalType&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d.legalType})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"mersisNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingRestaurant.step2.mersisLabel")}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"mersisNumber",name:"mersisNumber",value:E.mersisNumber,onChange:B,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${d.mersisNumber?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingRestaurant.step2.mersisPlaceholder"),dir:n?"rtl":"ltr"})]}),d.mersisNumber&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d.mersisNumber})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"tradeRegistryNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingRestaurant.step2.tradeRegistryLabel")}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"tradeRegistryNumber",name:"tradeRegistryNumber",value:E.tradeRegistryNumber,onChange:B,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingRestaurant.step2.tradeRegistryPlaceholder"),dir:n?"rtl":"ltr"})]})]})]}),ne=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(vn,{className:"h-12 w-12 mx-auto text-primary-600 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:a("onboardingRestaurant.step3.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a("onboardingRestaurant.step3.subtitle")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"taxNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingRestaurant.step3.taxNumberLabel")}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"taxNumber",name:"taxNumber",value:E.taxNumber,onChange:B,maxLength:10,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${d.taxNumber?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingRestaurant.step3.taxNumberPlaceholder"),dir:n?"rtl":"ltr"})]}),d.taxNumber&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d.taxNumber})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"taxOffice",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingRestaurant.step3.taxOfficeLabel")}),r.jsxs("div",{className:"relative",children:[r.jsx(Hs,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"taxOffice",name:"taxOffice",value:E.taxOffice,onChange:B,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${d.taxOffice?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingRestaurant.step3.taxOfficePlaceholder"),dir:n?"rtl":"ltr"})]}),d.taxOffice&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d.taxOffice})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"workPermitFile",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingRestaurant.step3.workPermitLabel")}),r.jsxs("div",{className:"relative",children:[r.jsx(vo,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"file",id:"workPermitFile",accept:".pdf,.jpg,.jpeg,.png",onChange:G("workPermitFilePath"),disabled:M,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${M?"opacity-50 cursor-not-allowed":""} ${d.workPermitFilePath?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white`}),M&&r.jsx("div",{className:`absolute ${n?"left-3":"right-3"} top-1/2 transform -translate-y-1/2`,children:r.jsx("div",{className:"w-4 h-4 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"})})]}),M&&r.jsx("p",{className:`mt-1 text-sm text-blue-600 dark:text-blue-400 ${n?"text-right":"text-left"}`,children:a("onboardingRestaurant.step3.workPermitUploading")}),d.workPermitFilePath&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d.workPermitFilePath}),E.workPermitFilePath&&!M&&r.jsx("p",{className:`mt-1 text-sm text-green-600 dark:text-green-400 font-medium ${n?"text-right":"text-left"}`,children:a("onboardingRestaurant.step3.workPermitSuccess")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"foodCertificateFile",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingRestaurant.step3.foodCertificateLabel")}),r.jsxs("div",{className:"relative",children:[r.jsx(vo,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"file",id:"foodCertificateFile",accept:".pdf,.jpg,.jpeg,.png",onChange:G("foodCertificateFilePath"),disabled:A,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${A?"opacity-50 cursor-not-allowed":""} ${d.foodCertificateFilePath?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white`}),A&&r.jsx("div",{className:`absolute ${n?"left-3":"right-3"} top-1/2 transform -translate-y-1/2`,children:r.jsx("div",{className:"w-4 h-4 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"})})]}),A&&r.jsx("p",{className:`mt-1 text-sm text-blue-600 dark:text-blue-400 ${n?"text-right":"text-left"}`,children:a("onboardingRestaurant.step3.foodCertificateUploading")}),d.foodCertificateFilePath&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d.foodCertificateFilePath}),E.foodCertificateFilePath&&!A&&r.jsx("p",{className:`mt-1 text-sm text-green-600 dark:text-green-400 font-medium ${n?"text-right":"text-left"}`,children:a("onboardingRestaurant.step3.foodCertificateSuccess")})]})]});return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",dir:n?"rtl":"ltr",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx(ke.div,{initial:{opacity:0,x:n?20:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"mb-8",children:r.jsxs(ls,{to:"/register",className:`inline-flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200 ${n?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx(ms,{className:`h-4 w-4 ${n?"rotate-180":""}`}),r.jsx("span",{children:a("onboardingRestaurant.backLink")})]})}),r.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-8",children:[r.jsx("div",{className:`flex items-center ${n?"flex-row-reverse":""} justify-between`,children:[1,2,3].map(z=>r.jsxs("div",{className:`flex items-center ${n&&z<3?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`
                  w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium
                  ${s>=z?"bg-primary-600 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-600 dark:text-gray-400"}
                `,children:z}),z<3&&r.jsx("div",{className:`
                    w-full h-1 ${n?"mr-4":"ml-4"}
                    ${s>z?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"}
                  `,style:{width:"100px"}})]},z))}),r.jsxs("div",{className:`flex ${n?"flex-row-reverse":""} justify-between mt-2 text-xs text-gray-600 dark:text-gray-400`,children:[r.jsx("span",{children:a("onboardingRestaurant.progress.step1")}),r.jsx("span",{children:a("onboardingRestaurant.progress.step2")}),r.jsx("span",{children:a("onboardingRestaurant.progress.step3")})]})]}),t.state?.message&&r.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:r.jsxs("div",{className:`flex items-center ${n?"flex-row-reverse":""}`,children:[r.jsx(tr,{className:`h-5 w-5 text-green-600 dark:text-green-400 ${n?"ml-2":"mr-2"}`}),r.jsx("p",{className:"text-green-800 dark:text-green-200",children:t.state.message})]})}),r.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-white dark:bg-gray-800 shadow-xl rounded-lg overflow-hidden",children:r.jsxs("form",{onSubmit:K,className:"p-8",children:[g&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:`flex items-center ${n?"flex-row-reverse":""}`,children:[r.jsx(Nt,{className:`h-5 w-5 text-red-600 dark:text-red-400 ${n?"ml-2":"mr-2"}`}),r.jsx("p",{className:"text-red-800 dark:text-red-200",children:g})]})}),x&&r.jsx("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:r.jsxs("div",{className:`flex items-center ${n?"flex-row-reverse":""}`,children:[r.jsx(tr,{className:`h-5 w-5 text-green-600 dark:text-green-400 ${n?"ml-2":"mr-2"}`}),r.jsx("p",{className:"text-green-800 dark:text-green-200",children:x})]})}),s===1&&Y(),s===2&&re(),s===3&&ne(),r.jsxs("div",{className:`flex ${n?"flex-row-reverse":""} justify-between mt-8 pt-6 border-t border-gray-200 dark:border-gray-700`,children:[s>1&&r.jsx("button",{type:"button",onClick:te,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:a("onboardingRestaurant.navigation.previous")}),r.jsx("div",{className:"flex-1"}),s<3?r.jsx("button",{type:"button",onClick:ce,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200",children:a("onboardingRestaurant.navigation.next")}):r.jsx("button",{type:"submit",disabled:o||w||M||A,className:`px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2 ${n?"flex-row-reverse space-x-reverse":""}`,children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:a("onboardingRestaurant.navigation.submitting")})]}):w||M||A?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:a("onboardingRestaurant.navigation.uploading")})]}):r.jsx("span",{children:a("onboardingRestaurant.navigation.submit")})})]})]})})]})})};let VZ=class{baseUrl="/api/Branches";async createOnboardingBranch(t){try{if(N.info("Branch oluturma istei gnderiliyor",t,{prefix:"BranchService"}),!t.branchName?.trim())throw new Error("ube ad gereklidir");if(!t.restaurantId)throw new Error("Restaurant ID gereklidir");if(!t.createBranchWorkingHourCoreDto||t.createBranchWorkingHourCoreDto.length===0)throw new Error("En az bir gn iin alma saati belirtmelisiniz");if(t.createBranchWorkingHourCoreDto.filter(s=>s.isWorkingDay).length===0)throw new Error("En az bir gn iin alma saati belirtmelisiniz");const n=await he.post(`${this.baseUrl}/onboarding`,t);return N.info("Branch API Response alnd",n.data,{prefix:"BranchService"}),n.data}catch(a){throw N.error("Branch oluturma hatas",a,{prefix:"BranchService"}),a.response?.data?.errors&&N.error("API Validation Hatalar:",a.response.data.errors,{prefix:"BranchService"}),a}}async createBranch(t){try{N.info("Branch oluturma istei gnderiliyor",t,{prefix:"BranchService"});const a=await he.post(`${this.baseUrl}`,t);return N.info("Branch API Response alnd",a.data,{prefix:"BranchService"}),a.data}catch(a){throw N.error("Branch oluturma hatas",a,{prefix:"BranchService"}),a}}async updateBranch(t,a){try{N.info("Branch gncelleme istei gnderiliyor",{id:t,data:a},{prefix:"BranchService"});const n={branchName:a.branchName?.trim()||null,whatsappOrderNumber:a.whatsappOrderNumber?.trim()||null,branchLogoPath:a.branchLogoPath||null};a.createAddressDto&&(n.batchUpdateAddressDto={country:a.createAddressDto.country?.trim()||null,city:a.createAddressDto.city?.trim()||null,street:a.createAddressDto.street?.trim()||null,adressLine1:a.createAddressDto.addressLine1?.trim()||null,adressLine2:a.createAddressDto.addressLine2?.trim()||null,zipCode:a.createAddressDto.zipCode?.trim()||null}),a.createContactDto&&(n.batchUpdateContactDto={contactHeader:a.createContactDto.contactHeader?.trim()||null,location:a.createContactDto.location?.trim()||null,phone:a.createContactDto.phone?.trim()||null,mail:a.createContactDto.mail?.trim()||null,footerTitle:a.createContactDto.footerTitle?.trim()||null,footerDescription:a.createContactDto.footerDescription?.trim()||null,openTitle:a.createContactDto.openTitle?.trim()||null,openDays:a.createContactDto.openDays?.trim()||null,openHours:a.createContactDto.openHours?.trim()||null}),a.createBranchWorkingHourCoreDto&&a.createBranchWorkingHourCoreDto.length>0&&(n.batchUpdateBranchWorkingHourDto=a.createBranchWorkingHourCoreDto.map(i=>({dayOfWeek:i.dayOfWeek,openTime:i.openTime,closeTime:i.closeTime,isWorkingDay:i.isWorkingDay}))),N.info("Transformed batch update data",n,{prefix:"BranchService"});const s=await he.put(`${this.baseUrl}/${t}/batch-update`,n);return N.info("Branch Update API Response alnd",s.data,{prefix:"BranchService"}),s.data.data}catch(n){throw N.error("Branch gncelleme hatas",n,{prefix:"BranchService"}),n.response?.data?.errors&&N.error("API Validation Hatalar:",n.response.data.errors,{prefix:"BranchService"}),n}}async getDeletedBranches(){try{N.info("Silinmi ubeler getiriliyor",null,{prefix:"BranchService"});const t=await he.get(`${this.baseUrl}/deleted`);return N.info("Silinmi ubeler baaryla getirildi",{count:t.data?.length||0},{prefix:"BranchService"}),t.data||[]}catch(t){throw N.error(" Silinmi ubeler getirilirken hata:",t,{prefix:"BranchService"}),t?.response?.status===401?new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn."):t?.response?.status===403?new Error("Bu ilem iin yetkiniz bulunmuyor."):t?.response?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`Silinmi ubeler getirilirken hata olutu: ${t?.message||"Bilinmeyen hata"}`)}}async getDeletedTables(t){try{N.info("Silinmi masalar getiriliyor",{branchId:t},{prefix:"BranchService"});const a=t?`/api/branches/tables/deleted?branchId=${t}`:"/api/branches/tables/deleted",n=await he.get(a);return N.info("Silinmi masalar baaryla getirildi",{count:n.data?.length||0,branchId:t},{prefix:"BranchService"}),n.data||[]}catch(a){throw N.error(" Silinmi masalar getirilirken hata:",a,{prefix:"BranchService"}),a?.response?.status===401?new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn."):a?.response?.status===403?new Error("Bu ilem iin yetkiniz bulunmuyor."):a?.response?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`Silinmi masalar getirilirken hata olutu: ${a?.message||"Bilinmeyen hata"}`)}}async restoreTable(t,a){try{N.info("Masa geri ykleniyor",{tableId:t},{prefix:"BranchService"});const n=await he.post(`/api/branches/tables/${t}/restore?branchId=${a}`);N.info("Masa baaryla geri yklendi",{tableId:t,response:n.status},{prefix:"BranchService"})}catch(n){if(N.error(" Masa geri yklenirken hata:",n,{prefix:"BranchService"}),n?.response?.status===404)throw new Error("Geri yklenecek masa bulunamad.");if(n?.response?.status===400){const s=n?.response?.data;if(s?.errors){const i=Object.values(s.errors).flat();throw new Error(`Dorulama hatas: ${i.join(", ")}`)}else throw new Error("Geersiz masa geri ykleme istei.")}else throw n?.response?.status===401?new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn."):n?.response?.status===403?new Error("Bu ilem iin yetkiniz bulunmuyor."):n?.response?.status===409?new Error("Bu masa zaten aktif durumda veya ayn isimde aktif bir masa mevcut."):n?.response?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`Masa geri yklenirken hata olutu: ${n?.message||"Bilinmeyen hata"}`)}}async restoreBranch(t,a=!1){try{N.info("ube geri ykleniyor",{branchId:t,restoreWithCascade:a},{prefix:"BranchService"});const n=`${this.baseUrl}/${t}/restore?restoreWithCascade=${a}`,s=await he.post(n);N.info("ube baaryla geri yklendi",{branchId:t,restoreWithCascade:a,response:s.status},{prefix:"BranchService"})}catch(n){if(N.error(" ube geri yklenirken hata:",n,{prefix:"BranchService"}),n?.response?.status===404)throw new Error("Geri yklenecek ube bulunamad.");if(n?.response?.status===400){const s=n?.response?.data;if(s?.errors){const i=Object.values(s.errors).flat();throw new Error(`Dorulama hatas: ${i.join(", ")}`)}else throw new Error("Geersiz ube geri ykleme istei.")}else throw n?.response?.status===401?new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn."):n?.response?.status===403?new Error("Bu ilem iin yetkiniz bulunmuyor."):n?.response?.status===409?new Error("Bu ube zaten aktif durumda veya ayn isimde aktif bir ube mevcut."):n?.response?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`ube geri yklenirken hata olutu: ${n?.message||"Bilinmeyen hata"}`)}}async deleteBranch(t){try{N.info("Branch silme istei gnderiliyor",{id:t},{prefix:"BranchService"}),await he.delete(`${this.baseUrl}/${t}`),N.info("Branch baaryla silindi",{id:t},{prefix:"BranchService"})}catch(a){throw N.error("Branch silme hatas",a,{prefix:"BranchService"}),a}}async getBranchesByRestaurantId(t){return(await he.get(`${this.baseUrl}/restaurant/${t}`)).data.data||[]}async getBranchById(t){try{N.info("Branch detaylar API ars balatlyor",{id:t},{prefix:"BranchService"});const a=["address","contact","workingHours"].join("%2C"),n=`${this.baseUrl}?branchId=${t}&include=${a}`;N.info("API URL:",n,{prefix:"BranchService"});const s=await he.get(n);if(N.info("Branch API Response alnd",s.data,{prefix:"BranchService"}),s.data&&s.data.data){const i=s.data.data;return i.id&&!i.branchId&&(i.branchId=i.id),i}if(s.data&&!s.data.data&&typeof s.data=="object"){const i=s.data;if(i.id&&i.branchName)return N.info("API yant direkt branch formatnda",null,{prefix:"BranchService"}),i.id&&!i.branchId&&(i.branchId=i.id),i}return null}catch(a){if(N.error("Branch detaylar ekilirken hata",a,{prefix:"BranchService"}),a.status===404)return N.warn("Branch bulunamad (404)",null,{prefix:"BranchService"}),null;throw a}}async getBranches(){try{if(N.info("Branch listesi API ars balatlyor...",null,{prefix:"BranchService"}),!localStorage.getItem("token"))throw N.error("Token bulunamad",null,{prefix:"BranchService"}),new Error("Oturum bilgisi bulunamad. Ltfen tekrar giri yapn.");const a=Qc();if(!a)throw N.error("Restaurant ID bulunamad",null,{prefix:"BranchService"}),new Error("Restaurant bilgisi bulunamad.");N.info(`Restaurant ID: ${a} ile ube listesi isteniyor`,null,{prefix:"BranchService"});const n=["address","contact","workingHours"].join("%2C");let s=`/api/Restaurants/branches?include=BranchIsOpen%2C${n}`,i;try{i=await he.get(s),N.info("lk endpoint baarl",i,{prefix:"BranchService"})}catch(l){N.warn("lk endpoint baarsz, alternatif deneniyor",l,{prefix:"BranchService"}),s=`/api/Branches?restaurantId=${a}&include=BranchIsOpen%2C${n}`,i=await he.get(s),N.info("Alternatif endpoint baarl",i,{prefix:"BranchService"})}if(N.info("Branch listesi API Response alnd",i,{prefix:"BranchService"}),!i.data)return N.warn("API response.data bo",null,{prefix:"BranchService"}),[];if(!Array.isArray(i.data))return N.warn("API response.data array deil, format:",i.data,{prefix:"BranchService"}),[];const o=i.data.map((l,d)=>{N.debug(`lenen item ${d}`,l,{prefix:"BranchService"});const c=l.branch||l;return N.debug(`Branch data ${d}`,c,{prefix:"BranchService"}),{id:c.branchId||c.id,branchId:c.branchId||c.id,branchName:c.branchName,whatsappOrderNumber:c.whatsappOrderNumber??null,email:c.email??null,branchStatus:c.branchStatus??!0,restaurantId:c.restaurantId??0,branchLogoPath:c.branchLogoPath??null,isOpenNow:c.isOpenNow??!1,isTemporarilyClosed:c.isTemporarilyClosed??!1,BranchIsOpen:c.BranchIsOpen,createAddressDto:{country:c.address?.country??null,city:c.address?.city??null,street:c.address?.street??null,zipCode:c.address?.zipCode??null,addressLine1:c.address?.addressLine1??null},workingHours:c.workingHours??[],address:c.address,contact:c.contact}});return N.info(`Branch listesi baaryla ilendi, toplam: ${o.length}`,o,{prefix:"BranchService"}),o}catch(t){throw N.error("Branch listesi alnrken hata",t,{prefix:"BranchService"}),t?.status===401?new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn."):t?.status===403?new Error("Bu ilem iin yetkiniz bulunmuyor."):t?.status===404?new Error("ube listesi bulunamad."):t?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`ube listesi alnrken hata olutu: ${t?.message||"Bilinmeyen hata"}`)}}async toggleTemporaryClose(t,a,n){try{N.info("Branch temporary close gncelleme istei",{branchId:t,isTemporarilyClosed:a,isOpenNow:n},{prefix:"BranchService"}),await he.patch(`${this.baseUrl}/${t}/temporary-close`,a),N.info("Branch temporary close durumu gncellendi",null,{prefix:"BranchService"})}catch(s){if(N.error("Branch temporary close gncelleme hatas",s,{prefix:"BranchService"}),s?.response?.status===400){const i=s?.response?.data;if(i?.errors){const o=Object.values(i.errors).flat();throw new Error(`Dorulama hatas: ${o.join(", ")}`)}else throw new Error("Geersiz istek. Ltfen verileri kontrol edin.")}else throw s?.response?.status===401?new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn."):s?.response?.status===403?new Error("Bu ilem iin yetkiniz bulunmuyor."):s?.response?.status===404?new Error("ube bulunamad."):s?.response?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`ube durumu gncellenirken hata olutu: ${s?.message||"Bilinmeyen hata"}`)}}async getBranchesDropdown(){try{N.info("ube dropdown listesi API ars balatlyor...",null,{prefix:"BranchService"});const t=await he.get("/api/Restaurants/branches/dropdown");return N.info("ube dropdown listesi alnd",t.data,{prefix:"BranchService"}),t.data}catch(t){throw N.error("ube dropdown listesi alnrken hata olutu",t,{prefix:"BranchService"}),t}}async getTables(t,a,n=!0,s=!0){try{N.info("Masalar API ars balatlyor",{branchId:t},{prefix:"BranchService"});const i=new URLSearchParams({branchId:t.toString(),onlyActive:n.toString(),includeCategory:s.toString()});a&&i.append("categoryId",a);const o=await he.get(`/api/branches/tables?${i.toString()}`);return N.info("Masalar alnd",o.data,{prefix:"BranchService"}),o.data}catch(i){throw N.error("Masalar alnrken hata olutu",i,{prefix:"BranchService"}),i}}async getTableCategories(t,a,n=!1){try{N.info("Masa kategorileri API ars balatlyor",{branchId:t,onlyActive:a,includeTableCount:n},{prefix:"BranchService"});const s=new URLSearchParams({branchId:t.toString(),onlyActive:a.toString(),includeTableCount:n.toString()}),i=await he.get(`/api/branches/table-categories?${s.toString()}`);return N.info("Masa kategorileri alnd",i.data,{prefix:"BranchService"}),i.data}catch(s){throw N.error("Masa kategorileri alnrken hata olutu",s,{prefix:"BranchService"}),s}}async createTable(t,a){try{N.info("Masa oluturma API ars balatlyor",{data:t,branchId:a},{prefix:"BranchService"});const n=await he.post(`/api/branches/tables?branchId=${a}`,t);return N.info("Masa baaryla oluturuldu",n.data,{prefix:"BranchService"}),n.data}catch(n){throw N.error("Masa oluturulurken hata olutu",n,{prefix:"BranchService"}),n}}async createBatchTables(t,a){try{N.info("Toplu masa oluturma API ars balatlyor",{data:t,branchId:a},{prefix:"BranchService"});const n={timeout:12e4,headers:{"Content-Type":"application/json","X-Request-Type":"batch-operation"}},s=await he.post(`/api/branches/tables/batch?branchId=${a}`,t,n);return N.info("Toplu masa baaryla oluturuldu",s.data,{prefix:"BranchService"}),s.data}catch(n){throw N.error("Toplu masa oluturulurken hata olutu",n,{prefix:"BranchService"}),n}}async updateTable(t,a,n){try{N.info("Masa gncelleme API ars balatlyor",{tableId:t,data:n},{prefix:"BranchService"});const s=await he.put(`/api/branches/tables/${t}?branchId=${a}`,n);return N.info("Masa baaryla gncellendi",s.data,{prefix:"BranchService"}),s.data}catch(s){throw N.error("Masa gncellenirken hata olutu",s,{prefix:"BranchService"}),s}}async deleteTable(t,a){try{N.info("Masa silme API ars balatlyor",{tableId:t,branchId:a},{prefix:"BranchService"}),await he.delete(`/api/branches/tables/${t}?branchId=${a}`),N.info("Masa baaryla silindi",{tableId:t,branchId:a},{prefix:"BranchService"})}catch(n){throw N.error("Masa silinirken hata olutu",n,{prefix:"BranchService"}),n}}async toggleTableStatus(t,a,n){try{N.info("Masa durumu gncelleme istei",{tableId:t,branchId:a,isActive:n},{prefix:"BranchService"}),await he.patch(`/api/branches/tables/${t}/toggle-status?branchId=${a}`,{isActive:n}),N.info("Masa durumu baaryla gncellendi",{tableId:t,isActive:n},{prefix:"BranchService"})}catch(s){throw N.error("Masa durumu gncellenirken hata olutu",s,{prefix:"BranchService"}),s}}async toggleTableOccupation(t,a,n){try{N.info("Masa doluluk durumu gncelleme istei",{tableId:t,branchId:a,isOccupied:n},{prefix:"BranchService"}),await he.patch(`/api/branches/tables/${t}/occupation?branchId=${a}`,{isOccupied:n}),N.info("Masa doluluk durumu baaryla gncellendi",{tableId:t,isOccupied:n},{prefix:"BranchService"})}catch(s){throw N.error("Masa doluluk durumu gncellenirken hata olutu",s,{prefix:"BranchService"}),s}}};const oa=new VZ;function HZ(e,t){const a=p.useRef(t);p.useEffect(function(){t!==a.current&&e.attributionControl!=null&&(a.current!=null&&e.attributionControl.removeAttribution(a.current),t!=null&&e.attributionControl.addAttribution(t)),a.current=t},[e,t])}const WZ=1;function KZ(e){return Object.freeze({__version:WZ,map:e})}function QZ(e,t){return Object.freeze({...e,...t})}const yR=p.createContext(null),bR=yR.Provider;function vR(){const e=p.useContext(yR);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function GZ(e){function t(a,n){const{instance:s,context:i}=e(a).current;return p.useImperativeHandle(n,()=>s),a.children==null?null:Lr.createElement(bR,{value:i},a.children)}return p.forwardRef(t)}function YZ(e){function t(a,n){const{instance:s}=e(a).current;return p.useImperativeHandle(n,()=>s),null}return p.forwardRef(t)}function ZZ(e,t){const a=p.useRef();p.useEffect(function(){return t!=null&&e.instance.on(t),a.current=t,function(){a.current!=null&&e.instance.off(a.current),a.current=null}},[e,t])}function kR(e,t){const a=e.pane??t.pane;return a?{...e,pane:a}:e}var fh={exports:{}};var XZ=fh.exports,WM;function JZ(){return WM||(WM=1,(function(e,t){(function(a,n){n(t)})(XZ,(function(a){var n="1.9.4";function s(m){var y,C,O,W;for(C=1,O=arguments.length;C<O;C++){W=arguments[C];for(y in W)m[y]=W[y]}return m}var i=Object.create||(function(){function m(){}return function(y){return m.prototype=y,new m}})();function o(m,y){var C=Array.prototype.slice;if(m.bind)return m.bind.apply(m,C.call(arguments,1));var O=C.call(arguments,2);return function(){return m.apply(y,O.length?O.concat(C.call(arguments)):arguments)}}var l=0;function d(m){return"_leaflet_id"in m||(m._leaflet_id=++l),m._leaflet_id}function c(m,y,C){var O,W,oe,ve;return ve=function(){O=!1,W&&(oe.apply(C,W),W=!1)},oe=function(){O?W=arguments:(m.apply(C,arguments),setTimeout(ve,y),O=!0)},oe}function g(m,y,C){var O=y[1],W=y[0],oe=O-W;return m===O&&C?m:((m-W)%oe+oe)%oe+W}function h(){return!1}function x(m,y){if(y===!1)return m;var C=Math.pow(10,y===void 0?6:y);return Math.round(m*C)/C}function b(m){return m.trim?m.trim():m.replace(/^\s+|\s+$/g,"")}function v(m){return b(m).split(/\s+/)}function j(m,y){Object.prototype.hasOwnProperty.call(m,"options")||(m.options=m.options?i(m.options):{});for(var C in y)m.options[C]=y[C];return m.options}function w(m,y,C){var O=[];for(var W in m)O.push(encodeURIComponent(C?W.toUpperCase():W)+"="+encodeURIComponent(m[W]));return(!y||y.indexOf("?")===-1?"?":"&")+O.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function M(m,y){return m.replace(S,function(C,O){var W=y[O];if(W===void 0)throw new Error("No value provided for variable "+C);return typeof W=="function"&&(W=W(y)),W})}var T=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"};function A(m,y){for(var C=0;C<m.length;C++)if(m[C]===y)return C;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _(m){return window["webkit"+m]||window["moz"+m]||window["ms"+m]}var D=0;function E(m){var y=+new Date,C=Math.max(0,16-(y-D));return D=y+C,window.setTimeout(m,C)}var X=window.requestAnimationFrame||_("RequestAnimationFrame")||E,ee=window.cancelAnimationFrame||_("CancelAnimationFrame")||_("CancelRequestAnimationFrame")||function(m){window.clearTimeout(m)};function Z(m,y,C){if(C&&X===E)m.call(y);else return X.call(window,o(m,y))}function B(m){m&&ee.call(window,m)}var G={__proto__:null,extend:s,create:i,bind:o,get lastId(){return l},stamp:d,throttle:c,wrapNum:g,falseFn:h,formatNum:x,trim:b,splitWords:v,setOptions:j,getParamString:w,template:M,isArray:T,indexOf:A,emptyImageUrl:I,requestFn:X,cancelFn:ee,requestAnimFrame:Z,cancelAnimFrame:B};function J(){}J.extend=function(m){var y=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},C=y.__super__=this.prototype,O=i(C);O.constructor=y,y.prototype=O;for(var W in this)Object.prototype.hasOwnProperty.call(this,W)&&W!=="prototype"&&W!=="__super__"&&(y[W]=this[W]);return m.statics&&s(y,m.statics),m.includes&&(ce(m.includes),s.apply(null,[O].concat(m.includes))),s(O,m),delete O.statics,delete O.includes,O.options&&(O.options=C.options?i(C.options):{},s(O.options,m.options)),O._initHooks=[],O.callInitHooks=function(){if(!this._initHooksCalled){C.callInitHooks&&C.callInitHooks.call(this),this._initHooksCalled=!0;for(var oe=0,ve=O._initHooks.length;oe<ve;oe++)O._initHooks[oe].call(this)}},y},J.include=function(m){var y=this.prototype.options;return s(this.prototype,m),m.options&&(this.prototype.options=y,this.mergeOptions(m.options)),this},J.mergeOptions=function(m){return s(this.prototype.options,m),this},J.addInitHook=function(m){var y=Array.prototype.slice.call(arguments,1),C=typeof m=="function"?m:function(){this[m].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(C),this};function ce(m){if(!(typeof L>"u"||!L||!L.Mixin)){m=T(m)?m:[m];for(var y=0;y<m.length;y++)m[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var te={on:function(m,y,C){if(typeof m=="object")for(var O in m)this._on(O,m[O],y);else{m=v(m);for(var W=0,oe=m.length;W<oe;W++)this._on(m[W],y,C)}return this},off:function(m,y,C){if(!arguments.length)delete this._events;else if(typeof m=="object")for(var O in m)this._off(O,m[O],y);else{m=v(m);for(var W=arguments.length===1,oe=0,ve=m.length;oe<ve;oe++)W?this._off(m[oe]):this._off(m[oe],y,C)}return this},_on:function(m,y,C,O){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(m,y,C)===!1){C===this&&(C=void 0);var W={fn:y,ctx:C};O&&(W.once=!0),this._events=this._events||{},this._events[m]=this._events[m]||[],this._events[m].push(W)}},_off:function(m,y,C){var O,W,oe;if(this._events&&(O=this._events[m],!!O)){if(arguments.length===1){if(this._firingCount)for(W=0,oe=O.length;W<oe;W++)O[W].fn=h;delete this._events[m];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var ve=this._listens(m,y,C);if(ve!==!1){var Ae=O[ve];this._firingCount&&(Ae.fn=h,this._events[m]=O=O.slice()),O.splice(ve,1)}}},fire:function(m,y,C){if(!this.listens(m,C))return this;var O=s({},y,{type:m,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var W=this._events[m];if(W){this._firingCount=this._firingCount+1||1;for(var oe=0,ve=W.length;oe<ve;oe++){var Ae=W[oe],$e=Ae.fn;Ae.once&&this.off(m,$e,Ae.ctx),$e.call(Ae.ctx||this,O)}this._firingCount--}}return C&&this._propagateEvent(O),this},listens:function(m,y,C,O){typeof m!="string"&&console.warn('"string" type argument expected');var W=y;typeof y!="function"&&(O=!!y,W=void 0,C=void 0);var oe=this._events&&this._events[m];if(oe&&oe.length&&this._listens(m,W,C)!==!1)return!0;if(O){for(var ve in this._eventParents)if(this._eventParents[ve].listens(m,y,C,O))return!0}return!1},_listens:function(m,y,C){if(!this._events)return!1;var O=this._events[m]||[];if(!y)return!!O.length;C===this&&(C=void 0);for(var W=0,oe=O.length;W<oe;W++)if(O[W].fn===y&&O[W].ctx===C)return W;return!1},once:function(m,y,C){if(typeof m=="object")for(var O in m)this._on(O,m[O],y,!0);else{m=v(m);for(var W=0,oe=m.length;W<oe;W++)this._on(m[W],y,C,!0)}return this},addEventParent:function(m){return this._eventParents=this._eventParents||{},this._eventParents[d(m)]=m,this},removeEventParent:function(m){return this._eventParents&&delete this._eventParents[d(m)],this},_propagateEvent:function(m){for(var y in this._eventParents)this._eventParents[y].fire(m.type,s({layer:m.target,propagatedFrom:m.target},m),!0)}};te.addEventListener=te.on,te.removeEventListener=te.clearAllEventListeners=te.off,te.addOneTimeEventListener=te.once,te.fireEvent=te.fire,te.hasEventListeners=te.listens;var K=J.extend(te);function Y(m,y,C){this.x=C?Math.round(m):m,this.y=C?Math.round(y):y}var re=Math.trunc||function(m){return m>0?Math.floor(m):Math.ceil(m)};Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(m){return this.clone()._add(ne(m))},_add:function(m){return this.x+=m.x,this.y+=m.y,this},subtract:function(m){return this.clone()._subtract(ne(m))},_subtract:function(m){return this.x-=m.x,this.y-=m.y,this},divideBy:function(m){return this.clone()._divideBy(m)},_divideBy:function(m){return this.x/=m,this.y/=m,this},multiplyBy:function(m){return this.clone()._multiplyBy(m)},_multiplyBy:function(m){return this.x*=m,this.y*=m,this},scaleBy:function(m){return new Y(this.x*m.x,this.y*m.y)},unscaleBy:function(m){return new Y(this.x/m.x,this.y/m.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=re(this.x),this.y=re(this.y),this},distanceTo:function(m){m=ne(m);var y=m.x-this.x,C=m.y-this.y;return Math.sqrt(y*y+C*C)},equals:function(m){return m=ne(m),m.x===this.x&&m.y===this.y},contains:function(m){return m=ne(m),Math.abs(m.x)<=Math.abs(this.x)&&Math.abs(m.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function ne(m,y,C){return m instanceof Y?m:T(m)?new Y(m[0],m[1]):m==null?m:typeof m=="object"&&"x"in m&&"y"in m?new Y(m.x,m.y):new Y(m,y,C)}function z(m,y){if(m)for(var C=y?[m,y]:m,O=0,W=C.length;O<W;O++)this.extend(C[O])}z.prototype={extend:function(m){var y,C;if(!m)return this;if(m instanceof Y||typeof m[0]=="number"||"x"in m)y=C=ne(m);else if(m=V(m),y=m.min,C=m.max,!y||!C)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=C.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(C.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(C.y,this.max.y)),this},getCenter:function(m){return ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,m)},getBottomLeft:function(){return ne(this.min.x,this.max.y)},getTopRight:function(){return ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(m){var y,C;return typeof m[0]=="number"||m instanceof Y?m=ne(m):m=V(m),m instanceof z?(y=m.min,C=m.max):y=C=m,y.x>=this.min.x&&C.x<=this.max.x&&y.y>=this.min.y&&C.y<=this.max.y},intersects:function(m){m=V(m);var y=this.min,C=this.max,O=m.min,W=m.max,oe=W.x>=y.x&&O.x<=C.x,ve=W.y>=y.y&&O.y<=C.y;return oe&&ve},overlaps:function(m){m=V(m);var y=this.min,C=this.max,O=m.min,W=m.max,oe=W.x>y.x&&O.x<C.x,ve=W.y>y.y&&O.y<C.y;return oe&&ve},isValid:function(){return!!(this.min&&this.max)},pad:function(m){var y=this.min,C=this.max,O=Math.abs(y.x-C.x)*m,W=Math.abs(y.y-C.y)*m;return V(ne(y.x-O,y.y-W),ne(C.x+O,C.y+W))},equals:function(m){return m?(m=V(m),this.min.equals(m.getTopLeft())&&this.max.equals(m.getBottomRight())):!1}};function V(m,y){return!m||m instanceof z?m:new z(m,y)}function F(m,y){if(m)for(var C=y?[m,y]:m,O=0,W=C.length;O<W;O++)this.extend(C[O])}F.prototype={extend:function(m){var y=this._southWest,C=this._northEast,O,W;if(m instanceof q)O=m,W=m;else if(m instanceof F){if(O=m._southWest,W=m._northEast,!O||!W)return this}else return m?this.extend(H(m)||$(m)):this;return!y&&!C?(this._southWest=new q(O.lat,O.lng),this._northEast=new q(W.lat,W.lng)):(y.lat=Math.min(O.lat,y.lat),y.lng=Math.min(O.lng,y.lng),C.lat=Math.max(W.lat,C.lat),C.lng=Math.max(W.lng,C.lng)),this},pad:function(m){var y=this._southWest,C=this._northEast,O=Math.abs(y.lat-C.lat)*m,W=Math.abs(y.lng-C.lng)*m;return new F(new q(y.lat-O,y.lng-W),new q(C.lat+O,C.lng+W))},getCenter:function(){return new q((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new q(this.getNorth(),this.getWest())},getSouthEast:function(){return new q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(m){typeof m[0]=="number"||m instanceof q||"lat"in m?m=H(m):m=$(m);var y=this._southWest,C=this._northEast,O,W;return m instanceof F?(O=m.getSouthWest(),W=m.getNorthEast()):O=W=m,O.lat>=y.lat&&W.lat<=C.lat&&O.lng>=y.lng&&W.lng<=C.lng},intersects:function(m){m=$(m);var y=this._southWest,C=this._northEast,O=m.getSouthWest(),W=m.getNorthEast(),oe=W.lat>=y.lat&&O.lat<=C.lat,ve=W.lng>=y.lng&&O.lng<=C.lng;return oe&&ve},overlaps:function(m){m=$(m);var y=this._southWest,C=this._northEast,O=m.getSouthWest(),W=m.getNorthEast(),oe=W.lat>y.lat&&O.lat<C.lat,ve=W.lng>y.lng&&O.lng<C.lng;return oe&&ve},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(m,y){return m?(m=$(m),this._southWest.equals(m.getSouthWest(),y)&&this._northEast.equals(m.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function $(m,y){return m instanceof F?m:new F(m,y)}function q(m,y,C){if(isNaN(m)||isNaN(y))throw new Error("Invalid LatLng object: ("+m+", "+y+")");this.lat=+m,this.lng=+y,C!==void 0&&(this.alt=+C)}q.prototype={equals:function(m,y){if(!m)return!1;m=H(m);var C=Math.max(Math.abs(this.lat-m.lat),Math.abs(this.lng-m.lng));return C<=(y===void 0?1e-9:y)},toString:function(m){return"LatLng("+x(this.lat,m)+", "+x(this.lng,m)+")"},distanceTo:function(m){return de.distance(this,H(m))},wrap:function(){return de.wrapLatLng(this)},toBounds:function(m){var y=180*m/40075017,C=y/Math.cos(Math.PI/180*this.lat);return $([this.lat-y,this.lng-C],[this.lat+y,this.lng+C])},clone:function(){return new q(this.lat,this.lng,this.alt)}};function H(m,y,C){return m instanceof q?m:T(m)&&typeof m[0]!="object"?m.length===3?new q(m[0],m[1],m[2]):m.length===2?new q(m[0],m[1]):null:m==null?m:typeof m=="object"&&"lat"in m?new q(m.lat,"lng"in m?m.lng:m.lon,m.alt):y===void 0?null:new q(m,y,C)}var Q={latLngToPoint:function(m,y){var C=this.projection.project(m),O=this.scale(y);return this.transformation._transform(C,O)},pointToLatLng:function(m,y){var C=this.scale(y),O=this.transformation.untransform(m,C);return this.projection.unproject(O)},project:function(m){return this.projection.project(m)},unproject:function(m){return this.projection.unproject(m)},scale:function(m){return 256*Math.pow(2,m)},zoom:function(m){return Math.log(m/256)/Math.LN2},getProjectedBounds:function(m){if(this.infinite)return null;var y=this.projection.bounds,C=this.scale(m),O=this.transformation.transform(y.min,C),W=this.transformation.transform(y.max,C);return new z(O,W)},infinite:!1,wrapLatLng:function(m){var y=this.wrapLng?g(m.lng,this.wrapLng,!0):m.lng,C=this.wrapLat?g(m.lat,this.wrapLat,!0):m.lat,O=m.alt;return new q(C,y,O)},wrapLatLngBounds:function(m){var y=m.getCenter(),C=this.wrapLatLng(y),O=y.lat-C.lat,W=y.lng-C.lng;if(O===0&&W===0)return m;var oe=m.getSouthWest(),ve=m.getNorthEast(),Ae=new q(oe.lat-O,oe.lng-W),$e=new q(ve.lat-O,ve.lng-W);return new F(Ae,$e)}},de=s({},Q,{wrapLng:[-180,180],R:6371e3,distance:function(m,y){var C=Math.PI/180,O=m.lat*C,W=y.lat*C,oe=Math.sin((y.lat-m.lat)*C/2),ve=Math.sin((y.lng-m.lng)*C/2),Ae=oe*oe+Math.cos(O)*Math.cos(W)*ve*ve,$e=2*Math.atan2(Math.sqrt(Ae),Math.sqrt(1-Ae));return this.R*$e}}),me=6378137,je={R:me,MAX_LATITUDE:85.0511287798,project:function(m){var y=Math.PI/180,C=this.MAX_LATITUDE,O=Math.max(Math.min(C,m.lat),-C),W=Math.sin(O*y);return new Y(this.R*m.lng*y,this.R*Math.log((1+W)/(1-W))/2)},unproject:function(m){var y=180/Math.PI;return new q((2*Math.atan(Math.exp(m.y/this.R))-Math.PI/2)*y,m.x*y/this.R)},bounds:(function(){var m=me*Math.PI;return new z([-m,-m],[m,m])})()};function fe(m,y,C,O){if(T(m)){this._a=m[0],this._b=m[1],this._c=m[2],this._d=m[3];return}this._a=m,this._b=y,this._c=C,this._d=O}fe.prototype={transform:function(m,y){return this._transform(m.clone(),y)},_transform:function(m,y){return y=y||1,m.x=y*(this._a*m.x+this._b),m.y=y*(this._c*m.y+this._d),m},untransform:function(m,y){return y=y||1,new Y((m.x/y-this._b)/this._a,(m.y/y-this._d)/this._c)}};function se(m,y,C,O){return new fe(m,y,C,O)}var ie=s({},de,{code:"EPSG:3857",projection:je,transformation:(function(){var m=.5/(Math.PI*je.R);return se(m,.5,-m,.5)})()}),ue=s({},ie,{code:"EPSG:900913"});function le(m){return document.createElementNS("http://www.w3.org/2000/svg",m)}function xe(m,y){var C="",O,W,oe,ve,Ae,$e;for(O=0,oe=m.length;O<oe;O++){for(Ae=m[O],W=0,ve=Ae.length;W<ve;W++)$e=Ae[W],C+=(W?"L":"M")+$e.x+" "+$e.y;C+=y?gt.svg?"z":"x":""}return C||"M0 0"}var ze=document.documentElement.style,Le="ActiveXObject"in window,ut=Le&&!document.addEventListener,kt="msLaunchUri"in navigator&&!("documentMode"in document),qt=cr("webkit"),hr=cr("android"),jr=cr("android 2")||cr("android 3"),nt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rt=hr&&cr("Google")&&nt<537&&!("AudioNode"in window),Pr=!!window.opera,Ht=!kt&&cr("chrome"),Wt=cr("gecko")&&!qt&&!Pr&&!Le,ge=!Ht&&cr("safari"),ye=cr("phantom"),Be="OTransition"in ze,Qe=navigator.platform.indexOf("Win")===0,pt=Le&&"transition"in ze,Ce="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!jr,we="MozPerspective"in ze,be=!window.L_DISABLE_3D&&(pt||Ce||we)&&!Be&&!ye,Ie=typeof orientation<"u"||cr("mobile"),Se=Ie&&qt,_e=Ie&&Ce,Ye=!window.PointerEvent&&window.MSPointerEvent,Ft=!!(window.PointerEvent||Ye),Tt="ontouchstart"in window||!!window.TouchEvent,nr=!window.L_NO_TOUCH&&(Tt||Ft),gr=Ie&&Pr,sa=Ie&&Wt,Ve=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,St=(function(){var m=!1;try{var y=Object.defineProperty({},"passive",{get:function(){m=!0}});window.addEventListener("testPassiveEventSupport",h,y),window.removeEventListener("testPassiveEventSupport",h,y)}catch{}return m})(),wt=(function(){return!!document.createElement("canvas").getContext})(),Ke=!!(document.createElementNS&&le("svg").createSVGRect),et=!!Ke&&(function(){var m=document.createElement("div");return m.innerHTML="<svg/>",(m.firstChild&&m.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),bt=!Ke&&(function(){try{var m=document.createElement("div");m.innerHTML='<v:shape adj="1"/>';var y=m.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}})(),Rt=navigator.platform.indexOf("Mac")===0,Xt=navigator.platform.indexOf("Linux")===0;function cr(m){return navigator.userAgent.toLowerCase().indexOf(m)>=0}var gt={ie:Le,ielt9:ut,edge:kt,webkit:qt,android:hr,android23:jr,androidStock:rt,opera:Pr,chrome:Ht,gecko:Wt,safari:ge,phantom:ye,opera12:Be,win:Qe,ie3d:pt,webkit3d:Ce,gecko3d:we,any3d:be,mobile:Ie,mobileWebkit:Se,mobileWebkit3d:_e,msPointer:Ye,pointer:Ft,touch:nr,touchNative:Tt,mobileOpera:gr,mobileGecko:sa,retina:Ve,passiveEvents:St,canvas:wt,svg:Ke,vml:bt,inlineSvg:et,mac:Rt,linux:Xt},ia=gt.msPointer?"MSPointerDown":"pointerdown",Ha=gt.msPointer?"MSPointerMove":"pointermove",cn=gt.msPointer?"MSPointerUp":"pointerup",Es=gt.msPointer?"MSPointerCancel":"pointercancel",_s={touchstart:ia,touchmove:Ha,touchend:cn,touchcancel:Es},Cn={touchstart:Dt,touchmove:fr,touchend:fr,touchcancel:fr},Fn={},He=!1;function it(m,y,C){return y==="touchstart"&&Qt(),Cn[y]?(C=Cn[y].bind(this,C),m.addEventListener(_s[y],C,!1),C):(console.warn("wrong event specified:",y),h)}function jt(m,y,C){if(!_s[y]){console.warn("wrong event specified:",y);return}m.removeEventListener(_s[y],C,!1)}function Gt(m){Fn[m.pointerId]=m}function Re(m){Fn[m.pointerId]&&(Fn[m.pointerId]=m)}function zt(m){delete Fn[m.pointerId]}function Qt(){He||(document.addEventListener(ia,Gt,!0),document.addEventListener(Ha,Re,!0),document.addEventListener(cn,zt,!0),document.addEventListener(Es,zt,!0),He=!0)}function fr(m,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var C in Fn)y.touches.push(Fn[C]);y.changedTouches=[y],m(y)}}function Dt(m,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&Ta(y),fr(m,y)}function lr(m){var y={},C,O;for(O in m)C=m[O],y[O]=C&&C.bind?C.bind(m):C;return m=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var yt=200;function Yt(m,y){m.addEventListener("dblclick",y);var C=0,O;function W(oe){if(oe.detail!==1){O=oe.detail;return}if(!(oe.pointerType==="mouse"||oe.sourceCapabilities&&!oe.sourceCapabilities.firesTouchEvents)){var ve=gl(oe);if(!(ve.some(function($e){return $e instanceof HTMLLabelElement&&$e.attributes.for})&&!ve.some(function($e){return $e instanceof HTMLInputElement||$e instanceof HTMLSelectElement}))){var Ae=Date.now();Ae-C<=yt?(O++,O===2&&y(lr(oe))):O=1,C=Ae}}}return m.addEventListener("click",W),{dblclick:y,simDblclick:W}}function At(m,y){m.removeEventListener("dblclick",y.dblclick),m.removeEventListener("click",y.simDblclick)}var ha=yr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ca=yr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Te=ca==="webkitTransition"||ca==="OTransition"?ca+"End":"transitionend";function at(m){return typeof m=="string"?document.getElementById(m):m}function Et(m,y){var C=m.style[y]||m.currentStyle&&m.currentStyle[y];if((!C||C==="auto")&&document.defaultView){var O=document.defaultView.getComputedStyle(m,null);C=O?O[y]:null}return C==="auto"?null:C}function _t(m,y,C){var O=document.createElement(m);return O.className=y||"",C&&C.appendChild(O),O}function xr(m){var y=m.parentNode;y&&y.removeChild(m)}function Ba(m){for(;m.firstChild;)m.removeChild(m.firstChild)}function Me(m){var y=m.parentNode;y&&y.lastChild!==m&&y.appendChild(m)}function Ge(m){var y=m.parentNode;y&&y.firstChild!==m&&y.insertBefore(m,y.firstChild)}function Xe(m,y){if(m.classList!==void 0)return m.classList.contains(y);var C=ar(m);return C.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(C)}function We(m,y){if(m.classList!==void 0)for(var C=v(y),O=0,W=C.length;O<W;O++)m.classList.add(C[O]);else if(!Xe(m,y)){var oe=ar(m);mr(m,(oe?oe+" ":"")+y)}}function Je(m,y){m.classList!==void 0?m.classList.remove(y):mr(m,b((" "+ar(m)+" ").replace(" "+y+" "," ")))}function mr(m,y){m.className.baseVal===void 0?m.className=y:m.className.baseVal=y}function ar(m){return m.correspondingElement&&(m=m.correspondingElement),m.className.baseVal===void 0?m.className:m.className.baseVal}function Mr(m,y){"opacity"in m.style?m.style.opacity=y:"filter"in m.style&&ir(m,y)}function ir(m,y){var C=!1,O="DXImageTransform.Microsoft.Alpha";try{C=m.filters.item(O)}catch{if(y===1)return}y=Math.round(y*100),C?(C.Enabled=y!==100,C.Opacity=y):m.style.filter+=" progid:"+O+"(opacity="+y+")"}function yr(m){for(var y=document.documentElement.style,C=0;C<m.length;C++)if(m[C]in y)return m[C];return!1}function dt(m,y,C){var O=y||new Y(0,0);m.style[ha]=(gt.ie3d?"translate("+O.x+"px,"+O.y+"px)":"translate3d("+O.x+"px,"+O.y+"px,0)")+(C?" scale("+C+")":"")}function Vt(m,y){m._leaflet_pos=y,gt.any3d?dt(m,y):(m.style.left=y.x+"px",m.style.top=y.y+"px")}function ba(m){return m._leaflet_pos||new Y(0,0)}var Nr,wi,cl;if("onselectstart"in document)Nr=function(){dr(window,"selectstart",Ta)},wi=function(){ea(window,"selectstart",Ta)};else{var ti=yr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Nr=function(){if(ti){var m=document.documentElement.style;cl=m[ti],m[ti]="none"}},wi=function(){ti&&(document.documentElement.style[ti]=cl,cl=void 0)}}function ul(){dr(window,"dragstart",Ta)}function ic(){ea(window,"dragstart",Ta)}var br,Qn;function va(m){for(;m.tabIndex===-1;)m=m.parentNode;m.style&&(Sn(),br=m,Qn=m.style.outlineStyle,m.style.outlineStyle="none",dr(window,"keydown",Sn))}function Sn(){br&&(br.style.outlineStyle=Qn,br=void 0,Qn=void 0,ea(window,"keydown",Sn))}function eo(m){do m=m.parentNode;while((!m.offsetWidth||!m.offsetHeight)&&m!==document.body);return m}function ji(m){var y=m.getBoundingClientRect();return{x:y.width/m.offsetWidth||1,y:y.height/m.offsetHeight||1,boundingClientRect:y}}var oc={__proto__:null,TRANSFORM:ha,TRANSITION:ca,TRANSITION_END:Te,get:at,getStyle:Et,create:_t,remove:xr,empty:Ba,toFront:Me,toBack:Ge,hasClass:Xe,addClass:We,removeClass:Je,setClass:mr,getClass:ar,setOpacity:Mr,testProp:yr,setTransform:dt,setPosition:Vt,getPosition:ba,get disableTextSelection(){return Nr},get enableTextSelection(){return wi},disableImageDrag:ul,enableImageDrag:ic,preventOutline:va,restoreOutline:Sn,getSizedParentNode:eo,getScale:ji};function dr(m,y,C,O){if(y&&typeof y=="object")for(var W in y)dg(m,W,y[W],C);else{y=v(y);for(var oe=0,ve=y.length;oe<ve;oe++)dg(m,y[oe],C,O)}return this}var un="_leaflet_events";function ea(m,y,C,O){if(arguments.length===1)lg(m),delete m[un];else if(y&&typeof y=="object")for(var W in y)bu(m,W,y[W],C);else if(y=v(y),arguments.length===2)lg(m,function(Ae){return A(y,Ae)!==-1});else for(var oe=0,ve=y.length;oe<ve;oe++)bu(m,y[oe],C,O);return this}function lg(m,y){for(var C in m[un]){var O=C.split(/\d/)[0];(!y||y(O))&&bu(m,O,null,null,C)}}var ml={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function dg(m,y,C,O){var W=y+d(C)+(O?"_"+d(O):"");if(m[un]&&m[un][W])return this;var oe=function(Ae){return C.call(O||m,Ae||window.event)},ve=oe;!gt.touchNative&&gt.pointer&&y.indexOf("touch")===0?oe=it(m,y,oe):gt.touch&&y==="dblclick"?oe=Yt(m,oe):"addEventListener"in m?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?m.addEventListener(ml[y]||y,oe,gt.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(oe=function(Ae){Ae=Ae||window.event,cc(m,Ae)&&ve(Ae)},m.addEventListener(ml[y],oe,!1)):m.addEventListener(y,ve,!1):m.attachEvent("on"+y,oe),m[un]=m[un]||{},m[un][W]=oe}function bu(m,y,C,O,W){W=W||y+d(C)+(O?"_"+d(O):"");var oe=m[un]&&m[un][W];if(!oe)return this;!gt.touchNative&&gt.pointer&&y.indexOf("touch")===0?jt(m,y,oe):gt.touch&&y==="dblclick"?At(m,oe):"removeEventListener"in m?m.removeEventListener(ml[y]||y,oe,!1):m.detachEvent("on"+y,oe),m[un][W]=null}function Ni(m){return m.stopPropagation?m.stopPropagation():m.originalEvent?m.originalEvent._stopped=!0:m.cancelBubble=!0,this}function vu(m){return dg(m,"wheel",Ni),this}function lc(m){return dr(m,"mousedown touchstart dblclick contextmenu",Ni),m._leaflet_disable_click=!0,this}function Ta(m){return m.preventDefault?m.preventDefault():m.returnValue=!1,this}function ri(m){return Ta(m),Ni(m),this}function gl(m){if(m.composedPath)return m.composedPath();for(var y=[],C=m.target;C;)y.push(C),C=C.parentNode;return y}function dc(m,y){if(!y)return new Y(m.clientX,m.clientY);var C=ji(y),O=C.boundingClientRect;return new Y((m.clientX-O.left)/C.x-y.clientLeft,(m.clientY-O.top)/C.y-y.clientTop)}var mv=gt.linux&&gt.chrome?window.devicePixelRatio:gt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function X0(m){return gt.edge?m.wheelDeltaY/2:m.deltaY&&m.deltaMode===0?-m.deltaY/mv:m.deltaY&&m.deltaMode===1?-m.deltaY*20:m.deltaY&&m.deltaMode===2?-m.deltaY*60:m.deltaX||m.deltaZ?0:m.wheelDelta?(m.wheelDeltaY||m.wheelDelta)/2:m.detail&&Math.abs(m.detail)<32765?-m.detail*20:m.detail?m.detail/-32765*60:0}function cc(m,y){var C=y.relatedTarget;if(!C)return!0;try{for(;C&&C!==m;)C=C.parentNode}catch{return!1}return C!==m}var ku={__proto__:null,on:dr,off:ea,stopPropagation:Ni,disableScrollPropagation:vu,disableClickPropagation:lc,preventDefault:Ta,stop:ri,getPropagationPath:gl,getMousePosition:dc,getWheelDelta:X0,isExternalTarget:cc,addListener:dr,removeListener:ea},wu=K.extend({run:function(m,y,C,O){this.stop(),this._el=m,this._inProgress=!0,this._duration=C||.25,this._easeOutPower=1/Math.max(O||.5,.2),this._startPos=ba(m),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(m){var y=+new Date-this._startTime,C=this._duration*1e3;y<C?this._runFrame(this._easeOut(y/C),m):(this._runFrame(1),this._complete())},_runFrame:function(m,y){var C=this._startPos.add(this._offset.multiplyBy(m));y&&C._round(),Vt(this._el,C),this.fire("step")},_complete:function(){B(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(m){return 1-Math.pow(1-m,this._easeOutPower)}}),Er=K.extend({options:{crs:ie,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(m,y){y=j(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(m),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(H(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ca&&gt.any3d&&!gt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),dr(this._proxy,Te,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(m,y,C){if(y=y===void 0?this._zoom:this._limitZoom(y),m=this._limitCenter(H(m),y,this.options.maxBounds),C=C||{},this._stop(),this._loaded&&!C.reset&&C!==!0){C.animate!==void 0&&(C.zoom=s({animate:C.animate},C.zoom),C.pan=s({animate:C.animate,duration:C.duration},C.pan));var O=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(m,y,C.zoom):this._tryAnimatedPan(m,C.pan);if(O)return clearTimeout(this._sizeTimer),this}return this._resetView(m,y,C.pan&&C.pan.noMoveStart),this},setZoom:function(m,y){return this._loaded?this.setView(this.getCenter(),m,{zoom:y}):(this._zoom=m,this)},zoomIn:function(m,y){return m=m||(gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+m,y)},zoomOut:function(m,y){return m=m||(gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-m,y)},setZoomAround:function(m,y,C){var O=this.getZoomScale(y),W=this.getSize().divideBy(2),oe=m instanceof Y?m:this.latLngToContainerPoint(m),ve=oe.subtract(W).multiplyBy(1-1/O),Ae=this.containerPointToLatLng(W.add(ve));return this.setView(Ae,y,{zoom:C})},_getBoundsCenterZoom:function(m,y){y=y||{},m=m.getBounds?m.getBounds():$(m);var C=ne(y.paddingTopLeft||y.padding||[0,0]),O=ne(y.paddingBottomRight||y.padding||[0,0]),W=this.getBoundsZoom(m,!1,C.add(O));if(W=typeof y.maxZoom=="number"?Math.min(y.maxZoom,W):W,W===1/0)return{center:m.getCenter(),zoom:W};var oe=O.subtract(C).divideBy(2),ve=this.project(m.getSouthWest(),W),Ae=this.project(m.getNorthEast(),W),$e=this.unproject(ve.add(Ae).divideBy(2).add(oe),W);return{center:$e,zoom:W}},fitBounds:function(m,y){if(m=$(m),!m.isValid())throw new Error("Bounds are not valid.");var C=this._getBoundsCenterZoom(m,y);return this.setView(C.center,C.zoom,y)},fitWorld:function(m){return this.fitBounds([[-90,-180],[90,180]],m)},panTo:function(m,y){return this.setView(m,this._zoom,{pan:y})},panBy:function(m,y){if(m=ne(m).round(),y=y||{},!m.x&&!m.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(m))return this._resetView(this.unproject(this.project(this.getCenter()).add(m)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new wu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){We(this._mapPane,"leaflet-pan-anim");var C=this._getMapPanePos().subtract(m).round();this._panAnim.run(this._mapPane,C,y.duration||.25,y.easeLinearity)}else this._rawPanBy(m),this.fire("move").fire("moveend");return this},flyTo:function(m,y,C){if(C=C||{},C.animate===!1||!gt.any3d)return this.setView(m,y,C);this._stop();var O=this.project(this.getCenter()),W=this.project(m),oe=this.getSize(),ve=this._zoom;m=H(m),y=y===void 0?ve:y;var Ae=Math.max(oe.x,oe.y),$e=Ae*this.getZoomScale(ve,y),st=W.distanceTo(O)||1,vt=1.42,Zt=vt*vt;function Cr(Gr){var jd=Gr?-1:1,Sv=Gr?$e:Ae,Pv=$e*$e-Ae*Ae+jd*Zt*Zt*st*st,vl=2*Sv*Zt*st,kl=Pv/vl,wl=Math.sqrt(kl*kl+1)-kl,Du=wl<1e-9?-18:Math.log(wl);return Du}function mn(Gr){return(Math.exp(Gr)-Math.exp(-Gr))/2}function Ja(Gr){return(Math.exp(Gr)+Math.exp(-Gr))/2}function xs(Gr){return mn(Gr)/Ja(Gr)}var Yn=Cr(0);function kd(Gr){return Ae*(Ja(Yn)/Ja(Yn+vt*Gr))}function Ig(Gr){return Ae*(Ja(Yn)*xs(Yn+vt*Gr)-mn(Yn))/Zt}function Fo(Gr){return 1-Math.pow(1-Gr,1.5)}var vf=Date.now(),bl=(Cr(1)-Yn)/vt,Mi=C.duration?1e3*C.duration:1e3*bl*.8;function wd(){var Gr=(Date.now()-vf)/Mi,jd=Fo(Gr)*bl;Gr<=1?(this._flyToFrame=Z(wd,this),this._move(this.unproject(O.add(W.subtract(O).multiplyBy(Ig(jd)/st)),ve),this.getScaleZoom(Ae/kd(jd),ve),{flyTo:!0})):this._move(m,y)._moveEnd(!0)}return this._moveStart(!0,C.noMoveStart),wd.call(this),this},flyToBounds:function(m,y){var C=this._getBoundsCenterZoom(m,y);return this.flyTo(C.center,C.zoom,y)},setMaxBounds:function(m){return m=$(m),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),m.isValid()?(this.options.maxBounds=m,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(m){var y=this.options.minZoom;return this.options.minZoom=m,this._loaded&&y!==m&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(m):this},setMaxZoom:function(m){var y=this.options.maxZoom;return this.options.maxZoom=m,this._loaded&&y!==m&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(m):this},panInsideBounds:function(m,y){this._enforcingBounds=!0;var C=this.getCenter(),O=this._limitCenter(C,this._zoom,$(m));return C.equals(O)||this.panTo(O,y),this._enforcingBounds=!1,this},panInside:function(m,y){y=y||{};var C=ne(y.paddingTopLeft||y.padding||[0,0]),O=ne(y.paddingBottomRight||y.padding||[0,0]),W=this.project(this.getCenter()),oe=this.project(m),ve=this.getPixelBounds(),Ae=V([ve.min.add(C),ve.max.subtract(O)]),$e=Ae.getSize();if(!Ae.contains(oe)){this._enforcingBounds=!0;var st=oe.subtract(Ae.getCenter()),vt=Ae.extend(oe).getSize().subtract($e);W.x+=st.x<0?-vt.x:vt.x,W.y+=st.y<0?-vt.y:vt.y,this.panTo(this.unproject(W),y),this._enforcingBounds=!1}return this},invalidateSize:function(m){if(!this._loaded)return this;m=s({animate:!1,pan:!0},m===!0?{animate:!0}:m);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var C=this.getSize(),O=y.divideBy(2).round(),W=C.divideBy(2).round(),oe=O.subtract(W);return!oe.x&&!oe.y?this:(m.animate&&m.pan?this.panBy(oe):(m.pan&&this._rawPanBy(oe),this.fire("move"),m.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:C}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(m){if(m=this._locateOptions=s({timeout:1e4,watch:!1},m),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=o(this._handleGeolocationResponse,this),C=o(this._handleGeolocationError,this);return m.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,C,m):navigator.geolocation.getCurrentPosition(y,C,m),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(m){if(this._container._leaflet_id){var y=m.code,C=m.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+C+"."})}},_handleGeolocationResponse:function(m){if(this._container._leaflet_id){var y=m.coords.latitude,C=m.coords.longitude,O=new q(y,C),W=O.toBounds(m.coords.accuracy*2),oe=this._locateOptions;if(oe.setView){var ve=this.getBoundsZoom(W);this.setView(O,oe.maxZoom?Math.min(ve,oe.maxZoom):ve)}var Ae={latlng:O,bounds:W,timestamp:m.timestamp};for(var $e in m.coords)typeof m.coords[$e]=="number"&&(Ae[$e]=m.coords[$e]);this.fire("locationfound",Ae)}},addHandler:function(m,y){if(!y)return this;var C=this[m]=new y(this);return this._handlers.push(C),this.options[m]&&C.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),xr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(B(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var m;for(m in this._layers)this._layers[m].remove();for(m in this._panes)xr(this._panes[m]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(m,y){var C="leaflet-pane"+(m?" leaflet-"+m.replace("Pane","")+"-pane":""),O=_t("div",C,y||this._mapPane);return m&&(this._panes[m]=O),O},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var m=this.getPixelBounds(),y=this.unproject(m.getBottomLeft()),C=this.unproject(m.getTopRight());return new F(y,C)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(m,y,C){m=$(m),C=ne(C||[0,0]);var O=this.getZoom()||0,W=this.getMinZoom(),oe=this.getMaxZoom(),ve=m.getNorthWest(),Ae=m.getSouthEast(),$e=this.getSize().subtract(C),st=V(this.project(Ae,O),this.project(ve,O)).getSize(),vt=gt.any3d?this.options.zoomSnap:1,Zt=$e.x/st.x,Cr=$e.y/st.y,mn=y?Math.max(Zt,Cr):Math.min(Zt,Cr);return O=this.getScaleZoom(mn,O),vt&&(O=Math.round(O/(vt/100))*(vt/100),O=y?Math.ceil(O/vt)*vt:Math.floor(O/vt)*vt),Math.max(W,Math.min(oe,O))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(m,y){var C=this._getTopLeftPoint(m,y);return new z(C,C.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(m){return this.options.crs.getProjectedBounds(m===void 0?this.getZoom():m)},getPane:function(m){return typeof m=="string"?this._panes[m]:m},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(m,y){var C=this.options.crs;return y=y===void 0?this._zoom:y,C.scale(m)/C.scale(y)},getScaleZoom:function(m,y){var C=this.options.crs;y=y===void 0?this._zoom:y;var O=C.zoom(m*C.scale(y));return isNaN(O)?1/0:O},project:function(m,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(H(m),y)},unproject:function(m,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(ne(m),y)},layerPointToLatLng:function(m){var y=ne(m).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(m){var y=this.project(H(m))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(m){return this.options.crs.wrapLatLng(H(m))},wrapLatLngBounds:function(m){return this.options.crs.wrapLatLngBounds($(m))},distance:function(m,y){return this.options.crs.distance(H(m),H(y))},containerPointToLayerPoint:function(m){return ne(m).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(m){return ne(m).add(this._getMapPanePos())},containerPointToLatLng:function(m){var y=this.containerPointToLayerPoint(ne(m));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(m){return this.layerPointToContainerPoint(this.latLngToLayerPoint(H(m)))},mouseEventToContainerPoint:function(m){return dc(m,this._container)},mouseEventToLayerPoint:function(m){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(m))},mouseEventToLatLng:function(m){return this.layerPointToLatLng(this.mouseEventToLayerPoint(m))},_initContainer:function(m){var y=this._container=at(m);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");dr(y,"scroll",this._onScroll,this),this._containerId=d(y)},_initLayout:function(){var m=this._container;this._fadeAnimated=this.options.fadeAnimation&&gt.any3d,We(m,"leaflet-container"+(gt.touch?" leaflet-touch":"")+(gt.retina?" leaflet-retina":"")+(gt.ielt9?" leaflet-oldie":"")+(gt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=Et(m,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(m.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var m=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Vt(this._mapPane,new Y(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(We(m.markerPane,"leaflet-zoom-hide"),We(m.shadowPane,"leaflet-zoom-hide"))},_resetView:function(m,y,C){Vt(this._mapPane,new Y(0,0));var O=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var W=this._zoom!==y;this._moveStart(W,C)._move(m,y)._moveEnd(W),this.fire("viewreset"),O&&this.fire("load")},_moveStart:function(m,y){return m&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(m,y,C,O){y===void 0&&(y=this._zoom);var W=this._zoom!==y;return this._zoom=y,this._lastCenter=m,this._pixelOrigin=this._getNewPixelOrigin(m),O?C&&C.pinch&&this.fire("zoom",C):((W||C&&C.pinch)&&this.fire("zoom",C),this.fire("move",C)),this},_moveEnd:function(m){return m&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return B(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(m){Vt(this._mapPane,this._getMapPanePos().subtract(m))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(m){this._targets={},this._targets[d(this._container)]=this;var y=m?ea:dr;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),gt.any3d&&this.options.transform3DLimit&&(m?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){B(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var m=this._getMapPanePos();Math.max(Math.abs(m.x),Math.abs(m.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(m,y){for(var C=[],O,W=y==="mouseout"||y==="mouseover",oe=m.target||m.srcElement,ve=!1;oe;){if(O=this._targets[d(oe)],O&&(y==="click"||y==="preclick")&&this._draggableMoved(O)){ve=!0;break}if(O&&O.listens(y,!0)&&(W&&!cc(oe,m)||(C.push(O),W))||oe===this._container)break;oe=oe.parentNode}return!C.length&&!ve&&!W&&this.listens(y,!0)&&(C=[this]),C},_isClickDisabled:function(m){for(;m&&m!==this._container;){if(m._leaflet_disable_click)return!0;m=m.parentNode}},_handleDOMEvent:function(m){var y=m.target||m.srcElement;if(!(!this._loaded||y._leaflet_disable_events||m.type==="click"&&this._isClickDisabled(y))){var C=m.type;C==="mousedown"&&va(y),this._fireDOMEvent(m,C)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(m,y,C){if(m.type==="click"){var O=s({},m);O.type="preclick",this._fireDOMEvent(O,O.type,C)}var W=this._findEventTargets(m,y);if(C){for(var oe=[],ve=0;ve<C.length;ve++)C[ve].listens(y,!0)&&oe.push(C[ve]);W=oe.concat(W)}if(W.length){y==="contextmenu"&&Ta(m);var Ae=W[0],$e={originalEvent:m};if(m.type!=="keypress"&&m.type!=="keydown"&&m.type!=="keyup"){var st=Ae.getLatLng&&(!Ae._radius||Ae._radius<=10);$e.containerPoint=st?this.latLngToContainerPoint(Ae.getLatLng()):this.mouseEventToContainerPoint(m),$e.layerPoint=this.containerPointToLayerPoint($e.containerPoint),$e.latlng=st?Ae.getLatLng():this.layerPointToLatLng($e.layerPoint)}for(ve=0;ve<W.length;ve++)if(W[ve].fire(y,$e,!0),$e.originalEvent._stopped||W[ve].options.bubblingMouseEvents===!1&&A(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(m){return m=m.dragging&&m.dragging.enabled()?m:this,m.dragging&&m.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var m=0,y=this._handlers.length;m<y;m++)this._handlers[m].disable()},whenReady:function(m,y){return this._loaded?m.call(y||this,{target:this}):this.on("load",m,y),this},_getMapPanePos:function(){return ba(this._mapPane)||new Y(0,0)},_moved:function(){var m=this._getMapPanePos();return m&&!m.equals([0,0])},_getTopLeftPoint:function(m,y){var C=m&&y!==void 0?this._getNewPixelOrigin(m,y):this.getPixelOrigin();return C.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(m,y){var C=this.getSize()._divideBy(2);return this.project(m,y)._subtract(C)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(m,y,C){var O=this._getNewPixelOrigin(C,y);return this.project(m,y)._subtract(O)},_latLngBoundsToNewLayerBounds:function(m,y,C){var O=this._getNewPixelOrigin(C,y);return V([this.project(m.getSouthWest(),y)._subtract(O),this.project(m.getNorthWest(),y)._subtract(O),this.project(m.getSouthEast(),y)._subtract(O),this.project(m.getNorthEast(),y)._subtract(O)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(m){return this.latLngToLayerPoint(m).subtract(this._getCenterLayerPoint())},_limitCenter:function(m,y,C){if(!C)return m;var O=this.project(m,y),W=this.getSize().divideBy(2),oe=new z(O.subtract(W),O.add(W)),ve=this._getBoundsOffset(oe,C,y);return Math.abs(ve.x)<=1&&Math.abs(ve.y)<=1?m:this.unproject(O.add(ve),y)},_limitOffset:function(m,y){if(!y)return m;var C=this.getPixelBounds(),O=new z(C.min.add(m),C.max.add(m));return m.add(this._getBoundsOffset(O,y))},_getBoundsOffset:function(m,y,C){var O=V(this.project(y.getNorthEast(),C),this.project(y.getSouthWest(),C)),W=O.min.subtract(m.min),oe=O.max.subtract(m.max),ve=this._rebound(W.x,-oe.x),Ae=this._rebound(W.y,-oe.y);return new Y(ve,Ae)},_rebound:function(m,y){return m+y>0?Math.round(m-y)/2:Math.max(0,Math.ceil(m))-Math.max(0,Math.floor(y))},_limitZoom:function(m){var y=this.getMinZoom(),C=this.getMaxZoom(),O=gt.any3d?this.options.zoomSnap:1;return O&&(m=Math.round(m/O)*O),Math.max(y,Math.min(C,m))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Je(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(m,y){var C=this._getCenterOffset(m)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(C)?!1:(this.panBy(C,y),!0)},_createAnimProxy:function(){var m=this._proxy=_t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(m),this.on("zoomanim",function(y){var C=ha,O=this._proxy.style[C];dt(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),O===this._proxy.style[C]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){xr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var m=this.getCenter(),y=this.getZoom();dt(this._proxy,this.project(m,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(m){this._animatingZoom&&m.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(m,y,C){if(this._animatingZoom)return!0;if(C=C||{},!this._zoomAnimated||C.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var O=this.getZoomScale(y),W=this._getCenterOffset(m)._divideBy(1-1/O);return C.animate!==!0&&!this.getSize().contains(W)?!1:(Z(function(){this._moveStart(!0,C.noMoveStart||!1)._animateZoom(m,y,!0)},this),!0)},_animateZoom:function(m,y,C,O){this._mapPane&&(C&&(this._animatingZoom=!0,this._animateToCenter=m,this._animateToZoom=y,We(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:m,zoom:y,noUpdate:O}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Je(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function _o(m,y){return new Er(m,y)}var fs=J.extend({options:{position:"topright"},initialize:function(m){j(this,m)},getPosition:function(){return this.options.position},setPosition:function(m){var y=this._map;return y&&y.removeControl(this),this.options.position=m,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(m){this.remove(),this._map=m;var y=this._container=this.onAdd(m),C=this.getPosition(),O=m._controlCorners[C];return We(y,"leaflet-control"),C.indexOf("bottom")!==-1?O.insertBefore(y,O.firstChild):O.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(xr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(m){this._map&&m&&m.screenX>0&&m.screenY>0&&this._map.getContainer().focus()}}),Oo=function(m){return new fs(m)};Er.include({addControl:function(m){return m.addTo(this),this},removeControl:function(m){return m.remove(),this},_initControlPos:function(){var m=this._controlCorners={},y="leaflet-",C=this._controlContainer=_t("div",y+"control-container",this._container);function O(W,oe){var ve=y+W+" "+y+oe;m[W+oe]=_t("div",ve,C)}O("top","left"),O("top","right"),O("bottom","left"),O("bottom","right")},_clearControlPos:function(){for(var m in this._controlCorners)xr(this._controlCorners[m]);xr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var cg=fs.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(m,y,C,O){return C<O?-1:O<C?1:0}},initialize:function(m,y,C){j(this,C),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var O in m)this._addLayer(m[O],O);for(O in y)this._addLayer(y[O],O,!0)},onAdd:function(m){this._initLayout(),this._update(),this._map=m,m.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(m){return fs.prototype.addTo.call(this,m),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(m,y){return this._addLayer(m,y),this._map?this._update():this},addOverlay:function(m,y){return this._addLayer(m,y,!0),this._map?this._update():this},removeLayer:function(m){m.off("add remove",this._onLayerChange,this);var y=this._getLayer(d(m));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){We(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var m=this._map.getSize().y-(this._container.offsetTop+50);return m<this._section.clientHeight?(We(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=m+"px"):Je(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Je(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var m="leaflet-control-layers",y=this._container=_t("div",m),C=this.options.collapsed;y.setAttribute("aria-haspopup",!0),lc(y),vu(y);var O=this._section=_t("section",m+"-list");C&&(this._map.on("click",this.collapse,this),dr(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var W=this._layersLink=_t("a",m+"-toggle",y);W.href="#",W.title="Layers",W.setAttribute("role","button"),dr(W,{keydown:function(oe){oe.keyCode===13&&this._expandSafely()},click:function(oe){Ta(oe),this._expandSafely()}},this),C||this.expand(),this._baseLayersList=_t("div",m+"-base",O),this._separator=_t("div",m+"-separator",O),this._overlaysList=_t("div",m+"-overlays",O),y.appendChild(O)},_getLayer:function(m){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&d(this._layers[y].layer)===m)return this._layers[y]},_addLayer:function(m,y,C){this._map&&m.on("add remove",this._onLayerChange,this),this._layers.push({layer:m,name:y,overlay:C}),this.options.sortLayers&&this._layers.sort(o(function(O,W){return this.options.sortFunction(O.layer,W.layer,O.name,W.name)},this)),this.options.autoZIndex&&m.setZIndex&&(this._lastZIndex++,m.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ba(this._baseLayersList),Ba(this._overlaysList),this._layerControlInputs=[];var m,y,C,O,W=0;for(C=0;C<this._layers.length;C++)O=this._layers[C],this._addItem(O),y=y||O.overlay,m=m||!O.overlay,W+=O.overlay?0:1;return this.options.hideSingleBase&&(m=m&&W>1,this._baseLayersList.style.display=m?"":"none"),this._separator.style.display=y&&m?"":"none",this},_onLayerChange:function(m){this._handlingClick||this._update();var y=this._getLayer(d(m.target)),C=y.overlay?m.type==="add"?"overlayadd":"overlayremove":m.type==="add"?"baselayerchange":null;C&&this._map.fire(C,y)},_createRadioElement:function(m,y){var C='<input type="radio" class="leaflet-control-layers-selector" name="'+m+'"'+(y?' checked="checked"':"")+"/>",O=document.createElement("div");return O.innerHTML=C,O.firstChild},_addItem:function(m){var y=document.createElement("label"),C=this._map.hasLayer(m.layer),O;m.overlay?(O=document.createElement("input"),O.type="checkbox",O.className="leaflet-control-layers-selector",O.defaultChecked=C):O=this._createRadioElement("leaflet-base-layers_"+d(this),C),this._layerControlInputs.push(O),O.layerId=d(m.layer),dr(O,"click",this._onInputClick,this);var W=document.createElement("span");W.innerHTML=" "+m.name;var oe=document.createElement("span");y.appendChild(oe),oe.appendChild(O),oe.appendChild(W);var ve=m.overlay?this._overlaysList:this._baseLayersList;return ve.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var m=this._layerControlInputs,y,C,O=[],W=[];this._handlingClick=!0;for(var oe=m.length-1;oe>=0;oe--)y=m[oe],C=this._getLayer(y.layerId).layer,y.checked?O.push(C):y.checked||W.push(C);for(oe=0;oe<W.length;oe++)this._map.hasLayer(W[oe])&&this._map.removeLayer(W[oe]);for(oe=0;oe<O.length;oe++)this._map.hasLayer(O[oe])||this._map.addLayer(O[oe]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var m=this._layerControlInputs,y,C,O=this._map.getZoom(),W=m.length-1;W>=0;W--)y=m[W],C=this._getLayer(y.layerId).layer,y.disabled=C.options.minZoom!==void 0&&O<C.options.minZoom||C.options.maxZoom!==void 0&&O>C.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var m=this._section;this._preventClick=!0,dr(m,"click",Ta),this.expand();var y=this;setTimeout(function(){ea(m,"click",Ta),y._preventClick=!1})}}),ju=function(m,y,C){return new cg(m,y,C)},dd=fs.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(m){var y="leaflet-control-zoom",C=_t("div",y+" leaflet-bar"),O=this.options;return this._zoomInButton=this._createButton(O.zoomInText,O.zoomInTitle,y+"-in",C,this._zoomIn),this._zoomOutButton=this._createButton(O.zoomOutText,O.zoomOutTitle,y+"-out",C,this._zoomOut),this._updateDisabled(),m.on("zoomend zoomlevelschange",this._updateDisabled,this),C},onRemove:function(m){m.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(m){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(m.shiftKey?3:1))},_zoomOut:function(m){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(m.shiftKey?3:1))},_createButton:function(m,y,C,O,W){var oe=_t("a",C,O);return oe.innerHTML=m,oe.href="#",oe.title=y,oe.setAttribute("role","button"),oe.setAttribute("aria-label",y),lc(oe),dr(oe,"click",ri),dr(oe,"click",W,this),dr(oe,"click",this._refocusOnMap,this),oe},_updateDisabled:function(){var m=this._map,y="leaflet-disabled";Je(this._zoomInButton,y),Je(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||m._zoom===m.getMinZoom())&&(We(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||m._zoom===m.getMaxZoom())&&(We(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});Er.mergeOptions({zoomControl:!0}),Er.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new dd,this.addControl(this.zoomControl))});var J0=function(m){return new dd(m)},Gn=fs.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(m){var y="leaflet-control-scale",C=_t("div",y),O=this.options;return this._addScales(O,y+"-line",C),m.on(O.updateWhenIdle?"moveend":"move",this._update,this),m.whenReady(this._update,this),C},onRemove:function(m){m.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(m,y,C){m.metric&&(this._mScale=_t("div",y,C)),m.imperial&&(this._iScale=_t("div",y,C))},_update:function(){var m=this._map,y=m.getSize().y/2,C=m.distance(m.containerPointToLatLng([0,y]),m.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(C)},_updateScales:function(m){this.options.metric&&m&&this._updateMetric(m),this.options.imperial&&m&&this._updateImperial(m)},_updateMetric:function(m){var y=this._getRoundNum(m),C=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,C,y/m)},_updateImperial:function(m){var y=m*3.2808399,C,O,W;y>5280?(C=y/5280,O=this._getRoundNum(C),this._updateScale(this._iScale,O+" mi",O/C)):(W=this._getRoundNum(y),this._updateScale(this._iScale,W+" ft",W/y))},_updateScale:function(m,y,C){m.style.width=Math.round(this.options.maxWidth*C)+"px",m.innerHTML=y},_getRoundNum:function(m){var y=Math.pow(10,(Math.floor(m)+"").length-1),C=m/y;return C=C>=10?10:C>=5?5:C>=3?3:C>=2?2:1,y*C}}),cd=function(m){return new Gn(m)},ug='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',hl=fs.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(gt.inlineSvg?ug+" ":"")+"Leaflet</a>"},initialize:function(m){j(this,m),this._attributions={}},onAdd:function(m){m.attributionControl=this,this._container=_t("div","leaflet-control-attribution"),lc(this._container);for(var y in m._layers)m._layers[y].getAttribution&&this.addAttribution(m._layers[y].getAttribution());return this._update(),m.on("layeradd",this._addAttribution,this),this._container},onRemove:function(m){m.off("layeradd",this._addAttribution,this)},_addAttribution:function(m){m.layer.getAttribution&&(this.addAttribution(m.layer.getAttribution()),m.layer.once("remove",function(){this.removeAttribution(m.layer.getAttribution())},this))},setPrefix:function(m){return this.options.prefix=m,this._update(),this},addAttribution:function(m){return m?(this._attributions[m]||(this._attributions[m]=0),this._attributions[m]++,this._update(),this):this},removeAttribution:function(m){return m?(this._attributions[m]&&(this._attributions[m]--,this._update()),this):this},_update:function(){if(this._map){var m=[];for(var y in this._attributions)this._attributions[y]&&m.push(y);var C=[];this.options.prefix&&C.push(this.options.prefix),m.length&&C.push(m.join(", ")),this._container.innerHTML=C.join(' <span aria-hidden="true">|</span> ')}}});Er.mergeOptions({attributionControl:!0}),Er.addInitHook(function(){this.options.attributionControl&&new hl().addTo(this)});var gv=function(m){return new hl(m)};fs.Layers=cg,fs.Zoom=dd,fs.Scale=Gn,fs.Attribution=hl,Oo.layers=ju,Oo.zoom=J0,Oo.scale=cd,Oo.attribution=gv;var Os=J.extend({initialize:function(m){this._map=m},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Os.addTo=function(m,y){return m.addHandler(y,this),this};var mg={Events:te},ud=gt.touch?"touchstart mousedown":"mousedown",ai=K.extend({options:{clickTolerance:3},initialize:function(m,y,C,O){j(this,O),this._element=m,this._dragStartTarget=y||m,this._preventOutline=C},enable:function(){this._enabled||(dr(this._dragStartTarget,ud,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ai._dragging===this&&this.finishDrag(!0),ea(this._dragStartTarget,ud,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(m){if(this._enabled&&(this._moved=!1,!Xe(this._element,"leaflet-zoom-anim"))){if(m.touches&&m.touches.length!==1){ai._dragging===this&&this.finishDrag();return}if(!(ai._dragging||m.shiftKey||m.which!==1&&m.button!==1&&!m.touches)&&(ai._dragging=this,this._preventOutline&&va(this._element),ul(),Nr(),!this._moving)){this.fire("down");var y=m.touches?m.touches[0]:m,C=eo(this._element);this._startPoint=new Y(y.clientX,y.clientY),this._startPos=ba(this._element),this._parentScale=ji(C);var O=m.type==="mousedown";dr(document,O?"mousemove":"touchmove",this._onMove,this),dr(document,O?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(m){if(this._enabled){if(m.touches&&m.touches.length>1){this._moved=!0;return}var y=m.touches&&m.touches.length===1?m.touches[0]:m,C=new Y(y.clientX,y.clientY)._subtract(this._startPoint);!C.x&&!C.y||Math.abs(C.x)+Math.abs(C.y)<this.options.clickTolerance||(C.x/=this._parentScale.x,C.y/=this._parentScale.y,Ta(m),this._moved||(this.fire("dragstart"),this._moved=!0,We(document.body,"leaflet-dragging"),this._lastTarget=m.target||m.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),We(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(C),this._moving=!0,this._lastEvent=m,this._updatePosition())}},_updatePosition:function(){var m={originalEvent:this._lastEvent};this.fire("predrag",m),Vt(this._element,this._newPos),this.fire("drag",m)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(m){Je(document.body,"leaflet-dragging"),this._lastTarget&&(Je(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ea(document,"mousemove touchmove",this._onMove,this),ea(document,"mouseup touchend touchcancel",this._onUp,this),ic(),wi();var y=this._moved&&this._moving;this._moving=!1,ai._dragging=!1,y&&this.fire("dragend",{noInertia:m,distance:this._newPos.distanceTo(this._startPos)})}});function gg(m,y,C){var O,W=[1,4,2,8],oe,ve,Ae,$e,st,vt,Zt,Cr;for(oe=0,vt=m.length;oe<vt;oe++)m[oe]._code=fl(m[oe],y);for(Ae=0;Ae<4;Ae++){for(Zt=W[Ae],O=[],oe=0,vt=m.length,ve=vt-1;oe<vt;ve=oe++)$e=m[oe],st=m[ve],$e._code&Zt?st._code&Zt||(Cr=Cu(st,$e,Zt,y,C),Cr._code=fl(Cr,y),O.push(Cr)):(st._code&Zt&&(Cr=Cu(st,$e,Zt,y,C),Cr._code=fl(Cr,y),O.push(Cr)),O.push($e));m=O}return m}function ef(m,y){var C,O,W,oe,ve,Ae,$e,st,vt;if(!m||m.length===0)throw new Error("latlngs not passed");Rs(m)||(console.warn("latlngs are not flat! Only the first ring will be used"),m=m[0]);var Zt=H([0,0]),Cr=$(m),mn=Cr.getNorthWest().distanceTo(Cr.getSouthWest())*Cr.getNorthEast().distanceTo(Cr.getNorthWest());mn<1700&&(Zt=hg(m));var Ja=m.length,xs=[];for(C=0;C<Ja;C++){var Yn=H(m[C]);xs.push(y.project(H([Yn.lat-Zt.lat,Yn.lng-Zt.lng])))}for(Ae=$e=st=0,C=0,O=Ja-1;C<Ja;O=C++)W=xs[C],oe=xs[O],ve=W.y*oe.x-oe.y*W.x,$e+=(W.x+oe.x)*ve,st+=(W.y+oe.y)*ve,Ae+=ve*3;Ae===0?vt=xs[0]:vt=[$e/Ae,st/Ae];var kd=y.unproject(ne(vt));return H([kd.lat+Zt.lat,kd.lng+Zt.lng])}function hg(m){for(var y=0,C=0,O=0,W=0;W<m.length;W++){var oe=H(m[W]);y+=oe.lat,C+=oe.lng,O++}return H([y/O,C/O])}var hv={__proto__:null,clipPolygon:gg,polygonCenter:ef,centroid:hg};function Nu(m,y){if(!y||!m.length)return m.slice();var C=y*y;return m=xv(m,C),m=pv(m,C),m}function tf(m,y,C){return Math.sqrt(pl(m,y,C,!0))}function fv(m,y,C){return pl(m,y,C)}function pv(m,y){var C=m.length,O=typeof Uint8Array<"u"?Uint8Array:Array,W=new O(C);W[0]=W[C-1]=1,fg(m,W,y,0,C-1);var oe,ve=[];for(oe=0;oe<C;oe++)W[oe]&&ve.push(m[oe]);return ve}function fg(m,y,C,O,W){var oe=0,ve,Ae,$e;for(Ae=O+1;Ae<=W-1;Ae++)$e=pl(m[Ae],m[O],m[W],!0),$e>oe&&(ve=Ae,oe=$e);oe>C&&(y[ve]=1,fg(m,y,C,O,ve),fg(m,y,C,ve,W))}function xv(m,y){for(var C=[m[0]],O=1,W=0,oe=m.length;O<oe;O++)yv(m[O],m[W])>y&&(C.push(m[O]),W=O);return W<oe-1&&C.push(m[oe-1]),C}var pg;function rf(m,y,C,O,W){var oe=O?pg:fl(m,C),ve=fl(y,C),Ae,$e,st;for(pg=ve;;){if(!(oe|ve))return[m,y];if(oe&ve)return!1;Ae=oe||ve,$e=Cu(m,y,Ae,C,W),st=fl($e,C),Ae===oe?(m=$e,oe=st):(y=$e,ve=st)}}function Cu(m,y,C,O,W){var oe=y.x-m.x,ve=y.y-m.y,Ae=O.min,$e=O.max,st,vt;return C&8?(st=m.x+oe*($e.y-m.y)/ve,vt=$e.y):C&4?(st=m.x+oe*(Ae.y-m.y)/ve,vt=Ae.y):C&2?(st=$e.x,vt=m.y+ve*($e.x-m.x)/oe):C&1&&(st=Ae.x,vt=m.y+ve*(Ae.x-m.x)/oe),new Y(st,vt,W)}function fl(m,y){var C=0;return m.x<y.min.x?C|=1:m.x>y.max.x&&(C|=2),m.y<y.min.y?C|=4:m.y>y.max.y&&(C|=8),C}function yv(m,y){var C=y.x-m.x,O=y.y-m.y;return C*C+O*O}function pl(m,y,C,O){var W=y.x,oe=y.y,ve=C.x-W,Ae=C.y-oe,$e=ve*ve+Ae*Ae,st;return $e>0&&(st=((m.x-W)*ve+(m.y-oe)*Ae)/$e,st>1?(W=C.x,oe=C.y):st>0&&(W+=ve*st,oe+=Ae*st)),ve=m.x-W,Ae=m.y-oe,O?ve*ve+Ae*Ae:new Y(W,oe)}function Rs(m){return!T(m[0])||typeof m[0][0]!="object"&&typeof m[0][0]<"u"}function af(m){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Rs(m)}function nf(m,y){var C,O,W,oe,ve,Ae,$e,st;if(!m||m.length===0)throw new Error("latlngs not passed");Rs(m)||(console.warn("latlngs are not flat! Only the first ring will be used"),m=m[0]);var vt=H([0,0]),Zt=$(m),Cr=Zt.getNorthWest().distanceTo(Zt.getSouthWest())*Zt.getNorthEast().distanceTo(Zt.getNorthWest());Cr<1700&&(vt=hg(m));var mn=m.length,Ja=[];for(C=0;C<mn;C++){var xs=H(m[C]);Ja.push(y.project(H([xs.lat-vt.lat,xs.lng-vt.lng])))}for(C=0,O=0;C<mn-1;C++)O+=Ja[C].distanceTo(Ja[C+1])/2;if(O===0)st=Ja[0];else for(C=0,oe=0;C<mn-1;C++)if(ve=Ja[C],Ae=Ja[C+1],W=ve.distanceTo(Ae),oe+=W,oe>O){$e=(oe-O)/W,st=[Ae.x-$e*(Ae.x-ve.x),Ae.y-$e*(Ae.y-ve.y)];break}var Yn=y.unproject(ne(st));return H([Yn.lat+vt.lat,Yn.lng+vt.lng])}var sf={__proto__:null,simplify:Nu,pointToSegmentDistance:tf,closestPointOnSegment:fv,clipSegment:rf,_getEdgeIntersection:Cu,_getBitCode:fl,_sqClosestPointOnSegment:pl,isFlat:Rs,_flat:af,polylineCenter:nf},xg={project:function(m){return new Y(m.lng,m.lat)},unproject:function(m){return new q(m.y,m.x)},bounds:new z([-180,-90],[180,90])},yg={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(m){var y=Math.PI/180,C=this.R,O=m.lat*y,W=this.R_MINOR/C,oe=Math.sqrt(1-W*W),ve=oe*Math.sin(O),Ae=Math.tan(Math.PI/4-O/2)/Math.pow((1-ve)/(1+ve),oe/2);return O=-C*Math.log(Math.max(Ae,1e-10)),new Y(m.lng*y*C,O)},unproject:function(m){for(var y=180/Math.PI,C=this.R,O=this.R_MINOR/C,W=Math.sqrt(1-O*O),oe=Math.exp(-m.y/C),ve=Math.PI/2-2*Math.atan(oe),Ae=0,$e=.1,st;Ae<15&&Math.abs($e)>1e-7;Ae++)st=W*Math.sin(ve),st=Math.pow((1-st)/(1+st),W/2),$e=Math.PI/2-2*Math.atan(oe*st)-ve,ve+=$e;return new q(ve*y,m.x*y/C)}},bv={__proto__:null,LonLat:xg,Mercator:yg,SphericalMercator:je},vv=s({},de,{code:"EPSG:3395",projection:yg,transformation:(function(){var m=.5/(Math.PI*yg.R);return se(m,.5,-m,.5)})()}),of=s({},de,{code:"EPSG:4326",projection:xg,transformation:se(1/180,1,-1/180,.5)}),kv=s({},Q,{projection:xg,transformation:se(1,0,-1,0),scale:function(m){return Math.pow(2,m)},zoom:function(m){return Math.log(m)/Math.LN2},distance:function(m,y){var C=y.lng-m.lng,O=y.lat-m.lat;return Math.sqrt(C*C+O*O)},infinite:!0});Q.Earth=de,Q.EPSG3395=vv,Q.EPSG3857=ie,Q.EPSG900913=ue,Q.EPSG4326=of,Q.Simple=kv;var ni=K.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(m){return m.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(m){return m&&m.removeLayer(this),this},getPane:function(m){return this._map.getPane(m?this.options[m]||m:this.options.pane)},addInteractiveTarget:function(m){return this._map._targets[d(m)]=this,this},removeInteractiveTarget:function(m){return delete this._map._targets[d(m)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(m){var y=m.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var C=this.getEvents();y.on(C,this),this.once("remove",function(){y.off(C,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});Er.include({addLayer:function(m){if(!m._layerAdd)throw new Error("The provided object is not a Layer.");var y=d(m);return this._layers[y]?this:(this._layers[y]=m,m._mapToAdd=this,m.beforeAdd&&m.beforeAdd(this),this.whenReady(m._layerAdd,m),this)},removeLayer:function(m){var y=d(m);return this._layers[y]?(this._loaded&&m.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:m}),m.fire("remove")),m._map=m._mapToAdd=null,this):this},hasLayer:function(m){return d(m)in this._layers},eachLayer:function(m,y){for(var C in this._layers)m.call(y,this._layers[C]);return this},_addLayers:function(m){m=m?T(m)?m:[m]:[];for(var y=0,C=m.length;y<C;y++)this.addLayer(m[y])},_addZoomLimit:function(m){(!isNaN(m.options.maxZoom)||!isNaN(m.options.minZoom))&&(this._zoomBoundLayers[d(m)]=m,this._updateZoomLevels())},_removeZoomLimit:function(m){var y=d(m);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var m=1/0,y=-1/0,C=this._getZoomSpan();for(var O in this._zoomBoundLayers){var W=this._zoomBoundLayers[O].options;m=W.minZoom===void 0?m:Math.min(m,W.minZoom),y=W.maxZoom===void 0?y:Math.max(y,W.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=m===1/0?void 0:m,C!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ro=ni.extend({initialize:function(m,y){j(this,y),this._layers={};var C,O;if(m)for(C=0,O=m.length;C<O;C++)this.addLayer(m[C])},addLayer:function(m){var y=this.getLayerId(m);return this._layers[y]=m,this._map&&this._map.addLayer(m),this},removeLayer:function(m){var y=m in this._layers?m:this.getLayerId(m);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(m){var y=typeof m=="number"?m:this.getLayerId(m);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(m){var y=Array.prototype.slice.call(arguments,1),C,O;for(C in this._layers)O=this._layers[C],O[m]&&O[m].apply(O,y);return this},onAdd:function(m){this.eachLayer(m.addLayer,m)},onRemove:function(m){this.eachLayer(m.removeLayer,m)},eachLayer:function(m,y){for(var C in this._layers)m.call(y,this._layers[C]);return this},getLayer:function(m){return this._layers[m]},getLayers:function(){var m=[];return this.eachLayer(m.push,m),m},setZIndex:function(m){return this.invoke("setZIndex",m)},getLayerId:function(m){return d(m)}}),uc=function(m,y){return new Ro(m,y)},to=Ro.extend({addLayer:function(m){return this.hasLayer(m)?this:(m.addEventParent(this),Ro.prototype.addLayer.call(this,m),this.fire("layeradd",{layer:m}))},removeLayer:function(m){return this.hasLayer(m)?(m in this._layers&&(m=this._layers[m]),m.removeEventParent(this),Ro.prototype.removeLayer.call(this,m),this.fire("layerremove",{layer:m})):this},setStyle:function(m){return this.invoke("setStyle",m)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var m=new F;for(var y in this._layers){var C=this._layers[y];m.extend(C.getBounds?C.getBounds():C.getLatLng())}return m}}),lf=function(m,y){return new to(m,y)},xl=J.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(m){j(this,m)},createIcon:function(m){return this._createIcon("icon",m)},createShadow:function(m){return this._createIcon("shadow",m)},_createIcon:function(m,y){var C=this._getIconUrl(m);if(!C){if(m==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var O=this._createImg(C,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(O,m),(this.options.crossOrigin||this.options.crossOrigin==="")&&(O.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),O},_setIconStyles:function(m,y){var C=this.options,O=C[y+"Size"];typeof O=="number"&&(O=[O,O]);var W=ne(O),oe=ne(y==="shadow"&&C.shadowAnchor||C.iconAnchor||W&&W.divideBy(2,!0));m.className="leaflet-marker-"+y+" "+(C.className||""),oe&&(m.style.marginLeft=-oe.x+"px",m.style.marginTop=-oe.y+"px"),W&&(m.style.width=W.x+"px",m.style.height=W.y+"px")},_createImg:function(m,y){return y=y||document.createElement("img"),y.src=m,y},_getIconUrl:function(m){return gt.retina&&this.options[m+"RetinaUrl"]||this.options[m+"Url"]}});function df(m){return new xl(m)}var md=xl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(m){return typeof md.imagePath!="string"&&(md.imagePath=this._detectIconPath()),(this.options.imagePath||md.imagePath)+xl.prototype._getIconUrl.call(this,m)},_stripUrl:function(m){var y=function(C,O,W){var oe=O.exec(C);return oe&&oe[W]};return m=y(m,/^url\((['"])?(.+)\1\)$/,2),m&&y(m,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var m=_t("div","leaflet-default-icon-path",document.body),y=Et(m,"background-image")||Et(m,"backgroundImage");if(document.body.removeChild(m),y=this._stripUrl(y),y)return y;var C=document.querySelector('link[href$="leaflet.css"]');return C?C.href.substring(0,C.href.length-11-1):""}}),bg=Os.extend({initialize:function(m){this._marker=m},addHooks:function(){var m=this._marker._icon;this._draggable||(this._draggable=new ai(m,m,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),We(m,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Je(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(m){var y=this._marker,C=y._map,O=this._marker.options.autoPanSpeed,W=this._marker.options.autoPanPadding,oe=ba(y._icon),ve=C.getPixelBounds(),Ae=C.getPixelOrigin(),$e=V(ve.min._subtract(Ae).add(W),ve.max._subtract(Ae).subtract(W));if(!$e.contains(oe)){var st=ne((Math.max($e.max.x,oe.x)-$e.max.x)/(ve.max.x-$e.max.x)-(Math.min($e.min.x,oe.x)-$e.min.x)/(ve.min.x-$e.min.x),(Math.max($e.max.y,oe.y)-$e.max.y)/(ve.max.y-$e.max.y)-(Math.min($e.min.y,oe.y)-$e.min.y)/(ve.min.y-$e.min.y)).multiplyBy(O);C.panBy(st,{animate:!1}),this._draggable._newPos._add(st),this._draggable._startPos._add(st),Vt(y._icon,this._draggable._newPos),this._onDrag(m),this._panRequest=Z(this._adjustPan.bind(this,m))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(m){this._marker.options.autoPan&&(B(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,m)))},_onDrag:function(m){var y=this._marker,C=y._shadow,O=ba(y._icon),W=y._map.layerPointToLatLng(O);C&&Vt(C,O),y._latlng=W,m.latlng=W,m.oldLatLng=this._oldLatLng,y.fire("move",m).fire("drag",m)},_onDragEnd:function(m){B(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",m)}}),ro=ni.extend({options:{icon:new md,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(m,y){j(this,y),this._latlng=H(m)},onAdd:function(m){this._zoomAnimated=this._zoomAnimated&&m.options.markerZoomAnimation,this._zoomAnimated&&m.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(m){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&m.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(m){var y=this._latlng;return this._latlng=H(m),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(m){return this.options.zIndexOffset=m,this.update()},getIcon:function(){return this.options.icon},setIcon:function(m){return this.options.icon=m,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var m=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(m)}return this},_initIcon:function(){var m=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),C=m.icon.createIcon(this._icon),O=!1;C!==this._icon&&(this._icon&&this._removeIcon(),O=!0,m.title&&(C.title=m.title),C.tagName==="IMG"&&(C.alt=m.alt||"")),We(C,y),m.keyboard&&(C.tabIndex="0",C.setAttribute("role","button")),this._icon=C,m.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dr(C,"focus",this._panOnFocus,this);var W=m.icon.createShadow(this._shadow),oe=!1;W!==this._shadow&&(this._removeShadow(),oe=!0),W&&(We(W,y),W.alt=""),this._shadow=W,m.opacity<1&&this._updateOpacity(),O&&this.getPane().appendChild(this._icon),this._initInteraction(),W&&oe&&this.getPane(m.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ea(this._icon,"focus",this._panOnFocus,this),xr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&xr(this._shadow),this._shadow=null},_setPos:function(m){this._icon&&Vt(this._icon,m),this._shadow&&Vt(this._shadow,m),this._zIndex=m.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(m){this._icon&&(this._icon.style.zIndex=this._zIndex+m)},_animateZoom:function(m){var y=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(We(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bg)){var m=this.options.draggable;this.dragging&&(m=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bg(this),m&&this.dragging.enable()}},setOpacity:function(m){return this.options.opacity=m,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var m=this.options.opacity;this._icon&&Mr(this._icon,m),this._shadow&&Mr(this._shadow,m)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var m=this._map;if(m){var y=this.options.icon.options,C=y.iconSize?ne(y.iconSize):ne(0,0),O=y.iconAnchor?ne(y.iconAnchor):ne(0,0);m.panInside(this._latlng,{paddingTopLeft:O,paddingBottomRight:C.subtract(O)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function wv(m,y){return new ro(m,y)}var Do=ni.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(m){this._renderer=m.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(m){return j(this,m),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&m&&Object.prototype.hasOwnProperty.call(m,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Su=Do.extend({options:{fill:!0,radius:10},initialize:function(m,y){j(this,y),this._latlng=H(m),this._radius=this.options.radius},setLatLng:function(m){var y=this._latlng;return this._latlng=H(m),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(m){return this.options.radius=this._radius=m,this.redraw()},getRadius:function(){return this._radius},setStyle:function(m){var y=m&&m.radius||this._radius;return Do.prototype.setStyle.call(this,m),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var m=this._radius,y=this._radiusY||m,C=this._clickTolerance(),O=[m+C,y+C];this._pxBounds=new z(this._point.subtract(O),this._point.add(O))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(m){return m.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function cf(m,y){return new Su(m,y)}var Pu=Su.extend({initialize:function(m,y,C){if(typeof y=="number"&&(y=s({},C,{radius:y})),j(this,y),this._latlng=H(m),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(m){return this._mRadius=m,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var m=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(m)),this._map.layerPointToLatLng(this._point.add(m)))},setStyle:Do.prototype.setStyle,_project:function(){var m=this._latlng.lng,y=this._latlng.lat,C=this._map,O=C.options.crs;if(O.distance===de.distance){var W=Math.PI/180,oe=this._mRadius/de.R/W,ve=C.project([y+oe,m]),Ae=C.project([y-oe,m]),$e=ve.add(Ae).divideBy(2),st=C.unproject($e).lat,vt=Math.acos((Math.cos(oe*W)-Math.sin(y*W)*Math.sin(st*W))/(Math.cos(y*W)*Math.cos(st*W)))/W;(isNaN(vt)||vt===0)&&(vt=oe/Math.cos(Math.PI/180*y)),this._point=$e.subtract(C.getPixelOrigin()),this._radius=isNaN(vt)?0:$e.x-C.project([st,m-vt]).x,this._radiusY=$e.y-ve.y}else{var Zt=O.unproject(O.project(this._latlng).subtract([this._mRadius,0]));this._point=C.latLngToLayerPoint(this._latlng),this._radius=this._point.x-C.latLngToLayerPoint(Zt).x}this._updateBounds()}});function mc(m,y,C){return new Pu(m,y,C)}var ps=Do.extend({options:{smoothFactor:1,noClip:!1},initialize:function(m,y){j(this,y),this._setLatLngs(m)},getLatLngs:function(){return this._latlngs},setLatLngs:function(m){return this._setLatLngs(m),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(m){for(var y=1/0,C=null,O=pl,W,oe,ve=0,Ae=this._parts.length;ve<Ae;ve++)for(var $e=this._parts[ve],st=1,vt=$e.length;st<vt;st++){W=$e[st-1],oe=$e[st];var Zt=O(m,W,oe,!0);Zt<y&&(y=Zt,C=O(m,W,oe))}return C&&(C.distance=Math.sqrt(y)),C},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nf(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(m,y){return y=y||this._defaultShape(),m=H(m),y.push(m),this._bounds.extend(m),this.redraw()},_setLatLngs:function(m){this._bounds=new F,this._latlngs=this._convertLatLngs(m)},_defaultShape:function(){return Rs(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(m){for(var y=[],C=Rs(m),O=0,W=m.length;O<W;O++)C?(y[O]=H(m[O]),this._bounds.extend(y[O])):y[O]=this._convertLatLngs(m[O]);return y},_project:function(){var m=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,m),this._bounds.isValid()&&m.isValid()&&(this._rawPxBounds=m,this._updateBounds())},_updateBounds:function(){var m=this._clickTolerance(),y=new Y(m,m);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(m,y,C){var O=m[0]instanceof q,W=m.length,oe,ve;if(O){for(ve=[],oe=0;oe<W;oe++)ve[oe]=this._map.latLngToLayerPoint(m[oe]),C.extend(ve[oe]);y.push(ve)}else for(oe=0;oe<W;oe++)this._projectLatlngs(m[oe],y,C)},_clipPoints:function(){var m=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(m))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,C,O,W,oe,ve,Ae,$e;for(C=0,W=0,oe=this._rings.length;C<oe;C++)for($e=this._rings[C],O=0,ve=$e.length;O<ve-1;O++)Ae=rf($e[O],$e[O+1],m,O,!0),Ae&&(y[W]=y[W]||[],y[W].push(Ae[0]),(Ae[1]!==$e[O+1]||O===ve-2)&&(y[W].push(Ae[1]),W++))}},_simplifyPoints:function(){for(var m=this._parts,y=this.options.smoothFactor,C=0,O=m.length;C<O;C++)m[C]=Nu(m[C],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(m,y){var C,O,W,oe,ve,Ae,$e=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(m))return!1;for(C=0,oe=this._parts.length;C<oe;C++)for(Ae=this._parts[C],O=0,ve=Ae.length,W=ve-1;O<ve;W=O++)if(!(!y&&O===0)&&tf(m,Ae[W],Ae[O])<=$e)return!0;return!1}});function jv(m,y){return new ps(m,y)}ps._flat=af;var ao=ps.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ef(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(m){var y=ps.prototype._convertLatLngs.call(this,m),C=y.length;return C>=2&&y[0]instanceof q&&y[0].equals(y[C-1])&&y.pop(),y},_setLatLngs:function(m){ps.prototype._setLatLngs.call(this,m),Rs(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Rs(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var m=this._renderer._bounds,y=this.options.weight,C=new Y(y,y);if(m=new z(m.min.subtract(C),m.max.add(C)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(m))){if(this.options.noClip){this._parts=this._rings;return}for(var O=0,W=this._rings.length,oe;O<W;O++)oe=gg(this._rings[O],m,!0),oe.length&&this._parts.push(oe)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(m){var y=!1,C,O,W,oe,ve,Ae,$e,st;if(!this._pxBounds||!this._pxBounds.contains(m))return!1;for(oe=0,$e=this._parts.length;oe<$e;oe++)for(C=this._parts[oe],ve=0,st=C.length,Ae=st-1;ve<st;Ae=ve++)O=C[ve],W=C[Ae],O.y>m.y!=W.y>m.y&&m.x<(W.x-O.x)*(m.y-O.y)/(W.y-O.y)+O.x&&(y=!y);return y||ps.prototype._containsPoint.call(this,m,!0)}});function Nv(m,y){return new ao(m,y)}var Ci=to.extend({initialize:function(m,y){j(this,y),this._layers={},m&&this.addData(m)},addData:function(m){var y=T(m)?m:m.features,C,O,W;if(y){for(C=0,O=y.length;C<O;C++)W=y[C],(W.geometries||W.geometry||W.features||W.coordinates)&&this.addData(W);return this}var oe=this.options;if(oe.filter&&!oe.filter(m))return this;var ve=gd(m,oe);return ve?(ve.feature=Eu(m),ve.defaultOptions=ve.options,this.resetStyle(ve),oe.onEachFeature&&oe.onEachFeature(m,ve),this.addLayer(ve)):this},resetStyle:function(m){return m===void 0?this.eachLayer(this.resetStyle,this):(m.options=s({},m.defaultOptions),this._setLayerStyle(m,this.options.style),this)},setStyle:function(m){return this.eachLayer(function(y){this._setLayerStyle(y,m)},this)},_setLayerStyle:function(m,y){m.setStyle&&(typeof y=="function"&&(y=y(m.feature)),m.setStyle(y))}});function gd(m,y){var C=m.type==="Feature"?m.geometry:m,O=C?C.coordinates:null,W=[],oe=y&&y.pointToLayer,ve=y&&y.coordsToLatLng||Tu,Ae,$e,st,vt;if(!O&&!C)return null;switch(C.type){case"Point":return Ae=ve(O),Mu(oe,m,Ae,y);case"MultiPoint":for(st=0,vt=O.length;st<vt;st++)Ae=ve(O[st]),W.push(Mu(oe,m,Ae,y));return new to(W);case"LineString":case"MultiLineString":return $e=gc(O,C.type==="LineString"?0:1,ve),new ps($e,y);case"Polygon":case"MultiPolygon":return $e=gc(O,C.type==="Polygon"?1:2,ve),new ao($e,y);case"GeometryCollection":for(st=0,vt=C.geometries.length;st<vt;st++){var Zt=gd({geometry:C.geometries[st],type:"Feature",properties:m.properties},y);Zt&&W.push(Zt)}return new to(W);case"FeatureCollection":for(st=0,vt=C.features.length;st<vt;st++){var Cr=gd(C.features[st],y);Cr&&W.push(Cr)}return new to(W);default:throw new Error("Invalid GeoJSON object.")}}function Mu(m,y,C,O){return m?m(y,C):new ro(C,O&&O.markersInheritOptions&&O)}function Tu(m){return new q(m[1],m[0],m[2])}function gc(m,y,C){for(var O=[],W=0,oe=m.length,ve;W<oe;W++)ve=y?gc(m[W],y-1,C):(C||Tu)(m[W]),O.push(ve);return O}function Iu(m,y){return m=H(m),m.alt!==void 0?[x(m.lng,y),x(m.lat,y),x(m.alt,y)]:[x(m.lng,y),x(m.lat,y)]}function Au(m,y,C,O){for(var W=[],oe=0,ve=m.length;oe<ve;oe++)W.push(y?Au(m[oe],Rs(m[oe])?0:y-1,C,O):Iu(m[oe],O));return!y&&C&&W.length>0&&W.push(W[0].slice()),W}function hd(m,y){return m.feature?s({},m.feature,{geometry:y}):Eu(y)}function Eu(m){return m.type==="Feature"||m.type==="FeatureCollection"?m:{type:"Feature",properties:{},geometry:m}}var vg={toGeoJSON:function(m){return hd(this,{type:"Point",coordinates:Iu(this.getLatLng(),m)})}};ro.include(vg),Pu.include(vg),Su.include(vg),ps.include({toGeoJSON:function(m){var y=!Rs(this._latlngs),C=Au(this._latlngs,y?1:0,!1,m);return hd(this,{type:(y?"Multi":"")+"LineString",coordinates:C})}}),ao.include({toGeoJSON:function(m){var y=!Rs(this._latlngs),C=y&&!Rs(this._latlngs[0]),O=Au(this._latlngs,C?2:y?1:0,!0,m);return y||(O=[O]),hd(this,{type:(C?"Multi":"")+"Polygon",coordinates:O})}}),Ro.include({toMultiPoint:function(m){var y=[];return this.eachLayer(function(C){y.push(C.toGeoJSON(m).geometry.coordinates)}),hd(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(m){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(m);var C=y==="GeometryCollection",O=[];return this.eachLayer(function(W){if(W.toGeoJSON){var oe=W.toGeoJSON(m);if(C)O.push(oe.geometry);else{var ve=Eu(oe);ve.type==="FeatureCollection"?O.push.apply(O,ve.features):O.push(ve)}}}),C?hd(this,{geometries:O,type:"GeometryCollection"}):{type:"FeatureCollection",features:O}}});function uf(m,y){return new Ci(m,y)}var si=uf,Bo=ni.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(m,y,C){this._url=m,this._bounds=$(y),j(this,C)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(We(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){xr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(m){return this.options.opacity=m,this._image&&this._updateOpacity(),this},setStyle:function(m){return m.opacity&&this.setOpacity(m.opacity),this},bringToFront:function(){return this._map&&Me(this._image),this},bringToBack:function(){return this._map&&Ge(this._image),this},setUrl:function(m){return this._url=m,this._image&&(this._image.src=m),this},setBounds:function(m){return this._bounds=$(m),this._map&&this._reset(),this},getEvents:function(){var m={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},setZIndex:function(m){return this.options.zIndex=m,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var m=this._url.tagName==="IMG",y=this._image=m?this._url:_t("img");if(We(y,"leaflet-image-layer"),this._zoomAnimated&&We(y,"leaflet-zoom-animated"),this.options.className&&We(y,this.options.className),y.onselectstart=h,y.onmousemove=h,y.onload=o(this.fire,this,"load"),y.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),m){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(m){var y=this._map.getZoomScale(m.zoom),C=this._map._latLngBoundsToNewLayerBounds(this._bounds,m.zoom,m.center).min;dt(this._image,C,y)},_reset:function(){var m=this._image,y=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),C=y.getSize();Vt(m,y.min),m.style.width=C.x+"px",m.style.height=C.y+"px"},_updateOpacity:function(){Mr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var m=this.options.errorOverlayUrl;m&&this._url!==m&&(this._url=m,this._image.src=m)},getCenter:function(){return this._bounds.getCenter()}}),mf=function(m,y,C){return new Bo(m,y,C)},kg=Bo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var m=this._url.tagName==="VIDEO",y=this._image=m?this._url:_t("video");if(We(y,"leaflet-image-layer"),this._zoomAnimated&&We(y,"leaflet-zoom-animated"),this.options.className&&We(y,this.options.className),y.onselectstart=h,y.onmousemove=h,y.onloadeddata=o(this.fire,this,"load"),m){for(var C=y.getElementsByTagName("source"),O=[],W=0;W<C.length;W++)O.push(C[W].src);this._url=C.length>0?O:[y.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var oe=0;oe<this._url.length;oe++){var ve=_t("source");ve.src=this._url[oe],y.appendChild(ve)}}});function gf(m,y,C){return new kg(m,y,C)}var wg=Bo.extend({_initImage:function(){var m=this._image=this._url;We(m,"leaflet-image-layer"),this._zoomAnimated&&We(m,"leaflet-zoom-animated"),this.options.className&&We(m,this.options.className),m.onselectstart=h,m.onmousemove=h}});function jg(m,y,C){return new wg(m,y,C)}var Si=ni.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(m,y){m&&(m instanceof q||T(m))?(this._latlng=H(m),j(this,y)):(j(this,m),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(m){return m=arguments.length?m:this._source._map,m.hasLayer(this)||m.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(m){return this._map?this.close():(arguments.length?this._source=m:m=this._source,this._prepareOpen(),this.openOn(m._map)),this},onAdd:function(m){this._zoomAnimated=m._zoomAnimated,this._container||this._initLayout(),m._fadeAnimated&&Mr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),m._fadeAnimated&&Mr(this._container,1),this.bringToFront(),this.options.interactive&&(We(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(m){m._fadeAnimated?(Mr(this._container,0),this._removeTimeout=setTimeout(o(xr,void 0,this._container),200)):xr(this._container),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(m){return this._latlng=H(m),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(m){return this._content=m,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var m={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Me(this._container),this},bringToBack:function(){return this._map&&Ge(this._container),this},_prepareOpen:function(m){var y=this._source;if(!y._map)return!1;if(y instanceof to){y=null;var C=this._source._layers;for(var O in C)if(C[O]._map){y=C[O];break}if(!y)return!1;this._source=y}if(!m)if(y.getCenter)m=y.getCenter();else if(y.getLatLng)m=y.getLatLng();else if(y.getBounds)m=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(m),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var m=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")m.innerHTML=y;else{for(;m.hasChildNodes();)m.removeChild(m.firstChild);m.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var m=this._map.latLngToLayerPoint(this._latlng),y=ne(this.options.offset),C=this._getAnchor();this._zoomAnimated?Vt(this._container,m.add(C)):y=y.add(m).add(C);var O=this._containerBottom=-y.y,W=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=O+"px",this._container.style.left=W+"px"}},_getAnchor:function(){return[0,0]}});Er.include({_initOverlay:function(m,y,C,O){var W=y;return W instanceof m||(W=new m(O).setContent(y)),C&&W.setLatLng(C),W}}),ni.include({_initOverlay:function(m,y,C,O){var W=C;return W instanceof m?(j(W,O),W._source=this):(W=y&&!O?y:new m(O,this),W.setContent(C)),W}});var _u=Si.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(m){return m=arguments.length?m:this._source._map,!m.hasLayer(this)&&m._popup&&m._popup.options.autoClose&&m.removeLayer(m._popup),m._popup=this,Si.prototype.openOn.call(this,m)},onAdd:function(m){Si.prototype.onAdd.call(this,m),m.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Do||this._source.on("preclick",Ni))},onRemove:function(m){Si.prototype.onRemove.call(this,m),m.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Do||this._source.off("preclick",Ni))},getEvents:function(){var m=Si.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(m.preclick=this.close),this.options.keepInView&&(m.moveend=this._adjustPan),m},_initLayout:function(){var m="leaflet-popup",y=this._container=_t("div",m+" "+(this.options.className||"")+" leaflet-zoom-animated"),C=this._wrapper=_t("div",m+"-content-wrapper",y);if(this._contentNode=_t("div",m+"-content",C),lc(y),vu(this._contentNode),dr(y,"contextmenu",Ni),this._tipContainer=_t("div",m+"-tip-container",y),this._tip=_t("div",m+"-tip",this._tipContainer),this.options.closeButton){var O=this._closeButton=_t("a",m+"-close-button",y);O.setAttribute("role","button"),O.setAttribute("aria-label","Close popup"),O.href="#close",O.innerHTML='<span aria-hidden="true">&#215;</span>',dr(O,"click",function(W){Ta(W),this.close()},this)}},_updateLayout:function(){var m=this._contentNode,y=m.style;y.width="",y.whiteSpace="nowrap";var C=m.offsetWidth;C=Math.min(C,this.options.maxWidth),C=Math.max(C,this.options.minWidth),y.width=C+1+"px",y.whiteSpace="",y.height="";var O=m.offsetHeight,W=this.options.maxHeight,oe="leaflet-popup-scrolled";W&&O>W?(y.height=W+"px",We(m,oe)):Je(m,oe),this._containerWidth=this._container.offsetWidth},_animateZoom:function(m){var y=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center),C=this._getAnchor();Vt(this._container,y.add(C))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var m=this._map,y=parseInt(Et(this._container,"marginBottom"),10)||0,C=this._container.offsetHeight+y,O=this._containerWidth,W=new Y(this._containerLeft,-C-this._containerBottom);W._add(ba(this._container));var oe=m.layerPointToContainerPoint(W),ve=ne(this.options.autoPanPadding),Ae=ne(this.options.autoPanPaddingTopLeft||ve),$e=ne(this.options.autoPanPaddingBottomRight||ve),st=m.getSize(),vt=0,Zt=0;oe.x+O+$e.x>st.x&&(vt=oe.x+O-st.x+$e.x),oe.x-vt-Ae.x<0&&(vt=oe.x-Ae.x),oe.y+C+$e.y>st.y&&(Zt=oe.y+C-st.y+$e.y),oe.y-Zt-Ae.y<0&&(Zt=oe.y-Ae.y),(vt||Zt)&&(this.options.keepInView&&(this._autopanning=!0),m.fire("autopanstart").panBy([vt,Zt]))}},_getAnchor:function(){return ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),fd=function(m,y){return new _u(m,y)};Er.mergeOptions({closePopupOnClick:!0}),Er.include({openPopup:function(m,y,C){return this._initOverlay(_u,m,y,C).openOn(this),this},closePopup:function(m){return m=arguments.length?m:this._popup,m&&m.close(),this}}),ni.include({bindPopup:function(m,y){return this._popup=this._initOverlay(_u,this._popup,m,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(m){return this._popup&&(this instanceof to||(this._popup._source=this),this._popup._prepareOpen(m||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(m){return this._popup&&this._popup.setContent(m),this},getPopup:function(){return this._popup},_openPopup:function(m){if(!(!this._popup||!this._map)){ri(m);var y=m.layer||m.target;if(this._popup._source===y&&!(y instanceof Do)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(m.latlng);return}this._popup._source=y,this.openPopup(m.latlng)}},_movePopup:function(m){this._popup.setLatLng(m.latlng)},_onKeyPress:function(m){m.originalEvent.keyCode===13&&this._openPopup(m)}});var pd=Si.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(m){Si.prototype.onAdd.call(this,m),this.setOpacity(this.options.opacity),m.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(m){Si.prototype.onRemove.call(this,m),m.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var m=Si.prototype.getEvents.call(this);return this.options.permanent||(m.preclick=this.close),m},_initLayout:function(){var m="leaflet-tooltip",y=m+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=_t("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(m){var y,C,O=this._map,W=this._container,oe=O.latLngToContainerPoint(O.getCenter()),ve=O.layerPointToContainerPoint(m),Ae=this.options.direction,$e=W.offsetWidth,st=W.offsetHeight,vt=ne(this.options.offset),Zt=this._getAnchor();Ae==="top"?(y=$e/2,C=st):Ae==="bottom"?(y=$e/2,C=0):Ae==="center"?(y=$e/2,C=st/2):Ae==="right"?(y=0,C=st/2):Ae==="left"?(y=$e,C=st/2):ve.x<oe.x?(Ae="right",y=0,C=st/2):(Ae="left",y=$e+(vt.x+Zt.x)*2,C=st/2),m=m.subtract(ne(y,C,!0)).add(vt).add(Zt),Je(W,"leaflet-tooltip-right"),Je(W,"leaflet-tooltip-left"),Je(W,"leaflet-tooltip-top"),Je(W,"leaflet-tooltip-bottom"),We(W,"leaflet-tooltip-"+Ae),Vt(W,m)},_updatePosition:function(){var m=this._map.latLngToLayerPoint(this._latlng);this._setPosition(m)},setOpacity:function(m){this.options.opacity=m,this._container&&Mr(this._container,m)},_animateZoom:function(m){var y=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center);this._setPosition(y)},_getAnchor:function(){return ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),hc=function(m,y){return new pd(m,y)};Er.include({openTooltip:function(m,y,C){return this._initOverlay(pd,m,y,C).openOn(this),this},closeTooltip:function(m){return m.close(),this}}),ni.include({bindTooltip:function(m,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(pd,this._tooltip,m,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(m){if(!(!m&&this._tooltipHandlersAdded)){var y=m?"off":"on",C={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?C.add=this._openTooltip:(C.mouseover=this._openTooltip,C.mouseout=this.closeTooltip,C.click=this._openTooltip,this._map?this._addFocusListeners():C.add=this._addFocusListeners),this._tooltip.options.sticky&&(C.mousemove=this._moveTooltip),this[y](C),this._tooltipHandlersAdded=!m}},openTooltip:function(m){return this._tooltip&&(this instanceof to||(this._tooltip._source=this),this._tooltip._prepareOpen(m)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(m){return this._tooltip&&this._tooltip.setContent(m),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(m){var y=typeof m.getElement=="function"&&m.getElement();y&&(dr(y,"focus",function(){this._tooltip._source=m,this.openTooltip()},this),dr(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(m){var y=typeof m.getElement=="function"&&m.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(m){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(m)});return}this._tooltip._source=m.layer||m.target,this.openTooltip(this._tooltip.options.sticky?m.latlng:void 0)}},_moveTooltip:function(m){var y=m.latlng,C,O;this._tooltip.options.sticky&&m.originalEvent&&(C=this._map.mouseEventToContainerPoint(m.originalEvent),O=this._map.containerPointToLayerPoint(C),y=this._map.layerPointToLatLng(O)),this._tooltip.setLatLng(y)}});var Ou=xl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(m){var y=m&&m.tagName==="DIV"?m:document.createElement("div"),C=this.options;if(C.html instanceof Element?(Ba(y),y.appendChild(C.html)):y.innerHTML=C.html!==!1?C.html:"",C.bgPos){var O=ne(C.bgPos);y.style.backgroundPosition=-O.x+"px "+-O.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function hf(m){return new Ou(m)}xl.Default=md;var Lo=ni.extend({options:{tileSize:256,opacity:1,updateWhenIdle:gt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(m){j(this,m)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(m){m._addZoomLimit(this)},onRemove:function(m){this._removeAllTiles(),xr(this._container),m._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Me(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ge(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(m){return this.options.opacity=m,this._updateOpacity(),this},setZIndex:function(m){return this.options.zIndex=m,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var m=this._clampZoom(this._map.getZoom());m!==this._tileZoom&&(this._tileZoom=m,this._updateLevels()),this._update()}return this},getEvents:function(){var m={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),m.move=this._onMove),this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},createTile:function(){return document.createElement("div")},getTileSize:function(){var m=this.options.tileSize;return m instanceof Y?m:new Y(m,m)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(m){for(var y=this.getPane().children,C=-m(-1/0,1/0),O=0,W=y.length,oe;O<W;O++)oe=y[O].style.zIndex,y[O]!==this._container&&oe&&(C=m(C,+oe));isFinite(C)&&(this.options.zIndex=C+m(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!gt.ielt9){Mr(this._container,this.options.opacity);var m=+new Date,y=!1,C=!1;for(var O in this._tiles){var W=this._tiles[O];if(!(!W.current||!W.loaded)){var oe=Math.min(1,(m-W.loaded)/200);Mr(W.el,oe),oe<1?y=!0:(W.active?C=!0:this._onOpaqueTile(W),W.active=!0)}}C&&!this._noPrune&&this._pruneTiles(),y&&(B(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=_t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var m=this._tileZoom,y=this.options.maxZoom;if(m!==void 0){for(var C in this._levels)C=Number(C),this._levels[C].el.children.length||C===m?(this._levels[C].el.style.zIndex=y-Math.abs(m-C),this._onUpdateLevel(C)):(xr(this._levels[C].el),this._removeTilesAtZoom(C),this._onRemoveLevel(C),delete this._levels[C]);var O=this._levels[m],W=this._map;return O||(O=this._levels[m]={},O.el=_t("div","leaflet-tile-container leaflet-zoom-animated",this._container),O.el.style.zIndex=y,O.origin=W.project(W.unproject(W.getPixelOrigin()),m).round(),O.zoom=m,this._setZoomTransform(O,W.getCenter(),W.getZoom()),h(O.el.offsetWidth),this._onCreateLevel(O)),this._level=O,O}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var m,y,C=this._map.getZoom();if(C>this.options.maxZoom||C<this.options.minZoom){this._removeAllTiles();return}for(m in this._tiles)y=this._tiles[m],y.retain=y.current;for(m in this._tiles)if(y=this._tiles[m],y.current&&!y.active){var O=y.coords;this._retainParent(O.x,O.y,O.z,O.z-5)||this._retainChildren(O.x,O.y,O.z,O.z+2)}for(m in this._tiles)this._tiles[m].retain||this._removeTile(m)}},_removeTilesAtZoom:function(m){for(var y in this._tiles)this._tiles[y].coords.z===m&&this._removeTile(y)},_removeAllTiles:function(){for(var m in this._tiles)this._removeTile(m)},_invalidateAll:function(){for(var m in this._levels)xr(this._levels[m].el),this._onRemoveLevel(Number(m)),delete this._levels[m];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(m,y,C,O){var W=Math.floor(m/2),oe=Math.floor(y/2),ve=C-1,Ae=new Y(+W,+oe);Ae.z=+ve;var $e=this._tileCoordsToKey(Ae),st=this._tiles[$e];return st&&st.active?(st.retain=!0,!0):(st&&st.loaded&&(st.retain=!0),ve>O?this._retainParent(W,oe,ve,O):!1)},_retainChildren:function(m,y,C,O){for(var W=2*m;W<2*m+2;W++)for(var oe=2*y;oe<2*y+2;oe++){var ve=new Y(W,oe);ve.z=C+1;var Ae=this._tileCoordsToKey(ve),$e=this._tiles[Ae];if($e&&$e.active){$e.retain=!0;continue}else $e&&$e.loaded&&($e.retain=!0);C+1<O&&this._retainChildren(W,oe,C+1,O)}},_resetView:function(m){var y=m&&(m.pinch||m.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(m){this._setView(m.center,m.zoom,!0,m.noUpdate)},_clampZoom:function(m){var y=this.options;return y.minNativeZoom!==void 0&&m<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<m?y.maxNativeZoom:m},_setView:function(m,y,C,O){var W=Math.round(y);this.options.maxZoom!==void 0&&W>this.options.maxZoom||this.options.minZoom!==void 0&&W<this.options.minZoom?W=void 0:W=this._clampZoom(W);var oe=this.options.updateWhenZooming&&W!==this._tileZoom;(!O||oe)&&(this._tileZoom=W,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),W!==void 0&&this._update(m),C||this._pruneTiles(),this._noPrune=!!C),this._setZoomTransforms(m,y)},_setZoomTransforms:function(m,y){for(var C in this._levels)this._setZoomTransform(this._levels[C],m,y)},_setZoomTransform:function(m,y,C){var O=this._map.getZoomScale(C,m.zoom),W=m.origin.multiplyBy(O).subtract(this._map._getNewPixelOrigin(y,C)).round();gt.any3d?dt(m.el,W,O):Vt(m.el,W)},_resetGrid:function(){var m=this._map,y=m.options.crs,C=this._tileSize=this.getTileSize(),O=this._tileZoom,W=this._map.getPixelWorldBounds(this._tileZoom);W&&(this._globalTileRange=this._pxBoundsToTileRange(W)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(m.project([0,y.wrapLng[0]],O).x/C.x),Math.ceil(m.project([0,y.wrapLng[1]],O).x/C.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(m.project([y.wrapLat[0],0],O).y/C.x),Math.ceil(m.project([y.wrapLat[1],0],O).y/C.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(m){var y=this._map,C=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),O=y.getZoomScale(C,this._tileZoom),W=y.project(m,this._tileZoom).floor(),oe=y.getSize().divideBy(O*2);return new z(W.subtract(oe),W.add(oe))},_update:function(m){var y=this._map;if(y){var C=this._clampZoom(y.getZoom());if(m===void 0&&(m=y.getCenter()),this._tileZoom!==void 0){var O=this._getTiledPixelBounds(m),W=this._pxBoundsToTileRange(O),oe=W.getCenter(),ve=[],Ae=this.options.keepBuffer,$e=new z(W.getBottomLeft().subtract([Ae,-Ae]),W.getTopRight().add([Ae,-Ae]));if(!(isFinite(W.min.x)&&isFinite(W.min.y)&&isFinite(W.max.x)&&isFinite(W.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var st in this._tiles){var vt=this._tiles[st].coords;(vt.z!==this._tileZoom||!$e.contains(new Y(vt.x,vt.y)))&&(this._tiles[st].current=!1)}if(Math.abs(C-this._tileZoom)>1){this._setView(m,C);return}for(var Zt=W.min.y;Zt<=W.max.y;Zt++)for(var Cr=W.min.x;Cr<=W.max.x;Cr++){var mn=new Y(Cr,Zt);if(mn.z=this._tileZoom,!!this._isValidTile(mn)){var Ja=this._tiles[this._tileCoordsToKey(mn)];Ja?Ja.current=!0:ve.push(mn)}}if(ve.sort(function(Yn,kd){return Yn.distanceTo(oe)-kd.distanceTo(oe)}),ve.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var xs=document.createDocumentFragment();for(Cr=0;Cr<ve.length;Cr++)this._addTile(ve[Cr],xs);this._level.el.appendChild(xs)}}}},_isValidTile:function(m){var y=this._map.options.crs;if(!y.infinite){var C=this._globalTileRange;if(!y.wrapLng&&(m.x<C.min.x||m.x>C.max.x)||!y.wrapLat&&(m.y<C.min.y||m.y>C.max.y))return!1}if(!this.options.bounds)return!0;var O=this._tileCoordsToBounds(m);return $(this.options.bounds).overlaps(O)},_keyToBounds:function(m){return this._tileCoordsToBounds(this._keyToTileCoords(m))},_tileCoordsToNwSe:function(m){var y=this._map,C=this.getTileSize(),O=m.scaleBy(C),W=O.add(C),oe=y.unproject(O,m.z),ve=y.unproject(W,m.z);return[oe,ve]},_tileCoordsToBounds:function(m){var y=this._tileCoordsToNwSe(m),C=new F(y[0],y[1]);return this.options.noWrap||(C=this._map.wrapLatLngBounds(C)),C},_tileCoordsToKey:function(m){return m.x+":"+m.y+":"+m.z},_keyToTileCoords:function(m){var y=m.split(":"),C=new Y(+y[0],+y[1]);return C.z=+y[2],C},_removeTile:function(m){var y=this._tiles[m];y&&(xr(y.el),delete this._tiles[m],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(m)}))},_initTile:function(m){We(m,"leaflet-tile");var y=this.getTileSize();m.style.width=y.x+"px",m.style.height=y.y+"px",m.onselectstart=h,m.onmousemove=h,gt.ielt9&&this.options.opacity<1&&Mr(m,this.options.opacity)},_addTile:function(m,y){var C=this._getTilePos(m),O=this._tileCoordsToKey(m),W=this.createTile(this._wrapCoords(m),o(this._tileReady,this,m));this._initTile(W),this.createTile.length<2&&Z(o(this._tileReady,this,m,null,W)),Vt(W,C),this._tiles[O]={el:W,coords:m,current:!0},y.appendChild(W),this.fire("tileloadstart",{tile:W,coords:m})},_tileReady:function(m,y,C){y&&this.fire("tileerror",{error:y,tile:C,coords:m});var O=this._tileCoordsToKey(m);C=this._tiles[O],C&&(C.loaded=+new Date,this._map._fadeAnimated?(Mr(C.el,0),B(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(C.active=!0,this._pruneTiles()),y||(We(C.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:C.el,coords:m})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),gt.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(m){return m.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(m){var y=new Y(this._wrapX?g(m.x,this._wrapX):m.x,this._wrapY?g(m.y,this._wrapY):m.y);return y.z=m.z,y},_pxBoundsToTileRange:function(m){var y=this.getTileSize();return new z(m.min.unscaleBy(y).floor(),m.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var m in this._tiles)if(!this._tiles[m].loaded)return!1;return!0}});function xd(m){return new Lo(m)}var $o=Lo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(m,y){this._url=m,y=j(this,y),y.detectRetina&&gt.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(m,y){return this._url===m&&y===void 0&&(y=!0),this._url=m,y||this.redraw(),this},createTile:function(m,y){var C=document.createElement("img");return dr(C,"load",o(this._tileOnLoad,this,y,C)),dr(C,"error",o(this._tileOnError,this,y,C)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(C.referrerPolicy=this.options.referrerPolicy),C.alt="",C.src=this.getTileUrl(m),C},getTileUrl:function(m){var y={r:gt.retina?"@2x":"",s:this._getSubdomain(m),x:m.x,y:m.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var C=this._globalTileRange.max.y-m.y;this.options.tms&&(y.y=C),y["-y"]=C}return M(this._url,s(y,this.options))},_tileOnLoad:function(m,y){gt.ielt9?setTimeout(o(m,this,null,y),0):m(null,y)},_tileOnError:function(m,y,C){var O=this.options.errorTileUrl;O&&y.getAttribute("src")!==O&&(y.src=O),m(C,y)},_onTileRemove:function(m){m.tile.onload=null},_getZoomForUrl:function(){var m=this._tileZoom,y=this.options.maxZoom,C=this.options.zoomReverse,O=this.options.zoomOffset;return C&&(m=y-m),m+O},_getSubdomain:function(m){var y=Math.abs(m.x+m.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var m,y;for(m in this._tiles)if(this._tiles[m].coords.z!==this._tileZoom&&(y=this._tiles[m].el,y.onload=h,y.onerror=h,!y.complete)){y.src=I;var C=this._tiles[m].coords;xr(y),delete this._tiles[m],this.fire("tileabort",{tile:y,coords:C})}},_removeTile:function(m){var y=this._tiles[m];if(y)return y.el.setAttribute("src",I),Lo.prototype._removeTile.call(this,m)},_tileReady:function(m,y,C){if(!(!this._map||C&&C.getAttribute("src")===I))return Lo.prototype._tileReady.call(this,m,y,C)}});function Ng(m,y){return new $o(m,y)}var fc=$o.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(m,y){this._url=m;var C=s({},this.defaultWmsParams);for(var O in y)O in this.options||(C[O]=y[O]);y=j(this,y);var W=y.detectRetina&&gt.retina?2:1,oe=this.getTileSize();C.width=oe.x*W,C.height=oe.y*W,this.wmsParams=C},onAdd:function(m){this._crs=this.options.crs||m.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,$o.prototype.onAdd.call(this,m)},getTileUrl:function(m){var y=this._tileCoordsToNwSe(m),C=this._crs,O=V(C.project(y[0]),C.project(y[1])),W=O.min,oe=O.max,ve=(this._wmsVersion>=1.3&&this._crs===of?[W.y,W.x,oe.y,oe.x]:[W.x,W.y,oe.x,oe.y]).join(","),Ae=$o.prototype.getTileUrl.call(this,m);return Ae+w(this.wmsParams,Ae,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ve},setParams:function(m,y){return s(this.wmsParams,m),y||this.redraw(),this}});function ff(m,y){return new fc(m,y)}$o.WMS=fc,Ng.wms=ff;var Pi=ni.extend({options:{padding:.1},initialize:function(m){j(this,m),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),We(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var m={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(m.zoomanim=this._onAnimZoom),m},_onAnimZoom:function(m){this._updateTransform(m.center,m.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(m,y){var C=this._map.getZoomScale(y,this._zoom),O=this._map.getSize().multiplyBy(.5+this.options.padding),W=this._map.project(this._center,y),oe=O.multiplyBy(-C).add(W).subtract(this._map._getNewPixelOrigin(m,y));gt.any3d?dt(this._container,oe,C):Vt(this._container,oe)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var m in this._layers)this._layers[m]._reset()},_onZoomEnd:function(){for(var m in this._layers)this._layers[m]._project()},_updatePaths:function(){for(var m in this._layers)this._layers[m]._update()},_update:function(){var m=this.options.padding,y=this._map.getSize(),C=this._map.containerPointToLayerPoint(y.multiplyBy(-m)).round();this._bounds=new z(C,C.add(y.multiplyBy(1+m*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Cg=Pi.extend({options:{tolerance:0},getEvents:function(){var m=Pi.prototype.getEvents.call(this);return m.viewprereset=this._onViewPreReset,m},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Pi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var m=this._container=document.createElement("canvas");dr(m,"mousemove",this._onMouseMove,this),dr(m,"click dblclick mousedown mouseup contextmenu",this._onClick,this),dr(m,"mouseout",this._handleMouseOut,this),m._leaflet_disable_events=!0,this._ctx=m.getContext("2d")},_destroyContainer:function(){B(this._redrawRequest),delete this._ctx,xr(this._container),ea(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var m;this._redrawBounds=null;for(var y in this._layers)m=this._layers[y],m._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pi.prototype._update.call(this);var m=this._bounds,y=this._container,C=m.getSize(),O=gt.retina?2:1;Vt(y,m.min),y.width=O*C.x,y.height=O*C.y,y.style.width=C.x+"px",y.style.height=C.y+"px",gt.retina&&this._ctx.scale(2,2),this._ctx.translate(-m.min.x,-m.min.y),this.fire("update")}},_reset:function(){Pi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(m){this._updateDashArray(m),this._layers[d(m)]=m;var y=m._order={layer:m,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(m){this._requestRedraw(m)},_removePath:function(m){var y=m._order,C=y.next,O=y.prev;C?C.prev=O:this._drawLast=O,O?O.next=C:this._drawFirst=C,delete m._order,delete this._layers[d(m)],this._requestRedraw(m)},_updatePath:function(m){this._extendRedrawBounds(m),m._project(),m._update(),this._requestRedraw(m)},_updateStyle:function(m){this._updateDashArray(m),this._requestRedraw(m)},_updateDashArray:function(m){if(typeof m.options.dashArray=="string"){var y=m.options.dashArray.split(/[, ]+/),C=[],O,W;for(W=0;W<y.length;W++){if(O=Number(y[W]),isNaN(O))return;C.push(O)}m.options._dashArray=C}else m.options._dashArray=m.options.dashArray},_requestRedraw:function(m){this._map&&(this._extendRedrawBounds(m),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(m){if(m._pxBounds){var y=(m.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(m._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(m._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var m=this._redrawBounds;if(m){var y=m.getSize();this._ctx.clearRect(m.min.x,m.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var m,y=this._redrawBounds;if(this._ctx.save(),y){var C=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,C.x,C.y),this._ctx.clip()}this._drawing=!0;for(var O=this._drawFirst;O;O=O.next)m=O.layer,(!y||m._pxBounds&&m._pxBounds.intersects(y))&&m._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(m,y){if(this._drawing){var C,O,W,oe,ve=m._parts,Ae=ve.length,$e=this._ctx;if(Ae){for($e.beginPath(),C=0;C<Ae;C++){for(O=0,W=ve[C].length;O<W;O++)oe=ve[C][O],$e[O?"lineTo":"moveTo"](oe.x,oe.y);y&&$e.closePath()}this._fillStroke($e,m)}}},_updateCircle:function(m){if(!(!this._drawing||m._empty())){var y=m._point,C=this._ctx,O=Math.max(Math.round(m._radius),1),W=(Math.max(Math.round(m._radiusY),1)||O)/O;W!==1&&(C.save(),C.scale(1,W)),C.beginPath(),C.arc(y.x,y.y/W,O,0,Math.PI*2,!1),W!==1&&C.restore(),this._fillStroke(C,m)}},_fillStroke:function(m,y){var C=y.options;C.fill&&(m.globalAlpha=C.fillOpacity,m.fillStyle=C.fillColor||C.color,m.fill(C.fillRule||"evenodd")),C.stroke&&C.weight!==0&&(m.setLineDash&&m.setLineDash(y.options&&y.options._dashArray||[]),m.globalAlpha=C.opacity,m.lineWidth=C.weight,m.strokeStyle=C.color,m.lineCap=C.lineCap,m.lineJoin=C.lineJoin,m.stroke())},_onClick:function(m){for(var y=this._map.mouseEventToLayerPoint(m),C,O,W=this._drawFirst;W;W=W.next)C=W.layer,C.options.interactive&&C._containsPoint(y)&&(!(m.type==="click"||m.type==="preclick")||!this._map._draggableMoved(C))&&(O=C);this._fireEvent(O?[O]:!1,m)},_onMouseMove:function(m){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(m);this._handleMouseHover(m,y)}},_handleMouseOut:function(m){var y=this._hoveredLayer;y&&(Je(this._container,"leaflet-interactive"),this._fireEvent([y],m,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(m,y){if(!this._mouseHoverThrottled){for(var C,O,W=this._drawFirst;W;W=W.next)C=W.layer,C.options.interactive&&C._containsPoint(y)&&(O=C);O!==this._hoveredLayer&&(this._handleMouseOut(m),O&&(We(this._container,"leaflet-interactive"),this._fireEvent([O],m,"mouseover"),this._hoveredLayer=O)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,m),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(m,y,C){this._map._fireDOMEvent(y,C||y.type,m)},_bringToFront:function(m){var y=m._order;if(y){var C=y.next,O=y.prev;if(C)C.prev=O;else return;O?O.next=C:C&&(this._drawFirst=C),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(m)}},_bringToBack:function(m){var y=m._order;if(y){var C=y.next,O=y.prev;if(O)O.next=C;else return;C?C.prev=O:O&&(this._drawLast=O),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(m)}}});function Sg(m){return gt.canvas?new Cg(m):null}var yd=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(m){return document.createElement("<lvml:"+m+' class="lvml">')}}catch{}return function(m){return document.createElement("<"+m+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),pf={_initContainer:function(){this._container=_t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Pi.prototype._update.call(this),this.fire("update"))},_initPath:function(m){var y=m._container=yd("shape");We(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",m._path=yd("path"),y.appendChild(m._path),this._updateStyle(m),this._layers[d(m)]=m},_addPath:function(m){var y=m._container;this._container.appendChild(y),m.options.interactive&&m.addInteractiveTarget(y)},_removePath:function(m){var y=m._container;xr(y),m.removeInteractiveTarget(y),delete this._layers[d(m)]},_updateStyle:function(m){var y=m._stroke,C=m._fill,O=m.options,W=m._container;W.stroked=!!O.stroke,W.filled=!!O.fill,O.stroke?(y||(y=m._stroke=yd("stroke")),W.appendChild(y),y.weight=O.weight+"px",y.color=O.color,y.opacity=O.opacity,O.dashArray?y.dashStyle=T(O.dashArray)?O.dashArray.join(" "):O.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=O.lineCap.replace("butt","flat"),y.joinstyle=O.lineJoin):y&&(W.removeChild(y),m._stroke=null),O.fill?(C||(C=m._fill=yd("fill")),W.appendChild(C),C.color=O.fillColor||O.color,C.opacity=O.fillOpacity):C&&(W.removeChild(C),m._fill=null)},_updateCircle:function(m){var y=m._point.round(),C=Math.round(m._radius),O=Math.round(m._radiusY||C);this._setPath(m,m._empty()?"M0 0":"AL "+y.x+","+y.y+" "+C+","+O+" 0,"+65535*360)},_setPath:function(m,y){m._path.v=y},_bringToFront:function(m){Me(m._container)},_bringToBack:function(m){Ge(m._container)}},ii=gt.vml?yd:le,yl=Pi.extend({_initContainer:function(){this._container=ii("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ii("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){xr(this._container),ea(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pi.prototype._update.call(this);var m=this._bounds,y=m.getSize(),C=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,C.setAttribute("width",y.x),C.setAttribute("height",y.y)),Vt(C,m.min),C.setAttribute("viewBox",[m.min.x,m.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(m){var y=m._path=ii("path");m.options.className&&We(y,m.options.className),m.options.interactive&&We(y,"leaflet-interactive"),this._updateStyle(m),this._layers[d(m)]=m},_addPath:function(m){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(m._path),m.addInteractiveTarget(m._path)},_removePath:function(m){xr(m._path),m.removeInteractiveTarget(m._path),delete this._layers[d(m)]},_updatePath:function(m){m._project(),m._update()},_updateStyle:function(m){var y=m._path,C=m.options;y&&(C.stroke?(y.setAttribute("stroke",C.color),y.setAttribute("stroke-opacity",C.opacity),y.setAttribute("stroke-width",C.weight),y.setAttribute("stroke-linecap",C.lineCap),y.setAttribute("stroke-linejoin",C.lineJoin),C.dashArray?y.setAttribute("stroke-dasharray",C.dashArray):y.removeAttribute("stroke-dasharray"),C.dashOffset?y.setAttribute("stroke-dashoffset",C.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),C.fill?(y.setAttribute("fill",C.fillColor||C.color),y.setAttribute("fill-opacity",C.fillOpacity),y.setAttribute("fill-rule",C.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(m,y){this._setPath(m,xe(m._parts,y))},_updateCircle:function(m){var y=m._point,C=Math.max(Math.round(m._radius),1),O=Math.max(Math.round(m._radiusY),1)||C,W="a"+C+","+O+" 0 1,0 ",oe=m._empty()?"M0 0":"M"+(y.x-C)+","+y.y+W+C*2+",0 "+W+-C*2+",0 ";this._setPath(m,oe)},_setPath:function(m,y){m._path.setAttribute("d",y)},_bringToFront:function(m){Me(m._path)},_bringToBack:function(m){Ge(m._path)}});gt.vml&&yl.include(pf);function Ru(m){return gt.svg||gt.vml?new yl(m):null}Er.include({getRenderer:function(m){var y=m.options.renderer||this._getPaneRenderer(m.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(m){if(m==="overlayPane"||m===void 0)return!1;var y=this._paneRenderers[m];return y===void 0&&(y=this._createRenderer({pane:m}),this._paneRenderers[m]=y),y},_createRenderer:function(m){return this.options.preferCanvas&&Sg(m)||Ru(m)}});var xf=ao.extend({initialize:function(m,y){ao.prototype.initialize.call(this,this._boundsToLatLngs(m),y)},setBounds:function(m){return this.setLatLngs(this._boundsToLatLngs(m))},_boundsToLatLngs:function(m){return m=$(m),[m.getSouthWest(),m.getNorthWest(),m.getNorthEast(),m.getSouthEast()]}});function Cv(m,y){return new xf(m,y)}yl.create=ii,yl.pointsToPath=xe,Ci.geometryToLayer=gd,Ci.coordsToLatLng=Tu,Ci.coordsToLatLngs=gc,Ci.latLngToCoords=Iu,Ci.latLngsToCoords=Au,Ci.getFeature=hd,Ci.asFeature=Eu,Er.mergeOptions({boxZoom:!0});var bd=Os.extend({initialize:function(m){this._map=m,this._container=m._container,this._pane=m._panes.overlayPane,this._resetStateTimeout=0,m.on("unload",this._destroy,this)},addHooks:function(){dr(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ea(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){xr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(m){if(!m.shiftKey||m.which!==1&&m.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Nr(),ul(),this._startPoint=this._map.mouseEventToContainerPoint(m),dr(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(m){this._moved||(this._moved=!0,this._box=_t("div","leaflet-zoom-box",this._container),We(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(m);var y=new z(this._point,this._startPoint),C=y.getSize();Vt(this._box,y.min),this._box.style.width=C.x+"px",this._box.style.height=C.y+"px"},_finish:function(){this._moved&&(xr(this._box),Je(this._container,"leaflet-crosshair")),wi(),ic(),ea(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(m){if(!(m.which!==1&&m.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var y=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(m){m.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Er.addInitHook("addHandler","boxZoom",bd),Er.mergeOptions({doubleClickZoom:!0});var yf=Os.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(m){var y=this._map,C=y.getZoom(),O=y.options.zoomDelta,W=m.originalEvent.shiftKey?C-O:C+O;y.options.doubleClickZoom==="center"?y.setZoom(W):y.setZoomAround(m.containerPoint,W)}});Er.addInitHook("addHandler","doubleClickZoom",yf),Er.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Pg=Os.extend({addHooks:function(){if(!this._draggable){var m=this._map;this._draggable=new ai(m._mapPane,m._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),m.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),m.on("zoomend",this._onZoomEnd,this),m.whenReady(this._onZoomEnd,this))}We(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Je(this._map._container,"leaflet-grab"),Je(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var m=this._map;if(m._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=$(this._map.options.maxBounds);this._offsetLimit=V(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;m.fire("movestart").fire("dragstart"),m.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(m){if(this._map.options.inertia){var y=this._lastTime=+new Date,C=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(C),this._times.push(y),this._prunePositions(y)}this._map.fire("move",m).fire("drag",m)},_prunePositions:function(m){for(;this._positions.length>1&&m-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var m=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(m).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(m,y){return m-(m-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var m=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;m.x<y.min.x&&(m.x=this._viscousLimit(m.x,y.min.x)),m.y<y.min.y&&(m.y=this._viscousLimit(m.y,y.min.y)),m.x>y.max.x&&(m.x=this._viscousLimit(m.x,y.max.x)),m.y>y.max.y&&(m.y=this._viscousLimit(m.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(m)}},_onPreDragWrap:function(){var m=this._worldWidth,y=Math.round(m/2),C=this._initialWorldOffset,O=this._draggable._newPos.x,W=(O-y+C)%m+y-C,oe=(O+y+C)%m-y-C,ve=Math.abs(W+C)<Math.abs(oe+C)?W:oe;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ve},_onDragEnd:function(m){var y=this._map,C=y.options,O=!C.inertia||m.noInertia||this._times.length<2;if(y.fire("dragend",m),O)y.fire("moveend");else{this._prunePositions(+new Date);var W=this._lastPos.subtract(this._positions[0]),oe=(this._lastTime-this._times[0])/1e3,ve=C.easeLinearity,Ae=W.multiplyBy(ve/oe),$e=Ae.distanceTo([0,0]),st=Math.min(C.inertiaMaxSpeed,$e),vt=Ae.multiplyBy(st/$e),Zt=st/(C.inertiaDeceleration*ve),Cr=vt.multiplyBy(-Zt/2).round();!Cr.x&&!Cr.y?y.fire("moveend"):(Cr=y._limitOffset(Cr,y.options.maxBounds),Z(function(){y.panBy(Cr,{duration:Zt,easeLinearity:ve,noMoveStart:!0,animate:!0})}))}}});Er.addInitHook("addHandler","dragging",Pg),Er.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Mg=Os.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(m){this._map=m,this._setPanDelta(m.options.keyboardPanDelta),this._setZoomDelta(m.options.zoomDelta)},addHooks:function(){var m=this._map._container;m.tabIndex<=0&&(m.tabIndex="0"),dr(m,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ea(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var m=document.body,y=document.documentElement,C=m.scrollTop||y.scrollTop,O=m.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(O,C)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(m){var y=this._panKeys={},C=this.keyCodes,O,W;for(O=0,W=C.left.length;O<W;O++)y[C.left[O]]=[-1*m,0];for(O=0,W=C.right.length;O<W;O++)y[C.right[O]]=[m,0];for(O=0,W=C.down.length;O<W;O++)y[C.down[O]]=[0,m];for(O=0,W=C.up.length;O<W;O++)y[C.up[O]]=[0,-1*m]},_setZoomDelta:function(m){var y=this._zoomKeys={},C=this.keyCodes,O,W;for(O=0,W=C.zoomIn.length;O<W;O++)y[C.zoomIn[O]]=m;for(O=0,W=C.zoomOut.length;O<W;O++)y[C.zoomOut[O]]=-m},_addHooks:function(){dr(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ea(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(m){if(!(m.altKey||m.ctrlKey||m.metaKey)){var y=m.keyCode,C=this._map,O;if(y in this._panKeys){if(!C._panAnim||!C._panAnim._inProgress)if(O=this._panKeys[y],m.shiftKey&&(O=ne(O).multiplyBy(3)),C.options.maxBounds&&(O=C._limitOffset(ne(O),C.options.maxBounds)),C.options.worldCopyJump){var W=C.wrapLatLng(C.unproject(C.project(C.getCenter()).add(O)));C.panTo(W)}else C.panBy(O)}else if(y in this._zoomKeys)C.setZoom(C.getZoom()+(m.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&C._popup&&C._popup.options.closeOnEscapeKey)C.closePopup();else return;ri(m)}}});Er.addInitHook("addHandler","keyboard",Mg),Er.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ta=Os.extend({addHooks:function(){dr(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ea(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(m){var y=X0(m),C=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(m),this._startTime||(this._startTime=+new Date);var O=Math.max(C-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),O),ri(m)},_performZoom:function(){var m=this._map,y=m.getZoom(),C=this._map.options.zoomSnap||0;m._stop();var O=this._delta/(this._map.options.wheelPxPerZoomLevel*4),W=4*Math.log(2/(1+Math.exp(-Math.abs(O))))/Math.LN2,oe=C?Math.ceil(W/C)*C:W,ve=m._limitZoom(y+(this._delta>0?oe:-oe))-y;this._delta=0,this._startTime=null,ve&&(m.options.scrollWheelZoom==="center"?m.setZoom(y+ve):m.setZoomAround(this._lastMousePos,y+ve))}});Er.addInitHook("addHandler","scrollWheelZoom",ta);var Tg=600;Er.mergeOptions({tapHold:gt.touchNative&&gt.safari&&gt.mobile,tapTolerance:15});var pc=Os.extend({addHooks:function(){dr(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ea(this._map._container,"touchstart",this._onDown,this)},_onDown:function(m){if(clearTimeout(this._holdTimeout),m.touches.length===1){var y=m.touches[0];this._startPos=this._newPos=new Y(y.clientX,y.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(dr(document,"touchend",Ta),dr(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),Tg),dr(document,"touchend touchcancel contextmenu",this._cancel,this),dr(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function m(){ea(document,"touchend",Ta),ea(document,"touchend touchcancel",m)},_cancel:function(){clearTimeout(this._holdTimeout),ea(document,"touchend touchcancel contextmenu",this._cancel,this),ea(document,"touchmove",this._onMove,this)},_onMove:function(m){var y=m.touches[0];this._newPos=new Y(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(m,y){var C=new MouseEvent(m,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});C._simulated=!0,y.target.dispatchEvent(C)}});Er.addInitHook("addHandler","tapHold",pc),Er.mergeOptions({touchZoom:gt.touch,bounceAtZoomLimits:!0});var vd=Os.extend({addHooks:function(){We(this._map._container,"leaflet-touch-zoom"),dr(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),ea(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(m){var y=this._map;if(!(!m.touches||m.touches.length!==2||y._animatingZoom||this._zooming)){var C=y.mouseEventToContainerPoint(m.touches[0]),O=y.mouseEventToContainerPoint(m.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(C.add(O)._divideBy(2))),this._startDist=C.distanceTo(O),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),dr(document,"touchmove",this._onTouchMove,this),dr(document,"touchend touchcancel",this._onTouchEnd,this),Ta(m)}},_onTouchMove:function(m){if(!(!m.touches||m.touches.length!==2||!this._zooming)){var y=this._map,C=y.mouseEventToContainerPoint(m.touches[0]),O=y.mouseEventToContainerPoint(m.touches[1]),W=C.distanceTo(O)/this._startDist;if(this._zoom=y.getScaleZoom(W,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&W<1||this._zoom>y.getMaxZoom()&&W>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,W===1)return}else{var oe=C._add(O)._divideBy(2)._subtract(this._centerPoint);if(W===1&&oe.x===0&&oe.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(oe),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),B(this._animRequest);var ve=o(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(ve,this,!0),Ta(m)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,B(this._animRequest),ea(document,"touchmove",this._onTouchMove,this),ea(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Er.addInitHook("addHandler","touchZoom",vd),Er.BoxZoom=bd,Er.DoubleClickZoom=yf,Er.Drag=Pg,Er.Keyboard=Mg,Er.ScrollWheelZoom=ta,Er.TapHold=pc,Er.TouchZoom=vd,a.Bounds=z,a.Browser=gt,a.CRS=Q,a.Canvas=Cg,a.Circle=Pu,a.CircleMarker=Su,a.Class=J,a.Control=fs,a.DivIcon=Ou,a.DivOverlay=Si,a.DomEvent=ku,a.DomUtil=oc,a.Draggable=ai,a.Evented=K,a.FeatureGroup=to,a.GeoJSON=Ci,a.GridLayer=Lo,a.Handler=Os,a.Icon=xl,a.ImageOverlay=Bo,a.LatLng=q,a.LatLngBounds=F,a.Layer=ni,a.LayerGroup=Ro,a.LineUtil=sf,a.Map=Er,a.Marker=ro,a.Mixin=mg,a.Path=Do,a.Point=Y,a.PolyUtil=hv,a.Polygon=ao,a.Polyline=ps,a.Popup=_u,a.PosAnimation=wu,a.Projection=bv,a.Rectangle=xf,a.Renderer=Pi,a.SVG=yl,a.SVGOverlay=wg,a.TileLayer=$o,a.Tooltip=pd,a.Transformation=fe,a.Util=G,a.VideoOverlay=kg,a.bind=o,a.bounds=V,a.canvas=Sg,a.circle=mc,a.circleMarker=cf,a.control=Oo,a.divIcon=hf,a.extend=s,a.featureGroup=lf,a.geoJSON=uf,a.geoJson=si,a.gridLayer=xd,a.icon=df,a.imageOverlay=mf,a.latLng=H,a.latLngBounds=$,a.layerGroup=uc,a.map=_o,a.marker=wv,a.point=ne,a.polygon=Nv,a.polyline=jv,a.popup=fd,a.rectangle=Cv,a.setOptions=j,a.stamp=d,a.svg=Ru,a.svgOverlay=jg,a.tileLayer=Ng,a.tooltip=hc,a.transformation=se,a.version=n,a.videoOverlay=gf;var bf=window.L;a.noConflict=function(){return window.L=bf,this},window.L=a}))})(fh,fh.exports)),fh.exports}var ob=JZ();const lb=Mo(ob);function wR(e,t,a){return Object.freeze({instance:e,context:t,container:a})}function jR(e,t){return t==null?function(n,s){const i=p.useRef();return i.current||(i.current=e(n,s)),i}:function(n,s){const i=p.useRef();i.current||(i.current=e(n,s));const o=p.useRef(n),{instance:l}=i.current;return p.useEffect(function(){o.current!==n&&(t(l,n,o.current),o.current=n)},[l,n,s]),i}}function eX(e,t){p.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function NR(e){return function(a){const n=vR(),s=e(kR(a,n),n);return HZ(n.map,a.attribution),ZZ(s.current,a.eventHandlers),eX(s.current,n),s}}function tX(e,t){const a=jR(e,t),n=NR(a);return GZ(n)}function rX(e,t){const a=jR(e,t),n=NR(a);return YZ(n)}function aX(e,t,a){const{opacity:n,zIndex:s}=t;n!=null&&n!==a.opacity&&e.setOpacity(n),s!=null&&s!==a.zIndex&&e.setZIndex(s)}function R2(){return vR().map}function CR(e){const t=R2();return p.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function IN(){return IN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},IN.apply(this,arguments)}function nX({bounds:e,boundsOptions:t,center:a,children:n,className:s,id:i,placeholder:o,style:l,whenReady:d,zoom:c,...g},h){const[x]=p.useState({className:s,id:i,style:l}),[b,v]=p.useState(null);p.useImperativeHandle(h,()=>b?.map??null,[b]);const j=p.useCallback(S=>{if(S!==null&&b===null){const M=new ob.Map(S,g);a!=null&&c!=null?M.setView(a,c):e!=null&&M.fitBounds(e,t),d!=null&&M.whenReady(d),v(KZ(M))}},[]);p.useEffect(()=>()=>{b?.map.remove()},[b]);const w=b?Lr.createElement(bR,{value:b},n):o??null;return Lr.createElement("div",IN({},x,{ref:j}),w)}const SR=p.forwardRef(nX),PR=tX(function({position:t,...a},n){const s=new ob.Marker(t,a);return wR(s,QZ(n,{overlayContainer:s}))},function(t,a,n){a.position!==n.position&&t.setLatLng(a.position),a.icon!=null&&a.icon!==n.icon&&t.setIcon(a.icon),a.zIndexOffset!=null&&a.zIndexOffset!==n.zIndexOffset&&t.setZIndexOffset(a.zIndexOffset),a.opacity!=null&&a.opacity!==n.opacity&&t.setOpacity(a.opacity),t.dragging!=null&&a.draggable!==n.draggable&&(a.draggable===!0?t.dragging.enable():t.dragging.disable())}),MR=rX(function({url:t,...a},n){const s=new ob.TileLayer(t,kR(a,n));return wR(s,n)},function(t,a,n){aX(t,a,n);const{url:s}=a;s!=null&&s!==n.url&&t.setUrl(s)}),TR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",IR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",AR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete lb.Icon.Default.prototype._getIconUrl;lb.Icon.Default.mergeOptions({iconUrl:IR,iconRetinaUrl:TR,shadowUrl:AR});const sX="https://media.istockphoto.com/id/2173059563/vector/coming-soon-image-on-white-background-no-photo-available.jpg?s=612x612&w=0&k=20&c=v0a_B58wPFNDPULSiw_BmPyhSNCyrP_d17i2BPPyDTk=",iX=()=>{const e=Ra(),t=gs(),{t:a,isRTL:n}=Ze(),[s,i]=p.useState(1),[o,l]=p.useState(!1),[d,c]=p.useState({}),[g,h]=p.useState(""),[x,b]=p.useState(""),[v,j]=p.useState(null),[w,S]=p.useState(null),[M,T]=p.useState(null),[A,I]=p.useState(null),[_,D]=p.useState(!1),[E,X]=p.useState("+90"),[ee,Z]=p.useState("+90"),[B,G]=p.useState(!1),[J,ce]=p.useState({lat:41.0082,lng:28.9784}),[te,K]=p.useState(""),[Y,re]=p.useState(""),[ne,z]=p.useState({branchName:"",whatsappOrderNumber:"",restaurantId:0,branchLogoPath:null,createAddressDto:{country:"",city:"",street:"",zipCode:"",addressLine1:"",addressLine2:""},createContactDto:{phone:"",mail:"",location:"",contactHeader:"",footerTitle:"",footerDescription:"",openTitle:"",openDays:"",openHours:""},createBranchWorkingHourCoreDto:[{dayOfWeek:1,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:2,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:3,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:4,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:5,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:6,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:0,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!1}]}),V=ge=>`${ge}:00`,F=ge=>ge.substring(0,5),$=(ge,ye)=>{const Be=new Date(`2000-01-01T${ge}`),Qe=new Date(`2000-01-01T${ye}`);if(Qe<=Be){const Ce=(new Date(`2000-01-02T${ye}`).getTime()-Be.getTime())/(1e3*60*60);return Ce<=12&&Ce>0}return Qe>Be},q=[a("onboardingBranch.form.step3.workingHours.dayNames.0"),a("onboardingBranch.form.step3.workingHours.dayNames.1"),a("onboardingBranch.form.step3.workingHours.dayNames.2"),a("onboardingBranch.form.step3.workingHours.dayNames.3"),a("onboardingBranch.form.step3.workingHours.dayNames.4"),a("onboardingBranch.form.step3.workingHours.dayNames.5"),a("onboardingBranch.form.step3.workingHours.dayNames.6")];p.useEffect(()=>{const ge=t.state?.restaurantId,ye=localStorage.getItem("onboarding_restaurantId");let Be=null;if(ge){const Qe=parseInt(ge);!isNaN(Qe)&&Qe>0&&(Be=Qe)}else if(ye){const Qe=parseInt(ye);!isNaN(Qe)&&Qe>0&&(Be=Qe)}Be?(j(Be),z(Qe=>({...Qe,restaurantId:Be})),H(Be)):N.warn("RestaurantId bulunamad! OnboardingRestaurant sayfasna ynlendirilecek.")},[t.state]);const H=async ge=>{try{const ye=localStorage.getItem("restaurantLogoPath");if(ye){S(ye);return}const Be=await ws.getRestaurantManagementInfo();Be&&Be.restaurantLogoPath&&S(Be.restaurantLogoPath)}catch(ye){N.error("Restaurant bilgileri alnrken hata olutu",ye)}},Q=ge=>{const{name:ye,value:Be}=ge.target;if(ye.startsWith("address.")){const Qe=ye.split(".")[1];z(pt=>({...pt,createAddressDto:{...pt.createAddressDto,[Qe]:Be||""}}))}else if(ye.startsWith("contact.")){const Qe=ye.split(".")[1];z(pt=>({...pt,createContactDto:{...pt.createContactDto,[Qe]:Be||""}}))}else z(Qe=>({...Qe,[ye]:Be||""}));d[ye]&&c(Qe=>({...Qe,[ye]:null}))},de=ge=>{const{value:ye}=ge.target,Be=ye.replace(/\D/g,"");z(Qe=>({...Qe,whatsappOrderNumber:Be})),d.whatsappOrderNumber&&c(Qe=>({...Qe,whatsappOrderNumber:void 0}))},me=ge=>{try{const ye=/@(-?\d+\.?\d*),(-?\d+\.?\d*)/,Be=ge.match(ye);if(Be)return{lat:parseFloat(Be[1]),lng:parseFloat(Be[2])};const Qe=/q=(-?\d+\.?\d*),(-?\d+\.?\d*)/,pt=ge.match(Qe);if(pt)return{lat:parseFloat(pt[1]),lng:parseFloat(pt[2])};const Ce=/place\/[^@]*@(-?\d+\.?\d*),(-?\d+\.?\d*)/,we=ge.match(Ce);if(we)return{lat:parseFloat(we[1]),lng:parseFloat(we[2])};const be=/!3d(-?\d+\.?\d*)!4d(-?\d+\.?\d*)/,Ie=ge.match(be);return Ie?{lat:parseFloat(Ie[1]),lng:parseFloat(Ie[2])}:null}catch(ye){return console.error("Error extracting coordinates:",ye),null}},je=ge=>{const ye=ge.target.value;if(K(ye),re(""),ye.trim()){const Be=me(ye);Be?(ce(Be),re("")):(ye.includes("google.com/maps")||ye.includes("maps.app.goo.gl"))&&re(a("onboardingBranch.form.step3.location.invalidLink")||"Could not extract coordinates from this link. Please try a different format.")}},fe=()=>{if(ne.createContactDto.location){const ge=ne.createContactDto.location.split(",");if(ge.length===2){const ye=parseFloat(ge[0].trim()),Be=parseFloat(ge[1].trim());!isNaN(ye)&&!isNaN(Be)&&ce({lat:ye,lng:Be})}}G(!0)},se=()=>{G(!1)},ie=()=>{const ge=`${J.lat.toFixed(6)},${J.lng.toFixed(6)}`;z(ye=>({...ye,createContactDto:{...ye.createContactDto,location:ge}})),G(!1),d["createContactDto.location"]&&c(ye=>({...ye,"createContactDto.location":void 0}))},ue=()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(ge=>{ce({lat:ge.coords.latitude,lng:ge.coords.longitude})},ge=>{console.error("Error getting location:",ge),alert(a("onboardingBranch.form.step3.location.geolocationError")||"Could not get your location. Please select manually.")}):alert(a("onboardingBranch.form.step3.location.geolocationNotSupported")||"Geolocation is not supported by your browser.")},le=(ge,ye,Be)=>{z(Qe=>({...Qe,createBranchWorkingHourCoreDto:Qe.createBranchWorkingHourCoreDto?.map((pt,Ce)=>Ce===ge?ye==="openTime"||ye==="closeTime"?{...pt,[ye]:V(Be)}:ye==="isWorkingDay"?{...pt,isWorkingDay:Be}:{...pt,[ye]:Be}:pt)||[]}))},xe=async ge=>{const ye=ge.target.files?.[0];if(ye){T(ye);const Be=new FileReader;Be.onload=Qe=>{I(Qe.target?.result)},Be.readAsDataURL(ye),await ze(ye)}},ze=async ge=>{const ye=ge||M;if(ye){D(!0);try{const Be=await Ki.uploadFile(ye);z(Qe=>({...Qe,branchLogoPath:Be})),T(null)}catch(Be){console.error("Logo ykleme hatas:",Be),h(a("onboardingBranch.messages.api.logoUploadError"))}finally{D(!1)}}},Le=ge=>{const ye={};switch(ge){case 1:ne.branchName?.trim()||(ye.branchName=a("onboardingBranch.form.step1.branchName.error")),ne.whatsappOrderNumber?.trim()?/^\d{7,15}$/.test(ne.whatsappOrderNumber.trim())||(ye.whatsappOrderNumber=a("onboardingBranch.form.step1.whatsappNumber.errorInvalid")):ye.whatsappOrderNumber=a("onboardingBranch.form.step1.whatsappNumber.error");break;case 2:ne.createAddressDto.country?.trim()||(ye["createAddressDto.country"]=a("onboardingBranch.form.step2.country.error")),ne.createAddressDto.city?.trim()||(ye["createAddressDto.city"]=a("onboardingBranch.form.step2.city.error"));break;case 3:ne.createContactDto.mail?.trim()||(ye["createContactDto.mail"]=a("onboardingBranch.form.step3.email.error"));const Be=ne.createBranchWorkingHourCoreDto?.filter(Qe=>Qe.isWorkingDay)||[];if(Be.length===0)ye.workingHours=a("onboardingBranch.form.step3.workingHours.error.minOneDay");else for(const Qe of Be){if(!Qe.openTime||!Qe.closeTime){ye.workingHours=a("onboardingBranch.form.step3.workingHours.error.allTimesRequired");break}if(!$(Qe.openTime,Qe.closeTime)){const pt=F(Qe.openTime),Ce=F(Qe.closeTime);Qe.closeTime<=Qe.openTime?ye.workingHours=a("onboardingBranch.form.step3.workingHours.error.invalidRange",{openTime:pt,closeTime:Ce}):ye.workingHours=a("onboardingBranch.form.step3.workingHours.error.openBeforeClose",{openTime:pt,closeTime:Ce});break}}break}return c(ye),Object.keys(ye).length===0},ut=()=>{Le(s)&&(i(ge=>ge+1),window.scrollTo({top:0,behavior:"smooth"}))},kt=()=>{i(ge=>ge-1),window.scrollTo({top:0,behavior:"smooth"})},qt=async ge=>{if(ge.preventDefault(),h(""),b(""),!Le(3))return;if(!v){h(a("onboardingBranch.messages.api.restaurantNotFound")),setTimeout(()=>{e("/onboarding/restaurant")},2e3);return}const ye=ne.createBranchWorkingHourCoreDto||[],Be=ye.filter(be=>be.isWorkingDay);if(Be.length===0){h(a("onboardingBranch.form.step3.workingHours.error.minOneDay"));return}for(const be of Be)if(!be.openTime||!be.closeTime){h(a("onboardingBranch.form.step3.workingHours.error.allTimesRequired"));return}let Qe=ne.branchLogoPath;!Qe&&w&&(Qe=w),Qe||(Qe=sX);const pt=ne.whatsappOrderNumber?`${E}${ne.whatsappOrderNumber.replace(/\D/g,"")}`:"",Ce=pt,we={branchName:ne.branchName?.trim()||null,whatsappOrderNumber:pt,restaurantId:v,branchLogoPath:Qe,createAddressDto:{country:ne.createAddressDto.country?.trim()||null,city:ne.createAddressDto.city?.trim()||null,street:ne.createAddressDto.street?.trim()||null,zipCode:ne.createAddressDto.zipCode?.trim()||null,addressLine1:ne.createAddressDto.addressLine1?.trim()||null,addressLine2:ne.createAddressDto.addressLine2?.trim()||null},createContactDto:{phone:Ce||"",mail:ne.createContactDto.mail?.trim()||null,location:ne.createContactDto.location?.trim()||null,contactHeader:ne.createContactDto.contactHeader?.trim()||null,footerTitle:ne.createContactDto.footerTitle?.trim()||null,footerDescription:ne.createContactDto.footerDescription?.trim()||null,openTitle:ne.createContactDto.openTitle?.trim()||null,openDays:ne.createContactDto.openDays?.trim()||null,openHours:ne.createContactDto.openHours?.trim()||null},createBranchWorkingHourCoreDto:ye};l(!0);try{const be=await oa.createOnboardingBranch(we);if(be.branchId){b(a("onboardingBranch.messages.successMessage"));const Ie=be.branchId;localStorage.setItem("onboarding_branchId",Ie.toString()),setTimeout(()=>{e("/onboarding/complete")},2e3)}else h(a("onboardingBranch.messages.api.branchIdMissing"))}catch(be){const Ie=be;if(Ie.status===400&&Ie.errors){const Se=[];for(const _e in Ie.errors){const Ye=Ie.errors[_e];Array.isArray(Ye)?Se.push(`${_e}: ${Ye.join(", ")}`):Se.push(`${_e}: ${Ye}`)}h(Se.join(`
`))}else Ie.status===409?h(a("onboardingBranch.messages.api.nameInUse")):Ie.status===0?h(a("onboardingBranch.messages.api.connectionError")):Ie.status===500?h(a("onboardingBranch.messages.api.serverError")):h(Ie.message||a("onboardingBranch.messages.api.genericCreateError"))}finally{l(!1)}},hr=({center:ge})=>{const ye=R2();return p.useEffect(()=>{ye.setView(ge,ye.getZoom())},[ge,ye]),null},jr=()=>(CR({click(ge){ce({lat:ge.latlng.lat,lng:ge.latlng.lng})}}),r.jsx(PR,{position:[J.lat,J.lng]})),nt=()=>(p.useEffect(()=>(B?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[B]),B?r.jsx(pr,{children:r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto ",dir:n?"rtl":"ltr",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:se,className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),r.jsxs(ke.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-5xl bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:`flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 ${n?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-3 ${n?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx(Qr,{className:"h-6 w-6 text-primary-600"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:a("onboardingBranch.form.step3.location.mapTitle")||" "})]}),r.jsx("button",{onClick:se,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(xt,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 ${n?"text-right":"text-left"}`,children:a("onboardingBranch.form.step3.location.googleMapsLink")||"   ()"}),r.jsxs("div",{className:"relative",children:[r.jsx(Wi,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",value:te,onChange:je,placeholder:a("onboardingBranch.form.step3.location.googleMapsLinkPlaceholder")||"https://maps.google.com/...",className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border ${Y?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600"} rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${n?"text-right":"text-left"}`,dir:"ltr"})]}),Y&&r.jsx("p",{className:`text-xs text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:Y}),r.jsx("p",{className:`text-xs text-gray-500 dark:text-gray-400 ${n?"text-right":"text-left"}`,children:a("onboardingBranch.form.step3.location.googleMapsLinkHelper")||"       "})]}),r.jsxs("button",{type:"button",onClick:ue,className:`w-full flex items-center justify-center space-x-2 px-4 py-3 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 text-blue-700 dark:text-blue-300 rounded-lg hover:from-blue-100 hover:to-indigo-100 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 transition-all duration-200 border border-blue-200 dark:border-blue-700 ${n?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx(GO,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:a("onboardingBranch.form.step3.location.useCurrentLocation")||"  "})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:[r.jsx("label",{className:`text-sm font-medium text-gray-700 dark:text-gray-300 ${n?"text-right":"text-left"}`,children:a("onboardingBranch.form.step3.location.interactiveMap")||" "}),r.jsx("span",{className:`text-xs text-gray-500 dark:text-gray-400 ${n?"text-right":"text-left"}`,children:a("onboardingBranch.form.step3.location.clickToPin")||"    "})]}),r.jsxs("div",{className:"relative w-full h-[400px] bg-gray-100 dark:bg-gray-700 rounded-xl overflow-hidden border-2 border-gray-300 dark:border-gray-600 shadow-inner",children:[r.jsxs(SR,{center:[J.lat,J.lng],zoom:13,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[r.jsx(MR,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.jsx(hr,{center:[J.lat,J.lng]}),r.jsx(jr,{})]}),r.jsx("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 z-[1000] pointer-events-none",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 py-2 rounded-full shadow-lg border border-gray-200 dark:border-gray-600",children:r.jsxs("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[r.jsx(Qr,{className:"h-4 w-4 text-primary-600"}),a("onboardingBranch.form.step3.location.markerPosition")||" "]})})})]}),r.jsxs("a",{href:`https://www.openstreetmap.org/?mlat=${J.lat}&mlon=${J.lng}#map=15/${J.lat}/${J.lng}`,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center text-xs text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 ${n?"flex-row-reverse":""}`,children:[r.jsx("span",{children:a("onboardingBranch.form.step3.location.openFullMap")||"   "}),r.jsx(Ui,{className:`h-3 w-3 ${n?"mr-1 rotate-180":"ml-1"}`})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 ${n?"text-right":"text-left"}`,children:a("onboardingBranch.form.step3.location.manualCoordinates")||" "}),r.jsxs("div",{className:`grid grid-cols-2 gap-4 ${n?"text-right":"text-left"}`,children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-xs font-medium text-gray-600 dark:text-gray-400 mb-2 ${n?"text-right":"text-left"}`,children:a("onboardingBranch.form.step3.location.latitude")||" "}),r.jsx("input",{title:"number",type:"number",step:"1",value:J.lat,onChange:ge=>{const ye=parseFloat(ge.target.value)||0;ye>=-90&&ye<=90&&ce(Be=>({...Be,lat:ye}))},className:`w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${n?"text-right":"text-left"}`,dir:"ltr",min:"-90",max:"90"})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-xs font-medium text-gray-600 dark:text-gray-400 mb-2 ${n?"text-right":"text-left"}`,children:a("onboardingBranch.form.step3.location.longitude")||" "}),r.jsx("input",{title:"bumber2",type:"number",step:"1",value:J.lng,onChange:ge=>{const ye=parseFloat(ge.target.value)||0;ye>=-180&&ye<=180&&ce(Be=>({...Be,lng:ye}))},className:`w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${n?"text-right":"text-left"}`,dir:"ltr",min:"-180",max:"180"})]})]})]}),r.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-700 rounded-xl",children:r.jsxs("div",{className:`flex items-start space-x-3 ${n?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx(bn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:`text-sm text-blue-700 dark:text-blue-300 ${n?"text-right":"text-left"}`,children:[r.jsx("p",{className:"font-medium mb-2",children:a("onboardingBranch.form.step3.location.mapHelp")||"  :"}),r.jsxs("ul",{className:`space-y-1.5 ${n?"mr-4":"ml-4"}`,children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),r.jsx("span",{children:a("onboardingBranch.form.step3.location.mapHelp1")||"      "})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),r.jsx("span",{children:a("onboardingBranch.form.step3.location.mapHelp2")||'  "  "'})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),r.jsx("span",{children:a("onboardingBranch.form.step3.location.mapHelp3")||"   "})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),r.jsx("span",{children:a("onboardingBranch.form.step3.location.mapHelp4")||"     "})]})]})]})]})}),r.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:[r.jsx("span",{className:`text-sm font-medium text-gray-700 dark:text-gray-300 ${n?"text-right":"text-left"}`,children:a("onboardingBranch.form.step3.location.selectedCoordinates")||" :"}),r.jsxs("code",{className:"text-sm font-mono text-primary-600 dark:text-primary-400",dir:"ltr",children:[J.lat.toFixed(6),", ",J.lng.toFixed(6)]})]})})]}),r.jsxs("div",{className:`flex items-center justify-end space-x-3 px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 ${n?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx("button",{type:"button",onClick:se,className:"px-5 py-2.5 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors font-medium",children:a("onboardingBranch.buttons.cancel")||""}),r.jsx("button",{type:"button",onClick:ie,className:"px-5 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium shadow-sm",children:a("onboardingBranch.buttons.confirm")||" "})]})]})]})})}):null),rt=({checked:ge,onChange:ye,disabled:Be})=>r.jsx("button",{type:"button",onClick:()=>!Be&&ye(!ge),disabled:Be,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${ge?"bg-primary-600":"bg-gray-200 dark:bg-gray-700"}`,dir:"ltr",children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${ge?"translate-x-6":"translate-x-1"}`})}),Pr=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"branchName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[a("onboardingBranch.form.step1.branchName.label")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(aa,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"branchName",name:"branchName",value:ne.branchName||"",onChange:Q,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${d.branchName?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingBranch.form.step1.branchName.placeholder"),dir:n?"rtl":"ltr",required:!0})]}),d.branchName&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d.branchName})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"whatsappOrderNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[a("onboardingBranch.form.step1.whatsappNumber.label")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:`flex ${n?"flex-row-reverse":""} space-x-2 ${n?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-48",children:r.jsx(Dx,{id:"whatsappCountryCode",name:"whatsappCountryCode",value:Gs.find(ge=>ge.code===E)?{value:E,label:`${Gs.find(ge=>ge.code===E)?.name} (${E})`}:null,onChange:ge=>{ge&&X(ge.value)},options:Gs.map(ge=>({value:ge.code,label:`${ge.name} (${ge.code})`})),isSearchable:!0,placeholder:a("onboardingBranch.form.step1.whatsappNumber.ariaLabel"),className:n?"text-right":"text-left",styles:{control:(ge,ye)=>({...ge,minHeight:"48px",borderRadius:"0.5rem",borderColor:ye.isFocused?"#6366f1":document.documentElement.classList.contains("dark")?"#4b5563":"#d1d5db",backgroundColor:document.documentElement.classList.contains("dark")?"#374151":"#fff",boxShadow:ye.isFocused?"0 0 0 2px rgba(99, 102, 241, 0.5)":"none","&:hover":{borderColor:ye.isFocused?"#6366f1":document.documentElement.classList.contains("dark")?"#4b5563":"#d1d5db"}}),menu:ge=>({...ge,backgroundColor:document.documentElement.classList.contains("dark")?"#374151":"#fff",zIndex:50}),option:(ge,ye)=>({...ge,backgroundColor:ye.isSelected?"#6366f1":ye.isFocused?document.documentElement.classList.contains("dark")?"#4b5563":"#e0e7ff":document.documentElement.classList.contains("dark")?"#374151":"#fff",color:ye.isSelected?"#fff":document.documentElement.classList.contains("dark")?"#f3f4f6":"#111827",cursor:"pointer"}),singleValue:ge=>({...ge,color:document.documentElement.classList.contains("dark")?"#f3f4f6":"#111827"}),input:ge=>({...ge,color:document.documentElement.classList.contains("dark")?"#f3f4f6":"#111827"}),placeholder:ge=>({...ge,color:document.documentElement.classList.contains("dark")?"#9ca3af":"#6b7280"})}})}),r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Dn,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 z-10`}),r.jsx("input",{id:"whatsappOrderNumber",name:"whatsappOrderNumber",type:"tel",autoComplete:"tel-national",maxLength:10,value:ne.whatsappOrderNumber||"",onChange:de,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${d.whatsappOrderNumber?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingBranch.form.step1.whatsappNumber.placeholder"),dir:n?"rtl":"ltr",required:!0})]})]}),d.whatsappOrderNumber&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d.whatsappOrderNumber})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingBranch.form.step1.branchLogo.label")}),r.jsxs("div",{className:"space-y-4",children:[(A||ne.branchLogoPath)&&r.jsxs("div",{className:`flex items-center space-x-4 ${n?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx("img",{src:A||ne.branchLogoPath||"",alt:"ube logosu nizleme",className:"w-24 h-24 object-cover rounded-lg border-2 border-gray-300 dark:border-gray-600"}),ne.branchLogoPath&&r.jsx("div",{className:`text-sm text-green-600 dark:text-green-400 ${n?"text-right":"text-left"}`,children:a("onboardingBranch.form.step1.branchLogo.success")})]}),r.jsxs("div",{className:`flex items-center space-x-4 ${n?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx("input",{type:"file",id:"branchLogo",accept:"image/*",onChange:xe,className:"hidden",disabled:_}),r.jsxs("label",{htmlFor:"branchLogo",className:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-200 ${_?"opacity-50 cursor-not-allowed":"cursor-pointer"} ${n?"flex-row-reverse":""}`,children:[r.jsx(vo,{className:`h-4 w-4 ${n?"ml-2":"mr-2"}`}),a(_?"onboardingBranch.form.step1.branchLogo.buttonUploading":"onboardingBranch.form.step1.branchLogo.button")]})]}),r.jsx("p",{className:`text-sm text-gray-500 dark:text-gray-400 ${n?"text-right":"text-left"}`,children:a("onboardingBranch.form.step1.branchLogo.helper")}),w&&!ne.branchLogoPath&&r.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg",children:r.jsxs("div",{className:`flex items-start space-x-3 ${n?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx(bn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("h4",{className:`text-sm font-medium text-blue-900 dark:text-blue-100 ${n?"text-right":"text-left"}`,children:a("onboardingBranch.form.step1.branchLogo.infoTitle")}),r.jsx("p",{className:`text-sm text-blue-700 dark:text-blue-300 ${n?"text-right":"text-left"}`,children:a("onboardingBranch.form.step1.branchLogo.infoDescription")})]})]})})]})]})]}),Ht=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"address.country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[a("onboardingBranch.form.step2.country.label")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Wi,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 z-10`}),r.jsx(Dx,{id:"address.country",name:"address.country",value:ne.createAddressDto.country?{value:ne.createAddressDto.country,label:ne.createAddressDto.country}:null,onChange:ge=>{ge&&(z(ye=>({...ye,createAddressDto:{...ye.createAddressDto,country:ge.value}})),d["createAddressDto.country"]&&c(ye=>({...ye,"createAddressDto.country":void 0})))},options:tb.map(ge=>({value:a(ge),label:a(ge)})),isSearchable:!0,placeholder:a("onboardingBranch.form.step2.country.placeholder"),className:n?"text-right":"text-left",styles:{control:(ge,ye)=>({...ge,paddingLeft:n?"1rem":"2.5rem",paddingRight:n?"2.5rem":"1rem",paddingTop:"0.75rem",paddingBottom:"0.75rem",borderRadius:"0.5rem",borderColor:d["createAddressDto.country"]?"#ef4444":ye.isFocused?"#6366f1":document.documentElement.classList.contains("dark")?"#4b5563":"#d1d5db",backgroundColor:d["createAddressDto.country"]?document.documentElement.classList.contains("dark")?"#7f1d1d":"#fef2f2":document.documentElement.classList.contains("dark")?"#374151":"#fff",boxShadow:ye.isFocused?"0 0 0 2px rgba(99, 102, 241, 0.5)":"none","&:hover":{borderColor:ye.isFocused?"#6366f1":document.documentElement.classList.contains("dark")?"#4b5563":"#d1d5db"}}),menu:ge=>({...ge,backgroundColor:document.documentElement.classList.contains("dark")?"#374151":"#fff",zIndex:50}),option:(ge,ye)=>({...ge,backgroundColor:ye.isSelected?"#6366f1":ye.isFocused?document.documentElement.classList.contains("dark")?"#4b5563":"#e0e7ff":document.documentElement.classList.contains("dark")?"#374151":"#fff",color:ye.isSelected?"#fff":document.documentElement.classList.contains("dark")?"#f3f4f6":"#111827",cursor:"pointer"}),singleValue:ge=>({...ge,color:document.documentElement.classList.contains("dark")?"#f3f4f6":"#111827"}),input:ge=>({...ge,color:document.documentElement.classList.contains("dark")?"#f3f4f6":"#111827"}),placeholder:ge=>({...ge,color:document.documentElement.classList.contains("dark")?"#9ca3af":"#6b7280"})}})]}),d["createAddressDto.country"]&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d["createAddressDto.country"]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"address.city",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[a("onboardingBranch.form.step2.city.label")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(aa,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"address.city",name:"address.city",value:ne.createAddressDto.city||"",onChange:Q,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${d["createAddressDto.city"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingBranch.form.step2.city.placeholder"),dir:n?"rtl":"ltr",required:!0})]}),d["createAddressDto.city"]&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d["createAddressDto.city"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"address.street",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingBranch.form.step2.street.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(wh,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"address.street",name:"address.street",value:ne.createAddressDto.street||"",onChange:Q,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${d["createAddressDto.street"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingBranch.form.step2.street.placeholder"),dir:n?"rtl":"ltr"})]}),d["createAddressDto.street"]&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d["createAddressDto.street"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"address.zipCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingBranch.form.step2.zipCode.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(vn,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"address.zipCode",name:"address.zipCode",value:ne.createAddressDto.zipCode||"",onChange:Q,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${d["createAddressDto.zipCode"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingBranch.form.step2.zipCode.placeholder"),dir:n?"rtl":"ltr"})]}),d["createAddressDto.zipCode"]&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d["createAddressDto.zipCode"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"address.addressLine1",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingBranch.form.step2.addressLine1.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(Yd,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"address.addressLine1",name:"address.addressLine1",value:ne.createAddressDto.addressLine1||"",onChange:Q,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${d["createAddressDto.addressLine1"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingBranch.form.step2.addressLine1.placeholder"),dir:n?"rtl":"ltr"})]}),d["createAddressDto.addressLine1"]&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d["createAddressDto.addressLine1"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"address.addressLine2",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingBranch.form.step2.addressLine2.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(Yd,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"address.addressLine2",name:"address.addressLine2",value:ne.createAddressDto.addressLine2||"",onChange:Q,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${d["createAddressDto.addressLine2"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingBranch.form.step2.addressLine2.placeholder"),dir:n?"rtl":"ltr"})]}),d["createAddressDto.addressLine2"]&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d["createAddressDto.addressLine2"]})]})]}),Wt=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"contact.mail",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[a("onboardingBranch.form.step3.email.label")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Zs,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"email",id:"contact.mail",name:"contact.mail",value:ne.createContactDto.mail||"",onChange:Q,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${d["createContactDto.mail"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingBranch.form.step3.email.placeholder"),dir:n?"rtl":"ltr",required:!0})]}),d["createContactDto.mail"]&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d["createContactDto.mail"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact.location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingBranch.form.step3.location.label")}),r.jsxs("div",{className:`flex ${n?"flex-row-reverse":""} gap-2`,children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"contact.location",name:"contact.location",value:ne.createContactDto.location||"",onChange:Q,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${d["createContactDto.location"]?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingBranch.form.step3.location.placeholder"),dir:"ltr"})]}),r.jsxs("button",{type:"button",onClick:fe,className:`px-4 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200 flex items-center space-x-2 whitespace-nowrap ${n?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx(wh,{className:"h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline",children:a("onboardingBranch.form.step3.location.selectOnMap")||"  "})]})]}),d["createContactDto.location"]&&r.jsx("p",{className:`mt-1 text-sm text-red-600 dark:text-red-400 ${n?"text-right":"text-left"}`,children:d["createContactDto.location"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact.contactHeader",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingBranch.form.step3.contactHeader.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(bn,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"contact.contactHeader",name:"contact.contactHeader",value:ne.createContactDto.contactHeader||"",onChange:Q,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingBranch.form.step3.contactHeader.placeholder"),dir:n?"rtl":"ltr"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact.footerTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingBranch.form.step3.footerTitle.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(bn,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"contact.footerTitle",name:"contact.footerTitle",value:ne.createContactDto.footerTitle||"",onChange:Q,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingBranch.form.step3.footerTitle.placeholder"),dir:n?"rtl":"ltr"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact.footerDescription",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingBranch.form.step3.footerDescription.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(bn,{className:`absolute ${n?"right-3":"left-3"} top-3 h-5 w-5 text-gray-400`}),r.jsx("textarea",{id:"contact.footerDescription",name:"contact.footerDescription",value:ne.createContactDto.footerDescription||"",onChange:Q,rows:3,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingBranch.form.step3.footerDescription.placeholder"),dir:n?"rtl":"ltr"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact.openTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingBranch.form.step3.openTitle.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(Or,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"contact.openTitle",name:"contact.openTitle",value:ne.createContactDto.openTitle||"",onChange:Q,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingBranch.form.step3.openTitle.placeholder"),dir:n?"rtl":"ltr"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact.openDays",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingBranch.form.step3.openDays.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(Or,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"contact.openDays",name:"contact.openDays",value:ne.createContactDto.openDays||"",onChange:Q,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingBranch.form.step3.openDays.placeholder"),dir:n?"rtl":"ltr"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact.openHours",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("onboardingBranch.form.step3.openHours.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(Or,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"contact.openHours",name:"contact.openHours",value:ne.createContactDto.openHours||"",onChange:Q,className:`w-full ${n?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${n?"text-right":"text-left"}`,placeholder:a("onboardingBranch.form.step3.openHours.placeholder"),dir:n?"rtl":"ltr"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:`flex items-center space-x-2 ${n?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx(Or,{className:"h-6 w-6 text-primary-600"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:a("onboardingBranch.form.step3.workingHours.title")})]}),r.jsx("p",{className:`text-sm text-gray-600 dark:text-gray-400 ${n?"text-right":"text-left"}`,children:a("onboardingBranch.form.step3.workingHours.description")}),r.jsx("div",{className:"space-y-3",children:ne.createBranchWorkingHourCoreDto?.map((ge,ye)=>r.jsxs("div",{className:`relative group p-5 border border-gray-200 dark:border-gray-700 rounded-xl transition-all duration-200 hover:shadow-md ${ge.isWorkingDay?"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 border-green-200 dark:border-green-700":"bg-gray-50 dark:bg-gray-800/50"}`,children:[r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsxs("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"min-w-[100px]",children:r.jsx("span",{className:`text-base font-medium text-gray-900 dark:text-gray-100 ${n?"text-right":"text-left"}`,children:q[ye]})}),r.jsxs("div",{className:`flex items-center space-x-3 ${n?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx(rt,{checked:ge.isWorkingDay,onChange:Be=>le(ye,"isWorkingDay",Be)}),r.jsx("span",{className:`text-sm font-medium transition-colors ${ge.isWorkingDay?"text-green-700 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:ge.isWorkingDay?a("onboardingBranch.form.step3.workingHours.toggleOpen"):a("onboardingBranch.form.step3.workingHours.toggleClosed")})]})]}),r.jsxs("div",{className:`flex items-center justify-center gap-3 transition-opacity ${ge.isWorkingDay?"":"opacity-40"} ${n?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[r.jsx("label",{className:`text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide whitespace-nowrap ${n?"text-right":"text-left"}`,children:a("onboardingBranch.form.step3.workingHours.openLabel")}),r.jsx("input",{title:"time",type:"time",value:F(ge.openTime),onChange:Be=>le(ye,"openTime",Be.target.value),disabled:!ge.isWorkingDay,className:`px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium transition-all focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${ge.isWorkingDay?"hover:border-primary-300":"cursor-not-allowed bg-gray-100 dark:bg-gray-800"} ${n?"text-right":"text-left"}`,dir:"ltr"})]}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"w-4 h-px bg-gray-300 dark:bg-gray-600"})}),r.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[r.jsx("label",{className:`text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide whitespace-nowrap ${n?"text-right":"text-left"}`,children:a("onboardingBranch.form.step3.workingHours.closeLabel")}),r.jsx("input",{title:"time",type:"time",value:F(ge.closeTime),onChange:Be=>le(ye,"closeTime",Be.target.value),disabled:!ge.isWorkingDay,className:`px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium transition-all focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${ge.isWorkingDay?"hover:border-primary-300":"cursor-not-allowed bg-gray-100 dark:bg-gray-800"} ${n?"text-right":"text-left"}`,dir:"ltr"})]})]})]}),ge.isWorkingDay&&r.jsx("div",{className:"mt-3 pt-3 border-t border-green-200 dark:border-green-700/50",children:r.jsxs("p",{className:`text-xs text-green-600 dark:text-green-400 ${n?"text-right":"text-left"}`,children:[a("onboardingBranch.form.step3.workingHours.workingDayNote"),F(ge.closeTime)<=F(ge.openTime)&&r.jsx("span",{className:`${n?"mr-2":"ml-2"} text-blue-600 dark:text-blue-400`,children:a("onboardingBranch.form.step3.workingHours.overnightNote")})]})})]},ge.dayOfWeek))}),d.workingHours&&r.jsx("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg",children:r.jsxs("div",{className:`flex items-start space-x-3 ${n?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx(Nt,{className:"h-5 w-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),r.jsx("p",{className:`text-sm text-red-700 dark:text-red-300 ${n?"text-right":"text-left"}`,children:d.workingHours})]})}),r.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg",children:r.jsxs("div",{className:`flex items-start space-x-3 ${n?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx(bn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("h4",{className:`text-sm font-medium text-blue-900 dark:text-blue-100 ${n?"text-right":"text-left"}`,children:a("onboardingBranch.form.step3.workingHours.infoBox.title")}),r.jsxs("ul",{className:`text-sm text-blue-700 dark:text-blue-300 space-y-1 ${n?"text-right":"text-left"}`,children:[r.jsx("li",{children:a("onboardingBranch.form.step3.workingHours.infoBox.item1")}),r.jsx("li",{children:a("onboardingBranch.form.step3.workingHours.infoBox.item2")}),r.jsx("li",{children:a("onboardingBranch.form.step3.workingHours.infoBox.item3")}),r.jsx("li",{children:a("onboardingBranch.form.step3.workingHours.infoBox.item4")})]})]})]})})]})]});return r.jsxs(r.Fragment,{children:[r.jsx(nt,{}),r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 mt-[100px] to-white dark:from-gray-900 dark:to-gray-800",dir:n?"rtl":"ltr",children:[r.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"md:flex md:items-center md:justify-between",children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs(ls,{to:"/onboarding/restaurant",className:`inline-flex items-center text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 mb-2 ${n?"flex-row-reverse":""}`,children:[r.jsx(ms,{className:`w-4 h-4 ${n?"ml-1 rotate-180":"mr-1"}`}),a("onboardingBranch.header.backLink")]}),r.jsx("h2",{className:`text-2xl font-bold leading-7 text-gray-900 dark:text-white sm:text-3xl sm:truncate ${n?"text-right":"text-left"}`,children:a("onboardingBranch.header.title")}),r.jsx("p",{className:`mt-1 text-sm text-gray-500 dark:text-gray-400 ${n?"text-right":"text-left"}`,children:a("onboardingBranch.header.subtitle")})]})})})}),r.jsxs("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"px-4 sm:px-0 mb-8",children:r.jsx("nav",{"aria-label":"Progress",children:r.jsx("ol",{role:"list",className:`flex items-center ${n?"flex-row-reverse":""}`,children:[{id:1,name:a("onboardingBranch.steps.basic"),icon:hi},{id:2,name:a("onboardingBranch.steps.address"),icon:wh},{id:3,name:a("onboardingBranch.steps.contact"),icon:Dn}].map((ge,ye)=>{const Be=ge.icon;return r.jsx("li",{className:`relative ${ye!==2?n?"pl-8 sm:pl-20":"pr-8 sm:pr-20":""}`,children:r.jsxs("div",{className:`flex items-center ${n?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`${s>=ge.id?"bg-primary-600 border-primary-600":"bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-600"} rounded-full transition-colors duration-200 h-8 w-8 flex items-center justify-center border-2`,children:r.jsx(Be,{className:`w-4 h-4 ${s>=ge.id?"text-white":"text-gray-500 dark:text-gray-400"}`})}),r.jsx("div",{className:`hidden sm:block text-sm font-medium ${s>=ge.id?"text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400"} ${n?"mr-2":"ml-2"}`,children:ge.name}),ye!==2&&r.jsx("div",{className:`hidden sm:block absolute top-4 ${n?"left-0":"right-0"} w-16 h-0.5 transition-colors duration-200 ${s>ge.id?"bg-primary-600 dark:bg-primary-400":"bg-gray-300 dark:bg-gray-600"}`})]})},ge.name)})})})}),g&&r.jsx(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-4 rounded-md bg-red-50 dark:bg-red-900/20 p-4 mx-4 sm:mx-0",children:r.jsxs("div",{className:`flex ${n?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Nt,{className:"h-5 w-5 text-red-400"})}),r.jsxs("div",{className:`${n?"mr-3":"ml-3"}`,children:[r.jsx("h3",{className:`text-sm font-medium text-red-800 dark:text-red-200 ${n?"text-right":"text-left"}`,children:a("onboardingBranch.messages.errorTitle")}),r.jsx("div",{className:`mt-2 text-sm text-red-700 dark:text-red-300 whitespace-pre-line ${n?"text-right":"text-left"}`,children:g})]})]})}),x&&r.jsx(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-4 rounded-md bg-green-50 dark:bg-green-900/20 p-4 mx-4 sm:mx-0",children:r.jsxs("div",{className:`flex ${n?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(tr,{className:"h-5 w-5 text-green-400"})}),r.jsxs("div",{className:`${n?"mr-3":"ml-3"}`,children:[r.jsx("h3",{className:`text-sm font-medium text-green-800 dark:text-green-200 ${n?"text-right":"text-left"}`,children:a("onboardingBranch.messages.successTitle")}),r.jsx("div",{className:`mt-2 text-sm text-green-700 dark:text-green-300 ${n?"text-right":"text-left"}`,children:x})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg mx-4 sm:mx-0",children:r.jsxs("form",{onSubmit:qt,className:"space-y-8 divide-y divide-gray-200 dark:divide-gray-700",children:[s===1&&r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(hi,{className:"h-12 w-12 mx-auto text-primary-600 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:a("onboardingBranch.form.step1.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a("onboardingBranch.form.step1.description")})]}),Pr()]}),s===2&&r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(Qr,{className:"h-12 w-12 mx-auto text-primary-600 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:a("onboardingBranch.form.step2.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a("onboardingBranch.form.step2.description")})]}),Ht()]}),s===3&&r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(Dn,{className:"h-12 w-12 mx-auto text-primary-600 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:a("onboardingBranch.form.step3.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a("onboardingBranch.form.step3.description")})]}),Wt()]}),r.jsxs("div",{className:`px-8 py-4 bg-gray-50 dark:bg-gray-800/50 flex items-center justify-between ${n?"flex-row-reverse":""}`,children:[r.jsxs("button",{type:"button",onClick:kt,disabled:s===1,className:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md shadow-sm ${s===1?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600"} ${n?"flex-row-reverse":""}`,children:[r.jsx(ms,{className:`w-4 h-4 ${n?"ml-2 rotate-180":"mr-2"}`}),a("onboardingBranch.buttons.back")]}),s<3?r.jsxs("button",{type:"button",onClick:ut,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${n?"flex-row-reverse":""}`,children:[a("onboardingBranch.buttons.next"),r.jsx(Ui,{className:`w-4 h-4 ${n?"mr-2 rotate-180":"ml-2"}`})]}):r.jsx("button",{type:"submit",disabled:o,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white ${o?"bg-primary-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"} ${n?"flex-row-reverse":""}`,children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin ${n?"ml-2":"mr-2"}`}),a("onboardingBranch.buttons.saving")]}):a("onboardingBranch.buttons.save")})]})]})})]})]})]})},oX=()=>{const e=Ra(),{t}=Ze(),[a,n]=p.useState(10);return p.useEffect(()=>{window.scrollTo(0,0)},[]),p.useEffect(()=>{const s=setInterval(()=>{n(i=>i-1)},1e3);return()=>clearInterval(s)},[]),p.useEffect(()=>{a<=0&&(localStorage.removeItem("onboarding_userId"),localStorage.removeItem("onboarding_restaurantId"),localStorage.removeItem("onboarding_branchId"),localStorage.removeItem("userId"),localStorage.removeItem("token"),e("/login"))},[a,e]),r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:r.jsx("div",{className:"max-w-2xl mx-auto px-4 py-16 sm:px-6 sm:py-24 lg:px-8",children:r.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden",children:r.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[r.jsx(ke.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"mx-auto flex items-center justify-center h-24 w-24 rounded-full bg-green-100 dark:bg-green-900",children:r.jsx(tr,{className:"h-12 w-12 text-green-600 dark:text-green-400"})}),r.jsxs(ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t("onboardingComplete.title")}),r.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:t("onboardingComplete.message")})]}),r.jsxs(ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-6 flex items-center justify-center",children:[r.jsxs("div",{className:"relative",children:[r.jsx(XH,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"}),r.jsx("span",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-sm font-medium text-primary-600 dark:text-primary-400",children:a})]}),r.jsx("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:t("onboardingComplete.redirectingIn")})]})]})})})})},db=()=>{const e=Ra(),[t,a]=p.useState(!1),[n,s]=p.useState(!0),i=p.useRef(null);p.useEffect(()=>(l(),(()=>{i.current&&clearInterval(i.current),i.current=window.setInterval(()=>{o()},3e4)})(),()=>{i.current&&clearInterval(i.current)}),[]);const o=p.useCallback(()=>{try{const h=localStorage.getItem("token"),x=localStorage.getItem("tokenExpiry");if(!h||!x)return t&&(d(),e("/login",{replace:!0})),!1;const b=new Date(x),v=new Date;if(isNaN(b.getTime()))return d(),e("/login",{replace:!0}),!1;if(b<=v)return d(),e("/login",{replace:!0}),!1;const j=b.getTime()-v.getTime(),w=300*1e3;return j<=w&&j>0&&console.warn(`Token will expire in ${Math.round(j/1e3)} seconds`),!0}catch(h){return console.error("Error checking token expiry:",h),d(),e("/login",{replace:!0}),!1}},[t,e]),l=p.useCallback(()=>{try{const h=localStorage.getItem("token"),x=localStorage.getItem("tokenExpiry");if(h&&x){const b=new Date(x),v=new Date;if(!isNaN(b.getTime())&&b>v){a(!0);const j=b.getTime()-v.getTime();j>0&&window.setTimeout(()=>{d(),e("/login",{replace:!0})},j)}else d(),e("/login",{replace:!0})}else a(!1)}catch(h){console.error("Error during checkAuth:",h),d()}finally{s(!1)}},[e]),d=p.useCallback(()=>{localStorage.removeItem("token"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("userId"),localStorage.removeItem("restaurantName"),localStorage.removeItem("selectedBranchId"),localStorage.removeItem("selectedBranchName"),i.current&&(clearInterval(i.current),i.current=null),a(!1)},[]),c=p.useCallback(h=>{try{const x=localStorage.getItem("token"),b=localStorage.getItem("tokenExpiry");if(!x||!b)return d(),e("/login",{replace:!0}),!1;const v=new Date(b),j=new Date;return isNaN(v.getTime())?(d(),e("/login",{replace:!0}),!1):v<=j?(d(),e("/login",{replace:!0}),!1):(h&&h(),!0)}catch(x){return console.error("Error during requireAuth:",x),d(),e("/login",{replace:!0}),!1}},[e,d]),g=p.useCallback(()=>o(),[o]);return{isAuthenticated:t,isLoading:n,checkAuth:l,clearAuth:d,requireAuth:c,refreshAuth:g,checkTokenExpiry:o}},lX=({totalItems:e,autoPlay:t=!1,autoPlayInterval:a=3e3})=>{const[n,s]=p.useState(0),[i,o]=p.useState(!1),[l,d]=p.useState(0),[c,g]=p.useState(0),h=p.useRef(null),x=p.useRef(null),b=p.useCallback(()=>{s(D=>(D+1)%e)},[e]),v=p.useCallback(()=>{s(D=>(D-1+e)%e)},[e]),j=p.useCallback(D=>{s(D)},[]),w=p.useCallback(D=>{d(D.touches[0].clientX),g(D.touches[0].clientX),o(!0),x.current&&(clearInterval(x.current),x.current=null)},[]),S=p.useCallback(D=>{i&&g(D.touches[0].clientX)},[i]),M=p.useCallback(()=>{if(!i)return;const D=l-c;Math.abs(D)>50&&(D>0?b():v()),o(!1),t&&(x.current=window.setInterval(b,a))},[l,c,i,b,v,t,a]),T=p.useCallback(D=>{d(D.clientX),g(D.clientX),o(!0),x.current&&(clearInterval(x.current),x.current=null)},[]),A=p.useCallback(D=>{i&&g(D.clientX)},[i]),I=p.useCallback(()=>{if(!i)return;const D=l-c;Math.abs(D)>50&&(D>0?b():v()),o(!1),t&&(x.current=window.setInterval(b,a))},[l,c,i,b,v,t,a]);return{currentSlide:n,isDragging:i,carouselRef:h,nextSlide:b,prevSlide:v,goToSlide:j,handlers:{handleTouchStart:w,handleTouchMove:S,handleTouchEnd:M,handleMouseDown:T,handleMouseMove:A,handleMouseUp:I}}};function Ss(e,t){p.useEffect(()=>{const a=n=>{e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),()=>{document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}},[e,t])}function dX(){const[e,t]=p.useState(!1);return{uploadLogo:async(n,s)=>{t(!0);try{return await Ki.uploadFile(n,s)}finally{t(!1)}},isUploading:e}}const cX=(e,t=100)=>{const[a,n]=p.useState("");return p.useEffect(()=>{const s=()=>{const i=window.scrollY+t;for(const o of e){const l=document.getElementById(o);if(l){const{offsetTop:d,offsetHeight:c}=l;if(i>=d&&i<d+c){n(o);break}}}};return window.addEventListener("scroll",s),s(),()=>window.removeEventListener("scroll",s)},[e,t]),a};class Gc extends Error{constructor(t,a){const n=new.target.prototype;super(`${t}: Status code '${a}'`),this.statusCode=a,this.__proto__=n}}class D2 extends Error{constructor(t="A timeout occurred."){const a=new.target.prototype;super(t),this.__proto__=a}}class xo extends Error{constructor(t="An abort occurred."){const a=new.target.prototype;super(t),this.__proto__=a}}class uX extends Error{constructor(t,a){const n=new.target.prototype;super(t),this.transport=a,this.errorType="UnsupportedTransportError",this.__proto__=n}}class mX extends Error{constructor(t,a){const n=new.target.prototype;super(t),this.transport=a,this.errorType="DisabledTransportError",this.__proto__=n}}class gX extends Error{constructor(t,a){const n=new.target.prototype;super(t),this.transport=a,this.errorType="FailedToStartTransportError",this.__proto__=n}}class KM extends Error{constructor(t){const a=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=a}}class hX extends Error{constructor(t,a){const n=new.target.prototype;super(t),this.innerErrors=a,this.__proto__=n}}class ER{constructor(t,a,n){this.statusCode=t,this.statusText=a,this.content=n}}class cb{get(t,a){return this.send({...a,method:"GET",url:t})}post(t,a){return this.send({...a,method:"POST",url:t})}delete(t,a){return this.send({...a,method:"DELETE",url:t})}getCookieString(t){return""}}var tt;(function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"})(tt||(tt={}));class Lh{constructor(){}log(t,a){}}Lh.instance=new Lh;const fX="8.0.17";class on{static isRequired(t,a){if(t==null)throw new Error(`The '${a}' argument is required.`)}static isNotEmpty(t,a){if(!t||t.match(/^\s*$/))throw new Error(`The '${a}' argument should not be empty.`)}static isIn(t,a,n){if(!(t in a))throw new Error(`Unknown ${n} value: ${t}.`)}}class Ea{static get isBrowser(){return!Ea.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!Ea.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!Ea.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function $h(e,t){let a="";return au(e)?(a=`Binary data of length ${e.byteLength}`,t&&(a+=`. Content: '${pX(e)}'`)):typeof e=="string"&&(a=`String data of length ${e.length}`,t&&(a+=`. Content: '${e}'`)),a}function pX(e){const t=new Uint8Array(e);let a="";return t.forEach(n=>{const s=n<16?"0":"";a+=`0x${s}${n.toString(16)} `}),a.substr(0,a.length-1)}function au(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}async function _R(e,t,a,n,s,i){const o={},[l,d]=Im();o[l]=d,e.log(tt.Trace,`(${t} transport) sending data. ${$h(s,i.logMessageContent)}.`);const c=au(s)?"arraybuffer":"text",g=await a.post(n,{content:s,headers:{...o,...i.headers},responseType:c,timeout:i.timeout,withCredentials:i.withCredentials});e.log(tt.Trace,`(${t} transport) request complete. Response status: ${g.statusCode}.`)}function xX(e){return e===void 0?new Bx(tt.Information):e===null?Lh.instance:e.log!==void 0?e:new Bx(e)}class yX{constructor(t,a){this._subject=t,this._observer=a}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(a=>{})}}class Bx{constructor(t){this._minLevel=t,this.out=console}log(t,a){if(t>=this._minLevel){const n=`[${new Date().toISOString()}] ${tt[t]}: ${a}`;switch(t){case tt.Critical:case tt.Error:this.out.error(n);break;case tt.Warning:this.out.warn(n);break;case tt.Information:this.out.info(n);break;default:this.out.log(n);break}}}}function Im(){let e="X-SignalR-User-Agent";return Ea.isNode&&(e="User-Agent"),[e,bX(fX,vX(),wX(),kX())]}function bX(e,t,a,n){let s="Microsoft SignalR/";const i=e.split(".");return s+=`${i[0]}.${i[1]}`,s+=` (${e}; `,t&&t!==""?s+=`${t}; `:s+="Unknown OS; ",s+=`${a}`,n?s+=`; ${n}`:s+="; Unknown Runtime Version",s+=")",s}function vX(){if(Ea.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function kX(){if(Ea.isNode)return process.versions.node}function wX(){return Ea.isNode?"NodeJS":"Browser"}function uw(e){return e.stack?e.stack:e.message?e.message:`${e}`}function jX(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class NX extends cb{constructor(t){if(super(),this._logger=t,typeof fetch>"u"||Ea.isNode){const a=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(a("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=a("node-fetch"):this._fetchType=fetch,this._fetchType=a("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(jX());if(typeof AbortController>"u"){const a=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=a("abort-controller")}else this._abortControllerType=AbortController}async send(t){if(t.abortSignal&&t.abortSignal.aborted)throw new xo;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const a=new this._abortControllerType;let n;t.abortSignal&&(t.abortSignal.onabort=()=>{a.abort(),n=new xo});let s=null;if(t.timeout){const d=t.timeout;s=setTimeout(()=>{a.abort(),this._logger.log(tt.Warning,"Timeout from HTTP request."),n=new D2},d)}t.content===""&&(t.content=void 0),t.content&&(t.headers=t.headers||{},au(t.content)?t.headers["Content-Type"]="application/octet-stream":t.headers["Content-Type"]="text/plain;charset=UTF-8");let i;try{i=await this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:t.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:a.signal})}catch(d){throw n||(this._logger.log(tt.Warning,`Error from HTTP request. ${d}.`),d)}finally{s&&clearTimeout(s),t.abortSignal&&(t.abortSignal.onabort=null)}if(!i.ok){const d=await QM(i,"text");throw new Gc(d||i.statusText,i.status)}const l=await QM(i,t.responseType);return new ER(i.status,i.statusText,l)}getCookieString(t){let a="";return Ea.isNode&&this._jar&&this._jar.getCookies(t,(n,s)=>a=s.join("; ")),a}}function QM(e,t){let a;switch(t){case"arraybuffer":a=e.arrayBuffer();break;case"text":a=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`);default:a=e.text();break}return a}class CX extends cb{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new xo):t.method?t.url?new Promise((a,n)=>{const s=new XMLHttpRequest;s.open(t.method,t.url,!0),s.withCredentials=t.withCredentials===void 0?!0:t.withCredentials,s.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.content===""&&(t.content=void 0),t.content&&(au(t.content)?s.setRequestHeader("Content-Type","application/octet-stream"):s.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const i=t.headers;i&&Object.keys(i).forEach(o=>{s.setRequestHeader(o,i[o])}),t.responseType&&(s.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{s.abort(),n(new xo)}),t.timeout&&(s.timeout=t.timeout),s.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),s.status>=200&&s.status<300?a(new ER(s.status,s.statusText,s.response||s.responseText)):n(new Gc(s.response||s.responseText||s.statusText,s.status))},s.onerror=()=>{this._logger.log(tt.Warning,`Error from HTTP request. ${s.status}: ${s.statusText}.`),n(new Gc(s.statusText,s.status))},s.ontimeout=()=>{this._logger.log(tt.Warning,"Timeout from HTTP request."),n(new D2)},s.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class SX extends cb{constructor(t){if(super(),typeof fetch<"u"||Ea.isNode)this._httpClient=new NX(t);else if(typeof XMLHttpRequest<"u")this._httpClient=new CX(t);else throw new Error("No usable HttpClient found.")}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new xo):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}class fi{static write(t){return`${t}${fi.RecordSeparator}`}static parse(t){if(t[t.length-1]!==fi.RecordSeparator)throw new Error("Message is incomplete.");const a=t.split(fi.RecordSeparator);return a.pop(),a}}fi.RecordSeparatorCode=30;fi.RecordSeparator=String.fromCharCode(fi.RecordSeparatorCode);class PX{writeHandshakeRequest(t){return fi.write(JSON.stringify(t))}parseHandshakeResponse(t){let a,n;if(au(t)){const l=new Uint8Array(t),d=l.indexOf(fi.RecordSeparatorCode);if(d===-1)throw new Error("Message is incomplete.");const c=d+1;a=String.fromCharCode.apply(null,Array.prototype.slice.call(l.slice(0,c))),n=l.byteLength>c?l.slice(c).buffer:null}else{const l=t,d=l.indexOf(fi.RecordSeparator);if(d===-1)throw new Error("Message is incomplete.");const c=d+1;a=l.substring(0,c),n=l.length>c?l.substring(c):null}const s=fi.parse(a),i=JSON.parse(s[0]);if(i.type)throw new Error("Expected a handshake response from the server.");return[n,i]}}var vr;(function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence"})(vr||(vr={}));class MX{constructor(){this.observers=[]}next(t){for(const a of this.observers)a.next(t)}error(t){for(const a of this.observers)a.error&&a.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new yX(this,t)}}class TX{constructor(t,a,n){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=a,this._bufferSize=n}async _send(t){const a=this._protocol.writeMessage(t);let n=Promise.resolve();if(this._isInvocationMessage(t)){this._totalMessageCount++;let s=()=>{},i=()=>{};au(a)?this._bufferedByteCount+=a.byteLength:this._bufferedByteCount+=a.length,this._bufferedByteCount>=this._bufferSize&&(n=new Promise((o,l)=>{s=o,i=l})),this._messages.push(new IX(a,this._totalMessageCount,s,i))}try{this._reconnectInProgress||await this._connection.send(a)}catch{this._disconnected()}await n}_ack(t){let a=-1;for(let n=0;n<this._messages.length;n++){const s=this._messages[n];if(s._id<=t.sequenceId)a=n,au(s._message)?this._bufferedByteCount-=s._message.byteLength:this._bufferedByteCount-=s._message.length,s._resolver();else if(this._bufferedByteCount<this._bufferSize)s._resolver();else break}a!==-1&&(this._messages=this._messages.slice(a+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type!==vr.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;const a=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,a<=this._latestReceivedSequenceId?(a===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=a,this._ackTimer(),!0)}_resetSequence(t){if(t.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const t=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:vr.Sequence,sequenceId:t}));const a=this._messages;for(const n of a)await this._connection.send(n._message);this._reconnectInProgress=!1}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(const a of this._messages)a._rejector(t)}_isInvocationMessage(t){switch(t.type){case vr.Invocation:case vr.StreamItem:case vr.Completion:case vr.StreamInvocation:case vr.CancelInvocation:return!0;case vr.Close:case vr.Sequence:case vr.Ping:case vr.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:vr.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class IX{constructor(t,a,n,s){this._message=t,this._id=a,this._resolver=n,this._rejector=s}}const AX=30*1e3,EX=15*1e3,_X=1e5;var Xr;(function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"})(Xr||(Xr={}));class B2{static create(t,a,n,s,i,o,l){return new B2(t,a,n,s,i,o,l)}constructor(t,a,n,s,i,o,l){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(tt.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},on.isRequired(t,"connection"),on.isRequired(a,"logger"),on.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=i??AX,this.keepAliveIntervalInMilliseconds=o??EX,this._statefulReconnectBufferSize=l??_X,this._logger=a,this._protocol=n,this.connection=t,this._reconnectPolicy=s,this._handshakeProtocol=new PX,this.connection.onreceive=d=>this._processIncomingData(d),this.connection.onclose=d=>this._connectionClosed(d),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Xr.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:vr.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==Xr.Disconnected&&this._connectionState!==Xr.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Xr.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Xr.Connecting,this._logger.log(tt.Debug,"Starting HubConnection.");try{await this._startInternal(),Ea.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Xr.Connected,this._connectionStarted=!0,this._logger.log(tt.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=Xr.Disconnected,this._logger.log(tt.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const t=new Promise((a,n)=>{this._handshakeResolver=a,this._handshakeRejecter=n});await this.connection.start(this._protocol.transferFormat);try{let a=this._protocol.version;this.connection.features.reconnect||(a=1);const n={protocol:this._protocol.name,version:a};if(this._logger.log(tt.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(n)),this._logger.log(tt.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await t,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new TX(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(a){throw this._logger.log(tt.Debug,`Hub handshake failed with error '${a}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(a),a}}async stop(){const t=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await t}catch{}}_stopInternal(t){if(this._connectionState===Xr.Disconnected)return this._logger.log(tt.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Xr.Disconnecting)return this._logger.log(tt.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const a=this._connectionState;return this._connectionState=Xr.Disconnecting,this._logger.log(tt.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(tt.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(a===Xr.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new xo("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(t,...a){const[n,s]=this._replaceStreamingParams(a),i=this._createStreamInvocation(t,a,s);let o;const l=new MX;return l.cancelCallback=()=>{const d=this._createCancelInvocation(i.invocationId);return delete this._callbacks[i.invocationId],o.then(()=>this._sendWithProtocol(d))},this._callbacks[i.invocationId]=(d,c)=>{if(c){l.error(c);return}else d&&(d.type===vr.Completion?d.error?l.error(new Error(d.error)):l.complete():l.next(d.item))},o=this._sendWithProtocol(i).catch(d=>{l.error(d),delete this._callbacks[i.invocationId]}),this._launchStreams(n,o),l}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...a){const[n,s]=this._replaceStreamingParams(a),i=this._sendWithProtocol(this._createInvocation(t,a,!0,s));return this._launchStreams(n,i),i}invoke(t,...a){const[n,s]=this._replaceStreamingParams(a),i=this._createInvocation(t,a,!1,s);return new Promise((l,d)=>{this._callbacks[i.invocationId]=(g,h)=>{if(h){d(h);return}else g&&(g.type===vr.Completion?g.error?d(new Error(g.error)):l(g.result):d(new Error(`Unexpected message type: ${g.type}`)))};const c=this._sendWithProtocol(i).catch(g=>{d(g),delete this._callbacks[i.invocationId]});this._launchStreams(n,c)})}on(t,a){!t||!a||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),this._methods[t].indexOf(a)===-1&&this._methods[t].push(a))}off(t,a){if(!t)return;t=t.toLowerCase();const n=this._methods[t];if(n)if(a){const s=n.indexOf(a);s!==-1&&(n.splice(s,1),n.length===0&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const a=this._protocol.parseMessages(t,this._logger);for(const n of a)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(n)))switch(n.type){case vr.Invocation:this._invokeClientMethod(n).catch(s=>{this._logger.log(tt.Error,`Invoke client method threw error: ${uw(s)}`)});break;case vr.StreamItem:case vr.Completion:{const s=this._callbacks[n.invocationId];if(s){n.type===vr.Completion&&delete this._callbacks[n.invocationId];try{s(n)}catch(i){this._logger.log(tt.Error,`Stream callback threw error: ${uw(i)}`)}}break}case vr.Ping:break;case vr.Close:{this._logger.log(tt.Information,"Close message received from server.");const s=n.error?new Error("Server returned an error on close: "+n.error):void 0;n.allowReconnect===!0?this.connection.stop(s):this._stopPromise=this._stopInternal(s);break}case vr.Ack:this._messageBuffer&&this._messageBuffer._ack(n);break;case vr.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(n);break;default:this._logger.log(tt.Warning,`Invalid message type: ${n.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let a,n;try{[n,a]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(s){const i="Error parsing handshake response: "+s;this._logger.log(tt.Error,i);const o=new Error(i);throw this._handshakeRejecter(o),o}if(a.error){const s="Server returned handshake error: "+a.error;this._logger.log(tt.Error,s);const i=new Error(s);throw this._handshakeRejecter(i),i}else this._logger.log(tt.Debug,"Server handshake complete.");return this._handshakeResolver(),n}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let t=this._nextKeepAlive-new Date().getTime();t<0&&(t=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===Xr.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},t)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(t){const a=t.target.toLowerCase(),n=this._methods[a];if(!n){this._logger.log(tt.Warning,`No client method with the name '${a}' found.`),t.invocationId&&(this._logger.log(tt.Warning,`No result given for '${a}' method and invocation ID '${t.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)));return}const s=n.slice(),i=!!t.invocationId;let o,l,d;for(const c of s)try{const g=o;o=await c.apply(this,t.arguments),i&&o&&g&&(this._logger.log(tt.Error,`Multiple results provided for '${a}'. Sending error to server.`),d=this._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),l=void 0}catch(g){l=g,this._logger.log(tt.Error,`A callback for the method '${a}' threw error '${g}'.`)}d?await this._sendWithProtocol(d):i?(l?d=this._createCompletionMessage(t.invocationId,`${l}`,null):o!==void 0?d=this._createCompletionMessage(t.invocationId,null,o):(this._logger.log(tt.Warning,`No result given for '${a}' method and invocation ID '${t.invocationId}'.`),d=this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(d)):o&&this._logger.log(tt.Error,`Result given for '${a}' method but server is not expecting a result.`)}_connectionClosed(t){this._logger.log(tt.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new xo("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Xr.Disconnecting?this._completeClose(t):this._connectionState===Xr.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===Xr.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=Xr.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),Ea.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(a=>a.apply(this,[t]))}catch(a){this._logger.log(tt.Error,`An onclose callback called with error '${t}' threw error '${a}'.`)}}}async _reconnect(t){const a=Date.now();let n=0,s=t!==void 0?t:new Error("Attempting to reconnect due to a unknown error."),i=this._getNextRetryDelay(n++,0,s);if(i===null){this._logger.log(tt.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(t);return}if(this._connectionState=Xr.Reconnecting,t?this._logger.log(tt.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(tt.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(o=>o.apply(this,[t]))}catch(o){this._logger.log(tt.Error,`An onreconnecting callback called with error '${t}' threw error '${o}'.`)}if(this._connectionState!==Xr.Reconnecting){this._logger.log(tt.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;i!==null;){if(this._logger.log(tt.Information,`Reconnect attempt number ${n} will start in ${i} ms.`),await new Promise(o=>{this._reconnectDelayHandle=setTimeout(o,i)}),this._reconnectDelayHandle=void 0,this._connectionState!==Xr.Reconnecting){this._logger.log(tt.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=Xr.Connected,this._logger.log(tt.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(o=>o.apply(this,[this.connection.connectionId]))}catch(o){this._logger.log(tt.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${o}'.`)}return}catch(o){if(this._logger.log(tt.Information,`Reconnect attempt failed because of error '${o}'.`),this._connectionState!==Xr.Reconnecting){this._logger.log(tt.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Xr.Disconnecting&&this._completeClose();return}s=o instanceof Error?o:new Error(o.toString()),i=this._getNextRetryDelay(n++,Date.now()-a,s)}}this._logger.log(tt.Information,`Reconnect retries have been exhausted after ${Date.now()-a} ms and ${n} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(t,a,n){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:a,previousRetryCount:t,retryReason:n})}catch(s){return this._logger.log(tt.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${a}) threw error '${s}'.`),null}}_cancelCallbacksWithError(t){const a=this._callbacks;this._callbacks={},Object.keys(a).forEach(n=>{const s=a[n];try{s(null,t)}catch(i){this._logger.log(tt.Error,`Stream 'error' callback called with '${t}' threw error: ${uw(i)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,a,n,s){if(n)return s.length!==0?{arguments:a,streamIds:s,target:t,type:vr.Invocation}:{arguments:a,target:t,type:vr.Invocation};{const i=this._invocationId;return this._invocationId++,s.length!==0?{arguments:a,invocationId:i.toString(),streamIds:s,target:t,type:vr.Invocation}:{arguments:a,invocationId:i.toString(),target:t,type:vr.Invocation}}}_launchStreams(t,a){if(t.length!==0){a||(a=Promise.resolve());for(const n in t)t[n].subscribe({complete:()=>{a=a.then(()=>this._sendWithProtocol(this._createCompletionMessage(n)))},error:s=>{let i;s instanceof Error?i=s.message:s&&s.toString?i=s.toString():i="Unknown error",a=a.then(()=>this._sendWithProtocol(this._createCompletionMessage(n,i)))},next:s=>{a=a.then(()=>this._sendWithProtocol(this._createStreamItemMessage(n,s)))}})}}_replaceStreamingParams(t){const a=[],n=[];for(let s=0;s<t.length;s++){const i=t[s];if(this._isObservable(i)){const o=this._invocationId;this._invocationId++,a[o]=i,n.push(o.toString()),t.splice(s,1)}}return[a,n]}_isObservable(t){return t&&t.subscribe&&typeof t.subscribe=="function"}_createStreamInvocation(t,a,n){const s=this._invocationId;return this._invocationId++,n.length!==0?{arguments:a,invocationId:s.toString(),streamIds:n,target:t,type:vr.StreamInvocation}:{arguments:a,invocationId:s.toString(),target:t,type:vr.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:vr.CancelInvocation}}_createStreamItemMessage(t,a){return{invocationId:t,item:a,type:vr.StreamItem}}_createCompletionMessage(t,a,n){return a?{error:a,invocationId:t,type:vr.Completion}:{invocationId:t,result:n,type:vr.Completion}}_createCloseMessage(){return{type:vr.Close}}}const OX=[0,2e3,1e4,3e4,null];class GM{constructor(t){this._retryDelays=t!==void 0?[...t,null]:OX}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}class Yc{}Yc.Authorization="Authorization";Yc.Cookie="Cookie";class RX extends cb{constructor(t,a){super(),this._innerClient=t,this._accessTokenFactory=a}async send(t){let a=!0;this._accessTokenFactory&&(!this._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(a=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(t);const n=await this._innerClient.send(t);return a&&n.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(t),await this._innerClient.send(t)):n}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[Yc.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[Yc.Authorization]&&delete t.headers[Yc.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}}var rn;(function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"})(rn||(rn={}));var ss;(function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"})(ss||(ss={}));let DX=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class YM{get pollAborted(){return this._pollAbort.aborted}constructor(t,a,n){this._httpClient=t,this._logger=a,this._pollAbort=new DX,this._options=n,this._running=!1,this.onreceive=null,this.onclose=null}async connect(t,a){if(on.isRequired(t,"url"),on.isRequired(a,"transferFormat"),on.isIn(a,ss,"transferFormat"),this._url=t,this._logger.log(tt.Trace,"(LongPolling transport) Connecting."),a===ss.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[n,s]=Im(),i={[n]:s,...this._options.headers},o={abortSignal:this._pollAbort.signal,headers:i,timeout:1e5,withCredentials:this._options.withCredentials};a===ss.Binary&&(o.responseType="arraybuffer");const l=`${t}&_=${Date.now()}`;this._logger.log(tt.Trace,`(LongPolling transport) polling: ${l}.`);const d=await this._httpClient.get(l,o);d.statusCode!==200?(this._logger.log(tt.Error,`(LongPolling transport) Unexpected response code: ${d.statusCode}.`),this._closeError=new Gc(d.statusText||"",d.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,o)}async _poll(t,a){try{for(;this._running;)try{const n=`${t}&_=${Date.now()}`;this._logger.log(tt.Trace,`(LongPolling transport) polling: ${n}.`);const s=await this._httpClient.get(n,a);s.statusCode===204?(this._logger.log(tt.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):s.statusCode!==200?(this._logger.log(tt.Error,`(LongPolling transport) Unexpected response code: ${s.statusCode}.`),this._closeError=new Gc(s.statusText||"",s.statusCode),this._running=!1):s.content?(this._logger.log(tt.Trace,`(LongPolling transport) data received. ${$h(s.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(s.content)):this._logger.log(tt.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(n){this._running?n instanceof D2?this._logger.log(tt.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=n,this._running=!1):this._logger.log(tt.Trace,`(LongPolling transport) Poll errored after shutdown: ${n.message}`)}}finally{this._logger.log(tt.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(t){return this._running?_R(this._logger,"LongPolling",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(tt.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(tt.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[a,n]=Im();t[a]=n;const s={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let i;try{await this._httpClient.delete(this._url,s)}catch(o){i=o}i?i instanceof Gc&&(i.statusCode===404?this._logger.log(tt.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(tt.Trace,`(LongPolling transport) Error sending a DELETE request: ${i}`)):this._logger.log(tt.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(tt.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(tt.Trace,t),this.onclose(this._closeError)}}}class BX{constructor(t,a,n,s){this._httpClient=t,this._accessToken=a,this._logger=n,this._options=s,this.onreceive=null,this.onclose=null}async connect(t,a){return on.isRequired(t,"url"),on.isRequired(a,"transferFormat"),on.isIn(a,ss,"transferFormat"),this._logger.log(tt.Trace,"(SSE transport) Connecting."),this._url=t,this._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((n,s)=>{let i=!1;if(a!==ss.Text){s(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let o;if(Ea.isBrowser||Ea.isWebWorker)o=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{const l=this._httpClient.getCookieString(t),d={};d.Cookie=l;const[c,g]=Im();d[c]=g,o=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:{...d,...this._options.headers}})}try{o.onmessage=l=>{if(this.onreceive)try{this._logger.log(tt.Trace,`(SSE transport) data received. ${$h(l.data,this._options.logMessageContent)}.`),this.onreceive(l.data)}catch(d){this._close(d);return}},o.onerror=l=>{i?this._close():s(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},o.onopen=()=>{this._logger.log(tt.Information,`SSE connected to ${this._url}`),this._eventSource=o,i=!0,n()}}catch(l){s(l);return}})}async send(t){return this._eventSource?_R(this._logger,"SSE",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class LX{constructor(t,a,n,s,i,o){this._logger=n,this._accessTokenFactory=a,this._logMessageContent=s,this._webSocketConstructor=i,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=o}async connect(t,a){on.isRequired(t,"url"),on.isRequired(a,"transferFormat"),on.isIn(a,ss,"transferFormat"),this._logger.log(tt.Trace,"(WebSockets transport) Connecting.");let n;return this._accessTokenFactory&&(n=await this._accessTokenFactory()),new Promise((s,i)=>{t=t.replace(/^http/,"ws");let o;const l=this._httpClient.getCookieString(t);let d=!1;if(Ea.isNode||Ea.isReactNative){const c={},[g,h]=Im();c[g]=h,n&&(c[Yc.Authorization]=`Bearer ${n}`),l&&(c[Yc.Cookie]=l),o=new this._webSocketConstructor(t,void 0,{headers:{...c,...this._headers}})}else n&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(n)}`);o||(o=new this._webSocketConstructor(t)),a===ss.Binary&&(o.binaryType="arraybuffer"),o.onopen=c=>{this._logger.log(tt.Information,`WebSocket connected to ${t}.`),this._webSocket=o,d=!0,s()},o.onerror=c=>{let g=null;typeof ErrorEvent<"u"&&c instanceof ErrorEvent?g=c.error:g="There was an error with the transport",this._logger.log(tt.Information,`(WebSockets transport) ${g}.`)},o.onmessage=c=>{if(this._logger.log(tt.Trace,`(WebSockets transport) data received. ${$h(c.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(c.data)}catch(g){this._close(g);return}},o.onclose=c=>{if(d)this._close(c);else{let g=null;typeof ErrorEvent<"u"&&c instanceof ErrorEvent?g=c.error:g="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",i(new Error(g))}}})}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(tt.Trace,`(WebSockets transport) sending data. ${$h(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(tt.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(t)&&(t.wasClean===!1||t.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)):t instanceof Error?this.onclose(t):this.onclose())}_isCloseEvent(t){return t&&typeof t.wasClean=="boolean"&&typeof t.code=="number"}}const ZM=100;class $X{constructor(t,a={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,on.isRequired(t,"url"),this._logger=xX(a.logger),this.baseUrl=this._resolveUrl(t),a=a||{},a.logMessageContent=a.logMessageContent===void 0?!1:a.logMessageContent,typeof a.withCredentials=="boolean"||a.withCredentials===void 0)a.withCredentials=a.withCredentials===void 0?!0:a.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");a.timeout=a.timeout===void 0?100*1e3:a.timeout;let n=null,s=null;if(Ea.isNode&&typeof require<"u"){const i=typeof __webpack_require__=="function"?__non_webpack_require__:require;n=i("ws"),s=i("eventsource")}!Ea.isNode&&typeof WebSocket<"u"&&!a.WebSocket?a.WebSocket=WebSocket:Ea.isNode&&!a.WebSocket&&n&&(a.WebSocket=n),!Ea.isNode&&typeof EventSource<"u"&&!a.EventSource?a.EventSource=EventSource:Ea.isNode&&!a.EventSource&&typeof s<"u"&&(a.EventSource=s),this._httpClient=new RX(a.httpClient||new SX(this._logger),a.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=a,this.onreceive=null,this.onclose=null}async start(t){if(t=t||ss.Binary,on.isIn(t,ss,"transferFormat"),this._logger.log(tt.Debug,`Starting connection with transfer format '${ss[t]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),await this._startInternalPromise,this._connectionState==="Disconnecting"){const a="Failed to start the HttpConnection before stop() was called.";return this._logger.log(tt.Error,a),await this._stopPromise,Promise.reject(new xo(a))}else if(this._connectionState!=="Connected"){const a="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(tt.Error,a),Promise.reject(new xo(a))}this._connectionStarted=!0}send(t){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new L2(this.transport)),this._sendQueue.send(t))}async stop(t){if(this._connectionState==="Disconnected")return this._logger.log(tt.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(tt.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(a=>{this._stopPromiseResolver=a}),await this._stopInternal(t),await this._stopPromise}async _stopInternal(t){this._stopError=t;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(a){this._logger.log(tt.Error,`HttpConnection.transport.stop() threw error '${a}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(tt.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(t){let a=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===rn.WebSockets)this.transport=this._constructTransport(rn.WebSockets),await this._startTransport(a,t);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let n=null,s=0;do{if(n=await this._getNegotiationResponse(a),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new xo("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(n.url&&(a=n.url),n.accessToken){const i=n.accessToken;this._accessTokenFactory=()=>i,this._httpClient._accessToken=i,this._httpClient._accessTokenFactory=void 0}s++}while(n.url&&s<ZM);if(s===ZM&&n.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(a,this._options.transport,n,t)}this.transport instanceof YM&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(tt.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(n){return this._logger.log(tt.Error,"Failed to start the connection: "+n),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(n)}}async _getNegotiationResponse(t){const a={},[n,s]=Im();a[n]=s;const i=this._resolveNegotiateUrl(t);this._logger.log(tt.Debug,`Sending negotiation request: ${i}.`);try{const o=await this._httpClient.post(i,{content:"",headers:{...a,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(o.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${o.statusCode}'`));const l=JSON.parse(o.content);return(!l.negotiateVersion||l.negotiateVersion<1)&&(l.connectionToken=l.connectionId),l.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new KM("Client didn't negotiate Stateful Reconnect but the server did.")):l}catch(o){let l="Failed to complete negotiation with the server: "+o;return o instanceof Gc&&o.statusCode===404&&(l=l+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(tt.Error,l),Promise.reject(new KM(l))}}_createConnectUrl(t,a){return a?t+(t.indexOf("?")===-1?"?":"&")+`id=${a}`:t}async _createTransport(t,a,n,s){let i=this._createConnectUrl(t,n.connectionToken);if(this._isITransport(a)){this._logger.log(tt.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=a,await this._startTransport(i,s),this.connectionId=n.connectionId;return}const o=[],l=n.availableTransports||[];let d=n;for(const c of l){const g=this._resolveTransportOrError(c,a,s,d?.useStatefulReconnect===!0);if(g instanceof Error)o.push(`${c.transport} failed:`),o.push(g);else if(this._isITransport(g)){if(this.transport=g,!d){try{d=await this._getNegotiationResponse(t)}catch(h){return Promise.reject(h)}i=this._createConnectUrl(t,d.connectionToken)}try{await this._startTransport(i,s),this.connectionId=d.connectionId;return}catch(h){if(this._logger.log(tt.Error,`Failed to start the transport '${c.transport}': ${h}`),d=void 0,o.push(new gX(`${c.transport} failed: ${h}`,rn[c.transport])),this._connectionState!=="Connecting"){const x="Failed to select transport before stop() was called.";return this._logger.log(tt.Debug,x),Promise.reject(new xo(x))}}}}return o.length>0?Promise.reject(new hX(`Unable to connect to the server with any of the available transports. ${o.join(" ")}`,o)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(t){switch(t){case rn.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new LX(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case rn.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new BX(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case rn.LongPolling:return new YM(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,a){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async n=>{let s=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(t,a),await this.features.resend()}catch{s=!0}else{this._stopConnection(n);return}s&&this._stopConnection(n)}:this.transport.onclose=n=>this._stopConnection(n),this.transport.connect(t,a)}_resolveTransportOrError(t,a,n,s){const i=rn[t.transport];if(i==null)return this._logger.log(tt.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(FX(a,i))if(t.transferFormats.map(l=>ss[l]).indexOf(n)>=0){if(i===rn.WebSockets&&!this._options.WebSocket||i===rn.ServerSentEvents&&!this._options.EventSource)return this._logger.log(tt.Debug,`Skipping transport '${rn[i]}' because it is not supported in your environment.'`),new uX(`'${rn[i]}' is not supported in your environment.`,i);this._logger.log(tt.Debug,`Selecting transport '${rn[i]}'.`);try{return this.features.reconnect=i===rn.WebSockets?s:void 0,this._constructTransport(i)}catch(l){return l}}else return this._logger.log(tt.Debug,`Skipping transport '${rn[i]}' because it does not support the requested transfer format '${ss[n]}'.`),new Error(`'${rn[i]}' does not support ${ss[n]}.`);else return this._logger.log(tt.Debug,`Skipping transport '${rn[i]}' because it was disabled by the client.`),new mX(`'${rn[i]}' is disabled by the client.`,i)}_isITransport(t){return t&&typeof t=="object"&&"connect"in t}_stopConnection(t){if(this._logger.log(tt.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(tt.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(tt.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),t?this._logger.log(tt.Error,`Connection disconnected with error '${t}'.`):this._logger.log(tt.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(a=>{this._logger.log(tt.Error,`TransportSendQueue.stop() threw error '${a}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(a){this._logger.log(tt.Error,`HttpConnection.onclose(${t}) threw error '${a}'.`)}}}_resolveUrl(t){if(t.lastIndexOf("https://",0)===0||t.lastIndexOf("http://",0)===0)return t;if(!Ea.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const a=window.document.createElement("a");return a.href=t,this._logger.log(tt.Information,`Normalizing '${t}' to '${a.href}'.`),a.href}_resolveNegotiateUrl(t){const a=new URL(t);a.pathname.endsWith("/")?a.pathname+="negotiate":a.pathname+="/negotiate";const n=new URLSearchParams(a.searchParams);return n.has("negotiateVersion")||n.append("negotiateVersion",this._negotiateVersion.toString()),n.has("useStatefulReconnect")?n.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&n.append("useStatefulReconnect","true"),a.search=n.toString(),a.toString()}}function FX(e,t){return!e||(t&e)!==0}class L2{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new xp,this._transportResult=new xp,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new xp),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new xp;const t=this._transportResult;this._transportResult=void 0;const a=typeof this._buffer[0]=="string"?this._buffer.join(""):L2._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(a),t.resolve()}catch(n){t.reject(n)}}}static _concatBuffers(t){const a=t.map(i=>i.byteLength).reduce((i,o)=>i+o),n=new Uint8Array(a);let s=0;for(const i of t)n.set(new Uint8Array(i),s),s+=i.byteLength;return n.buffer}}class xp{constructor(){this.promise=new Promise((t,a)=>[this._resolver,this._rejecter]=[t,a])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}const zX="json";class UX{constructor(){this.name=zX,this.version=2,this.transferFormat=ss.Text}parseMessages(t,a){if(typeof t!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];a===null&&(a=Lh.instance);const n=fi.parse(t),s=[];for(const i of n){const o=JSON.parse(i);if(typeof o.type!="number")throw new Error("Invalid payload.");switch(o.type){case vr.Invocation:this._isInvocationMessage(o);break;case vr.StreamItem:this._isStreamItemMessage(o);break;case vr.Completion:this._isCompletionMessage(o);break;case vr.Ping:break;case vr.Close:break;case vr.Ack:this._isAckMessage(o);break;case vr.Sequence:this._isSequenceMessage(o);break;default:a.log(tt.Information,"Unknown message type '"+o.type+"' ignored.");continue}s.push(o)}return s}writeMessage(t){return fi.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),t.invocationId!==void 0&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),t.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,a){if(typeof t!="string"||t==="")throw new Error(a)}}const qX={trace:tt.Trace,debug:tt.Debug,info:tt.Information,information:tt.Information,warn:tt.Warning,warning:tt.Warning,error:tt.Error,critical:tt.Critical,none:tt.None};function VX(e){const t=qX[e.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${e}`)}class HX{configureLogging(t){if(on.isRequired(t,"logging"),WX(t))this.logger=t;else if(typeof t=="string"){const a=VX(t);this.logger=new Bx(a)}else this.logger=new Bx(t);return this}withUrl(t,a){return on.isRequired(t,"url"),on.isNotEmpty(t,"url"),this.url=t,typeof a=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...a}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:a},this}withHubProtocol(t){return on.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new GM(t):this.reconnectPolicy=t:this.reconnectPolicy=new GM,this}withServerTimeout(t){return on.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return on.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t?.bufferSize,this}build(){const t=this.httpConnectionOptions||{};if(t.logger===void 0&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const a=new $X(this.url,t);return B2.create(a,this.logger||Lh.instance,this.protocol||new UX,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function WX(e){return e.log!==void 0}class KX{connection=null;isConnecting=!1;retryCount=0;maxRetries=3;retryDelay=2e3;connectionPromise=null;async startConnection(t){return this.isConnecting&&this.connectionPromise?(N.signalR("warn","Balants zaten kuruluyor, bekleniyor..."),this.connectionPromise):this.connection?.state===Xr.Connected?(N.signalR("info","Zaten bal"),Promise.resolve()):(this.isConnecting=!0,this.connectionPromise=this._startConnection(t),this.connectionPromise)}async _startConnection(t){try{this.connection&&(await this.connection.stop(),this.connection=null);const a="https://api.mertcode.com",n="https://api.mertcode.com/hubs/table";N.signalR("info","SignalR balants balatlyor",{apiUrl:a,signalRUrl:n,isDev:!1}),this.connection=new HX().withUrl(n,{accessTokenFactory:()=>t,skipNegotiation:!1,transport:rn.WebSockets}).withAutomaticReconnect({nextRetryDelayInMilliseconds:s=>s.previousRetryCount===0?0:s.previousRetryCount<this.maxRetries?this.retryDelay:null}).configureLogging(tt.Warning).build(),this.connection.onreconnecting(s=>{N.signalR("warn","Yeniden balanyor...",s)}),this.connection.onreconnected(s=>{N.signalR("info","Yeniden baland",{connectionId:s}),this.retryCount=0}),this.connection.onclose(s=>{N.signalR("warn","Balants kapand",s),this.isConnecting=!1,this.connectionPromise=null}),await this.connection.start(),N.signalR("info","Baaryla baland"),this.retryCount=0}catch(a){this.retryCount++,N.signalR("error","Balant hatas",a),this.retryCount<this.maxRetries?(N.signalR("info",`Yeniden deneniyor (${this.retryCount}/${this.maxRetries})`),setTimeout(()=>{this.isConnecting=!1,this.connectionPromise=null,this.startConnection(t)},this.retryDelay)):(N.signalR("error","Maksimum deneme saysna ulat, balant kurulamad"),this.isConnecting=!1,this.connectionPromise=null)}finally{this.isConnecting=!1}}async joinBranchGroup(t){if(this.connection?.state===Xr.Connected)try{await this.connection.invoke("JoinBranchGroup",t),N.signalR("info","Branch grubuna katlnd",{branchId:t})}catch(a){N.signalR("error","Branch grubuna katlma hatas",{branchId:t,error:a})}else N.signalR("warn","Bal deil, branch grubuna katlnamyor",{branchId:t})}async leaveBranchGroup(t){if(this.connection?.state===Xr.Connected)try{await this.connection.invoke("LeaveBranchGroup",t),N.signalR("info","Branch grubundan ayrlnd",{branchId:t})}catch(a){N.signalR("error","Branch grubundan ayrlma hatas",{branchId:t,error:a})}}async requestTableStatus(t){if(this.connection?.state===Xr.Connected)try{await this.connection.invoke("RequestTableStatus",t),N.signalR("info","Masa durumu istendi",{branchId:t})}catch(a){N.signalR("error","Masa durumu isteme hatas",{branchId:t,error:a})}else N.signalR("warn","Bal deil, Masa durumu istenemiyor",{branchId:t})}onTableChanged(t){this.connection&&this.connection.on("TableChanged",a=>{N.signalR("info","Masa deiiklii alnd",a),t(a)})}onTablesBatchCreated(t){this.connection&&this.connection.on("TablesBatchCreated",a=>{N.signalR("info","Toplu Masa oluturma alnd",a),t(a)})}onTableCategoryChanged(t){this.connection&&this.connection.on("TableCategoryChanged",a=>{N.signalR("info","Masa kategorisi deiiklii alnd",a),t(a)})}onTableStatusChanged(t){this.connection&&this.connection.on("TableStatusChanged",a=>{N.signalR("info","Masa durumu deiiklii alnd",a),t(a)})}onRefreshTableList(t){this.connection&&this.connection.on("RefreshTableList",a=>{N.signalR("info","Masa listesi yenileme sinyali alnd",a),t(a)})}onError(t){this.connection&&this.connection.on("Error",a=>{N.signalR("error","Sunucu hatas",a),t(a)})}async stopConnection(){if(this.connection)try{await this.connection.stop(),N.signalR("info","Balants durduruldu")}catch(t){N.signalR("error","Balants durdurma hatas",t)}}isConnected(){return this.connection?.state===Xr.Connected}getConnectionState(){return this.connection?.state||"Disconnected"}}const tn=new KX,QX=(e,t,a={})=>{const n=p.useRef(!1),s=p.useRef(null),i=p.useCallback(async()=>{if(!e||!t)return N.signalR("warn","Balatlamyor: token veya branchId eksik",{token:!!e,branchId:t}),!1;if(n.current&&s.current===t)return N.signalR("info","Zaten balatlm"),!0;try{return N.signalR("info","Balatlyor",{branchId:t}),await tn.startConnection(e),tn.isConnected()?(s.current&&s.current!==t&&await tn.leaveBranchGroup(s.current),await tn.joinBranchGroup(t),await tn.requestTableStatus(t),a.onTableChanged&&tn.onTableChanged(a.onTableChanged),a.onTablesBatchCreated&&tn.onTablesBatchCreated(a.onTablesBatchCreated),a.onTableCategoryChanged&&tn.onTableCategoryChanged(a.onTableCategoryChanged),a.onTableStatusChanged&&tn.onTableStatusChanged(a.onTableStatusChanged),a.onRefreshTableList&&tn.onRefreshTableList(a.onRefreshTableList),a.onError?tn.onError(o=>{a.onError({message:o,code:void 0,details:void 0})}):tn.onError(o=>{N.signalR("error","Sunucu hatas",o)}),n.current=!0,s.current=t,N.signalR("info","Baaryla balatld",{branchId:t}),!0):(N.signalR("warn","Balants kurulamad",{branchId:t}),!1)}catch(o){return N.signalR("error","Balatma hatas",o),!1}},[e,t,a]);return p.useEffect(()=>(i(),()=>{n.current&&(N.signalR("info","Temizleniyor",{branchId:t}),tn.stopConnection(),n.current=!1,s.current=null)}),[i]),p.useEffect(()=>{tn.isConnected()&&t&&s.current!==t&&(async()=>{try{s.current&&await tn.leaveBranchGroup(s.current),await tn.joinBranchGroup(t),await tn.requestTableStatus(t),s.current=t,N.signalR("info","Branch deitirildi",{branchId:t})}catch(l){N.signalR("error","Branch deitirme hatas",{branchId:t,error:l})}})()},[t]),{isConnected:tn.isConnected(),connectionState:tn.getConnectionState(),reconnect:()=>{n.current=!1,s.current=null,i()},requestTableStatus:()=>{t&&tn.requestTableStatus(t)}}},GX=({item:e,isActive:t,index:a,onClick:n,onSelect:s})=>{const i=`
    relative w-80 h-[520px] transition-all duration-700 ease-out cursor-pointer
    ${t?"z-20 scale-100 opacity-100":"scale-[0.85] opacity-70 hover:opacity-90 hover:scale-[0.87]"}
    bg-white/95 dark:bg-gray-800/95 backdrop-blur-xl rounded-3xl shadow-2xl
    border border-white/20 dark:border-gray-700/30
    overflow-hidden group
    hover:shadow-3xl hover:border-white/30 dark:hover:border-gray-600/40
  `,o=()=>e.type==="branch"&&e.isTemporarilyClosed?r.jsx(Nt,{className:"w-4 h-4"}):e.status?r.jsx(_r,{className:"w-4 h-4"}):r.jsx(Nt,{className:"w-4 h-4"}),l=()=>e.type==="branch"&&e.isTemporarilyClosed?"Geici Kapal":e.status?"Aktif":"Pasif",d=()=>e.type==="branch"&&e.isTemporarilyClosed?"bg-amber-500/90 text-white border-amber-400/50 shadow-amber-500/25":e.status?"bg-emerald-500/90 text-white border-emerald-400/50 shadow-emerald-500/25":"bg-red-500/90 text-white border-red-400/50 shadow-red-500/25",c=()=>e.isTemporarilyClosed?"bg-amber-50/80 dark:bg-amber-900/30 border-amber-200/50 dark:border-amber-700/50 text-amber-700 dark:text-amber-300":e.isOpenNow?"bg-emerald-50/80 dark:bg-emerald-900/30 border-emerald-200/50 dark:border-emerald-700/50 text-emerald-700 dark:text-emerald-300":"bg-red-50/80 dark:bg-red-900/30 border-red-200/50 dark:border-red-700/50 text-red-700 dark:text-red-300",g=()=>e.type==="restaurant"?"from-primary-500 via-primary-600 to-primary-700":"from-blue-500 via-blue-600 to-blue-700",h=()=>e.type==="restaurant"?"from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 focus:ring-primary-500/30":"from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 focus:ring-blue-500/30";return r.jsxs(ke.div,{className:i,initial:!1,animate:{scale:t?1:.85,opacity:t?1:.7},whileHover:{scale:t?1.02:.87,opacity:t?1:.9},transition:{duration:.4,ease:[.4,0,.2,1]},onClick:n,children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-500/5 via-primary-600/5 to-primary-700/5 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),r.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-1000",children:[r.jsx("div",{className:"absolute top-10 left-10 w-2 h-2 bg-primary-400/30 rounded-full animate-ping"}),r.jsx("div",{className:"absolute top-20 right-20 w-1 h-1 bg-primary-500/40 rounded-full animate-pulse delay-300"}),r.jsx("div",{className:"absolute bottom-20 left-20 w-1.5 h-1.5 bg-primary-600/35 rounded-full animate-ping delay-700"})]}),r.jsx("div",{className:"absolute top-4 right-4 z-10",children:r.jsxs("div",{className:`
          flex items-center gap-2 px-3 py-2 rounded-full text-xs font-semibold 
          backdrop-blur-md border shadow-lg ${d()}
          transform transition-all duration-300 group-hover:scale-105
        `,children:[o(),r.jsx("span",{children:l()})]})}),e.status&&t&&r.jsx("div",{className:"absolute top-4 left-4 z-10",children:r.jsx(ke.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"flex items-center justify-center w-8 h-8 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full shadow-lg",children:r.jsx(ko,{className:"w-4 h-4 text-white"})})}),r.jsxs("div",{className:"p-6 flex flex-col h-full relative z-10",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-center justify-center w-20 h-20 mx-auto mb-6 rounded-3xl shadow-2xl transition-all duration-500 group-hover:shadow-3xl group-hover:scale-110",children:r.jsxs("div",{className:`
              w-full h-full rounded-3xl bg-gradient-to-br ${g()}
              flex items-center justify-center
              transform transition-all duration-500 group-hover:rotate-3
              overflow-hidden
            `,children:[e.logoPath?r.jsx("img",{src:e.logoPath,alt:`${e.name} logo`,className:"w-12 h-12 object-cover rounded-2xl bg-white/10",onError:x=>{x.currentTarget.style.display="none",x.currentTarget.nextElementSibling.classList.remove("hidden")}}):null,r.jsx("div",{className:e.logoPath?"hidden":"",children:e.type==="restaurant"?r.jsx(hi,{className:"w-10 h-10 text-white drop-shadow-lg"}):r.jsx(Qr,{className:"w-10 h-10 text-white drop-shadow-lg"})})]})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white text-center mb-4 leading-tight group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-gray-900 group-hover:to-gray-600 dark:group-hover:from-white dark:group-hover:to-gray-300 group-hover:bg-clip-text transition-all duration-500",children:e.name}),e.type==="branch"&&r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:`
                flex items-center gap-2 px-4 py-3 rounded-2xl border backdrop-blur-sm
                transition-all duration-300 group-hover:scale-105 ${c()}
              `,children:[r.jsx(Or,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:e.isTemporarilyClosed?"Geici Kapal":e.isOpenNow?"Ak":"Kapal"})]})}),r.jsx("div",{className:"text-center mb-6",children:r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:e.type==="restaurant"?"Tm restoran operasyonlarnz ynetin, menlerinizi dzenleyin ve genel ayarlarnz kontrol edin.":"Bu ubenin siparilerini takip edin, masa durumlarn grntleyin ve gnlk operasyonlar ynetin."})})]}),r.jsxs(ke.button,{onClick:x=>{x.stopPropagation(),s(e.id)},className:`
            w-full flex items-center justify-center px-6 py-4 rounded-2xl text-white font-semibold
            bg-gradient-to-r ${h()}
            transform transition-all duration-300 hover:scale-105 focus:outline-none focus:ring-4
            shadow-lg hover:shadow-2xl relative overflow-hidden group/button
          `,whileHover:{scale:1.05},whileTap:{scale:.98},children:[r.jsx("div",{className:"absolute inset-0 bg-white/20 transform -skew-x-12 -translate-x-full group-hover/button:translate-x-full transition-transform duration-700"}),e.type==="restaurant"?r.jsxs(r.Fragment,{children:[r.jsx(aa,{className:"w-5 h-5 mr-3 transition-transform duration-300 group-hover/button:scale-110"}),r.jsx("span",{children:"Restoran Ynetimine Git"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Wm,{className:"w-5 h-5 mr-3 transition-transform duration-300 group-hover/button:translate-x-1"}),r.jsx("span",{children:"ubeyi Se"})]})]})]})]})},XM=({text:e="Ykleniyor...",size:t="md"})=>{const a={sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"},n={sm:"gap-2",md:"gap-4",lg:"gap-6"};return r.jsxs("div",{className:`flex flex-col items-center justify-center ${n[t]}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx(ke.div,{className:`${a[t]} rounded-full border-4 border-gray-200/30 dark:border-gray-700/30`,animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"}}),r.jsx(ke.div,{className:"absolute inset-1 rounded-full border-4 border-transparent border-t-primary-500 border-r-primary-600",animate:{rotate:-360},transition:{duration:1.5,repeat:1/0,ease:"linear"}}),r.jsx(ke.div,{className:"absolute inset-2 rounded-full border-2 border-transparent border-t-blue-500 border-l-blue-600",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),r.jsx(ke.div,{className:"absolute inset-0 flex items-center justify-center",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:r.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full"})})]}),r.jsx(ke.p,{className:"text-gray-600 dark:text-gray-400 font-medium text-center",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:e}),r.jsx("div",{className:"flex gap-1",children:[0,1,2].map(s=>r.jsx(ke.div,{className:"w-2 h-2 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full",animate:{scale:[1,1.5,1]},transition:{duration:.8,repeat:1/0,delay:s*.2}},s))})]})},JM=({title:e="Bir Hata Olutu",message:t,onRetry:a,onGoHome:n,showHomeButton:s=!1})=>r.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex items-center justify-center min-h-[400px] p-8",children:r.jsx("div",{className:"max-w-md w-full",children:r.jsxs("div",{className:"relative bg-white/90 dark:bg-gray-800/90 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 dark:border-gray-700/30 p-8 text-center overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500 to-orange-500"})}),r.jsxs(ke.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.2},className:"relative flex items-center justify-center w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-red-500 to-orange-500 shadow-2xl",children:[r.jsx(ya,{className:"w-10 h-10 text-white"}),r.jsx(ke.div,{className:"absolute inset-0 rounded-full border-4 border-red-500/30",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}})]}),r.jsx(ke.h2,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:e}),r.jsx(ke.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"text-gray-600 dark:text-gray-400 mb-8 leading-relaxed",children:t}),r.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"flex flex-col gap-3",children:[a&&r.jsxs(ke.button,{onClick:a,className:"flex items-center justify-center gap-3 w-full px-6 py-3 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-red-500/30 shadow-lg hover:shadow-xl",whileHover:{scale:1.05},whileTap:{scale:.98},children:[r.jsx(cs,{className:"w-5 h-5"}),"Tekrar Dene"]}),s&&n&&r.jsxs(ke.button,{onClick:n,className:"flex items-center justify-center gap-3 w-full px-6 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-xl transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-gray-500/30",whileHover:{scale:1.05},whileTap:{scale:.98},children:[r.jsx(Yd,{className:"w-5 h-5"}),"Ana Sayfaya Dn"]})]})]})})}),YX=()=>{const{isDark:e,toggleTheme:t}=tc();return r.jsxs(ke.button,{onClick:t,className:"relative flex items-center justify-center w-14 h-8 bg-gray-200 dark:bg-gray-700 rounded-full shadow-inner transition-colors duration-300 focus:outline-none focus:ring-4 focus:ring-primary-500/30",whileTap:{scale:.95},children:[r.jsx(ke.div,{className:"absolute inset-1 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full shadow-lg",animate:{x:e?24:0},transition:{type:"spring",stiffness:500,damping:30}}),r.jsx(ke.div,{className:"absolute left-1 flex items-center justify-center w-6 h-6",animate:{scale:e?.8:1,opacity:e?.5:1},transition:{duration:.2},children:r.jsx(m0,{className:"w-4 h-4 text-yellow-500"})}),r.jsx(ke.div,{className:"absolute right-1 flex items-center justify-center w-6 h-6",animate:{scale:e?1:.8,opacity:e?1:.5},transition:{duration:.2},children:r.jsx(p2,{className:"w-4 h-4 text-blue-400"})})]})},ZX=()=>{const e=Ra(),{requireAuth:t,clearAuth:a}=db(),[n,s]=p.useState(null),[i,o]=p.useState(""),[l,d]=p.useState(!0),[c,g]=p.useState(!1),h=p.useRef(!0),x=p.useRef(!1),b=n?[{type:"restaurant",id:n.restaurantId,name:n.restaurantName,status:n.restaurantStatus,logoPath:n.restaurantLogoPath,canAccess:n.canAccessRestaurantPanel},...n.availableBranches.map(I=>({type:"branch",id:I.branchId,name:I.branchName,status:I.branchStatus,isOpenNow:I.isOpenNow,isTemporarilyClosed:I.isTemporarilyClosed}))]:[],{currentSlide:v,goToSlide:j,handlers:w}=lX({totalItems:b.length}),S=async()=>{if(!x.current){if(!t()){d(!1);return}d(!0);try{x.current=!0;const I=await Mm.getSelectionScreenData();if(h.current){if(!I||!I.data)throw new Error("API yant bo");s(I.data),o(""),d(!1)}}catch(I){h.current&&(o(I.message||"Veri yklenirken bir hata olutu"),d(!1))}finally{x.current=!1}}};p.useEffect(()=>((async()=>{if(h.current=!0,!!t()){if(Px()){N.info("Branch-only user detected, redirecting to dashboard"),e("/dashboard");return}if(g(!0),!x.current){d(!0);try{x.current=!0;const D=await Mm.getSelectionScreenData();if(h.current){if(!D||!D.data)throw new Error("API yant bo");s(D.data),o(""),d(!1)}}catch(D){h.current&&(o(D.message||"Veri yklenirken bir hata olutu"),d(!1))}finally{x.current=!1}}}})(),()=>{h.current=!1}),[]);const M=()=>{n?.restaurantId&&(N.info("Restaurant selected:",n.restaurantId),localStorage.setItem("restaurantName",n.restaurantName),localStorage.removeItem("selectedBranchId"),localStorage.removeItem("selectedBranchName"),e("/dashboard"))},T=I=>{if(I){N.info("Branch selected:",I);const _=n?.availableBranches.find(D=>D.branchId===Number(I));localStorage.setItem("selectedBranchId",I.toString()),localStorage.setItem("selectedBranchName",_?.branchName||"Bilinmeyen ube"),e("/dashboard")}},A=()=>{a(),e("/",{replace:!0})};return c?l&&!n?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-blue-50 to-gray-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:r.jsx(XM,{text:"Veriler ykleniyor..."})}):i?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-blue-50 to-gray-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:r.jsx(JM,{message:i,onRetry:()=>{x.current=!1,S()}})}):n?((!n.availableBranches||!Array.isArray(n.availableBranches))&&(N.error("Invalid data format:",n),n.availableBranches=[]),r.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-primary-50 via-blue-50 to-gray-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx(ke.div,{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-primary-400/20 to-primary-600/20 rounded-full blur-3xl",animate:{scale:[1,1.2,1],rotate:[0,90,0]},transition:{duration:20,repeat:1/0}}),r.jsx(ke.div,{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-blue-600/20 rounded-full blur-3xl",animate:{scale:[1.2,1,1.2],rotate:[90,0,90]},transition:{duration:25,repeat:1/0}})]}),r.jsx("header",{className:"relative z-10 w-full px-6 py-6 backdrop-blur-md bg-white/30 dark:bg-gray-900/30 border-b border-white/20 dark:border-gray-700/20",children:r.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[r.jsxs(ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl shadow-xl",children:r.jsx(Ps,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Ho Geldiniz"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n?.restaurantName})]})]}),r.jsxs(ke.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex items-center gap-4",children:[r.jsx(YX,{}),r.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 rounded-xl text-gray-700 dark:text-gray-300 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-all duration-300 transform hover:scale-105",children:[r.jsx(jm,{size:20}),r.jsx("span",{children:"k"})]})]})]})}),r.jsx("main",{className:"flex-1 flex items-center justify-center p-8 relative z-10",children:r.jsxs("div",{className:"relative w-full max-w-6xl mx-auto",children:[r.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Hangi paneli kullanmak istiyorsunuz?"}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Restoran ynetimi iin genel kontrol panelini veya belirli bir ube iin zel ynetim panelini sein."})]}),r.jsx("div",{className:"relative flex justify-center items-center min-h-[600px]",onTouchStart:w.handleTouchStart,onTouchMove:w.handleTouchMove,onTouchEnd:w.handleTouchEnd,onMouseDown:w.handleMouseDown,onMouseMove:w.handleMouseMove,onMouseUp:w.handleMouseUp,children:b.map((I,_)=>{const D=_-v,E=D===0;return r.jsx("div",{className:"absolute",style:{left:"50%",transform:`translateX(${-50+D*70}%)`,zIndex:E?20:10-Math.abs(D)},children:r.jsx(GX,{item:I,isActive:E,index:_,onClick:()=>!E&&j(_),onSelect:I.type==="restaurant"?M:T})},`${I.type}-${I.id}`)})}),r.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"flex justify-center gap-3 mt-12",children:b.map((I,_)=>r.jsxs(ke.button,{onClick:()=>j(_),className:`relative transition-all duration-300 ${v===_?"w-10 h-3":"w-3 h-3 hover:w-5"}`,whileHover:{scale:1.2},whileTap:{scale:.9},children:[r.jsx("div",{className:`w-full h-full rounded-full transition-all duration-300 ${v===_?"bg-gradient-to-r from-primary-600 to-primary-700 shadow-lg":"bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500"}`}),v===_&&r.jsx(ke.div,{className:"absolute inset-0 rounded-full bg-gradient-to-r from-primary-600 to-primary-700",initial:{scale:0},animate:{scale:1},transition:{duration:.3}})]},_))})]})})]})):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-blue-50 to-gray-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:r.jsx(JM,{title:"Veri Bulunamad",message:"Ltfen daha sonra tekrar deneyin.",onRetry:()=>{x.current=!1,S()}})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-blue-50 to-gray-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:r.jsx(XM,{text:"Kimlik dorulanyor..."})})},XX=({onSearch:e,onResultClick:t})=>{const[a,n]=p.useState(""),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[d,c]=p.useState([]),g=p.useRef(null),{t:h,isRTL:x}=Ze();Ss(g,()=>i(!1));const b=v=>{const j=v.target.value;n(j),i(!0),j.trim()?(l(!0),setTimeout(()=>{e(j),l(!1)},300)):c([])};return r.jsxs("div",{className:"relative",ref:g,dir:x?"rtl":"ltr",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:h("common.search"),value:a,onChange:b,className:`w-64 py-2 text-sm bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${x?"pr-10 pl-4":"pl-10 pr-4"}`}),r.jsx(Bn,{className:`absolute top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 ${x?"right-3":"left-3"}`})]}),s&&r.jsx("div",{className:`absolute top-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto ${x?"right-0 left-0":"left-0 right-0"}`,children:o?r.jsxs("div",{className:"p-4 text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-2 border-gray-300 dark:border-gray-600 border-t-primary-600"}),r.jsx("span",{className:`${x?"mr-2":"ml-2"} text-sm text-gray-500 dark:text-gray-400`,children:h("search.searching")})]}):d.length>0?r.jsx("div",{className:"py-2",children:d.map(v=>r.jsx("button",{onClick:()=>{t(v),i(!1),n(""),c([])},className:`w-full px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150 ${x?"text-right":"text-left"}`,children:r.jsxs("div",{className:`flex items-center ${x?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsxs("div",{className:"flex-shrink-0",children:[v.type==="product"&&r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),v.type==="order"&&r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),v.type==="branch"&&r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),v.type==="customer"&&r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"})]}),r.jsxs("div",{className:`flex-1 ${x?"mr-3":"ml-3"}`,children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v.title}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:v.description})]}),r.jsx("div",{className:`${x?"mr-2":"ml-2"}`,children:r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${v.type==="product"?"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300":v.type==="order"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":v.type==="branch"?"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300":"bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300"}`,children:v.type==="product"?h("search.types.product"):v.type==="order"?h("search.types.order"):v.type==="branch"?h("search.types.branch"):h("search.types.customer")})})]})},v.id))}):a.length>0?r.jsx("div",{className:"p-4 text-center",children:r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:h("search.noResults")})}):null})]})},JX=({branchName:e,onTabChange:t,onLogout:a,isBranchOnly:n})=>{const[s,i]=p.useState(!1),[o,l]=p.useState(null),[d,c]=p.useState(!0),g=p.useRef(null),{t:h,isRTL:x}=Ze();Ss(g,()=>i(!1)),p.useEffect(()=>{let w=!0;return(async()=>{try{const M=await Mm.getUserProfile();w&&l(M.data)}catch(M){if(w){const{logger:T}=await Wc(async()=>{const{logger:A}=await Promise.resolve().then(()=>Nh);return{logger:A}},void 0);T.error("ProfileDropdown: Kullanc bilgileri alnamad",M)}}finally{w&&c(!1)}})(),()=>{w=!1}},[]);const b=()=>{if(!o)return{displayName:h("profile.defaultName"),initials:"K"};const{appUser:w}=o,S=`${w.name} ${w.surname}`.trim(),M=`${w.name?.charAt(0)||""}${w.surname?.charAt(0)||""}`.toUpperCase();return{displayName:S||h("profile.defaultName"),initials:M||"K"}},{displayName:v,initials:j}=b();return d?r.jsx("div",{className:"relative",children:r.jsxs("div",{className:`flex items-center ${x?"space-x-reverse space-x-3":"space-x-3"} p-2 rounded-lg`,children:[r.jsx("div",{className:"hidden md:block",children:r.jsx("div",{className:`h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse mb-1 ${x?"text-right":"text-left"}`})}),r.jsx("div",{className:"h-8 w-8 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"}),r.jsx("div",{className:"h-4 w-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]})}):r.jsxs("div",{className:"relative",ref:g,dir:x?"rtl":"ltr",children:[r.jsxs("button",{onClick:()=>i(!s),className:`flex items-center ${x?"space-x-reverse space-x-3":"space-x-3"} p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200`,children:[r.jsxs("div",{className:`hidden md:block ${x?"text-right":"text-left"}`,children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v}),e&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e})]}),r.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium text-white",children:j})}),r.jsx(Rr,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&r.jsx("div",{className:`absolute mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50 ${x?"left-0":"right-0"}`,children:r.jsxs("div",{className:"py-2",children:[r.jsxs("button",{onClick:()=>{t("profile"),i(!1)},className:`w-full px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center ${x?"text-right space-x-reverse space-x-3":"text-left space-x-3"}`,children:[r.jsx(On,{className:"h-4 w-4"}),r.jsx("span",{children:h("profile.title")})]}),!n&&r.jsxs("button",{onClick:()=>{t("settings"),i(!1)},className:`w-full px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center ${x?"text-right space-x-reverse space-x-3":"text-left space-x-3"}`,children:[r.jsx(qa,{className:"h-4 w-4"}),r.jsx("span",{children:h("settings.title")})]}),r.jsx("hr",{className:"my-2 border-gray-200 dark:border-gray-700"}),r.jsxs("button",{onClick:()=>{a(),i(!1)},className:`w-full px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 flex items-center ${x?"text-right space-x-reverse space-x-3":"text-left space-x-3"}`,children:[r.jsx(jm,{className:"h-4 w-4"}),r.jsx("span",{children:h("auth.logout")})]})]})})]})},ub=({variant:e="header",showLabel:t=!1})=>{const{language:a,setLanguage:n,t:s}=Ze(),[i,o]=p.useState(!1),l=p.useRef(null),d=a==="ar",c=[{code:"tr",name:s("language.turkish"),flag:""},{code:"en",name:s("language.english"),flag:""},{code:"ar",name:s("language.arabic"),flag:""}],g=c.find(b=>b.code===a);p.useEffect(()=>{const b=v=>{l.current&&!l.current.contains(v.target)&&o(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const h=b=>{n(b),o(!1),setTimeout(()=>{},100)},x=()=>e==="navbar"?"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200":"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200";return r.jsxs("div",{className:"relative ",ref:l,children:[r.jsxs("button",{onClick:()=>o(!i),className:`${x()} flex items-center ${d?"space-x-reverse space-x-2":"space-x-2"}`,"aria-label":s("accessibility.language"),title:s("language.selectLanguage"),children:[r.jsx(Wi,{className:"h-5 w-5"}),t&&r.jsx("span",{className:"text-sm font-medium",children:g?.name}),r.jsx(Rr,{className:`h-4 w-4 transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&r.jsx("div",{className:`absolute top-full mt-2 ${d?"left-0":"right-0"} min-w-[180px] bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1`,children:c.map(b=>r.jsxs("button",{onClick:()=>h(b.code),className:`w-full flex  z-[999] items-center ${d?"space-x-reverse space-x-3":"space-x-3"} px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200 ${a===b.code?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400":""}`,children:[r.jsx("span",{className:"text-lg",children:b.flag}),r.jsx("span",{className:"font-medium",children:b.name}),a===b.code&&r.jsx("span",{className:`${d?"mr-auto":"ml-auto"} text-primary-600 dark:text-primary-400`,children:""})]},b.code))})]})},eJ=({toggleSidebar:e,activeTab:t,branchName:a,onLogout:n,onSearch:s,onSearchResultClick:i,isBranchOnly:o,onTabChange:l})=>{const{isDark:d,toggleTheme:c}=tc(),{t:g,language:h}=Ze(),x=h==="ar",b=()=>{switch(t){case"overview":return{title:g("dashboard.overview.title"),description:g("dashboard.overview.description")};case"branches":return{title:g("dashboard.branches.title"),description:g("dashboard.branches.description")};case"orders":return{title:g("dashboard.orders.title"),description:g("dashboard.orders.description")};case"products":return{title:g("dashboard.products.title"),description:g("dashboard.products.description")};case"tables":return{title:g("dashboard.tables.title"),description:g("dashboard.tables.description")};case"users":return{title:g("dashboard.users.title"),description:g("dashboard.users.description")};case"settings":return{title:g("dashboard.settings.title"),description:g("dashboard.settings.description")};case"profile":return{title:g("dashboard.profile.title"),description:g("dashboard.profile.description")};default:return{title:"",description:""}}},{title:v,description:j}=b();return r.jsx("div",{className:`fixed top-0 z-40 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 shadow-sm ${x?"left-0 right-0 lg:left-0 lg:right-64":"left-0 right-0 lg:left-64 lg:right-0"}`,children:r.jsx("nav",{className:"w-full px-4 lg:px-8 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:`flex items-center ${x?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-md text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(KO,{className:"h-6 w-6"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:v}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:j})]})]}),r.jsxs("div",{className:`flex items-center ${x?"space-x-reverse space-x-4":"space-x-4"}`,children:[r.jsx(XX,{onSearch:s,onResultClick:i}),r.jsx(ub,{variant:"navbar"}),r.jsx("button",{onClick:c,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",title:g(d?"theme.toggleToLight":"theme.toggleToDark"),"aria-label":g("accessibility.theme"),children:d?r.jsx(m0,{className:"h-5 w-5"}):r.jsx(p2,{className:"h-5 w-5"})}),r.jsxs("button",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200 relative","aria-label":g("accessibility.notifications"),title:g("notifications.title"),children:[r.jsx(xN,{className:"h-5 w-5"}),r.jsx("span",{className:`absolute -top-1 ${x?"-left-1":"-right-1"} h-3 w-3 bg-red-500 rounded-full text-xs text-white flex items-center justify-center`,children:"3"})]}),r.jsx(JX,{branchName:a,onTabChange:l,onLogout:n,isBranchOnly:o})]})]})})})},tJ=({isOpen:e,onClose:t,activeTab:a,setActiveTab:n,restaurantName:s,branchName:i,isBranchOnly:o,onLogout:l})=>{const d=Ra(),{t:c,language:g}=Ze(),h=g==="ar",x=(v,j)=>{d(`/dashboard/${v}`),n(j),e&&t()},b=()=>{d("/")};return r.jsxs(r.Fragment,{children:[e&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:t}),r.jsx("aside",{className:`fixed inset-y-0 ${h?"right-0":"left-0"} z-30 w-64 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${e?"translate-x-0":h?"translate-x-full":"-translate-x-full"}`,children:r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:`px-6 py-5 flex items-center justify-between border-b border-gray-200 dark:border-gray-700 ${h?"flex-row-reverse":""}`,children:[r.jsxs("button",{onClick:b,className:"flex items-center hover:opacity-80 transition-opacity duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 rounded-lg p-1",children:[r.jsx(aa,{className:"h-8 w-8 text-primary-600 dark:text-primary-400"}),r.jsx("span",{className:`${h?"mr-3":"ml-3"} text-xl font-bold text-gray-900 dark:text-white`,children:c("dashboard.sidebar.title")})]}),r.jsx("button",{onClick:t,className:"lg:hidden p-2 rounded-md text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(xt,{className:"h-6 w-6"})})]}),r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsx("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 truncate",children:s})}),r.jsxs("nav",{className:"mt-5 flex-1 px-3 space-y-1",children:[r.jsxs("button",{onClick:()=>x("overview","overview"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="overview"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(LO,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{className:"truncate",children:c("dashboard.overview.title")})]}),r.jsxs("button",{onClick:()=>x("RestaurantManagement","RestaurantManagement"),className:`w-full flex items-center text-sm px-3 py-2 rounded-md transition-colors duration-200 ${a==="RestaurantManagement"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(YH,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{className:"truncate",children:c("dashboard.RestaurantManagement.title")})]}),!i&&!o&&r.jsxs("button",{onClick:()=>x("branches","branches"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="branches"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(hi,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{className:"truncate",children:c("dashboard.branches.title")})]}),r.jsxs("button",{onClick:()=>x("ResturantOrders","ResturantOrders"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="ResturantOrders"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(VO,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.orders.title")})]}),r.jsxs("button",{onClick:()=>x("products","products"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="products"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(Kn,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.products.title")})]}),r.jsxs("button",{onClick:()=>x("ingredients","ingredients"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="ingredients"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(V5,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.ingredients.title")})]}),r.jsxs("button",{onClick:()=>x("extras","extras"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="extras"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(V5,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.extras.title")})]}),r.jsxs("button",{onClick:()=>x("tables","tables"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="tables"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(Xd,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.tables.title")})]}),r.jsxs("button",{onClick:()=>x("moneyCaseResturant","moneyCaseResturant"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="moneyCaseResturant"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(qr,{className:`h-5 w-5 ${h?"ml-2":"mr-2"}`}),r.jsx("span",{children:c("dashboard.moneyCase.title")})]}),r.jsxs("button",{onClick:()=>x("orderTypeResturant","orderTypeResturant"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="orderTypeResturant"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(Gy,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.orderType.title")})]}),!o&&r.jsxs("button",{onClick:()=>x("users","users"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="users"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx($r,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.users.title")})]}),!o&&r.jsxs("button",{onClick:()=>x("ResturantSettings","ResturantSettings"),className:`w-full flex items-center px-4 py-3 rounded-lg ${a==="ResturantSettings"?"bg-primary-50 text-primary-700 dark:bg-primary-900/50 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(qa,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.settings.title")})]})]}),r.jsx("div",{className:"px-4 py-4 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("button",{onClick:l,className:`w-full flex items-center px-4 py-3 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg ${h?"text-right":"text-left"}`,children:[r.jsx(jm,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.sidebar.logout")})]})})]})})]})},rJ=({branch:e,onEdit:t,onDelete:a,onPurge:n,onToggleTemporaryClose:s})=>{const[i,o]=p.useState(!1),[l,d]=p.useState(!1),{t:c,language:g}=Ze(),h=g==="ar",b=e.isTemporarilyClosed?{color:"bg-amber-500/90 text-white border-amber-400/50 shadow-amber-500/25",icon:r.jsx(Or,{className:"w-4 h-4"}),text:c("branchCard.status.temporaryClosed")}:e.isOpenNow?{color:"bg-emerald-500/90 text-white border-emerald-400/50 shadow-emerald-500/25",icon:r.jsx(tr,{className:"w-4 h-4"}),text:c("branchCard.status.open")}:{color:"bg-green-500/90 text-white border-green-400/50 shadow-green-500/25",icon:r.jsx(Ga,{className:"w-4 h-4"}),text:c("branchCard.status.open")};e.branchStatus;const v=async j=>{d(!0);try{await s(Number(e.branchId),j)}finally{d(!1)}};return r.jsxs(ke.div,{className:"relative w-full max-w-xs h-[370px] bg-white/95 dark:bg-gray-800/95 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 dark:border-gray-700/30 overflow-hidden group hover:shadow-3xl hover:border-white/30 dark:hover:border-gray-600/40 transition-all duration-700 flex flex-col cursor-pointer",initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},whileHover:{scale:1.04,boxShadow:"0 8px 32px 0 rgba(31,38,135,0.12)"},transition:{duration:.4,ease:[.4,0,.2,1]},children:[r.jsx("div",{className:`absolute top-4 ${h?"left-4":"right-4"} z-10`,children:r.jsxs("div",{className:`flex items-center ${h?"space-x-reverse space-x-2":"space-x-2"} px-3 py-2 rounded-full text-xs font-semibold backdrop-blur-md border shadow-lg ${b.color} transform transition-all duration-300 group-hover:scale-105`,children:[b.icon,r.jsx("span",{children:b.text})]})}),r.jsxs("div",{className:`absolute top-4 ${h?"right-4":"left-4"} z-10`,children:[r.jsx("button",{onClick:j=>{j.stopPropagation(),o(!i)},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:r.jsx(Nx,{className:"h-5 w-5"})}),r.jsx(pr,{children:i&&r.jsxs(ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.18},className:`absolute ${h?"right-0":"left-0"} top-full mt-2 w-48 bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-10`,children:[r.jsxs("button",{onClick:()=>{t(e),o(!1)},className:`w-full flex items-center ${h?"space-x-reverse space-x-2":"space-x-2"} px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors ${h?"text-right":"text-left"}`,children:[r.jsx(bo,{className:"h-4 w-4"}),r.jsx("span",{children:c("branchCard.actions.edit")})]}),r.jsxs("button",{onClick:()=>{a(e),o(!1)},className:`w-full flex items-center ${h?"space-x-reverse space-x-2":"space-x-2"} px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors ${h?"text-right":"text-left"}`,children:[r.jsx(wr,{className:"h-4 w-4"}),r.jsx("span",{children:c("branchCard.actions.delete")})]}),r.jsxs("button",{onClick:()=>{n(e),o(!1)},className:`w-full flex items-center ${h?"space-x-reverse space-x-2":"space-x-2"} px-4 py-2 text-sm text-red-700 dark:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors border-t border-gray-200 dark:border-gray-700 ${h?"text-right":"text-left"}`,children:[r.jsx(ya,{className:"h-4 w-4"}),r.jsx("span",{children:c("branchCard.actions.purge")||"Permanent Delete"})]})]})})]}),r.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 pt-12 pb-4 px-6",children:[r.jsx("div",{className:"flex items-center justify-center w-20 h-20 mb-4 rounded-3xl shadow-2xl transition-all duration-500 group-hover:shadow-3xl group-hover:scale-110 bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700",children:e.branchLogoPath?r.jsx("img",{src:e.branchLogoPath,alt:`${e.branchName} ${c("branchCard.alt.logo")}`,className:"w-12 h-12 object-cover rounded-2xl bg-white/10"}):r.jsx(aa,{className:"w-10 h-10 text-white drop-shadow-lg"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white text-center mb-2 leading-tight group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-gray-900 group-hover:to-gray-600 dark:group-hover:from-white dark:group-hover:to-gray-300 group-hover:bg-clip-text transition-all duration-500",children:e.branchName}),r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsxs("div",{className:`flex items-center ${h?"space-x-reverse space-x-2":"space-x-2"} px-4 py-3 rounded-2xl border backdrop-blur-sm transition-all duration-300 group-hover:scale-105 ${e.isTemporarilyClosed?"bg-amber-50/80 dark:bg-amber-900/30 border-amber-200/50 dark:border-amber-700/50 text-amber-700 dark:text-amber-300":e.isOpenNow?"bg-emerald-50/80 dark:bg-emerald-900/30 border-emerald-200/50 dark:border-emerald-700/50 text-emerald-700 dark:text-emerald-300":"bg-red-50/80 dark:bg-green-900/30 border-green-200/50 dark:border-green-700/50 text-green-700 dark:text-green-300"}`,children:[r.jsx(Or,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:e.isTemporarilyClosed?c("branchCard.status.temporaryClosed"):(e.isOpenNow,c("branchCard.status.open"))})]})}),r.jsxs("div",{className:`flex items-center ${h?"space-x-reverse space-x-2":"space-x-2"} mt-2`,children:[r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"isTemporarilyClosed",type:"checkbox",className:"sr-only peer",checked:e.isTemporarilyClosed,onChange:j=>v(j.target.checked),disabled:l}),r.jsx("div",{className:"w-11 h-6 bg-blue-600 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 transition-colors duration-200 peer-checked:bg-gray-200 dark:peer-checked:bg-gray-700"}),r.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform duration-200 peer-checked:translate-x-5 rtl:right-1 rtl:left-auto rtl:peer-checked:-translate-x-5 ${l?"animate-pulse":""}`})]}),e.isTemporarilyClosed&&r.jsx("span",{className:`text-xs text-amber-600 dark:text-amber-400 font-medium flex items-center ${h?"space-x-reverse space-x-1":"space-x-1"} ${h?"mr-1":"ml-1"}`,children:r.jsx(Cs,{className:"w-3 h-3"})})]})]})]})},aJ=({isOpen:e,onClose:t,onSubmit:a,formData:n,setFormData:s,isSubmitting:i,onInputChange:o,onWorkingHourChange:l,error:d})=>{const{t:c,language:g}=Ze(),h=g==="ar",[x,b]=p.useState(1),[v,j]=p.useState({}),[w,S]=p.useState(null),[M,T]=p.useState(n.branchLogoPath||null),[A,I]=p.useState(!1),[_,D]=p.useState(!1),E=Array.isArray(c("branchModal.workingHours.days"))?c("branchModal.workingHours.days"):g==="ar"?["","","","","","",""]:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];p.useEffect(()=>{T(n.branchLogoPath||null)},[n.branchLogoPath]),p.useEffect(()=>{D(G(x))},[n,x]);const X=H=>H.substring(0,5),ee=H=>`${H}:00`,Z=H=>{if(!H)return{code:"+90",number:""};const de=[...Gs].sort((me,je)=>je.code.length-me.code.length).find(me=>H.startsWith(me.code));return de?{code:de.code,number:H.slice(de.code.length)}:{code:"+90",number:H}},B=({checked:H,onChange:Q,disabled:de})=>r.jsx("button",{type:"button",onClick:()=>!de&&Q(!H),disabled:de,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${H?"bg-primary-600":"bg-gray-200 dark:bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${H?h?"-translate-x-6":"translate-x-6":h?"-translate-x-1":"translate-x-1"}`})}),G=H=>{switch(H){case 1:return!!n.branchName?.trim()&&!!n.whatsappOrderNumber?.trim();case 2:return!0;case 3:return!0;default:return!1}},J=H=>{const Q={};return H===1&&(n.branchName?.trim()||(Q.branchName=c("branchModal.errors.branchName")),n.whatsappOrderNumber?.trim()||(Q.whatsappOrderNumber=c("branchModal.errors.whatsappNumber"))),j(Q),Object.keys(Q).length===0},ce=H=>{const{name:Q,value:de}=H.target;let me;if(Q.startsWith("address.")){const je=Q.split(".")[1];me={...n,createAddressDto:{...n.createAddressDto,[je]:de}}}else if(Q.startsWith("contact.")){const je=Q.split(".")[1];me={...n,createContactDto:{...n.createContactDto,[je]:de}}}else me={...n,[Q]:de};s(me),v[Q]&&j(je=>({...je,[Q]:""})),o(H)},te=(H,Q,de,me)=>{if(de==="number"&&(!/^\d*$/.test(me)||me.length>15))return;const{code:je,number:fe}=Z(Q);let se="";de==="code"?se=me+fe:se=je+me,ce({target:{name:H,value:se}})},K=(H,Q,de)=>{if(!n.createBranchWorkingHourCoreDto)return;const me={...n,createBranchWorkingHourCoreDto:n.createBranchWorkingHourCoreDto.map((je,fe)=>fe===H?Q==="openTime"||Q==="closeTime"?{...je,[Q]:ee(de)}:Q==="isWorkingDay"?{...je,isWorkingDay:de}:{...je,[Q]:de}:je)};s(me),l(H,Q,de)},Y=async H=>{const Q=H.target.files?.[0];if(Q){S(Q);const de=new FileReader;de.onload=me=>{T(me.target?.result)},de.readAsDataURL(Q),await re(Q)}},re=async H=>{const Q=H||w;if(Q){I(!0);try{const de=await Ki.uploadFile(Q);s(me=>({...me,branchLogoPath:de})),S(null)}catch(de){console.error("Logo upload error:",de)}finally{I(!1)}}},ne=()=>{J(x)&&x<3&&b(x+1)},z=()=>{x>1&&b(x-1)},V=async()=>{J(3)&&await a(n)},F=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:c("branchModal.sections.basicInfo")}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"branchName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[c("branchModal.fields.branchName.label")," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx(aa,{className:`absolute ${h?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"branchName",name:"branchName",value:n.branchName||"",onChange:ce,className:`w-full ${h?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${v.branchName?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${h?"text-right":"text-left"}`,placeholder:c("branchModal.fields.branchName.placeholder")})]}),v.branchName&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:v.branchName})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"whatsappOrderNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[c("branchModal.fields.whatsappNumber.label")," *"]}),r.jsxs("div",{className:`flex gap-2 ${h?"flex-row-reverse":""}`,children:[r.jsx("select",{title:"Country Code",value:Z(n.whatsappOrderNumber).code,onChange:H=>te("whatsappOrderNumber",n.whatsappOrderNumber,"code",H.target.value),className:`w-1/3 md:w-1/4 px-3 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${v.whatsappOrderNumber?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white`,children:Gs.map(H=>r.jsxs("option",{value:H.code,children:[H.name," (",H.code,")"]},H.code+H.name))}),r.jsx("input",{type:"tel",maxLength:15,value:Z(n.whatsappOrderNumber).number,onChange:H=>te("whatsappOrderNumber",n.whatsappOrderNumber,"number",H.target.value),className:`flex-1 px-3 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 ${v.whatsappOrderNumber?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${h?"text-right":"text-left"}`,placeholder:c("branchModal.fields.whatsappNumber.placeholder")})]}),v.whatsappOrderNumber&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:v.whatsappOrderNumber})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.branchLogo.label")}),r.jsxs("div",{className:"space-y-4",children:[M&&r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:M,alt:"Branch Logo",className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-300 dark:border-gray-600 shadow-sm"}),!A&&r.jsx("button",{type:"button",onClick:()=>{T(null),s(H=>({...H,branchLogoPath:null}))},className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 transition-colors shadow-lg",children:r.jsx(xt,{className:"w-4 h-4"})})]})}),r.jsxs("div",{className:`flex items-center ${h?"space-x-reverse space-x-4":"space-x-4"}`,children:[r.jsx("input",{type:"file",id:"branchLogo",accept:"image/*",onChange:Y,className:"hidden",disabled:A}),r.jsxs("label",{htmlFor:"branchLogo",className:`inline-flex items-center px-4 py-2 border rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-200 ${A?"opacity-50 cursor-not-allowed":"cursor-pointer"} border-gray-300 dark:border-gray-600`,children:[r.jsx(vo,{className:`h-4 w-4 ${h?"ml-2":"mr-2"}`}),c(A?"branchModal.fields.branchLogo.uploading":"branchModal.fields.branchLogo.select")]})]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c("branchModal.fields.branchLogo.supportText")})]})]})]})]})}),$=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:c("branchModal.sections.addressInfo")}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.country.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(Wi,{className:`absolute ${h?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none z-10`}),r.jsxs("select",{id:"country",name:"address.country",value:n.createAddressDto.country||"",onChange:ce,className:`w-full ${h?"pr-10 pl-8":"pl-10 pr-8"} py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 text-gray-900 dark:text-white appearance-none ${h?"text-right":"text-left"}`,dir:h?"rtl":"ltr",children:[r.jsx("option",{value:"",disabled:!0,children:c("branchModal.fields.country.placeholder")}),tb.map(H=>r.jsx("option",{value:c(H),children:c(H)},H))]}),r.jsx("div",{className:`absolute inset-y-0 ${h?"left-0 pl-3":"right-0 pr-3"} flex items-center pointer-events-none`,children:r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.city.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(aa,{className:`absolute ${h?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"city",name:"address.city",value:n.createAddressDto.city||"",onChange:ce,className:`w-full ${h?"pr-10 pl-4":"pl-10 pr-4"} py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${h?"text-right":"text-left"}`,placeholder:c("branchModal.fields.city.placeholder"),dir:h?"rtl":"ltr"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.street.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(wh,{className:`absolute ${h?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"street",name:"address.street",value:n.createAddressDto.street||"",onChange:ce,className:`w-full ${h?"pr-10 pl-4":"pl-10 pr-4"} py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${h?"text-right":"text-left"}`,placeholder:c("branchModal.fields.street.placeholder"),dir:h?"rtl":"ltr"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.zipCode.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(vn,{className:`absolute ${h?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"zipCode",name:"address.zipCode",value:n.createAddressDto.zipCode||"",onChange:ce,className:`w-full ${h?"pr-10 pl-4":"pl-10 pr-4"} py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${h?"text-right":"text-left"}`,placeholder:c("branchModal.fields.zipCode.placeholder"),dir:h?"rtl":"ltr"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"addressLine1",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.addressLine1.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(Yd,{className:`absolute ${h?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"addressLine1",name:"address.addressLine1",value:n.createAddressDto.addressLine1||"",onChange:ce,className:`w-full ${h?"pr-10 pl-4":"pl-10 pr-4"} py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${h?"text-right":"text-left"}`,placeholder:c("branchModal.fields.addressLine1.placeholder"),dir:h?"rtl":"ltr"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"addressLine2",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.addressLine2.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(Yd,{className:`absolute ${h?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"addressLine2",name:"address.addressLine2",value:n.createAddressDto.addressLine2||"",onChange:ce,className:`w-full ${h?"pr-10 pl-4":"pl-10 pr-4"} py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${h?"text-right":"text-left"}`,placeholder:c("branchModal.fields.addressLine2.placeholder"),dir:h?"rtl":"ltr"})]})]})]})]})}),q=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:c("branchModal.sections.contactInfo")}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.phone.label")}),r.jsxs("div",{className:`flex gap-2 ${h?"flex-row-reverse":""}`,children:[r.jsx("select",{title:"Country Code",value:Z(n.createContactDto.phone).code,onChange:H=>te("contact.phone",n.createContactDto.phone,"code",H.target.value),className:"w-1/3 md:w-1/4 px-3 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 text-gray-900 dark:text-white",children:Gs.map(H=>r.jsxs("option",{value:H.code,children:[H.name," (",H.code,")"]},H.code+H.name))}),r.jsx("input",{type:"tel",maxLength:15,value:Z(n.createContactDto.phone).number,onChange:H=>te("contact.phone",n.createContactDto.phone,"number",H.target.value),className:`flex-1 px-3 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${h?"text-right":"text-left"}`,placeholder:c("branchModal.fields.phone.placeholder")})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"mail",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.email.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(Zs,{className:`absolute ${h?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"email",id:"mail",name:"contact.mail",value:n.createContactDto.mail||"",onChange:ce,className:"w-full px-10 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:c("branchModal.fields.email.placeholder")})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.location.label")}),r.jsxs("div",{className:"relative",children:[r.jsx(Qr,{className:`absolute ${h?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"location",name:"contact.location",value:n.createContactDto.location||"",onChange:ce,className:"w-full px-10 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:c("branchModal.fields.location.placeholder")})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contactHeader",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.contactHeader.label")}),r.jsx("input",{type:"text",id:"contactHeader",name:"contact.contactHeader",value:n.createContactDto.contactHeader||"",onChange:ce,className:"w-full py-3 px-4 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:c("branchModal.fields.contactHeader.placeholder")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"footerTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.footerTitle.label")}),r.jsx("input",{type:"text",id:"footerTitle",name:"contact.footerTitle",value:n.createContactDto.footerTitle||"",onChange:ce,className:"w-full py-3 px-4 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:c("branchModal.fields.footerTitle.placeholder")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"footerDescription",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.footerDescription.label")}),r.jsx("input",{type:"text",id:"footerDescription",name:"contact.footerDescription",value:n.createContactDto.footerDescription||"",onChange:ce,className:"w-full py-3 px-4 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:c("branchModal.fields.footerDescription.placeholder")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"openTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.openTitle.label")}),r.jsx("input",{type:"text",id:"openTitle",name:"contact.openTitle",value:n.createContactDto.openTitle||"",onChange:ce,className:"w-full py-3 px-4 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:c("branchModal.fields.openTitle.placeholder")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"openDays",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.openDays.label")}),r.jsx("input",{type:"text",id:"openDays",name:"contact.openDays",value:n.createContactDto.openDays||"",onChange:ce,className:"w-full py-3 px-4 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:c("branchModal.fields.openDays.placeholder")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"openHours",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("branchModal.fields.openHours.label")}),r.jsx("input",{type:"text",id:"openHours",name:"contact.openHours",value:n.createContactDto.openHours||"",onChange:ce,className:"w-full py-3 px-4 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:c("branchModal.fields.openHours.placeholder")})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:`flex items-center ${h?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(Or,{className:"h-6 w-6 text-primary-600"}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c("branchModal.sections.workingHours")})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c("branchModal.workingHours.description")}),r.jsx("div",{className:"space-y-3",children:n.createBranchWorkingHourCoreDto?.map((H,Q)=>r.jsxs("div",{className:`relative group p-5 border border-gray-200 dark:border-gray-700 rounded-xl transition-all duration-200 hover:shadow-md ${H.isWorkingDay?"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 border-green-200 dark:border-green-700":"bg-gray-50 dark:bg-gray-800/50"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:`flex items-center ${h?"space-x-reverse space-x-4":"space-x-4"}`,children:[r.jsx("div",{className:"min-w-[100px]",children:r.jsx("span",{className:"text-base font-medium text-gray-900 dark:text-gray-100",children:E[H.dayOfWeek===0?6:H.dayOfWeek-1]})}),r.jsxs("div",{className:`flex items-center ${h?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx(B,{checked:H.isWorkingDay,onChange:de=>K(Q,"isWorkingDay",de)}),r.jsx("span",{className:`text-sm font-medium transition-colors ${H.isWorkingDay?"text-green-700 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:H.isWorkingDay?c("branchModal.workingHours.open"):c("branchModal.workingHours.closed")})]})]}),r.jsxs("div",{className:`flex items-center ${h?"space-x-reverse space-x-3":"space-x-3"} transition-opacity ${H.isWorkingDay?"":"opacity-40"}`,children:[r.jsxs("div",{className:`flex items-center ${h?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:c("branchModal.workingHours.openTime")}),r.jsx("input",{title:"time",type:"time",value:X(H.openTime),onChange:de=>K(Q,"openTime",de.target.value),disabled:!H.isWorkingDay,className:`px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium transition-all focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${H.isWorkingDay?"hover:border-primary-300":"cursor-not-allowed bg-gray-100 dark:bg-gray-800"}`})]}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"w-6 h-px bg-gray-300 dark:bg-gray-600"})}),r.jsxs("div",{className:`flex items-center ${h?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:c("branchModal.workingHours.closeTime")}),r.jsx("input",{title:"time",type:"time",value:X(H.closeTime),onChange:de=>K(Q,"closeTime",de.target.value),disabled:!H.isWorkingDay,className:`px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium transition-all focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${H.isWorkingDay?"hover:border-primary-300":"cursor-not-allowed bg-gray-100 dark:bg-gray-800"}`})]})]})]}),H.isWorkingDay&&r.jsx("div",{className:"mt-3 pt-3 border-t border-green-200 dark:border-green-700/50",children:r.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:c("branchModal.workingHours.canOrder")})})]},H.dayOfWeek))}),r.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg",children:r.jsxs("div",{className:`flex items-start ${h?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx(bn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:c("branchModal.workingHours.infoTitle")}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:c("branchModal.workingHours.infoText")})]})]})})]})]});return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-6xl h-[95vh] flex flex-col",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n.branchName?c("branchModal.title.edit"):c("branchModal.title.add")}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:c("branchModal.subtitle")})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:r.jsx(xt,{className:"h-6 w-6"})})]})}),d&&r.jsx("div",{className:"mx-6 mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(xt,{className:"h-5 w-5 text-red-400"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-400",children:c("common.error")}),r.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300 whitespace-pre-line",children:d})]})]})}),r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{"aria-label":"Progress",children:r.jsx("ol",{role:"list",className:"flex items-center",children:[{id:1,name:c("branchModal.steps.basic"),icon:aa},{id:2,name:c("branchModal.steps.address"),icon:Qr},{id:3,name:c("branchModal.steps.contact"),icon:Or}].map((H,Q)=>{const de=H.icon,me=x>=H.id;return r.jsx("li",{className:`relative ${Q!==2?h?"pl-8 sm:pl-20":"pr-8 sm:pr-20":""}`,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{type:"button",disabled:!me,onClick:()=>me&&b(H.id),className:`focus:outline-none transition-shadow duration-200 rounded-full ${me?"hover:shadow-lg":""}`,"aria-label":H.name,children:r.jsx("div",{className:`${x>=H.id?"bg-primary-600 border-primary-600":"bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-600"} rounded-full transition-colors duration-200 h-10 w-10 flex items-center justify-center border-2`,children:r.jsx(de,{className:`w-5 h-5 ${x>=H.id?"text-white":"text-gray-500 dark:text-gray-400"}`})})}),r.jsx("div",{className:`hidden sm:block text-sm font-medium ${x>=H.id?"text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400"} ${h?"mr-3":"ml-3"}`,children:H.name}),Q!==2&&r.jsx("div",{className:`hidden sm:block absolute top-5 ${h?"left-0":"right-0"} w-20 h-0.5 transition-colors duration-200 ${x>H.id?"bg-primary-600 dark:bg-primary-400":"bg-gray-300 dark:bg-gray-600"}`})]})},H.name)})})})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[x===1&&F(),x===2&&$(),x===3&&q()]}),r.jsxs("div",{className:"flex justify-between items-center p-6 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[r.jsxs("button",{type:"button",onClick:x===1?t:z,className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-200",children:[x===1?r.jsx(xt,{className:`w-4 h-4 ${h?"ml-2":"mr-2"}`}):h?r.jsx(Ui,{className:"w-4 h-4 ml-2"}):r.jsx(ms,{className:"w-4 h-4 mr-2"}),c(x===1?"branchModal.buttons.cancel":"branchModal.buttons.back")]}),r.jsxs("button",{type:"button",onClick:x===3?V:ne,className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-md bg-primary-600 text-white hover:bg-primary-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:i||!_,children:[c(x===3?i?"branchModal.buttons.saving":"branchModal.buttons.save":"branchModal.buttons.next"),x===3?r.jsx(r.Fragment,{}):h?r.jsx(ms,{className:"w-4 h-4 ml-2"}):r.jsx(Ui,{className:"w-4 h-4 ml-2"})]})]})]})}):null};delete lb.Icon.Default.prototype._getIconUrl;lb.Icon.Default.mergeOptions({iconUrl:IR,iconRetinaUrl:TR,shadowUrl:AR});const nJ=({isOpen:e,onClose:t,onSubmit:a,branchDetail:n,isSubmitting:s,error:i})=>{const{t:o,isRTL:l}=Ze(),[d,c]=p.useState({branchName:"",restaurantId:n.restaurantId,whatsappOrderNumber:null,branchLogoPath:null,createAddressDto:{country:null,city:null,street:null,zipCode:null,addressLine1:null,addressLine2:null},createContactDto:{phone:null,mail:null,location:null,contactHeader:null,footerTitle:null,footerDescription:null,openTitle:null,openDays:null,openHours:null},createBranchWorkingHourCoreDto:[]}),[g,h]=p.useState(!1),[x,b]=p.useState("general"),[v,j]=p.useState({}),[w,S]=p.useState(!1),[M,T]=p.useState(null),[A,I]=p.useState(null),[_,D]=p.useState(!1),[E,X]=p.useState({lat:41.0082,lng:28.9784}),[ee,Z]=p.useState(""),[B,G]=p.useState(""),J=[{dayOfWeek:1,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:2,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:3,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:4,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:5,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:6,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:0,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0}],ce=ie=>o(`branchManagement.form.dayNames.${ie}`),te=ie=>{if(!ie)return{code:"+90",number:""};const le=[...Gs].sort((xe,ze)=>ze.code.length-xe.code.length).find(xe=>ie.startsWith(xe.code));return le?{code:le.code,number:ie.slice(le.code.length)}:{code:"+90",number:ie}};p.useEffect(()=>{if(n&&e){N.info("Initializing form data from branch detail",n,{prefix:"BranchEditModal"});const ie={branchName:n.branchName||"",restaurantId:n.restaurantId,whatsappOrderNumber:n.whatsappOrderNumber||null,branchLogoPath:n.branchLogoPath||null,createAddressDto:{country:n.address?.country||null,city:n.address?.city||null,street:n.address?.street||null,zipCode:n.address?.zipCode||null,addressLine1:n.address?.addressLine1||null,addressLine2:n.address?.addressLine2||null},createContactDto:{phone:n.contact?.phone||null,mail:n.contact?.mail||null,location:n.contact?.location||null,contactHeader:n.contact?.contactHeader||null,footerTitle:n.contact?.footerTitle||null,footerDescription:n.contact?.footerDescription||null,openTitle:n.contact?.openTitle||null,openDays:n.contact?.openDays||null,openHours:n.contact?.openHours||null},createBranchWorkingHourCoreDto:n.workingHours?.length?n.workingHours.map(ue=>({dayOfWeek:ue.dayOfWeek,openTime:ue.openTime||"08:00:00",closeTime:ue.closeTime||"22:00:00",isWorkingDay:ue.isWorkingDay??!0})):J};c(ie),I(n.branchLogoPath),h(!1),b("general"),j({}),T(null)}},[n,e]);const K=()=>{const ie={};return d.branchName?.trim()||(ie.branchName=o("branchManagement.form.branchNameRequired")),d.createBranchWorkingHourCoreDto?.some(le=>le.isWorkingDay)||(ie.workingHours=o("branchManagement.form.workingHoursRequired")),j(ie),Object.keys(ie).length===0},Y=ie=>{const{name:ue,value:le}=ie.target;if(ue.includes(".")){const[xe,ze]=ue.split(".");c(Le=>({...Le,[xe]:{...Le[xe],[ze]:le||null}}))}else c(xe=>({...xe,[ue]:le||null}));h(!0),v[ue]&&j(xe=>{const ze={...xe};return delete ze[ue],ze})},re=(ie,ue,le,xe)=>{const{code:ze,number:Le}=te(ue);let ut="";le==="code"?ut=xe+Le:ut=ze+xe,Y({target:{name:ie,value:ut}})},ne=(ie,ue,le)=>{c(xe=>({...xe,createBranchWorkingHourCoreDto:xe.createBranchWorkingHourCoreDto.map((ze,Le)=>Le===ie?{...ze,[ue]:le}:ze)})),h(!0),v.workingHours&&j(xe=>{const ze={...xe};return delete ze.workingHours,ze})},z=async ie=>{const ue=ie.target.files?.[0];if(ue){if(!ue.type.startsWith("image/")){T(o("branchManagement.modal.errors.invalidFileType"));return}if(ue.size>5*1024*1024){T(o("branchManagement.modal.errors.fileSizeError"));return}T(null),S(!0);try{const le=new FileReader;le.onload=Le=>{I(Le.target?.result)},le.readAsDataURL(ue);const xe=d.branchLogoPath,ze=await Ki.uploadFile(ue,xe||void 0);c(Le=>({...Le,branchLogoPath:ze})),h(!0),N.info("Image uploaded successfully",{newImageUrl:ze},{prefix:"BranchEditModal"})}catch(le){N.error("Image upload failed",le,{prefix:"BranchEditModal"}),T(o("branchManagement.modal.errors.imageUploadError")),I(d.branchLogoPath)}finally{S(!1),ie.target.value=""}}},V=async()=>{if(d.branchLogoPath)try{await Ki.deleteFile(d.branchLogoPath),c(ie=>({...ie,branchLogoPath:null})),I(null),h(!0),N.info("Image removed successfully",null,{prefix:"BranchEditModal"})}catch(ie){N.error("Image removal failed",ie,{prefix:"BranchEditModal"}),T(o("branchManagement.modal.errors.imageRemoveError"))}},F=ie=>{try{const ue=/@(-?\d+\.?\d*),(-?\d+\.?\d*)/,le=ie.match(ue);if(le)return{lat:parseFloat(le[1]),lng:parseFloat(le[2])};const xe=/q=(-?\d+\.?\d*),(-?\d+\.?\d*)/,ze=ie.match(xe);if(ze)return{lat:parseFloat(ze[1]),lng:parseFloat(ze[2])};const Le=/place\/[^@]*@(-?\d+\.?\d*),(-?\d+\.?\d*)/,ut=ie.match(Le);if(ut)return{lat:parseFloat(ut[1]),lng:parseFloat(ut[2])};const kt=/!3d(-?\d+\.?\d*)!4d(-?\d+\.?\d*)/,qt=ie.match(kt);return qt?{lat:parseFloat(qt[1]),lng:parseFloat(qt[2])}:null}catch(ue){return console.error("Error extracting coordinates:",ue),null}},$=ie=>{const ue=ie.target.value;if(Z(ue),G(""),ue.trim()){const le=F(ue);le?(X(le),G("")):(ue.includes("google.com/maps")||ue.includes("maps.app.goo.gl"))&&G(o("onboardingBranch.form.step3.location.invalidLink")||"Could not extract coordinates from this link. Please try a different format.")}},q=()=>{if(d.createContactDto.location){const ie=d.createContactDto.location.split(",");if(ie.length===2){const ue=parseFloat(ie[0].trim()),le=parseFloat(ie[1].trim());!isNaN(ue)&&!isNaN(le)&&X({lat:ue,lng:le})}}D(!0)},H=()=>{D(!1),Z(""),G("")},Q=()=>{const ie=`${E.lat.toFixed(6)},${E.lng.toFixed(6)}`;c(ue=>({...ue,createContactDto:{...ue.createContactDto,location:ie}})),h(!0),D(!1),Z(""),G("")},de=()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(ie=>{X({lat:ie.coords.latitude,lng:ie.coords.longitude})},ie=>{console.error("Error getting location:",ie),alert(o("onboardingBranch.form.step3.location.geolocationError")||"Could not get your location. Please select manually.")}):alert(o("onboardingBranch.form.step3.location.geolocationNotSupported")||"Geolocation is not supported by your browser.")},me=async ie=>{if(ie.preventDefault(),!K()){v.branchName&&b("general"),v.workingHours&&b("workingHours");return}T(null);try{const ue={branchName:d.branchName?.trim()||null,whatsappOrderNumber:d.whatsappOrderNumber?.trim()||null,restaurantId:d.restaurantId,branchLogoPath:d.branchLogoPath||null,createAddressDto:{country:d.createAddressDto.country?.trim()||null,city:d.createAddressDto.city?.trim()||null,street:d.createAddressDto.street?.trim()||null,zipCode:d.createAddressDto.zipCode?.trim()||null,addressLine1:d.createAddressDto.addressLine1?.trim()||null,addressLine2:d.createAddressDto.addressLine2?.trim()||null},createContactDto:{phone:d.createContactDto.phone?.trim()||null,mail:d.createContactDto.mail?.trim()||null,location:d.createContactDto.location?.trim()||null,contactHeader:d.createContactDto.contactHeader?.trim()||null,footerTitle:d.createContactDto.footerTitle?.trim()||null,footerDescription:d.createContactDto.footerDescription?.trim()||null,openTitle:d.createContactDto.openTitle?.trim()||null,openDays:d.createContactDto.openDays?.trim()||null,openHours:d.createContactDto.openHours?.trim()||null},createBranchWorkingHourCoreDto:d.createBranchWorkingHourCoreDto?.map(le=>({dayOfWeek:le.dayOfWeek,openTime:le.openTime,closeTime:le.closeTime,isWorkingDay:le.isWorkingDay}))||[]};N.info("Submitting branch update data",ue,{prefix:"BranchEditModal"}),await a(ue),N.info("Branch update successful",null,{prefix:"BranchEditModal"})}catch(ue){if(N.error("Branch update failed",ue,{prefix:"BranchEditModal"}),ue?.response?.status===400){const le=ue?.response?.data;if(le?.errors){const xe={};Object.entries(le.errors).forEach(([ze,Le])=>{if(Array.isArray(Le)&&Le.length>0){const ut=ze.toLowerCase();ut.includes("branchname")?xe.branchName=Le[0]:ut.includes("address")?(xe.address=Le[0],b("address")):ut.includes("contact")?(xe.contact=Le[0],b("contact")):ut.includes("workinghour")?(xe.workingHours=Le[0],b("workingHours")):xe[ze]=Le[0]}}),j(xe),T(o("branchManagement.modal.errors.validationFailed"))}else T(o("branchManagement.modal.errors.dataValidationError"))}else ue?.response?.status===401?(T(o("branchManagement.error.sessionExpired")),setTimeout(()=>{window.location.href="/login"},2e3)):ue?.response?.status===403?T(o("branchManagement.error.noPermission")):ue?.response?.status===404?(T(o("branchManagement.error.branchNotFound")),setTimeout(()=>{window.location.reload()},2e3)):ue?.response?.status===0||!navigator.onLine?T(o("branchManagement.error.connectionError")):T(ue?.message||o("branchManagement.error.unknownError"))}},je=({center:ie})=>{const ue=R2();return p.useEffect(()=>{ue.setView(ie,ue.getZoom())},[ie,ue]),null},fe=()=>(CR({click(ie){X({lat:ie.latlng.lat,lng:ie.latlng.lng})}}),r.jsx(PR,{position:[E.lat,E.lng]})),se=()=>(p.useEffect(()=>(_?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[_]),_?r.jsx(pr,{children:r.jsx("div",{className:"fixed inset-0 z-[60] overflow-y-auto",dir:l?"rtl":"ltr",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:H,className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),r.jsxs(ke.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-5xl bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:`flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-3 ${l?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx(Qr,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:o("onboardingBranch.form.step3.location.mapTitle")||"Select Location"})]}),r.jsx("button",{onClick:H,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(xt,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 ${l?"text-right":"text-left"}`,children:o("onboardingBranch.form.step3.location.googleMapsLink")||"Google Maps Link (Optional)"}),r.jsxs("div",{className:"relative",children:[r.jsx(Wi,{className:`absolute ${l?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",value:ee,onChange:$,placeholder:o("onboardingBranch.form.step3.location.googleMapsLinkPlaceholder")||"https://maps.google.com/...",className:`w-full ${l?"pr-10 pl-4":"pl-10 pr-4"} py-3 border ${B?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600"} rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l?"text-right":"text-left"}`,dir:"ltr"})]}),B&&r.jsx("p",{className:`text-xs text-red-600 dark:text-red-400 ${l?"text-right":"text-left"}`,children:B}),r.jsx("p",{className:`text-xs text-gray-500 dark:text-gray-400 ${l?"text-right":"text-left"}`,children:o("onboardingBranch.form.step3.location.googleMapsLinkHelper")||"Paste a Google Maps link and coordinates will be extracted automatically"})]}),r.jsxs("button",{type:"button",onClick:de,className:`w-full flex items-center justify-center space-x-2 px-4 py-3 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 text-blue-700 dark:text-blue-300 rounded-lg hover:from-blue-100 hover:to-indigo-100 dark:hover:from-blue-900/30 dark:hover:to-indigo-900/30 transition-all duration-200 border border-blue-200 dark:border-blue-700 ${l?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx(GO,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:o("onboardingBranch.form.step3.location.useCurrentLocation")||"Use My Current Location"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:`flex items-center justify-between ${l?"flex-row-reverse":""}`,children:[r.jsx("label",{className:`text-sm font-medium text-gray-700 dark:text-gray-300 ${l?"text-right":"text-left"}`,children:o("onboardingBranch.form.step3.location.interactiveMap")||"Interactive Map"}),r.jsx("span",{className:`text-xs text-gray-500 dark:text-gray-400 ${l?"text-right":"text-left"}`,children:o("onboardingBranch.form.step3.location.clickToPin")||"Click on the map to select location"})]}),r.jsxs("div",{className:"relative w-full h-[400px] bg-gray-100 dark:bg-gray-700 rounded-xl overflow-hidden border-2 border-gray-300 dark:border-gray-600 shadow-inner",children:[r.jsxs(SR,{center:[E.lat,E.lng],zoom:13,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[r.jsx(MR,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.jsx(je,{center:[E.lat,E.lng]}),r.jsx(fe,{})]}),r.jsx("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 z-[1000] pointer-events-none",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 py-2 rounded-full shadow-lg border border-gray-200 dark:border-gray-600",children:r.jsxs("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[r.jsx(Qr,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),o("onboardingBranch.form.step3.location.markerPosition")||"Marker Position"]})})})]}),r.jsxs("a",{href:`https://www.openstreetmap.org/?mlat=${E.lat}&mlon=${E.lng}#map=15/${E.lat}/${E.lng}`,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center text-xs text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 ${l?"flex-row-reverse":""}`,children:[r.jsx("span",{children:o("onboardingBranch.form.step3.location.openFullMap")||"Open in Full Map"}),r.jsx(Ui,{className:`h-3 w-3 ${l?"mr-1 rotate-180":"ml-1"}`})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 ${l?"text-right":"text-left"}`,children:o("onboardingBranch.form.step3.location.manualCoordinates")||"Manual Coordinates"}),r.jsxs("div",{className:`grid grid-cols-2 gap-4 ${l?"text-right":"text-left"}`,children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-xs font-medium text-gray-600 dark:text-gray-400 mb-2 ${l?"text-right":"text-left"}`,children:o("onboardingBranch.form.step3.location.latitude")||"Latitude"}),r.jsx("input",{title:"number",type:"number",step:"any",value:E.lat,onChange:ie=>{const ue=parseFloat(ie.target.value)||0;ue>=-90&&ue<=90&&X(le=>({...le,lat:ue}))},className:`w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l?"text-right":"text-left"}`,dir:"ltr",min:"-90",max:"90"})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-xs font-medium text-gray-600 dark:text-gray-400 mb-2 ${l?"text-right":"text-left"}`,children:o("onboardingBranch.form.step3.location.longitude")||"Longitude"}),r.jsx("input",{title:"number2",type:"number",step:"any",value:E.lng,onChange:ie=>{const ue=parseFloat(ie.target.value)||0;ue>=-180&&ue<=180&&X(le=>({...le,lng:ue}))},className:`w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${l?"text-right":"text-left"}`,dir:"ltr",min:"-180",max:"180"})]})]})]}),r.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-700 rounded-xl",children:r.jsxs("div",{className:`flex items-start space-x-3 ${l?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx(bn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:`text-sm text-blue-700 dark:text-blue-300 ${l?"text-right":"text-left"}`,children:[r.jsx("p",{className:"font-medium mb-2",children:o("onboardingBranch.form.step3.location.mapHelp")||"How to use the map:"}),r.jsxs("ul",{className:`space-y-1.5 ${l?"mr-4":"ml-4"}`,children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),r.jsx("span",{children:o("onboardingBranch.form.step3.location.mapHelp1")||"Paste a Google Maps link in the field above"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),r.jsx("span",{children:o("onboardingBranch.form.step3.location.mapHelp2")||'Or click "Use My Current Location"'})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),r.jsx("span",{children:o("onboardingBranch.form.step3.location.mapHelp3")||"Or enter coordinates manually"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),r.jsx("span",{children:o("onboardingBranch.form.step3.location.mapHelp4")||"Open the full map to select location precisely"})]})]})]})]})}),r.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:`flex items-center justify-between ${l?"flex-row-reverse":""}`,children:[r.jsx("span",{className:`text-sm font-medium text-gray-700 dark:text-gray-300 ${l?"text-right":"text-left"}`,children:o("onboardingBranch.form.step3.location.selectedCoordinates")||"Selected Coordinates:"}),r.jsxs("code",{className:"text-sm font-mono text-blue-600 dark:text-blue-400",dir:"ltr",children:[E.lat.toFixed(6),", ",E.lng.toFixed(6)]})]})})]}),r.jsxs("div",{className:`flex items-center justify-end space-x-3 px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 ${l?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx("button",{type:"button",onClick:H,className:"px-5 py-2.5 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors font-medium",children:o("common.cancel")||"Cancel"}),r.jsx("button",{type:"button",onClick:Q,className:"px-5 py-2.5 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors font-medium shadow-sm",children:o("onboardingBranch.buttons.confirm")||"Confirm Location"})]})]})]})})}):null);return e?r.jsx(pr,{children:r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 overflow-y-auto h-full w-full z-50 flex items-start justify-center p-4",children:[r.jsxs(ke.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`relative w-full max-w-4xl bg-white dark:bg-gray-800 shadow-xl rounded-lg mt-8 mb-8 ${l?"rtl":"ltr"}`,children:[r.jsxs("div",{className:`flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700 ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${l?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:r.jsx(aa,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:o("branchManagement.modal.editTitle",{branchName:n.branchName})}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o("branchManagement.modal.editDescription")})]})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":o("common.close"),children:r.jsx(xt,{className:"h-6 w-6"})})]}),M&&r.jsx("div",{className:"mx-6 mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(ya,{className:"h-5 w-5 text-red-400 dark:text-red-500"})}),r.jsxs("div",{className:`${l?"mr-3":"ml-3"}`,children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:o("branchManagement.modal.errors.updateError")}),r.jsx("p",{className:"mt-1 text-sm text-red-700 dark:text-red-300",children:M})]})]})}),i&&r.jsx("div",{className:"mx-6 mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(ya,{className:"h-5 w-5 text-red-400 dark:text-red-500"})}),r.jsxs("div",{className:`${l?"mr-3":"ml-3"}`,children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:o("common.error")}),r.jsx("div",{className:"mt-1 text-sm text-red-700 dark:text-red-300 whitespace-pre-line",children:i})]})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:r.jsx("nav",{className:`-mb-px flex ${l?"space-x-reverse space-x-8":"space-x-8"} overflow-x-auto`,children:[{id:"general",label:o("branchManagement.modal.tabs.general"),icon:r.jsx(aa,{className:"w-4 h-4"}),hasError:!!v.branchName},{id:"address",label:o("branchManagement.modal.tabs.address"),icon:r.jsx(Qr,{className:"w-4 h-4"}),hasError:!!v.address},{id:"contact",label:o("branchManagement.modal.tabs.contact"),icon:r.jsx(Dn,{className:"w-4 h-4"}),hasError:!!v.contact},{id:"workingHours",label:o("branchManagement.modal.tabs.workingHours"),icon:r.jsx(Or,{className:"w-4 h-4"}),hasError:!!v.workingHours}].map(ie=>r.jsxs("button",{onClick:()=>b(ie.id),className:`py-3 px-1 border-b-2 font-medium text-sm flex items-center ${l?"space-x-reverse space-x-2":"space-x-2"} transition-colors whitespace-nowrap ${x===ie.id?"border-blue-500 text-blue-600 dark:text-blue-400":ie.hasError?"border-red-300 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[ie.icon,r.jsx("span",{children:ie.label}),ie.hasError&&r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full flex-shrink-0"})]},ie.id))})}),r.jsxs("form",{onSubmit:me,className:"space-y-6",children:[x==="general"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o("branchManagement.form.branchName")," *"]}),r.jsx("input",{type:"text",name:"branchName",value:d.branchName,onChange:Y,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 transition-colors bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${v.branchName?"border-red-300 dark:border-red-600 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500"}`,placeholder:o("branchManagement.form.branchNamePlaceholder")}),v.branchName&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[r.jsx(ya,{className:"w-4 h-4"}),v.branchName]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("branchManagement.form.whatsappNumber")}),r.jsxs("div",{className:`flex gap-2 ${l?"flex-row-reverse":""}`,children:[r.jsx("select",{title:"Country Code",value:te(d.whatsappOrderNumber).code,onChange:ie=>re("whatsappOrderNumber",d.whatsappOrderNumber,"code",ie.target.value),className:"w-1/3 md:w-1/4 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-colors",children:Gs.map(ie=>r.jsxs("option",{value:ie.code,children:[ie.name," (",ie.code,")"]},ie.code+ie.name))}),r.jsx("input",{type:"tel",value:te(d.whatsappOrderNumber).number,onChange:ie=>re("whatsappOrderNumber",d.whatsappOrderNumber,"number",ie.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:o("branchManagement.form.whatsappPlaceholder")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:o("branchManagement.form.branchLogo")}),A&&r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:A,alt:o("branchManagement.form.branchLogo"),className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-300 dark:border-gray-600 shadow-sm"}),!w&&r.jsx("button",{type:"button",onClick:V,className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 transition-colors shadow-lg",title:o("branchManagement.form.logoRemove"),children:r.jsx(wr,{className:"w-4 h-4"})}),w&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:`flex items-center ${l?"space-x-reverse space-x-4":"space-x-4"}`,children:[r.jsx("input",{type:"file",id:"logoUpload",accept:"image/*",onChange:z,className:"hidden",disabled:w}),r.jsx("label",{htmlFor:"logoUpload",className:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${w?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:w?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 dark:border-gray-400 ${l?"ml-2":"mr-2"}`}),o("branchManagement.modal.errors.uploadingImage")]}):r.jsxs(r.Fragment,{children:[r.jsx(vo,{className:`h-4 w-4 ${l?"ml-2":"mr-2"}`}),o(A?"branchManagement.form.logoChange":"branchManagement.form.logoUpload")]})}),!A&&!w&&r.jsxs("div",{className:`flex items-center text-gray-400 dark:text-gray-500 ${l?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(u0,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm",children:o("branchManagement.form.logoNotSelected")})]})]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o("branchManagement.form.logoInstructions")})]})]})]}),x==="address"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("branchManagement.form.country")}),r.jsxs("div",{className:"relative",children:[r.jsx(Wi,{className:`absolute ${l?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none z-10`}),r.jsxs("select",{title:"Country",name:"createAddressDto.country",value:d.createAddressDto.country||"",onChange:Y,className:`w-full ${l?"pr-10 pl-8":"pl-10 pr-8"} py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-colors appearance-none ${l?"text-right":"text-left"}`,dir:l?"rtl":"ltr",children:[r.jsx("option",{value:"",disabled:!0,children:o("branchManagement.form.countryPlaceholder")}),tb.map(ie=>r.jsx("option",{value:o(ie),children:o(ie)},ie))]}),r.jsx("div",{className:`absolute inset-y-0 ${l?"left-0 pl-3":"right-0 pr-3"} flex items-center pointer-events-none`,children:r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("branchManagement.form.city")}),r.jsx("input",{type:"text",name:"createAddressDto.city",value:d.createAddressDto.city||"",onChange:Y,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:o("branchManagement.form.cityPlaceholder")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("branchManagement.form.street")}),r.jsx("input",{type:"text",name:"createAddressDto.street",value:d.createAddressDto.street||"",onChange:Y,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:o("branchManagement.form.streetPlaceholder")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("branchManagement.form.zipCode")}),r.jsx("input",{type:"text",name:"createAddressDto.zipCode",value:d.createAddressDto.zipCode||"",onChange:Y,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:o("branchManagement.form.zipCodePlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("branchManagement.form.addressLine1")}),r.jsx("input",{type:"text",name:"createAddressDto.addressLine1",value:d.createAddressDto.addressLine1||"",onChange:Y,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:o("branchManagement.form.addressLine1Placeholder")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("branchManagement.form.addressLine2")}),r.jsx("input",{type:"text",name:"createAddressDto.addressLine2",value:d.createAddressDto.addressLine2||"",onChange:Y,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:o("branchManagement.form.addressLine2Placeholder")})]})]}),x==="contact"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("branchManagement.form.phone")}),r.jsxs("div",{className:`flex gap-2 ${l?"flex-row-reverse":""}`,children:[r.jsx("select",{title:"Country Code",value:te(d.createContactDto.phone).code,onChange:ie=>re("createContactDto.phone",d.createContactDto.phone,"code",ie.target.value),className:"w-1/3 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-colors",children:Gs.map(ie=>r.jsxs("option",{value:ie.code,children:[ie.name," (",ie.code,")"]},ie.code+ie.name))}),r.jsx("input",{type:"tel",value:te(d.createContactDto.phone).number,onChange:ie=>re("createContactDto.phone",d.createContactDto.phone,"number",ie.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:o("branchManagement.form.phonePlaceholder")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("branchManagement.form.email")}),r.jsx("input",{type:"email",name:"createContactDto.mail",value:d.createContactDto.mail||"",onChange:Y,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:o("branchManagement.form.emailPlaceholder")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("branchManagement.form.location")}),r.jsxs("div",{className:`flex gap-2 ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Qr,{className:`absolute ${l?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",name:"createContactDto.location",value:d.createContactDto.location||"",onChange:Y,className:`w-full ${l?"pr-10 pl-3":"pl-10 pr-3"} py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors`,placeholder:o("branchManagement.form.locationPlaceholder")})]}),r.jsxs("button",{type:"button",onClick:q,className:`flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-700 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors whitespace-nowrap ${l?"flex-row-reverse":""}`,children:[r.jsx(wh,{className:"h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline",children:o("onboardingBranch.form.step3.location.selectOnMap")||"Select on Map"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("branchManagement.form.contactHeader")}),r.jsx("input",{type:"text",name:"createContactDto.contactHeader",value:d.createContactDto.contactHeader||"",onChange:Y,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:o("branchManagement.form.contactHeaderPlaceholder")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("branchManagement.form.footerTitle")}),r.jsx("input",{type:"text",name:"createContactDto.footerTitle",value:d.createContactDto.footerTitle||"",onChange:Y,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:o("branchManagement.form.footerTitlePlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("branchManagement.form.openTitle")}),r.jsx("input",{type:"text",name:"createContactDto.openTitle",value:d.createContactDto.openTitle||"",onChange:Y,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:o("branchManagement.form.openTitlePlaceholder")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("branchManagement.form.footerDescription")}),r.jsx("textarea",{name:"createContactDto.footerDescription",value:d.createContactDto.footerDescription||"",onChange:Y,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors resize-none",placeholder:o("branchManagement.form.footerDescriptionPlaceholder")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("branchManagement.form.openDays")}),r.jsx("input",{type:"text",name:"createContactDto.openDays",value:d.createContactDto.openDays||"",onChange:Y,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:o("branchManagement.form.openDaysPlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("branchManagement.form.openHours")}),r.jsx("input",{type:"text",name:"createContactDto.openHours",value:d.createContactDto.openHours||"",onChange:Y,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors",placeholder:o("branchManagement.form.openHoursPlaceholder")})]})]})]}),x==="workingHours"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:`flex items-center ${l?"space-x-reverse space-x-2":"space-x-2"} mb-4`,children:[r.jsx(Or,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),r.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:o("branchManagement.form.workingHours")})]}),v.workingHours&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 mb-4",children:r.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-2",children:[r.jsx(ya,{className:"w-4 h-4"}),v.workingHours]})}),d.createBranchWorkingHourCoreDto.map((ie,ue)=>r.jsxs("div",{className:`flex items-center ${l?"space-x-reverse space-x-4":"space-x-4"} p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-700/50`,children:[r.jsx("div",{className:"w-24 flex-shrink-0",children:r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:ce(ie.dayOfWeek)})}),r.jsxs("div",{className:`flex items-center ${l?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx("input",{title:"isWorkingDay",type:"checkbox",checked:ie.isWorkingDay,onChange:le=>ne(ue,"isWorkingDay",le.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:o("branchManagement.form.isOpen")})]}),ie.isWorkingDay&&r.jsxs(r.Fragment,{children:[r.jsx("div",{children:r.jsx("input",{title:"time",type:"time",value:ie.openTime,onChange:le=>ne(ue,"openTime",le.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 transition-colors"})}),r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"-"}),r.jsx("div",{children:r.jsx("input",{title:"time",type:"time",value:ie.closeTime,onChange:le=>ne(ue,"closeTime",le.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 transition-colors"})})]})]},ue))]}),r.jsxs("div",{className:`flex justify-end ${l?"space-x-reverse space-x-3":"space-x-3"} pt-6 border-t border-gray-200 dark:border-gray-700`,children:[r.jsx("button",{type:"button",onClick:t,disabled:s,className:"px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o("common.cancel")}),r.jsx("button",{type:"submit",disabled:s||!g||w,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 border border-transparent rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),o("branchManagement.modal.buttons.updating")]}):o("branchManagement.modal.buttons.update")})]})]})]})]}),r.jsx(se,{})]})}):null},sJ=({onClick:e})=>{const{t,language:a}=Ze(),n=a==="ar";return r.jsxs(ke.button,{onClick:e,className:"relative w-full max-w-xs h-[370px] bg-white/95 dark:bg-gray-800/95 backdrop-blur-xl rounded-3xl shadow-2xl border-2 border-dashed border-blue-300 dark:border-blue-700/40 overflow-hidden group flex flex-col items-center justify-center transition-all duration-700 cursor-pointer hover:border-blue-500 dark:hover:border-blue-400 hover:shadow-3xl",initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},whileHover:{scale:1.04,boxShadow:"0 8px 32px 0 rgba(31,38,135,0.12)"},transition:{duration:.4,ease:[.4,0,.2,1]},type:"button",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-blue-600/5 to-blue-700/5 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),r.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-1000 pointer-events-none",children:[r.jsx("div",{className:`absolute top-10 ${n?"right-10":"left-10"} w-2 h-2 bg-blue-400/30 rounded-full animate-ping`}),r.jsx("div",{className:`absolute top-20 ${n?"left-20":"right-20"} w-1 h-1 bg-blue-500/40 rounded-full animate-pulse delay-300`}),r.jsx("div",{className:`absolute bottom-20 ${n?"right-20":"left-20"} w-1.5 h-1.5 bg-blue-600/35 rounded-full animate-ping delay-700`})]}),r.jsx("div",{className:"flex items-center justify-center w-20 h-20 mb-4 rounded-3xl shadow-2xl transition-all duration-500 group-hover:shadow-3xl group-hover:scale-110 bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700",children:r.jsx(Ut,{className:"w-12 h-12 text-white drop-shadow-lg"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center mb-2 leading-tight group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-gray-900 group-hover:to-gray-600 dark:group-hover:from-white dark:group-hover:to-gray-300 group-hover:bg-clip-text transition-all duration-500",children:t("addBranchCard.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center px-4",children:t("addBranchCard.description")})]})},Ql=({isOpen:e,onClose:t,onConfirm:a,title:n,isSubmitting:s=!1,itemType:i,message:o})=>{const{t:l,isRTL:d}=Ze(),[c,g]=p.useState(null),h=async()=>{g(null);try{await a(),t()}catch(x){N.error("Silme hatas:",x),g(l("confirmDeleteModal.errors.deleteFailed"))}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"delete-modal-title","aria-describedby":"delete-modal-description",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4 shadow-xl",dir:d?"rtl":"ltr",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:r.jsx(ya,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),r.jsx("h3",{id:"delete-modal-title",className:"text-lg font-semibold text-gray-900 dark:text-white",children:n})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":l("confirmDeleteModal.accessibility.closeModal"),children:r.jsx(xt,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300 flex items-center gap-2",children:[o?r.jsx(ya,{className:"h-4 w-4 flex-shrink-0"}):"",o]}),r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:[r.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300 flex items-center gap-2",children:[r.jsx(ya,{className:"h-4 w-4 flex-shrink-0"}),l("confirmDeleteModal.warning")]}),i==="table"&&r.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300 mt-2 flex items-center gap-2",children:[r.jsx(ya,{className:"h-4 w-4 flex-shrink-0"}),l("confirmDeleteModal.deleteTableWarning")]})]})}),c&&r.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",role:"alert","aria-live":"polite",children:r.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-2",children:[r.jsx(ya,{className:"h-4 w-4 flex-shrink-0"}),c]})}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,disabled:s,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",children:l("confirmDeleteModal.buttons.cancel")}),r.jsx("button",{type:"button",onClick:h,disabled:s,className:"px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l("confirmDeleteModal.buttons.deleting")]}):r.jsxs(r.Fragment,{children:[r.jsx(wr,{className:"h-4 w-4"}),l("confirmDeleteModal.buttons.delete")]})})]})]})]})}):null};class iJ{baseUrl="/api/Purge";async purgeBranch(t){try{N.info("Branch purge istei gnderiliyor:",t);const a={branchId:t},n=await he.post(`${this.baseUrl}/branch`,a);return N.info("Branch baaryla purge edildi:",n.data),n.data}catch(a){throw N.error("Branch purge edilirken hata olutu:",a),a}}async purgeRestaurant(t){try{N.info("Restaurant purge istei gnderiliyor:",t);const a={restaurantId:t},n=await he.post(`${this.baseUrl}/restaurant`,a);return N.info("Restaurant baaryla purge edildi:",n.data),n.data}catch(a){throw N.error("Restaurant purge edilirken hata olutu:",a),a}}}const OR=new iJ,oJ=()=>{const{t:e,isRTL:t}=Ze(),[a,n]=p.useState([]),[s,i]=p.useState(!1),[o,l]=p.useState(null),[d,c]=p.useState(!1),[g,h]=p.useState(!1),[x,b]=p.useState(null),[v,j]=p.useState(!1),w=Ra(),[S,M]=p.useState(!1),[T,A]=p.useState(null),[I,_]=p.useState(!1),[D,E]=p.useState(!1),[X,ee]=p.useState(null),[Z,B]=p.useState(!1),G=[{dayOfWeek:1,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:2,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:3,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:4,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:5,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:6,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0},{dayOfWeek:0,openTime:"08:00:00",closeTime:"22:00:00",isWorkingDay:!0}],J=()=>({branchName:null,whatsappOrderNumber:null,restaurantId:Qc()||0,branchLogoPath:"",createAddressDto:{country:"",city:"",street:null,zipCode:null,addressLine1:null,addressLine2:null},createContactDto:{phone:"",mail:"",location:null,contactHeader:null,footerTitle:null,footerDescription:null,openTitle:null,openDays:null,openHours:null},createBranchWorkingHourCoreDto:G}),[ce,te]=p.useState(J()),[K,Y]=p.useState(!1);p.useEffect(()=>{if(N.info("BranchManagement component mount oldu",null,{prefix:"BranchManagement"}),!localStorage.getItem("token")){N.error("Token bulunamad",null,{prefix:"BranchManagement"}),l(e("branchManagement.error.sessionExpired"));return}const le=Qc();if(!le){N.error("Restaurant ID bulunamad",null,{prefix:"BranchManagement"}),l(e("branchManagement.error.restaurantIdNotFound"));return}N.info(`Restaurant ID: ${le} ile ube listesi isteniyor`,null,{prefix:"BranchManagement"}),re()},[e]);const re=async()=>{i(!0),l("");try{N.info("ube listesi alnyor...",null,{prefix:"BranchManagement"});const ue=await oa.getBranches();N.info(`ube listesi alnd, toplam: ${ue.length}`,ue,{prefix:"BranchManagement"}),n(ue)}catch(ue){N.error("ube listesi alnrken hata",ue,{prefix:"BranchManagement"});let le=e("branchManagement.error.loadFailed");ue?.response?.status===401?(le=e("branchManagement.error.sessionExpired"),setTimeout(()=>{window.location.href="/login"},3e3)):ue?.response?.status===403?le=e("branchManagement.error.noPermission"):ue?.response?.status===404?le=e("branchManagement.error.branchNotFound"):ue?.response?.status===0||!navigator.onLine?le=e("branchManagement.error.connectionError"):ue?.message&&(le=ue.message),l(le)}finally{i(!1)}},ne=ue=>{const{name:le,value:xe}=ue.target;if(le.includes(".")){const[ze,Le]=le.split(".");te(ut=>({...ut,[ze]:{...ut[ze],[Le]:xe}}))}else te(ze=>({...ze,[le]:xe}));Y(!0)},z=(ue,le,xe)=>{te(ze=>({...ze,createBranchWorkingHourCoreDto:ze.createBranchWorkingHourCoreDto?ze.createBranchWorkingHourCoreDto.map((Le,ut)=>ut===ue?Object.assign({},Le,{[le]:xe}):Le):[]})),Y(!0)},V=async ue=>{j(!0);try{const le=Qc();if(!le){l(e("branchManagement.error.restaurantIdNotFound"));return}const xe={branchName:ue.branchName?.trim()||null,whatsappOrderNumber:ue.whatsappOrderNumber?.trim()||null,restaurantId:le,branchLogoPath:ue.branchLogoPath||"",createAddressDto:{country:ue.createAddressDto.country?.trim()||"",city:ue.createAddressDto.city?.trim()||"",street:ue.createAddressDto.street?.trim()||null,zipCode:ue.createAddressDto.zipCode?.trim()||null,addressLine1:ue.createAddressDto.addressLine1?.trim()||null,addressLine2:ue.createAddressDto.addressLine2?.trim()||null},createContactDto:{phone:ue.createContactDto.phone?.trim()||"",mail:ue.createContactDto.mail?.trim()||"",location:ue.createContactDto.location?.trim()||null,contactHeader:ue.createContactDto.contactHeader?.trim()||null,footerTitle:ue.createContactDto.footerTitle?.trim()||null,footerDescription:ue.createContactDto.footerDescription?.trim()||null,openTitle:ue.createContactDto.openTitle?.trim()||null,openDays:ue.createContactDto.openDays?.trim()||null,openHours:ue.createContactDto.openHours?.trim()||null},createBranchWorkingHourCoreDto:ue.createBranchWorkingHourCoreDto?.map(ze=>({dayOfWeek:ze.dayOfWeek,openTime:ze.openTime,closeTime:ze.closeTime,isWorkingDay:ze.isWorkingDay}))||null};g&&x?(await oa.updateBranch(x.branchId,xe),N.info("Branch successfully updated",{branchId:x.branchId},{prefix:"BranchManagement"})):(await oa.createBranch(xe),N.info("Branch successfully created",null,{prefix:"BranchManagement"})),await re(),fe()}catch(le){N.error("Error submitting branch:",le,{prefix:"BranchManagement"});let xe="";if(le?.response?.data?.title)xe=le.response.data.title;else if(le?.response?.data?.errorMessage)xe=le.response.data.errorMessage;else if(le?.response?.data?.errors){const ze=le.response.data.errors;xe=Object.entries(ze).map(([ut,kt])=>{const qt=Array.isArray(kt)?kt:[kt];return`${ut}: ${qt.join(", ")}`}).join(`
`)}else le?.message?xe=le.message:xe=e(g?"branchManagement.error.updateFailed":"branchManagement.error.createFailed");l(xe)}finally{j(!1)}},F=async ue=>{try{N.info(`Fetching branch details for branchId: ${ue.branchId}`,null,{prefix:"BranchManagement"});const le=await oa.getBranchById(Number(ue.branchId));N.info("Branch details fetched with includes",le,{prefix:"BranchManagement"}),le?(b(le),h(!0),c(!0),Y(!1),N.info("Edit mode activated for branch",{branchId:le.branchId,branchName:le.branchName},{prefix:"BranchManagement"})):(N.error("No branch details returned",null,{prefix:"BranchManagement"}),l(e("branchManagement.error.detailsLoadFailed")))}catch(le){N.error("Error loading branch details",le,{prefix:"BranchManagement"});let xe=e("branchManagement.error.detailsLoadFailed");le?.response?.status===401?xe=e("branchManagement.error.sessionExpired"):le?.response?.status===403?xe=e("branchManagement.error.noPermission"):le?.response?.status===404&&(xe=e("branchManagement.error.branchNotFound")),l(xe)}},$=ue=>{A(ue),M(!0)},q=async()=>{if(!T)throw new Error(e("branchManagement.error.branchNotFound"));_(!0);const ue=T;n(le=>le.filter(xe=>xe.branchId!==T.branchId));try{await oa.deleteBranch(Number(T.branchId)),N.info("Branch deleted successfully",{branchId:T.branchId},{prefix:"BranchManagement"}),A(null),M(!1),await re()}catch(le){N.error("Error deleting branch:",le,{prefix:"BranchManagement"}),n(ze=>[...ze,ue].sort((Le,ut)=>Number(Le.branchId)-Number(ut.branchId)));let xe=e("branchManagement.error.deleteFailed");throw le?.response?.status===401?xe=e("branchManagement.error.sessionExpired"):le?.response?.status===403?xe=e("branchManagement.error.noPermission"):le?.response?.status===404?xe=e("branchManagement.error.branchNotFound"):le?.response?.status===409?xe=e("branchManagement.error.branchInUse"):le?.message&&(xe=le.message),l(xe),setTimeout(()=>l(null),5e3),new Error(xe)}finally{_(!1)}},H=()=>{M(!1),A(null)},Q=ue=>{ee(ue),E(!0)},de=async()=>{if(!X)throw new Error(e("branchManagement.error.branchNotFound"));B(!0);const ue=X;n(le=>le.filter(xe=>xe.branchId!==X.branchId));try{await OR.purgeBranch(Number(X.branchId)),N.info("Branch purged successfully",{branchId:X.branchId},{prefix:"BranchManagement"}),ee(null),E(!1),await re()}catch(le){N.error("Error purging branch:",le,{prefix:"BranchManagement"}),n(ze=>[...ze,ue].sort((Le,ut)=>Number(Le.branchId)-Number(ut.branchId)));let xe=e("branchManagement.error.purgeFailed")||"Failed to permanently delete branch";throw le?.response?.status===401?xe=e("branchManagement.error.sessionExpired"):le?.response?.status===403?xe=e("branchManagement.error.noPermission"):le?.response?.status===404?xe=e("branchManagement.error.branchNotFound"):le?.message&&(xe=le.message),l(xe),setTimeout(()=>l(null),5e3),new Error(xe)}finally{B(!1)}},me=()=>{E(!1),ee(null)},je=()=>{te(J()),h(!1),b(null),c(!0),Y(!1)},fe=()=>{c(!1),h(!1),b(null),te(J()),Y(!1),l(null)},se=async(ue,le)=>{const xe=a.find(Le=>Le.branchId===ue),ze=xe?xe.isOpenNow:!1;try{n(Le=>Le.map(ut=>ut.branchId===ue?{...ut,isTemporarilyClosed:le}:ut)),await oa.toggleTemporaryClose(Number(ue),le,ze)}catch(Le){n(kt=>kt.map(qt=>qt.branchId===ue?{...qt,isTemporarilyClosed:!le}:qt));let ut=e("branchManagement.error.statusUpdateFailed");Le?.response?.status===401?ut=e("branchManagement.error.sessionExpired"):Le?.response?.status===403?ut=e("branchManagement.error.noPermission"):Le?.response?.status===404?ut=e("branchManagement.error.branchNotFound"):Le?.message&&(ut=Le.message),l(ut),setTimeout(()=>l(null),3e3)}},ie=()=>{l(null)};return r.jsxs("div",{className:`min-h-screen bg-gray-50 dark:bg-gray-900 ${t?"rtl":"ltr"}`,children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:e("branchManagement.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("branchManagement.description")}),r.jsxs("button",{onClick:()=>{w("/dashboard/RecycleBin",{state:{source:"branches"}})},className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors duration-200",children:[r.jsx(wr,{className:"h-4 w-4"}),r.jsx("span",{children:e("productsContent.actions.RecycleBin")})]})]}),o&&r.jsx(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(ya,{className:"h-5 w-5 text-red-400 dark:text-red-500"})}),r.jsxs("div",{className:`${t?"mr-3":"ml-3"} flex-1`,children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:e("common.error")}),r.jsx("p",{className:"mt-1 text-sm text-red-700 dark:text-red-300 whitespace-pre-line",children:o})]}),r.jsx("button",{onClick:ie,className:`${t?"mr-auto":"ml-auto"} flex-shrink-0 text-red-400 hover:text-red-600 dark:hover:text-red-300 transition-colors`,"aria-label":e("common.dismiss"),children:r.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),s&&r.jsxs("div",{className:"flex justify-center items-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400"}),r.jsx("span",{className:`${t?"mr-3":"ml-3"} text-gray-600 dark:text-gray-400`,children:e("branchManagement.loading")})]}),!s&&!o&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:r.jsx(sJ,{onClick:je})}),a.map((ue,le)=>r.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:(le+1)*.1},children:r.jsx(rJ,{branch:ue,onEdit:F,onDelete:()=>$(ue),onPurge:()=>Q(ue),onToggleTemporaryClose:se})},ue.branchId))]}),!s&&!o&&a.length===0&&r.jsxs(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 dark:text-gray-500 mb-4",children:r.jsx(aa,{className:"mx-auto h-16 w-16"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:e("branchManagement.noBranches.title")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 max-w-md mx-auto",children:e("branchManagement.noBranches.description")}),r.jsxs("button",{onClick:je,className:"inline-flex items-center px-6 py-3 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[r.jsx(Ut,{className:`h-5 w-5 ${t?"ml-2":"mr-2"}`}),e("branchManagement.addBranch")]})]})]}),d&&r.jsx(r.Fragment,{children:g&&x?r.jsx(nJ,{isOpen:d,onClose:fe,onSubmit:V,branchDetail:x,isSubmitting:v,error:o}):r.jsx(aJ,{isOpen:d,onClose:fe,onSubmit:V,formData:ce,setFormData:te,isSubmitting:v,hasChanges:K,onInputChange:ne,onWorkingHourChange:z,error:o})}),r.jsx(Ql,{isOpen:S,onClose:H,onConfirm:q,title:e("branchManagement.deleteConfirm.title"),message:e("branchManagement.deleteConfirm.description"),isSubmitting:I,itemType:"branch",itemName:T?.branchName||""}),r.jsx(Ql,{isOpen:D,onClose:me,onConfirm:de,title:e("branchManagement.purgeConfirm.title")||"Permanent Deletion Warning",isSubmitting:Z,itemType:"branch-purge",itemName:X?.branchName||""})]})};class lJ{async searchUsers(t){try{N.info(" searchUsers arlyor...",t,{prefix:"UserService"});const a=await Dr({method:"GET",url:"/api/Users/search",params:t});return N.info(" searchUsers baarl",a,{prefix:"UserService"}),{success:!0,data:Array.isArray(a)?a:[]}}catch(a){throw N.error(" searchUsers hatas",a,{prefix:"UserService"}),a}}async getUserByEmail(t,a="roles,permissions"){try{N.info(` getUserByEmail arlyor: ${t}`,{includes:a},{prefix:"UserService"});const n=await Dr({method:"GET",url:`/api/Users/${t}`,params:{includes:a}});return N.info(" getUserByEmail baarl",n,{prefix:"UserService"}),{success:!0,data:n}}catch(n){throw N.error(" getUserByEmail hatas",n,{prefix:"UserService"}),n}}async getProfile(){try{N.info(" getProfile arlyor...",null,{prefix:"UserService"});const t=await Dr({method:"GET",url:"/api/Users/profile"});return N.info(" getProfile baarl",t,{prefix:"UserService"}),{success:!0,data:t}}catch(t){throw N.error(" getProfile hatas",t,{prefix:"UserService"}),t}}async getAllUsers(t){try{N.info(" getAllUsers arlyor...",t,{prefix:"UserService"});const a=await Dr({method:"GET",url:"/api/Users",params:t});return N.info(" getAllUsers baarl",a,{prefix:"UserService"}),{success:!0,data:Array.isArray(a)?a:[]}}catch(a){throw N.error(" getAllUsers hatas",a,{prefix:"UserService"}),a}}async createUser(t){try{N.info(" createUser arlyor...",t,{prefix:"UserService"});const a=await Dr({method:"POST",url:"/api/Users",data:t});return N.info(" createUser baarl",a,{prefix:"UserService"}),{success:!0,data:a}}catch(a){throw N.error(" createUser hatas",a,{prefix:"UserService"}),a}}async getRoles(){try{N.info(" getRoles arlyor...",null,{prefix:"UserService"});const t=await Dr({method:"GET",url:"/api/Roles"});return N.info(" getRoles baarl",t,{prefix:"UserService"}),{success:!0,data:Array.isArray(t)?t:[]}}catch(t){throw N.error(" getRoles hatas",t,{prefix:"UserService"}),t}}async createRole(t){try{N.info(" createRole arlyor...",t,{prefix:"UserService"});const a=await Dr({method:"POST",url:"/api/Roles",data:t});return N.info(" createRole baarl",a,{prefix:"UserService"}),{success:!0,data:a}}catch(a){throw N.error(" createRole hatas",a,{prefix:"UserService"}),a}}async updateUser(t,a){try{N.info(` updateUser arlyor: ${t}`,a,{prefix:"UserService"});const n=await Dr({method:"PUT",url:`/api/Users/${t}`,data:a});return N.info(" updateUser baarl",n,{prefix:"UserService"}),{success:!0,data:n}}catch(n){throw N.error(" updateUser hatas",n,{prefix:"UserService"}),n}}async deleteUser(t){try{N.info(` deleteUser arlyor: ${t}`,null,{prefix:"UserService"});const a=await Dr({method:"DELETE",url:`/api/Users/${t}`});return N.info(" deleteUser baarl",a,{prefix:"UserService"}),{success:!0,data:a}}catch(a){throw N.error(" deleteUser hatas",a,{prefix:"UserService"}),a}}async updateUserRoles(t,a){try{N.info(` updateUserRoles arlyor: ${t}`,a,{prefix:"UserService"});const n=await Dr({method:"PUT",url:`/api/Users/${t}/roles`,data:a});return N.info(" updateUserRoles baarl",n,{prefix:"UserService"}),{success:!0,data:n}}catch(n){throw N.error(" updateUserRoles hatas",n,{prefix:"UserService"}),n}}async assignBranchToUser(t,a){try{N.info(` assignBranchToUser arlyor: ${t}`,a,{prefix:"UserService"});let n={...a};a.targetBranchId===0&&(n.targetBranchId=null,N.info(" newBranchId 0 olarak algland, API iin null olarak deitirildi.",{prefix:"UserService"}));const s=await Dr({method:"PUT",url:`/api/Users/${t}/branch`,data:n});return N.info(" assignBranchToUser baarl",s,{prefix:"UserService"}),{success:!0,data:s}}catch(n){throw N.error(" assignBranchToUser hatas",n,{prefix:"UserService"}),n}}async changeUserPassword(t,a){try{N.info(` changeUserPassword arlyor: ${t}`,"password data (hidden)",{prefix:"UserService"});const n=await Dr({method:"PUT",url:`/api/Users/${t}/password`,data:a});return N.info(" changeUserPassword baarl",n,{prefix:"UserService"}),{success:!0,data:n}}catch(n){throw N.error(" changeUserPassword hatas",n,{prefix:"UserService"}),n}}async resendConfirmation(t){try{N.info(` resendConfirmation arlyor: ${t}`,null,{prefix:"UserService"});const a=await Dr({method:"POST",url:"/api/Users/resend-confirmation",params:{email:t}});return N.info(" resendConfirmation baarl",a,{prefix:"UserService"}),{success:!0,data:a}}catch(a){throw N.error(" resendConfirmation hatas",a,{prefix:"UserService"}),a}}async sendResetPasswordEmail(t){try{N.info(` sendResetPasswordEmail arlyor: ${t}`,null,{prefix:"UserService"});const a=await Dr({method:"GET",url:"/api/Users/SendResetPasswordEmail",params:{email:t}});return N.info(" sendResetPasswordEmail baarl",a,{prefix:"UserService"}),{success:!0,data:a}}catch(a){throw N.error(" sendResetPasswordEmail hatas",a,{prefix:"UserService"}),a}}async resetPassword(t){try{N.info(" resetPassword arlyor...","payload (hidden)",{prefix:"UserService"});const a=await Dr({method:"PUT",url:"/api/Users/resetpassword",data:t,headers:{Authorization:""}});return N.info(" resetPassword baarl",a,{prefix:"UserService"}),{success:!0,data:a}}catch(a){throw N.error(" resetPassword hatas",a,{prefix:"UserService"}),a}}async lockUser(t){try{N.info(` lockUser arlyor: ${t}`,null,{prefix:"UserService"});const a=await Dr({method:"PUT",url:`/api/Users/${t}/lock`,data:{}});return N.info(" lockUser baarl",a,{prefix:"UserService"}),{success:!0,data:a}}catch(a){throw N.error(" lockUser hatas",a,{prefix:"UserService"}),a}}async unlockUser(t){try{N.info(` unlockUser arlyor: ${t}`,null,{prefix:"UserService"});const a=await Dr({method:"PUT",url:`/api/Users/${t}/unlock`,data:{}});return N.info(" unlockUser baarl",a,{prefix:"UserService"}),{success:!0,data:a}}catch(a){throw N.error(" unlockUser hatas",a,{prefix:"UserService"}),a}}}const co=new lJ;class dJ{async getRoles(t={}){try{const a={includePermissions:!0,...t};N.info(" getRoles arlyor...",a,{prefix:"RoleService"});const n=await Dr({method:"GET",url:"/api/Roles/",params:a});return N.info(" getRoles baarl",n,{prefix:"RoleService"}),{success:!0,data:Array.isArray(n)?n:[]}}catch(a){throw N.error(" getRoles hatas",a,{prefix:"RoleService"}),a}}async getRolesaAsignable(t={}){try{const a={includePermissions:!0,...t};N.info(" getRoles arlyor...",a,{prefix:"RoleService"});const n=await Dr({method:"GET",url:"/api/Roles/",params:a});return N.info(" getRoles baarl",n,{prefix:"RoleService"}),{success:!0,data:Array.isArray(n)?n:[]}}catch(a){throw N.error(" getRoles hatas",a,{prefix:"RoleService"}),a}}async getRoleById(t={},a){try{N.info(` getRoleById arlyor: ${a}`,null,{prefix:"RoleService"});const n={includePermissions:!0,...t},s=await Dr({method:"GET",url:`/api/Roles/${a}`,params:n});return N.info(" getRoleById baarl",s,{prefix:"RoleService"}),{success:!0,data:s}}catch(n){throw N.error(" getRoleById hatas",n,{prefix:"RoleService"}),n}}async createRole(t){try{N.info(" createRole arlyor...",t,{prefix:"RoleService"});const{branchId:a,...n}=t,s={method:"POST",url:"/api/Roles",data:n,params:{}};a&&(s.params.branchId=a);const i=await Dr(s);return N.info(" createRole baarl",i,{prefix:"RoleService"}),{success:!0,data:i}}catch(a){throw N.error(" createRole hatas",a,{prefix:"RoleService"}),a}}async updateRole(t,a){try{N.info(` updateRole arlyor: ${t}`,a,{prefix:"RoleService"});const n=await Dr({method:"PUT",url:`/api/Roles/${t}`,data:a});return N.info(" updateRole baarl",n,{prefix:"RoleService"}),{success:!0,data:n}}catch(n){throw N.error(" updateRole hatas",n,{prefix:"RoleService"}),n}}async deleteRole(t){try{N.info(` deleteRole arlyor: ${t}`,null,{prefix:"RoleService"});const a=await Dr({method:"DELETE",url:`/api/Roles/${t}`});return N.info(" deleteRole baarl",a,{prefix:"RoleService"}),{success:!0,data:a}}catch(a){throw N.error(" deleteRole hatas",a,{prefix:"RoleService"}),a}}async getPermissionCatalog(t={}){try{N.info(" getPermissionCatalog arlyor...",t,{prefix:"RoleService"});const a={...t};a.branchId||delete a.branchId;const n=await Dr({method:"GET",url:"/api/Permissions/catalog",params:a});return N.info(" getPermissionCatalog baarl",n,{prefix:"RoleService"}),{success:!0,data:Array.isArray(n)?n:[]}}catch(a){throw N.error(" getPermissionCatalog hatas",a,{prefix:"RoleService"}),a}}async getRolePermissions(t){try{N.info(` getRolePermissions arlyor: ${t}`,null,{prefix:"RoleService"});const a=await Dr({method:"GET",url:`/api/Roles/${t}/permissions`});return N.info(" getRolePermissions baarl",a,{prefix:"RoleService"}),{success:!0,data:Array.isArray(a)?a:[]}}catch(a){throw N.error(" getRolePermissions hatas",a,{prefix:"RoleService"}),a}}async updateRolePermissions(t,a){try{N.info(` updateRolePermissions arlyor: ${t}`,a,{prefix:"RoleService"});const n=await Dr({method:"POST",url:`/api/Roles/${t}/permissions`,data:a});return N.info(" updateRolePermissions baarl",n,{prefix:"RoleService"}),{success:!0,data:n}}catch(n){throw N.error(" updateRolePermissions hatas",n,{prefix:"RoleService"}),n}}async activateRole(t){try{N.info(` activateRole arlyor: ${t}`,null,{prefix:"RoleService"});const a=await Dr({method:"POST",url:`/api/Roles/${t}/activate`});return N.info(" activateRole baarl",a,{prefix:"RoleService"}),{success:!0,data:a}}catch(a){throw N.error(" activateRole hatas",a,{prefix:"RoleService"}),a}}async deactivateRole(t){try{N.info(` deactivateRole arlyor: ${t}`,null,{prefix:"RoleService"});const a=await Dr({method:"POST",url:`/api/Roles/${t}/deactivate`});return N.info(" deactivateRole baarl",a,{prefix:"RoleService"}),{success:!0,data:a}}catch(a){throw N.error(" deactivateRole hatas",a,{prefix:"RoleService"}),a}}}const ui=new dJ,cJ=({isOpen:e,onClose:t,onSubmit:a,user:n,isLoading:s})=>{const{t:i}=Ze(),[o,l]=p.useState(null),[d,c]=p.useState({});p.useEffect(()=>{if(n){const[x,...b]=n.fullName.split(" "),v=b.join(" ");l({appUserId:n.id,name:x||"",surname:v||"",userName:n.userName,email:n.email,restaurantId:n.restaurantId,branchId:n.branchId,profileImage:n.profileImage||"",isActive:n.isActive})}},[n]);const g=()=>{if(!o)return!1;const x={};return o.name||(x.name=i("userManagementPage.editUserModal.validation.firstNameRequired")),o.surname||(x.surname=i("userManagementPage.editUserModal.validation.lastNameRequired")),o.email||(x.email=i("userManagementPage.editUserModal.validation.emailRequired")),o.userName||(x.userName=i("userManagementPage.editUserModal.validation.usernameRequired")),c(x),Object.keys(x).length===0},h=x=>{if(x.preventDefault(),!g()||!o||!n)return;const b={...o,restaurantId:o.restaurantId||null,branchId:o.branchId,profileImage:o.profileImage||null};a(n.id,b)};return!e||!o?null:r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),r.jsxs(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"relative w-full max-w-2xl rounded-xl bg-white dark:bg-gray-800 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(On,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),i("userManagementPage.editUserModal.title"),": ",n?.fullName]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:""})]}),r.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i("userManagementPage.editUserModal.firstNameLabel")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"name",value:o.name,onChange:x=>l(b=>({...b,name:x.target.value})),className:`w-full dark:text-white rounded-lg border px-4 py-2 dark:bg-gray-700 ${d.name?"border-red-500":"border-gray-300 dark:border-gray-600"}`})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"surname",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i("userManagementPage.editUserModal.lastNameLabel")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"surname",value:o.surname,onChange:x=>l(b=>({...b,surname:x.target.value})),className:`w-full dark:text-white rounded-lg border px-4 py-2 dark:bg-gray-700 ${d.surname?"border-red-500":"border-gray-300 dark:border-gray-600"}`})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i("userManagementPage.editUserModal.emailLabel")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",id:"email",value:o.email,onChange:x=>l(b=>({...b,email:x.target.value})),className:`w-full rounded-lg dark:text-white border px-4 py-2 dark:bg-gray-700 ${d.email?"border-red-500":"border-gray-300 dark:border-gray-600"}`})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"userName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i("userManagementPage.editUserModal.usernameLabel")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"userName",value:o.userName,onChange:x=>l(b=>({...b,userName:x.target.value})),className:`w-full rounded-lg dark:text-white border px-4 py-2 dark:bg-gray-700 ${d.userName?"border-red-500":"border-gray-300 dark:border-gray-600"}`})]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"isActiveEdit",checked:o.isActive,onChange:x=>l(b=>({...b,isActive:x.target.checked})),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"isActiveEdit",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:i("userManagementPage.editUserModal.isActiveLabel")})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:t,disabled:s,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:i("userManagementPage.createRole.cancel")}),r.jsx("button",{type:"submit",disabled:s,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-sm disabled:opacity-50",children:i(s?"userManagementPage.editUserModal.saveButtonLoading":"userManagementPage.editUserModal.saveButton")})]})]})]})]})})},uJ=({isOpen:e,onClose:t,onSubmit:a,user:n,allRoles:s,isLoading:i})=>{const{t:o}=Ze(),[l,d]=p.useState([]),[c,g]=p.useState([]),[h,x]=p.useState(!1);p.useEffect(()=>{if(!e||!n){g([]);return}const j=n.branchId;j?(async()=>{x(!0);try{const S=await ui.getRoles({branchId:j});g(S.data||[]),N.info(`Fetched ${S.data?.length} roles for branch ${j}`,S.data,{prefix:"UpdateUserRolesModal"})}catch(S){N.error(`Failed to fetch roles for branch ${j}`,S,{prefix:"UpdateUserRolesModal"}),g([])}finally{x(!1)}})():(g(s),x(!1),N.info(`Using ${s.length} global roles for user ${n.id}`,s,{prefix:"UpdateUserRolesModal"}))},[n,s,e]),p.useEffect(()=>{if(n&&c){const j=c.filter(w=>n.roles.includes(w.name)).map(w=>w.appRoleId);d(j)}else d([])},[n,c]);const b=j=>{j.preventDefault(),n&&a(n.id,{roleIds:l})},v=j=>{d(w=>w.includes(j)?w.filter(S=>S!==j):[...w,j])};return e?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),r.jsxs(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"relative w-full max-w-lg rounded-xl bg-white dark:bg-gray-800 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(xa,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),o("userManagementPage.updateRoles.title",{name:n?.fullName||""})]}),r.jsx("button",{onClick:t,disabled:i||h,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 disabled:opacity-50",children:""})]}),r.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[r.jsx("div",{className:"max-h-64 min-h-[10rem] overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-700/50",children:h?r.jsx("div",{className:"flex items-center justify-center h-full min-h-[8rem]",children:r.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-500 dark:text-gray-400",children:[r.jsx(mt,{className:"animate-spin h-6 w-6"}),r.jsx("span",{className:"text-sm",children:o("userManagementPage.createUser.loadingRoles")||"Loading roles..."})]})}):c.length===0?r.jsxs("div",{className:"text-center py-6 flex flex-col items-center justify-center h-full min-h-[8rem]",children:[r.jsx(xa,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium mb-1",children:o("userManagementPage.createUser.noRoles")||"No roles available"}),r.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs text-center",children:o("userManagementPage.updateRoles.noRolesDesc")||"No roles were found for this user's location."})]}):c.filter(j=>j.isActive).map(j=>r.jsxs("label",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600/50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:l.includes(j.appRoleId),onChange:()=>v(j.appRoleId),className:"mt-0.5 h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-white",children:j.name}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:j.description})]})]},j.roleId))}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:t,disabled:i||h,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-300/50 rounded-lg disabled:opacity-50",children:o("userManagementPage.createRole.cancel")||"Cancel"}),r.jsxs("button",{type:"submit",disabled:i||h||c.length===0,className:"px-6 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 rounded-lg shadow-sm disabled:opacity-50 flex items-center gap-2",children:[(i||h)&&r.jsx(mt,{className:"animate-spin h-4 w-4"}),i?o("userManagementPage.updateRoles.saving")||"Saving...":h?o("userManagementPage.createUser.loadingRoles")||"Loading...":o("userManagementPage.updateRoles.update")||"Update Roles"]})]})]})]})]})}):null},mJ=({isOpen:e,onClose:t,onConfirm:a,title:n,message:s,confirmText:i,actionType:o,isLoading:l})=>{const{t:d}=Ze(),c=()=>{switch(o){case"delete":return r.jsx(wr,{className:"h-6 w-6 text-red-600"});case"lock":return r.jsx(Zd,{className:"h-6 w-6 text-yellow-600"});case"unlock":return r.jsx(x2,{className:"h-6 w-6 text-green-600"});default:return r.jsx(ya,{className:"h-6 w-6 text-blue-600"})}},g=()=>{switch(o){case"delete":return"bg-red-600 hover:bg-red-700 focus:ring-red-500";case"lock":return"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500";case"unlock":return"bg-green-600 hover:bg-green-700 focus:ring-green-500";default:return"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}};return e?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),r.jsxs(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"relative w-full max-w-md rounded-xl bg-white dark:bg-gray-800 shadow-2xl",children:[r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full ${g().replace("bg-","bg-").replace("600","100").replace("hover:bg-","")} dark:bg-gray-700`,children:c()}),r.jsxs("div",{className:"mt-0 flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",id:"modal-title",children:n}),r.jsx("div",{className:"mt-2",children:r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s})})]})]})}),r.jsxs("div",{className:"flex justify-end space-x-4 bg-gray-50 dark:bg-gray-700/50 px-6 py-4 rounded-b-xl",children:[r.jsx("button",{type:"button",onClick:t,disabled:l,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none disabled:opacity-50",children:d("userManagementPage.createRole.cancel")}),r.jsxs("button",{type:"button",onClick:a,disabled:l,className:`inline-flex items-center justify-center rounded-lg border border-transparent px-4 py-2 text-sm font-medium text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 ${g()}`,children:[l&&r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),i]})]})]})]})}):null},gJ=({isOpen:e,onClose:t,onSubmit:a,roles:n,branches:s,error:i,isLoading:o,isRolesLoading:l,onBranchChange:d})=>{const{t:c,isRTL:g}=Ze();console.log("roles",n);const[h,x]=p.useState({surName:"",name:"",email:"",password:"",passwordConfirm:"",phoneNumber:"",restaurantId:null,branchId:"",profileImage:"",userCreatorId:"",roleIdsList:[],isActive:!0}),[b,v]=p.useState({}),[j,w]=p.useState(""),[S,M]=p.useState([]),[T,A]=p.useState(!1),[I,_]=p.useState(!1),[D,E]=p.useState("restaurant"),[X,ee]=p.useState(!1),[Z,B]=p.useState("+90"),[G,J]=p.useState(!1),ce=p.useRef(null),te=p.useRef(null);Ss(ce,()=>ee(!1)),Ss(te,()=>J(!1));const K=h.branchId?s.find(F=>Number(F.branchId)===Number(h.branchId))?.branchName:null,Y=()=>{const F={};return!h.name||h.name.length===0?F.name="First name is required":h.name.length>50&&(F.name="First name must be less than 50 characters"),!h.surName||h.surName.length===0?F.surName="Last name is required":h.surName.length>50&&(F.surName="Last name must be less than 50 characters"),!h.email||h.email.length===0?F.email="Email is required":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.email)||(F.email="Invalid email format"),!h.password||h.password.length<6?F.password="Password must be at least 6 characters":h.password.length>100&&(F.password="Password must be less than 100 characters"),!h.passwordConfirm||h.passwordConfirm.length===0?F.passwordConfirm="Password confirmation is required":h.password!==h.passwordConfirm&&(F.passwordConfirm="Passwords do not match"),(!h.phoneNumber||h.phoneNumber.length===0)&&(F.phoneNumber="Phone number is required"),D==="branch"&&(h.branchId||(F.branchId="Branch is required")),S.length===0&&(F.roles="At least one role must be selected"),v(F),Object.keys(F).length===0},re=async F=>{if(F.preventDefault(),!Y())return;w("");const $=()=>{try{const H=localStorage.getItem("token")||sessionStorage.getItem("token");if(H){const Q=JSON.parse(atob(H.split(".")[1]));return Q.user_id||Q.sub||""}return""}catch{return""}},q={...h,name:h.name||`${h.name.toLowerCase()}.${h.surName.toLowerCase()}`.replace(/[^a-z.]/g,""),phoneNumber:`${Z}${h.phoneNumber}`.replace(/\s+/g,""),restaurantId:D==="restaurant"?h.restaurantId:null,branchId:D==="branch"?h.branchId:null,profileImage:h.profileImage||"",userCreatorId:h.userCreatorId||$(),roleIdsList:S};try{await a(q)}catch(H){if(H.response?.data?.message)w(H.response.data.message);else if(H.response?.data?.errors){const Q=Object.values(H.response.data.errors).join(", ");w(Q)}else H.message?w(H.message):w("An unexpected error occurred. Please try again.")}},ne=F=>{M($=>$.includes(F)?$.filter(q=>q!==F):[...$,F])},z=F=>{E(F),x(F==="restaurant"?$=>({...$,branchId:null}):$=>({...$,restaurantId:null,branchId:null})),d(null),v($=>{const q={...$};return delete q.restaurantId,delete q.branchId,q})};if(!e)return null;const V=s&&s.length>0;return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),r.jsxs(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"relative w-full max-w-4xl rounded-xl bg-white dark:bg-gray-800 shadow-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-6 py-4 sticky top-0 bg-white dark:bg-gray-800 z-10",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(Cx,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),c("userManagementPage.createUser.title")||"Create New User"]}),r.jsx("button",{onClick:t,disabled:o,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:""})]}),r.jsxs("form",{onSubmit:re,className:"p-6 space-y-6",children:[j&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Nt,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-sm font-medium text-red-800 dark:text-red-200 mb-1",children:c("userManagementPage.createUser.error")||"Error Creating User"}),r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:j})]}),r.jsx("button",{type:"button",onClick:()=>w(""),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200",children:""})]})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:c("userManagementPage.createUser.personalInfo")||"Personal Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[c("userManagementPage.createUser.firstName")||"First Name"," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"name",required:!0,maxLength:50,value:h.name,onChange:F=>x($=>({...$,name:F.target.value})),className:`w-full rounded-lg border px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${b.name?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter first name"}),b.name&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b.name})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"surName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[c("userManagementPage.createUser.lastName")||"Last Name"," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"surName",required:!0,maxLength:50,value:h.surName,onChange:F=>x($=>({...$,surName:F.target.value})),className:`w-full rounded-lg border px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${b.surName?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter last name"}),b.surName&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b.surName})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:c("userManagementPage.createUser.contactInfo")||"Contact Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[c("userManagementPage.createUser.email")||"Email"," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",id:"email",required:!0,value:h.email,onChange:F=>x($=>({...$,email:F.target.value})),className:`w-full rounded-lg border px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${b.email?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:"user@example.com"}),b.email&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b.email})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[c("userManagementPage.createUser.phoneNumber")||"Phone Number"," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative w-32",ref:te,children:[r.jsxs("button",{type:"button",onClick:()=>J(!G),className:`flex items-center justify-between w-full px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 ${b.phoneNumber?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{children:Gs.find(F=>F.code===Z)?.flag||""}),r.jsx("span",{children:Z})]}),r.jsx(Rr,{className:`h-4 w-4 transition-transform ${G?"rotate-180":""}`})]}),G&&r.jsx("div",{className:"absolute z-30 mt-1 w-64 bg-white dark:bg-gray-700 rounded-lg shadow-lg border border-gray-200 dark:border-gray-600 py-1 max-h-60 overflow-auto",children:Gs.map(F=>r.jsx("button",{type:"button",onClick:()=>{B(F.code),J(!1)},className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 flex items-center gap-2 ${Z===F.code?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-200"} ${g?"text-right":"text-left"}`,children:r.jsx("span",{className:"font-medium",children:F.code})},F.code))})]}),r.jsx("input",{type:"tel",id:"phoneNumber",required:!0,value:h.phoneNumber??"",onChange:F=>{const $=F.target.value.replace(/[^\d\s]/g,"");x(q=>({...q,phoneNumber:$}))},className:`flex-1 rounded-lg border px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${b.phoneNumber?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:"538 937 0860"})]}),b.phoneNumber&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b.phoneNumber}),r.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["Full number: ",Z," ",h.phoneNumber]})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:c("userManagementPage.createUser.password")||"Password"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[c("userManagementPage.createUser.password")||"Password"," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:T?"text":"password",id:"password",required:!0,maxLength:100,minLength:6,value:h.password,onChange:F=>x($=>({...$,password:F.target.value})),className:`w-full rounded-lg border px-4 py-2 ${g?"pl-10":"pr-10"} text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${b.password?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter password (min 6 characters)"}),r.jsx("button",{type:"button",onClick:()=>A(!T),className:`absolute inset-y-0 ${g?"left-0 pl-3":"right-0 pr-3"} flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`,children:T?r.jsx(Cs,{}):r.jsx(Ya,{})})]}),b.password&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b.password})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"passwordConfirm",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[c("userManagementPage.createUser.confirmPassword")||"Confirm Password"," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:I?"text":"password",id:"passwordConfirm",required:!0,maxLength:100,minLength:6,value:h.passwordConfirm,onChange:F=>x($=>({...$,passwordConfirm:F.target.value})),className:`w-full rounded-lg border px-4 py-2 ${g?"pl-10":"pr-10"} text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${b.passwordConfirm?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:"Confirm password"}),r.jsx("button",{type:"button",onClick:()=>_(!I),className:`absolute inset-y-0 ${g?"left-0 pl-3":"right-0 pr-3"} flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`,children:I?r.jsx(Cs,{}):r.jsx(Ya,{})})]}),b.passwordConfirm&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b.passwordConfirm})]})]})]}),V&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:c("userManagementPage.createUser.location")||"Location"}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[c("userManagementPage.createUser.locationType")||"Location Type"," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"locationType",value:"restaurant",checked:D==="restaurant",onChange:()=>z("restaurant"),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),r.jsx("span",{className:`${g?"mr-2":"ml-2"} text-sm text-gray-700 dark:text-gray-300`,children:c("userManagementPage.createUser.restaurant")||"Restaurant"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"locationType",value:"branch",checked:D==="branch",onChange:()=>z("branch"),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),r.jsx("span",{className:`${g?"mr-2":"ml-2"} text-sm text-gray-700 dark:text-gray-300`,children:c("userManagementPage.createUser.branch")||"Branch"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:D==="restaurant"?"":r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[c("userManagementPage.createUser.branch")||"Branch"," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",ref:ce,children:[r.jsxs("button",{type:"button",onClick:()=>ee(!X),disabled:o||s.length===0,className:`flex items-center justify-between w-full px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed ${b.branchId?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"} ${g?"flex-row-reverse":""}`,children:[r.jsxs("span",{className:`flex items-center ${g?"flex-row-reverse":""}`,children:[r.jsx(Hs,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 ${g?"ml-2":"mr-2"}`}),K||c("userManagementPage.createUser.selectBranch")||"Select Branch"]}),r.jsx(Rr,{className:`h-4 w-4 transition-transform duration-200 ${X?"transform rotate-180":""} ${g?"mr-2":"ml-2"}`})]}),X&&r.jsx("div",{className:`absolute z-20 mt-1 w-full bg-white dark:bg-gray-700 rounded-md shadow-lg border border-gray-200 dark:border-gray-600 py-1 max-h-60 overflow-auto ${g?"right-0":"left-0"}`,children:s.length===0?r.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:c("userManagementPage.createUser.noBranches")||"No branches available"}):s.map(F=>r.jsx("button",{type:"button",onClick:()=>{x($=>({...$,branchId:F.branchId})),ee(!1),v($=>{const q={...$};return delete q.branchId,q}),d(Number(F.branchId))},className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 ${h.branchId===F.branchId?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-200"} ${g?"text-right":"text-left"}`,children:F.branchName},F.branchId))})]}),b.branchId&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b.branchId})]})})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:c("userManagementPage.createUser.roleAssignment")||"Role Assignment"}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[c("userManagementPage.createUser.roles")||"Roles"," (",S.length," selected) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("div",{className:"max-h-48 min-h-[10rem] overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-700/50",children:l?r.jsx("div",{className:"flex items-center justify-center h-full min-h-[8rem]",children:r.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-500 dark:text-gray-400",children:[r.jsx(mt,{className:"animate-spin h-6 w-6"}),r.jsx("span",{className:"text-sm",children:c("userManagementPage.createUser.loadingRoles")||"Loading roles..."})]})}):n.length===0?r.jsxs("div",{className:"text-center py-6 flex flex-col items-center justify-center h-full min-h-[8rem]",children:[r.jsx(xa,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium mb-1",children:V&&D==="branch"&&!h.branchId?c("userManagementPage.createUser.selectBranchForRoles")||"Select a branch":c("userManagementPage.createUser.noRoles")||"No roles available"}),r.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs text-center",children:V&&D==="branch"&&!h.branchId?c("userManagementPage.createUser.selectBranchForRolesDesc")||"Select a branch to see available roles.":c("userManagementPage.createUser.createRolesFirst")||"No roles found for this location."})]}):r.jsx("div",{className:"space-y-2",children:n.filter(F=>F.isActive).map(F=>r.jsxs("label",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600/50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:S.includes(F.appRoleId),onChange:()=>ne(F.appRoleId),className:"mt-0.5 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-white",children:F.name}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:F.description}),F.category&&r.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:F.category})]})]},F.appRoleId))})}),b.roles&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b.roles})]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:h.isActive,onChange:F=>x($=>({...$,isActive:F.target.checked})),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"isActive",className:`${g?"mr-2":"ml-2"} text-sm text-gray-700 dark:text-gray-300`,children:c("userManagementPage.createUser.userIsActive")||"User is Active"})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700 sticky bottom-0 bg-white dark:bg-gray-800",children:[r.jsx("button",{type:"button",onClick:t,disabled:o,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none disabled:opacity-50",children:c("userManagementPage.createUser.cancel")||"Cancel"}),r.jsxs("button",{type:"submit",disabled:o||l||n.length===0,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[o&&r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o?c("userManagementPage.createUser.creating")||"Creating...":l?c("userManagementPage.createUser.loadingRoles")||"Loading Roles...":n.length===0?c("userManagementPage.createUser.noRoles")||"No Roles Available":c("userManagementPage.createUser.create")||"Create User"]})]})]})]})]})})},hJ=({isOpen:e,onClose:t,onSuccess:a,branches:n})=>{const{t:s,isRTL:i}=Ze(),[o,l]=p.useState(1),[d,c]=p.useState({name:"",description:"",branchId:0,category:""}),[g,h]=p.useState({}),[x,b]=p.useState(!1),[v,j]=p.useState([]),[w,S]=p.useState([]),[M,T]=p.useState(!1),[A,I]=p.useState(0),[_,D]=p.useState(!1),[E,X]=p.useState(!1),[ee,Z]=p.useState(null),B=p.useRef(null);Ss(B,()=>b(!1));const G=_||E||M;p.useEffect(()=>{o===2&&J()},[o,d.branchId]),p.useEffect(()=>{e||(l(1),c({name:"",description:"",branchId:void 0,category:""}),h({}),j([]),S([]),Z(null))},[e]);const J=async()=>{T(!0);const V={};d.branchId&&Number(d.branchId)>0&&(V.branchId=Number(d.branchId));try{const F=await ui.getPermissionCatalog(V);F.success&&F.data?S(F.data):(N.error("Failed to fetch permission catalog",F,{prefix:"CreateRoleModal"}),S([]))}catch(F){N.error("Error fetching permission catalog",F,{prefix:"CreateRoleModal"}),S([])}finally{T(!1)}},ce=d.branchId?n.find(V=>Number(V.branchId)===Number(d.branchId))?.branchName:null,te=()=>{const V={};return(!d.name||d.name.length<3)&&(V.name=s("userManagementPage.createRole.errors.nameRequired")),h(V),Object.keys(V).length===0},K=async()=>{if(te())try{D(!0);const V={name:d.name,description:d.description,category:d.category};d.branchId&&Number(d.branchId)>0&&(V.branchId=Number(d.branchId));const F=await ui.createRole(V);if(!F.success||!F.data)throw new Error(s("userManagementPage.error.createRoleFailed"));N.info("Rol baaryla oluturuldu",F.data,{prefix:"CreateRoleModal"}),Z(F.data.roleId??null),l(2)}catch(V){N.error("Rol oluturulurken hata",V,{prefix:"CreateRoleModal"}),h({name:V.message||s("userManagementPage.error.createRoleFailed")})}finally{D(!1)}},Y=async()=>{if(!ee){N.error("No role ID available",{},{prefix:"CreateRoleModal"});return}X(!0);try{if(v.length===0){N.info("No permissions selected, skipping assignment.",{},{prefix:"CreateRoleModal"}),a(),t();return}const V=await ui.updateRolePermissions(ee,{permissionIds:v});V.success?(N.info("Rol izinleri baaryla eklendi",V.data,{prefix:"CreateRoleModal"}),a(),t()):N.warn("Rol izinleri gncellenirken uyar",V,{prefix:"CreateRoleModal"})}catch(V){N.error("Rol izinleri atanrken hata",V,{prefix:"CreateRoleModal"})}finally{X(!1)}},re=async()=>{a(),t()},ne=V=>{j(F=>F.includes(V)?F.filter($=>$!==V):[...F,V])},z=V=>{const F=w.find(H=>H.category===V);if(!F)return;const $=F.permissions.map(H=>H.permissionId),q=$.every(H=>v.includes(H));j(q?H=>H.filter(Q=>!$.includes(Q)):H=>[...new Set([...H,...$])])};return e?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),r.jsxs(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"relative w-full max-w-2xl rounded-xl bg-white dark:bg-gray-800 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(xa,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:s("userManagementPage.createRole.title")}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:s(o===1?"userManagementPage.createRole.step1Title":"userManagementPage.createRole.step2Title")})]})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:G,children:""})]}),r.jsx("div",{className:"px-6 pt-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"flex items-center flex-1",children:[r.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${o===1?"bg-purple-600 text-white":"bg-green-600 text-white"}`,children:o===2?r.jsx(_r,{className:"h-5 w-5"}):r.jsx("span",{className:"text-sm font-semibold",children:"1"})}),r.jsx("span",{className:`ml-2 text-sm font-medium ${o===1?"text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:s("userManagementPage.createRole.stepBasicInfo")})]}),r.jsx("div",{className:"flex-1 h-0.5 mx-4 bg-gray-200 dark:bg-gray-600",children:r.jsx("div",{className:`h-full transition-all duration-300 ${o===2?"bg-purple-600 w-full":"bg-transparent w-0"}`})}),r.jsxs("div",{className:"flex items-center flex-1 justify-end",children:[r.jsx("span",{className:`mr-2 text-sm font-medium ${o===2?"text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:s("userManagementPage.createRole.stepPermissions")}),r.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${o===2?"bg-purple-600 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-600 dark:text-gray-400"}`,children:r.jsx("span",{className:"text-sm font-semibold",children:"2"})})]})]})}),r.jsx("div",{className:"p-6",children:r.jsx(pr,{mode:"wait",children:o===1?r.jsxs(ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-6",children:[r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(xa,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-200 mb-1",children:s("userManagementPage.createRole.step1Info")}),r.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:s("userManagementPage.createRole.step1Description")})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s("userManagementPage.createRole.roleName")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:d.name,onChange:V=>c({...d,name:V.target.value}),className:`w-full px-3 py-2 border ${g.name?"border-red-500":"border-gray-300 dark:border-gray-600"} rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent`,placeholder:s("userManagementPage.createRole.roleNamePlaceholder"),disabled:G}),g.name&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("userManagementPage.createRole.description")}),r.jsx("textarea",{value:d.description||"",onChange:V=>c({...d,description:V.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:s("userManagementPage.createRole.descriptionPlaceholder"),disabled:G})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("userManagementPage.createRole.category")}),r.jsx("input",{type:"text",value:d.category||"",onChange:V=>c({...d,category:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:s("userManagementPage.createRole.categoryPlaceholder"),disabled:G})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("userManagementPage.createRole.branch")}),r.jsxs("div",{className:"relative",ref:B,children:[r.jsxs("button",{type:"button",onClick:()=>b(!x),disabled:G||n.length===0,className:`flex items-center justify-between w-full px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed ${i?"flex-row-reverse":""}`,children:[r.jsxs("span",{className:`flex items-center ${i?"flex-row-reverse":""}`,children:[r.jsx(Hs,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 ${i?"ml-2":"mr-2"}`}),ce||s("userManagementPage.createRole.selectBranch")]}),r.jsx(Rr,{className:`h-4 w-4 transition-transform duration-200 ${x?"transform rotate-180":""} ${i?"mr-2":"ml-2"}`})]}),x&&r.jsxs("div",{className:`absolute z-20 mt-1 w-full bg-white dark:bg-gray-700 rounded-md shadow-lg border border-gray-200 dark:border-gray-600 py-1 max-h-60 overflow-auto ${i?"right-0":"left-0"}`,children:[r.jsx("button",{type:"button",onClick:()=>{c({...d,branchId:void 0}),b(!1)},className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 ${d.branchId?"text-gray-700 dark:text-gray-200":"bg-purple-50 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400"} ${i?"text-right":"text-left"}`,children:s("userManagementPage.createRole.noBranch")}),n.map(V=>r.jsx("button",{type:"button",onClick:()=>{c({...d,branchId:Number(V.branchId)}),I(Number(V.branchId)),b(!1)},className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 ${d.branchId===Number(V.branchId)?"bg-purple-50 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400":"text-gray-700 dark:text-gray-200"} ${i?"text-right":"text-left"}`,children:V.branchName},V.branchId))]})]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:s("userManagementPage.createRole.branchHint")})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:t,disabled:G,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none disabled:opacity-50",children:s("userManagementPage.createRole.cancel")}),r.jsx("button",{type:"button",onClick:K,disabled:G,className:"px-6 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:_?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"animate-spin h-4 w-4"}),s("userManagementPage.createRole.creating")]}):r.jsxs(r.Fragment,{children:[s("userManagementPage.createRole.continue"),r.jsx(Ui,{className:"h-4 w-4"})]})})]})]},"step1"):r.jsxs(ke.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"space-y-6",children:[r.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(xa,{className:"h-5 w-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-medium text-purple-900 dark:text-purple-200 mb-1",children:s("userManagementPage.createRole.step2Info")}),r.jsx("p",{className:"text-sm text-purple-800 dark:text-purple-300",children:s("userManagementPage.createRole.step2Description")})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:s("userManagementPage.createRole.permissions")}),r.jsx("div",{className:"max-h-80 min-h-[10rem] overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700/50",children:M?r.jsx("div",{className:"flex items-center justify-center h-full min-h-[10rem]",children:r.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-500 dark:text-gray-400",children:[r.jsx(mt,{className:"animate-spin h-6 w-6"}),r.jsx("span",{className:"text-sm",children:s("userManagementPage.createRole.loadingPermissions")})]})}):w.map(V=>{const F=V.permissions.map(H=>H.permissionId),$=F.every(H=>v.includes(H)),q=F.some(H=>v.includes(H))&&!$;return r.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-600 last:border-b-0",children:[r.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 px-4 py-2 flex items-center justify-between sticky top-0 z-10",children:[r.jsx("span",{className:"font-medium text-sm text-gray-700 dark:text-gray-300",children:V.category}),r.jsx("button",{type:"button",onClick:()=>z(V.category),className:`text-xs px-2 py-1 rounded ${$?"bg-purple-600 text-white":q?"bg-purple-300 dark:bg-purple-700 text-gray-700 dark:text-gray-200":"bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-300"} hover:opacity-80 transition-opacity`,disabled:G,children:s($?"userManagementPage.createRole.deselectAll":"userManagementPage.createRole.selectAll")})]}),r.jsx("div",{className:"p-2",children:V.permissions.map(H=>r.jsxs("label",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600/50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:v.includes(H.permissionId),onChange:()=>ne(H.permissionId),disabled:G,className:"mt-0.5 h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-white",children:H.description})})]},H.permissionId))})]},V.category)})}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[r.jsx(xa,{className:"h-4 w-4"}),r.jsxs("span",{children:[v.length," ",s("userManagementPage.createRole.permissionsSelected")]})]})]}),r.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:re,disabled:G,className:"px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white focus:outline-none disabled:opacity-50",children:s("userManagementPage.createRole.skipPermissions")}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("button",{type:"button",onClick:()=>l(1),disabled:G,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none disabled:opacity-50 flex items-center gap-2",children:[r.jsx(ms,{className:"h-4 w-4"}),s("userManagementPage.createRole.back")]}),r.jsx("button",{type:"button",onClick:Y,disabled:G,className:"px-6 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:E?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"animate-spin h-4 w-4"}),s("userManagementPage.createRole.assigningPermissions")]}):r.jsxs(r.Fragment,{children:[r.jsx(_r,{className:"h-4 w-4"}),s("userManagementPage.createRole.finish")]})})]})]})]},"step2")})})]})]})}):null},fJ=({isOpen:e,onClose:t,onSubmit:a,role:n,branches:s,isLoading:i})=>{const{t:o,isRTL:l}=Ze(),[d,c]=p.useState({name:"",description:"",branchId:"",category:""}),[g,h]=p.useState({}),[x,b]=p.useState([]),[v,j]=p.useState(!1),[w,S]=p.useState([]),[M,T]=p.useState(!1),A=p.useRef(!0),I=p.useRef(null);Ss(I,()=>j(!1));const _=i||M;p.useEffect(()=>{e&&n?(A.current=!0,(async()=>{T(!0);const G={};n.branchId&&Number(n.branchId)>0&&(G.branchId=Number(n.branchId));try{const J=await ui.getPermissionCatalog(G);if(J.success&&J.data){S(J.data),c({name:n.name,description:n.description||"",branchId:n.branchId||"",category:n.category||""});const ce=new Map;for(const Y of J.data)for(const re of Y.permissions)re.permissionName&&ce.set(re.permissionName,re.permissionId);const te=new Set(n.permissions.map(Y=>Y.name)),K=[];for(const Y of te)ce.has(Y)&&K.push(ce.get(Y));b(K)}else N.error("Failed to fetch permission catalog",J,{prefix:"EditRoleModal"})}catch(J){N.error("Error fetching permission catalog",J,{prefix:"EditRoleModal"})}finally{T(!1),A.current=!1}})()):(c({name:"",description:"",branchId:"",category:""}),b([]),h({}),S([]),A.current=!0)},[e,n]),p.useEffect(()=>{if(A.current||!e)return;(async()=>{T(!0);const G={};d.branchId&&Number(d.branchId)>0&&(G.branchId=Number(d.branchId));try{const J=await ui.getPermissionCatalog(G);J.success&&J.data?S(J.data):(N.warn("Failed to re-fetch permission catalog for new branch",J,{prefix:"EditRoleModal"}),S([]))}catch(J){N.error("Error re-fetching permission catalog",J,{prefix:"EditRoleModal"}),S([])}finally{T(!1)}})()},[d.branchId]);const D=d.branchId?s.find(B=>B.branchId===d.branchId)?.branchName:null,E=()=>{const B={};return(!d.name||d.name.length<3)&&(B.name=o("userManagementPage.createRole.errors.nameRequired")),h(B),Object.keys(B).length===0},X=async B=>{if(B.preventDefault(),!E()||!n)return;const G={name:d.name,description:d.description||null,branchId:d.branchId||"",category:d.category||null};G.branchId||delete G.branchId;try{await a(n.appRoleId,G,x)}catch(J){console.error("Error updating role:",J)}},ee=B=>{b(G=>G.includes(B)?G.filter(J=>J!==B):[...G,B])},Z=B=>{const G=w.find(te=>te.category===B);if(!G)return;const J=G.permissions.map(te=>te.permissionId),ce=J.every(te=>x.includes(te));b(ce?te=>te.filter(K=>!J.includes(K)):te=>[...new Set([...te,...J])])};return e?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),r.jsxs(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"relative w-full max-w-2xl rounded-xl bg-white dark:bg-gray-800 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(xa,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),o("userManagementPage.editRole.title"),": ",n?.name]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:_,children:""})]}),r.jsxs("form",{onSubmit:X,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:o("userManagementPage.createRole.basicInfo")}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[o("userManagementPage.createRole.roleName")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:d.name,onChange:B=>c({...d,name:B.target.value}),className:`w-full px-3 py-2 border ${g.name?"border-red-500":"border-gray-300 dark:border-gray-600"} rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent`,placeholder:o("userManagementPage.createRole.roleNamePlaceholder"),disabled:_}),g.name&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("userManagementPage.createRole.description")}),r.jsx("textarea",{value:d.description||"",onChange:B=>c({...d,description:B.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:o("userManagementPage.createRole.descriptionPlaceholder"),disabled:_})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("userManagementPage.createRole.category")}),r.jsx("input",{type:"text",value:d.category||"",onChange:B=>c({...d,category:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:o("userManagementPage.createRole.categoryPlaceholder"),disabled:_})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("userManagementPage.createRole.branch")}),r.jsxs("div",{className:"relative",ref:I,children:[r.jsxs("button",{type:"button",onClick:()=>j(!v),disabled:_||s.length===0,className:`flex items-center justify-between w-full px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed ${l?"flex-row-reverse":""}`,children:[r.jsxs("span",{className:`flex items-center ${l?"flex-row-reverse":""}`,children:[r.jsx(Hs,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 ${l?"ml-2":"mr-2"}`}),D||o("userManagementPage.createRole.selectBranch")]}),r.jsx(Rr,{className:`h-4 w-4 transition-transform duration-200 ${v?"transform rotate-180":""} ${l?"mr-2":"ml-2"}`})]}),v&&r.jsxs("div",{className:`absolute z-20 mt-1 w-full bg-white dark:bg-gray-700 rounded-md shadow-lg border border-gray-200 dark:border-gray-600 py-1 max-h-60 overflow-auto ${l?"right-0":"left-0"}`,children:[r.jsx("button",{type:"button",onClick:()=>{c({...d,branchId:""}),j(!1)},className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 ${d.branchId?"text-gray-700 dark:text-gray-200":"bg-purple-50 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400"} ${l?"text-right":"text-left"}`,children:o("userManagementPage.createRole.noBranch")}),s.map(B=>r.jsx("button",{type:"button",onClick:()=>{c({...d,branchId:B.branchId}),j(!1)},className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 ${d.branchId===B.branchId?"bg-purple-50 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400":"text-gray-700 dark:text-gray-200"} ${l?"text-right":"text-left"}`,children:B.branchName},B.branchId))]})]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:o("userManagementPage.createRole.branchHint")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:o("userManagementPage.createRole.permissions")}),r.jsx("div",{className:"max-h-80 min-h-[10rem] overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700/50",children:M?r.jsx("div",{className:"flex items-center justify-center h-full min-h-[10rem]",children:r.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-500 dark:text-gray-400",children:[r.jsx(mt,{className:"animate-spin h-6 w-6"}),r.jsx("span",{className:"text-sm",children:o("userManagementPage.createRole.loadingPermissions")})]})}):w.map(B=>{const G=B.permissions.map(te=>te.permissionId),J=G.every(te=>x.includes(te)),ce=G.some(te=>x.includes(te))&&!J;return r.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-600 last:border-b-0",children:[r.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 px-4 py-2 flex items-center justify-between sticky top-0 z-10",children:[r.jsx("span",{className:"font-medium text-sm text-gray-700 dark:text-gray-300",children:B.category}),r.jsx("button",{type:"button",onClick:()=>Z(B.category),className:`text-xs px-2 py-1 rounded ${J?"bg-purple-600 text-white":ce?"bg-purple-300 dark:bg-purple-700 text-gray-700 dark:text-gray-200":"bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-300"} hover:opacity-80 transition-opacity`,disabled:_,children:o(J?"userManagementPage.createRole.deselectAll":"userManagementPage.createRole.selectAll")})]}),r.jsx("div",{className:"p-2",children:B.permissions.map(te=>r.jsxs("label",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600/50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:x.includes(te.permissionId),onChange:()=>ee(te.permissionId),disabled:_,className:"mt-0.5 h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-white",children:te.description})})]},te.permissionId))})]},B.category)})}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[r.jsx(xa,{className:"h-4 w-4"}),r.jsxs("span",{children:[x.length," ",o("userManagementPage.createRole.permissionsSelected")]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:t,disabled:_,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none disabled:opacity-50",children:o("userManagementPage.createRole.cancel")}),r.jsxs("button",{type:"submit",disabled:_,className:"px-6 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[i?r.jsx(mt,{className:"animate-spin h-4 w-4"}):null,o(i?"userManagementPage.editRole.saving":"userManagementPage.editRole.save")]})]})]})]})]})}):null},pJ=({isOpen:e,onClose:t,user:a})=>{const{t:n,isRTL:s}=Ze();if(!e)return null;const i=Lr.useMemo(()=>{if(!a.permissions||a.permissions.length===0)return{};const l={};return a.permissions.forEach(d=>{const c=d.split("."),g=c.length>1?c[0]:"other";l[g]||(l[g]=[]),l[g].push(d)}),l},[a.permissions]),o=a.permissions&&a.permissions.length>0;return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),r.jsxs(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"relative w-full max-w-2xl rounded-xl bg-white dark:bg-gray-800 shadow-2xl",dir:s?"rtl":"ltr",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hc,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("userManagementPage.permissionsModal.title")}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.fullName})]})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:""})]}),r.jsxs("div",{className:"p-6",children:[a.roles&&a.roles.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(xa,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),r.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:n("userManagementPage.permissionsModal.userRoles")})]}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:a.roles.map((l,d)=>r.jsx("span",{className:"inline-flex items-center rounded-full bg-purple-100 px-3 py-1 text-sm font-medium text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",children:l},d))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:n("userManagementPage.permissionsModal.permissions")}),o&&r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.permissions.length," ",n("userManagementPage.permissionsModal.permissionsCount")]})]}),r.jsx("div",{className:"max-h-96 overflow-y-auto rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:o?r.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:Object.entries(i).map(([l,d])=>r.jsxs("div",{className:"p-4",children:[r.jsx("h5",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider mb-3",children:l}),r.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((c,g)=>r.jsx("span",{className:"inline-flex items-center rounded-md bg-blue-50 px-2.5 py-1 text-xs font-medium text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 border border-blue-200 dark:border-blue-800",children:c},g))})]},l))}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Hc,{className:"h-12 w-12 text-gray-300 dark:text-gray-600 mb-3"}),r.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:n("userManagementPage.permissionsModal.noPermissions")})]})})]})]}),r.jsx("div",{className:"flex justify-end border-t border-gray-200 dark:border-gray-700 px-6 py-4",children:r.jsx("button",{type:"button",onClick:t,className:"rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 transition-colors",children:n("userManagementPage.permissionsModal.close")})})]})]})})},xJ=({isOpen:e,onClose:t,role:a})=>{const{t:n,isRTL:s}=Ze();return e?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),r.jsxs(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"relative w-full max-w-lg rounded-xl bg-white dark:bg-gray-800 shadow-2xl",dir:s?"rtl":"ltr",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(xa,{className:"h-5 w-5 text-purple-500 dark:text-purple-400"}),n("userManagementPage.rolePermissionsModal.title")," ",a.name]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:""})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"max-h-64 overflow-y-auto rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50 p-4",children:a.permissions&&a.permissions.length>0?r.jsx("div",{className:"space-y-2",children:a.permissions.map((i,o)=>r.jsx("div",{className:"flex flex-col rounded-lg bg-gray-100 px-3 py-2 dark:bg-gray-700",children:i.description&&r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:i.description})},i.permissionId||o))}):r.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:n("userManagementPage.rolePermissionsModal.noPermissions")})})}),r.jsx("div",{className:"flex justify-end space-x-4 border-t border-gray-200 dark:border-gray-700 px-6 py-4",children:r.jsx("button",{type:"button",onClick:t,className:"rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",children:n("userManagementPage.permissionsModal.close")})})]})]})}):null},yJ=({isOpen:e,onClose:t,onSubmit:a,user:n,isLoading:s})=>{const{t:i,isRTL:o}=Ze(),[l,d]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,g]=p.useState({}),[h,x]=p.useState(!1),[b,v]=p.useState(!1),[j,w]=p.useState(!1);p.useEffect(()=>{e&&(d({currentPassword:"",newPassword:"",confirmPassword:""}),g({}),x(!1),v(!1),w(!1))},[e]);const S=()=>{const T={};return l.currentPassword||(T.currentPassword=i("userManagementPage.changePasswordModal.validation.currentPasswordRequired")),l.newPassword?l.newPassword.length<6&&(T.newPassword=i("userManagementPage.changePasswordModal.validation.passwordMinLength")):T.newPassword=i("userManagementPage.changePasswordModal.validation.passwordRequired"),l.confirmPassword?l.newPassword!==l.confirmPassword&&(T.confirmPassword=i("userManagementPage.changePasswordModal.validation.passwordMismatch")):T.confirmPassword=i("userManagementPage.changePasswordModal.validation.confirmPasswordRequired"),g(T),Object.keys(T).length===0},M=async T=>{if(T.preventDefault(),!(!S()||!n))try{const A={appUserId:n.id,currentPassword:l.currentPassword,newPassword:l.newPassword,confirmPassword:l.confirmPassword};await a(n.id,A),t()}catch{}};return e?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",dir:o?"rtl":"ltr",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),r.jsxs(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"relative w-full max-w-md rounded-xl bg-white dark:bg-gray-800 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Hc,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i("userManagementPage.changePasswordModal.title")}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:n?.fullName})]})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:s,children:""})]}),r.jsxs("form",{onSubmit:M,className:"p-6 space-y-4",children:[r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:i("userManagementPage.changePasswordModal.info")})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i("userManagementPage.changePasswordModal.currentPassword")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:h?"text":"password",value:l.currentPassword,onChange:T=>d({...l,currentPassword:T.target.value}),className:`w-full px-3 py-2 ${o?"pl-10 pr-3":"pr-10 pl-3"} border ${c.currentPassword?"border-red-500":"border-gray-300 dark:border-gray-600"} rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent`,placeholder:i("userManagementPage.changePasswordModal.currentPasswordPlaceholder"),disabled:s}),r.jsx("button",{type:"button",onClick:()=>x(!h),className:`absolute ${o?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`,children:h?r.jsx(Cs,{className:"h-4 w-4"}):r.jsx(Ya,{className:"h-4 w-4"})})]}),c.currentPassword&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.currentPassword})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i("userManagementPage.changePasswordModal.newPassword")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:b?"text":"password",value:l.newPassword,onChange:T=>d({...l,newPassword:T.target.value}),className:`w-full px-3 py-2 ${o?"pl-10 pr-3":"pr-10 pl-3"} border ${c.newPassword?"border-red-500":"border-gray-300 dark:border-gray-600"} rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent`,placeholder:i("userManagementPage.changePasswordModal.newPasswordPlaceholder"),disabled:s}),r.jsx("button",{type:"button",onClick:()=>v(!b),className:`absolute ${o?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`,children:b?r.jsx(Cs,{className:"h-4 w-4"}):r.jsx(Ya,{className:"h-4 w-4"})})]}),c.newPassword&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.newPassword})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[i("userManagementPage.changePasswordModal.confirmPassword")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:j?"text":"password",value:l.confirmPassword,onChange:T=>d({...l,confirmPassword:T.target.value}),className:`w-full px-3 py-2 ${o?"pl-10 pr-3":"pr-10 pl-3"} border ${c.confirmPassword?"border-red-500":"border-gray-300 dark:border-gray-600"} rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent`,placeholder:i("userManagementPage.changePasswordModal.confirmPasswordPlaceholder"),disabled:s}),r.jsx("button",{type:"button",onClick:()=>w(!j),className:`absolute ${o?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`,children:j?r.jsx(Cs,{className:"h-4 w-4"}):r.jsx(Ya,{className:"h-4 w-4"})})]}),c.confirmPassword&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.confirmPassword})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("userManagementPage.changePasswordModal.requirements")}),r.jsxs("ul",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:[r.jsxs("li",{className:`flex items-center gap-2 ${l.currentPassword?"text-green-600 dark:text-green-400":""}`,children:[r.jsx("span",{children:l.currentPassword?"":""}),i("userManagementPage.changePasswordModal.currentPasswordEntered")]}),r.jsxs("li",{className:`flex items-center gap-2 ${l.newPassword.length>=6?"text-green-600 dark:text-green-400":""}`,children:[r.jsx("span",{children:l.newPassword.length>=6?"":""}),i("userManagementPage.changePasswordModal.minLength")]}),r.jsxs("li",{className:`flex items-center gap-2 ${l.newPassword&&l.confirmPassword&&l.newPassword===l.confirmPassword?"text-green-600 dark:text-green-400":""}`,children:[r.jsx("span",{children:l.newPassword&&l.confirmPassword&&l.newPassword===l.confirmPassword?"":""}),i("userManagementPage.changePasswordModal.passwordsMatch")]})]})]}),r.jsxs("div",{className:`flex ${o?"flex-row-reverse space-x-reverse":""} justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700`,children:[r.jsx("button",{type:"button",onClick:t,disabled:s,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none disabled:opacity-50",children:i("userManagementPage.changePasswordModal.cancel")}),r.jsx("button",{type:"submit",disabled:s,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"animate-spin h-4 w-4"}),i("userManagementPage.changePasswordModal.changing")]}):r.jsxs(r.Fragment,{children:[r.jsx(Hc,{className:"h-4 w-4"}),i("userManagementPage.changePasswordModal.submit")]})})]})]})]})]})}):null},bJ=({isOpen:e,onClose:t,onSubmit:a,user:n,isLoading:s,branches:i})=>{const{t:o}=Ze(),[l,d]=p.useState(""),[c,g]=p.useState(""),h=b=>{if(b.preventDefault(),!l){g(o("userManagementPage.assignBranchModal.validation.branchRequired"));return}if(!n)return;const v=parseInt(l,10);if(isNaN(v)){g(o("userManagementPage.assignBranchModal.validation.branchRequired"));return}g(""),a(n.id,{targetBranchId:v})};if(p.useEffect(()=>{e&&(d(""),g(""))},[e]),!e)return null;const x=n?.branchName?`${n.branchName} (ID: ${n.branchId})`:o("userManagementPage.assignBranchModal.assignedToRestaurant");return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),r.jsxs(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"relative w-full max-w-md rounded-xl bg-white dark:bg-gray-800 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(Qr,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),o("userManagementPage.assignBranchModal.title")]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:""})]}),r.jsxs("form",{onSubmit:h,className:"p-6 space-y-4",children:[r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[o("userManagementPage.assignBranchModal.assigningTo")," ",r.jsx("strong",{className:"text-gray-900 dark:text-white",children:n?.fullName})," ",o("userManagementPage.assignBranchModal.toNewBranch")]}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[o("userManagementPage.assignBranchModal.currentBranch"),":"," ",r.jsx("span",{className:"font-medium",children:x})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"branchId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[o("userManagementPage.assignBranchModal.newBranchLabel")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{id:"branchId",value:l,onChange:b=>d(b.target.value),className:`w-full rounded-lg dark:text-white border px-4 py-2 dark:bg-gray-700 ${c?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[r.jsx("option",{className:"dark:text-white",value:"",disabled:!0,children:o("userManagementPage.assignBranchModal.selectBranchPlaceholder")}),!!n?.branchId&&r.jsxs("option",{className:"dark:text-white font-medium",value:"0",children:[r.jsx(Hs,{className:"h-4 w-4 inline-block mr-2"}),o("userManagementPage.assignBranchModal.assignToRestaurant")]}),i.filter(b=>b.branchId!==n?.branchId).map(b=>r.jsx("option",{className:"dark:text-white",value:b.branchId,children:b.branchName},b.branchId))]}),c&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:t,disabled:s,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:o("userManagementPage.createRole.cancel")}),r.jsx("button",{type:"submit",disabled:s,className:"px-6 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-lg shadow-sm disabled:opacity-50",children:o(s?"userManagementPage.assignBranchModal.submitButtonLoading":"userManagementPage.assignBranchModal.submitButton")})]})]})]})]})})},vJ=()=>{const{t:e,isRTL:t}=Ze(),[a,n]=p.useState([]),[s,i]=p.useState([]),[o,l]=p.useState([]),[d,c]=p.useState([]),[g,h]=p.useState("grid"),[x,b]=p.useState("users"),[v,j]=p.useState(""),[w,S]=p.useState(!0),[M,T]=p.useState(null),[A,I]=p.useState(null),[_,D]=p.useState("all"),[E,X]=p.useState(!1),[ee,Z]=p.useState(!1),[B,G]=p.useState(!1),[J,ce]=p.useState([]),[te,K]=p.useState(!1),[Y,re]=p.useState(!1),[ne,z]=p.useState(null),[V,F]=p.useState(!1),[$,q]=p.useState(!1),[H,Q]=p.useState(null),[de,me]=p.useState(!1),[je,fe]=p.useState(!1),[se,ie]=p.useState(null),[ue,le]=p.useState(!1),[xe,ze]=p.useState(!1),[Le,ut]=p.useState(null),[kt,qt]=p.useState(!1),[hr,jr]=p.useState(!1),[nt,rt]=p.useState(null),[Pr,Ht]=p.useState(!1),[Wt,ge]=p.useState(!1),[ye,Be]=p.useState(null),[Qe,pt]=p.useState(!1),[Ce,we]=p.useState(null),[be,Ie]=p.useState(!1),[Se,_e]=p.useState(null),[Ye,Ft]=p.useState(!1),Tt=p.useRef(null);Ss(Tt,()=>{I(null)});const nr=p.useRef(null);Ss(nr,()=>I(null));const gr=p.useCallback(async()=>{try{S(!0),T(null);const Te=await co.getAllUsers({Includes:"roles,permissions"});if(Te.success&&Te.data){const at=Array.isArray(Te.data)?Te.data:[];n(at),N.info("Kullanclar baaryla yklendi",at,{prefix:"UserManagement"})}else throw new Error(e("userManagementPage.error.loadFailed"))}catch(Te){N.error("Kullanclar yklenirken hata",Te,{prefix:"UserManagement"}),console.log("err.response.data.message",Te.response.data.message),T(Te.response.data.message),n([])}finally{S(!1)}},[e]),sa=p.useCallback(Te=>{Q(Te),q(!0),I(null)},[]),Ve=p.useCallback(async(Te,at)=>{try{me(!0);const Et=await co.changeUserPassword(Te,at);if(Et.success)N.info("Kullanc ifresi baaryla deitirildi",Et.data,{prefix:"UserManagement"}),q(!1),Q(null);else throw new Error(e("userManagementPage.error.changePasswordFailed"))}catch(Et){throw N.error("Kullanc ifresi deitirilirken hata",Et,{prefix:"UserManagement"}),Et}finally{me(!1)}},[e]),St=p.useCallback(Te=>{ie(Te),fe(!0),I(null)},[]),wt=p.useCallback(async(Te,at)=>{try{le(!0);const Et=await co.assignBranchToUser(Te,at);if(Et.success)N.info("Kullanc ubesi baaryla deitirildi",Et.data,{prefix:"UserManagement"}),fe(!1),ie(null),await gr();else throw new Error(e("userManagementPage.error.assignBranchFailed"))}catch(Et){throw N.error("Kullanc ubesi deitirilirken hata",Et,{prefix:"UserManagement"}),Et}finally{le(!1)}},[gr,e]),Ke=p.useCallback(async()=>{try{const Te=await ui.getRolesaAsignable({});if(Te.success&&Te.data){const at=Array.isArray(Te.data)?Te.data:[];i(at),ce(at),N.info("Roller baaryla yklendi",at,{prefix:"UserManagement"})}else throw new Error(e("userManagementPage.error.rolesLoadFailed"))}catch(Te){N.error("Roller yklenirken hata",Te,{prefix:"UserManagement"}),i([])}},[e]),et=p.useCallback(async()=>{try{const Te=await oa.getBranches();l(Te),N.info("ubeler baaryla yklendi",Te,{prefix:"UserManagement"})}catch(Te){N.error("ubeler yklenirken hata",Te,{prefix:"UserManagement"}),l([])}},[]),bt=p.useCallback(async()=>{try{const Te=await ui.getPermissionCatalog();Te.success&&Te.data?c(Te.data):N.warn("Failed to fetch permission catalog",Te,{prefix:"UserManagement"})}catch(Te){N.error("Error fetching permission catalog",Te,{prefix:"UserManagement"})}},[]);p.useEffect(()=>{gr(),Ke(),et(),bt()},[gr,Ke,et,bt]);const Rt=p.useMemo(()=>{if(!Array.isArray(a))return[];let Te=a;if(_!=="all"&&(Te=Te.filter(at=>_==="active"||_==="inactive"?_==="active"?at.isActive:!at.isActive:at.roles.includes(_))),v){const at=v.toLowerCase();Te=Te.filter(Et=>Et.fullName.toLowerCase().includes(at)||Et.email.toLowerCase().includes(at)||Et.phoneNumber&&Et.phoneNumber.includes(v)||Et.restaurantName&&Et.restaurantName.toLowerCase().includes(at))}return Te},[a,_,v]),Xt=p.useMemo(()=>{if(!Array.isArray(s))return[];let Te=s;if(_!=="all"&&(_==="active"||_==="inactive"?Te=Te.filter(at=>_==="active"?at.isActive:!at.isActive):Te=Te.filter(at=>at.category?.toLowerCase().includes(_.toLowerCase()))),v){const at=v.toLowerCase();Te=Te.filter(Et=>Et.name.toLowerCase().includes(at)||Et.description&&Et.description.toLowerCase().includes(at)||Et.category&&Et.category.toLowerCase().includes(at))}return Te},[s,_,v]),cr=p.useCallback(async()=>{await Ke()},[Ke]),gt=p.useCallback(async Te=>{I(null);try{const at=await ui.getRoleById({},Te.appRoleId);at.success&&at.data?(_e(at.data),Ie(!0)):(N.error("Failed to fetch role details",at,{prefix:"UserManagement"}),_e(Te),Ie(!0))}catch(at){N.error("Error fetching role details",at,{prefix:"UserManagement"}),_e(Te),Ie(!0)}},[]),ia=p.useCallback(async(Te,at,Et)=>{try{Ft(!0);const _t=await ui.updateRole(Te,at);if(!_t.success)throw new Error(e("userManagementPage.error.updateRoleFailed"));N.info("Rol baaryla gncellendi",_t.data,{prefix:"UserManagement"});const xr=await ui.updateRolePermissions(Te,{permissionIds:Et});xr.success?N.info("Rol izinleri baaryla gncellendi",xr.data,{prefix:"UserManagement"}):N.warn("Rol izinleri gncellenirken uyar",xr,{prefix:"UserManagement"}),Ie(!1),_e(null),await Ke()}catch(_t){throw N.error("Rol gncellenirken hata",_t,{prefix:"UserManagement"}),_t}finally{Ft(!1)}},[Ke,e]),Ha=p.useCallback(async Te=>{try{G(!0);const at=await co.createUser(Te);if(at.success)N.info("Kullanc baaryla oluturuldu",at.data,{prefix:"UserManagement"}),Z(!1),await gr();else throw new Error(e("userManagementPage.error.createUserFailed"))}catch(at){N.error("Kullanc oluturulurken hata",at,{prefix:"UserManagement"}),T(at.response.data.message)}finally{G(!1)}},[gr,e]),cn=p.useCallback(Te=>{z(Te),re(!0),I(null)},[]),Es=p.useCallback(async(Te,at)=>{try{F(!0);const Et=await co.updateUser(Te,at);if(Et.success)N.info("Kullanc baaryla gncellendi",Et.data,{prefix:"UserManagement"}),re(!1),z(null),await gr();else throw new Error(e("userManagementPage.error.updateUserFailed"))}catch(Et){N.error("Kullanc gncellenirken hata",Et,{prefix:"UserManagement"})}finally{F(!1)}},[gr,e]),_s=p.useCallback(Te=>{ut(Te),ze(!0),I(null)},[]),Cn=p.useCallback(async(Te,at)=>{try{qt(!0);const Et=await co.updateUserRoles(Te,at);if(Et.success)N.info("Kullanc rolleri baaryla gncellendi",Et.data,{prefix:"UserManagement"}),ze(!1),ut(null),await gr();else throw new Error(e("userManagementPage.error.updateRolesFailed"))}catch(Et){N.error("Kullanc rolleri gncellenirken hata",Et,{prefix:"UserManagement"})}finally{qt(!1)}},[gr,e]),Fn=p.useCallback(Te=>{Be(Te),ge(!0),I(null)},[]),He=()=>{ge(!1),Be(null)},it=p.useCallback(Te=>{we(Te),pt(!0),I(null)},[]),jt=()=>{pt(!1),we(null)},Gt=p.useCallback(async Te=>{if(Te===null){ce(s);return}if(Te===void 0){ce([]);return}K(!0);try{const at=await ui.getRoles({branchId:Te});ce(at.data||[])}catch(at){N.error("Modal rolleri yklenirken hata",at,{prefix:"UserManagement"}),ce([])}finally{K(!1)}},[s]),Re=p.useCallback(Te=>{I(null);const at=!Te.isActive;rt({title:e(at?"userManagementPage.confirmation.activateTitle":"userManagementPage.confirmation.deactivateTitle"),message:at?e("userManagementPage.confirmation.activateMessage",{name:Te.fullName}):e("userManagementPage.confirmation.deactivateMessage",{name:Te.fullName}),confirmText:e(at?"userManagementPage.actions.activate":"userManagementPage.actions.deactivate"),actionType:at?"unlock":"lock",onConfirm:async()=>{try{Ht(!0);const[Et,..._t]=Te.fullName.split(" "),xr=_t.join(" "),Ba={appUserId:Te.id,name:Et||"",surname:xr||"",userName:Te.userName,email:Te.email,restaurantId:Te.restaurantId,branchId:Te.branchId,profileImage:Te.profileImage||null,isActive:at},Me=await co.updateUser(Te.id,Ba);if(Me.success)N.info(`Kullanc durumu gncellendi: ${at}`,Me.data,{prefix:"UserManagement"}),jr(!1),rt(null),await gr();else throw new Error(e("userManagementPage.error.toggleStatusFailed"))}catch(Et){N.error("Kullanc durumu deitirilirken hata",Et,{prefix:"UserManagement"})}finally{Ht(!1)}}}),jr(!0)},[gr,e]),zt=p.useCallback(Te=>{I(null),rt({title:e("userManagementPage.confirmation.deleteTitle"),message:e("userManagementPage.confirmation.deleteMessage",{name:Te.fullName}),confirmText:e("userManagementPage.actions.delete"),actionType:"delete",onConfirm:async()=>{try{Ht(!0);const at=await co.deleteUser(Te.id);if(at.success)N.info("Kullanc silindi",at.data,{prefix:"UserManagement"}),jr(!1),rt(null),await gr();else throw new Error(e("userManagementPage.error.deleteFailed"))}catch(at){N.error("Kullanc silinirken hata",at,{prefix:"UserManagement"})}finally{Ht(!1)}}}),jr(!0)},[gr,e]),Qt=p.useCallback(Te=>{I(null),rt({title:e("userManagementPage.confirmation.deleteRoleTitle"),message:e("userManagementPage.confirmation.deleteRoleMessage",{name:Te.name}),confirmText:e("userManagementPage.actions.delete"),actionType:"delete",onConfirm:async()=>{try{Ht(!0);const at=await ui.deleteRole(Te.appRoleId);if(at.success)N.info("Rol silindi",at.data,{prefix:"UserManagement"}),jr(!1),rt(null),await Ke();else throw new Error(e("userManagementPage.error.deleteRoleFailed"))}catch(at){N.error("Rol silinirken hata",at,{prefix:"UserManagement"})}finally{Ht(!1)}}}),jr(!0)},[Ke,e]),fr=p.useCallback(Te=>Te?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",[]),Dt=p.useCallback(Te=>{switch(Te){case"RestaurantOwner":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"BranchManager":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"Staff":case"BranchStaff":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},[]),lr=p.useCallback(Te=>{switch(Te){case"RestaurantOwner":return r.jsx(jx,{className:"h-3 w-3"});case"BranchManager":return r.jsx(Hi,{className:"h-3 w-3"});case"Staff":case"BranchStaff":return r.jsx(On,{className:"h-3 w-3"});default:return r.jsx(xa,{className:"h-3 w-3"})}},[]),yt=p.useCallback(Te=>{const at=new Date(Te);return new Intl.DateTimeFormat(t?"ar-SA":"tr-TR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(at)},[t]),Yt=p.useMemo(()=>{if(!Array.isArray(a))return{total:0,active:0,owners:0,managers:0,staff:0};const Te=a.length,at=a.filter(Ba=>Ba.isActive).length,Et=a.filter(Ba=>Ba.roles.includes("RestaurantOwner")).length,_t=a.filter(Ba=>Ba.roles.includes("BranchManager")).length,xr=a.filter(Ba=>Ba.roles.includes("Staff")).length;return{total:Te,active:at,owners:Et,managers:_t,staff:xr}},[a]),At=p.useMemo(()=>{if(!Array.isArray(s))return{total:0,active:0,system:0,custom:0,totalUsers:0};const Te=s.length,at=s.filter(xr=>xr.isActive).length,Et=s.filter(xr=>xr.isSystemRole).length,_t=s.filter(xr=>!xr.isSystemRole).length;return{total:Te,active:at,system:Et,custom:_t}},[s]),ha=Te=>r.jsx("div",{className:`absolute ${t?"left-0":"right-0"} mt-2 w-52 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5 z-50`,children:r.jsxs("div",{className:"py-1",children:[r.jsxs("button",{onClick:()=>cn(Te),className:"flex items-center gap-2 w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:[r.jsx(Cm,{className:"h-4 w-4"}),e("userManagementPage.actions.edit")]}),r.jsxs("button",{onClick:()=>_s(Te),className:"flex items-center gap-2 w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:[r.jsx(xa,{className:"h-4 w-4"}),e("userManagementPage.actions.updateRoles")]}),r.jsxs("button",{onClick:()=>Fn(Te),className:"flex items-center gap-2 w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:[r.jsx(Hc,{className:"h-4 w-4"}),e("userManagementPage.actions.viewPermissions")]}),r.jsxs("button",{onClick:()=>sa(Te),className:"flex items-center gap-2 w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:[r.jsx(Hc,{className:"h-4 w-4"}),e("userManagementPage.actions.changePassword")]}),r.jsxs("button",{onClick:()=>St(Te),className:"flex items-center gap-2 w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:[r.jsx(Qr,{className:"h-4 w-4"}),e("userManagementPage.actions.assignBranch")]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),r.jsxs("button",{onClick:()=>Re(Te),className:"flex items-center gap-2 w-full text-left px-4 py-2 text-sm text-yellow-600 dark:text-yellow-400 hover:bg-gray-100 dark:hover:bg-gray-600",children:[Te.isActive?r.jsx(jh,{className:"h-4 w-4"}):r.jsx(Bc,{className:"h-4 w-4"}),Te.isActive?e("userManagementPage.actions.deactivate"):e("userManagementPage.actions.activate")]}),r.jsxs("button",{onClick:()=>zt(Te),className:"flex items-center gap-2 w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-600",children:[r.jsx(wr,{className:"h-4 w-4"}),e("userManagementPage.actions.delete")]})]})}),ca=Te=>r.jsx("div",{className:`absolute ${t?"left-0":"right-0"} mt-2 w-52 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5 z-10`,children:r.jsxs("div",{className:"py-1",children:[r.jsxs("button",{onClick:()=>it(Te),className:"flex items-center gap-2 w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:[r.jsx(Hc,{className:"h-4 w-4"}),e("userManagementPage.actions.viewPermissions")]}),!Te.isSystemRole&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>gt(Te),className:"flex items-center gap-2 w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:[r.jsx(Cm,{className:"h-4 w-4"}),e("userManagementPage.actions.edit")]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),r.jsxs("button",{onClick:()=>Qt(Te),className:"flex items-center gap-2 w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-600",children:[r.jsx(wr,{className:"h-4 w-4"}),e("userManagementPage.actions.delete")]})]}),Te.isSystemRole&&r.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400",children:e("userManagementPage.systemRoleInfo")})]})});return w?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("userManagementPage.loading")})]})}):M?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 rounded-lg p-6",children:[r.jsx("h3",{className:"text-red-800 dark:text-red-400 font-semibold mb-2",children:e("userManagementPage.error.title")}),r.jsx("p",{className:"text-red-600 dark:text-red-500 mb-4",children:M}),r.jsx("button",{onClick:gr,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e("userManagementPage.error.retry")})]})})}):r.jsxs("div",{className:"space-y-6",dir:t?"rtl":"ltr",ref:nr,children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e("userManagementPage.title")}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500 dark:text-gray-400",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx($r,{className:"h-4 w-4"}),e("userManagementPage.stats.total")," ",x==="users"?Yt.total:At.total," ",e(x==="users"?"userManagementPage.stats.users":"userManagementPage.stats.roles")]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Bc,{className:"h-4 w-4"}),x==="users"?Yt.active:At.active," ",e("userManagementPage.stats.active")]})]})]}),x==="users"?r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 rounded-lg p-3 min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(jx,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:e("userManagementPage.stats.owner")}),r.jsx("p",{className:"font-semibold text-purple-800 dark:text-purple-300",children:Yt.owners})]})]})}),r.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 rounded-lg p-3 min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hi,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:e("userManagementPage.stats.manager")}),r.jsx("p",{className:"font-semibold text-blue-800 dark:text-blue-300",children:Yt.managers})]})]})}),r.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/30 rounded-lg p-3 min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(On,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:e("userManagementPage.stats.staff")}),r.jsx("p",{className:"font-semibold text-indigo-800 dark:text-indigo-300",children:Yt.staff})]})]})})]}):r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 rounded-lg p-3 min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xa,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:e("userManagementPage.stats.system")}),r.jsx("p",{className:"font-semibold text-emerald-800 dark:text-emerald-300",children:At.system})]})]})}),r.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 rounded-lg p-3 min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hi,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:e("userManagementPage.stats.custom")}),r.jsx("p",{className:"font-semibold text-blue-800 dark:text-blue-300",children:At.custom})]})]})}),r.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/30 rounded-lg p-3 min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($r,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:e("userManagementPage.stats.totalUsers")}),r.jsx("p",{className:"font-semibold text-indigo-800 dark:text-indigo-300",children:At.totalUsers})]})]})})]})]}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsxs("nav",{className:`-mb-px flex ${t?"space-x-reverse space-x-8":"space-x-8"}`,children:[r.jsx("button",{onClick:()=>b("users"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${x==="users"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($r,{className:"h-4 w-4"}),e("userManagementPage.tabs.users"),r.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-0.5 rounded-full text-xs",children:Yt.total})]})}),r.jsx("button",{onClick:()=>b("roles"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${x==="roles"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xa,{className:"h-4 w-4"}),e("userManagementPage.tabs.roles"),r.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-0.5 rounded-full text-xs",children:At.total})]})})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex flex-1 gap-4 w-full sm:w-auto",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Bn,{className:`absolute ${t?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400`}),r.jsx("input",{type:"text",placeholder:e(x==="users"?"userManagementPage.controls.search":"userManagementPage.controls.searchRoles"),value:v,onChange:Te=>j(Te.target.value),className:`w-full ${t?"pr-10 pl-4":"pl-10 pr-4"} py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500`})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{title:"selectedCategory",value:_,onChange:Te=>D(Te.target.value),className:`appearance-none bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 ${t?"pl-8 pr-4":"pr-8"} text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,children:[r.jsx("option",{value:"all",children:e("userManagementPage.controls.filterAll")}),r.jsx("option",{value:"RestaurantOwner",children:e("userManagementPage.controls.filterOwner")}),r.jsx("option",{value:"BranchManager",children:e("userManagementPage.controls.filterManager")}),r.jsx("option",{value:"Staff",children:e("userManagementPage.controls.filterStaff")}),r.jsx("option",{value:"active",children:e("userManagementPage.controls.filterActive")}),r.jsx("option",{value:"inactive",children:e("userManagementPage.controls.filterInactive")})]}),r.jsx(Rr,{className:`absolute ${t?"left-2":"right-2"} top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none`})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[x==="users"&&r.jsxs("button",{onClick:()=>{ce(s),Z(!0)},className:"inline-flex items-center px-3 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:[r.jsx(Cx,{className:`h-4 w-4 ${t?"ml-2":"mr-2"}`}),e("userManagementPage.controls.addUser")]}),x==="roles"&&r.jsxs("button",{onClick:()=>X(!0),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:[r.jsx(xa,{className:`h-4 w-4 ${t?"ml-2":"mr-2"}`}),e("userManagementPage.controls.addRole")]}),r.jsx("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:r.jsx("button",{onClick:()=>h("grid"),className:`p-2 rounded-md transition-colors ${g==="grid"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:r.jsx(Ws,{className:"h-4 w-4"})})})]})]}),x==="users"?r.jsxs(r.Fragment,{children:[Rt.length===0&&!w&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(On,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:e("userManagementPage.noResults.usersNotFound")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e(v||_!=="all"?"userManagementPage.noResults.searchEmpty":"userManagementPage.noResults.usersEmpty")})]}),g==="grid"&&Rt.length>0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.jsx(pr,{children:Rt.map(Te=>r.jsxs(ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold text-lg",children:Te.fullName.split(" ").map(at=>at[0]).join("").slice(0,2)}),r.jsxs("div",{className:`${t?"mr-3":"ml-3"} flex-1 min-w-0`,children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:Te.fullName}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:Te.email})]}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>I(A===Te.id?null:Te.id),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(Nx,{className:"h-5 w-5"})}),A===Te.id&&ha(Te)]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx(Dn,{className:`h-4 w-4 text-gray-400 ${t?"ml-2":"mr-2"}`}),r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:Te.phoneNumber})]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx(Hs,{className:`h-4 w-4 text-gray-400 ${t?"ml-2":"mr-2"}`}),r.jsx("span",{className:"text-gray-600 dark:text-gray-300 truncate",children:Te.restaurantName})]}),Te.branchName&&r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx(Qr,{className:`h-4 w-4 text-gray-400 ${t?"ml-2":"mr-2"}`}),r.jsx("span",{className:"text-gray-600 dark:text-gray-300 truncate",children:Te.branchName})]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx(la,{className:`h-4 w-4 text-gray-400 ${t?"ml-2":"mr-2"}`}),r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:yt(Te.createdDate)})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:Te.roles.map((at,Et)=>r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${Dt(at)}`,children:[lr(at),at]},Et))}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${fr(Te.isActive)}`,children:[Te.isActive?r.jsx(Bc,{className:"h-3 w-3"}):r.jsx(jh,{className:"h-3 w-3"}),Te.isActive?e("userManagementPage.status.active"):e("userManagementPage.status.inactive")]})})]})]},Te.id))})})]}):r.jsxs(r.Fragment,{children:[Xt.length===0&&!w&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(xa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:e("userManagementPage.noResults.rolesNotFound")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e(v||_!=="all"?"userManagementPage.noResults.searchEmptyRoles":"userManagementPage.noResults.rolesEmpty")})]}),g==="grid"&&Xt.length>0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.jsx(pr,{children:Xt.map((Te,at)=>r.jsxs(ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg flex items-center justify-center ${Dt(Te.name)}`,children:lr(Te.name)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:Te.name}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:Te.category||"No Category"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>I(A===Te.appRoleId?null:Te.appRoleId),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(Nx,{className:"h-5 w-5"})}),A===Te.appRoleId&&ca(Te)]})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4 line-clamp-2",children:Te.description||"No description"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:e("userManagementPage.roleDetails.permissions")}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Te.permissions?.length||0})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:e("userManagementPage.roleDetails.created")}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:yt(Te.createdDate)})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 flex flex-wrap gap-2",children:[Te.isSystemRole&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400",children:[r.jsx(xa,{className:"h-3 w-3"}),e("userManagementPage.roleDetails.system")]}),r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${fr(Te.isActive)}`,children:[Te.isActive?r.jsx(Bc,{className:"h-3 w-3"}):r.jsx(jh,{className:"h-3 w-3"}),Te.isActive?e("userManagementPage.status.active"):e("userManagementPage.status.inactive")]}),Te.branchId&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:[r.jsx(Hs,{className:"h-3 w-3"}),e("userManagementPage.roleDetails.branchSpecific")]})]})]},Te.appRoleId))})})]}),E&&r.jsx(hJ,{isOpen:E,onClose:()=>X(!1),onSuccess:cr,branches:o}),ee&&r.jsx(gJ,{branches:o,isOpen:ee,onClose:()=>Z(!1),onSubmit:Ha,error:M,roles:J,isLoading:B,isRolesLoading:te,onBranchChange:Gt}),Y&&ne&&r.jsx(cJ,{isOpen:Y,onClose:()=>{re(!1),z(null)},onSubmit:Es,user:ne,isLoading:V}),xe&&Le&&r.jsx(uJ,{isOpen:xe,onClose:()=>{ze(!1),ut(null)},onSubmit:Cn,user:Le,allRoles:s,isLoading:kt}),hr&&nt&&r.jsx(mJ,{isOpen:hr,onClose:()=>{jr(!1),rt(null)},onConfirm:nt.onConfirm,title:nt.title,message:nt.message,confirmText:nt.confirmText,actionType:nt.actionType,isLoading:Pr}),Wt&&ye&&r.jsx(pJ,{isOpen:Wt,onClose:He,user:ye}),Qe&&Ce&&r.jsx(xJ,{isOpen:Qe,onClose:jt,role:Ce}),be&&Se&&r.jsx(fJ,{isOpen:be,onClose:()=>{Ie(!1),_e(null)},onSubmit:ia,role:Se,branches:o,isLoading:Ye}),$&&H&&r.jsx(yJ,{isOpen:$,onClose:()=>{q(!1),Q(null)},onSubmit:Ve,user:H,isLoading:de}),je&&se&&r.jsx(bJ,{isOpen:je,onClose:()=>{fe(!1),ie(null)},onSubmit:wt,user:se,branches:o,isLoading:ue})]})};var $a=(e=>(e.SELECT_CATEGORIES="select_categories",e.SELECT_PRODUCTS="select_products",e.REVIEW_SELECTION="review_selection",e))($a||{});const AN="https://www.customcardsandgames.com/assets/images/noImageUploaded.png",Tr={primary:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 focus:ring-blue-500/50",success:"bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 focus:ring-emerald-500/50",neutral:"bg-gradient-to-r from-slate-600 to-gray-600 hover:from-slate-700 hover:to-gray-700 focus:ring-slate-500/50",danger:"bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-700 hover:to-rose-700 focus:ring-red-500/50",text:{primary:"text-slate-800 dark:text-slate-100",secondary:"text-slate-600 dark:text-slate-300",muted:"text-slate-500 dark:text-slate-400",error:"text-red-600 dark:text-red-400",success:"text-emerald-600 dark:text-emerald-400",warning:"text-amber-600 dark:text-amber-400"},background:{card:"bg-white/90 dark:bg-slate-800/90",cardHover:"hover:bg-white/95 dark:hover:bg-slate-800/95"}},kJ=[{value:"table",label:"TableCategoryModal.table",icon:Xd},{value:"chair",label:"TableCategoryModal.chair",icon:DO},{value:"utensils",label:"TableCategoryModal.service",icon:nl},{value:"tag",label:"TableCategoryModal.label",icon:fu},{value:"layers",label:"TableCategoryModal.layer",icon:hu}],wJ=["#ef4444","#f97316","#f59e0b","#eab308","#84cc16","#22c55e","#10b981","#14b8a6","#06b6d4","#0ea5e9","#3b82f6","#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899"],Ho={Category:"bg-purple-100 text-purple-900 dark:bg-purple-900/20 dark:text-purple-300",BranchCategory:"bg-indigo-100 text-indigo-900 dark:bg-indigo-900/20 dark:text-indigo-300",Product:"bg-green-100 text-green-900 dark:bg-green-900/20 dark:text-green-300",BranchProduct:"bg-emerald-100 text-emerald-900 dark:bg-emerald-900/20 dark:text-emerald-300",BranchQRCode:"bg-cyan-100 text-cyan-900 dark:bg-cyan-900/20 dark:text-cyan-300",Order:"bg-amber-100 text-amber-900 dark:bg-amber-900/20 dark:text-amber-300",Restaurant:"bg-orange-100 text-orange-900 dark:bg-orange-900/20 dark:text-orange-300",Branch:"bg-blue-100 text-blue-900 dark:bg-blue-900/20 dark:text-blue-300",Admin:"bg-red-100 text-red-900 dark:bg-red-900/20 dark:text-red-300"},jJ=()=>{const{t:e,isRTL:t}=Ze(),[a,n]=p.useState(null),[s,i]=p.useState(!0),[o,l]=p.useState(null);if(p.useEffect(()=>{let v=!0;return(async()=>{try{const w=await Mm.getUserProfile();v&&n(w.data)}catch(w){if(v){const{logger:S}=await Wc(async()=>{const{logger:M}=await Promise.resolve().then(()=>Nh);return{logger:M}},void 0);S.error("Profil verisi alnamad",w),l(e("profile.error.loadFailed"))}}finally{v&&i(!1)}})(),()=>{v=!1}},[e]),s)return r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(o||!a)return r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ga,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:o||e("profile.error.loadFailed")})]})});const{appUser:d,appRoles:c}=a,g=`${d.name} ${d.surname}`.trim(),h=`${d.name?.charAt(0)||""}${d.surname?.charAt(0)||""}`,x=new Date(d.createdDate).toLocaleDateString("tr-TR"),b=c.length;return r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",dir:t?"rtl":"ltr",children:[r.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700 rounded-2xl p-8 text-white shadow-xl",children:r.jsxs("div",{className:`flex flex-col md:flex-row items-center space-y-6 md:space-y-0 ${t?"md:space-x-reverse md:space-x-8":"md:space-x-8"}`,children:[r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-3xl font-bold ring-4 ring-white/30",children:d.profileImage?r.jsx("img",{src:d.profileImage,alt:g,className:"w-full h-full rounded-full object-cover"}):h}),r.jsx("button",{className:`absolute -bottom-2 ${t?"-left-2":"-right-2"} bg-white text-primary-600 p-2 rounded-full shadow-lg group-hover:scale-110 transition-transform`,children:r.jsx(wx,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:`flex-1 ${t?"text-center md:text-right":"text-center md:text-left"}`,children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:g}),r.jsx("p",{className:"text-primary-100 text-lg mb-4",children:d.email}),r.jsxs("div",{className:`flex flex-wrap gap-3 ${t?"justify-center md:justify-end":"justify-center md:justify-start"}`,children:[r.jsxs("span",{className:`px-4 py-2 rounded-full text-sm font-medium flex items-center gap-2 ${d.isActive?"bg-green-500/20 text-green-100 border border-green-400/30":"bg-red-500/20 text-red-100 border border-red-400/30"}`,children:[d.isActive?r.jsx(tr,{className:"w-4 h-4"}):r.jsx(Ga,{className:"w-4 h-4"}),d.isActive?e("profile.accountStatus.active"):e("profile.accountStatus.inactive")]}),[...new Set(c.map(v=>v.category))].map((v,j)=>r.jsxs("span",{className:"px-4 py-2 rounded-full text-sm font-medium bg-white/10 text-white border border-white/20 flex items-center gap-2",children:[r.jsx(jx,{className:"w-4 h-4"}),e(`profile.categories.${v}`)||v]},j))]})]})]})}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[r.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg",children:[r.jsxs("div",{className:`flex items-center justify-between mb-6 ${t?"flex-row-reverse":""}`,children:[r.jsxs("h2",{className:`text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[r.jsx(On,{className:"w-6 h-6 text-primary-600"}),e("profile.personalInfo")]}),r.jsx("button",{className:"text-primary-600 hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors",children:r.jsx(qs,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 ${t?"text-right":"text-left"}`,children:e("profile.fields.firstName")}),r.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:r.jsx("p",{className:`font-medium text-gray-900 dark:text-white ${t?"text-right":"text-left"}`,children:d.name})})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 ${t?"text-right":"text-left"}`,children:e("profile.fields.lastName")}),r.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:r.jsx("p",{className:`font-medium text-gray-900 dark:text-white ${t?"text-right":"text-left"}`,children:d.surname})})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 ${t?"text-right":"text-left"}`,children:e("profile.fields.username")}),r.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:r.jsx("p",{className:`font-medium text-gray-900 dark:text-white ${t?"text-right":"text-left"}`,children:d.userName})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 ${t?"text-right":"text-left"}`,children:e("profile.fields.email")}),r.jsxs("div",{className:`p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[r.jsx(Zs,{className:"w-5 h-5 text-gray-400"}),r.jsx("p",{className:`font-medium text-gray-900 dark:text-white ${t?"text-right":"text-left"}`,children:d.email})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 ${t?"text-right":"text-left"}`,children:e("profile.fields.registrationDate")}),r.jsxs("div",{className:`p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[r.jsx(la,{className:"w-5 h-5 text-gray-400"}),r.jsx("p",{className:`font-medium text-gray-900 dark:text-white ${t?"text-right":"text-left"}`,children:x})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 ${t?"text-right":"text-left"}`,children:e("profile.accountStatus.status")}),r.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:r.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${d.isActive?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"} ${t?"flex-row-reverse":""}`,children:[d.isActive?r.jsx(tr,{className:"w-4 h-4"}):r.jsx(Ga,{className:"w-4 h-4"}),d.isActive?e("profile.restaurant.status.active"):e("profile.restaurant.status.inactive")]})})]})]})]})]}),r.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[d.restaurant&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg",children:[r.jsxs("h3",{className:`text-xl font-bold text-gray-900 dark:text-white flex items-center gap-3 mb-4 ${t?"flex-row-reverse":""}`,children:[r.jsx(aa,{className:"w-5 h-5 text-primary-600"}),e("profile.restaurant.info")]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 ${t?"text-right":"text-left"}`,children:e("profile.restaurant.name")}),r.jsx("p",{className:`font-medium text-gray-900 dark:text-white ${t?"text-right":"text-left"}`,children:d.restaurant.restaurantName})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 ${t?"text-right":"text-left"}`,children:e("profile.fields.status")}),r.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${d.restaurant.restaurantStatus?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"} ${t?"flex-row-reverse":""}`,children:[d.restaurant.restaurantStatus?r.jsx(tr,{className:"w-4 h-4"}):r.jsx(Ga,{className:"w-4 h-4"}),d.restaurant.restaurantStatus?e("profile.restaurant.status.active"):e("profile.restaurant.status.inactive")]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg",children:[r.jsxs("h3",{className:`text-xl font-bold text-gray-900 dark:text-white flex items-center gap-3 mb-4 ${t?"flex-row-reverse":""}`,children:[r.jsx(Q5,{className:"w-5 h-5 text-primary-600"}),e("profile.permissions.summary")]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:`flex justify-between items-center p-4 bg-primary-50 dark:bg-primary-900/20 rounded-xl ${t?"flex-row-reverse":""}`,children:[r.jsx("span",{className:"text-sm font-medium text-primary-800 dark:text-primary-200",children:e("profile.permissions.totalCategories")}),r.jsx("span",{className:"text-2xl font-bold text-primary-600",children:[...new Set(c.map(v=>v.category))].length})]}),r.jsxs("div",{className:`flex justify-between items-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl ${t?"flex-row-reverse":""}`,children:[r.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:e("profile.permissions.totalPermissions")}),r.jsx("span",{className:"text-2xl font-bold text-blue-600",children:b})]})]})]})]})]}),c.length>0&&r.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg",children:[r.jsxs("h2",{className:`text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-3 mb-6 ${t?"flex-row-reverse":""}`,children:[r.jsx(Q5,{className:"w-6 h-6 text-primary-600"}),e("profile.permissions.rolesAndPermissions")]}),r.jsx("div",{className:"space-y-6",children:(()=>{const v=c.reduce((j,w)=>{const S=w.category||"Other";return(j[S]=j[S]||[]).push(w),j},{});return Object.entries(v).map(([j,w])=>r.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-6",children:[r.jsxs("div",{className:`flex items-center justify-between mb-4 ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`${t?"text-right":"text-left"}`,children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e(`profile.categories.${j}`)||j}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[w.length," ",e("profile.permissions.totalPermissions").toLowerCase()]})]}),r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400 rounded-full text-sm font-medium",children:w.length})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 uppercase tracking-wide flex items-center gap-2",children:[r.jsx("span",{className:`h-2 w-2 rounded-full ${Ho[j]?.includes("bg-purple-100")?"bg-purple-500":Ho[j]?.includes("bg-indigo-100")?"bg-indigo-500":Ho[j]?.includes("bg-green-100")?"bg-green-500":Ho[j]?.includes("bg-emerald-100")?"bg-emerald-500":Ho[j]?.includes("bg-cyan-100")?"bg-cyan-500":Ho[j]?.includes("bg-amber-100")?"bg-amber-500":Ho[j]?.includes("bg-orange-100")?"bg-orange-500":Ho[j]?.includes("bg-blue-100")?"bg-blue-500":Ho[j]?.includes("bg-red-100")?"bg-red-500":"bg-gray-400"}`}),e(`profile.categories.${j}`)||j," (",w.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:w.map((S,M)=>{e(`profile.permissionNames.${S.name}`)||S.description||S.name;const T=Ho[j]||"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-gray-300";return r.jsx("span",{className:`px-3 py-1.5 rounded-lg text-sm font-medium ${T}`,title:S.description,children:S.name},M)})})]})]},j))})()})]})]})},NJ=()=>{const{t:e,language:t}=Ze(),a=t==="ar",[n]=p.useState([{id:1,last4:"4242",brand:"Visa",expMonth:12,expYear:2024,isDefault:!0},{id:2,last4:"8888",brand:"Mastercard",expMonth:6,expYear:2025,isDefault:!1}]),[s]=p.useState([{id:"INV-2024-001",date:"2024-12-01",amount:199,status:"paid",plan:"Pro Plan",description:"Aralk 2024 - Pro Plan Abonelii"},{id:"INV-2024-002",date:"2024-11-01",amount:199,status:"paid",plan:"Pro Plan",description:"Kasm 2024 - Pro Plan Abonelii"},{id:"INV-2024-003",date:"2024-10-01",amount:199,status:"paid",plan:"Pro Plan",description:"Ekim 2024 - Pro Plan Abonelii"}]),[i]=p.useState("pro"),[o,l]=p.useState(!1),[d,c]=p.useState(null),[g,h]=p.useState("overview"),x=()=>{l(!0)},b=A=>{N.info("Delete card",{id:A})},v=A=>{N.info("Set default card",{id:A})},j=A=>{switch(A){case"basic":return r.jsx(ko,{className:"h-5 w-5"});case"pro":return r.jsx(jx,{className:"h-5 w-5"});case"enterprise":return r.jsx(xa,{className:"h-5 w-5"});default:return r.jsx(Hi,{className:"h-5 w-5"})}},w=A=>{switch(A){case"basic":return"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400";case"pro":return"bg-primary-100 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400";case"enterprise":return"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400";default:return"bg-gray-100 text-gray-600 dark:bg-gray-900/30 dark:text-gray-400"}},S=A=>{switch(A){case"paid":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},M=A=>{switch(A){case"paid":return r.jsx(tr,{className:"h-4 w-4"});case"pending":return r.jsx(Or,{className:"h-4 w-4"});case"failed":return r.jsx(Ga,{className:"h-4 w-4"});default:return r.jsx(bn,{className:"h-4 w-4"})}},T=[{id:"overview",label:e("subscription.tabs.overview"),icon:Sm},{id:"billing",label:e("subscription.tabs.billing"),icon:QH},{id:"usage",label:e("subscription.tabs.usage"),icon:$r}];return r.jsxs("div",{className:"space-y-6",dir:a?"rtl":"ltr",children:[r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e("subscription.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:e("subscription.description")})]}),r.jsxs("div",{className:`flex items-center ${a?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(qa,{className:`h-4 w-4 ${a?"ml-2":"mr-2"}`}),e("subscription.actions.settings")]}),r.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 rounded-lg transition-colors",children:[r.jsx(Ut,{className:`h-4 w-4 ${a?"ml-2":"mr-2"}`}),e("subscription.actions.upgrade")]})]})]}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:`flex ${a?"space-x-reverse space-x-8":"space-x-8"}`,children:T.map(A=>{const I=A.icon;return r.jsxs("button",{onClick:()=>h(A.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${g===A.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[r.jsx(I,{className:"h-4 w-4"}),r.jsx("span",{children:A.label})]},A.id)})})}),r.jsxs(pr,{mode:"wait",children:[g==="overview"&&r.jsxs(ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`p-3 rounded-xl ${w(i)}`,children:j(i)}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white capitalize",children:[i," Plan"]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aktif aboneliiniz"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"199"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"aylk"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:r.jsx(_r,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Durum"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Aktif"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 rounded-lg",children:r.jsx(la,{className:"h-4 w-4 text-primary-600 dark:text-primary-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e("subscription.renewal")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"15 Aralk 2024"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsx($r,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Kullanc"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Snrsz"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:r.jsx(xa,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Gvenlik"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"SSL korumal"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:[r.jsx("span",{children:e("subscription.changePlan")}),r.jsx(Wm,{className:"ml-1 h-4 w-4"})]}),r.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[r.jsx(vn,{className:"h-4 w-4 mr-2"}),"Kullanm Raporu"]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:r.jsx(rl,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"deme Yntemleri"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gvenli deme kartlarnz ynetin"})]})]}),r.jsxs("button",{onClick:x,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors",children:[r.jsx(Ut,{className:"h-4 w-4 mr-2"}),"Kart Ekle"]})]}),r.jsx("div",{className:"space-y-3",children:n.map((A,I)=>r.jsxs(ke.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:I*.1},className:`flex items-center justify-between p-4 rounded-lg border transition-all duration-200 ${A.isDefault?"border-primary-200 bg-primary-50 dark:border-primary-700 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50"}`,onMouseEnter:()=>c(A.id),onMouseLeave:()=>c(null),children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${A.isDefault?"bg-primary-100 dark:bg-primary-900/30":"bg-gray-100 dark:bg-gray-600"}`,children:r.jsx(rl,{className:`h-5 w-5 ${A.isDefault?"text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400"}`})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[A.brand,"  ",A.last4]}),A.isDefault&&r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-900/50 dark:text-primary-300",children:[r.jsx(_r,{className:"h-3 w-3 mr-1"}),"Varsaylan"]})]}),r.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center",children:[r.jsx(Or,{className:"h-3 w-3 mr-1"}),"Son Kullanma: ",A.expMonth,"/",A.expYear]})]})]}),r.jsx(pr,{children:d===A.id&&r.jsxs(ke.div,{className:"flex items-center space-x-1",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.15},children:[!A.isDefault&&r.jsx("button",{onClick:()=>v(A.id),className:"p-1.5 text-primary-600 dark:text-primary-400 hover:bg-primary-100 dark:hover:bg-primary-900/30 rounded-md transition-colors",title:"Varsaylan yap",children:r.jsx(qs,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>b(A.id),className:"p-1.5 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-md transition-colors",title:"Kart sil",children:r.jsx(wr,{className:"h-4 w-4"})})]})})]},A.id))}),n.length===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"p-3 bg-gray-100 dark:bg-gray-700 rounded-full w-fit mx-auto mb-3",children:r.jsx(Nt,{className:"h-6 w-6 text-gray-400"})}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Henz deme kart eklenmemi"}),r.jsxs("button",{onClick:x,className:"mt-3 inline-flex items-center px-4 py-2 text-sm font-medium text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:[r.jsx(Ut,{className:"h-4 w-4 mr-1"}),"lk kartnz ekleyin"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Toplam deme"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"597"})]}),r.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:r.jsx(qr,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Sonraki Fatura"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"199"})]}),r.jsx("div",{className:"p-3 bg-primary-100 dark:bg-primary-900/30 rounded-lg",children:r.jsx(la,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Kullanm"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"%85"})]}),r.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsx(Sm,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})})]})]},"overview"),g==="billing"&&r.jsxs(ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Fatura zeti"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Son 12 ayn fatura gemii"})]}),r.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:[r.jsx(_h,{className:"h-4 w-4 mr-2"}),"Tmn ndir"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"597"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Toplam deme"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"3"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Toplam Fatura"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:"3"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"denen"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"0"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bekleyen"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Fatura Gemii"}),r.jsx("div",{className:"space-y-4",children:s.map((A,I)=>r.jsxs(ke.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:I*.1},className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`p-2 rounded-lg ${S(A.status)}`,children:M(A.status)}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:A.id}),r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${S(A.status)}`,children:A.status==="paid"?"dendi":A.status==="pending"?"Bekliyor":"Baarsz"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:A.description}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:A.date})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:["",A.amount]}),r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:A.plan})]}),r.jsx("button",{className:"p-2 text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:r.jsx(_h,{className:"h-4 w-4"})})]})]},A.id))})]})]},"billing"),g==="usage"&&r.jsxs(ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"QR Taramalar"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"1,847"}),r.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"+12% geen aya gre"})]}),r.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:r.jsx(Jo,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Sipariler"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"234"}),r.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"+8% geen aya gre"})]}),r.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:r.jsx(Kn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Kullanclar"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"12"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Aktif kullanc"})]}),r.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsx($r,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Depolama"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"85%"}),r.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"2.1GB / 5GB"})]}),r.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:r.jsx(qO,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsx(Hi,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e("subscription.availablePlans")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("subscription.selectPlan")})]})]}),r.jsx(t6,{})]})]},"usage")]}),r.jsx(pr,{children:o&&r.jsx(ke.div,{className:"fixed inset-0 z-50 overflow-y-auto",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx(ke.div,{className:"fixed inset-0 bg-black/50",onClick:()=>l(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),r.jsxs(ke.div,{className:"relative w-full max-w-md rounded-xl bg-white dark:bg-gray-800 p-6 shadow-xl border border-gray-200 dark:border-gray-700",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:r.jsx(Zd,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Yeni Kart Ekle"})]}),r.jsxs("form",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Kart Numaras"}),r.jsx("input",{type:"text",id:"cardNumber",placeholder:"1234 5678 9012 3456",className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-gray-900 dark:text-white focus:border-primary-500 dark:focus:border-primary-400 focus:outline-none focus:ring-1 focus:ring-primary-500 dark:focus:ring-primary-400 transition-colors"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"expiry",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Son Kullanma"}),r.jsx("input",{type:"text",id:"expiry",placeholder:"MM/YY",className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-gray-900 dark:text-white focus:border-primary-500 dark:focus:border-primary-400 focus:outline-none focus:ring-1 focus:ring-primary-500 dark:focus:ring-primary-400 transition-colors"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"cvc",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"CVC"}),r.jsx("input",{type:"text",id:"cvc",placeholder:"123",className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-gray-900 dark:text-white focus:border-primary-500 dark:focus:border-primary-400 focus:outline-none focus:ring-1 focus:ring-primary-500 dark:focus:ring-primary-400 transition-colors"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none transition-colors",children:"ptal"}),r.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors",children:"Ekle"})]})]})]})]})})})]})};function CJ(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return p.useMemo(()=>n=>{t.forEach(s=>s(n))},t)}const mb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ym(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function $2(e){return"nodeType"in e}function As(e){var t,a;return e?Ym(e)?e:$2(e)&&(t=(a=e.ownerDocument)==null?void 0:a.defaultView)!=null?t:window:window}function F2(e){const{Document:t}=As(e);return e instanceof t}function b0(e){return Ym(e)?!1:e instanceof As(e).HTMLElement}function RR(e){return e instanceof As(e).SVGElement}function Zm(e){return e?Ym(e)?e.document:$2(e)?F2(e)?e:b0(e)||RR(e)?e.ownerDocument:document:document:document}const wo=mb?p.useLayoutEffect:p.useEffect;function gb(e){const t=p.useRef(e);return wo(()=>{t.current=e}),p.useCallback(function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}function SJ(){const e=p.useRef(null),t=p.useCallback((n,s)=>{e.current=setInterval(n,s)},[]),a=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,a]}function Fh(e,t){t===void 0&&(t=[e]);const a=p.useRef(e);return wo(()=>{a.current!==e&&(a.current=e)},t),a}function v0(e,t){const a=p.useRef();return p.useMemo(()=>{const n=e(a.current);return a.current=n,n},[...t])}function Lx(e){const t=gb(e),a=p.useRef(null),n=p.useCallback(s=>{s!==a.current&&t?.(s,a.current),a.current=s},[]);return[a,n]}function $x(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let mw={};function k0(e,t){return p.useMemo(()=>{if(t)return t;const a=mw[e]==null?0:mw[e]+1;return mw[e]=a,e+"-"+a},[e,t])}function DR(e){return function(t){for(var a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++)n[s-1]=arguments[s];return n.reduce((i,o)=>{const l=Object.entries(o);for(const[d,c]of l){const g=i[d];g!=null&&(i[d]=g+e*c)}return i},{...t})}}const hm=DR(1),zh=DR(-1);function PJ(e){return"clientX"in e&&"clientY"in e}function hb(e){if(!e)return!1;const{KeyboardEvent:t}=As(e.target);return t&&e instanceof t}function MJ(e){if(!e)return!1;const{TouchEvent:t}=As(e.target);return t&&e instanceof t}function Fx(e){if(MJ(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:a}=e.touches[0];return{x:t,y:a}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:a}=e.changedTouches[0];return{x:t,y:a}}}return PJ(e)?{x:e.clientX,y:e.clientY}:null}const jo=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:a}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(a?Math.round(a):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:a}=e;return"scaleX("+t+") scaleY("+a+")"}},Transform:{toString(e){if(e)return[jo.Translate.toString(e),jo.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:a,easing:n}=e;return t+" "+a+"ms "+n}}}),e3="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function TJ(e){return e.matches(e3)?e:e.querySelector(e3)}const IJ={display:"none"};function AJ(e){let{id:t,value:a}=e;return Lr.createElement("div",{id:t,style:IJ},a)}function EJ(e){let{id:t,announcement:a,ariaLiveType:n="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Lr.createElement("div",{id:t,style:s,role:"status","aria-live":n,"aria-atomic":!0},a)}function _J(){const[e,t]=p.useState("");return{announce:p.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const BR=p.createContext(null);function OJ(e){const t=p.useContext(BR);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function RJ(){const[e]=p.useState(()=>new Set),t=p.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[p.useCallback(n=>{let{type:s,event:i}=n;e.forEach(o=>{var l;return(l=o[s])==null?void 0:l.call(o,i)})},[e]),t]}const DJ={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},BJ={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:a}=e;return a?"Draggable item "+t.id+" was moved over droppable area "+a.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:a}=e;return a?"Draggable item "+t.id+" was dropped over droppable area "+a.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function LJ(e){let{announcements:t=BJ,container:a,hiddenTextDescribedById:n,screenReaderInstructions:s=DJ}=e;const{announce:i,announcement:o}=_J(),l=k0("DndLiveRegion"),[d,c]=p.useState(!1);if(p.useEffect(()=>{c(!0)},[]),OJ(p.useMemo(()=>({onDragStart(h){let{active:x}=h;i(t.onDragStart({active:x}))},onDragMove(h){let{active:x,over:b}=h;t.onDragMove&&i(t.onDragMove({active:x,over:b}))},onDragOver(h){let{active:x,over:b}=h;i(t.onDragOver({active:x,over:b}))},onDragEnd(h){let{active:x,over:b}=h;i(t.onDragEnd({active:x,over:b}))},onDragCancel(h){let{active:x,over:b}=h;i(t.onDragCancel({active:x,over:b}))}}),[i,t])),!d)return null;const g=Lr.createElement(Lr.Fragment,null,Lr.createElement(AJ,{id:n,value:s.draggable}),Lr.createElement(EJ,{id:l,announcement:o}));return a?qd.createPortal(g,a):g}var yn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(yn||(yn={}));function zx(){}function Am(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function z2(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return p.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const No=Object.freeze({x:0,y:0});function LR(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $J(e,t){const a=Fx(e);if(!a)return"0 0";const n={x:(a.x-t.left)/t.width*100,y:(a.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function $R(e,t){let{data:{value:a}}=e,{data:{value:n}}=t;return a-n}function FJ(e,t){let{data:{value:a}}=e,{data:{value:n}}=t;return n-a}function t3(e){let{left:t,top:a,height:n,width:s}=e;return[{x:t,y:a},{x:t+s,y:a},{x:t,y:a+n},{x:t+s,y:a+n}]}function FR(e,t){if(!e||e.length===0)return null;const[a]=e;return a[t]}function r3(e,t,a){return t===void 0&&(t=e.left),a===void 0&&(a=e.top),{x:t+e.width*.5,y:a+e.height*.5}}const U2=e=>{let{collisionRect:t,droppableRects:a,droppableContainers:n}=e;const s=r3(t,t.left,t.top),i=[];for(const o of n){const{id:l}=o,d=a.get(l);if(d){const c=LR(r3(d),s);i.push({id:l,data:{droppableContainer:o,value:c}})}}return i.sort($R)},zJ=e=>{let{collisionRect:t,droppableRects:a,droppableContainers:n}=e;const s=t3(t),i=[];for(const o of n){const{id:l}=o,d=a.get(l);if(d){const c=t3(d),g=s.reduce((x,b,v)=>x+LR(c[v],b),0),h=Number((g/4).toFixed(4));i.push({id:l,data:{droppableContainer:o,value:h}})}}return i.sort($R)};function UJ(e,t){const a=Math.max(t.top,e.top),n=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=s-n,l=i-a;if(n<s&&a<i){const d=t.width*t.height,c=e.width*e.height,g=o*l,h=g/(d+c-g);return Number(h.toFixed(4))}return 0}const qJ=e=>{let{collisionRect:t,droppableRects:a,droppableContainers:n}=e;const s=[];for(const i of n){const{id:o}=i,l=a.get(o);if(l){const d=UJ(l,t);d>0&&s.push({id:o,data:{droppableContainer:i,value:d}})}}return s.sort(FJ)};function VJ(e,t,a){return{...e,scaleX:t&&a?t.width/a.width:1,scaleY:t&&a?t.height/a.height:1}}function zR(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:No}function HJ(e){return function(a){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return s.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...a})}}const WJ=HJ(1);function UR(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function KJ(e,t,a){const n=UR(t);if(!n)return e;const{scaleX:s,scaleY:i,x:o,y:l}=n,d=e.left-o-(1-s)*parseFloat(a),c=e.top-l-(1-i)*parseFloat(a.slice(a.indexOf(" ")+1)),g=s?e.width/s:e.width,h=i?e.height/i:e.height;return{width:g,height:h,top:c,right:d+g,bottom:c+h,left:d}}const QJ={ignoreTransform:!1};function Xm(e,t){t===void 0&&(t=QJ);let a=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:g}=As(e).getComputedStyle(e);c&&(a=KJ(a,c,g))}const{top:n,left:s,width:i,height:o,bottom:l,right:d}=a;return{top:n,left:s,width:i,height:o,bottom:l,right:d}}function a3(e){return Xm(e,{ignoreTransform:!0})}function GJ(e){const t=e.innerWidth,a=e.innerHeight;return{top:0,left:0,right:t,bottom:a,width:t,height:a}}function YJ(e,t){return t===void 0&&(t=As(e).getComputedStyle(e)),t.position==="fixed"}function ZJ(e,t){t===void 0&&(t=As(e).getComputedStyle(e));const a=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?a.test(i):!1})}function fb(e,t){const a=[];function n(s){if(t!=null&&a.length>=t||!s)return a;if(F2(s)&&s.scrollingElement!=null&&!a.includes(s.scrollingElement))return a.push(s.scrollingElement),a;if(!b0(s)||RR(s)||a.includes(s))return a;const i=As(e).getComputedStyle(s);return s!==e&&ZJ(s,i)&&a.push(s),YJ(s,i)?a:n(s.parentNode)}return e?n(e):a}function qR(e){const[t]=fb(e,1);return t??null}function gw(e){return!mb||!e?null:Ym(e)?e:$2(e)?F2(e)||e===Zm(e).scrollingElement?window:b0(e)?e:null:null}function VR(e){return Ym(e)?e.scrollX:e.scrollLeft}function HR(e){return Ym(e)?e.scrollY:e.scrollTop}function EN(e){return{x:VR(e),y:HR(e)}}var _n;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(_n||(_n={}));function WR(e){return!mb||!e?!1:e===document.scrollingElement}function KR(e){const t={x:0,y:0},a=WR(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-a.width,y:e.scrollHeight-a.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,l=e.scrollLeft>=n.x;return{isTop:s,isLeft:i,isBottom:o,isRight:l,maxScroll:n,minScroll:t}}const XJ={x:.2,y:.2};function JJ(e,t,a,n,s){let{top:i,left:o,right:l,bottom:d}=a;n===void 0&&(n=10),s===void 0&&(s=XJ);const{isTop:c,isBottom:g,isLeft:h,isRight:x}=KR(e),b={x:0,y:0},v={x:0,y:0},j={height:t.height*s.y,width:t.width*s.x};return!c&&i<=t.top+j.height?(b.y=_n.Backward,v.y=n*Math.abs((t.top+j.height-i)/j.height)):!g&&d>=t.bottom-j.height&&(b.y=_n.Forward,v.y=n*Math.abs((t.bottom-j.height-d)/j.height)),!x&&l>=t.right-j.width?(b.x=_n.Forward,v.x=n*Math.abs((t.right-j.width-l)/j.width)):!h&&o<=t.left+j.width&&(b.x=_n.Backward,v.x=n*Math.abs((t.left+j.width-o)/j.width)),{direction:b,speed:v}}function eee(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:a,right:n,bottom:s}=e.getBoundingClientRect();return{top:t,left:a,right:n,bottom:s,width:e.clientWidth,height:e.clientHeight}}function QR(e){return e.reduce((t,a)=>hm(t,EN(a)),No)}function tee(e){return e.reduce((t,a)=>t+VR(a),0)}function ree(e){return e.reduce((t,a)=>t+HR(a),0)}function GR(e,t){if(t===void 0&&(t=Xm),!e)return;const{top:a,left:n,bottom:s,right:i}=t(e);qR(e)&&(s<=0||i<=0||a>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const aee=[["x",["left","right"],tee],["y",["top","bottom"],ree]];class q2{constructor(t,a){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=fb(a),s=QR(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of aee)for(const d of o)Object.defineProperty(this,d,{get:()=>{const c=l(n),g=s[i]-c;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ch{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...a)})},this.target=t}add(t,a,n){var s;(s=this.target)==null||s.addEventListener(t,a,n),this.listeners.push([t,a,n])}}function nee(e){const{EventTarget:t}=As(e);return e instanceof t?e:Zm(e)}function hw(e,t){const a=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(a**2+n**2)>t:"x"in t&&"y"in t?a>t.x&&n>t.y:"x"in t?a>t.x:"y"in t?n>t.y:!1}var zi;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(zi||(zi={}));function n3(e){e.preventDefault()}function see(e){e.stopPropagation()}var Br;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Br||(Br={}));const YR={start:[Br.Space,Br.Enter],cancel:[Br.Esc],end:[Br.Space,Br.Enter,Br.Tab]},iee=(e,t)=>{let{currentCoordinates:a}=t;switch(e.code){case Br.Right:return{...a,x:a.x+25};case Br.Left:return{...a,x:a.x-25};case Br.Down:return{...a,y:a.y+25};case Br.Up:return{...a,y:a.y-25}}};class w0{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:a}}=t;this.props=t,this.listeners=new Ch(Zm(a)),this.windowListeners=new Ch(As(a)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(zi.Resize,this.handleCancel),this.windowListeners.add(zi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(zi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:a}=this.props,n=t.node.current;n&&GR(n),a(No)}handleKeyDown(t){if(hb(t)){const{active:a,context:n,options:s}=this.props,{keyboardCodes:i=YR,coordinateGetter:o=iee,scrollBehavior:l="smooth"}=s,{code:d}=t;if(i.end.includes(d)){this.handleEnd(t);return}if(i.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:c}=n.current,g=c?{x:c.left,y:c.top}:No;this.referenceCoordinates||(this.referenceCoordinates=g);const h=o(t,{active:a,context:n.current,currentCoordinates:g});if(h){const x=zh(h,g),b={x:0,y:0},{scrollableAncestors:v}=n.current;for(const j of v){const w=t.code,{isTop:S,isRight:M,isLeft:T,isBottom:A,maxScroll:I,minScroll:_}=KR(j),D=eee(j),E={x:Math.min(w===Br.Right?D.right-D.width/2:D.right,Math.max(w===Br.Right?D.left:D.left+D.width/2,h.x)),y:Math.min(w===Br.Down?D.bottom-D.height/2:D.bottom,Math.max(w===Br.Down?D.top:D.top+D.height/2,h.y))},X=w===Br.Right&&!M||w===Br.Left&&!T,ee=w===Br.Down&&!A||w===Br.Up&&!S;if(X&&E.x!==h.x){const Z=j.scrollLeft+x.x,B=w===Br.Right&&Z<=I.x||w===Br.Left&&Z>=_.x;if(B&&!x.y){j.scrollTo({left:Z,behavior:l});return}B?b.x=j.scrollLeft-Z:b.x=w===Br.Right?j.scrollLeft-I.x:j.scrollLeft-_.x,b.x&&j.scrollBy({left:-b.x,behavior:l});break}else if(ee&&E.y!==h.y){const Z=j.scrollTop+x.y,B=w===Br.Down&&Z<=I.y||w===Br.Up&&Z>=_.y;if(B&&!x.x){j.scrollTo({top:Z,behavior:l});return}B?b.y=j.scrollTop-Z:b.y=w===Br.Down?j.scrollTop-I.y:j.scrollTop-_.y,b.y&&j.scrollBy({top:-b.y,behavior:l});break}}this.handleMove(t,hm(zh(h,this.referenceCoordinates),b))}}}handleMove(t,a){const{onMove:n}=this.props;t.preventDefault(),n(a)}handleEnd(t){const{onEnd:a}=this.props;t.preventDefault(),this.detach(),a()}handleCancel(t){const{onCancel:a}=this.props;t.preventDefault(),this.detach(),a()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}w0.activators=[{eventName:"onKeyDown",handler:(e,t,a)=>{let{keyboardCodes:n=YR,onActivation:s}=t,{active:i}=a;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s?.({event:e.nativeEvent}),!0)}return!1}}];function s3(e){return!!(e&&"distance"in e)}function i3(e){return!!(e&&"delay"in e)}class V2{constructor(t,a,n){var s;n===void 0&&(n=nee(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=a;const{event:i}=t,{target:o}=i;this.props=t,this.events=a,this.document=Zm(o),this.documentListeners=new Ch(this.document),this.listeners=new Ch(n),this.windowListeners=new Ch(As(o)),this.initialCoordinates=(s=Fx(i))!=null?s:No,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:a,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(zi.Resize,this.handleCancel),this.windowListeners.add(zi.DragStart,n3),this.windowListeners.add(zi.VisibilityChange,this.handleCancel),this.windowListeners.add(zi.ContextMenu,n3),this.documentListeners.add(zi.Keydown,this.handleKeydown),a){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(i3(a)){this.timeoutId=setTimeout(this.handleStart,a.delay),this.handlePending(a);return}if(s3(a)){this.handlePending(a);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,a){const{active:n,onPending:s}=this.props;s(n,t,this.initialCoordinates,a)}handleStart(){const{initialCoordinates:t}=this,{onStart:a}=this.props;t&&(this.activated=!0,this.documentListeners.add(zi.Click,see,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(zi.SelectionChange,this.removeTextSelection),a(t))}handleMove(t){var a;const{activated:n,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!s)return;const d=(a=Fx(t))!=null?a:No,c=zh(s,d);if(!n&&l){if(s3(l)){if(l.tolerance!=null&&hw(c,l.tolerance))return this.handleCancel();if(hw(c,l.distance))return this.handleStart()}if(i3(l)&&hw(c,l.tolerance))return this.handleCancel();this.handlePending(l,c);return}t.cancelable&&t.preventDefault(),o(d)}handleEnd(){const{onAbort:t,onEnd:a}=this.props;this.detach(),this.activated||t(this.props.active),a()}handleCancel(){const{onAbort:t,onCancel:a}=this.props;this.detach(),this.activated||t(this.props.active),a()}handleKeydown(t){t.code===Br.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const oee={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class j0 extends V2{constructor(t){const{event:a}=t,n=Zm(a.target);super(t,oee,n)}}j0.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:a}=e,{onActivation:n}=t;return!a.isPrimary||a.button!==0?!1:(n?.({event:a}),!0)}}];const lee={move:{name:"mousemove"},end:{name:"mouseup"}};var _N;(function(e){e[e.RightClick=2]="RightClick"})(_N||(_N={}));class dee extends V2{constructor(t){super(t,lee,Zm(t.event.target))}}dee.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:a}=e,{onActivation:n}=t;return a.button===_N.RightClick?!1:(n?.({event:a}),!0)}}];const fw={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class cee extends V2{constructor(t){super(t,fw)}static setup(){return window.addEventListener(fw.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(fw.move.name,t)};function t(){}}}cee.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:a}=e,{onActivation:n}=t;const{touches:s}=a;return s.length>1?!1:(n?.({event:a}),!0)}}];var Sh;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Sh||(Sh={}));var Ux;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ux||(Ux={}));function uee(e){let{acceleration:t,activator:a=Sh.Pointer,canScroll:n,draggingRect:s,enabled:i,interval:o=5,order:l=Ux.TreeOrder,pointerCoordinates:d,scrollableAncestors:c,scrollableAncestorRects:g,delta:h,threshold:x}=e;const b=gee({delta:h,disabled:!i}),[v,j]=SJ(),w=p.useRef({x:0,y:0}),S=p.useRef({x:0,y:0}),M=p.useMemo(()=>{switch(a){case Sh.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Sh.DraggableRect:return s}},[a,s,d]),T=p.useRef(null),A=p.useCallback(()=>{const _=T.current;if(!_)return;const D=w.current.x*S.current.x,E=w.current.y*S.current.y;_.scrollBy(D,E)},[]),I=p.useMemo(()=>l===Ux.TreeOrder?[...c].reverse():c,[l,c]);p.useEffect(()=>{if(!i||!c.length||!M){j();return}for(const _ of I){if(n?.(_)===!1)continue;const D=c.indexOf(_),E=g[D];if(!E)continue;const{direction:X,speed:ee}=JJ(_,E,M,t,x);for(const Z of["x","y"])b[Z][X[Z]]||(ee[Z]=0,X[Z]=0);if(ee.x>0||ee.y>0){j(),T.current=_,v(A,o),w.current=ee,S.current=X;return}}w.current={x:0,y:0},S.current={x:0,y:0},j()},[t,A,n,j,i,o,JSON.stringify(M),JSON.stringify(b),v,c,I,g,JSON.stringify(x)])}const mee={x:{[_n.Backward]:!1,[_n.Forward]:!1},y:{[_n.Backward]:!1,[_n.Forward]:!1}};function gee(e){let{delta:t,disabled:a}=e;const n=$x(t);return v0(s=>{if(a||!n||!s)return mee;const i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[_n.Backward]:s.x[_n.Backward]||i.x===-1,[_n.Forward]:s.x[_n.Forward]||i.x===1},y:{[_n.Backward]:s.y[_n.Backward]||i.y===-1,[_n.Forward]:s.y[_n.Forward]||i.y===1}}},[a,t,n])}function hee(e,t){const a=t!=null?e.get(t):void 0,n=a?a.node.current:null;return v0(s=>{var i;return t==null?null:(i=n??s)!=null?i:null},[n,t])}function fee(e,t){return p.useMemo(()=>e.reduce((a,n)=>{const{sensor:s}=n,i=s.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...a,...i]},[]),[e,t])}var Uh;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Uh||(Uh={}));var ON;(function(e){e.Optimized="optimized"})(ON||(ON={}));const o3=new Map;function pee(e,t){let{dragging:a,dependencies:n,config:s}=t;const[i,o]=p.useState(null),{frequency:l,measure:d,strategy:c}=s,g=p.useRef(e),h=w(),x=Fh(h),b=p.useCallback(function(S){S===void 0&&(S=[]),!x.current&&o(M=>M===null?S:M.concat(S.filter(T=>!M.includes(T))))},[x]),v=p.useRef(null),j=v0(S=>{if(h&&!a)return o3;if(!S||S===o3||g.current!==e||i!=null){const M=new Map;for(let T of e){if(!T)continue;if(i&&i.length>0&&!i.includes(T.id)&&T.rect.current){M.set(T.id,T.rect.current);continue}const A=T.node.current,I=A?new q2(d(A),A):null;T.rect.current=I,I&&M.set(T.id,I)}return M}return S},[e,i,a,h,d]);return p.useEffect(()=>{g.current=e},[e]),p.useEffect(()=>{h||b()},[a,h]),p.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),p.useEffect(()=>{h||typeof l!="number"||v.current!==null||(v.current=setTimeout(()=>{b(),v.current=null},l))},[l,h,b,...n]),{droppableRects:j,measureDroppableContainers:b,measuringScheduled:i!=null};function w(){switch(c){case Uh.Always:return!1;case Uh.BeforeDragging:return a;default:return!a}}}function H2(e,t){return v0(a=>e?a||(typeof t=="function"?t(e):e):null,[t,e])}function xee(e,t){return H2(e,t)}function yee(e){let{callback:t,disabled:a}=e;const n=gb(t),s=p.useMemo(()=>{if(a||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,a]);return p.useEffect(()=>()=>s?.disconnect(),[s]),s}function pb(e){let{callback:t,disabled:a}=e;const n=gb(t),s=p.useMemo(()=>{if(a||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[a]);return p.useEffect(()=>()=>s?.disconnect(),[s]),s}function bee(e){return new q2(Xm(e),e)}function l3(e,t,a){t===void 0&&(t=bee);const[n,s]=p.useState(null);function i(){s(d=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=d??a)!=null?c:null}const g=t(e);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const o=yee({callback(d){if(e)for(const c of d){const{type:g,target:h}=c;if(g==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),l=pb({callback:i});return wo(()=>{i(),e?(l?.observe(e),o?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),o?.disconnect())},[e]),n}function vee(e){const t=H2(e);return zR(e,t)}const d3=[];function kee(e){const t=p.useRef(e),a=v0(n=>e?n&&n!==d3&&e&&t.current&&e.parentNode===t.current.parentNode?n:fb(e):d3,[e]);return p.useEffect(()=>{t.current=e},[e]),a}function wee(e){const[t,a]=p.useState(null),n=p.useRef(e),s=p.useCallback(i=>{const o=gw(i.target);o&&a(l=>l?(l.set(o,EN(o)),new Map(l)):null)},[]);return p.useEffect(()=>{const i=n.current;if(e!==i){o(i);const l=e.map(d=>{const c=gw(d);return c?(c.addEventListener("scroll",s,{passive:!0}),[c,EN(c)]):null}).filter(d=>d!=null);a(l.length?new Map(l):null),n.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(d=>{const c=gw(d);c?.removeEventListener("scroll",s)})}},[s,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>hm(i,o),No):QR(e):No,[e,t])}function c3(e,t){t===void 0&&(t=[]);const a=p.useRef(null);return p.useEffect(()=>{a.current=null},t),p.useEffect(()=>{const n=e!==No;n&&!a.current&&(a.current=e),!n&&a.current&&(a.current=null)},[e]),a.current?zh(e,a.current):No}function jee(e){p.useEffect(()=>{if(!mb)return;const t=e.map(a=>{let{sensor:n}=a;return n.setup==null?void 0:n.setup()});return()=>{for(const a of t)a?.()}},e.map(t=>{let{sensor:a}=t;return a}))}function Nee(e,t){return p.useMemo(()=>e.reduce((a,n)=>{let{eventName:s,handler:i}=n;return a[s]=o=>{i(o,t)},a},{}),[e,t])}function ZR(e){return p.useMemo(()=>e?GJ(e):null,[e])}const u3=[];function Cee(e,t){t===void 0&&(t=Xm);const[a]=e,n=ZR(a?As(a):null),[s,i]=p.useState(u3);function o(){i(()=>e.length?e.map(d=>WR(d)?n:new q2(t(d),d)):u3)}const l=pb({callback:o});return wo(()=>{l?.disconnect(),o(),e.forEach(d=>l?.observe(d))},[e]),s}function XR(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return b0(t)?t:e}function See(e){let{measure:t}=e;const[a,n]=p.useState(null),s=p.useCallback(c=>{for(const{target:g}of c)if(b0(g)){n(h=>{const x=t(g);return h?{...h,width:x.width,height:x.height}:x});break}},[t]),i=pb({callback:s}),o=p.useCallback(c=>{const g=XR(c);i?.disconnect(),g&&i?.observe(g),n(g?t(g):null)},[t,i]),[l,d]=Lx(o);return p.useMemo(()=>({nodeRef:l,rect:a,setRef:d}),[a,l,d])}const Pee=[{sensor:j0,options:{}},{sensor:w0,options:{}}],Mee={current:{}},sx={draggable:{measure:a3},droppable:{measure:a3,strategy:Uh.WhileDragging,frequency:ON.Optimized},dragOverlay:{measure:Xm}};class Ph extends Map{get(t){var a;return t!=null&&(a=super.get(t))!=null?a:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:a}=t;return!a})}getNodeFor(t){var a,n;return(a=(n=this.get(t))==null?void 0:n.node.current)!=null?a:void 0}}const Tee={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ph,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:zx},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:sx,measureDroppableContainers:zx,windowRect:null,measuringScheduled:!1},JR={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:zx,draggableNodes:new Map,over:null,measureDroppableContainers:zx},N0=p.createContext(JR),eD=p.createContext(Tee);function Iee(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ph}}}function Aee(e,t){switch(t.type){case yn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case yn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case yn.DragEnd:case yn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case yn.RegisterDroppable:{const{element:a}=t,{id:n}=a,s=new Ph(e.droppable.containers);return s.set(n,a),{...e,droppable:{...e.droppable,containers:s}}}case yn.SetDroppableDisabled:{const{id:a,key:n,disabled:s}=t,i=e.droppable.containers.get(a);if(!i||n!==i.key)return e;const o=new Ph(e.droppable.containers);return o.set(a,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:o}}}case yn.UnregisterDroppable:{const{id:a,key:n}=t,s=e.droppable.containers.get(a);if(!s||n!==s.key)return e;const i=new Ph(e.droppable.containers);return i.delete(a),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Eee(e){let{disabled:t}=e;const{active:a,activatorEvent:n,draggableNodes:s}=p.useContext(N0),i=$x(n),o=$x(a?.id);return p.useEffect(()=>{if(!t&&!n&&i&&o!=null){if(!hb(i)||document.activeElement===i.target)return;const l=s.get(o);if(!l)return;const{activatorNode:d,node:c}=l;if(!d.current&&!c.current)return;requestAnimationFrame(()=>{for(const g of[d.current,c.current]){if(!g)continue;const h=TJ(g);if(h){h.focus();break}}})}},[n,t,s,o,i]),null}function tD(e,t){let{transform:a,...n}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...n}),a):a}function _ee(e){return p.useMemo(()=>({draggable:{...sx.draggable,...e?.draggable},droppable:{...sx.droppable,...e?.droppable},dragOverlay:{...sx.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Oee(e){let{activeNode:t,measure:a,initialRect:n,config:s=!0}=e;const i=p.useRef(!1),{x:o,y:l}=typeof s=="boolean"?{x:s,y:s}:s;wo(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!n)return;const c=t?.node.current;if(!c||c.isConnected===!1)return;const g=a(c),h=zR(g,n);if(o||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const x=qR(c);x&&x.scrollBy({top:h.y,left:h.x})}},[t,o,l,n,a])}const xb=p.createContext({...No,scaleX:1,scaleY:1});var $d;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})($d||($d={}));const W2=p.memo(function(t){var a,n,s,i;let{id:o,accessibility:l,autoScroll:d=!0,children:c,sensors:g=Pee,collisionDetection:h=qJ,measuring:x,modifiers:b,...v}=t;const j=p.useReducer(Aee,void 0,Iee),[w,S]=j,[M,T]=RJ(),[A,I]=p.useState($d.Uninitialized),_=A===$d.Initialized,{draggable:{active:D,nodes:E,translate:X},droppable:{containers:ee}}=w,Z=D!=null?E.get(D):null,B=p.useRef({initial:null,translated:null}),G=p.useMemo(()=>{var Tt;return D!=null?{id:D,data:(Tt=Z?.data)!=null?Tt:Mee,rect:B}:null},[D,Z]),J=p.useRef(null),[ce,te]=p.useState(null),[K,Y]=p.useState(null),re=Fh(v,Object.values(v)),ne=k0("DndDescribedBy",o),z=p.useMemo(()=>ee.getEnabled(),[ee]),V=_ee(x),{droppableRects:F,measureDroppableContainers:$,measuringScheduled:q}=pee(z,{dragging:_,dependencies:[X.x,X.y],config:V.droppable}),H=hee(E,D),Q=p.useMemo(()=>K?Fx(K):null,[K]),de=Ft(),me=xee(H,V.draggable.measure);Oee({activeNode:D!=null?E.get(D):null,config:de.layoutShiftCompensation,initialRect:me,measure:V.draggable.measure});const je=l3(H,V.draggable.measure,me),fe=l3(H?H.parentElement:null),se=p.useRef({activatorEvent:null,active:null,activeNode:H,collisionRect:null,collisions:null,droppableRects:F,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:ee,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ie=ee.getNodeFor((a=se.current.over)==null?void 0:a.id),ue=See({measure:V.dragOverlay.measure}),le=(n=ue.nodeRef.current)!=null?n:H,xe=_?(s=ue.rect)!=null?s:je:null,ze=!!(ue.nodeRef.current&&ue.rect),Le=vee(ze?null:je),ut=ZR(le?As(le):null),kt=kee(_?ie??H:null),qt=Cee(kt),hr=tD(b,{transform:{x:X.x-Le.x,y:X.y-Le.y,scaleX:1,scaleY:1},activatorEvent:K,active:G,activeNodeRect:je,containerNodeRect:fe,draggingNodeRect:xe,over:se.current.over,overlayNodeRect:ue.rect,scrollableAncestors:kt,scrollableAncestorRects:qt,windowRect:ut}),jr=Q?hm(Q,X):null,nt=wee(kt),rt=c3(nt),Pr=c3(nt,[je]),Ht=hm(hr,rt),Wt=xe?WJ(xe,hr):null,ge=G&&Wt?h({active:G,collisionRect:Wt,droppableRects:F,droppableContainers:z,pointerCoordinates:jr}):null,ye=FR(ge,"id"),[Be,Qe]=p.useState(null),pt=ze?hr:hm(hr,Pr),Ce=VJ(pt,(i=Be?.rect)!=null?i:null,je),we=p.useRef(null),be=p.useCallback((Tt,nr)=>{let{sensor:gr,options:sa}=nr;if(J.current==null)return;const Ve=E.get(J.current);if(!Ve)return;const St=Tt.nativeEvent,wt=new gr({active:J.current,activeNode:Ve,event:St,options:sa,context:se,onAbort(et){if(!E.get(et))return;const{onDragAbort:Rt}=re.current,Xt={id:et};Rt?.(Xt),M({type:"onDragAbort",event:Xt})},onPending(et,bt,Rt,Xt){if(!E.get(et))return;const{onDragPending:gt}=re.current,ia={id:et,constraint:bt,initialCoordinates:Rt,offset:Xt};gt?.(ia),M({type:"onDragPending",event:ia})},onStart(et){const bt=J.current;if(bt==null)return;const Rt=E.get(bt);if(!Rt)return;const{onDragStart:Xt}=re.current,cr={activatorEvent:St,active:{id:bt,data:Rt.data,rect:B}};qd.unstable_batchedUpdates(()=>{Xt?.(cr),I($d.Initializing),S({type:yn.DragStart,initialCoordinates:et,active:bt}),M({type:"onDragStart",event:cr}),te(we.current),Y(St)})},onMove(et){S({type:yn.DragMove,coordinates:et})},onEnd:Ke(yn.DragEnd),onCancel:Ke(yn.DragCancel)});we.current=wt;function Ke(et){return async function(){const{active:Rt,collisions:Xt,over:cr,scrollAdjustedTranslate:gt}=se.current;let ia=null;if(Rt&&gt){const{cancelDrop:Ha}=re.current;ia={activatorEvent:St,active:Rt,collisions:Xt,delta:gt,over:cr},et===yn.DragEnd&&typeof Ha=="function"&&await Promise.resolve(Ha(ia))&&(et=yn.DragCancel)}J.current=null,qd.unstable_batchedUpdates(()=>{S({type:et}),I($d.Uninitialized),Qe(null),te(null),Y(null),we.current=null;const Ha=et===yn.DragEnd?"onDragEnd":"onDragCancel";if(ia){const cn=re.current[Ha];cn?.(ia),M({type:Ha,event:ia})}})}}},[E]),Ie=p.useCallback((Tt,nr)=>(gr,sa)=>{const Ve=gr.nativeEvent,St=E.get(sa);if(J.current!==null||!St||Ve.dndKit||Ve.defaultPrevented)return;const wt={active:St};Tt(gr,nr.options,wt)===!0&&(Ve.dndKit={capturedBy:nr.sensor},J.current=sa,be(gr,nr))},[E,be]),Se=fee(g,Ie);jee(g),wo(()=>{je&&A===$d.Initializing&&I($d.Initialized)},[je,A]),p.useEffect(()=>{const{onDragMove:Tt}=re.current,{active:nr,activatorEvent:gr,collisions:sa,over:Ve}=se.current;if(!nr||!gr)return;const St={active:nr,activatorEvent:gr,collisions:sa,delta:{x:Ht.x,y:Ht.y},over:Ve};qd.unstable_batchedUpdates(()=>{Tt?.(St),M({type:"onDragMove",event:St})})},[Ht.x,Ht.y]),p.useEffect(()=>{const{active:Tt,activatorEvent:nr,collisions:gr,droppableContainers:sa,scrollAdjustedTranslate:Ve}=se.current;if(!Tt||J.current==null||!nr||!Ve)return;const{onDragOver:St}=re.current,wt=sa.get(ye),Ke=wt&&wt.rect.current?{id:wt.id,rect:wt.rect.current,data:wt.data,disabled:wt.disabled}:null,et={active:Tt,activatorEvent:nr,collisions:gr,delta:{x:Ve.x,y:Ve.y},over:Ke};qd.unstable_batchedUpdates(()=>{Qe(Ke),St?.(et),M({type:"onDragOver",event:et})})},[ye]),wo(()=>{se.current={activatorEvent:K,active:G,activeNode:H,collisionRect:Wt,collisions:ge,droppableRects:F,draggableNodes:E,draggingNode:le,draggingNodeRect:xe,droppableContainers:ee,over:Be,scrollableAncestors:kt,scrollAdjustedTranslate:Ht},B.current={initial:xe,translated:Wt}},[G,H,ge,Wt,E,le,xe,F,ee,Be,kt,Ht]),uee({...de,delta:X,draggingRect:Wt,pointerCoordinates:jr,scrollableAncestors:kt,scrollableAncestorRects:qt});const _e=p.useMemo(()=>({active:G,activeNode:H,activeNodeRect:je,activatorEvent:K,collisions:ge,containerNodeRect:fe,dragOverlay:ue,draggableNodes:E,droppableContainers:ee,droppableRects:F,over:Be,measureDroppableContainers:$,scrollableAncestors:kt,scrollableAncestorRects:qt,measuringConfiguration:V,measuringScheduled:q,windowRect:ut}),[G,H,je,K,ge,fe,ue,E,ee,F,Be,$,kt,qt,V,q,ut]),Ye=p.useMemo(()=>({activatorEvent:K,activators:Se,active:G,activeNodeRect:je,ariaDescribedById:{draggable:ne},dispatch:S,draggableNodes:E,over:Be,measureDroppableContainers:$}),[K,Se,G,je,S,ne,E,Be,$]);return Lr.createElement(BR.Provider,{value:T},Lr.createElement(N0.Provider,{value:Ye},Lr.createElement(eD.Provider,{value:_e},Lr.createElement(xb.Provider,{value:Ce},c)),Lr.createElement(Eee,{disabled:l?.restoreFocus===!1})),Lr.createElement(LJ,{...l,hiddenTextDescribedById:ne}));function Ft(){const Tt=ce?.autoScrollEnabled===!1,nr=typeof d=="object"?d.enabled===!1:d===!1,gr=_&&!Tt&&!nr;return typeof d=="object"?{...d,enabled:gr}:{enabled:gr}}}),Ree=p.createContext(null),m3="button",Dee="Draggable";function Bee(e){let{id:t,data:a,disabled:n=!1,attributes:s}=e;const i=k0(Dee),{activators:o,activatorEvent:l,active:d,activeNodeRect:c,ariaDescribedById:g,draggableNodes:h,over:x}=p.useContext(N0),{role:b=m3,roleDescription:v="draggable",tabIndex:j=0}=s??{},w=d?.id===t,S=p.useContext(w?xb:Ree),[M,T]=Lx(),[A,I]=Lx(),_=Nee(o,t),D=Fh(a);wo(()=>(h.set(t,{id:t,key:i,node:M,activatorNode:A,data:D}),()=>{const X=h.get(t);X&&X.key===i&&h.delete(t)}),[h,t]);const E=p.useMemo(()=>({role:b,tabIndex:j,"aria-disabled":n,"aria-pressed":w&&b===m3?!0:void 0,"aria-roledescription":v,"aria-describedby":g.draggable}),[n,b,j,w,v,g.draggable]);return{active:d,activatorEvent:l,activeNodeRect:c,attributes:E,isDragging:w,listeners:n?void 0:_,node:M,over:x,setNodeRef:T,setActivatorNodeRef:I,transform:S}}function rD(){return p.useContext(eD)}const Lee="Droppable",$ee={timeout:25};function Fee(e){let{data:t,disabled:a=!1,id:n,resizeObserverConfig:s}=e;const i=k0(Lee),{active:o,dispatch:l,over:d,measureDroppableContainers:c}=p.useContext(N0),g=p.useRef({disabled:a}),h=p.useRef(!1),x=p.useRef(null),b=p.useRef(null),{disabled:v,updateMeasurementsFor:j,timeout:w}={...$ee,...s},S=Fh(j??n),M=p.useCallback(()=>{if(!h.current){h.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{c(Array.isArray(S.current)?S.current:[S.current]),b.current=null},w)},[w]),T=pb({callback:M,disabled:v||!o}),A=p.useCallback((E,X)=>{T&&(X&&(T.unobserve(X),h.current=!1),E&&T.observe(E))},[T]),[I,_]=Lx(A),D=Fh(t);return p.useEffect(()=>{!T||!I.current||(T.disconnect(),h.current=!1,T.observe(I.current))},[I,T]),p.useEffect(()=>(l({type:yn.RegisterDroppable,element:{id:n,key:i,disabled:a,node:I,rect:x,data:D}}),()=>l({type:yn.UnregisterDroppable,key:i,id:n})),[n]),p.useEffect(()=>{a!==g.current.disabled&&(l({type:yn.SetDroppableDisabled,id:n,key:i,disabled:a}),g.current.disabled=a)},[n,i,a,l]),{active:o,rect:x,isOver:d?.id===n,node:I,over:d,setNodeRef:_}}function zee(e){let{animation:t,children:a}=e;const[n,s]=p.useState(null),[i,o]=p.useState(null),l=$x(a);return!a&&!n&&l&&s(l),wo(()=>{if(!i)return;const d=n?.key,c=n?.props.id;if(d==null||c==null){s(null);return}Promise.resolve(t(c,i)).then(()=>{s(null)})},[t,n,i]),Lr.createElement(Lr.Fragment,null,a,n?p.cloneElement(n,{ref:o}):null)}const Uee={x:0,y:0,scaleX:1,scaleY:1};function qee(e){let{children:t}=e;return Lr.createElement(N0.Provider,{value:JR},Lr.createElement(xb.Provider,{value:Uee},t))}const Vee={position:"fixed",touchAction:"none"},Hee=e=>hb(e)?"transform 250ms ease":void 0,Wee=p.forwardRef((e,t)=>{let{as:a,activatorEvent:n,adjustScale:s,children:i,className:o,rect:l,style:d,transform:c,transition:g=Hee}=e;if(!l)return null;const h=s?c:{...c,scaleX:1,scaleY:1},x={...Vee,width:l.width,height:l.height,top:l.top,left:l.left,transform:jo.Transform.toString(h),transformOrigin:s&&n?$J(n,l):void 0,transition:typeof g=="function"?g(n):g,...d};return Lr.createElement(a,{className:o,style:x,ref:t},i)}),Kee=e=>t=>{let{active:a,dragOverlay:n}=t;const s={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[l,d]of Object.entries(i.active))d!==void 0&&(s[l]=a.node.style.getPropertyValue(l),a.node.style.setProperty(l,d));if(i!=null&&i.dragOverlay)for(const[l,d]of Object.entries(i.dragOverlay))d!==void 0&&n.node.style.setProperty(l,d);return o!=null&&o.active&&a.node.classList.add(o.active),o!=null&&o.dragOverlay&&n.node.classList.add(o.dragOverlay),function(){for(const[d,c]of Object.entries(s))a.node.style.setProperty(d,c);o!=null&&o.active&&a.node.classList.remove(o.active)}},Qee=e=>{let{transform:{initial:t,final:a}}=e;return[{transform:jo.Transform.toString(t)},{transform:jo.Transform.toString(a)}]},Gee={duration:250,easing:"ease",keyframes:Qee,sideEffects:Kee({styles:{active:{opacity:"0"}}})};function Yee(e){let{config:t,draggableNodes:a,droppableContainers:n,measuringConfiguration:s}=e;return gb((i,o)=>{if(t===null)return;const l=a.get(i);if(!l)return;const d=l.node.current;if(!d)return;const c=XR(o);if(!c)return;const{transform:g}=As(o).getComputedStyle(o),h=UR(g);if(!h)return;const x=typeof t=="function"?t:Zee(t);return GR(d,s.draggable.measure),x({active:{id:i,data:l.data,node:d,rect:s.draggable.measure(d)},draggableNodes:a,dragOverlay:{node:o,rect:s.dragOverlay.measure(c)},droppableContainers:n,measuringConfiguration:s,transform:h})})}function Zee(e){const{duration:t,easing:a,sideEffects:n,keyframes:s}={...Gee,...e};return i=>{let{active:o,dragOverlay:l,transform:d,...c}=i;if(!t)return;const g={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},h={scaleX:d.scaleX!==1?o.rect.width*d.scaleX/l.rect.width:1,scaleY:d.scaleY!==1?o.rect.height*d.scaleY/l.rect.height:1},x={x:d.x-g.x,y:d.y-g.y,...h},b=s({...c,active:o,dragOverlay:l,transform:{initial:d,final:x}}),[v]=b,j=b[b.length-1];if(JSON.stringify(v)===JSON.stringify(j))return;const w=n?.({active:o,dragOverlay:l,...c}),S=l.node.animate(b,{duration:t,easing:a,fill:"forwards"});return new Promise(M=>{S.onfinish=()=>{w?.(),M()}})}}let g3=0;function Xee(e){return p.useMemo(()=>{if(e!=null)return g3++,g3},[e])}const aD=Lr.memo(e=>{let{adjustScale:t=!1,children:a,dropAnimation:n,style:s,transition:i,modifiers:o,wrapperElement:l="div",className:d,zIndex:c=999}=e;const{activatorEvent:g,active:h,activeNodeRect:x,containerNodeRect:b,draggableNodes:v,droppableContainers:j,dragOverlay:w,over:S,measuringConfiguration:M,scrollableAncestors:T,scrollableAncestorRects:A,windowRect:I}=rD(),_=p.useContext(xb),D=Xee(h?.id),E=tD(o,{activatorEvent:g,active:h,activeNodeRect:x,containerNodeRect:b,draggingNodeRect:w.rect,over:S,overlayNodeRect:w.rect,scrollableAncestors:T,scrollableAncestorRects:A,transform:_,windowRect:I}),X=H2(x),ee=Yee({config:n,draggableNodes:v,droppableContainers:j,measuringConfiguration:M}),Z=X?w.setRef:void 0;return Lr.createElement(qee,null,Lr.createElement(zee,{animation:ee},h&&D?Lr.createElement(Wee,{key:D,id:h.id,ref:Z,as:l,activatorEvent:g,adjustScale:t,className:d,transition:i,rect:X,style:{zIndex:c,...s},transform:E},a):null))});function fm(e,t,a){const n=e.slice();return n.splice(a<0?n.length+a:a,0,n.splice(t,1)[0]),n}function Jee(e,t){return e.reduce((a,n,s)=>{const i=t.get(n);return i&&(a[s]=i),a},Array(e.length))}function yp(e){return e!==null&&e>=0}function ete(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}function tte(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const nD=e=>{let{rects:t,activeIndex:a,overIndex:n,index:s}=e;const i=fm(t,n,a),o=t[s],l=i[s];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},bp={scaleX:1,scaleY:1},yb=e=>{var t;let{activeIndex:a,activeNodeRect:n,index:s,rects:i,overIndex:o}=e;const l=(t=i[a])!=null?t:n;if(!l)return null;if(s===a){const c=i[o];return c?{x:0,y:a<o?c.top+c.height-(l.top+l.height):c.top-l.top,...bp}:null}const d=rte(i,s,a);return s>a&&s<=o?{x:0,y:-l.height-d,...bp}:s<a&&s>=o?{x:0,y:l.height+d,...bp}:{x:0,y:0,...bp}};function rte(e,t,a){const n=e[t],s=e[t-1],i=e[t+1];return n?a<t?s?n.top-(s.top+s.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):s?n.top-(s.top+s.height):0:0}const sD="Sortable",iD=Lr.createContext({activeIndex:-1,containerId:sD,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:nD,disabled:{draggable:!1,droppable:!1}});function bb(e){let{children:t,id:a,items:n,strategy:s=nD,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:d,over:c,measureDroppableContainers:g}=rD(),h=k0(sD,a),x=l.rect!==null,b=p.useMemo(()=>n.map(_=>typeof _=="object"&&"id"in _?_.id:_),[n]),v=o!=null,j=o?b.indexOf(o.id):-1,w=c?b.indexOf(c.id):-1,S=p.useRef(b),M=!ete(b,S.current),T=w!==-1&&j===-1||M,A=tte(i);wo(()=>{M&&v&&g(b)},[M,b,v,g]),p.useEffect(()=>{S.current=b},[b]);const I=p.useMemo(()=>({activeIndex:j,containerId:h,disabled:A,disableTransforms:T,items:b,overIndex:w,useDragOverlay:x,sortedRects:Jee(b,d),strategy:s}),[j,h,A.draggable,A.droppable,T,b,w,d,x,s]);return Lr.createElement(iD.Provider,{value:I},t)}const ate=e=>{let{id:t,items:a,activeIndex:n,overIndex:s}=e;return fm(a,n,s).indexOf(t)},nte=e=>{let{containerId:t,isSorting:a,wasDragging:n,index:s,items:i,newIndex:o,previousItems:l,previousContainerId:d,transition:c}=e;return!c||!n||l!==i&&s===o?!1:a?!0:o!==s&&t===d},ste={duration:200,easing:"ease"},oD="transform",ite=jo.Transition.toString({property:oD,duration:0,easing:"linear"}),ote={roleDescription:"sortable"};function lte(e){let{disabled:t,index:a,node:n,rect:s}=e;const[i,o]=p.useState(null),l=p.useRef(a);return wo(()=>{if(!t&&a!==l.current&&n.current){const d=s.current;if(d){const c=Xm(n.current,{ignoreTransform:!0}),g={x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height};(g.x||g.y)&&o(g)}}a!==l.current&&(l.current=a)},[t,a,n,s]),p.useEffect(()=>{i&&o(null)},[i]),i}function vb(e){let{animateLayoutChanges:t=nte,attributes:a,disabled:n,data:s,getNewIndex:i=ate,id:o,strategy:l,resizeObserverConfig:d,transition:c=ste}=e;const{items:g,containerId:h,activeIndex:x,disabled:b,disableTransforms:v,sortedRects:j,overIndex:w,useDragOverlay:S,strategy:M}=p.useContext(iD),T=dte(n,b),A=g.indexOf(o),I=p.useMemo(()=>({sortable:{containerId:h,index:A,items:g},...s}),[h,s,A,g]),_=p.useMemo(()=>g.slice(g.indexOf(o)),[g,o]),{rect:D,node:E,isOver:X,setNodeRef:ee}=Fee({id:o,data:I,disabled:T.droppable,resizeObserverConfig:{updateMeasurementsFor:_,...d}}),{active:Z,activatorEvent:B,activeNodeRect:G,attributes:J,setNodeRef:ce,listeners:te,isDragging:K,over:Y,setActivatorNodeRef:re,transform:ne}=Bee({id:o,data:I,attributes:{...ote,...a},disabled:T.draggable}),z=CJ(ee,ce),V=!!Z,F=V&&!v&&yp(x)&&yp(w),$=!S&&K,q=$&&F?ne:null,Q=F?q??(l??M)({rects:j,activeNodeRect:G,activeIndex:x,overIndex:w,index:A}):null,de=yp(x)&&yp(w)?i({id:o,items:g,activeIndex:x,overIndex:w}):A,me=Z?.id,je=p.useRef({activeId:me,items:g,newIndex:de,containerId:h}),fe=g!==je.current.items,se=t({active:Z,containerId:h,isDragging:K,isSorting:V,id:o,index:A,items:g,newIndex:je.current.newIndex,previousItems:je.current.items,previousContainerId:je.current.containerId,transition:c,wasDragging:je.current.activeId!=null}),ie=lte({disabled:!se,index:A,node:E,rect:D});return p.useEffect(()=>{V&&je.current.newIndex!==de&&(je.current.newIndex=de),h!==je.current.containerId&&(je.current.containerId=h),g!==je.current.items&&(je.current.items=g)},[V,de,h,g]),p.useEffect(()=>{if(me===je.current.activeId)return;if(me!=null&&je.current.activeId==null){je.current.activeId=me;return}const le=setTimeout(()=>{je.current.activeId=me},50);return()=>clearTimeout(le)},[me]),{active:Z,activeIndex:x,attributes:J,data:I,rect:D,index:A,newIndex:de,items:g,isOver:X,isSorting:V,isDragging:K,listeners:te,node:E,overIndex:w,over:Y,setNodeRef:z,setActivatorNodeRef:re,setDroppableNodeRef:ee,setDraggableNodeRef:ce,transform:ie??Q,transition:ue()};function ue(){if(ie||fe&&je.current.newIndex===A)return ite;if(!($&&!hb(B)||!c)&&(V||se))return jo.Transition.toString({...c,property:oD})}}function dte(e,t){var a,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(a=e?.draggable)!=null?a:t.draggable,droppable:(n=e?.droppable)!=null?n:t.droppable}}function qx(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const cte=[Br.Down,Br.Right,Br.Up,Br.Left],K2=(e,t)=>{let{context:{active:a,collisionRect:n,droppableRects:s,droppableContainers:i,over:o,scrollableAncestors:l}}=t;if(cte.includes(e.code)){if(e.preventDefault(),!a||!n)return;const d=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const x=s.get(h.id);if(x)switch(e.code){case Br.Down:n.top<x.top&&d.push(h);break;case Br.Up:n.top>x.top&&d.push(h);break;case Br.Left:n.left>x.left&&d.push(h);break;case Br.Right:n.left<x.left&&d.push(h);break}});const c=zJ({collisionRect:n,droppableRects:s,droppableContainers:d});let g=FR(c,"id");if(g===o?.id&&c.length>1&&(g=c[1].id),g!=null){const h=i.get(a.id),x=i.get(g),b=x?s.get(x.id):null,v=x?.node.current;if(v&&b&&h&&x){const w=fb(v).some((_,D)=>l[D]!==_),S=lD(h,x),M=ute(h,x),T=w||!S?{x:0,y:0}:{x:M?n.width-b.width:0,y:M?n.height-b.height:0},A={x:b.left,y:b.top};return T.x&&T.y?A:zh(A,T)}}}};function lD(e,t){return!qx(e)||!qx(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function ute(e,t){return!qx(e)||!qx(t)||!lD(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}class mte{baseUrl="/api/ProductAddons";async addProductAddon(t){try{const a={productId:t.productId,addonProductId:t.addonProductId,displayOrder:t.displayOrder||0,isRecommended:t.isRecommended||!1,marketingText:t.marketingText||""};N.info("rn eklentisi ekleniyor",{payload:a});const n=await he.post(this.baseUrl,a);return N.info("rn eklentisi baaryla eklendi",{productId:t.productId,addonProductId:t.addonProductId,response:n.data}),n.data}catch(a){throw N.error(" rn eklentisi eklenirken hata:",a),a}}async updateProductAddon(t){try{const a={id:t.id,displayOrder:t.displayOrder,isRecommended:t.isRecommended,marketingText:t.marketingText};N.info("rn eklentisi gncelleniyor",{payload:a});const n=await he.put(`${this.baseUrl}/${t.id}`,a);return N.info("rn eklentisi baaryla gncellendi",{addonId:t.id,response:n.data}),n.data}catch(a){throw N.error(" rn eklentisi gncellenirken hata:",a),a}}async deleteProductAddon(t){try{N.info("rn eklentisi siliniyor",{addonId:t}),await he.delete(`${this.baseUrl}/${t}`),N.info("rn eklentisi baaryla silindi",{addonId:t})}catch(a){throw N.error(" rn eklentisi silinirken hata:",a),a}}async getProductAddon(t){try{N.info("rn eklentisi getiriliyor",{addonId:t});const a=await he.get(`${this.baseUrl}/${t}`);return N.info("rn eklentisi baaryla getirildi",{addonId:t,response:a.data}),a.data}catch(a){throw N.error(" rn eklentisi getirilirken hata:",a),a}}async getProductAddons(t){try{N.info("rn eklentileri getiriliyor",{productId:t});const a=await he.get(`${this.baseUrl}/product/${t}`);return N.info("rn eklentileri baaryla getirildi",{productId:t,addonCount:a.data?.length||0}),a.data||[]}catch(a){throw N.error(" rn eklentileri getirilirken hata:",a),a}}async getAvailableAddonProducts(){try{N.info("Mevcut eklenti rnleri getiriliyor");const t=await he.get(`${this.baseUrl}/available`);return N.info("Mevcut eklenti rnleri baaryla getirildi",{productCount:t.data?.length||0}),t.data||[]}catch(t){throw N.error(" Mevcut eklenti rnleri getirilirken hata:",t),t}}async reorderProductAddons(t,a){try{const n={productId:t,addonOrders:a};N.info("rn eklenti sralamas gncelleniyor",{payload:n});for(const s of a)await this.updateProductAddon({id:s.addonId,displayOrder:s.newDisplayOrder});N.info("rn eklenti sralamas baaryla gncellendi",{productId:t,updatedAddons:a.length})}catch(n){throw N.error(" rn eklenti sralamas gncellenirken hata:",n),n}}async addMultipleAddons(t,a){try{N.info("oklu rn eklentisi ekleniyor",{productId:t,count:a.length});const n=[];for(let s=0;s<a.length;s++){const i=a[s],o=await this.addProductAddon({productId:t,addonProductId:i.addonProductId,displayOrder:s+1,isRecommended:i.isRecommended||!1,marketingText:i.marketingText||""});n.push(o)}return N.info("oklu rn eklentisi baaryla eklendi",{productId:t,addedCount:n.length}),n}catch(n){throw N.error(" oklu rn eklentisi eklenirken hata:",n),n}}async removeMultipleAddons(t){try{N.info("oklu rn eklentisi siliniyor",{addonIds:t});for(const a of t)await this.deleteProductAddon(a);N.info("oklu rn eklentisi baaryla silindi",{deletedCount:t.length})}catch(a){throw N.error(" oklu rn eklentisi silinirken hata:",a),a}}}const Il=new mte;class gte{baseUrl="/api";transformAPIDataToComponentData(t){return t.map(a=>({categoryId:a.categoryId,categoryName:a.categoryName,description:a.description||"",status:a.status,displayOrder:a.displayOrder,restaurantId:a.restaurantId,isExpanded:!0,products:a.products.map(n=>({id:n.productId,name:n.name,description:n.description||"",price:n.price,imageUrl:n.imageUrl||"",isAvailable:n.status,status:n.status,displayOrder:n.displayOrder,categoryId:a.categoryId}))}))}transformBranchCategoriesToComponentData(t){return t.map(a=>({categoryId:a.category.categoryId,categoryName:a.category.categoryName||a.displayName,description:a.category.description||"",status:a.isActive,displayOrder:a.displayOrder,restaurantId:a.category.restaurantId,isExpanded:!0,products:(a.products||[]).map(n=>({id:n.productId,name:n.productName,description:n.description||"",price:n.price,imageUrl:n.imageUrl||"",isAvailable:n.isActive,status:n.isActive,displayOrder:n.displayOrder,categoryId:a.category.categoryId}))}))}async getCategories(){try{const t=await he.get(`${this.baseUrl}/categories`,{params:{includes:"Products",onlyActive:""}});return this.transformAPIDataToComponentData(t.data)}catch(t){return N.error("Kategori verileri getirilirken hata:",t),[]}}async getBranchCategories(t){try{const a=new URLSearchParams({branchId:t.toString(),includes:"products"}),n=await he.get(`${this.baseUrl}/BranchCategories?${a.toString()}`);return this.transformBranchCategoriesToComponentData(n.data)}catch(a){return N.error("Error retrieving branch categories:",a),[]}}async createCategory(t){try{let a=t;N.info("Kategori ekleme istei gnderiliyor",{payload:a});try{const n=await he.post(`${this.baseUrl}/categories`,a);return N.info("Kategori baaryla eklendi",{data:n.data}),{categoryId:n.data.categoryId,categoryName:n.data.categoryName,description:n.data.description||"",status:n.data.status,displayOrder:n.data.displayOrder,restaurantId:n.data.restaurantId,isExpanded:!0,products:[],productId:void 0,name:void 0}}catch(n){if(n.response?.data?.errors&&n.response.data.errors.createCategoryDto){N.info("DTO wrapper gerekli, tekrar deneniyor..."),a={createCategoryDto:t};const s=await he.post(`${this.baseUrl}/categories`,a);return N.info("Kategori baaryla eklendi (DTO wrapper ile)",{data:s.data}),{categoryId:s.data.categoryId,categoryName:s.data.categoryName,description:s.data.description||"",status:s.data.status,displayOrder:s.data.displayOrder,restaurantId:s.data.restaurantId,isExpanded:!0,products:[],productId:void 0,name:void 0}}throw n}}catch(a){throw N.error(" Kategori eklenirken hata:",a),a}}async createProduct(t){try{const a={name:t.name,description:t.description||"",price:t.price,categoryId:typeof t.categoryId=="string"?parseInt(t.categoryId):t.categoryId,status:t.status,displayOrder:t.displayOrder};t.imageUrl&&(a.imageUrl=t.imageUrl),N.info("rn ekleme istei gnderiliyor",{payload:a});const n=await he.post(`${this.baseUrl}/products`,a);return N.info("rn baaryla eklendi",{data:n.data}),{id:n.data.productId,name:n.data.name,description:n.data.description||"",price:n.data.price,imageUrl:n.data.imageUrl||"",isAvailable:n.data.status,status:n.data.status,displayOrder:n.data.displayOrder,categoryId:a.categoryId,originalProductId:0}}catch(a){throw N.error(" rn eklenirken hata:",a),a}}async updateProduct(t,a){try{const n={productId:t,...a.name&&{name:a.name},...a.description!==void 0&&{description:a.description},...a.price!==void 0&&{price:a.price},...a.categoryId&&{categoryId:a.categoryId},...a.isAvailable!==void 0&&{status:a.isAvailable},...a.imageUrl!==void 0&&{imageUrl:a.imageUrl},...a.displayOrder!==void 0&&{displayOrder:a.displayOrder}};N.info("rn gncelleme istei gnderiliyor",{productId:t,payload:n});const s=await he.put(`${this.baseUrl}/products`,n);return N.info("rn baaryla gncellendi",{data:s.data}),{id:s.data.productId,name:s.data.name,description:s.data.description||"",price:s.data.price,imageUrl:s.data.imageUrl||"",isAvailable:s.data.status,status:s.data.status,displayOrder:s.data.displayOrder,categoryId:s.data.categoryId,originalProductId:0}}catch(n){throw N.error(" rn gncellenirken hata:",n),n}}async deleteProduct(t){try{N.info(" Starting product deletion debug process",{productId:t});try{const n=await this.getProductIngredients(t);N.info(" Product ingredients found",{productId:t,ingredientCount:n.length,ingredients:n.map(l=>({id:l.id,name:l.name}))});const s=await Il.getProductAddons(t);N.info(" Product addons found",{productId:t,addonCount:s.length,addons:s.map(l=>({id:l.id,addonProductId:l.addonProductId}))});const o=(await this.getCategories()).flatMap(l=>l.products).find(l=>l.id===t);N.info(" Product details",{productId:t,product:o})}catch(n){N.error(" Error checking related data:",n)}try{N.info(" Attempting to clean ingredients only");const n=await this.getProductIngredients(t);for(const s of n){const i=s.ingredientId||s.id;await this.removeIngredientFromProduct(t,i),N.info(" Ingredient deleted",{productId:t,ingredientId:i})}}catch(n){N.error(" Ingredient deletion failed:",{productId:t,error:n.message,response:n.response?.data})}N.info(" Attempting product deletion");const a=await he.delete(`${this.baseUrl}/products/${t}`).catch(n=>{throw N.error(" Product deletion failed with detailed error:",{productId:t,status:n.response?.status,statusText:n.response?.statusText,errorData:n.response?.data,errorMessage:n.message,stack:n.stack}),n});N.info(" Product successfully deleted",{productId:t})}catch(a){throw N.error(" Complete deletion process failed:",{productId:t,errorType:a.constructor.name,message:a.message,response:a.response?.data,stack:a.stack}),a}}async deleteCategory(t){try{N.info("Kategori silme istei gnderiliyor",{categoryId:t});const a=t;await he.delete(`${this.baseUrl}/categories/${a}`),N.info("Kategori baaryla silindi",{categoryId:t})}catch(a){throw N.error(" Kategori silinirken hata:",a),a}}async getDeletedCategories(){try{N.info("Silinmi kategoriler getiriliyor");const t=await he.get(`${this.baseUrl}/Categories/deleted`);return N.info("Silinmi kategoriler baaryla getirildi",{count:t.data?.length||0}),t.data||[]}catch(t){throw N.error(" Silinmi kategoriler getirilirken hata:",t),t}}async deleteProductIngredient(t,a=0){try{N.info("rn malzeme silme istei gnderiliyor",{productId:t,ingredientId:a});const n=t;await he.delete(`${this.baseUrl}/products/${n}/ingredients/${a}`),N.info("rn malzemesi baaryla silindi",{productId:t,ingredientId:a})}catch(n){throw N.error(" rn malzemesi silinirken hata:",n),n}}async restoreProduct(t,a){try{N.info("rn geri ykleniyor",{productId:t,restoreWithCascade:a});const n=`${this.baseUrl}/Products/${t}/restore`,s=a!==void 0?{restoreWithCascade:a}:{},i=await he.post(n,null,{params:s});N.info("rn baaryla geri yklendi",{productId:t,restoreWithCascade:a,response:i.status})}catch(n){throw N.error(" rn geri yklenirken hata:",n),n.response?.status===404?new Error("Geri yklenecek rn bulunamad"):n.response?.status===400?new Error("Geersiz rn geri ykleme istei"):new Error("rn geri yklenirken bir hata olutu")}}async restoreCategory(t,a){try{N.info("Kategori geri ykleniyor",{categoryId:t,restoreWithCascade:a});const n=`${this.baseUrl}/Categories/${t}/restore`,s=a!==void 0?{restoreWithCascade:a}:{},i=await he.post(n,null,{params:s});N.info("Kategori baaryla geri yklendi",{categoryId:t,restoreWithCascade:a,response:i.status})}catch(n){throw N.error(" Kategori geri yklenirken hata:",n),n.response?.status===404?new Error("Geri yklenecek kategori bulunamad"):n.response?.status===400?new Error("Geersiz kategori geri ykleme istei"):new Error("Kategori geri yklenirken bir hata olutu")}}async getDeletedProducts(){try{N.info("Silinmi rnler getiriliyor");const t=await he.get(`${this.baseUrl}/Products/deleted`);return N.info("Silinmi rnler baaryla getirildi",{count:t.data?.length||0}),t.data||[]}catch(t){throw N.error(" Silinmi rnler getirilirken hata:",t),t}}async updateCategory(t,a){try{const n={categoryId:t,...a.categoryName&&{categoryName:a.categoryName},...a.description!==void 0&&{description:a.description},...a.status!==void 0&&{status:a.status},...a.displayOrder!==void 0&&{displayOrder:a.displayOrder}};N.info("Kategori gncelleme istei gnderiliyor",{categoryId:t,payload:n});const s=await he.put(`${this.baseUrl}/categories`,n);return N.info("Kategori baaryla gncellendi",{data:s.data}),{categoryId:s.data.categoryId,categoryName:s.data.categoryName,description:s.data.description||"",status:s.data.status,displayOrder:s.data.displayOrder,restaurantId:s.data.restaurantId,isExpanded:!0,products:s.data.products?.map(o=>({id:o.productId,name:o.name,description:o.description||"",price:o.price,imageUrl:o.imageUrl||"",isAvailable:o.status,status:o.status,displayOrder:o.displayOrder,categoryId:s.data.categoryId,originalProductId:0}))||[],productId:void 0,name:void 0}}catch(n){throw N.error(" Kategori gncellenirken hata:",n),n}}async reorderCategories(t){try{const a={categoryOrders:t};N.info("Kategori sralama istei gnderiliyor",{payload:a,totalCategories:t.length});const n=await he.post(`${this.baseUrl}/Categories/reorder`,a);N.info("Kategori sralamas baaryla gncellendi",{updatedCategories:t.length,response:n.status})}catch(a){throw N.error(" Kategori sralamas gncellenirken hata:",a),a.response?.status===400?new Error("Geersiz kategori sralama verisi"):a.response?.status===404?new Error("Bir veya daha fazla kategori bulunamad"):new Error("Kategori sralamas kaydedilirken bir hata olutu")}}async reorderProducts(t){try{const a={productOrders:t};N.info("rn sralama istei gnderiliyor",{payload:a,totalProducts:t.length});const n=await he.post(`${this.baseUrl}/Products/reorder`,a);N.info("rn sralamas baaryla gncellendi",{updatedProducts:t.length,response:n.status})}catch(a){throw N.error(" rn sralamas gncellenirken hata:",a),a.response?.status===400?new Error("Geersiz rn sralama verisi"):a.response?.status===404?new Error("Bir veya daha fazla rn bulunamad"):new Error("rn sralamas kaydedilirken bir hata olutu")}}async addIngredientsToProduct(t,a){try{const n={productId:t,ingredients:a};N.info("rne malzemeler ekleniyor",{productId:t,ingredients:a,payload:n});const s=await he.post(`${this.baseUrl}/Products/ingredients/batch`,n);N.info("rn malzemeleri baaryla eklendi",{productId:t,ingredientCount:a.length,response:s.status})}catch(n){throw N.error(" rn malzemeleri eklenirken hata:",n),n}}async removeIngredientFromProduct(t,a){try{N.info("rn malzemesi siliniyor",{productId:t,ingredientId:a}),await he.delete(`${this.baseUrl}/Products/${t}/ingredients/${a}`),N.info("rn malzemesi baaryla silindi",{productId:t,ingredientId:a})}catch(n){throw N.error(" rn malzemesi silinirken hata:",n),n}}async getProductIngredients(t){try{N.info("rn malzemeleri getiriliyor",{productId:t});const a=await he.get(`${this.baseUrl}/Products/${t}/ingredients`);return N.info("rn malzemeleri baaryla getirildi",{productId:t,ingredientCount:a.data?.length||0}),a.data||[]}catch(a){throw N.error(" rn malzemeleri getirilirken hata:",a),a}}}const Fr=new gte,h3=({isOpen:e,onClose:t,onSuccess:a})=>{const{t:n,isRTL:s}=Ze(),[i,o]=p.useState({categoryName:"",status:!0}),[l,d]=p.useState(!1),[c,g]=p.useState({}),[h,x]=p.useState({}),b=()=>{const A={};return i.categoryName.trim()?i.categoryName.trim().length<2?A.categoryName=n("createCategoryModal.validation.nameMinLength"):i.categoryName.trim().length>50&&(A.categoryName=n("createCategoryModal.validation.nameMaxLength")):A.categoryName=n("createCategoryModal.form.categoryName.required"),g(A),Object.keys(A).length===0},v=(A,I)=>{o(_=>({..._,[A]:I})),c[A]&&g(_=>({..._,[A]:""}))},j=async()=>{if(b()){d(!0);try{const A={categoryName:i.categoryName.trim(),status:i.status};N.info("Kategori ekleme istei gnderiliyor",{payload:A});const I=await he.post("/api/categories",A);N.info("Kategori baaryla eklendi",{data:I.data}),a(),o({categoryName:"",status:!0}),g({}),t()}catch(A){if(N.error(" Kategori eklenirken hata:",A),N.error(" Kategori eklenirken detayl hata:",{message:A.message,response:A.response,status:A.response?.status,data:A.response?.data}),A.response?.data?.errors){const I=A.response.data.errors;g(I)}else if(A.response?.data?.message){const I=A.response.data.message;A.response?.status===400?I.toLowerCase().includes("already exists")||I.toLowerCase().includes("zaten mevcut")||I.toLowerCase().includes("duplicate")?g({categoryName:n("createCategoryModal.errors.categoryExists")}):I.toLowerCase().includes("invalid")||I.toLowerCase().includes("geersiz")?g({general:n("createCategoryModal.errors.invalidData")}):g({general:I||n("createCategoryModal.errors.general")}):A.response?.status===500?g({general:n("createCategoryModal.errors.serverError")}):g({general:I||n("createCategoryModal.errors.general")})}else A.message?.includes("network")||A.message?.includes("Network")?g({general:n("createCategoryModal.errors.networkError")}):g({general:n("createCategoryModal.errors.unknownError")})}finally{d(!1)}}},w=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),j())},S=i.categoryName.length,M=50,T=S>=2&&S<=M;return r.jsx(pr,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",dir:s?"rtl":"ltr",children:[r.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-gradient-to-br from-black/70 via-black/60 to-black/70 backdrop-blur-md",onClick:t}),r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs(ke.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{type:"spring",duration:.5,bounce:.3},className:"relative w-full max-w-lg",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/20 via-purple-500/20 to-pink-500/20 blur-3xl rounded-3xl"}),r.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-500 via-primary-600 to-purple-600"}),r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative px-8 py-8",children:[r.jsx("button",{onClick:t,type:"button",className:`absolute top-6 z-50 ${s?"left-6":"right-6"} p-2.5 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110 text-white`,"aria-label":n("createCategoryModal.accessibility.closeModal"),children:r.jsx(xt,{className:"w-5 h-5"})}),r.jsxs("div",{className:`flex items-start gap-4 ${s?"flex-row-reverse":""}`,children:[r.jsxs(ke.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.2,duration:.6},className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-white/30 blur-xl rounded-2xl"}),r.jsx("div",{className:"relative p-4 bg-white/20 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg",children:r.jsx(Ps,{className:"w-8 h-8 text-white"})})]}),r.jsxs("div",{className:"flex-1 pt-1",children:[r.jsx(ke.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl font-bold text-white mb-2",children:n("createCategoryModal.title")}),r.jsx(ke.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"text-white/80 text-sm leading-relaxed",children:n("createCategoryModal.subtitle")})]})]})]})]}),r.jsxs("div",{className:"p-8 space-y-6","aria-label":n("createCategoryModal.accessibility.formTitle"),children:[r.jsx(pr,{children:c.general&&r.jsxs(ke.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 to-red-600/10"}),r.jsx("div",{className:"relative p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl",children:r.jsxs("div",{className:`flex items-start gap-3 ${s?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"p-1.5 bg-red-100 dark:bg-red-800/30 rounded-lg",children:r.jsx(Nt,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-300 mb-1",children:n("createCategoryModal.errors.errorLabel")}),r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:c.general})]})]})})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{htmlFor:"categoryName",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 ${s?"flex-row-reverse":""}`,children:[r.jsx(fu,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),r.jsx("span",{children:n("createCategoryModal.form.categoryName.label")}),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",id:"categoryName",value:i.categoryName,onChange:A=>v("categoryName",A.target.value),onFocus:()=>x({...h,categoryName:!0}),onBlur:()=>x({...h,categoryName:!1}),onKeyPress:w,maxLength:M,className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${c.categoryName?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":h.categoryName?"border-primary-500 dark:border-primary-400 bg-primary-50/50 dark:bg-primary-900/10 focus:ring-4 focus:ring-primary-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400 dark:hover:border-gray-500"} focus:outline-none`,placeholder:n("createCategoryModal.form.categoryName.placeholder"),"aria-describedby":c.categoryName?"categoryName-error":void 0,"aria-required":"true"}),r.jsxs("div",{className:`absolute ${s?"left-4":"right-4"} top-1/2 -translate-y-1/2 flex items-center gap-2`,children:[i.categoryName&&T&&!c.categoryName&&r.jsx(ke.div,{initial:{scale:0},animate:{scale:1},className:"p-1 bg-emerald-100 dark:bg-emerald-900/30 rounded-full",children:r.jsx(Wl,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),r.jsxs("span",{className:`text-xs font-medium ${S>M?"text-red-600 dark:text-red-400":S>=M*.8?"text-yellow-600 dark:text-yellow-400":"text-gray-400 dark:text-gray-500"}`,children:[S,"/",M]})]})]}),r.jsx(pr,{children:c.categoryName&&r.jsxs(ke.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},id:"categoryName-error",className:`flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${s?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(Nt,{className:"w-4 h-4"}),c.categoryName]})})]}),r.jsx("div",{className:"relative rounded-2xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700/50 dark:to-gray-800/50 p-5 border border-gray-200 dark:border-gray-600",children:r.jsxs("label",{className:`flex items-center gap-4 cursor-pointer group ${s?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"checkbox",checked:i.status,onChange:A=>v("status",A.target.checked),className:"sr-only peer","aria-describedby":"status-description"}),r.jsx("div",{className:"w-14 h-7 bg-gray-300 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-emerald-500 peer-checked:to-emerald-600 shadow-inner"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white block mb-1",children:n("createCategoryModal.form.status.label")}),r.jsx("p",{id:"status-description",className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed",children:n("createCategoryModal.form.status.description")})]})]})}),r.jsxs("div",{className:`flex gap-3 pt-2 ${s?"flex-row-reverse":""}`,children:[r.jsx("button",{type:"button",onClick:t,disabled:l,className:"flex-1 px-6 py-4 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-xl font-semibold transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:n("createCategoryModal.buttons.cancel")}),r.jsxs("button",{type:"button",onClick:j,disabled:l||!i.categoryName.trim(),className:"flex-1 px-6 py-4 text-white bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed rounded-xl font-semibold transition-all duration-200 hover:scale-105 active:scale-95 hover:shadow-lg hover:shadow-primary-500/50 disabled:hover:shadow-none relative overflow-hidden group","aria-describedby":l?"submit-loading":void 0,children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),r.jsx("span",{className:`relative flex items-center justify-center gap-2 ${s?"flex-row-reverse":""}`,children:l?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"w-5 h-5 animate-spin"}),r.jsx("span",{id:"submit-loading",children:n("createCategoryModal.buttons.creating")})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ps,{className:"w-5 h-5"}),r.jsx("span",{children:n("createCategoryModal.buttons.create")})]})})]})]})]})]})]})})]})})},hte=({isOpen:e,onClose:t,onSuccess:a,categories:n,selectedCategoryId:s,onOpenIngredientSelection:i})=>{const{t:o,isRTL:l}=Ze(),[d,c]=p.useState({name:"",description:"",price:0,categoryId:0,isAvailable:!0,imageFile:null,imageUrl:""}),[g,h]=p.useState(!1),[x,b]=p.useState(!1),[v,j]=p.useState({}),[w,S]=p.useState(""),[M,T]=p.useState(!1),[A,I]=p.useState(""),_=p.useRef(null);p.useEffect(()=>{if(e){N.info("Modal ald",{selectedCategoryId:s,categoriesCount:n.length,categories:n.map(Y=>({id:Y.categoryId,name:Y.categoryName}))});let K=0;s&&n.find(Y=>Y.categoryId===s)?K=s:n.length>0&&(K=n[0].categoryId),c(Y=>({...Y,categoryId:K,imageUrl:"",imageFile:null})),S(""),j({})}},[e,s,n]);const D=()=>{const K={};d.name.trim()?d.name.trim().length<2?K.name=o("createProductModal.validation.nameMinLength"):d.name.trim().length>100&&(K.name=o("createProductModal.validation.nameMaxLength")):K.name=o("createProductModal.errors.nameRequired"),d.description.trim().length>500&&(K.description=o("createProductModal.validation.descriptionMaxLength")),d.price<=0?K.price=o("createProductModal.errors.priceMustBePositive"):d.price>=1e4&&(K.price=o("createProductModal.validation.priceMax"));const Y=typeof d.categoryId=="string"?parseInt(d.categoryId):d.categoryId;return!Y||Y===0?K.categoryId=o("createProductModal.errors.categoryRequired"):n.find(ne=>ne.categoryId===Y)||(K.categoryId=o("createProductModal.form.category.invalidCategory")||"Selected category is invalid"),j(K),Object.keys(K).length===0},E=(K,Y)=>{c(re=>({...re,[K]:Y})),v[K]&&j(re=>({...re,[K]:""}))},X=K=>{K.preventDefault(),K.stopPropagation(),K.type==="dragenter"||K.type==="dragover"?T(!0):K.type==="dragleave"&&T(!1)},ee=K=>{K.preventDefault(),K.stopPropagation(),T(!1);const Y=K.dataTransfer.files;Y&&Y[0]&&Z(Y[0])},Z=K=>{if(!K.type.startsWith("image/")){j(re=>({...re,image:o("createProductModal.errors.imageInvalid")}));return}if(K.size>5*1024*1024){j(re=>({...re,image:o("createProductModal.errors.imageTooLarge")}));return}c(re=>({...re,imageFile:K,imageUrl:""}));const Y=new FileReader;Y.onload=re=>{S(re.target?.result)},Y.readAsDataURL(K),j(re=>({...re,image:""}))},B=K=>{const Y=K.target.files?.[0];Y&&Z(Y)},G=async()=>{if(d.imageFile)try{b(!0),N.info("Grsel ykleniyor",{fileName:d.imageFile.name});const K=await Ki.uploadFile(d.imageFile);return N.info("Grsel baaryla yklendi",{imageUrl:K}),K}catch(K){return N.error(" Grsel yklenirken hata:",K),j(Y=>({...Y,image:o("createProductModal.errors.imageUploadFailed")})),AN}finally{b(!1)}return AN},J=async()=>{if(D()){h(!0);try{const K=await G(),Y=typeof d.categoryId=="string"?parseInt(d.categoryId):d.categoryId,re={name:d.name.trim(),description:d.description.trim(),price:d.price,categoryId:Y,status:d.isAvailable,displayOrder:0,imageUrl:K};N.info("rn ekleme istei gnderiliyor",{payload:re});const ne=await Fr.createProduct(re);N.info("rn baaryla eklendi",{data:ne}),i&&i(ne.id,ne.name),a(ne.id),c({name:"",description:"",price:0,categoryId:0,isAvailable:!0,imageFile:null,imageUrl:""}),j({}),S(""),_.current&&(_.current.value=""),t()}catch(K){if(N.error(" rn eklenirken hata:",K),K.response?.data?.errors)j(K.response.data.errors);else if(K.response?.data?.message){const Y=K.response.data.message;K.response?.status===400?j({general:Y||o("createProductModal.errors.general")}):K.response?.status===500?j({general:o("createProductModal.errors.serverError")}):j({general:Y||o("createProductModal.errors.general")})}else K.message?.includes("network")||K.message?.includes("Network")?j({general:o("createProductModal.errors.networkError")}):j({general:o("createProductModal.errors.unknownError")})}finally{h(!1)}}},ce=()=>{c(K=>({...K,imageFile:null,imageUrl:""})),S(""),_.current&&(_.current.value="")},te=d.name.trim()&&d.price>0&&d.categoryId>0;return r.jsx(pr,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",dir:l?"rtl":"ltr",children:[r.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-gradient-to-br from-black/70 via-black/60 to-black/70 backdrop-blur-md",onClick:t}),r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs(ke.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{type:"spring",duration:.5,bounce:.3},className:"relative w-full max-w-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 blur-3xl rounded-3xl"}),r.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"relative overflow-hidden flex-shrink-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 via-blue-600 to-purple-600"}),r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative px-8 py-6",children:[r.jsx("button",{onClick:t,type:"button",className:`absolute top-6 ${l?"left-6":"right-6"} p-2.5 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110 text-white z-10`,"aria-label":o("createProductModal.accessibility.closeModal"),children:r.jsx(xt,{className:"w-5 h-5"})}),r.jsxs("div",{className:`flex items-start gap-4 ${l?"flex-row-reverse":""}`,children:[r.jsxs(ke.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.2,duration:.6},className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-white/30 blur-xl rounded-2xl"}),r.jsx("div",{className:"relative p-4 bg-white/20 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg",children:r.jsx(Ut,{className:"w-8 h-8 text-white"})})]}),r.jsxs("div",{className:"flex-1 pt-1",children:[r.jsx(ke.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl font-bold text-white mb-2",children:o("createProductModal.title")}),r.jsx(ke.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"text-white/80 text-sm leading-relaxed",children:o("createProductModal.subtitle")})]})]})]})]}),r.jsxs("div",{className:"overflow-y-auto flex-1 p-8 space-y-6",children:[r.jsx(pr,{children:v.general&&r.jsxs(ke.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 to-red-600/10"}),r.jsx("div",{className:"relative p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl",children:r.jsxs("div",{className:`flex items-start gap-3 ${l?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"p-1.5 bg-red-100 dark:bg-red-800/30 rounded-lg",children:r.jsx(Nt,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-300 mb-1",children:o("createProductModal.errors.errorLabel")}),r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:v.general})]})]})})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 ${l?"flex-row-reverse":""}`,children:[r.jsx(u0,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("createProductModal.form.productImage.label")})]}),w?r.jsx(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative group",children:r.jsxs("div",{className:"relative rounded-2xl overflow-hidden",children:[r.jsx("img",{src:w,alt:o("createProductModal.imageUpload.preview"),className:"w-full h-56 object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsx("button",{type:"button",onClick:ce,className:`absolute top-4 ${l?"left-4":"right-4"} p-2.5 bg-red-600 hover:bg-red-700 text-white rounded-xl shadow-lg transition-all duration-200 transform hover:scale-110 opacity-0 group-hover:opacity-100`,"aria-label":o("createProductModal.accessibility.removeImage"),children:r.jsx(xt,{className:"w-4 h-4"})})]})}):r.jsx("div",{className:`relative border-2 border-dashed rounded-2xl p-8 text-center cursor-pointer transition-all duration-300 ${M?"border-blue-400 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/30 dark:to-blue-900/20 scale-105":v.image?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10":"border-gray-300 dark:border-gray-600 hover:border-blue-400 hover:bg-gradient-to-br hover:from-blue-50/50 hover:to-transparent dark:hover:from-blue-950/20"}`,onClick:()=>_.current?.click(),onDragEnter:X,onDragLeave:X,onDragOver:X,onDrop:ee,children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(ke.div,{animate:{y:M?-10:0,scale:M?1.1:1},className:`p-4 rounded-2xl ${M?"bg-blue-600 shadow-lg shadow-blue-500/50":"bg-gray-100 dark:bg-gray-700"}`,children:r.jsx(vo,{className:`h-10 w-10 ${M?"text-white":"text-gray-400 dark:text-gray-500"}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-base font-semibold text-gray-700 dark:text-gray-300 mb-1",children:o(M?"createProductModal.imageUpload.dragActive":"createProductModal.imageUpload.clickToUpload")}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[o("createProductModal.imageUpload.supportedFormats"),"  ",o("createProductModal.imageUpload.maxSize")]})]})]})}),r.jsx("input",{title:"image upload",ref:_,type:"file",accept:"image/*",onChange:B,className:"hidden"}),r.jsx(pr,{children:v.image&&r.jsxs(ke.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(Nt,{className:"w-4 h-4"}),v.image]})})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"name",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(fu,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("createProductModal.form.productName.label")}),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",id:"name",value:d.name,onChange:K=>E("name",K.target.value),onFocus:()=>I("name"),onBlur:()=>I(""),maxLength:100,className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${v.name?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":A==="name"?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-900/10 focus:ring-4 focus:ring-blue-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400"} focus:outline-none`,placeholder:o("createProductModal.form.productName.placeholder"),"aria-required":"true"}),r.jsxs("div",{className:`absolute ${l?"left-4":"right-4"} top-1/2 -translate-y-1/2 flex items-center gap-2`,children:[d.name&&d.name.length>=2&&!v.name&&r.jsx(ke.div,{initial:{scale:0},animate:{scale:1},children:r.jsx(Wl,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),r.jsxs("span",{className:"text-xs text-gray-400",children:[d.name.length,"/100"]})]})]}),r.jsx(pr,{children:v.name&&r.jsxs(ke.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(Nt,{className:"w-4 h-4"}),v.name]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"price",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(qr,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("createProductModal.form.price.label")}),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",id:"price",value:d.price||"",onChange:K=>{const Y=K.target.value;if(Y==="")E("price",0);else{const re=parseFloat(Y);isNaN(re)||E("price",re)}},onFocus:()=>I("price"),onBlur:()=>I(""),step:"0.01",min:"0",className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${v.price?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":A==="price"?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-900/10 focus:ring-4 focus:ring-blue-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400"} focus:outline-none ${l?"pl-12":"pr-12"}`,placeholder:"0.00","aria-required":"true"}),r.jsx("div",{className:`absolute ${l?"left-4":"right-4"} top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 font-medium`,children:o("createProductModal.form.price.currency")})]}),r.jsx(pr,{children:v.price&&r.jsxs(ke.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(Nt,{className:"w-4 h-4"}),v.price]})})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"categoryId",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(Ps,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("createProductModal.form.category.label")}),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{id:"categoryId",value:d.categoryId,onChange:K=>{const Y=parseInt(K.target.value)||0;E("categoryId",Y)},onFocus:()=>I("categoryId"),onBlur:()=>I(""),className:`w-full ${l?"pr-5 pl-12":"pl-5 pr-12"} py-4 border-2 rounded-2xl transition-all duration-300 text-gray-900 dark:text-white appearance-none ${v.categoryId?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":A==="categoryId"?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-900/10 focus:ring-4 focus:ring-blue-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400"} focus:outline-none ${l?"text-right":"text-left"}`,dir:l?"rtl":"ltr","aria-required":"true",children:[r.jsx("option",{value:"0",children:o("createProductModal.form.category.placeholder")}),n.map(K=>r.jsx("option",{value:K.categoryId,children:K.categoryName},K.categoryId))]}),r.jsx("div",{className:`absolute inset-y-0 ${l?"left-0 pl-3":"right-0 pr-3"} flex items-center pointer-events-none`,children:r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),r.jsx(pr,{children:v.categoryId&&r.jsxs(ke.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(Nt,{className:"w-4 h-4"}),v.categoryId]})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"description",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(vn,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("createProductModal.form.description.label")})]}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{id:"description",value:d.description,onChange:K=>E("description",K.target.value),onFocus:()=>I("description"),onBlur:()=>I(""),maxLength:500,rows:3,className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 resize-none text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${v.description?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":A==="description"?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-900/10 focus:ring-4 focus:ring-blue-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400"} focus:outline-none`,placeholder:o("createProductModal.form.description.placeholder")}),r.jsxs("div",{className:`absolute ${l?"left-4":"right-4"} bottom-3 text-xs text-gray-400`,children:[d.description.length,"/500"]})]}),r.jsx(pr,{children:v.description&&r.jsxs(ke.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(Nt,{className:"w-4 h-4"}),v.description]})})]}),r.jsx("div",{className:"rounded-2xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700/50 dark:to-gray-800/50 p-5 border border-gray-200 dark:border-gray-600",children:r.jsxs("label",{className:`flex items-center gap-4 cursor-pointer group ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"checkbox",checked:d.isAvailable,onChange:K=>E("isAvailable",K.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-14 h-7 bg-gray-300 dark:bg-gray-600 peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-emerald-500 peer-checked:to-emerald-600 shadow-inner"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white block mb-1",children:o("createProductModal.form.status.label")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed",children:o("createProductModal.form.status.description")})]})]})})]}),r.jsx("div",{className:"flex-shrink-0 px-8 py-6 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:`flex gap-3 ${l?"flex-row-reverse":""}`,children:[r.jsx("button",{type:"button",onClick:t,disabled:g||x,className:"flex-1 px-6 py-4 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl font-semibold transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed border border-gray-300 dark:border-gray-600",children:o("createProductModal.buttons.cancel")}),r.jsxs("button",{type:"button",onClick:J,disabled:g||x||!te,className:"flex-1 px-6 py-4 text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed rounded-xl font-semibold transition-all duration-200 hover:scale-105 active:scale-95 hover:shadow-lg hover:shadow-blue-500/50 disabled:hover:shadow-none relative overflow-hidden group",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),r.jsx("span",{className:`relative flex items-center justify-center gap-2 ${l?"flex-row-reverse":""}`,children:g||x?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"w-5 h-5 animate-spin"}),r.jsx("span",{children:o(x?"createProductModal.buttons.uploading":"createProductModal.buttons.creating")})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ut,{className:"w-5 h-5"}),r.jsx("span",{children:o("createProductModal.buttons.create")})]})})]})]})})]})]})})]})})},fte=({product:e,onEdit:t,onDelete:a,onOpenAddonsManagement:n,onOpenProductExtras:s,isNew:i})=>{const{t:o,isRTL:l}=Ze(),[d,c]=p.useState(!1),[g,h]=p.useState([]),[x,b]=p.useState(!1),[v,j]=p.useState(null),[w,S]=p.useState([]),[M,T]=p.useState(!1),[A,I]=p.useState(null),{attributes:_,listeners:D,setNodeRef:E,transform:X,transition:ee,isDragging:Z}=vb({id:e.id}),B={transform:jo.Transform.toString(X),transition:ee,opacity:Z?.5:1},G=e.imageUrl&&e.imageUrl!=="string"&&e.imageUrl.trim()!==""&&!d;return p.useEffect(()=>{(async()=>{b(!0),T(!0),j(null),I(null);try{const ce=await Fr.getProductIngredients(e.id);h(ce),N.info("rn malzemeleri yklendi",{productId:e.id,ingredientCount:ce.length})}catch(ce){N.error("Malzemeler yklenirken hata:",ce),j(o("SortableProduct.errors.loadingIngredients"))}finally{b(!1)}try{const ce=await Il.getProductAddons(e.id);S(ce),N.info("rn eklentileri yklendi",{productId:e.id,addonCount:ce.length})}catch(ce){N.error("Eklentiler yklenirken hata:",ce),I(o("SortableProduct.errors.loadingAddons"))}finally{T(!1)}})()},[e.id,o]),r.jsxs("div",{ref:E,style:B,"data-product-id":e.id,className:`group relative bg-white dark:bg-gray-800 rounded-2xl overflow-hidden transition-all duration-300 ${Z?"shadow-2xl shadow-primary-500/20 ring-2 ring-primary-500 scale-105":i?"shadow-xl shadow-primary-500/30 border-2 border-primary-400 dark:border-primary-500 ring-4 ring-primary-200 dark:ring-primary-800":"shadow-sm hover:shadow-xl border border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-600"}`,role:"article","aria-label":o("SortableProduct.accessibility.productCard"),children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-primary-500 via-purple-500 to-pink-500"}),r.jsxs("div",{className:`flex items-start gap-5 p-5 ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"relative flex-shrink-0",children:[G?r.jsxs("div",{className:"relative group/image",children:[r.jsx("img",{src:e.imageUrl,alt:`${o("SortableProduct.accessibility.productImage")} - ${e.name}`,className:"w-24 h-24 rounded-xl object-cover bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 ring-2 ring-gray-200 dark:ring-gray-700 group-hover/image:ring-primary-300 dark:group-hover/image:ring-primary-600 transition-all duration-300",onError:()=>c(!0),loading:"lazy"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent rounded-xl opacity-0 group-hover/image:opacity-100 transition-opacity duration-300"})]}):r.jsx("div",{className:"w-24 h-24 rounded-xl bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center ring-2 ring-gray-200 dark:ring-gray-700 group-hover:ring-primary-300 dark:group-hover:ring-primary-600 transition-all duration-300",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-primary-500/10 blur-xl rounded-full"}),r.jsx(Ar,{className:"relative h-10 w-10 text-gray-400 dark:text-gray-500"})]})}),r.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-gradient-to-br from-primary-500 to-primary-600 text-white text-xs font-bold px-2.5 py-1 rounded-lg shadow-lg",children:["#",e.displayOrder]})]}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("div",{className:`flex items-start gap-3 ${l?"flex-row-reverse":""}`,children:[r.jsx("button",{..._,...D,className:"mt-1 p-2 text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-lg cursor-grab active:cursor-grabbing transition-all duration-200 hover:scale-110","aria-label":o("SortableProduct.accessibility.dragHandle"),title:o("SortableProduct.dragProduct"),children:r.jsx(Ky,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[r.jsxs("div",{className:`flex items-start gap-2 ${l?"flex-row-reverse":""}`,children:[r.jsx("h4",{className:"flex-1 font-semibold text-lg text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:e.name}),i&&r.jsxs("div",{className:"flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-bold bg-gradient-to-r from-primary-500 to-purple-500 text-white shadow-lg animate-bounce",children:[r.jsx(Ps,{className:"w-3 h-3"}),r.jsx("span",{children:"NEW!"})]})]}),e.description&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed line-clamp-2",children:e.description}),r.jsx("div",{className:"space-y-2",children:x?r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/30 px-3 py-2 rounded-lg",children:[r.jsx(mt,{className:"h-4 w-4 animate-spin text-primary-500"}),r.jsx("span",{children:o("SortableProduct.loadingIngredients")})]}):v?r.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 px-3 py-2 rounded-lg border border-red-200 dark:border-red-800",children:[r.jsx(Nt,{className:"h-4 w-4"}),r.jsx("span",{children:v})]}):g.length>0?r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/10 dark:to-amber-900/10 px-3 py-2.5 rounded-xl border border-orange-200 dark:border-orange-800",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(wm,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"}),r.jsx("span",{className:"text-xs font-semibold text-orange-700 dark:text-orange-300 uppercase tracking-wide",children:o("SortableProduct.ingredients")}),r.jsx("span",{className:"text-xs text-orange-600 dark:text-orange-400 bg-orange-200 dark:bg-orange-800/50 px-2 py-0.5 rounded-full",children:g.length})]}),r.jsx("div",{className:`flex flex-wrap gap-1.5 ${l?"justify-end":""}`,children:g.map(J=>r.jsxs("span",{className:`inline-flex items-center gap-1 text-xs bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-2.5 py-1 rounded-lg border ${J.isAllergenic?"border-yellow-300 dark:border-yellow-700 ring-1 ring-yellow-200 dark:ring-yellow-800":"border-orange-200 dark:border-orange-800"}`,children:[J.ingredientName,J.isAllergenic&&r.jsx("span",{title:"Allergen",children:r.jsx(Nt,{className:"h-3 w-3 text-yellow-500 dark:text-yellow-400","aria-label":o("SortableProduct.accessibility.allergenWarning")})})]},J.id))})]}):r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/30 px-3 py-2 rounded-lg",children:[r.jsx(wm,{className:"h-3.5 w-3.5 opacity-50"}),r.jsx("span",{children:o("SortableProduct.noIngredients")})]})}),r.jsx("div",{className:"space-y-2",children:M?r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/30 px-3 py-2 rounded-lg",children:[r.jsx(mt,{className:"h-4 w-4 animate-spin text-primary-500"}),r.jsx("span",{children:o("SortableProduct.loadingAddons")})]}):A?r.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 px-3 py-2 rounded-lg border border-red-200 dark:border-red-800",children:[r.jsx(Nt,{className:"h-4 w-4"}),r.jsx("span",{children:A})]}):w.length>0?r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/10 dark:to-indigo-900/10 px-3 py-2.5 rounded-xl border border-blue-200 dark:border-blue-800",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(Ut,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{className:"text-xs font-semibold text-blue-700 dark:text-blue-300 uppercase tracking-wide",children:o("SortableProduct.addons")}),r.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-200 dark:bg-blue-800/50 px-2 py-0.5 rounded-full",children:w.length})]}),r.jsx("div",{className:`flex flex-wrap gap-1.5 ${l?"justify-end":""}`,children:w.map(J=>r.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-2.5 py-1 rounded-lg border border-blue-200 dark:border-blue-800",children:[J.addonProduct?.name||`Product ${J.addonProductId}`,J.isRecommended&&r.jsx("span",{title:o("SortableProduct.recommended"),children:r.jsx(Ps,{className:"h-3 w-3 text-yellow-500","aria-label":o("SortableProduct.accessibility.recommendedAddon")})})]},J.id))})]}):r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/30 px-3 py-2 rounded-lg",children:[r.jsx(Ut,{className:"h-3.5 w-3.5 opacity-50"}),r.jsx("span",{children:o("SortableProduct.noAddons")})]})}),r.jsxs("div",{className:`flex items-center justify-between pt-3 border-t border-gray-100 dark:border-gray-700 ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-primary-800 dark:from-primary-400 dark:to-primary-600 bg-clip-text text-transparent",children:e.price.toFixed(2)}),r.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:""})]}),r.jsxs("div",{className:`flex items-center gap-1 bg-gray-100 dark:bg-gray-700/50 rounded-xl p-1 ${l?"flex-row-reverse":""}`,children:[n&&r.jsx("button",{onClick:()=>n(e.id,e.name),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-emerald-600 dark:hover:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-all duration-200 hover:scale-110",title:o("SortableProduct.manageAddons"),"aria-label":o("SortableProduct.accessibility.addonsButton"),children:r.jsx(Ut,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>t(e.id),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-lg transition-all duration-200 hover:scale-110",title:o("SortableProduct.editProduct"),"aria-label":o("SortableProduct.accessibility.editButton"),children:r.jsx(bo,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>s(e.id,e.name),className:"p-2 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded-lg transition-colors",title:o("productsContent.actions.manageExtras"),children:r.jsx(hu,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>a(e.id),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200 hover:scale-110",title:o("SortableProduct.deleteProduct"),"aria-label":o("SortableProduct.accessibility.deleteButton"),children:r.jsx(wr,{className:"h-4 w-4"})})]})]})]})]})})]})]})},pte=({category:e,isDark:t,onToggle:a,onEditProduct:n,onDeleteProduct:s,onEditCategory:i,onDeleteCategory:o,isReorderingProducts:l=!1,onOpenAddonsManagement:d,viewMode:c="list",onOpenProductExtras:g,newlyCreatedProductId:h})=>{const{t:x,isRTL:b}=Ze(),{attributes:v,listeners:j,setNodeRef:w,transform:S,transition:M,isDragging:T}=vb({id:e.categoryId}),A={transform:jo.Transform.toString(S),transition:M,opacity:T?.5:1},I=({product:_,isNew:D})=>{const E=_.imageUrl&&_.imageUrl!=="string"&&_.imageUrl.trim()!=="";return r.jsxs("div",{"data-product-id":_.id,className:`group relative bg-white dark:bg-gray-800 rounded-2xl overflow-hidden border transition-all duration-300 hover:shadow-2xl hover:shadow-primary-500/10 hover:-translate-y-1 ${D?"border-2 border-primary-400 dark:border-primary-500 ring-4 ring-primary-200 dark:ring-primary-800 shadow-xl shadow-primary-500/30":"border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-600"}`,children:[r.jsxs("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800",children:[E?r.jsx("img",{src:_.imageUrl,alt:_.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-primary-500/20 blur-2xl rounded-full"}),r.jsx(Ar,{className:"relative h-16 w-16 text-gray-400 dark:text-gray-500"})]})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),D&&r.jsx("div",{className:"absolute top-3 left-3 z-10",children:r.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold bg-gradient-to-r from-primary-500 to-purple-500 text-white shadow-lg animate-bounce",children:[r.jsx(Ps,{className:"w-3 h-3"}),r.jsx("span",{children:"NEW!"})]})}),r.jsx("div",{className:"absolute top-3 right-3 z-10",children:r.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium backdrop-blur-md border transition-all duration-200 ${_.isAvailable?"bg-emerald-500/90 border-emerald-400/50 text-white shadow-lg shadow-emerald-500/25":"bg-gray-500/90 border-gray-400/50 text-white shadow-lg shadow-gray-500/25"}`,children:[_.isAvailable?r.jsx(Ya,{className:"w-3 h-3"}):r.jsx(Cs,{className:"w-3 h-3"}),r.jsx("span",{children:_.isAvailable?x("SortableCategory.status.active")||"Active":x("status.inactive")||"Inactive"})]})}),r.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-all duration-300",children:[r.jsx("button",{onClick:()=>n(_.id),className:"p-3 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-200 backdrop-blur-sm",title:x("SortableCategory.editProduct")||"Edit Product",children:r.jsx(bo,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>g(_.id,_.name),className:"p-3 bg-white dark:bg-purple-900 text-gray-700 dark:text-gray-300   shadow-lg hover:shadow-xl transform hover:scale-110  duration-200  rounded-lg  transition-all",title:x("productsContent.actions.manageExtras"),children:r.jsx(hu,{className:"h-4 w-4"})}),d&&r.jsx("button",{onClick:()=>d(_.id,_.name),className:"p-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-200",title:x("SortableCategory.manageAddons")||"Manage Addons",children:r.jsx(Ut,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>s(_.id),className:"p-3 bg-red-600 hover:bg-red-700 text-white rounded-xl shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-200",title:x("SortableCategory.deleteProduct")||"Delete Product",children:r.jsx(wr,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"absolute bottom-3 left-3 bg-black/50 backdrop-blur-md text-white text-xs px-2.5 py-1 rounded-full border border-white/20",children:["#",_.displayOrder]})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2 truncate text-lg group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:_.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2 leading-relaxed",children:_.description}),r.jsx("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100 dark:border-gray-700",children:r.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary-600 to-primary-800 dark:from-primary-400 dark:to-primary-600 bg-clip-text text-transparent",children:x("productsContent.currency.format",{amount:_.price.toFixed(2)})})})]})]})};return r.jsxs("div",{ref:w,style:A,className:`group relative bg-white dark:bg-gray-800 rounded-2xl overflow-hidden transition-all duration-300 ${T?"shadow-2xl shadow-primary-500/25 ring-2 ring-primary-500 scale-105":"shadow-md hover:shadow-xl border border-gray-200 dark:border-gray-700"} ${b?"text-right":"text-left"}`,role:"article","aria-label":x("SortableCategory.accessibility.categoryCard"),children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary-500 via-purple-500 to-pink-500"}),r.jsxs("div",{className:"relative p-6 bg-gradient-to-br from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-primary-500/5 to-purple-500/5 rounded-full blur-3xl -z-0"}),r.jsxs("div",{className:`relative flex items-center justify-between ${b?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-4 flex-1 ${b?"flex-row-reverse":""}`,children:[c==="list"&&r.jsx("button",{...v,...j,className:"p-2.5 text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-xl cursor-grab active:cursor-grabbing transition-all duration-200 hover:scale-110","aria-label":x("SortableCategory.accessibility.dragHandle"),title:x("SortableCategory.dragCategory"),children:r.jsx(Ky,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:`flex items-center gap-3 mb-1 ${b?"flex-row-reverse":""}`,children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.categoryName,e.products.length>0&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 rounded-full",children:[r.jsx(Ps,{className:"w-3 h-3"}),e.products.length]})]}),l&&r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-primary-100 dark:bg-primary-900/30 rounded-full",children:[r.jsx(mt,{className:"w-3.5 h-3.5 animate-spin text-primary-600 dark:text-primary-400"}),r.jsx("span",{className:"text-xs font-medium text-primary-700 dark:text-primary-300",children:x("SortableCategory.reorderingProducts")||"Reordering..."})]})]}),e.description&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:e.description})]})]}),r.jsxs("div",{className:`flex items-center gap-2 ${b?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-1 bg-gray-100 dark:bg-gray-700/50 rounded-xl p-1 ${b?"flex-row-reverse":""}`,children:[r.jsx("button",{onClick:()=>i(e.categoryId),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-white dark:hover:bg-gray-600 rounded-lg transition-all duration-200",title:x("SortableCategory.editCategory"),disabled:l,children:r.jsx(bo,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>o(e.categoryId),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-white dark:hover:bg-gray-600 rounded-lg transition-all duration-200",title:x("SortableCategory.deleteCategory"),disabled:l,children:r.jsx(wr,{className:"h-4 w-4"})})]}),c==="list"&&r.jsx("button",{onClick:()=>a(e.categoryId),className:`p-2.5 rounded-xl transition-all duration-200 ${e.isExpanded?"bg-primary-600 text-white shadow-lg shadow-primary-500/25":"bg-gray-100 dark:bg-gray-700/50 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,disabled:l,title:e.isExpanded?x("SortableCategory.collapseCategory"):x("SortableCategory.expandCategory"),children:e.isExpanded?r.jsx(Hn,{className:`h-5 w-5 transition-transform duration-200 ${b?"rotate-180":""} ${e.isExpanded?"text-white":"text-gray-600 dark:text-gray-400"}`}):r.jsx(Rr,{className:`h-5 w-5 transition-transform duration-200 ${b?"rotate-180":""} ${e.isExpanded?"text-white":"text-gray-600 dark:text-gray-400"}`})})]})]})]}),c==="list"?e.isExpanded&&r.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-900/30",children:r.jsx(bb,{items:e.products.map(_=>_.id),strategy:yb,children:r.jsxs("div",{className:`space-y-3 ${l?"opacity-70 pointer-events-none":""}`,children:[e.products.map(_=>r.jsx(fte,{product:_,isDark:t,onEdit:n,onOpenProductExtras:g,onDelete:s,onOpenAddonsManagement:d,isNew:h===_.id},_.id)),e.products.length===0&&r.jsxs("div",{className:"text-center py-16",children:[r.jsxs("div",{className:"relative inline-block",children:[r.jsx("div",{className:"absolute inset-0 bg-primary-500/10 blur-2xl rounded-full"}),r.jsx(Ar,{className:"relative h-16 w-16 mx-auto mb-4 text-gray-300 dark:text-gray-600"})]}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium mb-1",children:x("SortableCategory.noCategoryProducts")||"No products yet"}),r.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Add your first product to get started"})]})]})})}):r.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-900/30",children:e.products.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.products.map(_=>r.jsx(I,{product:_,isNew:h===_.id},_.id))}):r.jsxs("div",{className:"text-center py-16",children:[r.jsxs("div",{className:"relative inline-block",children:[r.jsx("div",{className:"absolute inset-0 bg-primary-500/10 blur-2xl rounded-full"}),r.jsx(Ar,{className:"relative h-16 w-16 mx-auto mb-4 text-gray-300 dark:text-gray-600"})]}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium mb-1",children:x("SortableCategory.noCategoryProducts")||"No products yet"}),r.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Add your first product to get started"})]})})]})},xte=({isOpen:e,onClose:t,onSuccess:a,category:n})=>{const{t:s,isRTL:i}=Ze(),[o,l]=p.useState({categoryName:n.categoryName,description:n.description||"",status:n.status}),[d,c]=p.useState(!1),[g,h]=p.useState(null),[x,b]=p.useState(""),v=async()=>{if(o.categoryName.trim()){c(!0),h(null);try{await Fr.updateCategory(n.categoryId,{categoryName:o.categoryName,description:o.description,status:o.status}),N.info("Kategori baaryla gncellendi",{categoryId:n.categoryId}),a(),t()}catch(I){N.error("Kategori gncelleme hatas:",I),h(s("editCategoryModal.errors.updateFailed"))}finally{c(!1)}}},j=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),v())},w=o.categoryName.length,S=o.description.length,M=50,T=200,A=w>=2&&w<=M;return r.jsx(pr,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",dir:i?"rtl":"ltr",children:[r.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-gradient-to-br from-black/70 via-black/60 to-black/70 backdrop-blur-md",onClick:t}),r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs(ke.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{type:"spring",duration:.5,bounce:.3},className:"relative w-full max-w-lg",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/20 via-purple-500/20 to-pink-500/20 blur-3xl rounded-3xl"}),r.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-500 via-primary-600 to-purple-600"}),r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative px-8 py-8",children:[r.jsx("button",{onClick:t,type:"button",className:`absolute top-6 z-50 ${i?"left-6":"right-6"} p-2.5 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110 text-white`,"aria-label":s("editCategoryModal.accessibility.closeModal"),children:r.jsx(xt,{className:"w-5 h-5"})}),r.jsxs("div",{className:`flex items-start gap-4 ${i?"flex-row-reverse":""}`,children:[r.jsxs(ke.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.2,duration:.6},className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-white/30 blur-xl rounded-2xl"}),r.jsx("div",{className:"relative p-4 bg-white/20 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg",children:r.jsx(qs,{className:"w-8 h-8 text-white"})})]}),r.jsxs("div",{className:"flex-1 pt-1",children:[r.jsx(ke.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl font-bold text-white mb-2",children:s("editCategoryModal.title")}),r.jsx(ke.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"text-white/80 text-sm leading-relaxed",children:s("editCategoryModal.subtitle")||"Update category information"})]})]})]})]}),r.jsxs("div",{className:"p-8 space-y-6","aria-label":s("editCategoryModal.accessibility.formTitle"),children:[r.jsx(pr,{children:g&&r.jsxs(ke.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 to-red-600/10"}),r.jsx("div",{className:"relative p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl",children:r.jsxs("div",{className:`flex items-start gap-3 ${i?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"p-1.5 bg-red-100 dark:bg-red-800/30 rounded-lg",children:r.jsx(Nt,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-300 mb-1",children:s("editCategoryModal.errors.errorLabel")||"Error"}),r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:g})]})]})})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{htmlFor:"categoryName",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 ${i?"flex-row-reverse":""}`,children:[r.jsx(fu,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),r.jsx("span",{children:s("editCategoryModal.form.categoryName.label")}),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",id:"categoryName",value:o.categoryName,onChange:I=>l({...o,categoryName:I.target.value}),onFocus:()=>b("categoryName"),onBlur:()=>b(""),onKeyPress:j,maxLength:M,className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${x==="categoryName"?"border-primary-500 dark:border-primary-400 bg-primary-50/50 dark:bg-primary-900/10 focus:ring-4 focus:ring-primary-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400 dark:hover:border-gray-500"} focus:outline-none`,placeholder:s("editCategoryModal.form.categoryName.placeholder"),"aria-required":"true"}),r.jsxs("div",{className:`absolute ${i?"left-4":"right-4"} top-1/2 -translate-y-1/2 flex items-center gap-2`,children:[o.categoryName&&A&&r.jsx(ke.div,{initial:{scale:0},animate:{scale:1},className:"p-1 bg-emerald-100 dark:bg-emerald-900/30 rounded-full",children:r.jsx(Wl,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),r.jsxs("span",{className:`text-xs font-medium ${w>M?"text-red-600 dark:text-red-400":w>=M*.8?"text-yellow-600 dark:text-yellow-400":"text-gray-400 dark:text-gray-500"}`,children:[w,"/",M]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{htmlFor:"description",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 ${i?"flex-row-reverse":""}`,children:[r.jsx(vn,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),r.jsx("span",{children:s("editCategoryModal.form.description.label")})]}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{id:"description",value:o.description,onChange:I=>l({...o,description:I.target.value}),onFocus:()=>b("description"),onBlur:()=>b(""),maxLength:T,rows:4,className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 resize-none text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${x==="description"?"border-primary-500 dark:border-primary-400 bg-primary-50/50 dark:bg-primary-900/10 focus:ring-4 focus:ring-primary-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400 dark:hover:border-gray-500"} focus:outline-none`,placeholder:s("editCategoryModal.form.description.placeholder")}),r.jsxs("div",{className:`absolute ${i?"left-4":"right-4"} bottom-3 text-xs text-gray-400`,children:[S,"/",T]})]})]}),r.jsx("div",{className:"relative rounded-2xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700/50 dark:to-gray-800/50 p-5 border border-gray-200 dark:border-gray-600",children:r.jsxs("label",{className:`flex items-center gap-4 cursor-pointer group ${i?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"checkbox",checked:o.status,onChange:I=>l({...o,status:I.target.checked}),className:"sr-only peer","aria-describedby":"status-description"}),r.jsx("div",{className:"w-14 h-7 bg-gray-300 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-emerald-500 peer-checked:to-emerald-600 shadow-inner"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white block mb-1",children:s("editCategoryModal.form.status.label")}),r.jsx("p",{id:"status-description",className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed",children:s("editCategoryModal.form.status.description")})]})]})}),r.jsxs("div",{className:`flex gap-3 pt-2 ${i?"flex-row-reverse":""}`,children:[r.jsx("button",{type:"button",onClick:t,disabled:d,className:"flex-1 px-6 py-4 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-xl font-semibold transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:s("editCategoryModal.buttons.cancel")}),r.jsxs("button",{type:"button",onClick:v,disabled:d||!o.categoryName.trim(),className:"flex-1 px-6 py-4 text-white bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed rounded-xl font-semibold transition-all duration-200 hover:scale-105 active:scale-95 hover:shadow-lg hover:shadow-primary-500/50 disabled:hover:shadow-none relative overflow-hidden group","aria-describedby":d?"submit-loading":void 0,children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),r.jsx("span",{className:`relative flex items-center justify-center gap-2 ${i?"flex-row-reverse":""}`,children:d?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"w-5 h-5 animate-spin"}),r.jsx("span",{id:"submit-loading",children:s("editCategoryModal.buttons.saving")})]}):r.jsxs(r.Fragment,{children:[r.jsx(Wl,{className:"w-5 h-5"}),r.jsx("span",{children:s("editCategoryModal.buttons.save")})]})})]})]})]})]})]})})]})})},yte=({isOpen:e,onClose:t,onSuccess:a,product:n,categories:s,onOpenIngredientUpdate:i})=>{const{t:o,isRTL:l}=Ze(),[d,c]=p.useState({name:n.name,description:n.description||"",price:n.price,categoryId:n.categoryId,isAvailable:n.isAvailable,imageUrl:n.imageUrl||"",imageFile:null}),[g,h]=p.useState(!1),[x,b]=p.useState(!1),[v,j]=p.useState(null),[w,S]=p.useState({}),[M,T]=p.useState(""),[A,I]=p.useState(!1),[_,D]=p.useState(""),E=p.useRef(null);p.useEffect(()=>{e&&n.imageUrl&&n.imageUrl!=="string"&&n.imageUrl.trim()!==""?T(n.imageUrl):T("")},[e,n.imageUrl]);const X=(F,$)=>{c(q=>({...q,[F]:$})),w[F]&&S(q=>({...q,[F]:""}))},ee=F=>{F.preventDefault(),F.stopPropagation(),F.type==="dragenter"||F.type==="dragover"?I(!0):F.type==="dragleave"&&I(!1)},Z=F=>{F.preventDefault(),F.stopPropagation(),I(!1);const $=F.dataTransfer.files;$&&$[0]&&B($[0])},B=F=>{if(!F.type.startsWith("image/")){S(q=>({...q,image:o("editProductModal.errors.imageInvalid")}));return}if(F.size>5*1024*1024){S(q=>({...q,image:o("editProductModal.errors.imageTooLarge")}));return}c(q=>({...q,imageFile:F}));const $=new FileReader;$.onload=q=>{T(q.target?.result)},$.readAsDataURL(F),S(q=>({...q,image:""}))},G=F=>{const $=F.target.files?.[0];$&&B($)},J=async()=>{if(!d.imageFile)return null;try{b(!0),N.info("Grsel ykleniyor",{fileName:d.imageFile.name});const F=await Ki.uploadFile(d.imageFile);return N.info("Grsel baaryla yklendi",{imageUrl:F}),F}catch(F){return N.error(" Grsel yklenirken hata:",F),S($=>({...$,image:o("editProductModal.errors.imageUploadFailed")})),null}finally{b(!1)}},ce=()=>{c(F=>({...F,imageFile:null,imageUrl:""})),T(""),E.current&&(E.current.value="")},te=async()=>{h(!0),j(null),S({});try{let F=d.imageUrl;if(d.imageFile){const H=await J();if(!H)return;F=H}const $={name:d.name,description:d.description,price:d.price,categoryId:d.categoryId,isAvailable:d.isAvailable,imageUrl:F},q=await Fr.updateProduct(n.id,$);N.info("rn baaryla gncellendi",{productId:n.id,updatedProductId:q.id}),i&&i(n.id,n.name),a(),t()}catch(F){if(N.error("rn gncelleme hatas:",F),F.response?.data?.errors)S(F.response.data.errors);else if(F.response?.data?.message){const $=F.response.data.message;F.response?.status===400?$.toLowerCase().includes("already exists")||$.toLowerCase().includes("zaten mevcut")||$.toLowerCase().includes("duplicate")?S({name:o("editProductModal.errors.nameAlreadyExists")}):j($||o("editProductModal.errors.updateFailed")):F.response?.status===404?j(o("editProductModal.errors.productNotFound")):F.response?.status===403?j(o("editProductModal.errors.permissionDenied")):F.response?.status>=500?j(o("editProductModal.errors.serverError")):j($||o("editProductModal.errors.updateFailed"))}else F.code==="NETWORK_ERROR"||!F.response?j(o("editProductModal.errors.networkError")):j(o("editProductModal.errors.updateFailed"))}finally{h(!1)}},K=d.name.length,Y=d.description.length,re=100,ne=500,z=K>=2&&K<=re,V=d.name.trim()&&d.price>0&&d.categoryId;return r.jsx(pr,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",dir:l?"rtl":"ltr",children:[r.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-gradient-to-br from-black/70 via-black/60 to-black/70 backdrop-blur-md",onClick:t}),r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs(ke.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{type:"spring",duration:.5,bounce:.3},className:"relative w-full max-w-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 blur-3xl rounded-3xl"}),r.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"relative overflow-hidden flex-shrink-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 via-blue-600 to-purple-600"}),r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative px-8 py-6",children:[r.jsx("button",{onClick:t,type:"button",className:`absolute top-6 ${l?"left-6":"right-6"} p-2.5 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110 text-white z-10`,children:r.jsx(xt,{className:"w-5 h-5"})}),r.jsxs("div",{className:`flex items-start gap-4 ${l?"flex-row-reverse":""}`,children:[r.jsxs(ke.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.2,duration:.6},className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-white/30 blur-xl rounded-2xl"}),r.jsx("div",{className:"relative p-4 bg-white/20 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg",children:r.jsx(qs,{className:"w-8 h-8 text-white"})})]}),r.jsxs("div",{className:"flex-1 pt-1",children:[r.jsx(ke.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl font-bold text-white mb-2",children:o("editProductModal.title")}),r.jsx(ke.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"text-white/80 text-sm leading-relaxed",children:o("editProductModal.subtitle")||"Update product information"})]})]})]})]}),r.jsxs("div",{className:"overflow-y-auto flex-1 p-8 space-y-6",children:[r.jsx(pr,{children:v&&r.jsxs(ke.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 to-red-600/10"}),r.jsx("div",{className:"relative p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl",children:r.jsxs("div",{className:`flex items-start gap-3 ${l?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"p-1.5 bg-red-100 dark:bg-red-800/30 rounded-lg",children:r.jsx(Nt,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-300 mb-1",children:o("editProductModal.errors.errorLabel")}),r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:v})]})]})})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 ${l?"flex-row-reverse":""}`,children:[r.jsx(u0,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("editProductModal.form.productImage.label")})]}),M?r.jsx(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative group",children:r.jsxs("div",{className:"relative rounded-2xl overflow-hidden",children:[r.jsx("img",{src:M,alt:"Preview",className:"w-full h-56 object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsx("button",{type:"button",onClick:ce,className:`absolute top-4 ${l?"left-4":"right-4"} p-2.5 bg-red-600 hover:bg-red-700 text-white rounded-xl shadow-lg transition-all duration-200 transform hover:scale-110 opacity-0 group-hover:opacity-100`,children:r.jsx(xt,{className:"w-4 h-4"})})]})}):r.jsx("div",{className:`relative border-2 border-dashed rounded-2xl p-8 text-center cursor-pointer transition-all duration-300 ${A?"border-blue-400 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/30 dark:to-blue-900/20 scale-105":w.image?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10":"border-gray-300 dark:border-gray-600 hover:border-blue-400 hover:bg-gradient-to-br hover:from-blue-50/50 hover:to-transparent dark:hover:from-blue-950/20"}`,onClick:()=>E.current?.click(),onDragEnter:ee,onDragLeave:ee,onDragOver:ee,onDrop:Z,children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(ke.div,{animate:{y:A?-10:0,scale:A?1.1:1},className:`p-4 rounded-2xl ${A?"bg-blue-600 shadow-lg shadow-blue-500/50":"bg-gray-100 dark:bg-gray-700"}`,children:r.jsx(vo,{className:`h-10 w-10 ${A?"text-white":"text-gray-400 dark:text-gray-500"}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-base font-semibold text-gray-700 dark:text-gray-300 mb-1",children:o(A?"editProductModal.imageUpload.dragActive":"editProductModal.imageUpload.clickToUpload")}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[o("editProductModal.imageUpload.supportedFormats"),"  ",o("editProductModal.imageUpload.maxSize")]})]})]})}),r.jsx("input",{title:"image upload",ref:E,type:"file",accept:"image/*",onChange:G,className:"hidden"}),r.jsx(pr,{children:w.image&&r.jsxs(ke.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(Nt,{className:"w-4 h-4"}),w.image]})})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"name",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(fu,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("editProductModal.form.productName.label")}),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",id:"name",value:d.name,onChange:F=>X("name",F.target.value),onFocus:()=>D("name"),onBlur:()=>D(""),maxLength:re,className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${w.name?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":_==="name"?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-900/10 focus:ring-4 focus:ring-blue-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400"} focus:outline-none`,placeholder:o("editProductModal.form.productName.placeholder"),"aria-required":"true"}),r.jsxs("div",{className:`absolute ${l?"left-4":"right-4"} top-1/2 -translate-y-1/2 flex items-center gap-2`,children:[d.name&&z&&!w.name&&r.jsx(ke.div,{initial:{scale:0},animate:{scale:1},children:r.jsx(Wl,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),r.jsxs("span",{className:"text-xs text-gray-400",children:[K,"/",re]})]})]}),r.jsx(pr,{children:w.name&&r.jsxs(ke.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(Nt,{className:"w-4 h-4"}),w.name]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"price",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(qr,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("editProductModal.form.price.label")}),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",id:"price",value:d.price||"",onChange:F=>{const $=F.target.value;if($==="")X("price",0);else{const q=parseFloat($);isNaN(q)||X("price",q)}},onFocus:()=>D("price"),onBlur:()=>D(""),step:"0.01",min:"0",className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${w.price?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":_==="price"?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-900/10 focus:ring-4 focus:ring-blue-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400"} focus:outline-none ${l?"pl-12":"pr-12"}`,placeholder:"0.00","aria-required":"true"}),r.jsx("div",{className:`absolute ${l?"left-4":"right-4"} top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 font-medium`,children:o("editProductModal.form.price.currency")})]}),r.jsx(pr,{children:w.price&&r.jsxs(ke.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(Nt,{className:"w-4 h-4"}),w.price]})})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"categoryId",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(Ps,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("editProductModal.form.category.label")}),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{id:"categoryId",value:d.categoryId,onChange:F=>X("categoryId",F.target.value),onFocus:()=>D("categoryId"),onBlur:()=>D(""),className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 text-gray-900 dark:text-white ${w.categoryId?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":_==="categoryId"?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-900/10 focus:ring-4 focus:ring-blue-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400"} focus:outline-none`,"aria-required":"true",children:[r.jsx("option",{value:"",children:o("editProductModal.form.category.placeholder")}),s.map(F=>r.jsx("option",{value:F.categoryId,children:F.categoryName},F.categoryId))]}),r.jsx(pr,{children:w.categoryId&&r.jsxs(ke.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(Nt,{className:"w-4 h-4"}),w.categoryId]})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"description",className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(vn,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{children:o("editProductModal.form.description.label")})]}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{id:"description",value:d.description,onChange:F=>X("description",F.target.value),onFocus:()=>D("description"),onBlur:()=>D(""),maxLength:ne,rows:3,className:`w-full px-5 py-4 border-2 rounded-2xl transition-all duration-300 resize-none text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 ${w.description?"border-red-300 dark:border-red-600 bg-red-50/50 dark:bg-red-900/10 focus:border-red-500 focus:ring-4 focus:ring-red-500/20":_==="description"?"border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-blue-900/10 focus:ring-4 focus:ring-blue-500/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:border-gray-400"} focus:outline-none`,placeholder:o("editProductModal.form.description.placeholder")}),r.jsxs("div",{className:`absolute ${l?"left-4":"right-4"} bottom-3 text-xs text-gray-400`,children:[Y,"/",ne]})]}),r.jsx(pr,{children:w.description&&r.jsxs(ke.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:`mt-2 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${l?"flex-row-reverse":""}`,role:"alert",children:[r.jsx(Nt,{className:"w-4 h-4"}),w.description]})})]}),r.jsx("div",{className:"rounded-2xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700/50 dark:to-gray-800/50 p-5 border border-gray-200 dark:border-gray-600",children:r.jsxs("label",{className:`flex items-center gap-4 cursor-pointer group ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"checkbox",checked:d.isAvailable,onChange:F=>X("isAvailable",F.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-14 h-7 bg-gray-300 dark:bg-gray-600 peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-emerald-500 peer-checked:to-emerald-600 shadow-inner"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white block mb-1",children:o("editProductModal.form.status.label")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed",children:o("editProductModal.form.status.description")})]})]})})]}),r.jsx("div",{className:"flex-shrink-0 px-8 py-6 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:`flex gap-3 ${l?"flex-row-reverse":""}`,children:[r.jsx("button",{type:"button",onClick:t,disabled:g||x,className:"flex-1 px-6 py-4 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl font-semibold transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed border border-gray-300 dark:border-gray-600",children:o("editProductModal.buttons.cancel")}),r.jsxs("button",{type:"button",onClick:te,disabled:g||x||!V,className:"flex-1 px-6 py-4 text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed rounded-xl font-semibold transition-all duration-200 hover:scale-105 active:scale-95 hover:shadow-lg hover:shadow-blue-500/50 disabled:hover:shadow-none relative overflow-hidden group",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),r.jsx("span",{className:`relative flex items-center justify-center gap-2 ${l?"flex-row-reverse":""}`,children:g||x?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"w-5 h-5 animate-spin"}),r.jsx("span",{children:o(x?"editProductModal.buttons.uploading":"editProductModal.buttons.updating")})]}):r.jsxs(r.Fragment,{children:[r.jsx(Wl,{className:"w-5 h-5"}),r.jsx("span",{children:o("editProductModal.buttons.update")})]})})]})]})})]})]})})]})})};class bte{baseUrl="/api";async createIngredient(t){try{const a={name:t.name,isAllergenic:t.isAllergenic,isAvailable:t.isAvailable,allergenIds:t.allergenIds,allergenDetails:t.allergenDetails};N.info("Malzeme ekleme istei gnderiliyor",{payload:a});const n=await he.post(`${this.baseUrl}/Ingredients`,a);return N.info("Malzeme baaryla eklendi",{data:n.data}),{id:n.data.ingredientId,name:n.data.name,isAllergenic:n.data.isAllergenic,isAvailable:n.data.isAvailable,allergenIds:n.data.allergens?.map(i=>i.id)||[],allergenDetails:n.data.allergens?.map(i=>({allergenId:i.id,containsAllergen:i.containsAllergen!==null?i.containsAllergen:!0,note:i.note||""}))||[]}}catch(a){throw N.error(" Malzeme eklenirken hata:",a),a}}async updateIngredient(t){try{const a={ingredientId:t.id,name:t.name,isAllergenic:t.isAllergenic,isAvailable:t.isAvailable,allergenIds:t.allergenIds,allergenDetails:t.allergenDetails};N.info("Malzeme gncelleme istei gnderiliyor",{id:t.id,payload:a});const n=await he.put(`${this.baseUrl}/Ingredients`,a);return N.info("Malzeme baaryla gncellendi",{data:n.data}),{id:n.data.ingredientId,name:n.data.name,isAllergenic:n.data.isAllergenic,isAvailable:n.data.isAvailable,allergenIds:n.data.allergens?.map(i=>i.id)||[],allergenDetails:n.data.allergens?.map(i=>({allergenId:i.id,containsAllergen:i.containsAllergen!==null?i.containsAllergen:!0,note:i.note||""}))||[]}}catch(a){throw N.error(" Malzeme gncellenirken hata:",a),a}}async getIngredients(){try{N.info("Malzeme listesi getiriliyor");const t=await he.get(`${this.baseUrl}/Ingredients`,{params:{includes:"allergens"}});return N.info("Malzeme listesi baaryla getirildi",{count:t.data.length}),t.data.map(n=>({id:n.ingredientId,name:n.name,isAllergenic:n.isAllergenic,isAvailable:n.isAvailable,allergenIds:n.allergens?.map(s=>s.id)||[],allergenDetails:n.allergens?.map(s=>({allergenId:s.id,containsAllergen:s.containsAllergen!==null?s.containsAllergen:!0,note:s.note||""}))||[]}))}catch(t){throw N.error(" Malzeme listesi getirilirken hata:",t),t}}async getIngredientById(t){try{N.info("Malzeme detay getiriliyor",{id:t});const a=await he.get(`${this.baseUrl}/Ingredients/${t}`);return N.info("Malzeme detay baaryla getirildi",{data:a.data}),{id:a.data.ingredientId,name:a.data.name,isAllergenic:a.data.isAllergenic,isAvailable:a.data.isAvailable,allergenIds:a.data.allergens?.map(s=>s.id)||[],allergenDetails:a.data.allergens?.map(s=>({allergenId:s.id,containsAllergen:s.containsAllergen!==null?s.containsAllergen:!0,note:s.note||""}))||[]}}catch(a){throw N.error(" Malzeme detay getirilirken hata:",a),a}}async deleteIngredient(t){try{N.info("Malzeme silme istei gnderiliyor",{id:t}),await he.delete(`${this.baseUrl}/Ingredients/${t}`),N.info("Malzeme baaryla silindi",{id:t})}catch(a){throw N.error(" Malzeme silinirken hata:",a),a}}}const Em=new bte,vte=({isOpen:e,onClose:t,onSuccess:a,productId:n,productName:s})=>{const{t:i,isRTL:o}=Ze(),[l,d]=p.useState([]),[c,g]=p.useState([]),[h,x]=p.useState([]),[b,v]=p.useState(""),[j,w]=p.useState(!1),[S,M]=p.useState(!1),[T,A]=p.useState(null),I=()=>[{value:"g",label:i("productIngredientModal.units.grams")},{value:"ml",label:i("productIngredientModal.units.milliliters")},{value:"piece",label:i("productIngredientModal.units.pieces")},{value:"tbsp",label:i("productIngredientModal.units.tablespoons")},{value:"tsp",label:i("productIngredientModal.units.teaspoons")},{value:"cup",label:i("productIngredientModal.units.cups")},{value:"kg",label:i("productIngredientModal.units.kilograms")},{value:"l",label:i("productIngredientModal.units.liters")}],_=async()=>{if(e){w(!0),A(null);try{const B=await Em.getIngredients();d(B);try{const J=(await Fr.getProductIngredients(n)).map(ce=>({ingredientId:ce.ingredientId||ce.id,quantity:ce.quantity||0,unit:ce.unit||"piece"}));x(J),g([...J]),N.info("Mevcut rn malzemeleri yklendi",{productId:n,currentIngredients:J})}catch{N.info("rn malzemeleri bulunamad (yeni rn olabilir)",{productId:n}),x([]),g([])}N.info("Malzeme verileri yklendi",{ingredientCount:B.length})}catch(B){N.error("Malzeme verileri yklenirken hata:",B),A(i("productIngredientModal.errors.loadingData"))}finally{w(!1)}}};p.useEffect(()=>{e&&(_(),v(""))},[e,n]);const D=B=>{g(G=>G.some(J=>J.ingredientId===B)?G.filter(J=>J.ingredientId!==B):[...G,{ingredientId:B,quantity:1,unit:"piece"}])},E=(B,G,J)=>{g(ce=>ce.map(te=>te.ingredientId===B?{...te,[G]:G==="quantity"?parseFloat(J)||0:J}:te))},X=async()=>{M(!0),A(null);for(const B of c){if(B.quantity<=0){A(i("productIngredientModal.errors.quantityRequired")),M(!1);return}if(!B.unit){A(i("productIngredientModal.errors.unitRequired")),M(!1);return}}try{const B=h.map(K=>K.ingredientId),G=c.map(K=>K.ingredientId),J=B.filter(K=>!G.includes(K));for(const K of J)try{await Fr.removeIngredientFromProduct(n,K),N.info("Malzeme baaryla silindi",{productId:n,ingredientId:K})}catch(Y){N.error("Malzeme silinirken hata:",{productId:n,ingredientId:K,error:Y})}const ce=c.filter(K=>!B.includes(K.ingredientId));ce.length>0&&(await Fr.addIngredientsToProduct(n,ce),N.info("Yeni malzemeler baaryla eklendi",{productId:n,addedCount:ce.length}));const te=c.filter(K=>B.includes(K.ingredientId));for(const K of te){const Y=h.find(re=>re.ingredientId===K.ingredientId);if(Y&&(Y.quantity!==K.quantity||Y.unit!==K.unit))try{await Fr.removeIngredientFromProduct(n,K.ingredientId),await Fr.addIngredientsToProduct(n,[K]),N.info("Malzeme miktar/birimi gncellendi",{productId:n,ingredientId:K.ingredientId,oldQuantity:Y.quantity,newQuantity:K.quantity,oldUnit:Y.unit,newUnit:K.unit})}catch(re){N.error("Malzeme gncellenirken hata:",{productId:n,ingredientId:K.ingredientId,error:re})}}N.info("rn malzemeleri baaryla kaydedildi",{productId:n,totalSelected:c.length,removed:J.length,added:ce.length,updated:te.length}),a(),t()}catch(B){N.error("Malzemeler kaydedilirken hata:",B),A(i("productIngredientModal.errors.savingIngredients"))}finally{M(!1)}},ee=l.filter(B=>B.name.toLowerCase().includes(b.toLowerCase())),Z=B=>B?.length?i("productIngredientModal.allergenInfo.count",{count:B.length}):"";return r.jsx(pr,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",dir:o?"rtl":"ltr",children:[r.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-gradient-to-br from-black/70 via-black/60 to-black/70 backdrop-blur-md",onClick:t}),r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs(ke.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{type:"spring",duration:.5,bounce:.3},className:"relative w-full max-w-6xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/20 via-amber-500/20 to-yellow-500/20 blur-3xl rounded-3xl"}),r.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"relative overflow-hidden flex-shrink-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500 via-amber-600 to-yellow-600"}),r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative px-8 py-6",children:[r.jsx("button",{onClick:t,className:`absolute top-6 ${o?"left-6":"right-6"} p-2.5 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110 text-white z-10`,children:r.jsx(xt,{className:"w-5 h-5"})}),r.jsxs("div",{className:`flex items-start gap-4 ${o?"flex-row-reverse":""}`,children:[r.jsxs(ke.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.2,duration:.6},className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-white/30 blur-xl rounded-2xl"}),r.jsx("div",{className:"relative p-4 bg-white/20 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg",children:r.jsx(wm,{className:"w-8 h-8 text-white"})})]}),r.jsxs("div",{className:"flex-1 pt-1",children:[r.jsx(ke.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl font-bold text-white mb-2",children:i("productIngredientModal.title")}),r.jsxs(ke.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"text-white/80 text-sm leading-relaxed",children:[r.jsx("strong",{children:s})," ",i("productIngredientModal.subtitle")]})]})]})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-6",children:[r.jsx(pr,{children:T&&r.jsxs(ke.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 to-red-600/10"}),r.jsx("div",{className:"relative p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl",children:r.jsxs("div",{className:`flex items-start gap-3 ${o?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"p-1.5 bg-red-100 dark:bg-red-800/30 rounded-lg",children:r.jsx(Nt,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),r.jsx("span",{className:"text-sm text-red-700 dark:text-red-400",children:T})]})})]})}),r.jsxs("div",{className:"relative",children:[r.jsx(Bn,{className:`absolute top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 ${o?"right-4":"left-4"}`}),r.jsx("input",{type:"text",placeholder:i("productIngredientModal.search.placeholder"),value:b,onChange:B=>v(B.target.value),className:`w-full py-3 border-2 border-gray-300 dark:border-gray-600 rounded-2xl focus:ring-4 focus:ring-orange-500/20 focus:border-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-all duration-200 ${o?"pr-11 pl-4":"pl-11 pr-4"}`})]}),r.jsx("div",{className:"p-5 bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/10 dark:to-amber-900/10 rounded-2xl border border-orange-200 dark:border-orange-800",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[i("productIngredientModal.summary.selectedCount"),":",r.jsx("span",{className:"ml-2 px-3 py-1 bg-orange-100 dark:bg-orange-800/50 text-orange-700 dark:text-orange-300 rounded-lg font-bold",children:c.length})]}),JSON.stringify(c)!==JSON.stringify(h)&&r.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/30 px-3 py-1.5 rounded-lg",children:[r.jsx(ya,{className:"w-3 h-3"}),i("productIngredientModal.summary.hasChanges")]})]})}),r.jsx("div",{children:j?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(mt,{className:"w-8 h-8 animate-spin text-orange-600 mb-3"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:i("productIngredientModal.loading.ingredients")})]}):ee.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500 dark:text-gray-400",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx("div",{className:"absolute inset-0 bg-orange-500/10 blur-2xl rounded-full"}),r.jsx(Ar,{className:"relative w-12 h-12 opacity-50"})]}),r.jsx("p",{className:"text-center font-medium",children:i(b?"productIngredientModal.emptyState.noSearchResults":"productIngredientModal.emptyState.noIngredients")})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ee.map(B=>{const G=c.some(te=>te.ingredientId===B.id),J=h.some(te=>te.ingredientId===B.id),ce=c.find(te=>te.ingredientId===B.id);return r.jsxs("div",{className:`group relative p-4 rounded-2xl transition-all duration-300 ${G?"ring-2 ring-orange-500 bg-orange-50 dark:bg-orange-900/20 shadow-lg":"bg-white dark:bg-gray-700 hover:shadow-md border border-gray-200 dark:border-gray-600"} ${B.isAvailable?"":"opacity-60"}`,children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r.jsx("button",{onClick:()=>D(B.id),className:`mt-0.5 w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all duration-200 ${G?"bg-orange-600 border-orange-600 text-white scale-110":"border-gray-300 dark:border-gray-600 hover:border-orange-400 hover:scale-105"}`,children:G&&r.jsx(_r,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2 truncate",children:B.name}),r.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[r.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-lg ${B.isAvailable?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300"}`,children:B.isAvailable?i("productIngredientModal.status.available"):i("productIngredientModal.status.unavailable")}),B.isAllergenic&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-lg bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300",children:[r.jsx(ya,{className:"w-3 h-3"}),i("productIngredientModal.status.containsAllergens")]}),J&&!G&&r.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-2 py-1 rounded-lg font-medium",children:i("productIngredientModal.status.toBeRemoved")}),!J&&G&&r.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-2 py-1 rounded-lg font-medium",children:i("productIngredientModal.status.toBeAdded")})]}),B.isAllergenic&&B.allergenIds?.length>0&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:Z(B.allergenIds)})]})]})}),G&&r.jsx("div",{className:"mt-3 pt-3 border-t border-orange-200 dark:border-orange-800 space-y-2",children:r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 block mb-1",children:i("productIngredientModal.form.quantity.label")}),r.jsx("input",{type:"number",value:ce?.quantity||1,onChange:te=>E(B.id,"quantity",te.target.value),min:"0",step:"0.1",className:"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-xl text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 block mb-1",children:i("productIngredientModal.form.unit.label")}),r.jsx("select",{title:"Unit",value:ce?.unit||"piece",onChange:te=>E(B.id,"unit",te.target.value),className:"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-xl text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",children:I().map(te=>r.jsx("option",{value:te.value,children:te.label},te.value))})]})]})})]},B.id)})})})]}),r.jsx("div",{className:"flex-shrink-0 px-8 py-6 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.jsx("span",{className:"px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium",children:i("productIngredientModal.footer.totalCount",{count:ee.length})})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:t,disabled:S,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 rounded-xl text-gray-700 dark:text-gray-300 font-semibold hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50",children:i("productIngredientModal.buttons.skip")}),r.jsxs("button",{type:"button",onClick:X,disabled:S||j,className:"px-6 py-3 bg-gradient-to-r from-orange-600 to-amber-600 text-white rounded-xl font-semibold hover:from-orange-700 hover:to-amber-700 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed transition-all duration-200 hover:scale-105 active:scale-95 hover:shadow-lg hover:shadow-orange-500/50 flex items-center gap-2 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),r.jsx("span",{className:"relative flex items-center gap-2",children:S?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"w-4 h-4 animate-spin"}),i("productIngredientModal.buttons.saving")]}):r.jsxs(r.Fragment,{children:[r.jsx(Ut,{className:"w-4 h-4"}),i("productIngredientModal.buttons.saveIngredients")]})})]})]})]})})]})]})})]})})},kte=({isOpen:e,onClose:t,onSuccess:a,productId:n,productName:s})=>{const{t:i,isRTL:o}=Ze(),[l,d]=p.useState([]),[c,g]=p.useState(new Map),[h,x]=p.useState(""),[b,v]=p.useState(!1),[j,w]=p.useState(!1),[S,M]=p.useState(null),T=()=>[{value:"g",label:i("productIngredientModal.units.grams")},{value:"ml",label:i("productIngredientModal.units.milliliters")},{value:"piece",label:i("productIngredientModal.units.pieces")},{value:"tbsp",label:i("productIngredientModal.units.tablespoons")},{value:"tsp",label:i("productIngredientModal.units.teaspoons")},{value:"cup",label:i("productIngredientModal.units.cups")},{value:"kg",label:i("productIngredientModal.units.kilograms")},{value:"l",label:i("productIngredientModal.units.liters")}];p.useEffect(()=>{e&&A()},[e,n]);const A=async()=>{v(!0),M(null);try{const[Z,B]=await Promise.all([I(),Fr.getProductIngredients(n)]);d(Z);const G=new Map;B.forEach(J=>{G.set(J.ingredientId||J.id,{ingredientId:J.ingredientId||J.id,quantity:J.quantity||1,unit:J.unit||"piece"})}),g(G),N.info("Malzemeler baaryla yklendi",{totalIngredients:Z.length,selectedCount:G.size,productId:n})}catch(Z){N.error("Malzemeler yklenirken hata:",Z),M(i("ProductIngredientUpdateModal.errors.loadingIngredients"))}finally{v(!1)}},I=async()=>{try{return(await Em.getIngredients()).map(B=>({id:B.ingredientId||B.id,name:B.ingredientName||B.name||"Unknown Ingredient",unit:B.unit||"piece",price:B.price||0}))}catch(Z){throw N.error("Tm malzemeler alnamad:",Z),Z}},_=Z=>{const B=new Map(c);B.has(Z.id)?B.delete(Z.id):B.set(Z.id,{ingredientId:Z.id,quantity:1,unit:Z.unit||"piece"}),g(B)},D=(Z,B)=>{const G=new Map(c),J=G.get(Z);J&&B>0&&(G.set(Z,{...J,quantity:B}),g(G))},E=(Z,B)=>{const G=new Map(c),J=G.get(Z);J&&(G.set(Z,{...J,unit:B}),g(G))},X=async()=>{w(!0),M(null);for(const[Z,B]of c.entries()){if(B.quantity<=0){M(i("productIngredientModal.errors.quantityRequired")),w(!1);return}if(!B.unit){M(i("productIngredientModal.errors.unitRequired")),w(!1);return}}try{const Z=await Fr.getProductIngredients(n),B=new Set(Z.map(K=>K.ingredientId||K.id)),G=new Set(c.keys()),J=Array.from(B).filter(K=>!G.has(K)),ce=Array.from(c.entries()).filter(([K])=>!B.has(K)).map(([K,Y])=>Y);for(const K of J)await Fr.removeIngredientFromProduct(n,K);ce.length>0&&await Fr.addIngredientsToProduct(n,ce);const te=Array.from(c.entries()).filter(([K])=>B.has(K));for(const[K,Y]of te){const re=Z.find(ne=>(ne.ingredientId||ne.id)===K);re&&(re.quantity!==Y.quantity||re.unit!==Y.unit)&&(await Fr.removeIngredientFromProduct(n,K),await Fr.addIngredientsToProduct(n,[Y]))}N.info("Product ingredients updated successfully",{productId:n,removed:J.length,added:ce.length,updated:te.length}),a(),t()}catch(Z){N.error("Error saving ingredients:",Z),M(i("ProductIngredientUpdateModal.errors.savingIngredients"))}finally{w(!1)}},ee=l.filter(Z=>Z.name.toLowerCase().includes(h.toLowerCase()));return r.jsx(pr,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",dir:o?"rtl":"ltr",children:[r.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-gradient-to-br from-black/70 via-black/60 to-black/70 backdrop-blur-md",onClick:t}),r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs(ke.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{type:"spring",duration:.5,bounce:.3},className:"relative w-full max-w-6xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/20 via-amber-500/20 to-yellow-500/20 blur-3xl rounded-3xl"}),r.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"relative overflow-hidden flex-shrink-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br "}),r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative px-8 py-6",children:[r.jsx("button",{onClick:t,className:`absolute top-6 ${o?"left-6":"right-6"} p-2.5 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110 text-white z-10`,children:r.jsx(xt,{className:"w-5 h-5"})}),r.jsxs("div",{className:`flex items-start gap-4 ${o?"flex-row-reverse":""}`,children:[r.jsxs(ke.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.2,duration:.6},className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-white/30 blur-xl rounded-2xl"}),r.jsx("div",{className:"relative p-4 bg-white/20 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg",children:r.jsx(wm,{className:"w-8 h-8 text-white"})})]}),r.jsxs("div",{className:"flex-1 pt-1",children:[r.jsx(ke.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl font-bold text-white mb-2",children:i("ProductIngredientUpdateModal.title")}),r.jsxs(ke.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"text-white/80 text-sm leading-relaxed",children:[s," (ID: ",n,")"]})]})]})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-6",children:[r.jsx(pr,{children:S&&r.jsxs(ke.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 to-red-600/10"}),r.jsx("div",{className:"relative p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl",children:r.jsxs("div",{className:`flex items-start gap-3 ${o?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"p-1.5 bg-red-100 dark:bg-red-800/30 rounded-lg",children:r.jsx(Nt,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),r.jsx("span",{className:"text-sm text-red-700 dark:text-red-400",children:S})]})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Bn,{className:`absolute top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 ${o?"right-4":"left-4"}`}),r.jsx("input",{type:"text",placeholder:i("ProductIngredientUpdateModal.searchPlaceholder"),value:h,onChange:Z=>x(Z.target.value),className:`w-full py-3 border-2 border-gray-300 dark:border-gray-600 rounded-2xl focus:ring-4 focus:ring-orange-500/20 focus:border-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-all duration-200 ${o?"pr-11 pl-4":"pl-11 pr-4"}`,disabled:b})]}),r.jsx("div",{className:"p-4 bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/10 dark:to-amber-900/10 rounded-2xl border border-orange-200 dark:border-orange-800",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[i("ProductIngredientUpdateModal.selectedCount"),":"]}),r.jsx("span",{className:"px-3 py-1 bg-orange-100 dark:bg-orange-800/50 text-orange-700 dark:text-orange-300 rounded-lg font-bold",children:c.size})]})})]}),b?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(mt,{className:"w-8 h-8 animate-spin text-orange-600 mb-3"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:i("ProductIngredientUpdateModal.loadingIngredients")})]}):ee.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500 dark:text-gray-400",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx("div",{className:"absolute inset-0 bg-orange-500/10 blur-2xl rounded-full"}),r.jsx(Ar,{className:"relative w-12 h-12 opacity-50"})]}),r.jsx("p",{className:"text-center font-medium",children:i(h?"ProductIngredientUpdateModal.noIngredientsFoundSearch":"ProductIngredientUpdateModal.noIngredientsFound")})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ee.map(Z=>{const B=c.has(Z.id),G=c.get(Z.id);return r.jsxs("div",{className:`group relative p-4 rounded-2xl transition-all duration-300 cursor-pointer ${B?"ring-2 ring-blue-500 bg-orange-50 dark:bg-blue-900/20 shadow-lg":"bg-white dark:bg-gray-700 hover:shadow-md border border-gray-200 dark:border-gray-600"}`,onClick:()=>_(Z),children:[r.jsx("div",{className:`absolute top-4 ${o?"left-4":"right-4"} w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all duration-200 ${B?"bg-blue-600 border-blue-600 text-white scale-110":"border-gray-300 dark:border-gray-600 hover:border-orange-400 hover:scale-105"}`,children:B&&r.jsx(_r,{className:"w-4 h-4"})}),r.jsxs("div",{className:o?"pl-8":"pr-8",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:Z.name}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[r.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium",children:[i("ProductIngredientUpdateModal.unit")," ",Z.unit]}),Z.price&&r.jsxs("span",{className:"text-xs px-2 py-1 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 rounded-lg font-medium",children:[Z.price.toFixed(2)," "]})]}),B&&r.jsx("div",{className:"pt-3 border-t border-orange-200 dark:border-orange-800 space-y-2",onClick:J=>J.stopPropagation(),children:r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 block mb-1",children:i("productIngredientModal.form.quantity.label")}),r.jsx("input",{type:"number",min:"0",step:"0.1",value:G?.quantity||1,onChange:J=>D(Z.id,parseFloat(J.target.value)||0),className:"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-xl text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 block mb-1",children:i("productIngredientModal.form.unit.label")}),r.jsx("select",{title:"Unit",value:G?.unit||"piece",onChange:J=>E(Z.id,J.target.value),className:"w-full px-3 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-xl text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",children:T().map(J=>r.jsx("option",{value:J.value,children:J.label},J.value))})]})]})})]})]},Z.id)})})]}),r.jsx("div",{className:"flex-shrink-0 px-8 py-6 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.jsxs("span",{className:"px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium",children:[c.size," ",i("ProductIngredientUpdateModal.selectedCount")]})}),r.jsxs("div",{className:`flex gap-3 ${o?"flex-row-reverse":""}`,children:[r.jsx("button",{onClick:t,disabled:j,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 rounded-xl text-gray-700 dark:text-gray-300 font-semibold hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50",children:i("ProductIngredientUpdateModal.cancel")}),r.jsxs("button",{onClick:X,disabled:j||b,className:"px-6 py-3 bg-gradient-to-r from-orange-600 to-amber-600 text-white rounded-xl font-semibold hover:from-orange-700 hover:to-amber-700 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed transition-all duration-200 hover:scale-105 active:scale-95 hover:shadow-lg hover:shadow-orange-500/50 flex items-center gap-2 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),r.jsx("span",{className:"relative flex items-center gap-2",children:j?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"w-4 h-4 animate-spin"}),i("ProductIngredientUpdateModal.saving")]}):r.jsxs(r.Fragment,{children:[r.jsx(Oa,{className:"w-4 h-4"}),i("ProductIngredientUpdateModal.save")]})})]})]})]})})]})]})})]})})},wte=({addon:e,onRemove:t,isEditing:a,onEdit:n,onSaveEdit:s,onCancelEdit:i,editingData:o,onEditingDataChange:l})=>{const{t:d}=Ze(),{attributes:c,listeners:g,setNodeRef:h,transform:x,transition:b,isDragging:v}=vb({id:e.id}),j={transform:jo.Transform.toString(x),transition:b,opacity:v?.5:1},w=e.addonProduct,S=w?.imageUrl&&w.imageUrl.trim()!=="";return r.jsxs("div",{ref:h,style:j,className:`group relative bg-white dark:bg-gray-800 rounded-2xl overflow-hidden transition-all duration-300 ${v?"shadow-2xl shadow-primary-500/20 ring-2 ring-primary-500 scale-105":"shadow-sm hover:shadow-lg border border-gray-200 dark:border-gray-700"}`,children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}),r.jsxs("div",{className:"p-4 flex items-start gap-4",children:[r.jsx("button",{...c,...g,className:"mt-2 p-2 text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-lg cursor-grab active:cursor-grabbing transition-all duration-200 hover:scale-110",children:r.jsx(Ky,{className:"h-4 w-4"})}),r.jsx("div",{className:"flex-shrink-0",children:S?r.jsx("div",{className:"relative group/image",children:r.jsx("img",{src:w.imageUrl,alt:w?.name,className:"w-20 h-20 rounded-xl object-cover bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 ring-2 ring-gray-200 dark:ring-gray-700",loading:"lazy"})}):r.jsx("div",{className:"w-20 h-20 rounded-xl bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center ring-2 ring-gray-200 dark:ring-gray-700",children:r.jsx(Ar,{className:"h-8 w-8 text-gray-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:w?.name||`Product ID: ${e.addonProductId}`}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-sm font-medium bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 rounded-lg",children:[r.jsx(qr,{className:"h-3 w-3"}),w?.price?.toFixed(2)||"0.00"," "]}),e.isRecommended&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 rounded-lg",children:[r.jsx(Hi,{className:"h-3 w-3 fill-current"}),d("productAddonsModal.form.isRecommended.badge")]})]})]}),r.jsx("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-700/50 rounded-xl p-1",children:a?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>s(e.id),className:"p-2 text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded-lg transition-all duration-200",children:r.jsx(Oa,{className:"h-4 w-4"})}),r.jsx("button",{onClick:i,className:"p-2 text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-all duration-200",children:r.jsx(Ga,{className:"h-4 w-4"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>n(e.id),className:"p-2 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all duration-200",children:r.jsx(qs,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>t(e.id),className:"p-2 text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200",children:r.jsx(wr,{className:"h-4 w-4"})})]})})]}),a?r.jsxs("div",{className:"space-y-3 mt-3 p-3 bg-gray-50 dark:bg-gray-700/30 rounded-xl",children:[r.jsx("textarea",{value:o.marketingText,onChange:M=>l("marketingText",M.target.value),placeholder:d("productAddonsModal.form.marketingText.placeholder"),className:"w-full px-3 py-2 text-sm border-2 border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none transition-all duration-200",rows:2}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:o.isRecommended,onChange:M=>l("isRecommended",M.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-10 h-5 bg-gray-300 dark:bg-gray-600 peer-focus:ring-2 peer-focus:ring-primary-500 rounded-full peer peer-checked:after:translate-x-5 peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-yellow-500 peer-checked:to-yellow-600"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:d("productAddonsModal.form.isRecommended.label")})]})]}):r.jsxs(r.Fragment,{children:[e.marketingText&&r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 italic mt-2 p-2 bg-gray-50 dark:bg-gray-700/30 rounded-lg",children:['"',e.marketingText,'"']}),w?.description&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 line-clamp-2 mt-2",children:w.description})]})]})]})]})},jte=({isOpen:e,onClose:t,onSuccess:a,productId:n,productName:s})=>{const{t:i,isRTL:o}=Ze(),[l,d]=p.useState([]),[c,g]=p.useState([]),[h,x]=p.useState(""),[b,v]=p.useState(new Map),[j,w]=p.useState(!1),[S,M]=p.useState(!1),[T,A]=p.useState(null),[I,_]=p.useState(null),[D,E]=p.useState({marketingText:"",isRecommended:!1}),X=z2(Am(j0,{activationConstraint:{distance:8}}),Am(w0,{coordinateGetter:K2})),ee=async()=>{if(e){w(!0),A(null);try{const[F,$]=await Promise.all([Il.getProductAddons(n),Fr.getCategories()]),q=$.flatMap(Q=>Q.products.map(de=>({id:de.id,name:de.name,price:de.price,imageUrl:de.imageUrl||"",description:de.description||"",isAvailable:de.isAvailable,categoryId:Q.categoryId,categoryName:Q.categoryName})));d(F),g(q);const H=new Map;F.forEach(Q=>{H.set(Q.addonProductId,{productId:Q.addonProductId,marketingText:Q.marketingText||"",isRecommended:Q.isRecommended})}),v(H),N.info("Eklenti verileri yklendi",{productId:n,currentAddons:F.length,availableProducts:q.length})}catch(F){N.error("Eklenti verileri yklenirken hata:",F),A(i("productAddonsModal.errors.loadingData"))}finally{w(!1)}}};p.useEffect(()=>{e&&(ee(),x(""),_(null))},[e,n]);const Z=F=>{const $=new Map(b);$.has(F)?$.delete(F):$.set(F,{productId:F,marketingText:"",isRecommended:!1}),v($)},B=(F,$,q)=>{const H=new Map(b),Q=H.get(F);Q&&(H.set(F,{...Q,[$]:q}),v(H))},G=async(F,$)=>{try{await Il.updateProductAddon({id:F,...$}),d(q=>q.map(H=>H.id===F?{...H,...$}:H))}catch(q){N.error("Eklenti gncellenirken hata:",q),A(i("productAddonsModal.errors.updatingAddon"))}},J=async F=>{try{const $=l.find(H=>H.id===F);if(!$)return;await Il.deleteProductAddon(F),d(H=>H.filter(Q=>Q.id!==F));const q=new Map(b);q.delete($.addonProductId),v(q)}catch($){N.error("Eklenti silinirken hata:",$),A(i("productAddonsModal.errors.deletingAddon"))}},ce=async F=>{const{active:$,over:q}=F;if(!q||$.id===q.id)return;const H=l.findIndex(me=>me.id===$.id),Q=l.findIndex(me=>me.id===q.id),de=fm(l,H,Q);d(de);try{const me=de.map((je,fe)=>({addonId:je.id,newDisplayOrder:fe+1}));await Il.reorderProductAddons(n,me)}catch(me){N.error("Eklenti sralamas kaydedilirken hata:",me),A(i("productAddonsModal.errors.savingOrder")),ee()}},te=F=>{const $=l.find(q=>q.id===F);$&&(_(F),E({marketingText:$.marketingText||"",isRecommended:$.isRecommended}))},K=async F=>{await G(F,D),_(null)},Y=()=>{_(null),E({marketingText:"",isRecommended:!1})},re=(F,$)=>{E(q=>({...q,[F]:$}))},ne=async()=>{M(!0),A(null);try{const F=new Set(l.map(Q=>Q.addonProductId)),$=new Set(b.keys()),q=Array.from($).filter(Q=>!F.has(Q)),H=l.filter(Q=>!$.has(Q.addonProductId));for(const Q of H)await Il.deleteProductAddon(Q.id);if(q.length>0){const Q=q.map(de=>{const me=b.get(de);return{addonProductId:de,isRecommended:me?.isRecommended||!1,marketingText:me?.marketingText||""}});await Il.addMultipleAddons(n,Q)}for(const Q of l){const de=b.get(Q.addonProductId);de&&de.productId===Q.addonProductId&&(Q.marketingText!==de.marketingText||Q.isRecommended!==de.isRecommended)&&await Il.updateProductAddon({id:Q.id,marketingText:de.marketingText,isRecommended:de.isRecommended})}N.info("rn eklentileri baaryla kaydedildi",{productId:n,added:q.length,removed:H.length}),a(),t()}catch(F){N.error("Eklentiler kaydedilirken hata:",F),A(i("productAddonsModal.errors.savingAddons"))}finally{M(!1)}},z=c.filter(F=>F.id===n?!1:F.name.toLowerCase().includes(h.toLowerCase())||F.description&&F.description.toLowerCase().includes(h.toLowerCase())),V=l.map(F=>{const $=c.find(q=>q.id===F.addonProductId);return{...F,addonProduct:$}});return r.jsx(pr,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",dir:o?"rtl":"ltr",children:[r.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-gradient-to-br from-black/70 via-black/60 to-black/70 backdrop-blur-md",onClick:t}),r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs(ke.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{type:"spring",duration:.5,bounce:.3},className:"relative w-full max-w-7xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 blur-3xl rounded-3xl"}),r.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"relative overflow-hidden flex-shrink-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 via-blue-600 to-purple-600"}),r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative px-8 py-6",children:[r.jsx("button",{onClick:t,className:`absolute top-6 ${o?"left-6":"right-6"} p-2.5 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110 text-white z-10`,children:r.jsx(xt,{className:"w-5 h-5"})}),r.jsxs("div",{className:`flex items-start gap-4 ${o?"flex-row-reverse":""}`,children:[r.jsxs(ke.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.2,duration:.6},className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-white/30 blur-xl rounded-2xl"}),r.jsx("div",{className:"relative p-4 bg-white/20 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg",children:r.jsx(Ps,{className:"w-8 h-8 text-white"})})]}),r.jsxs("div",{className:"flex-1 pt-1",children:[r.jsx(ke.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl font-bold text-white mb-2",children:i("productAddonsModal.title")}),r.jsxs(ke.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"text-white/80 text-sm leading-relaxed",children:[r.jsx("strong",{children:s})," ",i("productAddonsModal.subtitle")]})]})]})]})]}),r.jsxs("div",{className:"flex-1 overflow-hidden flex",children:[r.jsxs("div",{className:"w-1/2 border-r border-gray-200 dark:border-gray-700 flex flex-col bg-gray-50/50 dark:bg-gray-900/30",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1 flex items-center gap-2",children:[i("productAddonsModal.panels.currentAddons.title"),r.jsx("span",{className:"inline-flex items-center px-2.5 py-1 text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full",children:l.length})]}),l.length>0&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i("productAddonsModal.panels.currentAddons.dragInstruction")})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:j?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(mt,{className:"w-8 h-8 animate-spin text-primary-600 mb-3"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:i("productAddonsModal.loading.addons")})]}):V.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500 dark:text-gray-400",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx("div",{className:"absolute inset-0 bg-primary-500/10 blur-2xl rounded-full"}),r.jsx(Ar,{className:"relative w-12 h-12 opacity-50"})]}),r.jsx("p",{className:"text-center font-medium mb-1",children:i("productAddonsModal.panels.currentAddons.emptyState.title")}),r.jsx("p",{className:"text-sm text-center",children:i("productAddonsModal.panels.currentAddons.emptyState.subtitle")})]}):r.jsx(W2,{sensors:X,collisionDetection:U2,onDragEnd:ce,children:r.jsx(bb,{items:V.map(F=>F.id),strategy:yb,children:r.jsx("div",{className:"space-y-3",children:V.map(F=>r.jsx(wte,{addon:F,onUpdate:G,onRemove:J,isEditing:I===F.id,onEdit:te,onSaveEdit:K,onCancelEdit:Y,editingData:D,onEditingDataChange:re},F.id))})})})})]}),r.jsxs("div",{className:"w-1/2 flex flex-col",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:i("productAddonsModal.panels.availableProducts.title")}),r.jsxs("div",{className:"relative",children:[r.jsx(Bn,{className:`absolute top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 ${o?"right-4":"left-4"}`}),r.jsx("input",{type:"text",placeholder:i("productAddonsModal.panels.availableProducts.searchPlaceholder"),value:h,onChange:F=>x(F.target.value),className:`w-full py-3 border-2 border-gray-300 dark:border-gray-600 rounded-2xl focus:ring-4 focus:ring-primary-500/20 focus:border-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-all duration-200 ${o?"pr-11 pl-4":"pl-11 pr-4"}`})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:j?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(mt,{className:"w-8 h-8 animate-spin text-primary-600 mb-3"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:i("productAddonsModal.loading.products")})]}):z.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500 dark:text-gray-400",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx("div",{className:"absolute inset-0 bg-primary-500/10 blur-2xl rounded-full"}),r.jsx(Ar,{className:"relative w-12 h-12 opacity-50"})]}),r.jsx("p",{children:i(h?"productAddonsModal.panels.availableProducts.emptyState.noResults":"productAddonsModal.panels.availableProducts.emptyState.noProducts")})]}):r.jsx("div",{className:"space-y-3",children:z.map(F=>{const $=b.has(F.id),q=b.get(F.id),H=F.imageUrl&&F.imageUrl.trim()!=="";return r.jsxs("div",{className:`rounded-2xl transition-all duration-300 ${$?"ring-2 ring-primary-500 bg-primary-50 dark:bg-primary-900/20 shadow-lg":"bg-white dark:bg-gray-700 hover:shadow-md border border-gray-200 dark:border-gray-600"} ${F.isAvailable?"":"opacity-60"}`,children:[r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"pt-1",children:r.jsx("button",{onClick:()=>Z(F.id),className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all duration-200 ${$?"bg-primary-600 border-primary-600 text-white scale-110":"border-gray-300 dark:border-gray-600 hover:border-primary-400 hover:scale-105"}`,children:$&&r.jsx(_r,{className:"w-4 h-4"})})}),r.jsx("div",{className:"flex-shrink-0",children:H?r.jsx("img",{src:F.imageUrl,alt:F.name,className:"w-16 h-16 rounded-xl object-cover bg-gray-200 dark:bg-gray-600 ring-2 ring-gray-200 dark:ring-gray-700",loading:"lazy"}):r.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center ring-2 ring-gray-200 dark:ring-gray-700",children:r.jsx(Ar,{className:"h-6 w-6 text-gray-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate mb-1",children:F.name}),F.description&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:F.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 text-sm font-medium bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 rounded-lg",children:[r.jsx(qr,{className:"h-3 w-3"}),F.price.toFixed(2)," "]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 px-2 py-1 bg-gray-100 dark:bg-gray-600 rounded-lg",children:F.categoryName})]}),!F.isAvailable&&r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-lg text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 mt-2",children:i("productAddonsModal.status.outOfStock")})]})]})}),$&&r.jsx("div",{className:"px-4 pb-4 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"pt-4 space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:i("productAddonsModal.form.marketingText.label")}),r.jsx("textarea",{value:q?.marketingText||"",onChange:Q=>B(F.id,"marketingText",Q.target.value),placeholder:i("productAddonsModal.form.marketingText.placeholder"),className:"w-full px-3 py-2 text-sm border-2 border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none transition-all duration-200",rows:2})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:q?.isRecommended||!1,onChange:Q=>B(F.id,"isRecommended",Q.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-10 h-5 bg-gray-300 dark:bg-gray-600 peer-focus:ring-2 peer-focus:ring-primary-500 rounded-full peer peer-checked:after:translate-x-5 peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-yellow-500 peer-checked:to-yellow-600"}),r.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-center gap-1 font-medium",children:[r.jsx(Hi,{className:"h-3.5 w-3.5"}),i("productAddonsModal.form.isRecommended.label")]})]})]})})]},F.id)})})})]})]}),T&&r.jsx("div",{className:"mx-8 mb-4",children:r.jsxs(ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl flex items-center gap-3",children:[r.jsx(Nt,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-red-700 dark:text-red-400",children:T})]})}),r.jsx("div",{className:"flex-shrink-0 px-8 py-6 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-3",children:[r.jsx("span",{className:"px-3 py-1.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg font-medium",children:i("productAddonsModal.counters.selectedProducts",{count:b.size})}),r.jsx("span",{className:"px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg",children:i("productAddonsModal.counters.availableProducts",{count:z.length})})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:t,disabled:S,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 rounded-xl text-gray-700 dark:text-gray-300 font-semibold hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50",children:i("productAddonsModal.buttons.cancel")}),r.jsxs("button",{type:"button",onClick:ne,disabled:S||j,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed transition-all duration-200 hover:scale-105 active:scale-95 hover:shadow-lg hover:shadow-blue-500/50 flex items-center gap-2 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),r.jsx("span",{className:"relative flex items-center gap-2",children:S?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"w-4 h-4 animate-spin"}),i("productAddonsModal.loading.saving")]}):r.jsxs(r.Fragment,{children:[r.jsx(Ut,{className:"w-4 h-4"}),i("productAddonsModal.buttons.saveAddons")]})})]})]})]})})]})]})})]})})};class Nte{baseUrl="/api";async createProductExtraCategory(t){try{const a={productId:t.productId,extraCategoryId:t.extraCategoryId,isRequiredOverride:t.isRequiredOverride,minSelectionCount:t.minSelectionCount,maxSelectionCount:t.maxSelectionCount,minTotalQuantity:t.minTotalQuantity,maxTotalQuantity:t.maxTotalQuantity};N.info("rn ekstra kategorisi ekleme istei gnderiliyor",{payload:a});const n=await he.post(`${this.baseUrl}/ProductExtraCategories`,a);return N.info("rn ekstra kategorisi baaryla eklendi",{data:n.data}),{id:n.data.id,productId:n.data.productId,extraCategoryId:n.data.extraCategoryId,isRequiredOverride:n.data.isRequiredOverride,minSelectionCount:n.data.minSelectionCount,maxSelectionCount:n.data.maxSelectionCount,minTotalQuantity:n.data.minTotalQuantity,maxTotalQuantity:n.data.maxTotalQuantity,displayOrder:n.data.displayOrder}}catch(a){throw N.error(" rn ekstra kategorisi eklenirken hata:",a),a}}async getProductExtraCategories(){try{N.info("rn ekstra kategori listesi getiriliyor");const t=await he.get(`${this.baseUrl}/ProductExtraCategories`);return N.info("rn ekstra kategori listesi baaryla getirildi",{count:t.data.length}),t.data.map(n=>({id:n.id,productId:n.productId,extraCategoryId:n.extraCategoryId,isRequiredOverride:n.isRequiredOverride,minSelectionCount:n.minSelectionCount,maxSelectionCount:n.maxSelectionCount,minTotalQuantity:n.minTotalQuantity,maxTotalQuantity:n.maxTotalQuantity,displayOrder:n.displayOrder}))}catch(t){throw N.error(" rn ekstra kategori listesi getirilirken hata:",t),t}}async getProductExtraCategoryById(t){try{N.info("rn ekstra kategori detay getiriliyor",{id:t});const a=await he.get(`${this.baseUrl}/ProductExtraCategories/${t}`);return N.info("rn ekstra kategori detay baaryla getirildi",{data:a.data}),{id:a.data.id,productId:a.data.productId,extraCategoryId:a.data.extraCategoryId,isRequiredOverride:a.data.isRequiredOverride,minSelectionCount:a.data.minSelectionCount,maxSelectionCount:a.data.maxSelectionCount,minTotalQuantity:a.data.minTotalQuantity,maxTotalQuantity:a.data.maxTotalQuantity,displayOrder:a.data.displayOrder}}catch(a){throw N.error(" rn ekstra kategori detay getirilirken hata:",a),a}}async updateProductExtraCategory(t){try{const a={isRequiredOverride:t.isRequiredOverride,minSelectionCount:t.minSelectionCount,maxSelectionCount:t.maxSelectionCount,minTotalQuantity:t.minTotalQuantity,maxTotalQuantity:t.maxTotalQuantity};N.info("rn ekstra kategorisi gncelleme istei gnderiliyor",{id:t.id,payload:a});const n=await he.put(`${this.baseUrl}/ProductExtraCategories/${t.id}`,a);return N.info("rn ekstra kategorisi baaryla gncellendi",{data:n.data}),{id:n.data.id,productId:n.data.productId,extraCategoryId:n.data.extraCategoryId,isRequiredOverride:n.data.isRequiredOverride,minSelectionCount:n.data.minSelectionCount,maxSelectionCount:n.data.maxSelectionCount,minTotalQuantity:n.data.minTotalQuantity,maxTotalQuantity:n.data.maxTotalQuantity,displayOrder:n.data.displayOrder}}catch(a){throw N.error(" rn ekstra kategorisi gncellenirken hata:",a),a}}async deleteProductExtraCategory(t){try{N.info("rn ekstra kategorisi silme istei gnderiliyor",{id:t}),await he.delete(`${this.baseUrl}/ProductExtraCategories/${t}`),N.info("rn ekstra kategorisi baaryla silindi",{id:t})}catch(a){throw N.error(" rn ekstra kategorisi silinirken hata:",a),a}}async getDeletedProductExtraCategories(){try{N.info("Silinmi rn ekstra kategori listesi getiriliyor");const t=await he.get(`${this.baseUrl}/ProductExtraCategories/deleted`);return N.info("Silinmi rn ekstra kategori listesi baaryla getirildi",{count:t.data.length}),t.data.map(n=>({id:n.id,productId:n.productId,extraCategoryId:n.extraCategoryId,isRequiredOverride:n.isRequiredOverride,minSelectionCount:n.minSelectionCount,maxSelectionCount:n.maxSelectionCount,minTotalQuantity:n.minTotalQuantity,maxTotalQuantity:n.maxTotalQuantity,displayOrder:n.displayOrder}))}catch(t){throw N.error(" Silinmi rn ekstra kategori listesi getirilirken hata:",t),t}}async getAvailableProductExtraCategories(){try{N.info("Aktif rn ekstra kategori listesi getiriliyor");const t=await he.get(`${this.baseUrl}/ProductExtraCategories/available`);return N.info("Aktif rn ekstra kategori listesi baaryla getirildi",{count:t.data.length}),t.data.map(n=>({id:n.id,productId:n.productId,extraCategoryId:n.extraCategoryId,isRequiredOverride:n.isRequiredOverride,minSelectionCount:n.minSelectionCount,maxSelectionCount:n.maxSelectionCount,minTotalQuantity:n.minTotalQuantity,maxTotalQuantity:n.maxTotalQuantity,displayOrder:n.displayOrder}))}catch(t){throw N.error(" Aktif rn ekstra kategori listesi getirilirken hata:",t),t}}async restoreProductExtraCategory(t){try{N.info("rn ekstra kategorisi geri ykleme istei gnderiliyor",{id:t}),await he.post(`${this.baseUrl}/ProductExtraCategories/${t}/restore`),N.info("rn ekstra kategorisi baaryla geri yklendi",{id:t})}catch(a){throw N.error(" rn ekstra kategorisi geri yklenirken hata:",a),a}}async reorderProductExtraCategories(t){try{const a={items:t.items.map(n=>({id:n.id,displayOrder:n.displayOrder}))};N.info("rn ekstra kategorileri sralama istei gnderiliyor",{payload:a}),await he.post(`${this.baseUrl}/ProductExtraCategories/reorder`,a),N.info("rn ekstra kategorileri baaryla sraland")}catch(a){throw N.error(" rn ekstra kategorileri sralanrken hata:",a),a}}}const vp=new Nte;class Cte{baseUrl="/api/ExtraCategories";async getExtraCategories(){try{N.info("Extra kategori listesi getiriliyor");const t=await he.get(`${this.baseUrl}`);return N.info("Extra kategori listesi baaryla getirildi",{count:t.data.length}),t.data}catch(t){throw N.error(" Extra kategori listesi getirilirken hata:",t),t}}async getExtraCategoryById(t){try{N.info("Extra kategori detay getiriliyor",{id:t});const a=await he.get(`${this.baseUrl}/${t}`);return N.info("Extra kategori detay baaryla getirildi",{data:a.data}),a.data}catch(a){throw N.error(" Extra kategori detay getirilirken hata:",a),a}}async createExtraCategory(t){try{const a={categoryName:t.categoryName,status:t.status,isRequired:t.isRequired,isRemovalCategory:t.isRemovalCategory,defaultMinSelectionCount:t.defaultMinSelectionCount,defaultMaxSelectionCount:t.defaultMaxSelectionCount,defaultMinTotalQuantity:t.defaultMinTotalQuantity,defaultMaxTotalQuantity:t.defaultMaxTotalQuantity};N.info("Extra kategori ekleme istei gnderiliyor",{payload:a});const n=await he.post(`${this.baseUrl}`,a);return N.info("Extra kategori baaryla eklendi",{data:n.data}),n.data}catch(a){throw N.error(" Extra kategori eklenirken hata:",a),a}}async updateExtraCategory(t){try{const a={categoryName:t.categoryName,status:t.status,isRequired:t.isRequired,isRemovalCategory:t.isRemovalCategory,defaultMinSelectionCount:t.defaultMinSelectionCount,defaultMaxSelectionCount:t.defaultMaxSelectionCount,defaultMinTotalQuantity:t.defaultMinTotalQuantity,defaultMaxTotalQuantity:t.defaultMaxTotalQuantity};N.info("Extra kategori gncelleme istei gnderiliyor",{id:t.id,payload:a});const n=await he.put(`${this.baseUrl}/${t.id}`,a);return N.info("Extra kategori baaryla gncellendi",{data:n.data}),n.data}catch(a){throw N.error(" Extra kategori gncellenirken hata:",a),a}}async deleteExtraCategory(t){try{N.info("Extra kategori silme istei gnderiliyor",{id:t}),await he.delete(`${this.baseUrl}/${t}`),N.info("Extra kategori baaryla silindi",{id:t})}catch(a){throw N.error(" Extra kategori silinirken hata:",a),a}}async getDeletedExtraCategories(){try{N.info("Silinmi extra kategori listesi getiriliyor");const t=await he.get(`${this.baseUrl}/deleted`);return N.info("Silinmi extra kategori listesi baaryla getirildi",{count:t.data.length}),t.data}catch(t){throw N.error(" Silinmi extra kategori listesi getirilirken hata:",t),t}}async reorderExtraCategories(t){try{N.info("Extra kategori sralama istei gnderiliyor",{reorderData:t}),await he.post(`${this.baseUrl}/reorder`,t),N.info("Extra kategoriler baaryla sraland")}catch(a){throw N.error(" Extra kategoriler sralanrken hata:",a),a}}async restoreExtraCategory(t){try{N.info("Extra kategori geri ykleme istei gnderiliyor",{id:t}),await he.post(`${this.baseUrl}/${t}/restore`),N.info("Extra kategori baaryla geri yklendi",{id:t})}catch(a){throw N.error(" Extra kategori geri yklenirken hata:",a),a}}}const Vd=new Cte,dD=({isOpen:e,onClose:t,onConfirm:a,title:n,message:s,isSubmitting:i,confirmButtonText:o,cancelButtonText:l})=>{const{t:d,isRTL:c}=Ze();return e?r.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:r.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full overflow-hidden scale-100 transform transition-all ${c?"text-right":"text-left"}`,dir:c?"rtl":"ltr",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 rounded-full",children:r.jsx(ya,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 leading-relaxed",children:s}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:t,disabled:i,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors font-medium",children:l||d("extrasManagement.buttons.cancel")}),r.jsx("button",{onClick:a,disabled:i,className:"px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg shadow-md hover:shadow-lg transition-all font-medium flex items-center gap-2",children:i?d("extrasManagement.deleteModal.processingButton"):o||d("extrasManagement.deleteModal.confirmButton")})]})]})})}):null},Ste=({isOpen:e,onClose:t,productId:a,productName:n,onSelectCategory:s})=>{const{t:i,isRTL:o}=Ze(),{isDark:l}=tc(),[d,c]=p.useState([]),[g,h]=p.useState([]),[x,b]=p.useState(!0),[v,j]=p.useState(!1),[w,S]=p.useState(!1),[M,T]=p.useState(null),[A,I]=p.useState(null),[_,D]=p.useState({isOpen:!1,id:null}),[E,X]=p.useState({extraCategoryId:0,isRequiredOverride:!1,minSelectionCount:0,maxSelectionCount:1,minTotalQuantity:0,maxTotalQuantity:10}),[ee,Z]=p.useState({isRequiredOverride:!1,minSelectionCount:0,maxSelectionCount:1,minTotalQuantity:0,maxTotalQuantity:10});p.useEffect(()=>(e&&a&&B(),()=>I(null)),[e,a]);const B=async()=>{try{b(!0),I(null);const z=await Vd.getExtraCategories();h(z.filter($=>$.status));const F=(await vp.getProductExtraCategories()).filter($=>$.productId===a);c(F)}catch(z){N.error("Failed to load data:",z),I(i("error.loadFailed"))}finally{b(!1)}},G=async()=>{if(!E.extraCategoryId){I(i("extrasManagement.productExtras.selectCategory"));return}try{j(!0),I(null);const z={productId:a,extraCategoryId:E.extraCategoryId,isRequiredOverride:E.isRequiredOverride,minSelectionCount:E.minSelectionCount,maxSelectionCount:E.maxSelectionCount,minTotalQuantity:E.minTotalQuantity,maxTotalQuantity:E.maxTotalQuantity};await vp.createProductExtraCategory(z),await B(),X({extraCategoryId:0,isRequiredOverride:!1,minSelectionCount:0,maxSelectionCount:1,minTotalQuantity:0,maxTotalQuantity:10}),S(!1)}catch(z){N.error("Failed to add product extra category:",z),I(z.response?.data?.message)}finally{j(!1)}},J=async z=>{try{j(!0),I(null);const V={id:z,isRequiredOverride:ee.isRequiredOverride,minSelectionCount:ee.minSelectionCount,maxSelectionCount:ee.maxSelectionCount,minTotalQuantity:ee.minTotalQuantity,maxTotalQuantity:ee.maxTotalQuantity};await vp.updateProductExtraCategory(V),await B(),T(null)}catch(V){N.error("Failed to update product extra category:",V),I(i("error.updateFailed"))}finally{j(!1)}},ce=z=>{D({isOpen:!0,id:z})},te=async()=>{if(_.id)try{j(!0),I(null),await vp.deleteProductExtraCategory(_.id),await B(),D({isOpen:!1,id:null})}catch(z){N.error("Failed to delete product extra category:",z),I(i("error.deleteFailed")),D({isOpen:!1,id:null})}finally{j(!1)}},K=z=>{I(null),T(z.id),Z({isRequiredOverride:z.isRequiredOverride,minSelectionCount:z.minSelectionCount,maxSelectionCount:z.maxSelectionCount,minTotalQuantity:z.minTotalQuantity,maxTotalQuantity:z.maxTotalQuantity})},Y=z=>{const V=g.find(F=>F.id===z);return V?V.categoryName:i("extrasManagement.productExtras.unknownCategory")},re=()=>{const z=d.map(V=>V.extraCategoryId);return g.filter(V=>!z.includes(V.id))},ne=z=>{const V=g.find(F=>F.id===z);V&&X({...E,extraCategoryId:z,isRequiredOverride:V.isRequired,minSelectionCount:V.defaultMinSelectionCount,maxSelectionCount:V.defaultMaxSelectionCount,minTotalQuantity:V.defaultMinTotalQuantity,maxTotalQuantity:V.defaultMaxTotalQuantity})};return e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[85vh] overflow-hidden flex flex-col ${o?"rtl":"ltr"}`,dir:o?"rtl":"ltr",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800 z-10",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(hu,{className:"h-6 w-6 text-primary-600"}),i("extrasManagement.productExtras.manageCategories")]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 pl-8",children:n})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:r.jsx(xt,{className:"h-6 w-6 text-gray-500"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-gray-900/50",children:[A&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-center gap-3 text-red-700 dark:text-red-400 animate-in slide-in-from-top-2",children:[r.jsx(Nt,{className:"h-5 w-5 flex-shrink-0"}),r.jsx("p",{className:"text-sm font-medium",children:A})]}),x?r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsx(mt,{className:"h-10 w-10 animate-spin text-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[!w&&re().length>0&&r.jsxs("button",{onClick:()=>S(!0),className:"group w-full flex items-center justify-center gap-3 px-6 py-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl text-gray-600 dark:text-gray-400 hover:border-primary-500 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/10 transition-all duration-200",children:[r.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full p-1 group-hover:bg-primary-100 dark:group-hover:bg-primary-900 transition-colors",children:r.jsx(Ut,{className:"h-5 w-5"})}),r.jsx("span",{className:"font-medium text-lg",children:i("extrasManagement.productExtras.addCategory")})]}),w&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-lg animate-in fade-in slide-in-from-bottom-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-100 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i("extrasManagement.productExtras.addCategory")}),r.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(xt,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:[i("extrasManagement.productExtras.selectCategory")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{title:i("extrasManagement.productExtras.selectCategory"),value:E.extraCategoryId,onChange:z=>ne(parseInt(z.target.value)),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white transition-all",children:[r.jsx("option",{value:0,children:i("extrasManagement.productExtras.chooseCategory")}),re().map(z=>r.jsx("option",{value:z.id,children:z.categoryName},z.id))]})]}),r.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsx("input",{id:"add-required",type:"checkbox",checked:E.isRequiredOverride,onChange:z=>X({...E,isRequiredOverride:z.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),r.jsx("label",{htmlFor:"add-required",className:"ml-3 text-sm font-medium text-gray-700 dark:text-gray-300 cursor-pointer select-none",children:i("extrasManagement.productExtras.required")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1 uppercase tracking-wider",children:i("extrasManagement.productExtras.minSelection")}),r.jsx("input",{title:i("extrasManagement.productExtras.minSelection"),type:"number",min:0,value:E.minSelectionCount,onChange:z=>X({...E,minSelectionCount:parseInt(z.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1 uppercase tracking-wider",children:i("extrasManagement.productExtras.maxSelection")}),r.jsx("input",{title:i("extrasManagement.productExtras.maxSelection"),type:"number",min:1,value:E.maxSelectionCount,onChange:z=>X({...E,maxSelectionCount:parseInt(z.target.value)||1}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1 uppercase tracking-wider",children:i("extrasManagement.productExtras.minQuantity")}),r.jsx("input",{title:i("extrasManagement.productExtras.minQuantity"),type:"number",min:0,value:E.minTotalQuantity,onChange:z=>X({...E,minTotalQuantity:parseInt(z.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1 uppercase tracking-wider",children:i("extrasManagement.productExtras.maxQuantity")}),r.jsx("input",{title:i("extrasManagement.productExtras.maxQuantity"),type:"number",min:1,value:E.maxTotalQuantity,onChange:z=>X({...E,maxTotalQuantity:parseInt(z.target.value)||10}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700"})]})]})]})]}),r.jsxs("div",{className:"mt-6 flex gap-3 justify-end pt-4 border-t border-gray-100 dark:border-gray-700",children:[r.jsx("button",{onClick:()=>S(!1),className:"px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",disabled:v,children:i("extrasManagement.buttons.cancel")}),r.jsx("button",{onClick:G,disabled:v||!E.extraCategoryId,className:"flex items-center gap-2 px-5 py-2.5 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg shadow-sm hover:shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:v?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"h-4 w-4 animate-spin"}),i("extrasManagement.buttons.save")]}):r.jsxs(r.Fragment,{children:[r.jsx(Oa,{className:"h-4 w-4"}),i("extrasManagement.buttons.save")]})})]})]}),d.length===0?r.jsxs("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-xl border border-dashed border-gray-300 dark:border-gray-700",children:[r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ar,{className:"h-8 w-8 text-gray-400"})}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:i("extrasManagement.productExtras.noCategoriesYet")}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:i("extrasManagement.categories.tryAdjusting")})]}):r.jsx("div",{className:"grid gap-4",children:d.map(z=>r.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl border transition-all duration-200 ${M===z.id?"border-primary-500 ring-2 ring-primary-500/10 shadow-lg z-10":"border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-700 hover:shadow-md"}`,children:M===z.id?r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[i("extrasManagement.buttons.edit"),": ",Y(z.extraCategoryId)]}),r.jsxs("div",{className:"flex items-center p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[r.jsx("input",{id:`edit-req-${z.id}`,type:"checkbox",checked:ee.isRequiredOverride,onChange:V=>Z({...ee,isRequiredOverride:V.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),r.jsx("label",{htmlFor:`edit-req-${z.id}`,className:"ml-2 text-sm text-gray-700 dark:text-gray-300 font-medium cursor-pointer",children:i("extrasManagement.productExtras.required")})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[r.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:i("extrasManagement.productExtras.selectionLimits")}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:i("extrasManagement.productExtras.minSelectLabel")}),r.jsx("input",{title:i("extrasManagement.productExtras.minSelectLabel"),type:"number",min:0,value:ee.minSelectionCount,onChange:V=>Z({...ee,minSelectionCount:parseInt(V.target.value)||0}),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:i("extrasManagement.productExtras.maxSelectLabel")}),r.jsx("input",{title:i("extrasManagement.productExtras.maxSelectLabel"),type:"number",min:1,value:ee.maxSelectionCount,onChange:V=>Z({...ee,maxSelectionCount:parseInt(V.target.value)||1}),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"})]})]})]}),r.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[r.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:i("extrasManagement.productExtras.quantityLimits")}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:i("extrasManagement.productExtras.minTotalLabel")}),r.jsx("input",{title:i("extrasManagement.productExtras.minTotalLabel"),type:"number",min:0,value:ee.minTotalQuantity,onChange:V=>Z({...ee,minTotalQuantity:parseInt(V.target.value)||0}),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:i("extrasManagement.productExtras.maxTotalLabel")}),r.jsx("input",{title:i("extrasManagement.productExtras.maxTotalLabel"),type:"number",min:1,value:ee.maxTotalQuantity,onChange:V=>Z({...ee,maxTotalQuantity:parseInt(V.target.value)||10}),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"})]})]})]})]}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx("button",{onClick:()=>T(null),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",disabled:v,children:i("extrasManagement.buttons.cancel")}),r.jsxs("button",{onClick:()=>J(z.id),disabled:v,className:"flex items-center gap-2 px-6 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg shadow-sm",children:[v?r.jsx(mt,{className:"h-4 w-4 animate-spin"}):r.jsx(Oa,{className:"h-4 w-4"}),i("extrasManagement.buttons.save")]})]})]}):r.jsxs("div",{className:"p-5 flex items-center justify-between group",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Y(z.extraCategoryId)}),z.isRequiredOverride?r.jsx("span",{className:"px-2.5 py-0.5 text-xs font-bold uppercase tracking-wide bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300 rounded-full",children:i("extrasManagement.productExtras.required")}):r.jsx("span",{className:"px-2.5 py-0.5 text-xs font-bold uppercase tracking-wide bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-full",children:i("extrasManagement.productExtras.optional")})]}),r.jsxs("div",{className:"flex gap-6 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-xs text-gray-400 uppercase",children:i("extrasManagement.productExtras.selection")}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:[z.minSelectionCount," - ",z.maxSelectionCount]})]}),r.jsx("div",{className:"w-px bg-gray-200 dark:bg-gray-700 h-8"}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-xs text-gray-400 uppercase",children:i("extrasManagement.productExtras.quantity")}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:[z.minTotalQuantity," - ",z.maxTotalQuantity]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>s(z.extraCategoryId,Y(z.extraCategoryId)),className:"flex items-center gap-1 px-4 py-2 text-sm font-medium text-primary-700 dark:text-primary-300 bg-primary-50 dark:bg-primary-900/30 rounded-lg hover:bg-primary-100 dark:hover:bg-primary-900/50 transition-colors mr-2",children:[i("extrasManagement.productExtras.manageExtras"),r.jsx(Wm,{className:"h-4 w-4"})]}),r.jsxs("div",{className:"flex items-center gap-1 border-l border-gray-200 dark:border-gray-700 pl-3",children:[r.jsx("button",{onClick:()=>K(z),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",title:i("extrasManagement.buttons.edit"),children:r.jsx(bo,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>ce(z.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:i("extrasManagement.buttons.delete"),children:r.jsx(wr,{className:"h-4 w-4"})})]})]})]})},z.id))})]})]})]})}),r.jsx(dD,{isOpen:_.isOpen,onClose:()=>D({isOpen:!1,id:null}),onConfirm:te,title:i("extrasManagement.deleteModal.titleCategory"),message:i("extrasManagement.productExtras.confirmDelete"),isSubmitting:v})]}):null};class Pte{baseUrl="/api";async createProductExtra(t){try{const a={productId:t.productId,extraId:t.extraId,selectionMode:t.selectionMode,defaultQuantity:t.defaultQuantity,defaultMinQuantity:t.defaultMinQuantity,defaultMaxQuantity:t.defaultMaxQuantity,unitPrice:t.unitPrice,isRequired:t.isRequired};N.info("rn ekstras ekleme istei gnderiliyor",{payload:a});const n=await he.post(`${this.baseUrl}/ProductExtras`,a);return N.info("rn ekstras baaryla eklendi",{data:n.data}),{id:n.data.id,productId:n.data.productId,extraId:n.data.extraId,selectionMode:n.data.selectionMode,defaultQuantity:n.data.defaultQuantity,defaultMinQuantity:n.data.defaultMinQuantity,defaultMaxQuantity:n.data.defaultMaxQuantity,unitPrice:n.data.unitPrice,isRequired:n.data.isRequired,displayOrder:n.data.displayOrder,isDeleted:n.data.isDeleted}}catch(a){throw N.error(" rn ekstras eklenirken hata:",a),a}}async getProductExtrasByProductId(t){try{N.info("rn ekstraslar listesi getiriliyor",{productId:t});const a=await he.get(`${this.baseUrl}/ProductExtras/product/${t}`);return N.info("rn ekstraslar listesi baaryla getirildi",{productId:t,count:a.data.length}),a.data.map(s=>({id:s.id,productId:s.productId,extraId:s.extraId,selectionMode:s.selectionMode,defaultQuantity:s.defaultQuantity,defaultMinQuantity:s.defaultMinQuantity,defaultMaxQuantity:s.defaultMaxQuantity,unitPrice:s.unitPrice,isRequired:s.isRequired,displayOrder:s.displayOrder,isDeleted:s.isDeleted}))}catch(a){throw N.error(" rn ekstraslar listesi getirilirken hata:",a),a}}async updateProductExtra(t){try{const a={selectionMode:t.selectionMode,defaultQuantity:t.defaultQuantity,defaultMinQuantity:t.defaultMinQuantity,defaultMaxQuantity:t.defaultMaxQuantity,unitPrice:t.unitPrice,isRequired:t.isRequired};N.info("rn ekstras gncelleme istei gnderiliyor",{id:t.id,payload:a});const n=await he.put(`${this.baseUrl}/ProductExtras/${t.id}`,a);return N.info("rn ekstras baaryla gncellendi",{data:n.data}),{id:n.data.id,productId:n.data.productId,extraId:n.data.extraId,selectionMode:n.data.selectionMode,defaultQuantity:n.data.defaultQuantity,defaultMinQuantity:n.data.defaultMinQuantity,defaultMaxQuantity:n.data.defaultMaxQuantity,unitPrice:n.data.unitPrice,isRequired:n.data.isRequired,displayOrder:n.data.displayOrder,isDeleted:n.data.isDeleted}}catch(a){throw N.error(" rn ekstras gncellenirken hata:",a),a}}async deleteProductExtra(t){try{N.info("rn ekstras silme istei gnderiliyor",{id:t}),await he.delete(`${this.baseUrl}/ProductExtras/${t}`),N.info("rn ekstras baaryla silindi",{id:t})}catch(a){throw N.error(" rn ekstras silinirken hata:",a),a}}async getDeletedProductExtras(){try{N.info("Silinmi rn ekstraslar listesi getiriliyor");const t=await he.get(`${this.baseUrl}/ProductExtras/deleted`);return N.info("Silinmi rn ekstraslar listesi baaryla getirildi",{count:t.data.length}),t.data.map(n=>({id:n.id,productId:n.productId,extraId:n.extraId,selectionMode:n.selectionMode,defaultQuantity:n.defaultQuantity,defaultMinQuantity:n.defaultMinQuantity,defaultMaxQuantity:n.defaultMaxQuantity,unitPrice:n.unitPrice,isRequired:n.isRequired,displayOrder:n.displayOrder,isDeleted:n.isDeleted}))}catch(t){throw N.error(" Silinmi rn ekstraslar listesi getirilirken hata:",t),t}}async restoreProductExtra(t){try{N.info("rn ekstras geri ykleme istei gnderiliyor",{id:t}),await he.post(`${this.baseUrl}/ProductExtras/${t}/restore`),N.info("rn ekstras baaryla geri yklendi",{id:t})}catch(a){throw N.error(" rn ekstras geri yklenirken hata:",a),a}}async reorderProductExtras(t){try{const a={productId:t.productId,extraOrders:t.extraOrders.map(n=>({productExtraId:n.productExtraId,newDisplayOrder:n.newDisplayOrder}))};N.info("rn ekstraslar sralama istei gnderiliyor",{payload:a}),await he.post(`${this.baseUrl}/ProductExtras/product/${t.productId}/reorder`,a),N.info("rn ekstraslar baaryla sraland",{productId:t.productId})}catch(a){throw N.error(" rn ekstraslar sralanrken hata:",a),a}}}const kp=new Pte;class Mte{baseUrl="/api/Extras";async getExtras(){try{N.info("Extra listesi getiriliyor");const t=await he.get(`${this.baseUrl}`);return N.info("Extra listesi baaryla getirildi",{count:t.data.length}),t.data}catch(t){throw N.error(" Extra listesi getirilirken hata:",t),t}}async getExtraById(t){try{N.info("Extra detay getiriliyor",{id:t});const a=await he.get(`${this.baseUrl}/${t}`);return N.info("Extra detay baaryla getirildi",{data:a.data}),a.data}catch(a){throw N.error(" Extra detay getirilirken hata:",a),a}}async createExtra(t){try{const a={extraCategoryId:t.extraCategoryId,name:t.name,description:t.description,basePrice:t.basePrice,isRemoval:t.isRemoval,imageUrl:t.imageUrl,status:t.status};N.info("Extra ekleme istei gnderiliyor",{payload:a});const n=await he.post(`${this.baseUrl}`,a);return N.info("Extra baaryla eklendi",{data:n.data}),n.data}catch(a){throw N.error(" Extra eklenirken hata:",a),a}}async updateExtra(t){try{const a={extraCategoryId:t.extraCategoryId,name:t.name,description:t.description,basePrice:t.basePrice,isRemoval:t.isRemoval,imageUrl:t.imageUrl,status:t.status};N.info("Extra gncelleme istei gnderiliyor",{id:t.id,payload:a});const n=await he.put(`${this.baseUrl}/${t.id}`,a);return N.info("Extra baaryla gncellendi",{data:n.data}),n.data}catch(a){throw N.error(" Extra gncellenirken hata:",a),a}}async deleteExtra(t){try{N.info("Extra silme istei gnderiliyor",{id:t}),await he.delete(`${this.baseUrl}/${t}`),N.info("Extra baaryla silindi",{id:t})}catch(a){throw N.error(" Extra silinirken hata:",a),a}}async getDeletedExtras(){try{N.info("Silinmi extra listesi getiriliyor");const t=await he.get(`${this.baseUrl}/deleted`);return N.info("Silinmi extra listesi baaryla getirildi",{count:t.data.length}),t.data}catch(t){throw N.error(" Silinmi extra listesi getirilirken hata:",t),t}}async reorderExtras(t){try{N.info("Extra sralama istei gnderiliyor",{reorderData:t}),await he.post(`${this.baseUrl}/reorder`,t),N.info("Extralar baaryla sraland")}catch(a){throw N.error(" Extralar sralanrken hata:",a),a}}async restoreExtra(t){try{N.info("Extra geri ykleme istei gnderiliyor",{id:t}),await he.post(`${this.baseUrl}/${t}/restore`),N.info("Extra baaryla geri yklendi",{id:t})}catch(a){throw N.error(" Extra geri yklenirken hata:",a),a}}}const Hd=new Mte,Tte=({isOpen:e,onClose:t,onBack:a,productId:n,productName:s,extraCategoryId:i,extraCategoryName:o})=>{const{t:l,isRTL:d}=Ze(),{isDark:c}=tc(),[g,h]=p.useState([]),[x,b]=p.useState([]),[v,j]=p.useState(!0),[w,S]=p.useState(!1),[M,T]=p.useState(!1),[A,I]=p.useState(null),[_,D]=p.useState(null),[E,X]=p.useState({isOpen:!1,id:null}),[ee,Z]=p.useState({extraId:0,selectionMode:0,defaultQuantity:1,defaultMinQuantity:0,defaultMaxQuantity:1,unitPrice:0,isRequired:!1}),[B,G]=p.useState({selectionMode:0,defaultQuantity:1,defaultMinQuantity:0,defaultMaxQuantity:1,unitPrice:0,isRequired:!1});p.useEffect(()=>(e&&n&&i&&J(),()=>D(null)),[e,n,i]);const J=async()=>{try{j(!0),D(null);const $=await Hd.getExtras(),q=$.filter(de=>de.extraCategoryId===i&&de.status);b(q);const Q=(await kp.getProductExtrasByProductId(n)).filter(de=>{const me=$.find(je=>je.id===de.extraId);return me&&me.extraCategoryId===i});h(Q)}catch($){N.error("Failed to load product extras:",$),D(l("error.loadFailed"))}finally{j(!1)}},ce=async()=>{if(!ee.extraId){D(l("extrasManagement.productExtras.selectExtra"));return}try{S(!0),D(null);const $={productId:n,extraId:ee.extraId,selectionMode:ee.selectionMode,defaultQuantity:ee.defaultQuantity,defaultMinQuantity:ee.defaultMinQuantity,defaultMaxQuantity:ee.defaultMaxQuantity,unitPrice:ee.unitPrice,isRequired:ee.isRequired};await kp.createProductExtra($),await J(),Z({extraId:0,selectionMode:0,defaultQuantity:1,defaultMinQuantity:0,defaultMaxQuantity:1,unitPrice:0,isRequired:!1}),T(!1)}catch($){N.error("Failed to add product extra:",$),D($.response?.data?.message)}finally{S(!1)}},te=async $=>{try{S(!0),D(null);const q={id:$,selectionMode:B.selectionMode,defaultQuantity:B.defaultQuantity,defaultMinQuantity:B.defaultMinQuantity,defaultMaxQuantity:B.defaultMaxQuantity,unitPrice:B.unitPrice,isRequired:B.isRequired};await kp.updateProductExtra(q),await J(),I(null)}catch(q){N.error("Failed to update product extra:",q),D(l("error.updateFailed"))}finally{S(!1)}},K=$=>{X({isOpen:!0,id:$})},Y=async()=>{if(E.id)try{S(!0),D(null),await kp.deleteProductExtra(E.id),await J(),X({isOpen:!1,id:null})}catch($){N.error("Failed to delete product extra:",$),D(l("error.deleteFailed")),X({isOpen:!1,id:null})}finally{S(!1)}},re=$=>{D(null),I($.id),G({selectionMode:$.selectionMode,defaultQuantity:$.defaultQuantity,defaultMinQuantity:$.defaultMinQuantity,defaultMaxQuantity:$.defaultMaxQuantity,unitPrice:$.unitPrice,isRequired:$.isRequired})},ne=$=>{const q=x.find(H=>H.id===$);return q?q.name:l("extrasManagement.productExtras.unknownExtra")},z=$=>x.find(q=>q.id===$),V=()=>{const $=g.map(q=>q.extraId);return x.filter(q=>!$.includes(q.id))},F=$=>{const q=x.find(H=>H.id===$);q&&Z({...ee,extraId:$,unitPrice:q.basePrice})};return e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-5xl max-h-[85vh] overflow-hidden flex flex-col ${d?"rtl":"ltr"}`,dir:d?"rtl":"ltr",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800 z-10",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full text-gray-500 hover:text-gray-700 transition-colors",title:l("common.back"),children:r.jsx(ms,{className:`h-6 w-6 ${d?"rotate-180":""}`})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(hu,{className:"h-6 w-6 text-primary-600"}),l("extrasManagement.productExtras.manageExtras")]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mt-1",children:[r.jsx("span",{children:s}),r.jsx("span",{className:"text-gray-300 mx-1",children:""}),r.jsx("span",{className:"font-medium text-primary-600 dark:text-primary-400",children:o})]})]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:r.jsx(xt,{className:"h-6 w-6 text-gray-500"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-gray-900/50",children:[_&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-center gap-3 text-red-700 dark:text-red-400 animate-in slide-in-from-top-2",children:[r.jsx(Nt,{className:"h-5 w-5 flex-shrink-0"}),r.jsx("p",{className:"text-sm font-medium",children:_})]}),v?r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsx(mt,{className:"h-10 w-10 animate-spin text-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[!M&&V().length>0&&r.jsxs("button",{onClick:()=>T(!0),className:"group w-full flex items-center justify-center gap-3 px-6 py-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl text-gray-600 dark:text-gray-400 hover:border-primary-500 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/10 transition-all duration-200",children:[r.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full p-1 group-hover:bg-primary-100 dark:group-hover:bg-primary-900 transition-colors",children:r.jsx(Ut,{className:"h-5 w-5"})}),r.jsx("span",{className:"font-medium text-lg",children:l("extrasManagement.productExtras.addExtra")})]}),M&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-lg animate-in fade-in slide-in-from-bottom-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-100 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l("extrasManagement.productExtras.addExtra")}),r.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(xt,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:[l("extrasManagement.productExtras.selectExtra")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{title:"Select Extra",value:ee.extraId,onChange:$=>F(parseInt($.target.value)),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white transition-all",children:[r.jsx("option",{value:0,children:l("extrasManagement.productExtras.chooseExtra")}),V().map($=>r.jsxs("option",{value:$.id,children:[$.name," (",l("extrasManagement.productExtras.basePrice"),": $",$.basePrice.toFixed(2),")"]},$.id))]}),ee.extraId>0&&r.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 p-2 rounded border border-gray-100 dark:border-gray-700",children:z(ee.extraId)?.description||"No description available"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[l("extrasManagement.productExtras.unitPrice")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(qr,{className:`absolute ${d?"right-4":"left-4"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{title:"Unit Price",type:"number",min:0,step:.01,value:ee.unitPrice,onChange:$=>Z({...ee,unitPrice:parseFloat($.target.value)||0}),className:`w-full ${d?"pr-12 pl-4":"pl-12 pr-4"} py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 font-medium text-lg`})]})]})]}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l("extrasManagement.productExtras.selectionMode")}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("label",{className:`flex items-center justify-center gap-2 p-3 rounded-lg border cursor-pointer transition-all ${ee.selectionMode===0?"bg-primary-50 border-primary-500 text-primary-700":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("input",{type:"radio",value:0,checked:ee.selectionMode===0,onChange:()=>Z({...ee,selectionMode:0}),className:"hidden"}),r.jsx("span",{className:"font-medium",children:l("extrasManagement.productExtras.single")})]}),r.jsxs("label",{className:`flex items-center justify-center gap-2 p-3 rounded-lg border cursor-pointer transition-all ${ee.selectionMode===1?"bg-primary-50 border-primary-500 text-primary-700":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("input",{type:"radio",value:1,checked:ee.selectionMode===1,onChange:()=>Z({...ee,selectionMode:1}),className:"hidden"}),r.jsx("span",{className:"font-medium",children:l("extrasManagement.productExtras.multiple")})]})]})]}),r.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-xl space-y-4",children:[r.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Quantity Configuration"}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Default"}),r.jsx("input",{title:"Default",type:"number",min:1,value:ee.defaultQuantity,onChange:$=>Z({...ee,defaultQuantity:parseInt($.target.value)||1}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Min"}),r.jsx("input",{title:"Min",type:"number",min:0,value:ee.defaultMinQuantity,onChange:$=>Z({...ee,defaultMinQuantity:parseInt($.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Max"}),r.jsx("input",{title:"Max",type:"number",min:1,value:ee.defaultMaxQuantity,onChange:$=>Z({...ee,defaultMaxQuantity:parseInt($.target.value)||10}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]})]})]})]}),r.jsxs("div",{className:"mt-6 flex gap-3 justify-end pt-4 border-t border-gray-100 dark:border-gray-700",children:[r.jsx("button",{onClick:()=>T(!1),className:"px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",disabled:w,children:l("common.cancel")}),r.jsx("button",{onClick:ce,disabled:w||!ee.extraId,className:"flex items-center gap-2 px-5 py-2.5 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg shadow-sm hover:shadow-md transition-all disabled:opacity-50",children:w?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"h-4 w-4 animate-spin"}),l("common.saving")]}):r.jsxs(r.Fragment,{children:[r.jsx(Oa,{className:"h-4 w-4"}),l("common.save")]})})]})]}),g.length===0?r.jsxs("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-xl border border-dashed border-gray-300 dark:border-gray-700",children:[r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ar,{className:"h-8 w-8 text-gray-400"})}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:l("extrasManagement.productExtras.noExtrasYet")}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Add extras to this category using the button above."})]}):r.jsx("div",{className:"grid gap-4",children:g.map($=>{const q=z($.extraId);return r.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl border transition-all duration-200 ${A===$.id?"border-primary-500 ring-2 ring-primary-500/10 shadow-lg z-10":"border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-700 hover:shadow-md"}`,children:A===$.id?r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[l("common.edit"),": ",ne($.extraId)]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price & Selection"}),r.jsxs("div",{className:"relative mb-3",children:[r.jsx(qr,{className:`absolute ${d?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400`}),r.jsx("input",{title:"Unit Price",type:"number",min:0,step:.01,value:B.unitPrice,onChange:H=>G({...B,unitPrice:parseFloat(H.target.value)||0}),className:`w-full ${d?"pr-10 pl-4":"pl-10 pr-4"} py-2 border border-gray-300 rounded-lg`})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>G({...B,selectionMode:0}),className:`flex-1 py-2 text-xs font-medium rounded border ${B.selectionMode===0?"bg-primary-50 border-primary-500 text-primary-700":"bg-white border-gray-200"}`,children:"Single Select"}),r.jsx("button",{onClick:()=>G({...B,selectionMode:1}),className:`flex-1 py-2 text-xs font-medium rounded border ${B.selectionMode===1?"bg-primary-50 border-primary-500 text-primary-700":"bg-white border-gray-200"}`,children:"Multi Select"})]})]})}),r.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[r.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Quantities"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Def."}),r.jsx("input",{title:"Default",type:"number",value:B.defaultQuantity,onChange:H=>G({...B,defaultQuantity:parseInt(H.target.value)||1}),className:"w-full px-2 py-1.5 text-sm border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Min"}),r.jsx("input",{title:"Min",type:"number",value:B.defaultMinQuantity,onChange:H=>G({...B,defaultMinQuantity:parseInt(H.target.value)||1}),className:"w-full px-2 py-1.5 text-sm border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Max"}),r.jsx("input",{title:"Max",type:"number",value:B.defaultMaxQuantity,onChange:H=>G({...B,defaultMaxQuantity:parseInt(H.target.value)||1}),className:"w-full px-2 py-1.5 text-sm border rounded"})]})]})]})]}),r.jsxs("div",{className:"flex gap-2 justify-end mt-6",children:[r.jsx("button",{onClick:()=>I(null),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",disabled:w,children:l("common.cancel")}),r.jsxs("button",{onClick:()=>te($.id),disabled:w,className:"flex items-center gap-2 px-6 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg shadow-sm",children:[w?r.jsx(mt,{className:"h-4 w-4 animate-spin"}):r.jsx(Oa,{className:"h-4 w-4"}),l("common.save")]})]})]}):r.jsxs("div",{className:"p-5 flex items-center justify-between group",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:ne($.extraId)}),r.jsxs("div",{className:"flex gap-2",children:[$.isRequired&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-bold uppercase bg-red-100 text-red-700 rounded",children:"Req"}),r.jsx("span",{className:"px-2 py-0.5 text-xs font-bold uppercase bg-blue-100 text-blue-700 rounded",children:$.selectionMode===0?"Single":"Multi"})]})]}),q?.description&&r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3 line-clamp-1",children:q.description}),r.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-gray-900 dark:text-white font-semibold bg-green-50 dark:bg-green-900/20 px-3 py-1 rounded-full border border-green-100 dark:border-green-900/30",children:[r.jsx(qr,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{children:$.unitPrice.toFixed(2)})]}),r.jsxs("div",{className:"text-gray-500",children:["Qty: ",r.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:$.defaultQuantity})," (",$.defaultMinQuantity,"-",$.defaultMaxQuantity,")"]})]})]}),r.jsxs("div",{className:"flex items-center gap-1 border-l border-gray-200 dark:border-gray-700 pl-4 ml-4",children:[r.jsx("button",{onClick:()=>re($),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",children:r.jsx(bo,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>K($.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:r.jsx(wr,{className:"h-4 w-4"})})]})]})},$.id)})})]})]})]})}),r.jsx(dD,{isOpen:E.isOpen,onClose:()=>X({isOpen:!1,id:null}),onConfirm:Y,title:"Delete Extra Assignment",message:l("extrasManagement.productExtras.confirmDeleteExtra")})]}):null},Ite=({isOpen:e,onClose:t,onSuccess:a,productId:n,productName:s})=>{const[i,o]=p.useState("categories"),[l,d]=p.useState(null);p.useEffect(()=>{e&&(o("categories"),d(null),N.info("Product extras modal opened",{productId:n,productName:s}))},[e,n,s]);const c=(x,b)=>{d({id:x,name:b}),o("extras"),N.info("Selected category for extras management",{categoryId:x,categoryName:b})},g=()=>{o("categories"),d(null)},h=()=>{o("categories"),d(null),t(),a()};return e?r.jsxs(r.Fragment,{children:[i==="categories"&&r.jsx(Ste,{isOpen:!0,onClose:h,productId:n,productName:s,onSelectCategory:c}),i==="extras"&&l&&r.jsx(Tte,{isOpen:!0,onClose:h,onBack:g,productId:n,productName:s,extraCategoryId:l.id,extraCategoryName:l.name})]}):null},pw=-1,Ate=`
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.textContent=Ate,document.head.appendChild(e)}const Ete=()=>{const{isDark:e}=tc(),{t,isRTL:a}=Ze(),[n,s]=p.useState([]),[i,o]=p.useState(""),[l,d]=p.useState(null),c=Ra(),[g,h]=p.useState([]),[x,b]=p.useState(null),[v,j]=p.useState(!1),[w,S]=p.useState(!1),[M,T]=p.useState("order_asc"),[A,I]=p.useState(!1),[_,D]=p.useState(!1),[E,X]=p.useState({status:"all",categories:[],priceRange:{min:0,max:1e3}}),[ee,Z]=p.useState(()=>{const He=localStorage.getItem("productsViewMode");return He==="grid"||He==="list"?He:"list"}),[B,G]=p.useState(null),J=p.useRef(null),ce=p.useRef(null),te=p.useRef(null),[K,Y]=p.useState(!1),[re,ne]=p.useState(!1),[z,V]=p.useState(!1),[F,$]=p.useState(!1),[q,H]=p.useState(!1),[Q,de]=p.useState(!1),[me,je]=p.useState(!1),[fe,se]=p.useState(null),[ie,ue]=p.useState(!1),[le,xe]=p.useState(null),[ze,Le]=p.useState(!1),[ut,kt]=p.useState(null),[qt,hr]=p.useState(!1),[jr,nt]=p.useState(null),rt=(He,it)=>{if(!He||He===0||isNaN(He)){console.error(" Invalid productId provided:",He),alert(t("productsContent.error.invalidData"));return}if(!it||it.trim()===""){console.error(" Invalid productName provided:",it),alert(t("productsContent.error.invalidData"));return}nt({productId:He,productName:it}),hr(!0)},[Pr,Ht]=p.useState(null),[Wt,ge]=p.useState(""),[ye,Be]=p.useState(null),[Qe,pt]=p.useState(null),[Ce,we]=p.useState(!0),[be,Ie]=p.useState(!1),[Se,_e]=p.useState(!1),[Ye,Ft]=p.useState(null);Ss(J,()=>I(!1)),Ss(ce,()=>D(!1)),Ss(te,()=>j(!1)),p.useEffect(()=>{(async()=>{S(!0);try{const it=await oa.getBranchesDropdown(),jt={branchId:pw,branchName:t("productsContent.branch.selectAll")||"All Branches"},Gt=[jt,...it];h(Gt),x||b(jt),N.info("ube listesi baaryla yklendi",{branchCount:it.length})}catch(it){N.error("ube listesi yklenirken hata:",it)}finally{S(!1)}})()},[]),p.useEffect(()=>{x&&Ve()},[x]);const Tt=He=>{b(He),j(!1)},nr=(He,it)=>{if(!He||He===0||isNaN(He)){console.error(" Invalid productId provided:",He),alert(t("productsContent.error.invalidData"));return}if(!it||it.trim()===""){console.error(" Invalid productName provided:",it),alert(t("productsContent.error.invalidData"));return}kt({productId:He,productName:it}),Le(!0)},gr=(He,it)=>{Ft({productId:He,productName:it}),_e(!0)},sa=(He,it)=>{if(!He||He===0||isNaN(He)){console.error(" Invalid productId provided:",He),alert(t("productsContent.error.invalidData"));return}if(!it||it.trim()===""){console.error(" Invalid productName provided:",it),alert(t("productsContent.error.invalidData"));return}xe({productId:He,productName:it}),ue(!0)},Ve=async He=>{if(x)try{we(!0);let it;if(x.branchId===pw?(it=await Fr.getCategories(),N.info("Tm kategori verileri baaryla yklendi",{categoryCount:it.length})):(it=await Fr.getBranchCategories(x.branchId),N.info("ube kategori verileri baaryla yklendi",{branchId:x.branchId,categoryCount:it.length})),He){const jt=it.find(Gt=>Gt.products?.some(Re=>Re.id===He));jt&&(it=it.map(Gt=>Gt.categoryId===jt.categoryId?{...Gt,isExpanded:!0}:Gt)),G(He)}s(it)}catch(it){N.error("Kategori verileri alnamad:",it)}finally{we(!1)}};p.useEffect(()=>{B&&setTimeout(()=>{const He=document.querySelector(`[data-product-id="${B}"]`);He&&He.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{G(null)},3e3)},500)},[B,n]);const et=(He=>{const it=[...He];return it.sort((jt,Gt)=>{switch(M){case"name_asc":return jt.categoryName.localeCompare(Gt.categoryName);case"name_desc":return Gt.categoryName.localeCompare(jt.categoryName);case"order_asc":return jt.displayOrder-Gt.displayOrder;case"order_desc":return Gt.displayOrder-jt.displayOrder;default:return jt.displayOrder-Gt.displayOrder}}),it.map(jt=>({...jt,products:[...jt.products].sort((Gt,Re)=>{switch(M){case"name_asc":return Gt.name.localeCompare(Re.name);case"name_desc":return Re.name.localeCompare(Gt.name);case"price_asc":return Gt.price-Re.price;case"price_desc":return Re.price-Gt.price;case"order_asc":return Gt.displayOrder-Re.displayOrder;case"order_desc":return Re.displayOrder-Gt.displayOrder;default:return Gt.displayOrder-Re.displayOrder}})}))})((He=>He.map(it=>{let jt=it?.products?.filter(Gt=>!(E.status==="active"&&!Gt.isAvailable||E.status==="inactive"&&Gt.isAvailable||Gt.price<E.priceRange.min||Gt.price>E.priceRange.max||E.categories.length>0&&!E.categories.includes(it.categoryId)));return{...it,products:jt}}).filter(it=>it?.products?.length>0||i===""&&E.status==="all"&&E.categories.length===0))((He=>i.trim()?He.map(it=>({...it,products:it?.products?.filter(jt=>jt.name.toLowerCase().includes(i.toLowerCase())||jt.description&&jt.description.toLowerCase().includes(i.toLowerCase()))})).filter(it=>it?.products?.length>0||it.categoryName.toLowerCase().includes(i.toLowerCase())):He)(n))),bt=[{value:"order_asc",label:t("sort.order.asc")||"Order (A-Z)",icon:Vi},{value:"order_desc",label:t("sort.order.desc")||"Order (Z-A)",icon:Vi},{value:"name_asc",label:t("sort.name.asc")||"Name (A-Z)",icon:Gp},{value:"name_desc",label:t("sort.name.desc")||"Name (Z-A)",icon:Qp},{value:"price_asc",label:t("sort.price.asc")||"Price (Low-High)",icon:qr},{value:"price_desc",label:t("sort.price.desc")||"Price (High-Low)",icon:qr}],Rt=He=>{s(n.map(it=>it.categoryId===He?{...it,isExpanded:!it.isExpanded}:it))},Xt=He=>{const it=n.flatMap(jt=>jt.products).find(jt=>jt.id===He);if(!it){N.error("Silinecek rn bulunamad:",{productId:He});return}Ht({type:"product",id:He,title:t("productsContent.delete.product.title"),message:t("productsContent.delete.product.message",{productName:it.name}),onConfirm:async()=>{Ie(!0);try{await Fr.deleteProduct(He),s(n.map(jt=>({...jt,products:jt.products?.filter(Gt=>Gt.id!==He)}))),N.info("rn baaryla silindi",{productId:He})}finally{Ie(!1)}}}),H(!0)},cr=He=>{const it=n.flatMap(jt=>jt.products).find(jt=>jt.id===He);it?(pt(it),$(!0)):(N.error("Dzenlenecek rn bulunamad:",{productId:He}),alert(t("productsContent.error.productNotFound")+" "+t("productsContent.error.refreshPage")))},gt=He=>{const it=n.find(jt=>jt.categoryId===He);if(!it){alert(t("productsContent.error.categoryNotFound"));return}Ht({type:"category",id:He,title:t("productsContent.delete.category.title"),message:it?.products?.length>0?t("products.delete.category.messageWithProducts",{categoryName:it.categoryName,productCount:it?.products?.length}):t("productsContent.delete.category.messageEmpty",{categoryName:it.categoryName}),onConfirm:async()=>{Ie(!0);try{await Fr.deleteCategory(He),s(n.filter(jt=>jt.categoryId!==He)),N.info("Kategori baaryla silindi",{categoryId:He})}finally{Ie(!1)}}}),H(!0)},ia=He=>{const it=n.find(jt=>jt.categoryId===He);it?(Be(it),V(!0)):(N.error("Dzenlenecek kategori bulunamad:",{categoryId:He}),alert(t("productsContent.error.categoryNotFound")+" "+t("productsContent.error.refreshPage")))},Ha=()=>{X({status:"all",categories:[],priceRange:{min:0,max:1e3}}),o(""),T("order_asc")},cn=E.status!=="all"||E.categories.length>0||E.priceRange.min>0||E.priceRange.max<1e3||i!=="",Es=z2(Am(j0,{activationConstraint:{distance:8}}),Am(w0,{coordinateGetter:K2})),_s=He=>{d(He.active.id)},Cn=He=>{const{active:it,over:jt}=He;if(!jt)return;const Gt=it.id,Re=jt.id;if(Gt===Re)return;const zt=n.flatMap(Qt=>Qt.products).find(Qt=>Qt.id===Gt);if(zt){const Qt=n.find(Dt=>Dt.categoryId===Re),fr=n.flatMap(Dt=>Dt.products).find(Dt=>Dt.id===Re);Qt?s(Dt=>{const lr=[...Dt],yt=lr.find(At=>At.products?.some(ha=>ha.id===Gt));yt&&(yt.products=yt.products?.filter(At=>At.id!==Gt));const Yt=lr.find(At=>At.categoryId===Re);if(Yt){const At={...zt,categoryId:Re};Yt.products?.push(At)}return lr}):fr&&zt.categoryId!==fr.categoryId&&s(Dt=>{const lr=[...Dt],yt=lr.find(At=>At.products?.some(ha=>ha.id===Gt));yt&&(yt.products=yt.products?.filter(At=>At.id!==Gt));const Yt=lr.find(At=>At.categoryId===fr.categoryId);if(Yt){const At={...zt,categoryId:fr.categoryId},ha=Yt.products?.findIndex(ca=>ca.id===Re);Yt.products?.splice(ha,0,At)}return lr})}},Fn=async He=>{const{active:it,over:jt}=He;if(d(null),!jt||it.id===jt.id)return;const Gt=it.id,Re=jt.id,zt=n.find(lr=>lr.categoryId===Gt),Qt=n.find(lr=>lr.categoryId===Re),fr=n.flatMap(lr=>lr.products).find(lr=>lr.id===Gt),Dt=n.flatMap(lr=>lr.products).find(lr=>lr.id===Re);if(zt&&Qt){const lr=n.findIndex(At=>At.categoryId===Gt),yt=n.findIndex(At=>At.categoryId===Re),Yt=fm(n,lr,yt);s(Yt),de(!0);try{const At=Yt.map((ha,ca)=>({categoryId:ha.categoryId,newDisplayOrder:ca+1}));await Fr.reorderCategories(At)}catch(At){console.error(" Category reordering failed:",At),s(n),alert(t("productsContent.dragDrop.categoryOrderSaveError"))}finally{de(!1)}return}if(fr&&Dt&&fr.categoryId===Dt.categoryId){const lr=fr.categoryId,yt=n.findIndex(at=>at.categoryId===lr),Yt=n[yt],At=Yt?.products?.findIndex(at=>at.id===Gt),ha=Yt?.products?.findIndex(at=>at.id===Re),ca=[...n],Te=fm(Yt?.products,At,ha);ca[yt]={...Yt,products:Te},s(ca),je(!0),se(lr);try{const at=Te.map((Et,_t)=>({productId:Et.id,newDisplayOrder:_t+1}));await Fr.reorderProducts(at)}catch(at){console.error(" Product reordering failed:",at),s(n),alert(t("productsContent.dragDrop.productOrderSaveError"))}finally{je(!1),se(null)}return}if(fr&&Qt){if(fr.categoryId===Qt.categoryId)return;je(!0),se(Qt.categoryId);try{await Fr.updateProduct(fr.id,{categoryId:Qt.categoryId}),await Ve()}catch(lr){console.error(" Product category move failed:",lr),alert(t("productsContent.dragDrop.productMoveError"))}finally{je(!1),se(null)}return}if(fr&&Dt&&fr.categoryId!==Dt.categoryId){const lr=Dt.categoryId;je(!0),se(lr);try{await Fr.updateProduct(fr.id,{categoryId:lr});const yt=await Fr.getBranchCategories(x.branchId);s(yt);const Yt=yt.find(At=>At.categoryId===lr);if(Yt){const At=Yt.products?.find(ca=>ca.id===fr.id),ha=Yt.products?.find(ca=>ca.id===Dt.id);if(At&&ha){const ca=Yt.products?.findIndex(at=>at.id===fr.id),Te=Yt.products?.findIndex(at=>at.id===Dt.id);if(ca!==Te){const at=fm(Yt.products,ca,Te),Et=[...yt],_t=Et.findIndex(Ba=>Ba.categoryId===lr);Et[_t]={...Yt,products:at},s(Et);const xr=at.map((Ba,Me)=>({productId:Ba.id,newDisplayOrder:Me+1}));await Fr.reorderProducts(xr)}}}}catch(yt){console.error(" Cross-category product move failed:",yt),Ve(),alert(t("productsContent.dragDrop.productMoveError"))}finally{je(!1),se(null)}return}};return Ce?r.jsxs("div",{className:"space-y-6",dir:a?"rtl":"ltr",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-4"}),r.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded"})]})}),r.jsx("div",{className:"space-y-4",children:[1,2,3].map(He=>r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-2/3"})]})]})},He))})]}):x?n.length===0?r.jsxs("div",{className:"space-y-6",dir:a?"rtl":"ltr",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Bn,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400`}),r.jsx("input",{type:"text",placeholder:t("productsContent.search.placeholder"),value:i,onChange:He=>o(He.target.value),className:`w-full ${a?"pr-10 pl-4":"pl-10 pr-4"} py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,disabled:!0})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative",ref:te,children:[r.jsxs("button",{onClick:()=>j(!v),className:`flex items-center justify-between min-w-[200px] px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${a?"flex-row-reverse":""}`,children:[r.jsxs("span",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx($r,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 ${a?"ml-2":"mr-2"}`}),x?x.branchName:t("productsContent.branch.selectBranch")]}),r.jsx(Rr,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${v?"transform rotate-180":""} ${a?"mr-2":"ml-2"}`})]}),v&&r.jsx("div",{className:`absolute z-20 mt-1 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 max-h-60 overflow-auto ${a?"right-0":"left-0"}`,children:g.map(He=>r.jsx("button",{onClick:()=>Tt(He),className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${x?.branchId===He.branchId?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-200"} ${a?"text-right":"text-left"}`,children:He.branchName},He.branchId))})]}),r.jsxs("button",{onClick:()=>Y(!0),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-primary-700 dark:text-primary-300 bg-primary-50 dark:bg-primary-900/50 border border-primary-200 dark:border-primary-800 rounded-lg hover:bg-primary-100 dark:hover:bg-primary-900/70 transition-colors duration-200",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx("span",{children:t("productsContent.actions.addFirstCategory")})]})]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-12 text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:r.jsx(nl,{className:"h-12 w-12 text-gray-400"})}),r.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center",children:r.jsx(Ut,{className:"h-4 w-4 text-primary-600 dark:text-primary-400"})})]})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:t("productsContent.emptyState.noCategories.title")}),r.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:r.jsxs("button",{onClick:()=>Y(!0),className:"flex items-center gap-2 px-6 py-3 text-white bg-primary-600 hover:bg-primary-700 rounded-lg font-medium transition-colors duration-200",children:[r.jsx(Ut,{className:"h-5 w-5"}),t("productsContent.emptyState.noCategories.addFirstCategory")]})})]}),r.jsx(h3,{isOpen:K,onClose:()=>Y(!1),onSuccess:Ve})]}):r.jsxs(W2,{sensors:Es,collisionDetection:U2,onDragStart:_s,onDragOver:Cn,onDragEnd:Fn,children:[r.jsxs("div",{className:"space-y-6",dir:a?"rtl":"ltr",children:[(Q||me)&&r.jsxs("div",{className:`fixed top-4 ${a?"left-4":"right-4"} z-50 bg-primary-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2`,children:[r.jsx(mt,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{className:"text-sm",children:t(Q?"productsContent.dragDrop.categoryReordering":fe?"productsContent.dragDrop.productMoving":"productsContent.dragDrop.productReordering")})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Bn,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400`}),r.jsx("input",{type:"text",placeholder:t("productsContent.search.placeholder"),value:i,onChange:He=>o(He.target.value),className:`w-full ${a?"pr-10 pl-4":"pl-10 pr-4"} py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`})]}),r.jsxs("div",{className:`flex items-center gap-3 ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"relative",ref:te,children:[r.jsxs("button",{onClick:()=>j(!v),className:`flex items-center justify-between min-w-[200px] px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${a?"flex-row-reverse":""}`,children:[r.jsxs("span",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx($r,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 ${a?"ml-2":"mr-2"}`}),x?x.branchName:t("productsContent.branch.selectBranch")]}),r.jsx(Rr,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${v?"transform rotate-180":""} ${a?"mr-2":"ml-2"}`})]}),v&&r.jsx("div",{className:`absolute z-20 mt-1 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 max-h-60 overflow-auto ${a?"right-0":"left-0"}`,children:g.map(He=>r.jsxs("button",{onClick:()=>Tt(He),className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2 ${x?.branchId===He.branchId?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-200"} ${a?"text-right flex-row-reverse":"text-left"}`,children:[He.branchId===pw&&r.jsx($r,{className:`h-4 w-4 ${a?"ml-2":"mr-2"}`}),r.jsx("span",{children:He.branchName}),x?.branchId===He.branchId&&r.jsx(_r,{className:`h-4 w-4 ${a?"mr-auto":"ml-auto"}`})]},He.branchId))})]}),cn&&r.jsxs("button",{onClick:Ha,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors duration-200",children:[r.jsx(xt,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:t("clear.filters")||"Clear"})]}),r.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>{Z("list"),localStorage.setItem("productsViewMode","list")},className:`p-2 rounded-md transition-all duration-200 ${ee==="list"?"bg-white dark:bg-gray-800 text-primary-600 dark:text-primary-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,title:t("viewMode.list")||"List View",children:r.jsx(h2,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>{Z("grid"),localStorage.setItem("productsViewMode","grid")},className:`p-2 rounded-md transition-all duration-200 ${ee==="grid"?"bg-white dark:bg-gray-800 text-primary-600 dark:text-primary-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,title:t("viewMode.grid")||"Grid View",children:r.jsx(g2,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"relative",ref:J,children:[r.jsxs("button",{onClick:()=>I(!A),className:`flex items-center gap-2 px-3 py-2 text-sm font-medium border rounded-lg transition-colors duration-200 ${cn?"text-primary-700 dark:text-primary-300 bg-primary-50 dark:bg-primary-900/20 border-primary-200 dark:border-primary-800":"text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"}`,title:t("productsContent.search.filter"),children:[r.jsx(al,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:t("productsContent.search.filter")}),r.jsx(Rr,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${A?"rotate-180":""}`})]}),A&&r.jsx("div",{className:"absolute top-full mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("filter.status")||"Status"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"all",label:t("filter.all")||"All",icon:Ar},{value:"active",label:t("filter.active")||"Active",icon:Ya},{value:"inactive",label:t("filter.inactive")||"Inactive",icon:Cs}].map(He=>{const it=He.icon;return r.jsxs("button",{onClick:()=>X(jt=>({...jt,status:He.value})),className:`flex items-center gap-2 px-3 py-2 text-sm rounded-lg transition-colors ${E.status===He.value?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[r.jsx(it,{className:"h-4 w-4"}),r.jsx("span",{children:He.label})]},He.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("filter.categories")||"Categories"}),r.jsx("div",{className:"max-h-32 overflow-y-auto space-y-2",children:n.map(He=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:E.categories.includes(He.categoryId),onChange:it=>{it.target.checked?X(jt=>({...jt,categories:[...jt.categories,He.categoryId]})):X(jt=>({...jt,categories:jt.categories.filter(Gt=>Gt!==He.categoryId)}))},className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),r.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[He.categoryName," (",He?.products?.length,")"]})]},He.categoryId))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("filter.price.range")||"Price Range"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("input",{type:"number",placeholder:"Min",value:E.priceRange.min,onChange:He=>X(it=>({...it,priceRange:{...it.priceRange,min:parseFloat(He.target.value)||0}})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),r.jsx("input",{type:"number",placeholder:"Max",value:E.priceRange.max,onChange:He=>X(it=>({...it,priceRange:{...it.priceRange,max:parseFloat(He.target.value)||1e3}})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]})})]}),r.jsxs("div",{className:"relative",ref:ce,children:[r.jsxs("button",{onClick:()=>D(!_),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-200",title:t("productsContent.search.sort"),children:[r.jsx(m2,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:t("productsContent.search.sort")}),r.jsx(Rr,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${_?"rotate-180":""}`})]}),_&&r.jsx("div",{className:"absolute top-full mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:r.jsx("div",{className:"p-2",children:bt.map(He=>{const it=He.icon;return r.jsxs("button",{onClick:()=>{T(He.value),D(!1)},className:`w-full flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-colors ${M===He.value?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[r.jsx(it,{className:"h-4 w-4"}),r.jsx("span",{children:He.label}),M===He.value&&r.jsx(_r,{className:"h-4 w-4 ml-auto"})]},He.value)})})})]}),r.jsxs("button",{onClick:()=>Y(!0),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-primary-700 dark:text-primary-300 bg-primary-50 dark:bg-primary-900/50 border border-primary-200 dark:border-primary-800 rounded-lg hover:bg-primary-100 dark:hover:bg-primary-900/70 transition-colors duration-200",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:t("productsContent.actions.newCategory")})]}),r.jsxs("button",{onClick:()=>{ge(""),ne(!0)},className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors duration-200",children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx("span",{children:t("productsContent.actions.newProduct")})]}),r.jsxs("button",{onClick:()=>{c("/dashboard/RecycleBin",{state:{source:"products"}})},className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors duration-200",children:[r.jsx(wr,{className:"h-4 w-4"}),r.jsx("span",{children:t("productsContent.actions.RecycleBin")})]})]})]})}),r.jsx(bb,{items:et.map(He=>He.categoryId),strategy:yb,children:r.jsx("div",{className:ee==="grid"?"space-y-6":"space-y-4",children:et.map(He=>r.jsx(pte,{category:He,isDark:e,onToggle:Rt,onEditProduct:cr,onDeleteProduct:Xt,onEditCategory:ia,onDeleteCategory:gt,activeId:l,onOpenAddonsManagement:nr,onOpenProductExtras:rt,allCategories:n,isReorderingProducts:me&&fe===He.categoryId,viewMode:ee,newlyCreatedProductId:B},He.categoryId))})}),r.jsx(aD,{children:l?(()=>{const He=n.find(jt=>jt.categoryId===l),it=n.flatMap(jt=>jt.products).find(jt=>jt.id===l);if(He)return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-4 rotate-3 scale-105",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:He.categoryName}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:He.description})]});if(it){const jt=it.imageUrl&&it.imageUrl!=="string"&&it.imageUrl.trim()!=="";return r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 shadow-lg border border-gray-200 dark:border-gray-600 rotate-3 scale-105",children:r.jsxs("div",{className:`flex items-start gap-3 ${a?"flex-row-reverse":""}`,children:[jt?r.jsx("img",{src:it.imageUrl,alt:it.name,className:"w-12 h-12 rounded-lg object-cover bg-gray-200 dark:bg-gray-600 flex-shrink-0"}):r.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 dark:bg-gray-600 flex items-center justify-center flex-shrink-0",children:r.jsx(Ar,{className:"h-5 w-5 text-gray-400"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:it.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:it.description}),r.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:t("productsContent.currency.format",{amount:it.price.toFixed(2)})})]})]})})}return null})():null})]}),r.jsx(h3,{isOpen:K,onClose:()=>Y(!1),onSuccess:Ve}),r.jsx(hte,{isOpen:re,onClose:()=>{ne(!1),ge("")},onSuccess:He=>Ve(He),categories:n,onOpenIngredientSelection:gr}),z&&ye&&r.jsx(xte,{isOpen:z,onClose:()=>{V(!1),Be(null)},onSuccess:Ve,category:ye}),F&&Qe&&r.jsx(yte,{isOpen:F,onClose:()=>{$(!1),pt(null)},onSuccess:Ve,product:Qe,categories:n,onOpenIngredientUpdate:sa}),ie&&le&&r.jsx(kte,{isOpen:ie,onClose:()=>{ue(!1),xe(null)},onSuccess:Ve,productId:le.productId,productName:le.productName}),q&&Pr&&r.jsx(Ql,{isOpen:q,onClose:()=>{H(!1),Ht(null)},onConfirm:Pr.onConfirm,title:Pr.title,message:Pr.message,isSubmitting:be}),ze&&ut&&r.jsx(jte,{isOpen:ze,onClose:()=>{Le(!1),kt(null)},onSuccess:Ve,productId:ut.productId,productName:ut.productName}),Se&&Ye&&r.jsx(vte,{isOpen:Se,onClose:()=>{_e(!1),Ft(null)},onSuccess:Ve,productId:Ye.productId,productName:Ye.productName}),qt&&jr&&r.jsx(Ite,{isOpen:qt,onClose:()=>{hr(!1),nt(null)},onSuccess:Ve,productId:jr.productId,productName:jr.productName})]}):r.jsxs("div",{className:"space-y-6",dir:a?"rtl":"ltr",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Bn,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400`}),r.jsx("input",{type:"text",placeholder:t("productsContent.search.placeholder"),className:`w-full ${a?"pr-10 pl-4":"pl-10 pr-4"} py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,disabled:!0})]}),r.jsxs("div",{className:"relative",ref:te,children:[r.jsxs("button",{onClick:()=>j(!v),className:`flex items-center justify-between min-w-[200px] px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${a?"flex-row-reverse":""}`,disabled:w,children:[r.jsxs("span",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx($r,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 ${a?"ml-2":"mr-2"}`}),t(w?"productsContent.branch.loading":"productsContent.branch.selectBranch")]}),r.jsx(Rr,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${v?"transform rotate-180":""} ${a?"mr-2":"ml-2"}`})]}),v&&r.jsx("div",{className:`absolute z-20 mt-1 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 max-h-60 overflow-auto ${a?"right-0":"left-0"}`,children:g.length===0?r.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:t("productsContent.branch.noBranches")}):g.map(He=>r.jsx("button",{onClick:()=>Tt(He),className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200 ${a?"text-right":"text-left"}`,children:He.branchName},He.branchId))})]})]})}),r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx($r,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t("productsContent.branch.selectBranchMessage")})]})})]})},_te=()=>{const{t:e,language:t}=Ze(),a=t==="ar",n=[{id:"general",label:e("restaurantManagement.tabs.general"),icon:aa},{id:"legal",label:e("restaurantManagement.tabs.legal"),icon:vn},{id:"about",label:e("restaurantManagement.tabs.about"),icon:bn}],[s,i]=p.useState(null),[o,l]=p.useState("general"),[d,c]=p.useState(!1),[g,h]=p.useState(!1),[x,b]=p.useState(!1),[v,j]=p.useState({}),[w,S]=p.useState(!1),[M,T]=p.useState({imageUrl:"",title:"",description:"",restaurantId:0}),[A,I]=p.useState({show:!1,type:"info",message:""}),[_,D]=p.useState(null),[E,X]=p.useState(null),{uploadLogo:ee,isUploading:Z}=dX(),B=p.useRef(!1),G=p.useRef(null),J=p.useRef(null),ce=(F,$)=>{I({show:!0,type:F,message:$}),setTimeout(()=>I(q=>({...q,show:!1})),5e3)},te=async()=>{try{const F=await ws.getRestaurantManagementInfo();if(i(F),F){const $={};Object.entries(F).forEach(([q,H])=>{$[q]=H===null||H==="string"?"":H}),j($)}N.info("Restaurant info refreshed successfully")}catch(F){N.error("Failed to refresh restaurant info",F),ce("error",e("restaurantManagement.error.loadFailed"))}};p.useEffect(()=>{if(B.current)return;B.current=!0,(async()=>{c(!0);try{const $=Qc();if(!$){ce("error",e("restaurantManagement.error.userInfoFailed"));return}const q=await ws.getRestaurantManagementInfo();if(i(q),q){const H={};Object.entries(q).forEach(([Q,de])=>{H[Q]=de===null||de==="string"?"":de}),j(H)}T({imageUrl:"",title:"",description:"",restaurantId:$}),N.info("Restaurant management info loaded successfully")}catch($){N.error("Failed to fetch restaurant management info",$),ce("error",e("restaurantManagement.error.loadFailed"))}finally{c(!1)}})()},[]);const K=F=>{const{name:$,value:q,type:H}=F.target,Q=H==="checkbox"?F.target.checked:q;j(de=>({...de,[$]:Q})),h(!0)},Y=F=>{const{name:$,value:q}=F.target;T(H=>({...H,[$]:q})),b(!0)},re=F=>{const $=F.target.files?.[0];if($){if(!$.type.startsWith("image/")){ce("error",e("restaurantManagement.error.imageValidationFailed"));return}if($.size>5*1024*1024){ce("error",e("restaurantManagement.error.fileSizeError"));return}D($),h(!0)}},ne=F=>{const $=F.target.files?.[0];if($){if(!$.type.startsWith("image/")){ce("error",e("restaurantManagement.error.imageValidationFailed"));return}if($.size>5*1024*1024){ce("error",e("restaurantManagement.error.fileSizeError"));return}X($),b(!0)}},z=async()=>{if(!(!g&&!_)){c(!0);try{let F={...v};if(_)try{const $=await ee(_,v.restaurantLogoPath);F.restaurantLogoPath=$,ce("success",e("restaurantManagement.success.logoUploaded"))}catch($){N.error("Logo upload failed",$),ce("error",e("restaurantManagement.error.logoUploadFailed"));return}await ws.updateRestaurantManagementInfo(F),j(F),h(!1),D(null),N.info("Restaurant management info updated successfully"),ce("success",e("restaurantManagement.success.infoUpdated")),await te()}catch(F){N.error("Failed to update restaurant management info",F),ce("error",e("restaurantManagement.error.updateFailed"))}finally{c(!1)}}},V=async()=>{if(!M.title?.trim()||!M.description?.trim()){ce("error","Balk ve aklama alanlar zorunludur");return}c(!0);try{const F=Qc();if(!F){ce("error","Kullanc bilgileri alnamad");return}let $={...M,restaurantId:F};if(E)try{const q=await ee(E);$.imageUrl=q}catch(q){N.error("About image upload failed",q),ce("error","Grsel yklenirken hata olutu");return}await ws.createAbout($),N.info("About section created successfully"),ce("success","Hakknda blm baaryla eklendi"),S(!1),T({imageUrl:"",title:"",description:"",restaurantId:F}),X(null),b(!1),await te()}catch(F){N.error("Failed to create about section",F),ce("error","Hakknda blm oluturulurken hata olutu")}finally{c(!1)}};return d&&!s?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("dashboard.restaurant.loading")})]})}):r.jsxs("div",{className:"space-y-6",dir:a?"rtl":"ltr",children:[r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e("dashboard.restaurant.title")}),(g||x)&&r.jsxs("div",{className:`flex items-center ${a?"space-x-reverse space-x-2":"space-x-2"} text-orange-600 dark:text-orange-400`,children:[r.jsx(Nt,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Kaydedilmemi deiiklikler var"})]})]}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:`-mb-px flex ${a?"space-x-reverse space-x-8":"space-x-8"}`,children:n.map(F=>{const $=F.icon;return r.jsxs("button",{onClick:()=>l(F.id),className:`group inline-flex items-center ${a?"space-x-reverse space-x-2":"space-x-2"} py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${o===F.id?"border-primary-600 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[r.jsx($,{className:`h-5 w-5 ${o===F.id?"text-primary-600 dark:text-primary-400":"text-gray-400 group-hover:text-gray-500"}`}),r.jsx("span",{children:F.label})]},F.id)})})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[o==="general"&&r.jsxs("div",{className:"p-8 space-y-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:e("restaurantManagement.GeneralInformation")}),r.jsxs("div",{className:"space-y-6 border-b border-gray-200 dark:border-gray-700 pb-8",children:[r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:e("restaurant.restaurantLogo")}),r.jsxs("button",{type:"button",onClick:()=>G.current?.click(),disabled:Z,className:`inline-flex items-center ${a?"space-x-reverse space-x-2":"space-x-2"} px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed`,children:[r.jsx(wx,{className:"h-4 w-4"}),r.jsx("span",{children:Z?"Ykleniyor...":"Logo Ykle"})]})]}),r.jsx("input",{title:"logoInputRef",ref:G,type:"file",accept:"image/*",onChange:re,className:"hidden"}),r.jsxs("div",{className:`flex items-center ${a?"space-x-reverse space-x-4":"space-x-4"}`,children:[(v.restaurantLogoPath||_)&&r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:_?URL.createObjectURL(_):v.restaurantLogoPath,alt:"Restaurant Logo",className:"h-20 w-20 object-cover rounded-lg border border-gray-200 dark:border-gray-600"}),_&&r.jsx("div",{className:`absolute -top-2 ${a?"-left-2":"-right-2"} bg-green-500 text-white rounded-full p-1`,children:r.jsx(vo,{className:"h-3 w-3"})})]}),_&&r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("p",{className:"font-medium",children:_.name}),r.jsxs("p",{children:[(_.size/1024/1024).toFixed(2)," MB"]})]})]})]}),r.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"restaurantName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e("dashboard.restaurant.restaurantName")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(hi,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"restaurantName",name:"restaurantName",value:v.restaurantName||"",onChange:K,className:`w-full ${a?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:e("dashboard.restaurant.placeholders.restaurantName"),required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"restaurantStatus",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("dashboard.restaurant.restaurantStatus")}),r.jsxs("div",{className:"relative",children:[r.jsx(tr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsxs("select",{id:"restaurantStatus",name:"restaurantStatus",value:v.restaurantStatus?"true":"false",disabled:!0,className:"w-full pl-10 pr-4 py-3 border rounded-lg transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 cursor-not-allowed",children:[r.jsx("option",{value:"true",children:"Aktif"}),r.jsx("option",{value:"false",children:"Pasif"})]})]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Bu alan sistem tarafndan ynetilir"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"cuisineTypeId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mutfak Tr"}),r.jsxs("div",{className:"relative",children:[r.jsx(nl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsxs("select",{id:"cuisineTypeId",name:"cuisineTypeId",value:v.cuisineTypeId||"",onChange:K,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"Seiniz"}),r.jsx("option",{value:"1",children:"Trk Mutfa"}),r.jsx("option",{value:"2",children:"talyan Mutfa"}),r.jsx("option",{value:"3",children:"in Mutfa"}),r.jsx("option",{value:"4",children:"Fast Food"}),r.jsx("option",{value:"5",children:"Deniz rnleri"}),r.jsx("option",{value:"6",children:"Et Yemekleri"})]})]})]})]})]}),o==="legal"&&r.jsxs("div",{className:"p-8 space-y-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:e("dashboard.restaurant.companyInfo")}),r.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"companyTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"irket nvan"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"companyTitle",name:"companyTitle",value:v.companyTitle||"",onChange:K,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"ABC Gda A.."})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"taxNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Vergi Numaras"}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"taxNumber",name:"taxNumber",value:v.taxNumber||"",onChange:K,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"1234567890"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"taxOffice",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Vergi Dairesi"}),r.jsxs("div",{className:"relative",children:[r.jsx(aa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"taxOffice",name:"taxOffice",value:v.taxOffice||"",onChange:K,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"stanbul Vergi Dairesi"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"mersisNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mersis Numaras"}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"mersisNumber",name:"mersisNumber",value:v.mersisNumber||"",onChange:K,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Mersis numaras"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"tradeRegistryNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ticaret Sicil Numaras"}),r.jsxs("div",{className:"relative",children:[r.jsx(Vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",id:"tradeRegistryNumber",name:"tradeRegistryNumber",value:v.tradeRegistryNumber||"",onChange:K,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Ticaret sicil numaras"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"legalType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"irket Tr"}),r.jsxs("div",{className:"relative",children:[r.jsx(vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsxs("select",{id:"legalType",name:"legalType",value:v.legalType||"",onChange:K,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"Seiniz"}),r.jsx("option",{value:"Anonim irket",children:"Anonim irket"}),r.jsx("option",{value:"Limited irket",children:"Limited irket"}),r.jsx("option",{value:"Kollektif irket",children:"Kollektif irket"}),r.jsx("option",{value:"Komandit irket",children:"Komandit irket"}),r.jsx("option",{value:"ahs irketi",children:"ahs irketi"})]})]})]})]})]}),o==="about"&&r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Hakknda Blm"}),!s?.about&&r.jsxs("button",{onClick:()=>S(!0),className:"inline-flex items-center space-x-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors duration-200",children:[r.jsx(bn,{className:"h-4 w-4"}),r.jsx("span",{children:"Hakknda Bilgisi Ekle"})]})]}),s?.about?r.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6 space-y-4",children:typeof s.about=="string"?r.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:s.about}):r.jsxs(r.Fragment,{children:[s.about?.title&&r.jsx("h4",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:s.about.title}),s.about?.imageUrl&&r.jsx("div",{className:"mb-4",children:r.jsx("img",{src:s.about.imageUrl,alt:s.about.title||"Restaurant About",className:"w-full max-w-md h-48 object-cover rounded-lg border border-gray-200 dark:border-gray-600"})}),s.about?.description&&r.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap leading-relaxed",children:s.about.description})]})}):r.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[r.jsx(bn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Henz hakknda bilgisi eklenmemi"}),r.jsx("button",{onClick:()=>S(!0),className:"btn-primary",children:"lk Hakknda Bilgisini Ekle"})]})]})]}),(g||_)&&r.jsx("div",{className:`fixed bottom-6 ${a?"left-6":"right-6"} z-10`,children:r.jsxs("div",{className:`bg-white dark:bg-gray-800 shadow-lg border border-gray-200 dark:border-gray-700 rounded-xl p-4 flex items-center ${a?"space-x-reverse space-x-4":"space-x-4"}`,children:[r.jsxs("div",{className:`flex items-center ${a?"space-x-reverse space-x-2":"space-x-2"} text-orange-600 dark:text-orange-400`,children:[r.jsx(Nt,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Deiikliklerinizi kaydedin"})]}),r.jsx("button",{onClick:z,disabled:d,className:`inline-flex items-center ${a?"space-x-reverse space-x-2":"space-x-2"} px-6 py-2 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors duration-200`,children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Kaydediliyor..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(tr,{className:"h-4 w-4"}),r.jsx("span",{children:"Kaydet"})]})})]})}),w&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),r.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),r.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 px-6 pt-6 pb-4",children:[r.jsxs("div",{className:`flex items-center justify-between mb-6 ${a?"flex-row-reverse":""}`,children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e("dashboard.restaurant.addAboutInfo")}),r.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(xt,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Grsel"}),r.jsxs("div",{className:`flex items-center ${a?"space-x-reverse space-x-4":"space-x-4"}`,children:[r.jsxs("button",{type:"button",onClick:()=>J.current?.click(),disabled:Z,className:`inline-flex items-center ${a?"space-x-reverse space-x-2":"space-x-2"} px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed`,children:[r.jsx(wx,{className:"h-4 w-4"}),r.jsx("span",{children:Z?"Ykleniyor...":"Grsel Se"})]}),E&&r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:E.name})]}),r.jsx("input",{title:"aboutImageInputRef",ref:J,type:"file",accept:"image/*",onChange:ne,className:"hidden"}),E&&r.jsx("img",{src:URL.createObjectURL(E),alt:"Preview",className:"mt-4 h-24 w-24 object-cover rounded-lg border border-gray-200 dark:border-gray-600"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"aboutTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Balk ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(vn,{className:`absolute ${a?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`}),r.jsx("input",{type:"text",id:"aboutTitle",name:"title",value:M.title||"",onChange:Y,className:`w-full ${a?"pr-10 pl-4":"pl-10 pr-4"} py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:e("dashboard.restaurant.placeholders.aboutStory"),required:!0})]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"aboutDescription",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Aklama ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{id:"aboutDescription",name:"description",rows:4,value:M.description||"",onChange:Y,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 resize-none",placeholder:e("dashboard.restaurant.placeholders.aboutDetails"),required:!0})]})]})]}),r.jsxs("div",{className:`bg-gray-50 dark:bg-gray-900 px-6 py-4 flex ${a?"justify-start":"justify-end"} ${a?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",children:"ptal"}),r.jsx("button",{onClick:V,disabled:d||!M.title?.trim()||!M.description?.trim(),className:`inline-flex items-center ${a?"space-x-reverse space-x-2":"space-x-2"} px-4 py-2 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed text-white text-sm font-medium rounded-md`,children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Kaydediliyor..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(tr,{className:"h-4 w-4"}),r.jsx("span",{children:"Kaydet"})]})})]})]})]})}),A.show&&r.jsx("div",{className:`fixed top-4 ${a?"left-4":"right-4"} z-50 max-w-sm w-full`,children:r.jsx("div",{className:`rounded-lg shadow-lg p-4 ${A.type==="success"?"bg-green-100 border border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-200":A.type==="error"?"bg-red-100 border border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-200":"bg-blue-100 border border-blue-200 text-blue-800 dark:bg-blue-900 dark:border-blue-700 dark:text-blue-200"}`,children:r.jsxs("div",{className:`flex items-center ${a?"space-x-reverse space-x-2":"space-x-2"}`,children:[A.type==="success"&&r.jsx(tr,{className:"h-5 w-5 flex-shrink-0"}),A.type==="error"&&r.jsx(Nt,{className:"h-5 w-5 flex-shrink-0"}),A.type==="info"&&r.jsx(bn,{className:"h-5 w-5 flex-shrink-0"}),r.jsx("p",{className:"text-sm font-medium",children:A.message}),r.jsx("button",{onClick:()=>I(F=>({...F,show:!1})),className:`${a?"mr-auto":"ml-auto"} text-gray-400 hover:text-gray-600`,children:r.jsx(xt,{className:"h-4 w-4"})})]})})})]})},Ote=({showAlways:e=!1,className:t=""})=>{const{isOnline:a,isConnecting:n,testConnection:s}=M6();return!e&&a?null:r.jsx("div",{className:`fixed top-4 right-4 z-50 ${t}`,children:r.jsxs("div",{className:`
        flex items-center gap-2 px-3 py-2 rounded-lg shadow-lg transition-all duration-300
        ${a?"bg-green-500 text-white":"bg-red-500 text-white"}
        ${n?"animate-pulse":""}
      `,children:[n?r.jsx(cs,{className:"w-4 h-4 animate-spin"}):a?r.jsx(y2,{className:"w-4 h-4"}):r.jsx(nW,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:n?"Balant test ediliyor...":a?"evrimii":"evrimd"}),!a&&r.jsx("button",{onClick:s,className:"ml-2 px-2 py-1 text-xs bg-white/20 hover:bg-white/30 rounded transition-colors",disabled:n,children:"Yenile"})]})})};class Rte{baseUrl="/api";async getAllergens(){try{N.info("Allergen listesi getiriliyor");const t=await he.get(`${this.baseUrl}/Allergen`);return N.info("Allergen listesi baaryla getirildi",{count:t.data.length}),t.data.map(n=>({id:n.id,code:n.code??"",name:n.name,icon:n.icon??"",displayOrder:n.displayOrder,description:n.description??""})).sort((n,s)=>n.displayOrder-s.displayOrder)}catch(t){throw N.error(" Allergen listesi getirilirken hata:",t),t}}async getAllergenById(t){try{N.info("Allergen detay getiriliyor",{id:t});const a=await he.get(`${this.baseUrl}/Allergen/${t}`);return N.info("Allergen detay baaryla getirildi",{data:a.data}),{id:a.data.id,code:a.data.code??"",name:a.data.name,icon:a.data.icon??"",displayOrder:a.data.displayOrder,description:a.data.description??""}}catch(a){throw N.error(" Allergen detay getirilirken hata:",a),a}}async getActiveAllergens(){try{return await this.getAllergens()}catch(t){throw N.error(" Aktif allergen listesi getirilirken hata:",t),t}}async getAllergenByCode(t){try{return(await this.getAllergens()).find(s=>s.code===t)||null}catch(a){throw N.error(" Allergen koda gre getirilirken hata:",a),a}}}const f3=({isOpen:e,onClose:t,onSuccess:a,ingredient:n,allergens:s,isEdit:i=!1})=>{const{t:o,isRTL:l}=Ze(),[d,c]=p.useState({name:"",isAllergenic:!1,isAvailable:!0}),[g,h]=p.useState([]),[x,b]=p.useState({}),[v,j]=p.useState(!1),[w,S]=p.useState(null),[M,T]=p.useState({}),[A,I]=p.useState("medium"),[_,D]=p.useState("comfortable"),[E,X]=p.useState({basicInfo:!1,allergenInfo:!1}),ee={small:"text-xs",medium:"text-sm",large:"text-base"},Z={compact:"space-y-3",comfortable:"space-y-6",spacious:"space-y-8"},B={compact:"p-4",comfortable:"p-6",spacious:"p-8"},G={compact:"gap-3",comfortable:"gap-6",spacious:"gap-8"},J=()=>{I($=>$==="small"?"medium":$==="medium"?"large":"small")},ce=()=>{D($=>$==="compact"?"comfortable":$==="comfortable"?"spacious":"compact")},te=$=>{X(q=>({...q,[$]:!q[$]}))},K=$=>{try{const q=`allergens.${$.code}.name`,H=`allergens.${$.code}.description`,Q=o(q),de=o(H);return{name:Q===q?$.name:Q,description:de===H?$.description:de}}catch{return{name:$.name,description:$.description}}};p.useEffect(()=>{e&&(n?(c({name:n.name,isAllergenic:n.isAllergenic,isAvailable:n.isAvailable}),h(s.filter($=>n.allergenIds?.includes($.id))),b(n?.allergenDetails?.reduce(($,q)=>($[q.allergenId]=q,$),{})||{})):(c({name:"",isAllergenic:!1,isAvailable:!0}),h([]),b({})),S(null),T({}))},[e,n,s]);const Y=($,q)=>{c(H=>({...H,[$]:q})),$==="isAllergenic"&&q===!1&&(h([]),b({})),M[$]&&T(H=>({...H,[$]:""}))},re=$=>{if(!d.isAllergenic)return;g.find(H=>H.id===$.id)?(h(H=>H.filter(Q=>Q.id!==$.id)),b(H=>{const Q={...H};return delete Q[$.id],Q})):(h(H=>[...H,$]),b(H=>({...H,[$.id]:{allergenId:$.id,containsAllergen:!0,note:""}})))},ne=($,q,H)=>{b(Q=>({...Q,[$]:{...Q[$],[q]:H}}))},z=()=>{const $={};return d.name.trim()||($.name=o("IngredientsContent.ingredientNameRequired")),T($),Object.keys($).length===0},V=async()=>{if(z()){j(!0),S(null);try{const $={...i&&n&&{id:n.id},name:d.name.trim(),isAllergenic:d.isAllergenic,isAvailable:d.isAvailable,allergenIds:d.isAllergenic?g?.map(q=>q.id):[],allergenDetails:d.isAllergenic?Object.values(x):[]};i?await Em.updateIngredient($):await Em.createIngredient($),N.info(i?"Malzeme gncellendi":"Malzeme eklendi",$),a(),t()}catch($){N.error(i?"Malzeme gncelleme hatas":"Malzeme ekleme hatas",$),$.response?.data?.errors?T($.response.data.errors):$.response?.data?.message?S($.response.data.message):S(o(i?"IngredientsContent.updateError":"IngredientsContent.createError"))}finally{j(!1)}}},F=()=>{v||t()};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto ${l?"text-right":"text-left"} ${ee[A]}`,role:"dialog","aria-labelledby":"ingredient-form-title","aria-label":o("IngredientsContent.accessibility.formModal"),children:[r.jsxs("div",{className:`flex items-center justify-between ${B[_]} border-b border-gray-200 dark:border-gray-700 ${l?"flex-row-reverse":""}`,children:[r.jsx("h2",{id:"ingredient-form-title",className:"text-xl font-semibold text-gray-800 dark:text-white",children:o(i?"IngredientsContent.editIngredient":"IngredientsContent.addNewIngredient")}),r.jsxs("div",{className:`flex items-center gap-2 ${l?"flex-row-reverse":""}`,children:[r.jsxs("button",{onClick:J,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors flex items-center gap-1",title:`Font Size: ${A}`,disabled:v,children:[r.jsx(Gy,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),r.jsx("span",{className:"text-[10px] font-semibold uppercase text-gray-600 dark:text-gray-400",children:A[0]})]}),r.jsxs("button",{onClick:ce,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors flex items-center gap-1",title:`Density: ${_}`,disabled:v,children:[r.jsx(WO,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),r.jsx("span",{className:"text-[10px] font-semibold uppercase text-gray-600 dark:text-gray-400",children:_[0]})]}),r.jsx("button",{onClick:F,disabled:v,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed p-2","aria-label":o("IngredientsContent.accessibility.closeModal"),children:r.jsx(xt,{className:"w-6 h-6"})})]})]}),r.jsxs("div",{className:`${B[_]} ${Z[_]}`,children:[w&&r.jsxs("div",{className:`bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center gap-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(Nt,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),r.jsx("span",{className:"text-red-700 dark:text-red-400",children:w})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[r.jsxs("button",{onClick:()=>te("basicInfo"),className:`w-full flex items-center justify-between ${B[_]} hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors rounded-t-lg ${E.basicInfo?"rounded-b-lg":""}`,type:"button",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:o("IngredientsContent.basicInfo")}),E.basicInfo?r.jsx(Rr,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):r.jsx(Hn,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})]}),!E.basicInfo&&r.jsx("div",{className:`${B[_]} pt-0`,children:r.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 ${G[_]}`,children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"name",className:"block font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o("IngredientsContent.ingredientName")," *"]}),r.jsx("input",{type:"text",id:"name",value:d.name,onChange:$=>Y("name",$.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors ${M.name?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`,placeholder:o("IngredientsContent.enterIngredientName"),"aria-describedby":M.name?"name-error":void 0,disabled:v}),M.name&&r.jsx("p",{id:"name-error",className:"mt-1 text-red-600 dark:text-red-400",children:M.name})]}),r.jsxs("div",{className:`${Z[_]} ${_==="spacious"?"space-y-6":"space-y-4"}`,children:[r.jsxs("div",{className:`flex items-center ${l?"flex-row-reverse":""}`,children:[r.jsx("input",{type:"checkbox",id:"isAllergenic",checked:d.isAllergenic,onChange:$=>Y("isAllergenic",$.target.checked),disabled:v,className:"w-4 h-4 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600 rounded disabled:opacity-50"}),r.jsx("label",{htmlFor:"isAllergenic",className:`font-medium text-gray-700 dark:text-gray-300 ${l?"mr-2":"ml-2"}`,children:o("IngredientsContent.containsAllergensCheckbox")})]}),r.jsxs("div",{className:`flex items-center ${l?"flex-row-reverse":""}`,children:[r.jsx("input",{type:"checkbox",id:"isAvailable",checked:d.isAvailable,onChange:$=>Y("isAvailable",$.target.checked),disabled:v,className:"w-4 h-4 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600 rounded disabled:opacity-50"}),r.jsx("label",{htmlFor:"isAvailable",className:`font-medium text-gray-700 dark:text-gray-300 ${l?"mr-2":"ml-2"}`,children:o("IngredientsContent.availableForUse")})]})]})]})})]}),r.jsxs("div",{className:`bg-gray-50 dark:bg-gray-700/50 rounded-lg transition-opacity ${d.isAllergenic?"opacity-100":"opacity-50"}`,children:[r.jsxs("button",{onClick:()=>te("allergenInfo"),className:`w-full flex items-center justify-between ${B[_]} hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors rounded-t-lg ${E.allergenInfo?"rounded-b-lg":""}`,type:"button",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:o("IngredientsContent.allergenInfo")}),E.allergenInfo?r.jsx(Rr,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):r.jsx(Hn,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})]}),!E.allergenInfo&&r.jsxs("div",{className:`${B[_]} pt-0`,children:[r.jsx("div",{className:`mb-${_==="compact"?"3":_==="comfortable"?"4":"6"}`,children:r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:d.isAllergenic?o("IngredientsContent.selectAllergensMessage"):o("IngredientsContent.enableAllergenMessage")})}),r.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 ${_==="compact"?"gap-3":_==="comfortable"?"gap-4":"gap-6"} mb-${_==="compact"?"4":"6"}`,role:"group","aria-label":o("IngredientsContent.accessibility.allergenSelection"),children:s.sort(($,q)=>$.displayOrder-q.displayOrder).map($=>{const q=g.find(de=>de.id===$.id),H=!d.isAllergenic||v,Q=K($);return r.jsx("div",{onClick:()=>!H&&re($),className:`${_==="compact"?"p-3":_==="comfortable"?"p-4":"p-5"} rounded-lg border-2 transition-all ${H?"cursor-not-allowed opacity-50 border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-700":q?"cursor-pointer border-primary-500 bg-primary-50 dark:bg-primary-900/30 shadow-md":"cursor-pointer border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 hover:border-primary-300 hover:shadow-sm"}`,role:"button",tabIndex:H?-1:0,"aria-pressed":q?"true":"false","aria-disabled":H,onKeyDown:de=>{!H&&(de.key==="Enter"||de.key===" ")&&(de.preventDefault(),re($))},children:r.jsxs("div",{className:`flex items-center justify-between ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${_==="compact"?"gap-2":"gap-3"} ${l?"flex-row-reverse":""}`,children:[r.jsx("span",{className:_==="spacious"?"text-3xl":"text-2xl",children:$.icon}),r.jsxs("div",{children:[r.jsx("h4",{className:`font-medium ${H?"text-gray-400 dark:text-gray-500":"text-gray-800 dark:text-white"}`,children:Q.name}),r.jsx("p",{className:`${H?"text-gray-400 dark:text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:Q.description})]})]}),q&&!H&&r.jsx("div",{className:"w-6 h-6 bg-primary-500 rounded-full flex items-center justify-center",children:r.jsx(_r,{className:"w-4 h-4 text-white"})})]})},$.id)})}),g.length>0&&d.isAllergenic&&r.jsxs("div",{className:`border-t border-gray-200 dark:border-gray-600 pt-${_==="compact"?"4":"6"}`,children:[r.jsx("h4",{className:`text-lg font-semibold text-gray-800 dark:text-white mb-${_==="compact"?"3":"4"}`,children:o("IngredientsContent.allergenDetails")}),r.jsx("div",{className:_==="compact"?"space-y-3":"space-y-4",children:g.sort(($,q)=>$.displayOrder-q.displayOrder).map($=>{const q=K($);return r.jsxs("div",{className:`bg-white dark:bg-gray-800 ${_==="compact"?"p-3":"p-4"} rounded-lg border border-gray-200 dark:border-gray-600`,children:[r.jsxs("div",{className:`flex items-center justify-between ${_==="compact"?"mb-2":"mb-3"} ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-2 ${l?"flex-row-reverse":""}`,children:[r.jsx("span",{className:"text-xl",children:$.icon}),r.jsx("h5",{className:"font-medium text-gray-800 dark:text-white",children:q.name})]}),r.jsx("button",{type:"button",onClick:()=>re($),disabled:v,className:"text-gray-400 hover:text-red-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":`Remove ${q.name}`,children:r.jsx(xt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 ${_==="compact"?"gap-3":"gap-4"}`,children:[r.jsx("div",{children:r.jsxs("label",{className:`flex items-center ${l?"flex-row-reverse":""}`,children:[r.jsx("input",{type:"checkbox",checked:x[$.id]?.containsAllergen||!1,onChange:H=>ne($.id,"containsAllergen",H.target.checked),disabled:v,className:"w-4 h-4 text-primary-600 border-gray-300 dark:border-gray-600 rounded focus:ring-primary-500 disabled:opacity-50"}),r.jsx("span",{className:`text-gray-700 dark:text-gray-300 ${l?"mr-2":"ml-2"}`,children:o("IngredientsContent.containsThisAllergen")})]})}),r.jsx("div",{children:r.jsx("input",{type:"text",placeholder:o("IngredientsContent.additionalNotes"),value:x[$.id]?.note||"",onChange:H=>ne($.id,"note",H.target.value),disabled:v,className:`w-full ${_==="compact"?"px-2 py-1.5":"px-3 py-2"} border border-gray-300 dark:border-gray-600 rounded-md focus:ring-1 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 disabled:opacity-50 disabled:cursor-not-allowed`})})]})]},$.id)})})]})]})]}),r.jsxs("div",{className:`flex justify-end ${_==="compact"?"space-x-3":"space-x-4"} pt-${_==="compact"?"4":"6"} border-t border-gray-200 dark:border-gray-700 ${l?"space-x-reverse flex-row-reverse":""}`,children:[r.jsx("button",{type:"button",onClick:F,disabled:v,className:`${_==="compact"?"px-4 py-2":_==="comfortable"?"px-6 py-3":"px-8 py-4"} border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,"aria-label":o("IngredientsContent.cancel"),children:o("IngredientsContent.cancel")}),r.jsx("button",{type:"button",onClick:V,disabled:v||!d.name.trim(),className:`${_==="compact"?"px-4 py-2":_==="comfortable"?"px-6 py-3":"px-8 py-4"} bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center gap-2`,"aria-label":o(i?"IngredientsContent.update":"IngredientsContent.add"),children:v?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"w-5 h-5 animate-spin"}),o(i?"IngredientsContent.updating":"IngredientsContent.adding")]}):r.jsxs(r.Fragment,{children:[r.jsx(Ut,{className:"w-5 h-5"}),o(i?"IngredientsContent.update":"IngredientsContent.add")]})})]})]})]})}):null},Dte=(e,t)=>{let a=null;return(...n)=>{a&&clearTimeout(a),a=setTimeout(()=>e(...n),t)}},Bte=()=>{const{t:e,isRTL:t}=Ze(),[a,n]=p.useState([]),[s,i]=p.useState([]),[o,l]=p.useState(!1),[d,c]=p.useState(""),[g,h]=p.useState("grid"),[x,b]=p.useState("name_asc"),[v,j]=p.useState(!1),[w,S]=p.useState(!1),[M,T]=p.useState({status:"all",allergen:"all",selectedAllergens:[]}),A=p.useRef(null),I=p.useRef(null),[_,D]=p.useState(!1),[E,X]=p.useState(!1),[ee,Z]=p.useState(!1),[B,G]=p.useState(null),[J,ce]=p.useState(!1);p.useEffect(()=>{const q=H=>{A.current&&!A.current.contains(H.target)&&j(!1),I.current&&!I.current.contains(H.target)&&S(!1)};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]);const te=async()=>{l(!0);try{const H=await new Rte().getAllergens();i(H);const Q=await Em.getIngredients();n(Q),N.info("Data loaded successfully",{allergenCount:H.length,ingredientCount:Q.length})}catch(q){N.error("Data loading error:",q),i([]),n([])}finally{l(!1)}};p.useEffect(()=>{te()},[]);const K=p.useMemo(()=>Dte(c,300),[]),Y=()=>{T({status:"all",allergen:"all",selectedAllergens:[]}),c(""),b("name_asc")},re=M.status!=="all"||M.allergen!=="all"||M.selectedAllergens.length>0||d!=="",ne=p.useMemo(()=>{let q=a;return d.trim()&&(q=q.filter(H=>H.name.toLowerCase().includes(d.toLowerCase()))),q=q.filter(H=>!(M.status==="available"&&!H.isAvailable||M.status==="unavailable"&&H.isAvailable||M.allergen==="allergenic"&&!H.isAllergenic||M.allergen==="non-allergenic"&&H.isAllergenic||M.selectedAllergens.length>0&&!M.selectedAllergens.some(de=>H.allergenIds?.includes(de)))),[...q].sort((H,Q)=>{switch(x){case"name_asc":return H.name.localeCompare(Q.name);case"name_desc":return Q.name.localeCompare(H.name);case"status_asc":return Number(H.isAvailable)-Number(Q.isAvailable);case"status_desc":return Number(Q.isAvailable)-Number(H.isAvailable);case"allergen_asc":return Number(H.isAllergenic)-Number(Q.isAllergenic);case"allergen_desc":return Number(Q.isAllergenic)-Number(H.isAllergenic);default:return H.name.localeCompare(Q.name)}})},[a,d,M,x,s]),z=q=>{G(q),X(!0)},V=q=>{G(q),Z(!0)},F=async()=>{if(B){ce(!0);try{await Em.deleteIngredient(B.id),n(q=>q.filter(H=>H.id!==B.id)),N.info("Ingredient deleted",{id:B.id})}catch(q){throw N.error("Ingredient deletion error:",q),q}finally{ce(!1)}}},$=[{value:"name_asc",label:e("sort.name.asc")||"Name (A-Z)",icon:Gp},{value:"name_desc",label:e("sort.name.desc")||"Name (Z-A)",icon:Qp},{value:"status_asc",label:e("sort.status.asc")||"Status (Unavailable first)",icon:Gp},{value:"status_desc",label:e("sort.status.desc")||"Status (Available first)",icon:Qp},{value:"allergen_asc",label:e("sort.allergen.asc")||"Allergen (Non-allergenic first)",icon:Gp},{value:"allergen_desc",label:e("sort.allergen.desc")||"Allergen (Allergenic first)",icon:Qp}];return o?r.jsxs(ke.div,{initial:{opacity:0},animate:{opacity:1},className:`space-y-6 ${t?"text-right":"text-left"}`,children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-md border border-gray-200/50 dark:border-gray-700/50 p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-4"}),r.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded"})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(q=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-md border border-gray-200/50 dark:border-gray-700/50 p-6 animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-2/3"})]})]},q))})]}):r.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`space-y-6 ${t?"text-right":"text-left"}`,children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-md border border-gray-200/50 dark:border-gray-700/50 p-6",children:r.jsxs("div",{className:`flex flex-col md:flex-row md:items-center md:justify-between gap-4 ${t?"md:flex-row-reverse":""}`,children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Bn,{className:`absolute top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 ${t?"right-3":"left-3"}`}),r.jsx("input",{type:"text",placeholder:e("IngredientsContent.searchPlaceholder"),onChange:q=>K(q.target.value),className:"w-full py-3 px-10 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 shadow-sm transition-shadow duration-200 focus:shadow-md","aria-label":e("IngredientsContent.accessibility.searchInput")})]}),r.jsxs("div",{className:`flex items-center gap-3 flex-wrap ${t?"flex-row-reverse":""}`,children:[re&&r.jsxs("div",{className:"flex flex-wrap gap-2",children:[M.status!=="all"&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full",children:["Status: ",M.status,r.jsx("button",{onClick:()=>T(q=>({...q,status:"all"})),children:r.jsx(xt,{className:"h-3 w-3"})})]}),M.allergen!=="all"&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full",children:["Allergen: ",M.allergen,r.jsx("button",{onClick:()=>T(q=>({...q,allergen:"all"})),children:r.jsx(xt,{className:"h-3 w-3"})})]}),M.selectedAllergens.map(q=>{const H=s.find(Q=>Q.id===q);return H?r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full",children:[H.name,r.jsx("button",{onClick:()=>T(Q=>({...Q,selectedAllergens:Q.selectedAllergens.filter(de=>de!==q)})),children:r.jsx(xt,{className:"h-3 w-3"})})]},q):null}),d&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 text-sm bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full",children:['Search: "',d,'"',r.jsx("button",{onClick:()=>c(""),children:r.jsx(xt,{className:"h-3 w-3"})})]}),r.jsx("button",{onClick:Y,className:"text-sm text-red-600 dark:text-red-400 hover:underline",children:"Clear All"})]}),r.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-full p-1 shadow-sm",children:[r.jsx("button",{onClick:()=>h("grid"),className:`px-4 py-2 rounded-full transition-all duration-200 ${g==="grid"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:e("productsContent.viewMode.grid"),children:r.jsx(Ws,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>h("list"),className:`px-4 py-2 rounded-full transition-all duration-200 ${g==="list"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:e("productsContent.viewMode.list"),children:r.jsx(h2,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"relative",ref:A,children:[r.jsxs("button",{onClick:()=>j(!v),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border rounded-xl transition-all duration-200 shadow-sm ${re?"text-primary-700 dark:text-primary-300 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-900/30 border-primary-200 dark:border-primary-800":"text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:shadow-md"}`,title:e("IngredientsContent.filter"),children:[r.jsx(al,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:e("IngredientsContent.filter")}),r.jsx(Rr,{className:`h-4 w-4 transition-transform duration-200 ${v?"rotate-180":""}`})]}),r.jsx(pr,{children:v&&r.jsx(ke.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute top-full mt-2 w-96 bg-white dark:bg-gray-800 border border-gray-200/50 dark:border-gray-700/50 rounded-2xl shadow-xl z-50 overflow-hidden",children:r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3",children:e("filter.status")||"Status"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"all",label:e("filter.all")||"All",icon:Ar},{value:"available",label:e("filter.active")||"Available",icon:Ya},{value:"unavailable",label:e("filter.inactive")||"Unavailable",icon:Cs}].map(q=>{const H=q.icon;return r.jsxs("button",{onClick:()=>T(Q=>({...Q,status:q.value})),className:`flex items-center gap-2 px-4 py-2 text-sm rounded-xl transition-all duration-200 ${M.status===q.value?"bg-gradient-to-r from-primary-100 to-primary-200 dark:from-primary-900/50 dark:to-primary-900/70 text-primary-700 dark:text-primary-300 shadow-sm":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:shadow-sm"}`,children:[r.jsx(H,{className:"h-4 w-4"}),r.jsx("span",{children:q.label})]},q.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3",children:e("filter.allergen")||"Allergen Type"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"all",label:e("filter.all")||"All",icon:Ar},{value:"allergenic",label:e("filter.allergenic")||"Allergenic",icon:ya},{value:"non-allergenic",label:e("filter.nonallergenic")||"Non-allergenic",icon:xa}].map(q=>{const H=q.icon;return r.jsxs("button",{onClick:()=>T(Q=>({...Q,allergen:q.value})),className:`flex items-center gap-2 px-4 py-2 text-sm rounded-xl transition-all duration-200 ${M.allergen===q.value?"bg-gradient-to-r from-primary-100 to-primary-200 dark:from-primary-900/50 dark:to-primary-900/70 text-primary-700 dark:text-primary-300 shadow-sm":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:shadow-sm"}`,children:[r.jsx(H,{className:"h-4 w-4"}),r.jsx("span",{children:q.label})]},q.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3",children:e("filter.specific.allergens")||"Specific Allergens"}),r.jsx("div",{className:"max-h-40 overflow-y-auto space-y-3 pr-2",children:s.map(q=>r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer text-sm",children:[r.jsx("input",{type:"checkbox",checked:M.selectedAllergens.includes(q.id),onChange:H=>{const Q=H.target.checked?[...M.selectedAllergens,q.id]:M.selectedAllergens.filter(de=>de!==q.id);T(de=>({...de,selectedAllergens:Q}))},className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500 transition-colors"}),r.jsxs("span",{className:"text-gray-800 dark:text-gray-200",children:[q.icon," ",q.name]})]},q.id))})]}),r.jsx("button",{onClick:()=>j(!1),className:"w-full py-2 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition-colors shadow-sm",children:"Apply Filters"})]})})})]}),r.jsxs("div",{className:"relative",ref:I,children:[r.jsxs("button",{onClick:()=>S(!w),className:"flex items-center gap-2 px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl hover:shadow-md transition-all duration-200 shadow-sm",title:e("IngredientsContent.sort"),children:[r.jsx(m2,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:e("IngredientsContent.sort")}),r.jsx(Rr,{className:`h-4 w-4 transition-transform duration-200 ${w?"rotate-180":""}`})]}),r.jsx(pr,{children:w&&r.jsx(ke.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute top-full mt-2 w-64 bg-white dark:bg-gray-800 border border-gray-200/50 dark:border-gray-700/50 rounded-2xl shadow-xl z-50 overflow-hidden",children:r.jsx("div",{className:"p-3 space-y-1",children:$.map(q=>{const H=q.icon;return r.jsxs("button",{onClick:()=>{b(q.value),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm rounded-xl transition-all duration-200 ${x===q.value?"bg-gradient-to-r from-primary-100 to-primary-200 dark:from-primary-900/50 dark:to-primary-900/70 text-primary-700 dark:text-primary-300 shadow-sm":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:shadow-sm"}`,children:[r.jsx(H,{className:"h-4 w-4"}),r.jsx("span",{children:q.label}),x===q.value&&r.jsx(_r,{className:"h-4 w-4 ml-auto"})]},q.value)})})})})]}),r.jsxs("button",{onClick:()=>D(!0),className:`flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-xl hover:from-primary-700 hover:to-primary-800 transition-all duration-200 shadow-md hover:shadow-lg ${t?"flex-row-reverse":""}`,"aria-label":e("IngredientsContent.accessibility.addButton"),children:[r.jsx(Ut,{className:"w-5 h-5"}),e("IngredientsContent.newIngredient")]})]})]})}),r.jsx(pr,{mode:"wait",children:g==="grid"?r.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:ne.length===0?r.jsxs(ke.div,{initial:{scale:.95},animate:{scale:1},className:"col-span-full flex flex-col items-center justify-center py-16 bg-white dark:bg-gray-800 rounded-2xl shadow-md border border-gray-200/50 dark:border-gray-700/50",children:[r.jsx(Ar,{className:"h-20 w-20 text-gray-300 dark:text-gray-600 mb-4"}),r.jsx("p",{className:"text-lg font-medium text-gray-500 dark:text-gray-400",children:e(d||re?"IngredientsContent.noIngredientsFound":"IngredientsContent.noIngredientsYet")})]}):ne.map((q,H)=>r.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:H*.05},whileHover:{scale:1.02,transition:{duration:.2}},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-md border border-gray-200/50 dark:border-gray-700/50 p-6 hover:shadow-xl transition-shadow duration-300 group",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("h3",{className:"font-bold text-xl text-gray-900 dark:text-white",children:q.name}),r.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[r.jsx("button",{onClick:()=>z(q),className:"p-2 text-gray-500 hover:text-primary-600 dark:hover:text-primary-400 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:e("IngredientsContent.edit"),children:r.jsx(bo,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>V(q),className:"p-2 text-gray-500 hover:text-red-600 dark:hover:text-red-400 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:e("IngredientsContent.delete"),children:r.jsx(wr,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("span",{className:`inline-flex px-4 py-1 text-sm font-semibold rounded-full shadow-sm ${q.isAvailable?"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-900/50 text-green-800 dark:text-green-300":"bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/30 dark:to-red-900/50 text-red-800 dark:text-red-300"}`,children:q.isAvailable?e("IngredientsContent.available"):e("IngredientsContent.unavailable")}),q?.isAllergenic?r.jsxs("div",{className:"space-y-2",children:[r.jsx("span",{className:"inline-flex px-4 py-1 text-sm font-semibold rounded-full shadow-sm bg-gradient-to-r from-yellow-100 to-yellow-200 dark:from-yellow-900/30 dark:to-yellow-900/50 text-yellow-800 dark:text-yellow-300",children:e("IngredientsContent.containsAllergens")}),q?.allergenIds?.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 text-sm text-gray-600 dark:text-gray-400",children:s.filter(Q=>q.allergenIds.includes(Q.id)).map(Q=>r.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-full",children:[Q.icon," ",Q.name]},Q.id))})]}):r.jsx("span",{className:"inline-flex px-4 py-1 text-sm font-semibold rounded-full shadow-sm bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-900/50 text-green-800 dark:text-green-300",children:e("IngredientsContent.noAllergens")})]})]},q.id))},"grid"):r.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-md border border-gray-200/50 dark:border-gray-700/50 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full divide-y divide-gray-200 dark:divide-gray-700",role:"table","aria-label":e("IngredientsContent.accessibility.ingredientsTable"),children:[r.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:`px-6 py-4 text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider ${t?"text-right":"text-left"}`,children:e("IngredientsContent.ingredientName")}),r.jsx("th",{className:`px-6 py-4 text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider ${t?"text-right":"text-left"}`,children:e("IngredientsContent.status")}),r.jsx("th",{className:`px-6 py-4 text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider ${t?"text-right":"text-left"}`,children:e("IngredientsContent.allergenInfo")}),r.jsx("th",{className:`px-6 py-4 text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider ${t?"text-right":"text-left"}`,children:e("IngredientsContent.actions")})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:ne.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"px-6 py-12 text-center",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Ar,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mb-4"}),r.jsx("p",{className:"text-lg font-medium text-gray-500 dark:text-gray-400",children:e(d||re?"IngredientsContent.noIngredientsFound":"IngredientsContent.noIngredientsYet")})]})})}):ne.map((q,H)=>r.jsxs(ke.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:H*.05},className:"hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100 dark:hover:from-gray-700/50 dark:hover:to-gray-800/50 transition-colors duration-200",children:[r.jsx("td",{className:"px-6 py-5 whitespace-nowrap font-medium text-gray-900 dark:text-white text-lg",children:q.name}),r.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full shadow-sm ${q.isAvailable?"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-900/50 text-green-800 dark:text-green-300":"bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/30 dark:to-red-900/50 text-red-800 dark:text-red-300"}`,"aria-label":e("IngredientsContent.accessibility.statusBadge"),children:q.isAvailable?e("IngredientsContent.available"):e("IngredientsContent.unavailable")})}),r.jsx("td",{className:"px-6 py-5",children:r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:q?.isAllergenic?r.jsxs("div",{className:"space-y-1",children:[r.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-semibold rounded-full shadow-sm bg-gradient-to-r from-yellow-100 to-yellow-200 dark:from-yellow-900/30 dark:to-yellow-900/50 text-yellow-800 dark:text-yellow-300","aria-label":e("IngredientsContent.accessibility.allergenBadge"),children:e("IngredientsContent.containsAllergens")}),q?.allergenIds?.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 text-sm text-gray-600 dark:text-gray-400",children:s.filter(Q=>q.allergenIds.includes(Q.id)).map(Q=>r.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-full",children:[Q.icon," ",Q.name]},Q.id))})]}):r.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-semibold rounded-full shadow-sm bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-900/50 text-green-800 dark:text-green-300","aria-label":e("IngredientsContent.accessibility.allergenBadge"),children:e("IngredientsContent.noAllergens")})})}),r.jsx("td",{className:`px-6 py-5 whitespace-nowrap ${t?"text-left":"text-right"}`,children:r.jsxs("div",{className:`flex items-center gap-3 ${t?"flex-row-reverse justify-end":""}`,children:[r.jsx("button",{onClick:()=>z(q),className:"p-2 text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 rounded-full hover:bg-primary-100 dark:hover:bg-primary-900/20 transition-colors",title:e("IngredientsContent.edit"),"aria-label":e("IngredientsContent.accessibility.editButton"),children:r.jsx(bo,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>V(q),className:"p-2 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 rounded-full hover:bg-red-100 dark:hover:bg-red-900/20 transition-colors",title:e("IngredientsContent.delete"),"aria-label":e("IngredientsContent.accessibility.deleteButton"),children:r.jsx(wr,{className:"w-5 h-5"})})]})})]},q.id))})]})})},"list")}),r.jsx(f3,{isOpen:_,onClose:()=>D(!1),onSuccess:te,allergens:s,isEdit:!1}),r.jsx(f3,{isOpen:E,onClose:()=>{X(!1),G(null)},onSuccess:te,ingredient:B,allergens:s,isEdit:!0}),r.jsx(Ql,{isOpen:ee,onClose:()=>{Z(!1),G(null)},onConfirm:F,title:e("IngredientsContent.deleteIngredient"),message:B?e("IngredientsContent.deleteConfirmMessage").replace("{name}",B.name):"",isSubmitting:J,itemName:B?.name})]})},Lte=({isOpen:e,onClose:t,activeTab:a,setActiveTab:n,restaurantName:s,branchName:i,isBranchOnly:o,onLogout:l})=>{const d=Ra(),{t:c,language:g}=Ze(),h=g==="ar",x=(v,j)=>{d(`/dashboard/${v}`),n(j),e&&t()},b=()=>{d("/")};return r.jsxs(r.Fragment,{children:[e&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:t}),r.jsx("aside",{className:`fixed inset-y-0 ${h?"right-0":"left-0"} z-30 w-64 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${e?"translate-x-0":h?"translate-x-full":"-translate-x-full"}`,children:r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:`px-6 py-5 flex items-center justify-between border-b border-gray-200 dark:border-gray-700 ${h?"flex-row-reverse":""}`,children:[r.jsxs("button",{onClick:b,className:"flex items-center hover:opacity-80 transition-opacity duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 rounded-lg p-1",children:[r.jsx(aa,{className:"h-8 w-8 text-primary-600 dark:text-primary-400"}),r.jsx("span",{className:`${h?"mr-3":"ml-3"} text-xl font-bold text-gray-900 dark:text-white`,children:c("dashboard.sidebar.title")})]}),r.jsx("button",{onClick:t,className:"lg:hidden p-2 rounded-md text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(xt,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 truncate",children:s}),i&&r.jsxs("div",{className:`mt-1 flex items-center ${h?"space-x-reverse":""} space-x-2`,children:[r.jsx("span",{className:"text-sm text-primary-600 dark:text-primary-400 font-medium",children:i}),r.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-primary-100 text-primary-800 dark:bg-primary-900/50 dark:text-primary-300",children:c("dashboard.sidebar.branch")})]})]}),r.jsxs("nav",{className:"mt-5 flex-1 px-3 space-y-1",children:[r.jsxs("button",{onClick:()=>x("branchProducts","branchProducts"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="branchProducts"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(Kn,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.products.title")})]}),r.jsxs("button",{onClick:()=>x("TableManagement","TableManagement"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="TableManagement"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(Xd,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.tables.title")})]}),r.jsxs("button",{onClick:()=>x("BranchManagement","BranchManagement"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="BranchManagement"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(hi,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.branchManagementTitle")})]}),r.jsxs("button",{onClick:()=>x("Branchorders","Branchorders"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="Branchorders"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(VO,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.orders.title")})]}),r.jsxs("button",{onClick:()=>x("orderType","orderType"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="orderType"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(Gy,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.orderType.title")})]}),r.jsxs("button",{onClick:()=>x("moneyCase","moneyCase"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="moneyCase"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(qr,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.moneyCase.title")})]}),!o&&r.jsxs("button",{onClick:()=>x("users","users"),className:`w-full flex items-center px-3 py-2 rounded-md transition-colors duration-200 ${a==="users"?"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx($r,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.users.title")})]}),!o&&r.jsxs("button",{onClick:()=>x("BranchSettings","BranchSettings"),className:`w-full flex items-center px-4 py-3 rounded-lg ${a==="BranchSettings"?"bg-primary-50 text-primary-700 dark:bg-primary-900/50 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${h?"text-right":"text-left"}`,children:[r.jsx(qa,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.settings.title")})]})]}),r.jsx("div",{className:"px-4 py-4 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("button",{onClick:l,className:`w-full flex items-center px-4 py-3 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg ${h?"text-right":"text-left"}`,children:[r.jsx(jm,{className:`h-5 w-5 ${h?"ml-3":"mr-3"}`}),r.jsx("span",{children:c("dashboard.sidebar.logout")})]})})]})})]})};class $te{baseUrl="/api/BranchCategories";transformAPIDataToComponentData(t){return t.map(a=>({categoryId:a.categoryId,categoryName:a.categoryName,description:a.description||"",status:a.status,displayOrder:a.displayOrder,restaurantId:a.restaurantId,isExpanded:a.isExpanded??!0,products:a.products?.map(n=>({id:n.productId,name:n.name,description:n.description||"",price:n.price,imageUrl:n.imageUrl||"",isAvailable:n.status,status:n.status,displayOrder:n.displayOrder,categoryId:a.categoryId}))||[],productId:void 0,name:void 0}))}async getAvailableProductsForBranch(t){try{const{categoryId:a,onlyActive:n,includes:s}=t,i=new URLSearchParams;a&&i.append("categoryId",a.toString()),n!==void 0&&i.append("onlyActive",n.toString()),s&&i.append("includes",s);const o=await he.get(`/api/BranchProducts/branch/available-products?${i.toString()}`);return N.info("Available products for branch retrieved successfully",{categoryId:a,onlyActive:n,includes:s,count:o.data.length}),o.data}catch(a){return N.error("Error retrieving available products for branch:",a),[]}}async getAvailableCategoriesForBranch(){try{const t=new URLSearchParams({includes:"products"}),a=await he.get(`${this.baseUrl}/branch/available-categories?${t.toString()}`);return N.info("Available categories for branch retrieved successfully",{count:a.data.length}),this.transformAPIDataToComponentData(a.data)}catch(t){return N.error("Error retrieving available categories for branch:",t),[]}}async getBranchCategories(){try{const t=await he.get(`${this.baseUrl}`,{params:{includeInactive:!0}});return N.info("Branch categories retrieved successfully",{count:t.data}),t.data}catch(t){return N.error("Error retrieving branch categories:",t),[]}}async getPublicCategoriesForBranch(t){try{const a=await he.get(`${this.baseUrl}/branch/${t}/public-categories`);return N.info("Public categories for branch retrieved successfully",{branchId:t,count:a.data.length}),this.transformAPIDataToComponentData(a.data)}catch(a){return N.error("Error retrieving public categories for branch:",a),[]}}async getBranchCategory(t){try{const a=await he.get(`${this.baseUrl}/category/${t}`);return N.info("Branch category retrieved successfully",{categoryId:t}),{categoryId:a.data.categoryId,categoryName:a.data.categoryName,description:a.data.description||"",status:a.data.status,displayOrder:a.data.displayOrder,restaurantId:a.data.restaurantId,isExpanded:!0,products:a.data.products.map(s=>({productId:s.productId,id:s.productId,name:s.name,description:s.description||"",price:s.price,imageUrl:s.imageUrl||"",isAvailable:s.status,status:s.status,displayOrder:s.displayOrder,categoryId:a.data.categoryId,originalProductId:s.productId})),productId:void 0,name:void 0}}catch(a){return N.error("Error retrieving branch category:",a),null}}async createBranchCategory(t){try{const a=t;N.info("Creating branch category",{payload:a});try{const n=await he.post(`${this.baseUrl}`,a);return N.info("Branch category created successfully",{data:n.data}),n.data}catch(n){if(n.response?.data?.errors&&n.response.data.errors.createBranchCategoryDto){N.info("DTO wrapper required, retrying...");const s={createBranchCategoryDto:t},i=await he.post(`${this.baseUrl}`,s);return N.info("Branch category created successfully (with DTO wrapper)",{data:i.data}),{categoryId:i.data.categoryId,categoryName:i.data.categoryName,description:i.data.description||"",status:i.data.status,displayOrder:i.data.displayOrder,restaurantId:i.data.restaurantId,isExpanded:!0,products:[],productId:void 0,name:void 0}}throw n}}catch(a){throw N.error(" Error creating branch category:",a),a}}async updateBranchCategory(t){try{const a={branchCategoryId:t.branchCategoryId,isActive:t.isActive??!0,displayName:t.displayName??"",displayOrder:t.displayOrder??0};N.info("Updating branch category",{payload:a});const n=await he.put(`${this.baseUrl}`,a);return N.info("Branch category updated successfully",{data:n.data}),{categoryId:n.data.categoryId,categoryName:n.data.categoryName,description:n.data.description||"",status:n.data.status,displayOrder:n.data.displayOrder,restaurantId:n.data.restaurantId,isExpanded:!0,products:n.data.products?.map(i=>({productId:i.productId,id:i.productId,name:i.name,description:i.description||"",price:i.price,imageUrl:i.imageUrl||"",isAvailable:i.status,status:i.status,displayOrder:i.displayOrder,categoryId:n.data.categoryId}))||[],productId:void 0,name:void 0}}catch(a){throw N.error(" Error updating branch category:",a),a}}async deleteBranchCategory(t){try{N.info("Deleting branch category",{id:t}),await he.delete(`${this.baseUrl}`,{params:{id:t}}),N.info("Branch category deleted successfully",{id:t})}catch(a){throw N.error(" Error deleting branch category:",a),a}}async reorderBranchCategories(t){try{const a={categoryOrders:t};N.info("Reordering branch categories",{payload:a,totalCategories:t.length});const n=await he.post(`${this.baseUrl}/reorder`,a);N.info("Branch categories reordered successfully",{updatedCategories:t.length,response:n.status})}catch(a){throw N.error(" Error reordering branch categories:",a),a.response?.status===400?new Error("Invalid branch category reorder data"):a.response?.status===404?new Error("One or more branch categories not found"):new Error("Error occurred while saving branch category order")}}async batchUpdateBranchCategories(t){try{const a={categoryIds:t};N.info("Batch updating branch categories",{payload:a,totalCategories:t.length});const n=await he.post(`${this.baseUrl}/batch-update`,a);N.info("Branch categories batch updated successfully",{updatedCategories:t.length,response:n.status})}catch(a){throw N.error(" Error batch updating branch categories:",a),a.response?.status===400?new Error("Invalid batch update data"):a.response?.status===404?new Error("One or more categories not found"):new Error("Error occurred while batch updating categories")}}async getDeletedBranchCategories(){try{N.info("Fetching deleted branch categories");const t=await he.get(`${this.baseUrl}/deleted`);return N.info("Deleted branch categories retrieved successfully",{count:t.data.length}),t.data}catch(t){return N.error(" Error retrieving deleted branch categories:",t),[]}}async restoreBranchCategory(t){try{N.info("Restoring branch category",{id:t}),await he.post(`${this.baseUrl}/${t}/restore`),N.info("Branch category restored successfully",{id:t})}catch(a){throw N.error(" Error restoring branch category:",a),a}}}const uo=new $te;class Fte{baseUrl="/api/BranchProducts";transformComplexAPIDataToComponentData(t){return t.map(a=>({productId:a.branchProductId,name:a.product?.name||`Product ${a.productId}`,description:"",price:a.price,imageUrl:a.product?.imageUrl||"",isAvailable:a.isActive,status:a.isActive,displayOrder:a.displayOrder,categoryId:a.branchCategoryId,branchProductId:a.branchProductId,originalProductId:a.productId,product:a.product,branchCategory:a.branchCategory,ingredients:a.ingredients,allergens:a.allergens,orderDetails:a.orderDetails}))}transformSimpleAPIDataToComponentData(t){return t.map(a=>({id:a.branchProductId,branchProductId:a.branchProductId,name:a.name,description:a.description||"",price:a.price,imageUrl:a.imageUrl||"",isAvailable:a.isActive??a.status??!0,status:a.isActive??a.status??!0,displayOrder:a.displayOrder||0,categoryId:a.branchCategoryId,originalProductId:a.productId}))}transformSingleProduct(t){return{id:t.branchProductId||t.productId,name:t.name,description:t.description||"",price:t.price,imageUrl:t.imageUrl||"",isAvailable:t.isActive??t.status??!0,status:t.status??!0,displayOrder:t.displayOrder||0,categoryId:t.branchCategoryId,branchProductId:t.branchProductId,originalProductId:t.productId}}async getBranchProducts(t){try{let a=this.baseUrl;if(t&&t.length>0){const o=t.join(", ");a+=`?includes=${encodeURIComponent(o)}`,N.info("Fetching branch products with includes",{includes:o,url:a})}const n=await he.get(a),s=n.data[0];return s&&(s.product||s.branchCategory||s.ingredients||s.allergens)?(N.info("Using complex transformation for response with includes"),this.transformComplexAPIDataToComponentData(n.data)):(N.info("Using simple transformation for basic response"),this.transformSimpleAPIDataToComponentData(n.data))}catch(a){return N.error("Error retrieving branch products:",a),[]}}async getBranchProductsWithDetails(){return this.getBranchProducts(["product","branchCategory","ingredients","allergens","orderDetails"])}async getBranchProductsWithIngredientsAndAllergens(){return this.getBranchProducts(["ingredients","allergens"])}async getBranchProduct(t){try{const a=await he.get(`${this.baseUrl}/${t}`);return N.info("Branch product retrieved successfully",{id:t}),this.transformSingleProduct(a.data)}catch(a){return N.error("Error retrieving branch product:",a),null}}async getBranchMenu(t,a){try{let n=`${this.baseUrl}/branch/${t}/menu`;if(a&&a.length>0){const i=a.join(", ");n+=`?includes=${encodeURIComponent(i)}`}const s=await he.get(`${this.baseUrl}/branch/${t}/menu`);return N.info("Branch menu retrieved successfully",{branchId:t,hasIncludes:!!a?.length,branchName:s.data?.branchName,categoriesCount:s.data?.categories?.length}),s.data}catch(n){throw N.error("Error retrieving branch menu:",n),n}}async createBranchProduct(t){try{const a=t;N.info("Creating branch product",{payload:a});try{const n=await he.post(`${this.baseUrl}`,a);return N.info("Branch product created successfully",{data:n.data}),this.transformSingleProduct(n.data)}catch(n){if(n.response?.data?.errors&&n.response.data.errors.createBranchProductDto){N.info("DTO wrapper required, retrying...");const s={createBranchProductDto:t},i=await he.post(`${this.baseUrl}`,s);return N.info("Branch product created successfully (with DTO wrapper)",{data:i.data}),this.transformSingleProduct(i.data)}throw n}}catch(a){throw N.error(" Error creating branch product:",a),a}}async updateBranchProduct(t,a){try{const n={branchProductId:a.branchProductId??t,price:a.price??0,isActive:a.isActive??!0,displayOrder:a.displayOrder??0,branchCategoryId:a.branchCategoryId??0};N.info("Updating branch product",{id:t,payload:n});const s=await he.put(`${this.baseUrl}/${t}`,n);return N.info("Branch product updated successfully",{id:t,data:s.data}),this.transformSingleProduct(s.data)}catch(n){throw N.error(" Error updating branch product:",n),n}}async deleteBranchProduct(t){try{N.info("Deleting branch product",{id:t}),await he.delete(`${this.baseUrl}/${t}`),N.info("Branch product deleted successfully",{id:t})}catch(a){throw N.error(" Error deleting branch product:",a),a}}async reorderBranchProducts(t){try{const a={productOrders:t};N.info("Reordering branch products",{payload:a,totalProducts:t.length});const n=await he.post(`${this.baseUrl}/reorder`,a);N.info("Branch products reordered successfully",{updatedProducts:t.length,response:n.status})}catch(a){throw N.error(" Error reordering branch products:",a),a.response?.status===400?new Error("Invalid branch product reorder data"):a.response?.status===404?new Error("One or more branch products not found"):new Error("Error occurred while saving branch product order")}}async activateBranchProducts(t){try{N.info("Activating multiple branch products",{branchProductIds:t});const a=t.map(n=>this.updateBranchProduct(n,{isActive:!0}));await Promise.all(a),N.info("Branch products activated successfully",{count:t.length})}catch(a){throw N.error(" Error activating branch products:",a),a}}async deactivateBranchProducts(t){try{N.info("Deactivating multiple branch products",{branchProductIds:t});const a=t.map(n=>this.updateBranchProduct(n,{isActive:!1}));await Promise.all(a),N.info("Branch products deactivated successfully",{count:t.length})}catch(a){throw N.error(" Error deactivating branch products:",a),a}}async updateBranchProductPrices(t){try{N.info("Updating multiple branch product prices",{updates:t});const a=t.map(n=>this.updateBranchProduct(n.branchProductId,{price:n.newPrice}));await Promise.all(a),N.info("Branch product prices updated successfully",{count:t.length})}catch(a){throw N.error(" Error updating branch product prices:",a),a}}async getDeletedBranchProducts(){try{N.info("Fetching deleted branch products");const t=await he.get(`${this.baseUrl}/deleted`);return N.info("Deleted branch products retrieved successfully",{count:t.data.length}),t.data}catch(t){return N.error(" Error retrieving deleted branch products:",t),[]}}async restoreBranchProduct(t){try{N.info("Restoring branch product",{id:t}),await he.post(`${this.baseUrl}/${t}/restore`),N.info("Branch product restored successfully",{id:t})}catch(a){throw N.error(" Error restoring branch product:",a),a}}}const Yo=new Fte,zte=({isOpen:e,onClose:t,product:a})=>{const{t:n,isRTL:s}=Ze(),i=(l,d)=>{try{const c=`allergens.${l}.name`,g=n(c);return g===c?d:g}catch{return d}};if(!e||!a)return null;const o=l=>{l.target===l.currentTarget&&t()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:o,children:r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl ${s?"rtl":"ltr"}`,children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-600 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20",children:r.jsxs("div",{className:`flex items-center justify-between ${s?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-4 ${s?"space-x-reverse":""}`,children:[a.imageUrl&&r.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-16 h-16 rounded-xl object-cover border-2 border-white dark:border-gray-700 shadow-md"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.name}),r.jsxs("div",{className:`flex items-center space-x-3 mt-2 ${s?"space-x-reverse":""}`,children:[r.jsxs("span",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:["$",a.price.toFixed(2)]}),a.isSelected&&r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400",children:n("branchCategories.productDetails.addedToBranch")})]})]})]}),r.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:r.jsx(xt,{className:"h-6 w-6"})})]})}),r.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-120px)]",children:r.jsxs("div",{className:"p-6 space-y-8",children:[a.allergens&&a.allergens.length>0&&r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl p-6 border border-red-200 dark:border-red-800",children:[r.jsxs("div",{className:`flex items-center space-x-3 mb-4 ${s?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center",children:r.jsx(Nt,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("branchCategories.productDetails.allergens")}),r.jsx("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-sm font-medium",children:a.allergens.length})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:a.allergens.map(l=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-red-200 dark:border-red-800",children:[r.jsxs("div",{className:`flex items-center space-x-2 ${s?"space-x-reverse":""}`,children:[r.jsx("span",{className:"text-2xl",children:l.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:i(l.code,l.name)}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:l.code}),l.presence&&r.jsx("div",{className:`text-xs px-2 py-1 rounded-full mt-1 ${l.presence===1?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:l.presence===1?n("branchCategories.productDetails.contains"):n("branchCategories.productDetails.mayContain")})]})]}),l.note&&r.jsx("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-300",children:l.note})]},l.allergenId))})]}),a.ingredients&&a.ingredients.length>0&&r.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[r.jsxs("div",{className:`flex items-center space-x-3 mb-4 ${s?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:r.jsx(nl,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("branchCategories.productDetails.ingredients")}),r.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full text-sm font-medium",children:a.ingredients.length})]}),r.jsx("div",{className:"space-y-4",children:a.ingredients.map(l=>r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-green-200 dark:border-green-800",children:r.jsx("div",{className:`flex items-start justify-between ${s?"flex-row-reverse":""}`,children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:`flex items-center space-x-3 mb-2 ${s?"space-x-reverse":""}`,children:[r.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:l.ingredientName}),l.isAllergenic&&r.jsx("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full text-xs font-medium",children:n("branchCategories.productDetails.allergenic")}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l.isAvailable?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:l.isAvailable?n("branchCategories.productDetails.available"):n("branchCategories.productDetails.unavailable")})]}),r.jsxs("div",{className:`flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-300 ${s?"space-x-reverse":""}`,children:[r.jsxs("span",{children:[n("branchCategories.productDetails.quantity")," ",l.quantity," ",l.unit]}),r.jsxs("span",{children:[n("branchCategories.productDetails.ingredientId")," ",l.ingredientId]})]}),l.allergens&&l.allergens.length>0&&r.jsxs("div",{className:"mt-3",children:[r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:n("branchCategories.productDetails.allergenInformation")}),r.jsx("div",{className:`flex flex-wrap gap-2 ${s?"flex-row-reverse":""}`,children:l.allergens.map(d=>r.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full text-xs ${s?"space-x-reverse":""}`,children:[r.jsx("span",{children:d.icon}),r.jsx("span",{children:i(d.code,d.name)})]},d.id))})]})]})})},l.id))})]}),(a.product||a.orderDetails)&&r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-6",children:[r.jsxs("div",{className:`flex items-center space-x-3 mb-4 ${s?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:r.jsx(Ar,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("branchCategories.productDetails.additionalInformation")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.product&&r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-3",children:n("branchCategories.productDetails.originalProduct")}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:`flex justify-between text-sm ${s?"flex-row-reverse":""}`,children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:n("branchCategories.productDetails.originalPrice")}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["$",a.product.price.toFixed(2)]})]}),r.jsxs("div",{className:`flex justify-between text-sm ${s?"flex-row-reverse":""}`,children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:n("branchCategories.productDetails.originalStatus")}),r.jsx("span",{className:`font-medium ${a.product.status?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:a.product.status?n("branchCategories.status.active"):n("branchCategories.status.inactive")})]}),r.jsxs("div",{className:`flex justify-between text-sm ${s?"flex-row-reverse":""}`,children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:n("branchCategories.productDetails.originalDisplayOrder")}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a.product.displayOrder})]})]})]}),a.orderDetails&&r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-3",children:n("branchCategories.productDetails.orderDetails")}),r.jsx("pre",{className:"text-sm text-gray-600 dark:text-gray-300 bg-white dark:bg-gray-800 p-3 rounded-lg border",children:JSON.stringify(a.orderDetails,null,2)})]})]})]})]})}),r.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50",children:r.jsxs("div",{className:`flex items-center justify-between ${s?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n("branchCategories.productDetails.lastUpdated")," ",new Date().toLocaleDateString()]}),r.jsxs("button",{onClick:t,className:`px-6 py-3 bg-blue-600 dark:bg-blue-500 text-white rounded-xl hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors flex items-center gap-2 ${s?"flex-row-reverse":""}`,children:[r.jsx(_r,{className:"h-4 w-4"}),n("branchCategories.productDetails.close")]})]})})]})})},Ute=({branchCategory:e,isDark:t,onToggle:a,onDeleteCategory:n,isExpanded:s,isReordering:i=!1,onAddProduct:o,onRemoveProduct:l,isLoading:d,isLoadingBranchProducts:c,editingProductId:g,editingCategoryId:h,editedProductPrices:x,editedCategoryNames:b,onProductPriceEdit:v,onProductPriceChange:j,onProductPriceSave:w,onProductPriceCancel:S,onCategoryNameEdit:M,onCategoryNameChange:T,onCategoryNameSave:A,onCategoryNameCancel:I,getProductPrice:_,getCategoryName:D,handleShowProductDetails:E,handleShowProductAddons:X,handleShowProductExtras:ee,isCategoryActive:Z})=>{const{t:B,isRTL:G}=Ze(),[J,ce]=p.useState(""),{attributes:te,listeners:K,setNodeRef:Y,transform:re,transition:ne,isDragging:z}=vb({id:e.branchCategoryId}),V={transform:jo.Transform.toString(re),transition:ne,opacity:z?.5:1},F=Z?Z(e.categoryId):!0,$=D(e.categoryId,e.category.categoryName),q=h===e.categoryId,H=$!==e.category.categoryName,Q=(fe,se)=>{const ie=D(fe,se);ce(ie),M(fe,se)},de=fe=>{J.trim()&&(T(fe,J),A(fe)),ce("")},me=fe=>{I(fe),ce("")},je=({originalPrice:fe,isEditing:se,onEdit:ie,onSave:ue,onCancel:le,onChange:xe,currentPrice:ze,showEditButton:Le=!0})=>{const ut=Math.abs(ze-fe)>.001;return se?r.jsxs("div",{className:`flex items-center space-x-2 ${G?"space-x-reverse":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx(qr,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-3 w-3 text-gray-400"}),r.jsx("input",{title:"number",type:"number",step:"1",min:"0",value:ze,onChange:kt=>xe(kt.target.value),className:"pl-6 pr-2 py-1 w-20 text-sm border border-blue-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",autoFocus:!0,onKeyDown:kt=>{kt.key==="Enter"&&ue(),kt.key==="Escape"&&le()}})]}),r.jsx("button",{onClick:ue,className:"p-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors",children:r.jsx(_r,{className:"h-3 w-3"})}),r.jsx("button",{onClick:le,className:"p-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",children:r.jsx(xt,{className:"h-3 w-3"})})]}):r.jsxs("div",{className:`flex items-center space-x-2 ${G?"space-x-reverse":""}`,children:[r.jsxs("span",{className:`font-bold ${ut?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:["$",ze.toFixed(2)]}),ut&&r.jsxs("span",{className:"text-xs text-gray-500 line-through",children:["$",fe.toFixed(2)]}),Le&&r.jsx("button",{onClick:ie,className:"p-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",title:"Edit price",children:r.jsx(qs,{className:"h-3 w-3"})})]})};return r.jsxs("div",{ref:Y,style:V,className:`group relative bg-white dark:bg-gray-800 rounded-2xl overflow-hidden transition-all duration-300 ${z?"shadow-2xl shadow-primary-500/25 ring-2 ring-primary-500 scale-105":"shadow-md hover:shadow-xl border border-gray-200 dark:border-gray-700"} ${G?"text-right":"text-left"} ${F?"":"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/10 opacity-75"}`,role:"article",children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary-500 via-purple-500 to-pink-500"}),r.jsxs("div",{className:"relative p-6 bg-gradient-to-br from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-primary-500/5 to-purple-500/5 rounded-full blur-3xl -z-0"}),r.jsxs("div",{className:`relative flex items-center justify-between ${G?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-4 flex-1 ${G?"flex-row-reverse":""}`,children:[r.jsx("button",{...te,...K,className:"p-2.5 text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-xl cursor-grab active:cursor-grabbing transition-all duration-200 hover:scale-110",disabled:!F,children:r.jsx(Ky,{className:"h-5 w-5"})}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center font-bold text-blue-600 dark:text-blue-400",children:e.displayOrder}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:`flex items-center gap-3 mb-1 ${G?"flex-row-reverse":""}`,children:[q?r.jsxs("div",{className:`flex items-center space-x-2 ${G?"space-x-reverse":""}`,children:[r.jsx("input",{title:"editingCategoryName",type:"text",value:J,onChange:fe=>ce(fe.target.value),className:"px-3 py-2 border border-blue-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0,onKeyDown:fe=>{fe.key==="Enter"&&de(e.categoryId),fe.key==="Escape"&&me(e.categoryId)}}),r.jsx("button",{onClick:()=>de(e.categoryId),className:"p-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors",children:r.jsx(_r,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>me(e.categoryId),className:"p-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",children:r.jsx(xt,{className:"h-4 w-4"})})]}):r.jsxs("div",{className:`flex items-center space-x-2 ${G?"space-x-reverse":""}`,children:[r.jsx("h3",{className:`text-xl font-bold ${H?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:$}),H&&r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(was: ",e.category.categoryName,")"]}),F&&r.jsx("button",{onClick:()=>Q(e.categoryId,$),className:"p-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",title:"Edit category name",children:r.jsx(qs,{className:"h-3 w-3"})}),!F&&r.jsx("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-xs font-medium",children:"Inactive"})]}),i&&r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-primary-100 dark:bg-primary-900/30 rounded-full",children:[r.jsx(mt,{className:"w-3.5 h-3.5 animate-spin text-primary-600 dark:text-primary-400"}),r.jsx("span",{className:"text-xs font-medium text-primary-700 dark:text-primary-300",children:B("SortableCategory.reorderingProducts")||"Reordering..."})]})]}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[B("branchCategories.manage.original")," ",e.category.categoryName]}),r.jsxs("div",{className:`flex items-center space-x-4 mt-2 ${G?"space-x-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-1.5 ${G?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[r.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.selectedProductsCount||0})," ",B("branchCategories.manage.added")]})]}),r.jsxs("div",{className:`flex items-center gap-1.5 ${G?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[r.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:e.unselectedProductsCount||0})," ",B("branchCategories.manage.available")]})]}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[B("branchCategories.manage.total")," ",e.products?.length||0]})]})]})]}),r.jsxs("div",{className:`flex items-center gap-2 ${G?"flex-row-reverse":""}`,children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${e.isActive?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:e.isActive?B("branchCategories.manage.active"):B("branchCategories.manage.inactive")}),(e.selectedProductsCount||0)>0&&r.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 rounded-lg text-xs ${G?"space-x-reverse":""}`,children:[r.jsx(Nt,{className:"h-3 w-3"}),r.jsxs("span",{children:[e.selectedProductsCount," ",B("branchCategories.products.products")]})]}),r.jsx("button",{onClick:()=>n(e.branchCategoryId,e.displayName),disabled:(e.selectedProductsCount||0)>0,className:`p-2 rounded-lg transition-colors ${(e.selectedProductsCount||0)>0?"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed opacity-50":"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/50"}`,title:F?(e.selectedProductsCount||0)>0?B("branchCategories.messages.error.cannotDeleteTooltip",{count:e.selectedProductsCount??0}):B("branchCategories.actions.delete"):"Cannot delete inactive category",children:r.jsx(wr,{className:"h-4 w-4"})}),e.products&&e.products.length>0&&r.jsx("button",{onClick:()=>a(e.categoryId),className:`p-2.5 rounded-xl transition-all duration-200 ${s?"bg-primary-600 text-white shadow-lg shadow-primary-500/25":"bg-gray-100 dark:bg-gray-700/50 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:B(s?"SortableCategory.collapseCategory":"SortableCategory.expandCategory"),children:s?r.jsx(Hn,{className:`h-5 w-5 ${G?"rotate-180":""}`}):r.jsx(Rr,{className:`h-5 w-5 ${G?"rotate-180":""}`})})]})]})]}),s&&e.products&&e.products.length>0&&r.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900/30",children:[!F&&r.jsx("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:r.jsxs("div",{className:`flex items-center ${G?"flex-row-reverse":""}`,children:[r.jsx(Nt,{className:`h-5 w-5 text-red-600 dark:text-red-400 ${G?"ml-3":"mr-3"}`}),r.jsx("span",{className:"text-red-700 dark:text-red-300 font-medium",children:"This category is inactive"})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.products.map(fe=>{const se=fe.isSelected,ie=fe.ingredients||fe.allergens,ue=_(fe.id,fe.price),le=g===fe.id;return r.jsxs("div",{className:`relative flex flex-col p-4 rounded-xl border-2 transition-all ${se?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"} ${G?"space-x-reverse":""}`,children:[r.jsx("div",{className:`absolute -top-2 ${G?"-left-2":"-right-2"} w-6 h-6 rounded-full flex items-center justify-center ${se?"bg-green-600 dark:bg-green-500":"bg-gray-400 dark:bg-gray-500"}`,children:se?r.jsx(_r,{className:"h-4 w-4 text-white"}):r.jsx(Ut,{className:"h-4 w-4 text-white"})}),r.jsx("div",{className:`absolute -top-2 ${G?"-right-2":"-left-0"}`,children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${fe.status?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-400"}`,children:fe.status?B("branchCategories.status.active"):B("branchCategories.status.inactive")})}),r.jsxs("div",{className:`flex items-start space-x-3 mb-3 mt-2 ${G?"space-x-reverse":""}`,children:[fe.imageUrl&&r.jsx("img",{src:fe.imageUrl,alt:fe.name,className:"w-12 h-12 rounded-lg object-cover flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white truncate",children:fe.name}),fe.description&&r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-1",children:fe.description})]})]}),r.jsx("div",{className:"mb-3",children:r.jsx(je,{productId:fe.id,originalPrice:fe.price,currentPrice:ue,isEditing:le,onEdit:()=>v(fe.id,fe.price),onSave:()=>w(fe.id),onCancel:()=>S(fe.id),onChange:xe=>j(fe.id,xe),showEditButton:se})}),ie&&r.jsxs("div",{className:`flex items-center space-x-2 mb-3 ${G?"space-x-reverse":""}`,children:[fe.ingredients&&fe.ingredients.length>0&&r.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full text-xs font-medium",children:[fe.ingredients.length," ",B("branchCategories.products.ingredients")]}),fe.allergens&&fe.allergens.length>0&&r.jsxs("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-xs font-medium",children:[fe.allergens.length," ",B("branchCategories.products.allergens")]})]}),r.jsxs("div",{className:`flex items-center justify-between mt-3 ${G?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex space-x-1 ${G?"space-x-reverse":""}`,children:[ie&&r.jsx("button",{onClick:xe=>{xe.stopPropagation(),E(fe)},className:"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",title:B("branchCategories.products.viewDetails"),children:r.jsx(Ya,{className:"h-4 w-4"})}),fe.isSelected&&fe.branchProductId&&X&&r.jsxs("button",{onClick:xe=>{xe.stopPropagation(),X(fe)},disabled:d,className:`p-2 rounded-lg transition-colors flex items-center justify-center ${fe.hasAddons?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 hover:bg-purple-200 dark:hover:bg-purple-800/50":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:`Configure Addons${fe.hasAddons?` (${fe.addonsCount})`:""}`,children:[r.jsx(WH,{className:"h-4 w-4"}),fe.hasAddons&&r.jsx("span",{className:"ml-1 text-xs font-medium",children:fe.addonsCount})]}),fe.isSelected&&fe.branchProductId&&ee&&r.jsx("button",{onClick:()=>ee(fe),disabled:d,className:"p-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",title:"Extra Categories",children:r.jsx(Ws,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"flex-shrink-0",children:F&&fe.status?se?r.jsx("button",{onClick:async xe=>{xe.stopPropagation();const ze=fe.branchProductId||fe.id;await l(ze,fe.name)},disabled:d||c,className:`flex items-center gap-1.5 px-4 py-2 rounded-lg text-sm font-medium transition-all ${d||c?"bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/50 hover:shadow-sm"}`,title:B("branchCategories.products.removeFromBranch"),children:d||c?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"h-3.5 w-3.5 animate-spin"}),r.jsx("span",{children:"Removing..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(xt,{className:"h-3.5 w-3.5"}),r.jsx("span",{children:"Remove"})]})}):r.jsx("button",{onClick:async xe=>{xe.stopPropagation();const ze=fe.id;await o(ze,e.branchCategoryId)},disabled:d,className:`flex items-center gap-1.5 px-4 py-2 rounded-lg text-sm font-medium transition-all ${d?"bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed":"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/50 hover:shadow-sm"}`,title:B("branchCategories.products.addToBranch"),children:d?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"h-3.5 w-3.5 animate-spin"}),r.jsx("span",{children:"Adding..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ut,{className:"h-3.5 w-3.5"}),r.jsx("span",{children:"Add"})]})}):r.jsx("div",{className:"px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 text-xs text-center cursor-not-allowed",children:F?"Product Inactive":"Category Inactive"})})]})]},fe.id)})}),r.jsx("div",{className:"mt-4 p-4 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:`flex items-center justify-between text-sm ${G?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-6 ${G?"space-x-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-2 ${G?"space-x-reverse":""}`,children:[r.jsx(_r,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),r.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[r.jsx("span",{className:"font-medium",children:e.selectedProductsCount||0})," ",B("branchCategories.products.addedToBranch")]})]}),r.jsxs("div",{className:`flex items-center space-x-2 ${G?"space-x-reverse":""}`,children:[r.jsx(Ar,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}),r.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[r.jsx("span",{className:"font-medium",children:e.unselectedProductsCount||0})," ",B("branchCategories.products.moreAvailableToAdd")]})]})]}),r.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[B("branchCategories.manage.total")," ",e.products?.length||0," ",B("branchCategories.products.products")]})]})})]})]})},qte=({activeTab:e,branchId:t,categories:a,branchCategories:n,selectedCategories:s,selectedProducts:i,categoriesWithProducts:o,currentStep:l,expandedCategories:d,expandedBranchCategories:c,isReorderMode:g,hasUnsavedChanges:h,isReordering:x,isLoading:b,isSaving:v,isLoadingProducts:j,isLoadingBranchProducts:w,searchTerm:S,setSearchTerm:M,setSelectedCategories:T,setSelectedProducts:A,setCurrentStep:I,setExpandedCategories:_,setExpandedBranchCategories:D,setIsReorderMode:E,handleShowProductDetails:X,onCategorySelect:ee,onProductSelect:Z,onSelectAllProducts:B,onClearAllProducts:G,onProceedToProductSelection:J,onProceedToReview:ce,onBackToCategorySelection:te,onBackToProductSelection:K,onSave:Y,onMoveUp:re,onMoveDown:ne,onSaveOrder:z,onAddProduct:V,onRemoveProduct:F,onDeleteCategory:$,onRefresh:q,setActiveTab:H,editedProductPrices:Q,editedCategoryNames:de,editingProductId:me,editingCategoryId:je,onProductPriceEdit:fe,onProductPriceChange:se,onProductPriceSave:ie,onProductPriceCancel:ue,onCategoryNameEdit:le,onCategoryNameChange:xe,onCategoryNameSave:ze,onCategoryNameCancel:Le,getProductPrice:ut,getCategoryName:kt,handleShowProductAddons:qt,isCategoryActive:hr,handleShowProductExtras:jr})=>{const{t:nt,isRTL:rt}=Ze(),Pr=Ra(),[Ht,Wt]=p.useState(""),[ge,ye]=p.useState(null),Be=z2(Am(j0,{activationConstraint:{distance:8}}),Am(w0,{coordinateGetter:K2})),Qe=Ve=>{const St=new Set(d);St.has(Ve)?St.delete(Ve):St.add(Ve),_(St)},pt=Ve=>{const St=new Set(c);St.has(Ve)?St.delete(Ve):St.add(Ve),D(St)},Ce=(Ve,St)=>{const wt=kt(Ve,St);Wt(wt),le(Ve,St)},we=Ve=>{Ht.trim()&&(xe(Ve,Ht),ze(Ve)),Wt("")},be=Ve=>{Le(Ve),Wt("")},Ie=a.filter(Ve=>Ve?.categoryName?.toLowerCase().includes(S.toLowerCase())||Ve?.description?.toLowerCase().includes(S.toLowerCase())),Se=o.filter(Ve=>Ve?.categoryName?.toLowerCase().includes(S.toLowerCase())||Ve?.description?.toLowerCase().includes(S.toLowerCase())||Ve.products?.some(St=>St.name?.toLowerCase().includes(S.toLowerCase())||St.description?.toLowerCase().includes(S.toLowerCase()))),_e=Ie.filter(Ve=>!n.some(St=>St.categoryId===Ve.categoryId)),Ye=()=>o.map(Ve=>({...Ve,selectedProducts:Ve.products.filter(St=>i.has(St.id))})).filter(Ve=>s.has(Ve.categoryId)),Ft=({originalPrice:Ve,isEditing:St,onEdit:wt,onSave:Ke,onCancel:et,onChange:bt,currentPrice:Rt,showEditButton:Xt=!0})=>{const cr=Math.abs(Rt-Ve)>.001;return St?r.jsxs("div",{className:`flex items-center space-x-2 ${rt?"space-x-reverse":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx(qr,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-3 w-3 text-gray-400"}),r.jsx("input",{title:"number",type:"number",step:"1",min:"0",value:Rt,onChange:gt=>bt(gt.target.value),className:"pl-6 pr-2 py-1 w-20 text-sm border border-blue-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0,onKeyDown:gt=>{gt.key==="Enter"&&Ke(),gt.key==="Escape"&&et()}})]}),r.jsx("button",{onClick:Ke,className:"p-1 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:r.jsx(_r,{className:"h-3 w-3"})}),r.jsx("button",{onClick:et,className:"p-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:r.jsx(xt,{className:"h-3 w-3"})})]}):r.jsxs("div",{className:`flex items-center space-x-2 ${rt?"space-x-reverse":""}`,children:[r.jsxs("span",{className:`font-bold ${cr?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:["$",Rt.toFixed(2)]}),cr&&r.jsxs("span",{className:"text-xs text-gray-500 line-through",children:["$",Ve.toFixed(2)]}),Xt&&r.jsx("button",{onClick:wt,className:"p-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",title:"Edit price",children:r.jsx(qs,{className:"h-3 w-3"})})]})},Tt=({categoryId:Ve,originalName:St,currentDisplayName:wt,showEditButton:Ke=!0,isActive:et=!0})=>{const bt=je===Ve,Rt=wt!==St;return bt?r.jsxs("div",{className:`flex items-center space-x-2 ${rt?"space-x-reverse":""}`,children:[r.jsx("input",{title:"editingCategoryName",type:"text",value:Ht,onChange:Xt=>Wt(Xt.target.value),className:"px-3 py-2 border border-blue-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",autoFocus:!0,onKeyDown:Xt=>{Xt.key==="Enter"&&we(Ve),Xt.key==="Escape"&&be(Ve)}}),r.jsx("button",{onClick:()=>we(Ve),className:"p-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors",children:r.jsx(_r,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>be(Ve),className:"p-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",children:r.jsx(xt,{className:"h-4 w-4"})})]}):r.jsxs("div",{className:`flex items-center space-x-2 ${rt?"space-x-reverse":""}`,children:[r.jsx("h4",{className:`text-xl font-bold ${Rt?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:wt}),Rt&&r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(was: ",St,")"]}),Ke&&et&&r.jsx("button",{onClick:()=>Ce(Ve,wt),className:"p-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",title:"Edit category name",children:r.jsx(qs,{className:"h-3 w-3"})}),!et&&r.jsx("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-xs font-medium",children:"Inactive"})]})},nr=()=>r.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 mb-8 ${rt?"rtl":"ltr"}`,children:r.jsxs("div",{className:`flex items-center justify-between ${rt?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-8 ${rt?"space-x-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${l===$a.SELECT_CATEGORIES?"text-blue-600 dark:text-blue-400":l===$a.SELECT_PRODUCTS||l===$a.REVIEW_SELECTION?"text-green-600 dark:text-green-400":"text-gray-400 dark:text-gray-500"} ${rt?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${rt?"ml-3":"mr-3"} font-semibold ${l===$a.SELECT_CATEGORIES?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":l===$a.SELECT_PRODUCTS||l===$a.REVIEW_SELECTION?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500"}`,children:l===$a.SELECT_CATEGORIES?"1":r.jsx(_r,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:nt("branchCategories.steps.chooseCategories")}),r.jsxs("div",{className:"text-sm opacity-70",children:[s.size," ",nt("branchCategories.steps.selected"),de.size>0&&r.jsxs("span",{className:"ml-2 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-xs",children:[de.size," edited"]})]})]})]}),r.jsx(Ui,{className:`h-5 w-5 text-gray-300 dark:text-gray-600 ${rt?"rotate-180":""}`}),r.jsxs("div",{className:`flex items-center ${l===$a.SELECT_PRODUCTS?"text-blue-600 dark:text-blue-400":l===$a.REVIEW_SELECTION?"text-green-600 dark:text-green-400":"text-gray-400 dark:text-gray-500"} ${rt?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${rt?"ml-3":"mr-3"} font-semibold ${l===$a.SELECT_PRODUCTS?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":l===$a.REVIEW_SELECTION?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500"}`,children:l===$a.SELECT_PRODUCTS?"2":l===$a.REVIEW_SELECTION?r.jsx(_r,{className:"h-5 w-5"}):"2"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:nt("branchCategories.steps.selectProducts")}),r.jsxs("div",{className:"text-sm opacity-70",children:[i.size," ",nt("branchCategories.steps.selected"),Q.size>0&&r.jsxs("span",{className:"ml-2 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full text-xs",children:[Q.size," prices edited"]})]})]})]}),r.jsx(Ui,{className:`h-5 w-5 text-gray-300 dark:text-gray-600 ${rt?"rotate-180":""}`}),r.jsxs("div",{className:`flex items-center ${l===$a.REVIEW_SELECTION?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500"} ${rt?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${rt?"ml-3":"mr-3"} font-semibold ${l===$a.REVIEW_SELECTION?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500"}`,children:"3"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:nt("branchCategories.steps.reviewAdd")}),r.jsx("div",{className:"text-sm opacity-70",children:nt("branchCategories.steps.finalStep")})]})]})]}),r.jsxs("div",{className:`flex space-x-3 ${rt?"space-x-reverse":""}`,children:[l===$a.SELECT_PRODUCTS&&r.jsxs("button",{onClick:te,className:`px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors flex items-center gap-2 ${rt?"flex-row-reverse":""}`,children:[r.jsx(ms,{className:`h-4 w-4 ${rt?"rotate-180":""}`}),nt("branchCategories.steps.back")]}),l===$a.REVIEW_SELECTION&&r.jsxs("button",{onClick:K,className:`px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors flex items-center gap-2 ${rt?"flex-row-reverse":""}`,children:[r.jsx(ms,{className:`h-4 w-4 ${rt?"rotate-180":""}`}),nt("branchCategories.steps.back")]})]})]})}),gr=Ve=>{ye(Ve.active.id)},sa=async Ve=>{const{active:St,over:wt}=Ve;if(ye(null),!wt||St.id===wt.id)return;const Ke=St.id,et=wt.id,bt=n.find(Xt=>Xt.branchCategoryId===Ke),Rt=n.find(Xt=>Xt.branchCategoryId===et);if(bt&&Rt){const Xt=n.findIndex(gt=>gt.branchCategoryId===Ke),cr=n.findIndex(gt=>gt.branchCategoryId===et);if(Xt!==cr)if(Xt<cr)for(let gt=0;gt<cr-Xt;gt++)ne(Xt);else for(let gt=0;gt<Xt-cr;gt++)re(Xt)}};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 mb-8 overflow-hidden",children:r.jsxs("div",{className:"flex",children:[r.jsx("button",{onClick:()=>H("add"),className:`flex-1 py-6 px-8 text-lg font-semibold transition-all ${e==="add"?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 border-b-4 border-blue-600 dark:border-blue-400":"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:`flex items-center justify-center space-x-3 ${rt?"space-x-reverse":""}`,children:[r.jsx(Ut,{className:"h-6 w-6"}),r.jsx("span",{children:nt("branchCategories.tabs.addNew")}),_e.some(Ve=>Ve.status)&&r.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 px-3 py-1 rounded-full text-sm font-medium",children:_e.filter(Ve=>Ve.status).length})]})}),r.jsx("button",{onClick:()=>H("manage"),className:`flex-1 py-6 px-8 text-lg font-semibold transition-all ${e==="manage"?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 border-b-4 border-blue-600 dark:border-blue-400":"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:`flex items-center justify-center space-x-3 ${rt?"space-x-reverse":""}`,children:[r.jsx(Ws,{className:"h-6 w-6"}),r.jsx("span",{children:nt("branchCategories.tabs.manageExisting")}),r.jsx("span",{className:"bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400 px-3 py-1 rounded-full text-sm font-medium",children:n.length})]})})]})}),e==="add"?r.jsxs(r.Fragment,{children:[r.jsx(nr,{}),l===$a.SELECT_CATEGORIES&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:[r.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700",children:r.jsxs("div",{className:`flex items-center justify-between ${rt?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:nt("branchCategories.addCategories.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:nt("branchCategories.addCategories.subtitle")})]}),r.jsxs("div",{className:`flex items-center space-x-4 ${rt?"space-x-reverse":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx(Bn,{className:`absolute ${rt?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 h-5 w-5`}),r.jsx("input",{type:"text",placeholder:nt("branchCategories.search.categories"),value:S,onChange:Ve=>M(Ve.target.value),className:`${rt?"pr-10 pl-4":"pl-10 pr-4"} py-3 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent w-80 bg-white dark:bg-gray-700 text-gray-900 dark:text-white`})]}),r.jsxs("button",{onClick:q,disabled:b,className:`px-4 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-xl transition-colors flex items-center gap-2 text-gray-700 dark:text-gray-300 ${rt?"flex-row-reverse":""}`,children:[r.jsx(cs,{className:`h-4 w-4 ${b?"animate-spin":""}`}),nt("branchCategories.actions.refresh")]})]})]})}),r.jsx("div",{className:"p-6",children:b?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(mt,{className:"h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:nt("branchCategories.actions.loading")})]}):_e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(hi,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:nt("branchCategories.addCategories.noAvailable")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:nt("branchCategories.addCategories.allAdded")})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_e.map(Ve=>{const St=s.has(Ve.categoryId),wt=kt(Ve.categoryId,Ve.categoryName),Ke=je===Ve.categoryId;return r.jsxs("div",{className:`relative rounded-2xl border-2 transition-all cursor-pointer hover:shadow-lg ${St?"border-blue-300 dark:border-blue-600 bg-blue-50 dark:bg-blue-900/20 shadow-md":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-500"}`,onClick:Ke?void 0:()=>ee(Ve.categoryId),children:[St&&r.jsx("div",{className:`absolute -top-2 ${rt?"-left-2":"-right-2"} w-6 h-6 bg-blue-600 dark:bg-blue-500 rounded-full flex items-center justify-center`,children:r.jsx(_r,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:`flex items-start justify-between mb-4 ${rt?"flex-row-reverse":""}`,children:r.jsxs("div",{className:"flex-1",children:[r.jsx(Tt,{categoryId:Ve.categoryId,originalName:Ve.categoryName,currentDisplayName:wt,showEditButton:!1}),Ve.description&&r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-3 mt-2",children:Ve.description})]})}),r.jsx("div",{className:`flex items-center justify-between ${rt?"flex-row-reverse":""}`,children:r.jsxs("div",{className:`flex items-center space-x-4 ${rt?"space-x-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-2 ${rt?"space-x-reverse":""}`,children:[r.jsx(Ar,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}),r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[Ve.products?.length," ",nt("branchCategories.products.products")]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${Ve.status?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:Ve.status?nt("branchCategories.status.active"):nt("branchCategories.status.inactive")})]})})]})]},Ve.categoryId)})})}),s.size>0&&r.jsx("div",{className:"p-6 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:r.jsxs("div",{className:`flex items-center justify-between ${rt?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[r.jsx("span",{className:"font-medium",children:s.size})," ",nt("branchCategories.addCategories.categoriesSelected"),de.size>0&&r.jsxs("span",{className:"ml-2 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-xs",children:[de.size," with custom names"]})]}),r.jsxs("div",{className:`flex space-x-3 ${rt?"space-x-reverse":""}`,children:[r.jsx("button",{onClick:()=>T(new Set),className:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:nt("branchCategories.addCategories.clearSelection")}),r.jsxs("button",{onClick:J,className:`px-8 py-3 bg-blue-600 dark:bg-blue-500 text-white rounded-xl hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors flex items-center gap-2 ${rt?"flex-row-reverse":""}`,children:[nt("branchCategories.addCategories.nextSelectProducts"),r.jsx(Ui,{className:`h-4 w-4 ${rt?"rotate-180":""}`})]})]})]})})]}),l===$a.SELECT_PRODUCTS&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:[r.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700",children:r.jsxs("div",{className:`flex items-center justify-between ${rt?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:nt("branchCategories.selectProducts.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:nt("branchCategories.selectProducts.subtitle")})]}),r.jsxs("div",{className:`flex items-center space-x-4 ${rt?"space-x-reverse":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx(Bn,{className:`absolute ${rt?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 h-5 w-5`}),r.jsx("input",{type:"text",placeholder:nt("branchCategories.search.products"),value:S,onChange:Ve=>M(Ve.target.value),className:`${rt?"pr-10 pl-4":"pl-10 pr-4"} py-3 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent w-80 bg-white dark:bg-gray-700 text-gray-900 dark:text-white`})]}),r.jsxs("div",{className:`flex space-x-2 ${rt?"space-x-reverse":""}`,children:[r.jsx("button",{onClick:B,className:"px-4 py-3 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-xl hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors",children:nt("branchCategories.selectProducts.selectAll")}),r.jsx("button",{onClick:G,className:"px-4 py-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-xl hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",children:nt("branchCategories.selectProducts.clearAll")})]})]})]})}),r.jsx("div",{className:"p-6",children:j?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(mt,{className:"h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:nt("branchCategories.actions.loading")})]}):Se.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ar,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:nt("branchCategories.selectProducts.noProducts")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:nt("branchCategories.selectProducts.noProductsInCategories")})]}):r.jsx("div",{className:"space-y-8",children:Se.map(Ve=>{const St=kt(Ve.categoryId,Ve.categoryName);return r.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-2xl overflow-hidden",children:[r.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-700/50 border-b border-gray-200 dark:border-gray-600 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>Qe(Ve.categoryId),children:r.jsxs("div",{className:`flex items-center justify-between ${rt?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-4 ${rt?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:r.jsx(hi,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[St,St!==Ve.categoryName&&r.jsx("span",{className:"ml-2 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-xs",children:"edited"})]}),_e.some(wt=>wt.status)&&r.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 px-3 py-1 rounded-full text-sm font-medium",children:r.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[_e.filter(wt=>wt.status).length," ",nt("branchCategories.selectProducts.available")]})})]})]}),r.jsxs("div",{className:`flex items-center space-x-4 ${rt?"space-x-reverse":""}`,children:[r.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:_e.some(wt=>wt.status)&&r.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 px-3 py-1 rounded-full text-sm font-medium",children:r.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[_e.filter(wt=>wt.status).length," ",nt("branchCategories.selectProducts.selected")]})})}),d.has(Ve.categoryId)?r.jsx(Hn,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 transition-transform duration-200"}):r.jsx(Rr,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 transition-transform duration-200"})]})]})}),d.has(Ve.categoryId)&&r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ve.products.map(wt=>{const Ke=i.has(wt.id),et=ut(wt.id,wt.price),bt=me===wt.id;return r.jsxs("div",{className:`relative rounded-xl border-2 transition-all hover:shadow-md ${Ke?"border-green-300 dark:border-green-600 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[Ke&&r.jsx("div",{className:`absolute -top-2 ${rt?"-left-2":"-right-2"} w-6 h-6 bg-green-600 dark:bg-green-500 rounded-full flex items-center justify-center`,children:r.jsx(_r,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:`flex items-start justify-between mb-3 ${rt?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-bold text-gray-900 dark:text-white mb-1",children:wt.name}),wt.description&&r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-2 line-clamp-2",children:wt.description})]}),wt.imageUrl&&r.jsx("img",{src:wt.imageUrl,alt:wt.name,className:`w-12 h-12 rounded-lg object-cover ${rt?"mr-3":"ml-3"}`})]}),r.jsxs("div",{className:`flex items-center justify-between ${rt?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-3 ${rt?"space-x-reverse":""}`,children:[r.jsx(Ft,{productId:wt.id,originalPrice:wt.price,currentPrice:et,isEditing:bt,onEdit:()=>fe(wt.id,wt.price),onSave:()=>ie(wt.id),onCancel:()=>ue(wt.id),onChange:Rt=>se(wt.id,Rt),showEditButton:Ke}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${wt.status?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:wt.status?nt("branchCategories.status.active"):nt("branchCategories.status.inactive")})]}),r.jsx("div",{className:`flex items-center space-x-2 ${rt?"space-x-reverse":""}`,children:r.jsx("button",{onClick:()=>Z(wt.id),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${Ke?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/50":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 hover:bg-blue-200 dark:hover:bg-blue-900/50"}`,children:Ke?"Remove":"Select"})})]})]})]},wt.id)})})})]},Ve.categoryId)})})}),r.jsx("div",{className:"p-6 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:r.jsxs("div",{className:`flex items-center justify-between ${rt?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[r.jsx("span",{className:"font-medium",children:i.size})," ",nt("branchCategories.selectProducts.productsSelectedFrom")," ",r.jsx("span",{className:"font-medium",children:s.size})," ",nt("branchCategories.selectProducts.categories"),Q.size>0&&r.jsxs("span",{className:"ml-2 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full text-xs",children:[Q.size," with custom prices"]})]}),r.jsx("div",{className:`flex space-x-3 ${rt?"space-x-reverse":""}`,children:r.jsxs("button",{onClick:ce,className:`px-8 py-3 bg-blue-600 dark:bg-blue-500 text-white rounded-xl hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors flex items-center gap-2 ${rt?"flex-row-reverse":""}`,children:[nt("branchCategories.selectProducts.reviewSelection"),r.jsx(Ui,{className:`h-4 w-4 ${rt?"rotate-180":""}`})]})})]})})]}),l===$a.REVIEW_SELECTION&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:[r.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700",children:r.jsx("div",{className:`flex items-center justify-between ${rt?"flex-row-reverse":""}`,children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:nt("branchCategories.review.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:nt("branchCategories.review.subtitle")})]})})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-8",children:Ye().map(Ve=>{const St=kt(Ve.categoryId,Ve.categoryName),wt=St!==Ve.categoryName;return r.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-2xl overflow-hidden",children:[r.jsx("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800",children:r.jsxs("div",{className:`flex items-center justify-between ${rt?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-4 ${rt?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-12 h-12 bg-blue-600 dark:bg-blue-500 rounded-xl flex items-center justify-center",children:r.jsx(hi,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[St,wt&&r.jsx("span",{className:"ml-2 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-xs",children:"Custom name"})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:Ve.selectedProducts.length>0?`${Ve.selectedProducts.length} ${nt("branchCategories.review.of")} ${Ve.products.length} ${nt("branchCategories.review.productsSelected")}`:`${nt("branchCategories.review.all")} ${Ve.products.length} ${nt("branchCategories.review.productsWillBeAdded")}`})]})]}),r.jsxs("div",{className:`text-${rt?"left":"right"}`,children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",Ve.selectedProducts.length>0?Ve.selectedProducts.reduce((Ke,et)=>{const bt=ut(et.id,et.price);return Ke+bt},0).toFixed(2):Ve.products.reduce((Ke,et)=>{const bt=ut(et.id,et.price);return Ke+bt},0).toFixed(2)]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:nt("branchCategories.review.totalValue")})]})]})}),Ve.selectedProducts.length>0&&r.jsxs("div",{className:"p-6",children:[r.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-4",children:nt("branchCategories.review.selectedProducts")}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ve.selectedProducts.map(Ke=>{const et=ut(Ke.id,Ke.price),bt=Math.abs(et-Ke.price)>.001;return r.jsxs("div",{className:`flex items-center space-x-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800 ${rt?"space-x-reverse":""}`,children:[Ke.imageUrl&&r.jsx("img",{src:Ke.imageUrl,alt:Ke.name,className:"w-10 h-10 rounded-lg object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:Ke.name}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["$",et.toFixed(2),bt&&r.jsx("span",{className:"ml-2 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full text-xs",children:"Custom price"})]})]}),r.jsx("div",{className:"w-5 h-5 bg-green-600 dark:bg-green-500 rounded-full flex items-center justify-center",children:r.jsx(_r,{className:"h-3 w-3 text-white"})})]},Ke.id)})})]})]},Ve.categoryId)})})}),r.jsx("div",{className:"p-6 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:r.jsxs("div",{className:`flex items-center justify-between ${rt?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-lg font-medium text-gray-900 dark:text-white",children:[nt("branchCategories.review.readyToAdd")," ",s.size,i.size>0&&` ${nt("branchCategories.review.with")} ${i.size} ${nt("branchCategories.products.products")}`]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:["30",nt("branchCategories.review.availableInBranch")," ",t,(de.size>0||Q.size>0)&&r.jsxs("span",{className:"ml-2",children:[de.size>0&&r.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-xs mr-2",children:[de.size," custom names"]}),Q.size>0&&r.jsxs("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full text-xs",children:[Q.size," custom prices"]})]})]})]}),r.jsxs("div",{className:`flex space-x-3 ${rt?"space-x-reverse":""}`,children:[r.jsx("button",{onClick:()=>{T(new Set),A(new Set),I($a.SELECT_CATEGORIES)},className:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:nt("branchCategories.review.startOver")}),r.jsxs("button",{onClick:Y,disabled:v,className:`px-8 py-3 bg-green-600 dark:bg-green-500 text-white rounded-xl hover:bg-green-700 dark:hover:bg-green-600 transition-colors flex items-center gap-2 disabled:opacity-50 ${rt?"flex-row-reverse":""}`,children:[v?r.jsx(mt,{className:"h-4 w-4 animate-spin"}):r.jsx(Oa,{className:"h-4 w-4"}),nt(v?"branchCategories.review.adding":"branchCategories.review.addToBranch")]})]})]})})]})]}):r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:[r.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700",children:r.jsxs("div",{className:`flex items-center justify-between ${rt?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:nt("branchCategories.manage.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:nt("branchCategories.manage.subtitle")})]}),r.jsxs("div",{className:`flex items-center space-x-4 ${rt?"space-x-reverse":""}`,children:[x&&r.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 bg-primary-100 dark:bg-primary-900/30 rounded-xl ${rt?"flex-row-reverse":""}`,children:[r.jsx(mt,{className:"h-4 w-4 animate-spin text-primary-600 dark:text-primary-400"}),r.jsx("span",{className:"text-sm font-medium text-primary-700 dark:text-primary-300",children:nt("branchCategories.manage.saving")||"Saving order..."})]}),r.jsxs("button",{onClick:()=>{Pr("/dashboard/RecycleBin",{state:{source:"branchProducts"}})},className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors duration-200",children:[r.jsx(wr,{className:"h-4 w-4"}),r.jsx("span",{children:nt("productsContent.actions.RecycleBin")})]})]})]})}),r.jsx("div",{className:"p-6",children:w?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(mt,{className:"h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:nt("branchCategories.actions.loading")})]}):n.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(hi,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:nt("branchCategories.manage.noCategoriesAdded")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:nt("branchCategories.manage.noCategoriesAddedDesc")}),r.jsx("button",{onClick:()=>H("add"),className:"px-6 py-3 bg-blue-600 dark:bg-blue-500 text-white rounded-xl hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors",children:nt("branchCategories.manage.addCategories")})]}):r.jsxs(W2,{sensors:Be,collisionDetection:U2,onDragStart:gr,onDragEnd:sa,children:[r.jsx(bb,{items:n.map(Ve=>Ve.branchCategoryId),strategy:yb,children:r.jsx("div",{className:"space-y-4",children:n.map(Ve=>r.jsx(Ute,{branchCategory:Ve,isDark:!1,onToggle:pt,onDeleteCategory:$,isExpanded:c.has(Ve.categoryId),isReordering:x,onAddProduct:V,onRemoveProduct:F,isLoading:b,isLoadingBranchProducts:w,editingProductId:me,editingCategoryId:je,editedProductPrices:Q,editedCategoryNames:de,onProductPriceEdit:fe,onProductPriceChange:se,onProductPriceSave:ie,onProductPriceCancel:ue,onCategoryNameEdit:le,onCategoryNameChange:xe,onCategoryNameSave:ze,onCategoryNameCancel:Le,getProductPrice:ut,getCategoryName:kt,handleShowProductDetails:X,handleShowProductAddons:qt,handleShowProductExtras:jr,isCategoryActive:hr},Ve.branchCategoryId))})}),r.jsx(aD,{children:ge?(()=>{const Ve=n.find(St=>St.branchCategoryId===ge);if(Ve){const St=kt(Ve.categoryId,Ve.category.categoryName);return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-4 rotate-3 scale-105",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:St}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Ve.selectedProductsCount||0," products added"]})]})}return null})():null})]})})]})]})};class Vte{baseUrl="/api/BranchProductAddons";async getAvailableBranchProductAddons(){try{const t=`${this.baseUrl}/available`,a=await he.get(t),n=Array.isArray(a.data)?a.data:[];return N.info("Available branch product addons baaryla alnd",{addonsCount:n.length,addons:n.map(s=>({mainProductName:s.mainProductName,addonProductName:s.addonProductName,addonPrice:s.addonPrice,addonCategoryName:s.addonCategoryName,isRecommended:s.isRecommended}))}),n}catch(t){throw N.error("Available branch product addons getirme hatas",t,{prefix:"BranchProductAddonsService"}),t?.response?.status===401?new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn."):t?.response?.status===403?new Error("Bu ilem iin yetkiniz bulunmuyor."):t?.response?.status===404?new Error("Branch product addons bulunamad."):t?.response?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`Branch product addons bilgileri getirilirken hata olutu: ${t?.message||"Bilinmeyen hata"}`)}}async getBranchProductAddons(t){try{N.info("Branch product addons getirme istei gnderiliyor",{branchProductId:t},{prefix:"BranchProductAddonsService"});const a=`${this.baseUrl}/branch-product/${t}`,n=await he.get(a),s=Array.isArray(n.data)?n.data:[];return N.info("Branch product addons baaryla alnd",{branchProductId:t,addonsCount:s.length},{prefix:"BranchProductAddonsService"}),s}catch(a){N.error("Branch product addons getirme hatas",a,{prefix:"BranchProductAddonsService"}),this.handleError(a,"Branch product addons getirilirken hata olutu")}}async getBranchProductAddonsGrouped(t){try{N.info("Branch product addons grouped getirme istei gnderiliyor",{branchProductId:t},{prefix:"BranchProductAddonsService"});const a=`${this.baseUrl}/branch-product/${t}/grouped`,n=await he.get(a);return N.info("Branch product addons grouped baaryla alnd",{branchProductId:t},{prefix:"BranchProductAddonsService"}),n.data}catch(a){N.error("Branch product addons grouped getirme hatas",a,{prefix:"BranchProductAddonsService"}),this.handleError(a,"Grouped branch product addons getirilirken hata olutu")}}async getBranchProductAddon(t){try{N.info("Branch product addon detay getirme istei gnderiliyor",{id:t},{prefix:"BranchProductAddonsService"});const a=`${this.baseUrl}/${t}`,n=await he.get(a);return N.info("Branch product addon detay baaryla alnd",{id:t},{prefix:"BranchProductAddonsService"}),n.data}catch(a){N.error("Branch product addon detay getirme hatas",a,{prefix:"BranchProductAddonsService"}),this.handleError(a,"Branch product addon detay getirilirken hata olutu")}}async updateBranchProductAddon(t,a){try{N.info("Branch product addon gncelleme istei gnderiliyor",{id:t,data:a},{prefix:"BranchProductAddonsService"});const n=`${this.baseUrl}/${t}`,s=await he.put(n,a);return N.info("Branch product addon baaryla gncellendi",{id:t},{prefix:"BranchProductAddonsService"}),s.data}catch(n){N.error("Branch product addon gncelleme hatas",n,{prefix:"BranchProductAddonsService"}),this.handleError(n,"Branch product addon gncellenirken hata olutu")}}async deleteBranchProductAddon(t){try{N.info("Branch product addon silme istei gnderiliyor",{id:t},{prefix:"BranchProductAddonsService"});const a=`${this.baseUrl}/${t}`;await he.delete(a),N.info("Branch product addon baaryla silindi",{id:t},{prefix:"BranchProductAddonsService"})}catch(a){N.error("Branch product addon silme hatas",a,{prefix:"BranchProductAddonsService"}),this.handleError(a,"Branch product addon silinirken hata olutu")}}async createBranchProductAddon(t){try{N.info("Branch product addon oluturma istei gnderiliyor",{data:t},{prefix:"BranchProductAddonsService"});const a=await he.post(this.baseUrl,t);return N.info("Branch product addon baaryla oluturuldu",{id:a.data.id},{prefix:"BranchProductAddonsService"}),a.data}catch(a){N.error("Branch product addon oluturma hatas",a,{prefix:"BranchProductAddonsService"}),this.handleError(a,"Branch product addon oluturulurken hata olutu")}}async batchUpdateBranchProductAddons(t){try{N.info("Branch product addons batch gncelleme istei gnderiliyor",{branchProductId:t.branchProductId,addonsCount:t.addons.length},{prefix:"BranchProductAddonsService"});const a=`${this.baseUrl}/batch-update`,n=await he.post(a,t);return N.info("Branch product addons batch gncelleme baaryla tamamland",{branchProductId:t.branchProductId},{prefix:"BranchProductAddonsService"}),n.data}catch(a){N.error("Branch product addons batch gncelleme hatas",a,{prefix:"BranchProductAddonsService"}),this.handleError(a,"Branch product addons batch gncellenirken hata olutu")}}async reorderBranchProductAddons(t,a){try{N.info("Branch product addons reorder istei gnderiliyor",{branchProductId:t,itemsCount:a.length},{prefix:"BranchProductAddonsService"});const n=`${this.baseUrl}/branch-product/${t}/reorder`;await he.put(n,a),N.info("Branch product addons reorder baaryla tamamland",{branchProductId:t},{prefix:"BranchProductAddonsService"})}catch(n){N.error("Branch product addons reorder hatas",n,{prefix:"BranchProductAddonsService"}),this.handleError(n,"Branch product addons sralanrken hata olutu")}}handleError(t,a){if(t?.response?.status===400){const n=t?.response?.data;if(n?.errors){const s=Object.values(n.errors).flat();throw new Error(`Dorulama hatas: ${s.join(", ")}`)}else throw new Error("Geersiz istek. Ltfen verileri kontrol edin.")}else throw t?.response?.status===401?new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn."):t?.response?.status===403?new Error("Bu ilem iin yetkiniz bulunmuyor."):t?.response?.status===404?new Error("Kayt bulunamad."):t?.response?.status===409?new Error("Bu kayt zaten mevcut."):t?.response?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`${a}: ${t?.message||"Bilinmeyen hata"}`)}}const Fc=new Vte,p3=({addon:e,isRTL:t,isSaving:a,onToggle:n,onPropertyChange:s,onUpdate:i,t:o})=>{const[l,d]=p.useState(!1),c=e.editedSpecialPrice!==e.currentSpecialPrice||e.editedMarketingText!==e.currentMarketingText||e.editedMaxQuantity!==e.currentMaxQuantity||e.editedMinQuantity!==e.currentMinQuantity||e.editedGroupTag!==e.currentGroupTag||e.editedIsGroupRequired!==e.currentIsGroupRequired;return r.jsxs("div",{className:`group relative rounded-2xl border-2 transition-all duration-300 overflow-hidden backdrop-blur-sm ${e.isAssigned?"border-emerald-300 dark:border-emerald-700 bg-gradient-to-br from-emerald-50 via-green-50/50 to-emerald-50 dark:from-emerald-900/20 dark:via-green-900/10 dark:to-emerald-900/20 shadow-lg shadow-emerald-500/10 hover:shadow-xl hover:shadow-emerald-500/20":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:border-indigo-300 dark:hover:border-indigo-700 hover:shadow-xl shadow-md"}`,children:[e.isAssigned&&r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent pointer-events-none"}),r.jsx("div",{className:"relative p-6",children:r.jsxs("div",{className:"flex items-start justify-between ",children:[r.jsxs("div",{className:`flex items-start ${t?"space-x-reverse space-x-4":"space-x-4"} flex-1 min-w-0`,children:[e.addonImageUrl?r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("img",{src:e.addonImageUrl,alt:e.addonProductName,className:"w-20 h-20 object-cover rounded-2xl shadow-lg ring-2 ring-white dark:ring-gray-700"}),e.isRecommended&&r.jsx("div",{className:"absolute -top-2 -right-2 w-7 h-7 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(Hi,{className:"w-4 h-4 text-white fill-current"})})]}):r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg",children:r.jsx(Ar,{className:"w-8 h-8 text-gray-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:`flex items-center ${t?"space-x-reverse space-x-2":"space-x-2"} mb-2`,children:[r.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-lg truncate",children:e.addonProductName}),e.isRecommended&&!e.addonImageUrl&&r.jsxs("div",{className:`flex items-center ${t?"space-x-reverse space-x-1":"space-x-1"} px-2 py-1 bg-gradient-to-r from-amber-100 to-orange-100 dark:from-amber-900/30 dark:to-orange-900/30 rounded-lg`,children:[r.jsx(Hi,{className:"w-3.5 h-3.5 text-amber-600 dark:text-amber-400 fill-current"}),r.jsx("span",{className:"text-xs text-amber-700 dark:text-amber-300 font-bold",children:o("addonModal.status.recommended")})]})]}),e.addonProductDescription&&r.jsx("p",{className:`text-gray-600 dark:text-gray-400 text-sm mb-3 line-clamp-2 leading-relaxed ${t?"text-right":""}`,children:e.addonProductDescription}),r.jsxs("div",{className:`flex items-center ${t?"space-x-reverse space-x-3":"space-x-3"} flex-wrap gap-2`,children:[r.jsxs("div",{className:"flex items-center bg-gradient-to-r from-emerald-100 to-green-100 dark:from-emerald-900/30 dark:to-green-900/30 px-3 py-1.5 rounded-xl",children:[r.jsx(qr,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400 mr-0.5"}),r.jsx("span",{className:"text-emerald-700 dark:text-emerald-300 font-bold text-lg",children:e.isAssigned&&e.editedSpecialPrice!==e.addonPrice?e.editedSpecialPrice:e.addonPrice}),e.isAssigned&&e.editedSpecialPrice!==e.addonPrice&&r.jsxs("span",{className:`text-gray-400 line-through text-sm ${t?"mr-2":"ml-2"}`,children:["$",e.addonPrice]})]}),e.addonCategoryName&&r.jsx("span",{className:"bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 text-indigo-700 dark:text-indigo-300 px-3 py-1.5 rounded-xl text-xs font-semibold border border-indigo-200 dark:border-indigo-800",children:e.addonCategoryName})]}),e.isAssigned&&e.editedMarketingText&&r.jsx("div",{className:`mt-3 p-2.5 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl border border-indigo-200 dark:border-indigo-800 ${t?"text-right":""}`,children:r.jsxs("p",{className:"text-xs text-indigo-700 dark:text-indigo-300 font-medium italic",children:['"',e.editedMarketingText,'"']})})]})]}),r.jsxs("div",{className:`flex flex-col ${t?"items-start mr-4":"items-end ml-4"} space-y-3`,children:[e.isAssigned&&r.jsxs("span",{className:"bg-gradient-to-r from-emerald-500 to-green-500 text-white px-4 py-1.5 rounded-xl text-xs font-bold shadow-lg",children:[" ",o("addonModal.status.assigned")]}),r.jsxs("div",{className:`flex items-center ${t?"space-x-reverse space-x-2":"space-x-2"}`,children:[e.isAssigned&&r.jsx("button",{onClick:()=>d(!l),className:"p-2.5 bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl hover:from-indigo-200 hover:to-purple-200 dark:hover:from-indigo-900/50 dark:hover:to-purple-900/50 transition-all shadow-sm hover:shadow-md",title:"Configure",children:l?r.jsx(Hn,{className:"w-4 h-4"}):r.jsx(Rr,{className:"w-4 h-4"})}),r.jsxs("button",{onClick:n,disabled:a,className:`px-5 py-2.5 rounded-xl font-bold transition-all duration-300 disabled:opacity-50 flex items-center ${t?"space-x-reverse space-x-2":"space-x-2"} shadow-lg hover:shadow-xl hover:scale-105 active:scale-95 ${e.isAssigned?"bg-gradient-to-r from-red-500 to-pink-600 text-white hover:from-red-600 hover:to-pink-700":"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white"}`,children:[a?r.jsx(mt,{className:"w-4 h-4 animate-spin"}):e.isAssigned?r.jsx(wr,{className:"w-4 h-4"}):r.jsx(Ut,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:e.isAssigned?o("addonModal.actions.remove"):o("addonModal.actions.add")})]})]})]})]})}),e.isAssigned&&l&&r.jsx("div",{className:"px-6 pb-6 border-t-2 border-emerald-200 dark:border-emerald-800 bg-gradient-to-br from-emerald-50/50 to-green-50/30 dark:from-emerald-900/10 dark:to-green-900/5",children:r.jsxs("div",{className:"pt-5",children:[r.jsxs("div",{className:`flex items-center ${t?"space-x-reverse space-x-2":"space-x-2"} mb-5`,children:[r.jsx(qa,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),r.jsx("h5",{className:`text-base font-bold text-gray-900 dark:text-white ${t?"text-right":""}`,children:o("addonModal.configuration.title")})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 ${t?"text-right":""}`,children:o("addonModal.configuration.specialPrice")}),r.jsxs("div",{className:"relative",children:[r.jsx(qr,{className:`absolute top-1/2 transform -translate-y-1/2 w-5 h-5 text-emerald-500 ${t?"right-4":"left-4"}`}),r.jsx("input",{title:"number",type:"number",step:"0.01",value:e.editedSpecialPrice||e.addonPrice,onChange:g=>s(e.addonBranchProductId,"specialPrice",parseFloat(g.target.value)||0),className:`w-full py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all font-semibold ${t?"pr-12 pl-4 text-right":"pl-12 pr-4"}`})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 ${t?"text-right":""}`,children:o("addonModal.configuration.minQuantity")}),r.jsx("input",{title:"number",type:"number",min:"0",step:"1",value:e.editedMinQuantity||0,onChange:g=>s(e.addonBranchProductId,"minQuantity",parseInt(g.target.value)||0),className:`w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all font-semibold ${t?"text-right":""}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 ${t?"text-right":""}`,children:o("addonModal.configuration.maxQuantity")}),r.jsx("input",{title:"number",type:"number",min:"1",value:e.editedMaxQuantity||10,onChange:g=>s(e.addonBranchProductId,"maxQuantity",parseInt(g.target.value)||10),className:`w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all font-semibold ${t?"text-right":""}`})]}),r.jsx("div",{}),r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx("label",{className:`block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 ${t?"text-right":""}`,children:o("addonModal.configuration.marketingText")}),r.jsx("input",{type:"text",placeholder:o("addonModal.configuration.placeholders.marketingText"),value:e.editedMarketingText||"",onChange:g=>s(e.addonBranchProductId,"marketingText",g.target.value),className:`w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all placeholder-gray-400 ${t?"text-right":""}`})]}),c&&r.jsx("div",{className:"sm:col-span-2 flex items-center justify-between",children:r.jsxs("button",{onClick:i,disabled:a||!c,className:`w-full px-6 py-3.5 bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 disabled:from-gray-400 disabled:to-gray-500 text-white rounded-xl flex items-center justify-center disabled:opacity-50 font-bold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95 ${t?"flex-row-reverse":""} space-x-2`,children:[a?r.jsx(mt,{className:`w-5 h-5 animate-spin ${t?"ml-2":"mr-2"}`}):r.jsx(Oa,{className:`w-5 h-5 ${t?"ml-2":"mr-2"}`}),r.jsx("span",{children:o("addonModal.actions.saveChanges")})]})})]})]})})]})},Hte=({isOpen:e,onClose:t,product:a,availableAddons:n,onSave:s})=>{const{t:i,isRTL:o}=Ze(),[l,d]=p.useState([]),[c,g]=p.useState([]),[h,x]=p.useState(""),[b,v]=p.useState(!1),[j,w]=p.useState(!1),[S,M]=p.useState(null),[T,A]=p.useState(null),[I,_]=p.useState(null);p.useEffect(()=>{e&&a?.branchProductId?D():e&&E([])},[e,a?.branchProductId,n]),p.useEffect(()=>{if(!h.trim())g(l);else{const K=l.filter(Y=>Y.addonProductName.toLowerCase().includes(h.toLowerCase())||Y.addonProductDescription?.toLowerCase().includes(h.toLowerCase())||Y.addonCategoryName?.toLowerCase().includes(h.toLowerCase()));g(K)}},[h,l]),p.useEffect(()=>{if(T||S){const K=setTimeout(()=>{A(null),M(null)},3e3);return()=>clearTimeout(K)}},[T,S]);const D=async()=>{if(a?.branchProductId){v(!0),M(null);try{const K=await Fc.getBranchProductAddons(a.branchProductId);E(K)}catch(K){console.error("Error loading product addons:",K),M(i("addonModal.messages.errors.loadFailed")),E([])}finally{v(!1)}}},E=K=>{if(!a?.branchProductId){d([]);return}const re=n.filter(ne=>ne.mainBranchProductId===a.branchProductId).map(ne=>{const z=K.find(V=>V.addonBranchProductId===ne.addonBranchProductId);return{...ne,assignmentId:z?.id,isAssigned:!!z,currentSpecialPrice:z?.specialPrice??ne.addonPrice,currentMarketingText:z?.marketingText??ne.marketingText,currentMaxQuantity:z?.maxQuantity??10,currentMinQuantity:z?.minQuantity??0,currentGroupTag:z?.groupTag??"",currentIsGroupRequired:z?.isGroupRequired??!1,currentIsActive:z?.isActive??!0,currentDisplayOrder:z?.displayOrder??ne.suggestedDisplayOrder,editedSpecialPrice:z?.specialPrice??ne.addonPrice,editedMarketingText:z?.marketingText??ne.marketingText,editedMaxQuantity:z?.maxQuantity??10,editedMinQuantity:z?.minQuantity??0,editedGroupTag:z?.groupTag??"",editedIsGroupRequired:z?.isGroupRequired??!1,editedIsRecommended:ne.isRecommended}});d(re)},X=async K=>{if(!(!a?.branchProductId||I===K.addonBranchProductId)){_(K.addonBranchProductId),w(!0),M(null);try{if(K.isAssigned&&K.assignmentId)d(Y=>Y.map(re=>re.addonBranchProductId===K.addonBranchProductId?{...re,isAssigned:!1,assignmentId:void 0}:re)),await Fc.deleteBranchProductAddon(K.assignmentId),A(i("addonModal.messages.success.addonRemoved")),await new Promise(Y=>setTimeout(Y,500));else if(!K.isAssigned){const Y={mainBranchProductId:a.branchProductId,addonBranchProductId:K.addonBranchProductId,isActive:!0,specialPrice:K.editedSpecialPrice||K.addonPrice,marketingText:K.editedMarketingText||K.marketingText,maxQuantity:K.editedMaxQuantity||10,minQuantity:K.editedMinQuantity||0,groupTag:K.editedGroupTag||"",isGroupRequired:K.editedIsGroupRequired||!1},re=await Fc.createBranchProductAddon(Y);A(i("addonModal.messages.success.addonAdded"))}if(await D(),s&&a?.branchProductId){const Y=l.map(z=>z.addonBranchProductId===K.addonBranchProductId?{...z,isAssigned:!K.isAssigned}:z),re=Y.filter(z=>z.isAssigned).map(z=>z.addonBranchProductId),ne=Y.filter(z=>z.isAssigned).reduce((z,V)=>(z[V.addonBranchProductId]={specialPrice:V.editedSpecialPrice,marketingText:V.editedMarketingText,maxQuantity:V.editedMaxQuantity,minQuantity:V.editedMinQuantity,groupTag:V.editedGroupTag,isGroupRequired:V.editedIsGroupRequired},z),{});s(a.branchProductId,re,ne)}}catch(Y){console.error("Error toggling addon:",Y),M(i("addonModal.messages.errors.updateFailed")+": "+(Y.message||"Unknown error")),await D()}finally{w(!1),_(null)}}},ee=(K,Y,re)=>{d(ne=>ne.map(z=>z.addonBranchProductId===K?{...z,[`edited${Y.charAt(0).toUpperCase()+Y.slice(1)}`]:re}:z))},Z=async K=>{if(!(!K.assignmentId||I===K.addonBranchProductId)){_(K.addonBranchProductId),w(!0),M(null);try{const Y={isActive:K.currentIsActive??!0,specialPrice:K.editedSpecialPrice||K.addonPrice,marketingText:K.editedMarketingText||K.marketingText,maxQuantity:K.editedMaxQuantity||10,minQuantity:K.editedMinQuantity||0,groupTag:K.editedGroupTag||"",isGroupRequired:K.editedIsGroupRequired||!1};if(await Fc.updateBranchProductAddon(K.assignmentId,Y),await D(),A(i("addonModal.messages.success.addonUpdated")),s&&a?.branchProductId){const re=l.filter(z=>z.isAssigned).map(z=>z.addonBranchProductId),ne=l.filter(z=>z.isAssigned).reduce((z,V)=>(z[V.addonBranchProductId]={specialPrice:V.editedSpecialPrice,marketingText:V.editedMarketingText,maxQuantity:V.editedMaxQuantity,minQuantity:V.editedMinQuantity,groupTag:V.editedGroupTag,isGroupRequired:V.editedIsGroupRequired},z),{});s(a.branchProductId,re,ne)}}catch(Y){console.error("Error updating addon:",Y),M(i("addonModal.messages.errors.propertiesFailed"))}finally{w(!1),_(null)}}},B=()=>{d([]),x(""),M(null),A(null),_(null),t()};if(!e||!a)return null;const G=c.filter(K=>K.isAssigned),J=c.filter(K=>!K.isAssigned),ce=G.length,te=c.length;return r.jsxs("div",{dir:o?"rtl":"ltr",className:"fixed inset-0 z-50 overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gradient-to-br from-gray-900/80 via-purple-900/50 to-blue-900/80 backdrop-blur-md",onClick:B}),r.jsxs("div",{className:"inline-block w-full max-w-6xl px-0 py-0 my-4 overflow-hidden text-right transition-all transform bg-white dark:bg-gray-900 shadow-2xl rounded-3xl border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("div",{className:"relative bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 px-8 py-6 text-white overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"32px 32px"}})}),r.jsxs("div",{className:"relative z-10 flex items-center justify-between ",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:`flex items-center ${o?"space-x-reverse space-x-3":"space-x-3"} mb-4`,children:[r.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-xl rounded-2xl flex items-center justify-center shadow-lg border border-white/30",children:r.jsx(qa,{className:"w-7 h-7"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold mb-1 tracking-tight",children:i("addonModal.title")}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ps,{className:"w-4 h-4 text-purple-200"}),r.jsx("p",{className:"text-purple-100 text-base font-medium",children:a.name})]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("div",{className:"group bg-white/15 backdrop-blur-xl border border-white/20 rounded-2xl px-4 py-2.5 hover:bg-white/25 transition-all duration-300 shadow-lg",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:r.jsx(Ar,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold text-white",children:te}),r.jsx("div",{className:"text-xs text-purple-100 font-medium",children:i("addonModal.stats.available")})]})]})}),r.jsx("div",{className:"group bg-emerald-500/20 backdrop-blur-xl border border-emerald-300/30 rounded-2xl px-4 py-2.5 hover:bg-emerald-500/30 transition-all duration-300 shadow-lg",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-emerald-400/30 rounded-lg flex items-center justify-center",children:r.jsx(_r,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold text-white",children:ce}),r.jsx("div",{className:"text-xs text-emerald-100 font-medium",children:i("addonModal.stats.assigned")})]})]})}),r.jsx("div",{className:"group bg-amber-500/20 backdrop-blur-xl border border-amber-300/30 rounded-2xl px-4 py-2.5 hover:bg-amber-500/30 transition-all duration-300 shadow-lg",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-amber-400/30 rounded-lg flex items-center justify-center",children:r.jsx(Hi,{className:"w-4 h-4 text-white fill-current"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold text-white",children:G.filter(K=>K.isRecommended).length}),r.jsx("div",{className:"text-xs text-amber-100 font-medium",children:i("addonModal.stats.recommended")})]})]})})]})]}),r.jsxs("div",{className:`flex items-center ${o?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx("button",{onClick:D,disabled:b,className:"p-3 bg-white/15 hover:bg-white/25 backdrop-blur-xl border border-white/20 rounded-2xl transition-all duration-300 shadow-lg hover:scale-105 active:scale-95",title:i("addonModal.refresh"),children:r.jsx(cs,{className:`w-5 h-5 ${b?"animate-spin":""}`})}),r.jsx("button",{onClick:B,className:"p-3 bg-white/15 hover:bg-white/25 backdrop-blur-xl border border-white/20 rounded-2xl transition-all duration-300 shadow-lg hover:scale-105 active:scale-95",children:r.jsx(xt,{className:"w-5 h-5"})})]})]})]}),r.jsxs("div",{className:"px-8 py-6",children:[S&&r.jsx("div",{className:`mb-6 p-4 bg-gradient-to-r from-red-50 to-red-100/50 dark:from-red-900/20 dark:to-red-800/10 ${o?"border-r-4 border-l-0":"border-l-4"} border-red-500 rounded-xl shadow-sm`,children:r.jsxs("div",{className:`flex items-center ${o?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-xl flex items-center justify-center mr-3",children:r.jsx(Nt,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),r.jsx("span",{className:"text-red-800 dark:text-red-300 text-sm font-medium",children:S})]})}),T&&r.jsx("div",{className:`mb-6 p-4 bg-gradient-to-r from-emerald-50 to-emerald-100/50 dark:from-emerald-900/20 dark:to-emerald-800/10 ${o?"border-r-4 border-l-0":"border-l-4"} border-emerald-500 rounded-xl shadow-sm`,children:r.jsxs("div",{className:`flex items-center ${o?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"w-10 h-10 bg-emerald-100 dark:bg-emerald-900/30 rounded-xl flex items-center justify-center mr-3",children:r.jsx(_r,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),r.jsx("span",{className:"text-emerald-800 dark:text-emerald-300 text-sm font-medium",children:T})]})}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative group",children:[r.jsx(Bn,{className:`absolute top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-indigo-500 transition-colors ${o?"right-5":"left-5"}`}),r.jsx("input",{type:"text",placeholder:i("addonModal.search.placeholder"),value:h,onChange:K=>x(K.target.value),className:`w-full py-4 border-2 border-gray-200 dark:border-gray-700 rounded-2xl bg-gray-50/50 dark:bg-gray-800/50 text-gray-900 dark:text-white focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all placeholder-gray-400 text-base backdrop-blur-sm ${o?"pr-14 pl-6 text-right":"pl-14 pr-6"}`})]})}),r.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar pr-2",children:b?r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[r.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-indigo-100 dark:border-indigo-900/30"}),r.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-indigo-600 border-t-transparent animate-spin"})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-lg",children:i("addonModal.loading")}),r.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm mt-2",children:"Please wait a moment"})]})}):c.length===0?r.jsxs("div",{className:"text-center py-20",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:r.jsx(Ar,{className:"h-12 w-12 text-gray-400"})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:i("addonModal.emptyState.title")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 max-w-md mx-auto text-lg",children:i("addonModal.emptyState.description")}),r.jsxs("div",{className:`inline-flex items-center px-6 py-3 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-2xl border border-indigo-200 dark:border-indigo-800 shadow-sm ${o?"flex-row-reverse":""}`,children:[r.jsx(ko,{className:`w-5 h-5 ${o?"ml-2":"mr-2"} text-indigo-600 dark:text-indigo-400`}),r.jsxs("span",{className:"text-indigo-700 dark:text-indigo-300 font-medium",children:[i("addonModal.emptyState.productId")," ",a.branchProductId]})]})]}):r.jsxs("div",{className:"space-y-8",children:[G.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:`flex items-center ${o?"space-x-reverse space-x-3":"space-x-3"} mb-5`,children:[r.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full shadow-lg shadow-emerald-500/50"}),r.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white text-xl",children:[i("addonModal.sections.assignedAddons")," ",r.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:["(",G.length,")"]})]}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-emerald-200 to-transparent dark:from-emerald-800"})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:G.map(K=>r.jsx(p3,{addon:K,isRTL:o,isSaving:I===K.addonBranchProductId,onToggle:()=>X(K),onPropertyChange:ee,onUpdate:()=>Z(K),t:i},K.addonBranchProductId))})]}),J.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:`flex items-center ${o?"space-x-reverse space-x-3":"space-x-3"} mb-5`,children:[r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full shadow-lg shadow-gray-400/50"}),r.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white text-xl",children:[i("addonModal.sections.availableAddons")," ",r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["(",J.length,")"]})]}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-gray-200 to-transparent dark:from-gray-700"})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-5",children:J.map(K=>r.jsx(p3,{addon:K,isRTL:o,isSaving:I===K.addonBranchProductId,onToggle:()=>X(K),onPropertyChange:ee,onUpdate:()=>Z(K),t:i},K.addonBranchProductId))})]})]})})]}),r.jsx("div",{className:"px-8 py-5 bg-gradient-to-r from-gray-50 to-gray-100/50 dark:from-gray-800/50 dark:to-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:`flex items-center justify-between ${o?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(_r,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[ce," ",i("addonModal.footer.summary")," ",te," ",i(te===1?"addonModal.footer.addon":"addonModal.footer.addons")," ",i("addonModal.footer.assigned")]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"All changes saved automatically"})]})]}),r.jsx("button",{onClick:B,className:"px-8 py-3 bg-gradient-to-r from-gray-800 to-gray-900 dark:from-gray-700 dark:to-gray-600 hover:from-gray-700 hover:to-gray-800 text-white rounded-xl text-sm font-semibold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95",children:i("addonModal.actions.done")})]})})]})]}),r.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: rgba(156, 163, 175, 0.1);
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: linear-gradient(180deg, rgba(99, 102, 241, 0.4), rgba(168, 85, 247, 0.4));
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(180deg, rgba(99, 102, 241, 0.6), rgba(168, 85, 247, 0.6));
        }
      `})]})};class Wte{baseUrl="/api/BranchProductExtras";async getBranchProductExtrasByBranchProductId(t){try{N.info("Branch product extras listesi getiriliyor",{branchProductId:t});const a=await he.get(`${this.baseUrl}/branch-product/${t}`);return N.info("Branch product extras listesi baaryla getirildi",{count:a.data.length}),a.data}catch(a){throw N.error(" Branch product extras listesi getirilirken hata:",a),a}}async getGroupedBranchProductExtrasByBranchProductId(t){try{N.info("Gruplu branch product extras listesi getiriliyor",{branchProductId:t});const a=await he.get(`${this.baseUrl}/branch-product/${t}/grouped`);return N.info("Gruplu branch product extras listesi baaryla getirildi",{count:a.data.length}),a.data}catch(a){throw N.error(" Gruplu branch product extras listesi getirilirken hata:",a),a}}async getBranchProductExtraById(t){try{N.info("Branch product extra detay getiriliyor",{id:t});const a=await he.get(`${this.baseUrl}/${t}`);return N.info("Branch product extra detay baaryla getirildi",{data:a.data}),a.data}catch(a){throw N.error(" Branch product extra detay getirilirken hata:",a),a}}async updateBranchProductExtra(t){try{const a={isActive:t.isActive,specialUnitPrice:t.specialUnitPrice,minQuantity:t.minQuantity,maxQuantity:t.maxQuantity,isRequiredOverride:t.isRequiredOverride};N.info("Branch product extra gncelleme istei gnderiliyor",{id:t.id,payload:a});const n=await he.put(`${this.baseUrl}/${t.id}`,a);return N.info("Branch product extra baaryla gncellendi",{data:n.data}),n.data}catch(a){throw N.error(" Branch product extra gncellenirken hata:",a),a}}async deleteBranchProductExtra(t){try{N.info("Branch product extra silme istei gnderiliyor",{id:t}),await he.delete(`${this.baseUrl}/${t}`),N.info("Branch product extra baaryla silindi",{id:t})}catch(a){throw N.error(" Branch product extra silinirken hata:",a),a}}async createBranchProductExtra(t){try{const a={branchProductId:t.branchProductId,productExtraId:t.productExtraId,isActive:t.isActive,specialUnitPrice:t.specialUnitPrice,minQuantity:t.minQuantity,maxQuantity:t.maxQuantity,isRequiredOverride:t.isRequiredOverride};N.info("Branch product extra ekleme istei gnderiliyor",{payload:a});const n=await he.post(this.baseUrl,a);return N.info("Branch product extra baaryla eklendi",{data:n.data}),n.data}catch(a){throw N.error(" Branch product extra eklenirken hata:",a),a}}async getAvailableProductExtras(t){try{N.info("Mevcut product extras listesi getiriliyor",{params:t});const a=await he.get(`${this.baseUrl}/available`,{params:{branchProductId:t?.branchProductId,branchId:t?.branchId}});return N.info("Mevcut product extras listesi baaryla getirildi",{count:a.data.length}),a.data}catch(a){throw N.error(" Mevcut product extras listesi getirilirken hata:",a),a}}async batchUpdateBranchProductExtras(t){try{N.info("Branch product extras batch update ilemi gnderiliyor",{data:t}),await he.post(`${this.baseUrl}/batch-update`,t),N.info("Branch product extras batch update ilemi baaryla tamamland")}catch(a){throw N.error(" Branch product extras batch update ilemi srasnda hata:",a),a}}async reorderBranchProductExtras(t,a){try{N.info("Branch product extras reorder ilemi gnderiliyor",{branchProductId:t,items:a}),await he.put(`${this.baseUrl}/branch-product/${t}/reorder`,a),N.info("Branch product extras reorder ilemi baaryla tamamland")}catch(n){throw N.error(" Branch product extras reorder ilemi srasnda hata:",n),n}}async getDeletedBranchProductExtras(){try{N.info("Silinen branch product extras listesi getiriliyor");const t=await he.get(`${this.baseUrl}/deleted`);return N.info("Silinen branch product extras listesi baaryla getirildi",{count:t.data.length}),t.data}catch(t){throw N.error(" Silinen branch product extras listesi getirilirken hata:",t),t}}async restoreBranchProductExtra(t){try{N.info("Branch product extra restore istei gnderiliyor",{id:t}),await he.post(`${this.baseUrl}/${t}/restore`),N.info("Branch product extra baaryla restore edildi",{id:t})}catch(a){throw N.error(" Branch product extra restore edilirken hata:",a),a}}}const nm=new Wte;class Kte{baseUrl="/api/BranchProductExtraCategories";async getBranchProductExtraCategories(t){try{N.info("Branch product extra categories listesi getiriliyor");const a=await he.get(this.baseUrl,{params:{branchProductId:t?.branchProductId,branchId:t?.branchId,onlyActive:t?.onlyActive}});return N.info("Branch product extra categories listesi baaryla getirildi",{count:a.data.length}),a.data}catch(a){throw N.error(" Branch product extra categories listesi getirilirken hata:",a),a}}async createBranchProductExtraCategory(t){try{const a={branchProductId:t.branchProductId,productExtraCategoryId:t.productExtraCategoryId,isRequiredOverride:t.isRequiredOverride,minSelectionCount:t.minSelectionCount,maxSelectionCount:t.maxSelectionCount,minTotalQuantity:t.minTotalQuantity,maxTotalQuantity:t.maxTotalQuantity,isActive:t.isActive};N.info("Branch product extra category ekleme istei gnderiliyor",{payload:a});const n=await he.post(this.baseUrl,a);return N.info("Branch product extra category baaryla eklendi",{data:n.data}),n.data}catch(a){throw N.error(" Branch product extra category eklenirken hata:",a),a}}async getDeletedBranchProductExtraCategories(){try{N.info("Silinen branch product extra categories listesi getiriliyor");const t=await he.get(`${this.baseUrl}/deleted`);return N.info("Silinen branch product extra categories listesi baaryla getirildi",{count:t.data.length}),t.data}catch(t){throw N.error(" Silinen branch product extra categories listesi getirilirken hata:",t),t}}async getAvailableExtraCategories(t){try{N.info("Mevcut extra categories listesi getiriliyor",{params:t});const a=await he.get(`${this.baseUrl}/available`,{params:{branchProductId:t?.branchProductId,branchId:t?.branchId,onlyActive:t?.onlyActive}});return N.info("Mevcut extra categories listesi baaryla getirildi",{count:a.data.length}),a.data}catch(a){throw N.error(" Mevcut extra categories listesi getirilirken hata:",a),a}}async updateBranchProductExtraCategory(t){try{const a={isRequiredOverride:t.isRequiredOverride,minSelectionCount:t.minSelectionCount,maxSelectionCount:t.maxSelectionCount,minTotalQuantity:t.minTotalQuantity,maxTotalQuantity:t.maxTotalQuantity,isActive:t.isActive};N.info("Branch product extra category gncelleme istei gnderiliyor",{id:t.id,payload:a});const n=await he.put(`${this.baseUrl}/${t.id}`,a);return N.info("Branch product extra category baaryla gncellendi",{data:n.data}),n.data}catch(a){throw N.error(" Branch product extra category gncellenirken hata:",a),a}}async deleteBranchProductExtraCategory(t){try{N.info("Branch product extra category silme istei gnderiliyor",{id:t}),await he.delete(`${this.baseUrl}/${t}`),N.info("Branch product extra category baaryla silindi",{id:t})}catch(a){throw N.error(" Branch product extra category silinirken hata:",a),a}}async restoreBranchProductExtraCategory(t){try{N.info("Branch product extra category restore istei gnderiliyor",{id:t}),await he.post(`${this.baseUrl}/${t}/restore`),N.info("Branch product extra category baaryla restore edildi",{id:t})}catch(a){throw N.error(" Branch product extra category restore edilirken hata:",a),a}}async batchBranchProductExtraCategories(t){try{N.info("Branch product extra categories batch ilemi gnderiliyor",{data:t}),await he.post(`${this.baseUrl}/batch`,t),N.info("Branch product extra categories batch ilemi baaryla tamamland")}catch(a){throw N.error(" Branch product extra categories batch ilemi srasnda hata:",a),a}}}const eh=new Kte,Qte=({isOpen:e,onClose:t,branchProductId:a,productName:n,onSave:s,isLoading:i=!1})=>{const{t:o,isRTL:l}=Ze(),[d,c]=p.useState([]),[g,h]=p.useState(new Set),[x,b]=p.useState({}),[v,j]=p.useState({}),[w,S]=p.useState(null),[M,T]=p.useState(new Map),[A,I]=p.useState(new Map),[_,D]=p.useState(""),[E,X]=p.useState(!1),[ee,Z]=p.useState(!1),[B,G]=p.useState(null);p.useEffect(()=>{e&&a&&J()},[e,a]);const J=async()=>{X(!0),G(null);try{const[$,q,H,Q]=await Promise.all([eh.getAvailableExtraCategories({branchProductId:a,onlyActive:!1}),nm.getAvailableProductExtras({branchProductId:a,onlyActive:!1}),eh.getBranchProductExtraCategories({branchProductId:a}),nm.getBranchProductExtrasByBranchProductId(a)]),de=$.map(me=>({...me,isExpanded:!1,extras:[]}));H.forEach(me=>{de.some(fe=>fe.productExtraCategoryId===me.productExtraCategoryId)||de.push({productExtraCategoryId:me.productExtraCategoryId,extraCategoryName:me.extraCategoryName??"",extraCategoryId:me.extraCategoryId??0,isRequired:!!(me.isRequiredOverride??me.isRequired??!1),minSelectionCount:me.minSelectionCount??0,maxSelectionCount:me.maxSelectionCount??0,minTotalQuantity:me.minTotalQuantity??0,maxTotalQuantity:me.maxTotalQuantity??1,activeExtrasCount:0,isExpanded:!1,extras:[]})}),de.forEach(me=>{const je=q.filter(ie=>ie.categoryName===me.extraCategoryName),fe=Q.filter(ie=>ie.categoryName===me.extraCategoryName),se=[...je];fe.forEach(ie=>{if(!se.some(le=>le.productExtraId===ie.productExtraId)){const le={productExtraId:ie.productExtraId??0,extraName:ie.extraName??"",categoryName:ie.categoryName??"",unitPrice:ie.unitPrice??0,extraId:ie.extraId??0,selectionMode:ie.selectionMode??0,isRemoval:ie.isRemoval??!1};se.push(le)}}),me.extras=se}),de.sort((me,je)=>me.extraCategoryName.localeCompare(je.extraCategoryName)),c(de);try{const me=new Set,je={},fe={},se=new Map,ie=new Map;H.forEach(ue=>{me.add(ue.productExtraCategoryId),se.set(ue.productExtraCategoryId,ue.id),je[ue.productExtraCategoryId]={isRequiredOverride:ue.isRequiredOverride,minSelectionCount:ue.minSelectionCount,maxSelectionCount:ue.maxSelectionCount,minTotalQuantity:ue.minTotalQuantity,maxTotalQuantity:ue.maxTotalQuantity,selectedExtras:new Set}}),Q.forEach(ue=>{ie.set(ue.productExtraId,ue.id),fe[ue.productExtraId]={specialUnitPrice:ue.specialUnitPrice??0,minQuantity:ue.minQuantity??0,maxQuantity:ue.maxQuantity??1,isRequiredOverride:ue.isRequiredOverride??!1};const le=de.find(xe=>xe.extraCategoryName===ue.categoryName);if(le){const xe=le.productExtraCategoryId;je[xe]&&je[xe].selectedExtras.add(ue.productExtraId)}}),h(me),b(je),j(fe),T(se),I(ie)}catch(me){console.warn("Could not load existing configuration, starting fresh",me)}}catch($){console.error("Error fetching data:",$),G($.response?.data?.message||o("extrasManagement.categoryConfigModal.errors.loadFailed"))}finally{X(!1)}},ce=$=>{const q=new Set(g);if(q.has($))q.delete($),b(H=>{const Q={...H};return delete Q[$],Q});else{q.add($);const H=d.find(Q=>Q.productExtraCategoryId===$);H&&(b(Q=>({...Q,[$]:{isRequiredOverride:H.isRequired,minSelectionCount:H.minSelectionCount,maxSelectionCount:H.maxSelectionCount,minTotalQuantity:H.minTotalQuantity,maxTotalQuantity:H.maxTotalQuantity,selectedExtras:new Set}})),te($,!0))}h(q)},te=($,q)=>{c(H=>H.map(Q=>Q.productExtraCategoryId===$?{...Q,isExpanded:q!==void 0?q:!Q.isExpanded}:Q))},K=($,q)=>{g.has($)&&b(H=>{const Q=H[$];if(!Q)return H;const de=new Set(Q.selectedExtras);if(de.has(q))de.delete(q);else if(de.add(q),!v[q]){const me=d.flatMap(je=>je.extras).find(je=>je.productExtraId===q);j(je=>({...je,[q]:{specialUnitPrice:me?.unitPrice??0,minQuantity:0,maxQuantity:1,isRequiredOverride:!1}}))}return{...H,[$]:{...Q,selectedExtras:de}}})},Y=($,q,H)=>{b(Q=>({...Q,[$]:{...Q[$],[q]:H}}))},re=($,q,H)=>{j(Q=>({...Q,[$]:{...Q[$],[q]:H}}))},ne=$=>{S(w===$?null:$)},z=async()=>{Z(!0),G(null);try{const $=[];for(const[de,me]of M.entries())g.has(de)||$.push(me);for(const de of $)await eh.deleteBranchProductExtraCategory(de);for(const de of g){const me=x[de];if(!me)continue;const je=M.get(de);if(je){const fe={id:je,isRequiredOverride:me.isRequiredOverride,minSelectionCount:me.minSelectionCount,maxSelectionCount:me.maxSelectionCount,minTotalQuantity:me.minTotalQuantity,maxTotalQuantity:me.maxTotalQuantity,isActive:!0};await eh.updateBranchProductExtraCategory(fe)}else{const fe={branchProductId:a,productExtraCategoryId:de,isRequiredOverride:me.isRequiredOverride,minSelectionCount:me.minSelectionCount,maxSelectionCount:me.maxSelectionCount,minTotalQuantity:me.minTotalQuantity,maxTotalQuantity:me.maxTotalQuantity,isActive:!0};await eh.createBranchProductExtraCategory(fe)}}const q=[],H=new Set;Object.values(x).forEach(de=>{de.selectedExtras.forEach(me=>H.add(me))});for(const[de,me]of A.entries())H.has(de)||q.push(me);for(const de of q)await nm.deleteBranchProductExtra(de);const Q=[];for(const[de,me]of Object.entries(x))if(g.has(Number(de)))for(const je of me.selectedExtras){Q.push(je);const fe=A.get(je),se=v[je]||{specialUnitPrice:0,minQuantity:0,maxQuantity:1,isRequiredOverride:!1},ue=d.flatMap(le=>le.extras).find(le=>le.productExtraId===je)?.isRemoval??!1;if(fe){const le={id:fe,isActive:!0,specialUnitPrice:ue?0:se.specialUnitPrice,minQuantity:ue?0:se.minQuantity,maxQuantity:se.maxQuantity,isRequiredOverride:se.isRequiredOverride};await nm.updateBranchProductExtra(le)}else{const le={branchProductId:a,productExtraId:je,isActive:!0,specialUnitPrice:ue?0:se.specialUnitPrice,minQuantity:ue?0:se.minQuantity,maxQuantity:se.maxQuantity,isRequiredOverride:se.isRequiredOverride};await nm.createBranchProductExtra(le)}}await s(a,Array.from(g),Q),t()}catch($){console.error("Error saving:",$);const q=$.response?.data?.message||$.response?.data?.title||$.message||o("extrasManagement.categoryConfigModal.errors.saveFailed");G(q);const H=document.querySelector(".max-h-\\[500px\\]");H&&(H.scrollTop=0)}finally{Z(!1)}},V=d.filter($=>$.extraCategoryName.toLowerCase().includes(_.toLowerCase())),F=()=>Object.entries(x).reduce(($,[q,H])=>g.has(Number(q))?$+H.selectedExtras.size:$,0);return e?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 dark:bg-gray-900 bg-opacity-75 dark:bg-opacity-75",onClick:t}),r.jsxs("div",{className:"relative inline-block w-full max-w-5xl my-8 overflow-hidden text-left align-middle transition-all transform bg-white dark:bg-gray-800 shadow-xl rounded-2xl",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:`flex items-center justify-between ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o("extrasManagement.categoryConfigModal.title")}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[o("extrasManagement.categoryConfigModal.productLabel")," ",r.jsx("span",{className:"font-medium",children:n})]})]}),r.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:r.jsx(xt,{className:"h-5 w-5"})})]})}),r.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700/50 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o("extrasManagement.categoryConfigModal.stats.selectedCategories")}),r.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:g.size})]}),r.jsx(Ws,{className:"h-8 w-8 text-blue-600 dark:text-blue-400 opacity-50"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o("extrasManagement.categoryConfigModal.stats.selectedExtras")}),r.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:F()})]}),r.jsx(Ar,{className:"h-8 w-8 text-green-600 dark:text-green-400 opacity-50"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o("extrasManagement.categoryConfigModal.stats.available")}),r.jsx("p",{className:"text-2xl font-bold text-gray-600 dark:text-gray-400",children:d.length})]}),r.jsx(bn,{className:"h-8 w-8 text-gray-400 dark:text-gray-500 opacity-50"})]})})]})}),r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"relative",children:[r.jsx(Bn,{className:`absolute ${l?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5`}),r.jsx("input",{type:"text",placeholder:o("extrasManagement.categoryConfigModal.searchPlaceholder"),value:_,onChange:$=>D($.target.value),className:`w-full ${l?"pr-10 pl-4":"pl-10 pr-4"} py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white`})]})}),B&&r.jsx("div",{className:"mx-6 mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:r.jsxs("div",{className:`flex items-center ${l?"flex-row-reverse":""}`,children:[r.jsx(Nt,{className:`h-5 w-5 text-red-600 dark:text-red-400 ${l?"ml-3":"mr-3"}`}),r.jsx("span",{className:"text-red-700 dark:text-red-300",children:B})]})}),r.jsx("div",{className:"px-6 py-4 max-h-[500px] overflow-y-auto",children:E?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 dark:text-blue-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:o("extrasManagement.categoryConfigModal.loading.categories")})]}):V.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Ar,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:o(_?"extrasManagement.categoryConfigModal.empty.noResults":"extrasManagement.categoryConfigModal.empty.noCategories")})]}):r.jsx("div",{className:"space-y-4",children:V.map($=>{const q=g.has($.productExtraCategoryId),H=x[$.productExtraCategoryId];return r.jsxs("div",{className:`border-2 rounded-xl transition-all ${q?"border-blue-300 dark:border-blue-600 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800"}`,children:[r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:`flex items-center justify-between ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${l?"space-x-reverse":""} space-x-3`,children:[r.jsx("button",{onClick:()=>ce($.productExtraCategoryId),className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-colors ${q?"border-blue-600 bg-blue-600 dark:border-blue-500 dark:bg-blue-500":"border-gray-300 dark:border-gray-600"}`,children:q&&r.jsx(_r,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:$.extraCategoryName}),r.jsxs("div",{className:`flex items-center ${l?"space-x-reverse":""} space-x-2 mt-1`,children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${$.isRequired?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:$.isRequired?o("extrasManagement.categoryConfigModal.badges.required"):o("extrasManagement.categoryConfigModal.badges.optional")}),r.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:[$.extras.length," ",o("extrasManagement.categoryConfigModal.category.availableExtras")]})]})]})]}),$.extras.length>0&&r.jsx("button",{onClick:()=>te($.productExtraCategoryId),className:"p-2 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:$.isExpanded?r.jsx(Hn,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}):r.jsx(Rr,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})})]}),q&&H&&$.isExpanded&&r.jsxs("div",{className:"mt-4 p-4 bg-white dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{className:`flex items-center ${l?"space-x-reverse":""} space-x-2 mb-3`,children:[r.jsx(qa,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),r.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:o("extrasManagement.categoryConfigModal.category.configurationTitle")})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("extrasManagement.categoryConfigModal.fields.minSelection")}),r.jsx("input",{title:o("extrasManagement.categoryConfigModal.fields.minSelection"),type:"number",min:"0",value:H.minSelectionCount,onChange:Q=>Y($.productExtraCategoryId,"minSelectionCount",parseInt(Q.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("extrasManagement.categoryConfigModal.fields.maxSelection")}),r.jsx("input",{title:o("extrasManagement.categoryConfigModal.fields.maxSelection"),type:"number",min:"0",value:H.maxSelectionCount,onChange:Q=>Y($.productExtraCategoryId,"maxSelectionCount",parseInt(Q.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("extrasManagement.categoryConfigModal.fields.minQuantity")}),r.jsx("input",{title:o("extrasManagement.categoryConfigModal.fields.minQuantity"),type:"number",min:"0",value:H.minTotalQuantity,onChange:Q=>Y($.productExtraCategoryId,"minTotalQuantity",parseInt(Q.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("extrasManagement.categoryConfigModal.fields.maxQuantity")}),r.jsx("input",{title:o("extrasManagement.categoryConfigModal.fields.maxQuantity"),type:"number",min:"0",value:H.maxTotalQuantity,onChange:Q=>Y($.productExtraCategoryId,"maxTotalQuantity",parseInt(Q.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{className:`mt-3 flex items-center ${l?"space-x-reverse":""} space-x-2`,children:[r.jsx("input",{type:"checkbox",id:`required-${$.productExtraCategoryId}`,checked:H.isRequiredOverride,onChange:Q=>Y($.productExtraCategoryId,"isRequiredOverride",Q.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:`required-${$.productExtraCategoryId}`,className:"text-sm text-gray-700 dark:text-gray-300",children:o("extrasManagement.categoryConfigModal.fields.overrideRequired")})]})]})]})]}),$.isExpanded&&$.extras.length>0&&r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 p-4 bg-gray-50 dark:bg-gray-700/30",children:[r.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-3",children:o("extrasManagement.categoryConfigModal.category.selectExtrasTitle")}),!q&&r.jsx("p",{className:"text-xs text-amber-600 mb-2",children:o("extrasManagement.categoryConfigModal.category.selectCategoryWarning")}),r.jsx("div",{className:"space-y-3",children:$.extras.map(Q=>{const de=H?.selectedExtras.has(Q.productExtraId),me=v[Q.productExtraId]||{specialUnitPrice:Q.unitPrice,minQuantity:1,maxQuantity:1},je=w===Q.productExtraId,fe=Q.isRemoval;return r.jsxs("div",{className:`rounded-lg border-2 transition-all ${de?"border-green-300 dark:border-green-600 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800"} ${q?"":"opacity-50"}`,children:[r.jsxs("div",{onClick:()=>!je&&K($.productExtraCategoryId,Q.productExtraId),className:`p-3 flex items-center justify-between ${!q||je?"cursor-not-allowed":"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Q.extraName}),fe&&r.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400",children:o("extrasManagement.categoryConfigModal.badges.removal")})]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[!fe&&r.jsxs(r.Fragment,{children:["$",(me.specialUnitPrice||Q.unitPrice).toFixed(2),me.specialUnitPrice>0&&me.specialUnitPrice!==Q.unitPrice&&r.jsxs("span",{className:"ml-1 text-xs text-blue-600 dark:text-blue-400",children:["(",o("extrasManagement.categoryConfigModal.labels.originalPrice"),": $",Q.unitPrice.toFixed(2),")"]})]}),fe&&r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:o("extrasManagement.categoryConfigModal.labels.removesIngredient")})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[de&&q&&r.jsx("button",{onClick:se=>{se.stopPropagation(),ne(Q.productExtraId)},className:`p-2 rounded-lg transition-colors ${je?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400"}`,title:o("common.edit"),children:r.jsx(qs,{className:"h-4 w-4"})}),r.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center ${de?"bg-green-600 dark:bg-green-500":"bg-gray-200 dark:bg-gray-600"}`,children:de&&r.jsx(_r,{className:"h-3 w-3 text-white"})})]})]}),je&&de&&r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 p-4 bg-white dark:bg-gray-700/50",children:[r.jsxs("div",{className:`flex items-center ${l?"space-x-reverse":""} space-x-2 mb-3`,children:[r.jsx(qr,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),r.jsx("h6",{className:"font-medium text-sm text-gray-900 dark:text-white",children:o("extrasManagement.categoryConfigModal.labels.extraConfiguration")})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[!fe&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("extrasManagement.categoryConfigModal.fields.specialPrice")}),r.jsx("input",{type:"number",min:"0",step:"1",value:me.unitPrice,onChange:se=>re(Q.productExtraId,"specialUnitPrice",parseFloat(se.target.value)||1),onClick:se=>se.stopPropagation(),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:`${o("extrasManagement.categoryConfigModal.placeholders.defaultPrice")}: ${Q.unitPrice}`})]}),fe&&r.jsx("div",{className:"col-span-2",children:r.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:r.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-400 flex items-center",children:[r.jsx(Nt,{className:"inline h-3 w-3 mr-1"}),o("extrasManagement.categoryConfigModal.messages.removalPriceWarning")]})})}),!fe&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("extrasManagement.categoryConfigModal.fields.minQty")}),r.jsx("input",{title:o("extrasManagement.categoryConfigModal.fields.minQty"),type:"number",min:"0",value:me.minQuantity,onChange:se=>re(Q.productExtraId,"minQuantity",parseInt(se.target.value)||1),onClick:se=>se.stopPropagation(),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("extrasManagement.categoryConfigModal.fields.maxQty")}),r.jsx("input",{title:o("extrasManagement.categoryConfigModal.fields.maxQty"),type:"number",min:"0",value:me.maxQuantity,onChange:se=>re(Q.productExtraId,"maxQuantity",parseInt(se.target.value)||1),onClick:se=>se.stopPropagation(),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]})]},Q.productExtraId)})})]})]},$.productExtraCategoryId)})})}),r.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:r.jsxs("div",{className:`flex items-center justify-between ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("span",{className:"font-medium",children:g.size})," ",o("extrasManagement.categoryConfigModal.footer.categoriesSelected")]}),r.jsxs("div",{className:`flex ${l?"space-x-reverse":""} space-x-3`,children:[r.jsx("button",{onClick:t,disabled:ee,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50",children:o("extrasManagement.categoryConfigModal.footer.cancel")}),r.jsxs("button",{onClick:z,disabled:ee,className:"px-6 py-3 bg-blue-600 dark:bg-blue-500 text-white rounded-xl hover:bg-blue-700 dark:hover:bg-blue-600 flex items-center gap-2 disabled:opacity-50",children:[ee?r.jsx(mt,{className:"animate-spin h-4 w-4"}):r.jsx(_r,{className:"h-4 w-4"}),o(ee?"extrasManagement.categoryConfigModal.footer.saving":"extrasManagement.categoryConfigModal.footer.save")]})]})]})})]})]})}):null},Gte=({branchId:e})=>{const{t,isRTL:a}=Ze(),[n,s]=p.useState([]),[i,o]=p.useState([]),[l,d]=p.useState([]),[c,g]=p.useState(new Set),[h,x]=p.useState(new Set),[b,v]=p.useState([]),[j,w]=p.useState(""),[S,M]=p.useState("add"),[T,A]=p.useState("select_categories"),[I,_]=p.useState(new Set),[D,E]=p.useState(new Set),[X,ee]=p.useState(new Map),[Z,B]=p.useState(new Map),[G,J]=p.useState(null),[ce,te]=p.useState(null),[K,Y]=p.useState(null),[re,ne]=p.useState(!1),[z,V]=p.useState(null),[F,$]=p.useState(!1),[q,H]=p.useState([]),[Q,de]=p.useState(new Map),[me,je]=p.useState(!1),[fe,se]=p.useState(!1),[ie,ue]=p.useState(!1),[le,xe]=p.useState(!1),[ze,Le]=p.useState(null),[ut,kt]=p.useState(!1),[qt,hr]=p.useState({isOpen:!1,branchCategoryId:null,categoryName:""}),[jr,nt]=p.useState(!1),[rt,Pr]=p.useState(!1),[Ht,Wt]=p.useState(!1),[ge,ye]=p.useState(!1),[Be,Qe]=p.useState(!1),[pt,Ce]=p.useState(null),[we,be]=p.useState(null);p.useEffect(()=>{Ie()},[]);const Ie=async()=>{try{je(!0);const Me=await Fc.getAvailableBranchProductAddons();H(Me)}catch(Me){console.error("Error fetching available addons:",Me),Ce(Me.response.data.message)}finally{je(!1)}},Se=async Me=>{try{const Ge=await Fc.getBranchProductAddons(Me);return de(Xe=>{const We=new Map(Xe);return We.set(Me,{branchProductId:Me,availableAddons:q,selectedAddons:Ge,isLoading:!1}),We}),Ge}catch(Ge){return console.error("Error fetching product addons:",Ge),Ce(Ge.response.data.message),[]}},_e=async Me=>{if(!Me.branchProductId){Ce("Product must be added to branch first before configuring addons");return}for(const Ge of i)if(Ge.products?.find(We=>We.branchProductId===Me.branchProductId)){Ge.categoryId;break}V(Me),$(!0),await Ie(),await Se(Me.branchProductId)},Ye=async()=>{V(null),$(!1),S==="manage"&&await cn()},Ft=async(Me,Ge)=>{const Xe=Ge.length;o(We=>We.map(Je=>({...Je,products:Je.products?.map(mr=>mr.branchProductId===Me?{...mr,addonsCount:Xe,hasAddons:Xe>0}:mr)}))),await Se(Me)},Tt=(Me,Ge)=>{if(S==="manage"){for(const Je of i)if(Je.products?.find(ar=>ar.id===Me&&ar.isSelected)){Je.categoryId;break}}else for(const Je of b)if(Je.products.find(ar=>ar.id===Me)){Je.categoryId;break}J(Me);const Xe=new Map(X);let We=Ge;if(S==="manage")for(const Je of i){const mr=Je.products?.find(ar=>ar.id===Me&&ar.isSelected);if(mr){We=mr.price;break}}Xe.set(Me,{productId:Me,originalPrice:Ge,newPrice:We}),ee(Xe)},nr=(Me,Ge)=>{const Xe=parseFloat(Ge)||0,We=new Map(X),Je=We.get(Me);Je?(We.set(Me,{...Je,newPrice:Xe}),ee(We)):console.warn("No existing edit state found for product:",Me)},gr=async Me=>{if(S==="manage"){const Ge=X.get(Me);Ge&&Math.abs(Ge.newPrice-Ge.originalPrice)>.001&&await Xt(Me,Ge.newPrice)}J(null)},sa=Me=>{J(null);const Ge=new Map(X),Xe=Ge.get(Me);Xe&&(Ge.set(Me,{...Xe,newPrice:Xe.originalPrice}),ee(Ge))},Ve=(Me,Ge)=>{if(!_s(Me)){Ce(t("branchCategories.messages.error.categoryInactive")||"Cannot edit inactive category");return}te(Me);const Xe=new Map(Z),We=S==="manage"&&i.find(Je=>Je.categoryId===Me)?.displayName||Ge;Xe.set(Me,{categoryId:Me,originalName:Ge,newName:We}),B(Xe)},St=(Me,Ge)=>{const Xe=new Map(Z),We=Xe.get(Me)||{categoryId:Me,originalName:n.find(Je=>Je.categoryId===Me)?.categoryName||"",newName:""};Xe.set(Me,{...We,newName:Ge.trim()}),B(Xe)},wt=async(Me,Ge)=>{let Xe,We="";if(B(Je=>{const mr=Je.get(Me);return Xe=Ge?.trim()||mr?.newName?.trim(),We=mr?.originalName||n.find(ar=>ar.categoryId===Me)?.categoryName||"",Je}),await new Promise(Je=>setTimeout(Je,0)),!Xe){te(null);return}if(Xe===We){console.warn("No changes to save:",{categoryId:Me,nameToSave:Xe,originalName:We}),te(null);return}try{await Rt(Me,Xe),B(Je=>{const mr=new Map(Je);return mr.set(Me,{categoryId:Me,originalName:Xe??"",newName:Xe??""}),mr}),s(Je=>Je.map(mr=>mr.categoryId===Me?{...mr,categoryName:Xe??""}:mr))}catch(Je){console.error("Failed to save category name:",Je);return}te(null)},Ke=Me=>{te(null);const Ge=new Map(Z),Xe=Ge.get(Me);Xe&&(Ge.set(Me,{...Xe,newName:Xe.originalName}),B(Ge))},et=(Me,Ge)=>{const Xe=X.get(Me);if(Xe)return Xe.newPrice;if(S==="manage")for(const We of i){const Je=We.products?.find(mr=>mr.id===Me&&mr.isSelected);if(Je)return Je.price}return Ge},bt=(Me,Ge)=>{const Xe=Z.get(Me);return Xe?Xe.newName:S==="manage"&&i.find(Je=>Je.categoryId===Me)?.displayName||Ge},Rt=async(Me,Ge)=>{try{const Xe=i.find(Je=>Je.categoryId===Me);if(!Xe){Ce("Branch category not found");return}nt(!0),await uo.updateBranchCategory({displayName:Ge,branchCategoryId:Xe.branchCategoryId}),o(Je=>Je.map(mr=>mr.categoryId===Me?{...mr,displayName:Ge}:mr)),be(`Category name updated to "${Ge}"`);const We=new Map(Z);We.delete(Me),B(We)}catch(Xe){console.error("Error updating category name:",Xe),Ce(Xe.response.data.message)}finally{nt(!1)}},Xt=async(Me,Ge)=>{try{let Xe=null,We=-1,Je,mr,ar;for(let yr=0;yr<i.length;yr++){const dt=i[yr].products?.find(Vt=>Vt.id===Me&&Vt.isSelected);if(dt&&dt.branchProductId){Xe=dt.branchProductId,We=yr,Je=dt.status,mr=dt.displayOrder,ar=i[yr].branchCategoryId;break}}if(!Xe||ar===void 0){Ce("Branch product or category not found");return}nt(!0);const Mr={branchProductId:Xe,price:Ge,isActive:Je??!0,displayOrder:mr??0,branchCategoryId:ar};await Yo.updateBranchProduct(Xe,Mr),o(yr=>{const dt=[...yr];return We>=0&&dt[We].products&&(dt[We]={...dt[We],products:dt[We].products.map(Vt=>Vt.id===Me?{...Vt,price:Ge}:Vt)}),dt}),be(`Product price updated to $${Ge.toFixed(2)}`);const ir=new Map(X);ir.delete(Me),ee(ir)}catch(Xe){console.error("Error updating product price:",Xe),Ce(Xe.response.data.message)}finally{nt(!1)}},cr=Me=>{Y(Me),ne(!0)},gt=()=>{Y(null),ne(!1)};p.useEffect(()=>{ia(),Ha()},[]),p.useEffect(()=>{S==="manage"&&i.length>0&&cn()},[S,i.length]),p.useEffect(()=>{if(we||pt){const Me=setTimeout(()=>{be(null),Ce(null)},5e3);return()=>clearTimeout(Me)}},[we,pt]),p.useEffect(()=>{const Me=i.some((Ge,Xe)=>{const We=l[Xe];return!We||Ge.displayOrder!==We.displayOrder});ue(Me)},[i,l]);const ia=async()=>{nt(!0),Ce(null);try{const Me=await uo.getAvailableCategoriesForBranch();s(Me)}catch(Me){console.error("Error fetching available categories:",Me),Ce(t("branchCategories.messages.error.loadingCategories"))}finally{nt(!1)}},Ha=async()=>{nt(!0),Ce(null);try{const Me=await uo.getBranchCategories(),Xe=(Array.isArray(Me)?Me:Me.count||[]).sort((We,Je)=>We.displayOrder-Je.displayOrder);o(Xe),d([...Xe])}catch(Me){console.error("Error fetching existing branch categories:",Me),Ce(Me.response.data.message)}finally{nt(!1)}},cn=async()=>{Qe(!0);try{const Me=await Yo.getBranchProductsWithDetails(),Ge=await Promise.all(i.map(async Xe=>{try{const We=Me.filter(dt=>dt.branchCategory?.categoryId===Xe.categoryId),Je=await Promise.all(We.map(async dt=>{const Vt=dt.originalProductId;Vt||console.error(" Cannot determine product ID for branch product:",dt);let ba=0,Nr=!1,wi=0,cl=!1,ti=0,ul=!1;if(dt.branchProductId)try{const[br,Qn]=await Promise.all([Fc.getBranchProductAddons(dt.branchProductId),nm.getBranchProductExtrasByBranchProductId(dt.branchProductId)]);ba=br.length,Nr=ba>0,wi=Qn.length,cl=wi>0,ti=new Set(Qn.map(Sn=>Sn.categoryName).filter(Boolean)).size,ul=ti>0}catch(br){console.warn("Failed to fetch addons/extras for product:",dt.branchProductId,br)}return{id:Vt,branchProductId:dt.branchProductId,originalProductId:Vt,name:dt.name,description:dt?.description,price:dt.price,imageUrl:dt?.imageUrl,status:dt.status,displayOrder:dt.displayOrder,isSelected:!0,addonsCount:ba,hasAddons:Nr,extrasCount:wi,hasExtras:cl,extraCategoriesCount:ti,hasExtraCategories:ul,allergens:dt.allergens?dt.allergens.map((br,Qn)=>({id:br.id??br.allergenId??Qn+1,allergenId:br.allergenId??Qn+1,allergenCode:br.code??"",code:typeof br.code=="string"?br.code:br.code??"",name:br.name??"",icon:br.icon??"",note:br.note??"",description:br.description??null,productCount:br.productCount??0,containsAllergen:br.containsAllergen??!1,presence:br.presence??"",displayOrder:br.displayOrder??Qn+1})):[],ingredients:dt.ingredients?dt.ingredients.map((br,Qn)=>({id:br.id??Qn+1,ingredientId:br.ingredientId??0,name:br.ingredientName??"",ingredientName:br.ingredientName??"",productId:br.productId??Vt,quantity:br.quantity??0,unit:br.unit??"",isAllergenic:br.isAllergenic??!1,isAvailable:br.isAvailable??!0,allergenIds:br.allergenIds??[],allergens:br.allergens?br.allergens.map((va,Sn)=>({id:va.id??va.allergenId??Sn+1,allergenId:va.allergenId??Sn+1,allergenCode:va.code??"",code:typeof va.code=="string"?va.code:va.code??"",name:va.name??"",icon:va.icon??"",note:va.note??"",description:va.description??null,productCount:va.productCount??0,containsAllergen:va.containsAllergen??!1,presence:va.presence??""})):[],restaurantId:br.restaurantId??0,products:br.products??[],productIngredients:br.productIngredients??[]})):[]}})),ar=(await uo.getAvailableProductsForBranch({categoryId:Xe.categoryId,onlyActive:!0,includes:"category,ingredients,allergens,addons"})).map(dt=>({id:dt.productId,productId:dt.productId,name:dt.name,description:dt.description,price:dt.price,imageUrl:dt.imageUrl,isAvailable:dt.status,status:dt.status,displayOrder:dt.displayOrder,categoryId:Xe.categoryId,isSelected:!1,originalProductId:dt.productId,addonsCount:0,hasAddons:!1,extrasCount:0,hasExtras:!1,extraCategoriesCount:0,hasExtraCategories:!1})),Mr=new Set(Je.map(dt=>dt.id).filter(Boolean)),ir=ar.filter(dt=>!Mr.has(dt.id)),yr=[...Je.filter(dt=>dt.id),...ir];return yr.sort((dt,Vt)=>dt.isSelected&&!Vt.isSelected?-1:!dt.isSelected&&Vt.isSelected?1:(dt.displayOrder||0)-(Vt.displayOrder||0)),{...Xe,products:yr,selectedProductsCount:Je.filter(dt=>dt.id).length,unselectedProductsCount:ir.length}}catch(We){return console.error(`Error fetching products for category ${Xe.categoryId}:`,We),{...Xe,products:[],selectedProductsCount:0,unselectedProductsCount:0}}}));o(Ge),d([...Ge])}catch(Me){console.error(" Error fetching branch categories with detailed products:",Me),o(Ge=>Ge.map(Xe=>({...Xe,products:[],selectedProductsCount:0,unselectedProductsCount:0}))),d(Ge=>Ge.map(Xe=>({...Xe,products:[],selectedProductsCount:0,unselectedProductsCount:0})))}finally{Qe(!1)}},Es=async()=>{if(c.size!==0){ye(!0),Ce(null);try{const Me=[];for(const We of c){const Je=await uo.getAvailableProductsForBranch({categoryId:We,onlyActive:!1,includes:"category,ingredients,allergens,addons"});Je.length>0&&Me.push(...Je)}const Ge=new Map;Me.forEach(We=>{const Je=We.category.categoryId;Ge.has(Je)||Ge.set(Je,{categoryId:Je,categoryName:We.category.categoryName,description:"",status:We.category.status,displayOrder:We.category.displayOrder,restaurantId:We.category.restaurantId,products:[],productId:void 0,name:void 0,isExpanded:!1});const mr={productId:We.productId,id:We.productId,name:We.name,description:We.description||"",price:We.price,imageUrl:We.imageUrl||"",isAvailable:We.status,status:We.status,displayOrder:We.displayOrder,categoryId:Je,originalProductId:We.originalProductId};Ge.get(Je).products.push(mr)});const Xe=Array.from(Ge.values());v(Xe),_(new Set(Xe.map(We=>We.categoryId)))}catch(Me){console.error("Error fetching products for categories:",Me),Ce(Me.response.data.message)}finally{ye(!1)}}},_s=Me=>S==="manage"?i.find(We=>We.categoryId===Me)?.isActive??!0:n.find(Xe=>Xe.categoryId===Me)?.status??!0,Cn=async()=>{if(c.size===0){Ce(t("branchCategories.error.selectCategory")||"Please select at least one category");return}await Es(),A("select_products"),w("")},Fn=()=>{A("review_selection"),w("")},He=()=>{A("select_categories"),x(new Set),v([]),w(""),ee(new Map),B(new Map)},it=()=>{A("select_products"),w("")},jt=Me=>{const Ge=new Set(c);if(Ge.has(Me)){Ge.delete(Me);const Xe=b.find(Je=>Je.categoryId===Me)?.products||[],We=new Set(h);Xe.forEach(Je=>We.delete(Je.id)),x(We)}else Ge.add(Me);g(Ge)},Gt=Me=>{const Ge=new Set(h);if(Ge.has(Me)){Ge.delete(Me);const Xe=new Map(X);Xe.delete(Me),ee(Xe)}else Ge.add(Me);x(Ge)},Re=()=>{const Me=new Set(b.flatMap(Ge=>Ge.products.map(Xe=>Xe.id)));x(Me)},zt=()=>{x(new Set),ee(new Map)},Qt=(Me,Ge)=>{i.find(Xe=>Xe.branchCategoryId===Me),hr({isOpen:!0,branchCategoryId:Me,categoryName:Ge})},fr=()=>{hr({isOpen:!1,branchCategoryId:null,categoryName:""})},Dt=async()=>{if(qt.branchCategoryId){Wt(!0),Ce(null);try{await uo.deleteBranchCategory(qt.branchCategoryId);const Me=i.filter(Ge=>Ge.branchCategoryId!==qt.branchCategoryId).map((Ge,Xe)=>({...Ge,displayOrder:Xe+1}));o(Me),d(Me),await ia(),be(t("branchCategories.messages.success.categoryDeleted")),fr()}catch(Me){console.error("Error deleting branch category:",Me),Ce(Me.response.data.message)}finally{Wt(!1)}}},lr=async()=>{if(c.size===0){Ce(t("branchCategories.error.selectAtLeastOne")||"Please select at least one category");return}Pr(!0),Ce(null),be(null);try{let Me=0;const Ge=new Map;for(const ar of c){const Mr=n.find(ir=>ir.categoryId===ar);if(Mr)try{const ir=bt(ar,Mr.categoryName),yr={categoryId:Mr.categoryId,displayName:ir,isActive:Mr.status,displayOrder:i.length+Me+1},dt=await uo.createBranchCategory(yr);dt.id&&Ge.set(ar,dt.id),Me++}catch(ir){throw console.error("Error creating branch category:",ar,ir),new Error(t("branchCategories.error.createCategory",{name:Mr.categoryName})||`Error creating category ${Mr.categoryName}`)}}let Xe=0;if(h.size>0)for(const ar of h){let Mr=null,ir=null;for(const dt of b){const Vt=dt.products.find(ba=>ba.id===ar);if(Vt){Mr=Vt,ir=dt.categoryId;break}}if(!Mr||!ir)continue;const yr=Ge.get(ir);if(yr)try{const Vt={price:et(ar,Mr.price),isActive:Mr.status,productId:Mr.id,branchCategoryId:yr},ba=await Yo.createBranchProduct(Vt);Xe++}catch(dt){console.error("Error creating branch product:",ar,dt),Ce(dt.response.data.message)}}const We=Me===1?"category":"categories",Je=Xe===1?"product":"products";let mr=`Added ${Me} ${We} to branch`;Xe>0&&(mr=`Added ${Me} ${We} and ${Xe} ${Je} to branch`),be(mr),g(new Set),x(new Set),v([]),ee(new Map),B(new Map),A("select_categories"),await new Promise(ar=>setTimeout(ar,1e3)),await Ha(),await ia()}catch(Me){console.error("Error saving branch categories and products:",Me),Ce(Me.response.data.message)}finally{Pr(!1)}},yt=async(Me,Ge)=>{try{const Xe=window.scrollY;let We=null,Je=-1;if(!i.find(ir=>ir.branchCategoryId===Ge)){Ce(t("branchCategories.messages.error.categoryNotFound"));return}for(let ir=0;ir<i.length;ir++){const yr=i[ir].products?.find(dt=>dt.id===Me);if(yr){We=yr,Je=ir;break}}if(!We||Je===-1){Ce(t("branchCategories.messages.error.productNotFound"));return}const ar=[...i],Mr=ar[Je].products?.map(ir=>ir.id===Me?{...ir,isSelected:!0}:ir)||[];ar[Je]={...ar[Je],products:Mr,selectedProductsCount:(ar[Je].selectedProductsCount||0)+1,unselectedProductsCount:Math.max(0,(ar[Je].unselectedProductsCount||0)-1)},o(ar),nt(!0);try{const ir={price:We.price,productId:We.id,isActive:We.status,branchCategoryId:Ge},yr=await Yo.createBranchProduct(ir);o(dt=>{const Vt=[...dt],ba=Vt[Je].products?.map(Nr=>Nr.id===Me?{...Nr,isSelected:!0,branchProductId:yr.branchProductId||yr.id}:Nr)||[];return Vt[Je]={...Vt[Je],products:ba},Vt}),be(t("branchCategories.messages.success.productAdded",{name:We.name}))}catch(ir){console.error("API call failed, reverting optimistic update:",ir),o(yr=>{const dt=[...yr],Vt=dt[Je].products?.map(ba=>ba.id===Me?{...ba,isSelected:!1,branchProductId:void 0}:ba)||[];return dt[Je]={...dt[Je],products:Vt,selectedProductsCount:Math.max(0,(dt[Je].selectedProductsCount||1)-1),unselectedProductsCount:(dt[Je].unselectedProductsCount||0)+1},dt}),Ce(t("branchCategories.messages.error.addingProduct"))}finally{nt(!1),setTimeout(()=>{window.scrollTo(0,Xe)},100)}}catch(Xe){console.error("Error adding product to category:",Xe),Ce(Xe.response.data.message),nt(!1)}},Yt=async(Me,Ge)=>{try{const Xe=window.scrollY;let We=null,Je=-1;for(let ir=0;ir<i.length;ir++){const yr=i[ir].products?.find(dt=>dt.branchProductId===Me);if(yr){We=yr,Je=ir;break}}if(!We||Je===-1){Ce(t("branchCategories.messages.error.productNotFound"));return}const mr=We.id,ar=[...i],Mr=ar[Je].products?.map(ir=>ir.branchProductId===Me?{...ir,isSelected:!1,branchProductId:void 0,addonsCount:0,hasAddons:!1}:ir)||[];ar[Je]={...ar[Je],products:Mr,selectedProductsCount:Math.max(0,(ar[Je].selectedProductsCount||1)-1),unselectedProductsCount:(ar[Je].unselectedProductsCount||0)+1},o(ar),nt(!0);try{await Yo.deleteBranchProduct(Me),o(ir=>ir.map(dt=>dt.branchCategoryId===ar[Je].branchCategoryId?{...dt,products:dt.products?dt.products.filter(Vt=>Vt.id!==mr):[]}:dt)),be(t("branchCategories.messages.success.productRemoved",{name:Ge||We.name}))}catch(ir){console.error("API call failed, reverting optimistic update:",ir);const yr=[...i],dt=yr[Je].products?.map(Vt=>Vt.id===mr?{...Vt,isSelected:!0,branchProductId:Me}:Vt)||[];yr[Je]={...yr[Je],products:dt,selectedProductsCount:(yr[Je].selectedProductsCount||0)+1,unselectedProductsCount:Math.max(0,(yr[Je].unselectedProductsCount||1)-1)},o(yr),Ce(ir?.response?.data||t("branchCategories.messages.error.removingProduct"))}finally{nt(!1),setTimeout(()=>{window.scrollTo(0,Xe)},100)}}catch(Xe){console.error("Error removing product from category:",Xe),Ce(Xe.response.data.message),nt(!1)}},At=Me=>{if(i[Me],Me>0){const Ge=[...i];[Ge[Me],Ge[Me-1]]=[Ge[Me-1],Ge[Me]],Ge.forEach((Xe,We)=>{Xe.displayOrder=We+1}),o(Ge)}},ha=Me=>{if(i[Me],Me<i.length-1){const Ge=[...i];[Ge[Me],Ge[Me+1]]=[Ge[Me+1],Ge[Me]],Ge.forEach((Xe,We)=>{Xe.displayOrder=We+1}),o(Ge)}},ca=Me=>q,Te=async()=>{xe(!0),Ce(null);try{const Me=i.map(Ge=>({branchCategoryId:Ge.branchCategoryId,newDisplayOrder:Ge.displayOrder}));await uo.reorderBranchCategories(Me),d([...i]),se(!1),be(t("branchCategories.messages.success.orderSaved"))}catch(Me){console.error("Error saving category order:",Me),Ce(Me.response.data.message)}finally{xe(!1)}},at=async Me=>{if(!Me.branchProductId){Ce("Product must be added to branch first before configuring extras");return}Le(Me),kt(!0)},Et=async()=>{Le(null),kt(!1),S==="manage"&&await cn()},_t=async(Me,Ge,Xe)=>{const We=Xe.length,Je=Ge.length;o(mr=>mr.map(ar=>({...ar,products:ar.products?.map(Mr=>Mr.branchProductId===Me?{...Mr,extrasCount:We,hasExtras:We>0,extraCategoriesCount:Je,hasExtraCategories:Je>0}:Mr)})))},xr=i.filter(Me=>Me.isActive).length,Ba=i.reduce((Me,Ge)=>Me+(Ge.products?.filter(Xe=>Xe.isSelected&&Xe.status)?.length||0),0);return i.reduce((Me,Ge)=>Me+(Ge.products?.filter(Xe=>Xe.isSelected)?.length||0),0),r.jsx("div",{className:`min-h-screen bg-gray-50 dark:bg-gray-900 ${a?"rtl":"ltr"}`,children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:t("branchCategories.header")}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:t("branchCategories.subheader",{branchId:e})})]}),r.jsx("div",{className:`flex items-center space-x-4 ${a?"space-x-reverse":""}`,children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 px-4 py-2",children:r.jsxs("div",{className:`flex items-center space-x-2 text-sm ${a?"space-x-reverse":""}`,children:[r.jsx(la,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:t("branchCategories.lastUpdated")})]})})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:t("branchCategories.stats.availableCategories")}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:n.length})]}),r.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/30 rounded-xl",children:r.jsx(hi,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:t("branchCategories.stats.activeCategories")}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:xr})]}),r.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/30 rounded-xl",children:r.jsx(_r,{className:"h-8 w-8 text-green-600 dark:text-green-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:S==="manage"?"Total Branch Categories":t("branchCategories.stats.selectedCategories")}),r.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:S==="manage"?i.length:c.size})]}),r.jsx("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/30 rounded-xl",children:S==="manage"?r.jsx(hu,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"}):r.jsx(Ut,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:S==="manage"?"Active Branch Products":t("branchCategories.stats.selectedProducts")}),r.jsx("p",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:S==="manage"?Ba:h.size})]}),r.jsx("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/30 rounded-xl",children:S==="manage"?r.jsx(h2,{className:"h-8 w-8 text-orange-600 dark:text-orange-400"}):r.jsx(Ar,{className:"h-8 w-8 text-orange-600 dark:text-orange-400"})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:t("branchCategories.stats.avalibleAddons")}),r.jsx("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:q.length})]}),r.jsx("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/30 rounded-xl",children:r.jsx(HH,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})})]})})]}),pt&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx(Nt,{className:`h-5 w-5 text-red-600 dark:text-red-400 ${a?"ml-3":"mr-3"}`}),r.jsx("span",{className:"text-red-700 dark:text-red-300 font-medium",children:pt})]}),r.jsx("button",{onClick:()=>Ce(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200",children:r.jsx(xt,{className:"h-4 w-4"})})]})}),we&&r.jsx("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl",children:r.jsxs("div",{className:`flex items-center justify-between ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx(tr,{className:`h-5 w-5 text-green-600 dark:text-green-400 ${a?"ml-3":"mr-3"}`}),r.jsx("span",{className:"text-green-700 dark:text-green-300 font-medium",children:we})]}),r.jsx("button",{onClick:()=>be(null),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200",children:r.jsx(xt,{className:"h-4 w-4"})})]})}),r.jsx(qte,{activeTab:S,branchId:e,categories:n,branchCategories:i,selectedCategories:c,selectedProducts:h,categoriesWithProducts:b,currentStep:T,expandedCategories:I,expandedBranchCategories:D,isReorderMode:fe,hasUnsavedChanges:ie,isReordering:le,isLoading:jr,isSaving:rt,isLoadingProducts:ge,isLoadingBranchProducts:Be,searchTerm:j,setSearchTerm:w,setSelectedCategories:g,setSelectedProducts:x,setCurrentStep:A,setExpandedCategories:_,setExpandedBranchCategories:E,setIsReorderMode:se,setEditingProductId:J,setEditingCategoryId:te,handleShowProductAddons:_e,handleShowProductExtras:at,handleShowProductDetails:cr,onCategorySelect:jt,onProductSelect:Gt,onSelectAllProducts:Re,onClearAllProducts:zt,onProceedToProductSelection:Cn,onProceedToReview:Fn,onBackToCategorySelection:He,onBackToProductSelection:it,onSave:lr,onMoveUp:At,onMoveDown:ha,onSaveOrder:Te,onAddProduct:yt,onRemoveProduct:Yt,onDeleteCategory:Qt,onRefresh:ia,setActiveTab:M,editedProductPrices:X,editedCategoryNames:Z,editingProductId:G,editingCategoryId:ce,onProductPriceEdit:Tt,onProductPriceChange:nr,onProductPriceSave:gr,onProductPriceCancel:sa,onCategoryNameEdit:Ve,onCategoryNameChange:St,onCategoryNameSave:wt,onCategoryNameCancel:Ke,getProductPrice:et,getCategoryName:bt,isCategoryActive:_s}),r.jsx(Qte,{isOpen:ut,onClose:Et,branchProductId:ze?.branchProductId||0,productName:ze?.name||"",onSave:_t,isLoading:jr}),r.jsx(Ql,{isOpen:qt.isOpen,onClose:fr,onConfirm:Dt,title:t("branchCategories.deleteModal.title"),message:t("branchCategories.deleteModal.message",{name:qt.categoryName}),isSubmitting:Ht,itemType:"category",itemName:qt.categoryName}),r.jsx(zte,{isOpen:re,onClose:gt,product:K}),r.jsx(Hte,{isOpen:F,onClose:Ye,product:z,availableAddons:ca(z?.branchProductId||0),onSave:Ft,isLoading:jr})]})})};class Yte{baseUrl="/api/branches";async getCategories(t=!0,a=!0){try{N.info("Masa kategorileri API ars balatlyor",{onlyActive:t,includeTableCount:a},{prefix:"TableService"});const n=new URLSearchParams({includeTableCount:a.toString()}),s=await he.get(`${this.baseUrl}/table-categories?${n.toString()}`);return N.info("Masa kategorileri alnd",s.data,{prefix:"TableService"}),s.data}catch(n){throw N.error("Masa kategorileri alnrken hata olutu",n,{prefix:"TableService"}),n}}async getCategoryById(t){try{N.info("Kategori detaylar API ars balatlyor",{categoryId:t},{prefix:"TableService"});const a=await he.get(`${this.baseUrl}/table-categories/${t}`);return N.info("Kategori detaylar alnd",a.data,{prefix:"TableService"}),a.data}catch(a){if(a?.status===404)return N.warn("Kategori bulunamad (404)",{categoryId:t},{prefix:"TableService"}),null;throw N.error("Kategori detaylar alnrken hata olutu",a,{prefix:"TableService"}),a}}async createCategory(t){try{if(N.info("Kategori oluturma API ars balatlyor",{data:t},{prefix:"TableService"}),!t.categoryName||!t.categoryName.trim())throw new Error("Kategori ad gereklidir");if(!t.colorCode)throw new Error("Renk kodu gereklidir");if(!t.iconClass)throw new Error("kon snf gereklidir");const a=await he.post(`${this.baseUrl}/table-categories`,t);return N.info("Kategori baaryla oluturuldu",a.data,{prefix:"TableService"}),a.data}catch(a){throw N.error("Kategori oluturulurken hata olutu",a,{prefix:"TableService"}),a}}async updateCategory(t,a,n){try{if(N.info("Kategori gncelleme API ars balatlyor",{categoryId:t,data:a},{prefix:"TableService"}),!a.categoryName||!a.categoryName.trim())throw new Error("Kategori ad gereklidir");if(!a.colorCode)throw new Error("Renk kodu gereklidir");if(!a.iconClass)throw new Error("kon snf gereklidir");const s={categoryName:a.categoryName,description:a.description||"",colorCode:a.colorCode,iconClass:a.iconClass,displayOrder:a.displayOrder||0,isActive:a.isActive,rowVersion:a.rowVersion||""},i=n?`${this.baseUrl}/table-categories/${t}?branchId=${n}`:`${this.baseUrl}/table-categories/${t}`,o=await he.put(i,s);return N.info("Kategori baaryla gncellendi",o.data,{prefix:"TableService"}),o.data}catch(s){throw N.error("Kategori gncellenirken hata olutu",s,{prefix:"TableService"}),s}}async deleteCategory(t,a){try{if(N.info("Kategori silme API ars balatlyor",{categoryId:t},{prefix:"TableService"}),!t||t<=0)throw new Error("Geerli bir kategori ID gereklidir");await he.delete(`${this.baseUrl}/table-categories/${t}?branchId=${a||""}  `),N.info("Kategori baaryla silindi",{categoryId:t},{prefix:"TableService"})}catch(n){throw N.error("Kategori silinirken hata olutu",n,{prefix:"TableService"}),n}}async toggleCategoryStatus(t,a){try{if(N.info("Kategori durumu gncelleme istei",{categoryId:t,isActive:a},{prefix:"TableService"}),!t||t<=0)throw new Error("Geerli bir kategori ID gereklidir");const n={isActive:a};await he.patch(`${this.baseUrl}/table-categories/${t}/toggle-status`,n),N.info("Kategori durumu baaryla gncellendi",{categoryId:t,isActive:a},{prefix:"TableService"})}catch(n){throw N.error("Kategori durumu gncellenirken hata olutu",n,{prefix:"TableService"}),n}}async reorderCategories(t){try{if(N.info("Kategori sralama gncelleme istei",{categoryOrders:t},{prefix:"TableService"}),!t||t.length===0)throw new Error("Sralanacak kategori bilgisi gereklidir");const a={categoryOrders:t};await he.patch(`${this.baseUrl}/table-categories/reorder`,a),N.info("Kategori sralamas baaryla gncellendi",{count:t.length},{prefix:"TableService"})}catch(a){throw N.error("Kategori sralamas gncellenirken hata olutu",a,{prefix:"TableService"}),a}}async getTables(t,a=!0,n=!0){try{N.info("Masalar API ars balatlyor",{categoryId:t,onlyActive:a,includeCategory:n},{prefix:"TableService"});const s=new URLSearchParams({onlyActive:a.toString(),includeCategory:n.toString()});t&&s.append("categoryId",t);const i=await he.get(`${this.baseUrl}/tables?${s.toString()}`);return N.info("Masalar alnd",i.data,{prefix:"TableService"}),i.data}catch(s){throw N.error("Masalar alnrken hata olutu",s,{prefix:"TableService"}),s}}async getTableCategories(t=!0,a=!0){return this.getCategories(t,a)}async createTable(t){try{if(N.info("Masa oluturma API ars balatlyor",{data:t},{prefix:"TableService"}),!t.menuTableCategoryId)throw new Error("Masa kategorisi gereklidir");if(!t.capacity||t.capacity<=0)throw new Error("Masa kapasitesi en az 1 olmaldr");const a=await he.post(`${this.baseUrl}/tables`,t);return N.info("Masa baaryla oluturuldu",a.data,{prefix:"TableService"}),a.data}catch(a){throw N.error("Masa oluturulurken hata olutu",a,{prefix:"TableService"}),a}}async createBatchTables(t){try{if(N.info("Toplu masa oluturma API ars balatlyor",{data:t},{prefix:"TableService"}),!t.items||t.items.length===0)throw new Error("En az bir masa oluturma verisi gereklidir");t.items.forEach((s,i)=>{if(!s.categoryId)throw new Error(`${i+1}. e iin kategori ID gereklidir`);if(!s.quantity||s.quantity<=0)throw new Error(`${i+1}. e iin masa says en az 1 olmaldr`);if(!s.capacity||s.capacity<=0)throw new Error(`${i+1}. e iin masa kapasitesi en az 1 olmaldr`)});const a={timeout:12e4,headers:{"Content-Type":"application/json","X-Request-Type":"batch-operation"}},n=await he.post(`${this.baseUrl}/tables/batch`,t,a);return N.info("Toplu masa baaryla oluturuldu",n.data,{prefix:"TableService"}),n.data}catch(a){throw N.error("Toplu masa oluturulurken hata olutu",a,{prefix:"TableService"}),a}}async updateTable(t,a){try{if(N.info("Masa gncelleme API ars balatlyor",{tableId:t,data:a},{prefix:"TableService"}),!a.id||a.id!==t)throw new Error("Masa ID uyumsuzluu");if(!a.menuTableCategoryId)throw new Error("Masa kategorisi gereklidir");if(!a.capacity||a.capacity<=0)throw new Error("Masa kapasitesi en az 1 olmaldr");const n=await he.put(`${this.baseUrl}/tables/${t}`,a);return N.info("Masa baaryla gncellendi",n.data,{prefix:"TableService"}),n.data}catch(n){throw N.error("Masa gncellenirken hata olutu",n,{prefix:"TableService"}),n}}async deleteTable(t){try{if(N.info("Masa silme API ars balatlyor",{tableId:t},{prefix:"TableService"}),!t||t<=0)throw new Error("Geerli bir masa ID gereklidir");await he.delete(`${this.baseUrl}/tables/${t}`),N.info("Masa baaryla silindi",{tableId:t},{prefix:"TableService"})}catch(a){throw N.error("Masa silinirken hata olutu",a,{prefix:"TableService"}),a}}async toggleTableStatus(t,a){try{if(N.info("Masa durumu gncelleme istei",{tableId:t,isActive:a},{prefix:"TableService"}),!t||t<=0)throw new Error("Geerli bir masa ID gereklidir");const n={isActive:a};await he.patch(`${this.baseUrl}/tables/${t}/status`,n),N.info("Masa durumu baaryla gncellendi",{tableId:t,isActive:a},{prefix:"TableService"})}catch(n){throw N.error("Masa durumu gncellenirken hata olutu",n,{prefix:"TableService"}),n}}async toggleTableOccupation(t,a){try{if(N.info("Masa doluluk durumu gncelleme istei",{tableId:t,isOccupied:a},{prefix:"TableService"}),!t||t<=0)throw new Error("Geerli bir masa ID gereklidir");const n={isOccupied:a};await he.patch(`${this.baseUrl}/tables/${t}/occupation`,n),N.info("Masa doluluk durumu baaryla gncellendi",{tableId:t,isOccupied:a},{prefix:"TableService"})}catch(n){throw N.error("Masa doluluk durumu gncellenirken hata olutu",n,{prefix:"TableService"}),n}}async getTableById(t){try{N.info("Masa detaylar API ars balatlyor",{tableId:t},{prefix:"TableService"});const a=await he.get(`${this.baseUrl}/tables/${t}`);return N.info("Masa detaylar alnd",a.data,{prefix:"TableService"}),a.data}catch(a){if(a?.status===404)return N.warn("Masa bulunamad (404)",{tableId:t},{prefix:"TableService"}),null;throw N.error("Masa detaylar alnrken hata olutu",a,{prefix:"TableService"}),a}}async batchUpdateTableStatus(t,a){try{if(N.info("Toplu masa durumu gncelleme istei",{tableIds:t,isActive:a},{prefix:"TableService"}),!t||t.length===0)throw new Error("En az bir masa seilmelidir");const n={tableIds:t,isActive:a},s={timeout:6e4,headers:{"Content-Type":"application/json","X-Request-Type":"batch-operation"}};await he.patch(`${this.baseUrl}/tables/batch-status`,n,s),N.info("Toplu masa durumu baaryla gncellendi",{count:t.length,isActive:a},{prefix:"TableService"})}catch(n){throw N.error("Toplu masa durumu gncellenirken hata olutu",n,{prefix:"TableService"}),n}}async getTableStatistics(){try{N.info("Masa istatistikleri API ars balatlyor",null,{prefix:"TableService"});const t=await he.get(`${this.baseUrl}/tables/statistics`);return N.info("Masa istatistikleri alnd",t.data,{prefix:"TableService"}),t.data}catch(t){throw N.error("Masa istatistikleri alnrken hata olutu",t,{prefix:"TableService"}),t}}async reorderTables(t){try{if(N.info("Masa sralama gncelleme istei",{tableOrders:t},{prefix:"TableService"}),!t||t.length===0)throw new Error("Sralanacak masa bilgisi gereklidir");const a={tableOrders:t};await he.patch(`${this.baseUrl}/tables/reorder`,a),N.info("Masa sralamas baaryla gncellendi",{count:t.length},{prefix:"TableService"})}catch(a){throw N.error("Masa sralamas gncellenirken hata olutu",a,{prefix:"TableService"}),a}}async batchDeleteTables(t){try{if(N.info("Toplu masa silme istei",{tableIds:t},{prefix:"TableService"}),!t||t.length===0)throw new Error("Silinecek masa seilmelidir");const a={tableIds:t},n={timeout:6e4,headers:{"Content-Type":"application/json","X-Request-Type":"batch-operation"}};await he.delete(`${this.baseUrl}/tables/batch`,{data:a,...n}),N.info("Toplu masa silme baaryla tamamland",{count:t.length},{prefix:"TableService"})}catch(a){throw N.error("Toplu masa silinirken hata olutu",a,{prefix:"TableService"}),a}}async clearTable(t){try{if(N.info("Masa temizleme API ars balatlyor",{tableId:t},{prefix:"TableService"}),!t||t<=0)throw new Error("Geerli bir masa ID gereklidir");const a=await he.post(`${this.baseUrl}/tables/${t}/clear`,{reason:"string"});return N.info("Masa durumu baaryla temizlendi/deitirildi",{tableId:t,message:a.data.message,endedSessions:a.data.endedSessions},{prefix:"TableService"}),a.data}catch(a){throw N.error("Masa temizlenirken hata olutu",a,{prefix:"TableService"}),a}}async getDeletedTableCategories(){try{N.info("Silinmi masa kategorileri API ars balatlyor",null,{prefix:"TableService"});const t=await he.get(`${this.baseUrl}/table-categories/deleted`);return N.info("Silinmi masa kategorileri alnd",{count:t.data.length},{prefix:"TableService"}),t.data}catch(t){return N.error("Silinmi masa kategorileri alnrken hata olutu",t,{prefix:"TableService"}),[]}}async restoreTableCategory(t){try{if(N.info("Masa kategorisi geri ykleme istei",{categoryId:t},{prefix:"TableService"}),!t||t<=0)throw new Error("Geerli bir kategori ID gereklidir");await he.post(`${this.baseUrl}/table-categories/${t}/restore`),N.info("Masa kategorisi baaryla geri yklendi",{categoryId:t},{prefix:"TableService"})}catch(a){throw N.error("Masa kategorisi geri yklenirken hata olutu",a,{prefix:"TableService"}),a}}async getDeletedTables(t){try{N.info("Silinmi masalar API ars balatlyor",{branchId:t},{prefix:"TableService"});const a=await he.get(`${this.baseUrl}/tables/deleted?branchId=${t||""}`);return N.info("Silinmi masalar alnd",{count:a.data.length},{prefix:"TableService"}),a.data}catch(a){return N.error("Silinmi masalar alnrken hata olutu",a,{prefix:"TableService"}),[]}}async restoreTable(t,a){try{if(N.info("Masa geri ykleme istei",{tableId:t},{prefix:"TableService"}),!t||t<=0)throw new Error("Geerli bir masa ID gereklidir");await he.post(`${this.baseUrl}/tables/${t}/restore?branchId=${a||""}`),N.info("Masa baaryla geri yklendi",{tableId:t},{prefix:"TableService"})}catch(n){throw N.error("Masa geri yklenirken hata olutu",n,{prefix:"TableService"}),n}}}const Fa=new Yte,Zte=({isOn:e,onToggle:t,disabled:a=!1,loading:n=!1,label:s,size:i="md"})=>{const{isRTL:o}=Ze(),d={sm:{switch:"w-10 h-5",knob:"w-4 h-4",translateX:20},md:{switch:"w-12 h-6",knob:"w-5 h-5",translateX:24},lg:{switch:"w-14 h-7",knob:"w-6 h-6",translateX:28}}[i],c=()=>o?e?`scaleX(-1) translateX(${d.translateX}px)`:"scaleX(-1) translateX(2px)":e?`translateX(${d.translateX}px)`:"translateX(2px)";return r.jsxs("button",{type:"button",onClick:t,disabled:a||n,className:`flex items-center gap-2 group ${o?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`
          ${d.switch}
          relative inline-flex items-center rounded-full
          transition-colors duration-300 ease-in-out
          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
          ${a?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          ${e?"bg-green-500":"bg-gray-600"}
        `,style:o?{transform:"scaleX(-1)"}:void 0,children:r.jsx("span",{className:`
            ${d.knob}
            inline-block rounded-full bg-white
            shadow-lg transition-transform duration-300 ease-in-out
            flex items-center justify-center
          `,style:{transform:c()},children:n&&r.jsx(mt,{className:"h-full w-full p-0.5 animate-spin text-gray-400"})})}),s&&r.jsx("span",{className:`text-sm font-medium ${e?"text-green-500":"text-gray-400"}`,children:s})]})},cD=({table:e,isEditing:t=!1,isToggling:a=!1,isClearing:n=!1,onEdit:s,onCancelEdit:i,onUpdate:o,onDelete:l,onToggleStatus:d,onToggleOccupation:c,onDownload:g,onShowQRCode:h,onTableChange:x,onClearTable:b})=>{const{t:v,isRTL:j}=Ze(),w=()=>{s&&(s.length===0?s():s(e))},S=()=>{d&&(d.length===1?d(e.id):d(e.id,!e.isActive))},M=A=>v(A?"BranchTableManagement.active":"BranchTableManagement.inactive"),T=A=>v(A?"BranchTableManagement.occupied":"BranchTableManagement.available");return r.jsxs("div",{className:"group relative bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-200/50 dark:border-gray-700/50",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-indigo-500/5 to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),r.jsx("div",{className:`absolute top-0 left-0 right-0 h-1.5 ${e.isActive?"bg-gradient-to-r from-green-400 via-emerald-500 to-teal-500":"bg-gradient-to-r from-gray-400 via-gray-500 to-gray-600"}`}),r.jsxs("div",{className:"relative p-6",children:[r.jsx("div",{className:`flex items-start justify-between mb-4 ${j?"flex-row-reverse":""}`,children:t?r.jsxs("div",{className:`flex-1 space-y-3 ${j?"ml-2":"mr-2"}`,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v("BranchTableManagement.tableNameLabel")}),r.jsx("input",{type:"text",value:e.menuTableName,onChange:A=>x&&x(e.id,{menuTableName:A.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:v("BranchTableManagement.tableNamePlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v("BranchTableManagement.capacityLabel")}),r.jsx("input",{type:"number",value:e.capacity,onChange:A=>x&&x(e.id,{capacity:parseInt(A.target.value)||1}),min:"1",className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:v("BranchTableManagement.capacityPlaceholder")})]})]}):r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:e.menuTableName}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold shadow-sm bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300 ring-1 ring-blue-500/20",children:[r.jsx(Bc,{className:"w-3.5 h-3.5"}),v("BranchTableManagement.capacityLabel"),": ",e.capacity]}),r.jsx("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold shadow-sm ${e.isActive?"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300 ring-1 ring-green-500/20":"bg-gray-100 text-gray-700 dark:bg-gray-700/40 dark:text-gray-300 ring-1 ring-gray-500/20"}`,children:e.isActive?r.jsxs(r.Fragment,{children:[r.jsx(Wl,{className:"w-3.5 h-3.5"}),v("BranchTableManagement.active")]}):r.jsxs(r.Fragment,{children:[r.jsx(Ga,{className:"w-3.5 h-3.5"}),v("BranchTableManagement.inactive")]})})]})]})}),r.jsx("div",{className:`flex gap-2 ${j?"flex-row-reverse":""}`,children:t?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>o&&o(e.id,e),className:"p-2.5 text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/50 rounded-xl transition-all duration-200 hover:scale-110 hover:shadow-md",title:v("BranchTableManagement.save"),children:r.jsx(Oa,{className:"w-5 h-5"})}),r.jsx("button",{onClick:i,className:"p-2.5 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-all duration-200 hover:scale-110 hover:shadow-md",title:v("BranchTableManagement.cancel"),children:r.jsx(Ga,{className:"w-5 h-5"})})]}):r.jsxs(r.Fragment,{children:[h&&r.jsx("button",{onClick:()=>h(e),className:"p-2.5 text-purple-600 dark:text-purple-400 hover:bg-purple-100 dark:hover:bg-purple-900/50 rounded-xl transition-all duration-200 hover:scale-110 hover:shadow-md",title:v("BranchTableManagement.showQRCode"),children:r.jsx(Jo,{className:"w-5 h-5"})}),g&&r.jsx("button",{onClick:()=>g(e),className:"p-2.5 text-purple-600 dark:text-purple-400 hover:bg-purple-100 dark:hover:bg-purple-900/50 rounded-xl transition-all duration-200 hover:scale-110 hover:shadow-md",title:v("TableCard.downloadQR"),children:r.jsx(_h,{className:"w-5 h-5"})}),s&&r.jsx("button",{onClick:w,className:"p-2.5 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/50 rounded-xl transition-all duration-200 hover:scale-110 hover:shadow-md",title:v("BranchTableManagement.edit"),children:r.jsx(Cm,{className:"w-5 h-5"})}),l&&r.jsx("button",{onClick:()=>l(e.id),className:"p-2.5 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-xl transition-all duration-200 hover:scale-110 hover:shadow-md",title:v("BranchTableManagement.delete"),children:r.jsx(wr,{className:"w-5 h-5"})})]})})]}),r.jsx("div",{className:"relative px-6 pb-6",children:r.jsxs("div",{className:"space-y-3",children:[d&&r.jsxs("div",{className:`flex items-center justify-between py-2 px-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg ${j?"flex-row-reverse":""}`,children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:v("BranchTableManagement.status")}),r.jsx(Zte,{isOn:e.isActive,onToggle:S,disabled:a,loading:a,label:M(e.isActive),size:"md"})]}),c&&r.jsxs("div",{className:`flex items-center justify-between py-2 px-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg ${j?"flex-row-reverse":""}`,children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:v("BranchTableManagement.occupation")}),r.jsxs("div",{className:`flex items-center gap-2 ${j?"flex-row-reverse":""}`,children:[e.isOccupied?r.jsx(jh,{className:"h-4 w-4 text-red-500"}):r.jsx(Bc,{className:"h-4 w-4 text-green-500"}),r.jsx("button",{onClick:()=>c(e.id,!e.isOccupied),disabled:!e.isActive||a,className:`
                    px-3 py-1 rounded-full text-xs font-medium transition-colors
                    ${e.isOccupied?"bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900/30 dark:text-red-300 dark:hover:bg-red-900/50":"bg-green-100 text-green-700 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-300 dark:hover:bg-green-900/50"}
                    disabled:opacity-50 disabled:cursor-not-allowed
                  `,children:T(e.isOccupied)})]})]}),b&&r.jsx("div",{className:"flex items-center justify-center pt-2 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("button",{onClick:()=>b(e.id),disabled:!e.isActive||n||a,className:`
                  w-full px-3 py-2 text-xs font-medium rounded-lg transition-all
                  disabled:opacity-50 disabled:cursor-not-allowed
                  flex items-center justify-center gap-2
                  ${j?"flex-row-reverse":""}
                  ${e.isOccupied?"bg-orange-500 hover:bg-orange-600 text-white shadow-sm hover:shadow-md":"bg-blue-500 hover:bg-blue-600 text-white shadow-sm hover:shadow-md"}
                `,title:e.isOccupied?v("BranchTableManagement.clearTable"):v("BranchTableManagement.refreshTable"),children:[n?r.jsx(mt,{className:"h-4 w-4 animate-spin"}):r.jsx(cs,{className:"h-4 w-4"}),r.jsx("span",{children:n?v("BranchTableManagement.clearing"):e.isOccupied?v("BranchTableManagement.clearTable"):v("BranchTableManagement.refreshTable")})]})})]})})]})},Xte=({isOn:e,onToggle:t,disabled:a=!1,loading:n=!1,size:s="md",showLabel:i=!1,onLabel:o="Active",offLabel:l="Inactive"})=>{const{isRTL:d}=Ze(),g={sm:{switch:"w-9 h-5",knob:"w-4 h-4",translateX:16},md:{switch:"w-11 h-6",knob:"w-5 h-5",translateX:20},lg:{switch:"w-14 h-7",knob:"w-6 h-6",translateX:28}}[s],h=()=>d?e?`scaleX(-1) translateX(${g.translateX}px)`:"scaleX(-1) translateX(2px)":e?`translateX(${g.translateX}px)`:"translateX(2px)";return r.jsxs("button",{type:"button",onClick:t,disabled:a||n,className:`flex items-center gap-2 group ${d?"flex-row-reverse":""}`,title:e?o:l,children:[r.jsx("div",{className:`
          ${g.switch}
          relative inline-flex items-center rounded-full
          transition-colors duration-300 ease-in-out
          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
          ${a?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          ${e?"bg-green-500 dark:bg-green-600":"bg-gray-300 dark:bg-gray-600"}
        `,style:d?{transform:"scaleX(-1)"}:void 0,children:r.jsx("span",{className:`
            ${g.knob}
            rounded-full bg-white
            shadow-lg transition-transform duration-300 ease-in-out
            flex items-center justify-center
          `,style:{transform:h()},children:n&&r.jsx(mt,{className:"h-3 w-3 animate-spin text-gray-400"})})}),i&&r.jsx("span",{className:`
            text-xs font-medium transition-colors whitespace-nowrap
            ${e?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}
            ${a?"opacity-50":""}
          `,children:e?o:l})]})},Jte=({category:e,tables:t,isExpanded:a,isEditing:n,isToggling:s,editingTable:i,showAddTable:o,toggleLoading:l,onToggleExpansion:d,onStartEditing:c,onCancelEditing:g,onUpdateCategory:h,onDeleteCategory:x,onToggleCategoryStatus:b,onCategoryChange:v,onShowAddTable:j,onHideAddTable:w,onAddTable:S,onStartTableEdit:M,onCancelTableEdit:T,onUpdateTable:A,onDeleteTable:I,onToggleTableStatus:_,onToggleTableOccupation:D,onShowQRCode:E,onTableChange:X,newTable:ee,onNewTableChange:Z,onClearTable:B})=>{const{t:G,isRTL:J}=Ze(),ce=te=>{const Y={table:Ws,users:$r,grid:Hs,building:Hs,settings:qa}[te]||Ws;return r.jsx(Y,{className:"h-4 w-4"})};return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>!n&&d(e.id),children:r.jsxs("div",{className:`flex items-center justify-between ${J?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-4 ${J?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-2 ${J?"flex-row-reverse":""}`,children:[a?r.jsx(Rr,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}):r.jsx(Wm,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}),r.jsx("div",{className:"p-2 rounded-lg flex items-center justify-center",style:{backgroundColor:`${e.colorCode}20`,color:e.colorCode},children:ce(e.iconClass)})]}),n?r.jsxs("div",{className:`flex items-center gap-3 ${J?"flex-row-reverse":""}`,children:[r.jsx("input",{type:"text",value:e.categoryName,onChange:te=>v(e.id,{categoryName:te.target.value}),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",onClick:te=>te.stopPropagation(),placeholder:G("BranchTableManagement.categoryNamePlaceholder")}),r.jsx("input",{title:"colorCode",type:"color",value:e.colorCode,onChange:te=>v(e.id,{colorCode:te.target.value}),className:"w-8 h-8 border border-gray-300 dark:border-gray-600 rounded cursor-pointer",onClick:te=>te.stopPropagation()})]}):r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.categoryName}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.length," ",G("BranchTableManagement.tablesCount")]})]})]}),r.jsxs("div",{className:`flex items-center gap-3 ${J?"flex-row-reverse":""}`,children:[r.jsx("div",{onClick:te=>te.stopPropagation(),className:"flex items-center",children:r.jsx(Xte,{isOn:e.isActive,onToggle:()=>b(e.id,!e.isActive),disabled:s,loading:s,size:"md",showLabel:!0,onLabel:G("BranchTableManagement.active"),offLabel:G("BranchTableManagement.inactive")})}),n?r.jsxs("div",{className:`flex gap-1 ${J?"flex-row-reverse":""}`,children:[r.jsx("button",{onClick:te=>{te.stopPropagation(),h(e.id,e)},className:"p-1.5 text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded transition-colors",title:G("BranchTableManagement.save"),children:r.jsx(Oa,{className:"h-5 w-5"})}),r.jsx("button",{onClick:te=>{te.stopPropagation(),g()},className:"p-1.5 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:G("BranchTableManagement.cancel"),children:r.jsx(Ga,{className:"h-5 w-5"})})]}):r.jsxs("div",{className:`flex gap-1 ${J?"flex-row-reverse":""}`,children:[r.jsx("button",{onClick:te=>{te.stopPropagation(),c(e.id)},className:"p-1.5 text-yellow-600 hover:text-yellow-800 dark:text-yellow-400 dark:hover:text-yellow-300 hover:bg-yellow-50 dark:hover:bg-yellow-900/30 rounded transition-colors",title:G("BranchTableManagement.edit"),children:r.jsx(Cm,{className:"h-5 w-5"})}),r.jsx("button",{onClick:te=>{te.stopPropagation(),x(e.id)},className:"p-1.5 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded transition-colors",title:G("BranchTableManagement.delete"),children:r.jsx(wr,{className:"h-5 w-5"})})]})]})]})}),a&&r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:[r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("button",{onClick:()=>j(e.id),className:`px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600 flex items-center gap-2 text-sm transition-colors shadow-sm ${J?"flex-row-reverse":""}`,children:[r.jsx(Ut,{className:"h-4 w-4"}),G("BranchTableManagement.addTable")]})}),o===e.id&&r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-blue-50 dark:bg-blue-900/20",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:G("BranchTableManagement.tableNameLabel")}),r.jsx("input",{type:"text",value:ee.menuTableName,onChange:te=>Z({menuTableName:te.target.value}),placeholder:G("BranchTableManagement.tableNamePlaceholder"),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:G("BranchTableManagement.capacityLabel")}),r.jsx("input",{type:"number",value:ee.capacity,onChange:te=>Z({capacity:parseInt(te.target.value)||1}),placeholder:G("BranchTableManagement.capacityPlaceholder"),min:"1",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{className:`flex gap-2 items-end ${J?"flex-row-reverse":""}`,children:[r.jsxs("button",{onClick:()=>S(e.id),className:`px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 dark:bg-green-700 dark:hover:bg-green-600 flex items-center gap-2 transition-colors shadow-sm ${J?"flex-row-reverse":""}`,children:[r.jsx(Oa,{className:"h-4 w-4"}),G("BranchTableManagement.save")]}),r.jsxs("button",{onClick:w,className:`px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-500 flex items-center gap-2 transition-colors shadow-sm ${J?"flex-row-reverse":""}`,children:[r.jsx(Ga,{className:"h-4 w-4"}),G("BranchTableManagement.cancel")]})]})]})}),r.jsx("div",{className:"p-4",children:t.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ws,{className:"h-8 w-8 text-gray-400 dark:text-gray-500 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:G("BranchTableManagement.noTables")})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(te=>r.jsx(cD,{table:te,onClearTable:B,isEditing:i===te.id,isToggling:l.tables.has(te.id),onEdit:()=>M(te.id),onCancelEdit:T,onUpdate:A,onDelete:I,onToggleStatus:_,onToggleOccupation:D,onShowQRCode:E,onTableChange:X},te.id))})})]})]})},ere=({selectedIcon:e,onSelect:t,isRTL:a})=>{const{t:n}=Ze(),s={building:{component:aa,label:"Salon"},terrace:{component:ZH,label:"Terrace"},garden:{component:JH,label:"Garden"},rooftop:{component:tW,label:"Rooftop"},lounge:{component:DO,label:"Lounge"},utensils:{component:nl,label:"Dining"},coffee:{component:FO,label:"Cafe"},store:{component:hi,label:"Store"},home:{component:Yd,label:"Home"},users:{component:$r,label:"Event Space"}};return r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n("BranchTableManagement.iconLabel")}),r.jsx("div",{className:"grid grid-cols-5 gap-2",children:Object.entries(s).map(([i,{component:o,label:l}])=>r.jsxs("button",{type:"button",onClick:()=>t(i),className:`
              p-3 rounded-lg border-2 transition-all duration-200
              flex flex-col items-center gap-1
              ${e===i?"border-blue-500 bg-blue-50 dark:bg-blue-900/30":"border-gray-300 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-700"}
            `,title:l,children:[r.jsx(o,{className:`h-5 w-5 ${e===i?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`}),r.jsx("span",{className:`text-xs ${e===i?"text-blue-600 dark:text-blue-400 font-medium":"text-gray-500 dark:text-gray-400"}`,children:l})]},i))})]})},tre=({isOpen:e,onClose:t,table:a,qrCodeImageUrl:n})=>{const{t:s}=Ze(),[i,o]=p.useState(!1),[l,d]=p.useState(!1);if(!e)return null;const c=()=>`${window.location.origin}/table/qr/${a.qrCode}`,g=async()=>{o(!0);try{const b=await(await fetch(n)).blob(),v=window.URL.createObjectURL(b),j=document.createElement("a");j.href=v,j.download=`table-${a.menuTableName}-qr.png`,document.body.appendChild(j),j.click(),window.URL.revokeObjectURL(v),document.body.removeChild(j)}catch(x){console.error("Error downloading QR code:",x)}finally{o(!1)}},h=async()=>{d(!0);try{await navigator.clipboard.writeText(c()),setTimeout(()=>d(!1),2e3)}catch(x){console.error("Error copying URL:",x),d(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s("BranchTableManagement.qrCodeTitle",{tableName:a.menuTableName})}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(xt,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"bg-white p-4 rounded-xl border-2 border-gray-200 inline-block",children:r.jsx("img",{src:n,alt:s("BranchTableManagement.qrCodeTitle",{tableName:a.menuTableName}),className:"w-48 h-48 mx-auto",onError:x=>{x.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMDAgNzBDOTQuNDc3MiA3MCA5MCA3NC40NzcyIDkwIDgwVjEyMEM5MCA5NC40NzcyIDk0LjQ3NzIgOTAgMTAwIDkwSDE0MEM5NC40NzcyIDkwIDkwIDk0LjQ3NzIgOTAgMTAwVjE0MEg5MFY4MEg5MFY3MEgxMDBaIiBmaWxsPSIjOUI5QkEwIi8+Cjx0ZXh0IHg9IjEwMCIgeT0iMTMwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5QjlCQTAiIHRleHQtYW5jaG9yPSJtaWRkbGUiPk5vIFFSIENvZGU8L3RleHQ+Cjwvc3ZnPgo="}})}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-3",children:s("BranchTableManagement.qrCodeDescription")})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:g,disabled:i,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[i?r.jsx(mt,{className:"h-4 w-4 animate-spin"}):r.jsx(Ws,{className:"h-4 w-4"}),s(i?"BranchTableManagement.downloading":"BranchTableManagement.downloadQR")]}),r.jsx("button",{onClick:h,className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center gap-2",children:l?r.jsxs(r.Fragment,{children:[r.jsx(tr,{className:"h-4 w-4 text-green-600"}),s("BranchTableManagement.copied")]}):r.jsxs(r.Fragment,{children:[r.jsx(Ws,{className:"h-4 w-4"}),s("BranchTableManagement.copyQRUrl")]})})]})]})})},rre=()=>{const{t:e,isRTL:t}=Ze(),[a,n]=p.useState([]),[s,i]=p.useState([]),[o,l]=p.useState(new Set),[d,c]=p.useState(null),[g,h]=p.useState(null),[x,b]=p.useState(""),[v,j]=p.useState(!1),[w,S]=p.useState(!1),[M,T]=p.useState(null),[A,I]=p.useState(null),[_,D]=p.useState(!1),[E,X]=p.useState(null),[ee,Z]=p.useState(!1),[B,G]=p.useState(null),[J,ce]=p.useState(null),te=Ra(),[K,Y]=p.useState({isOpen:!1,table:null}),[re,ne]=p.useState({categories:new Set,tables:new Set}),[z,V]=p.useState({categoryName:"",colorCode:"#3b82f6",iconClass:"table",isActive:!0}),[F,$]=p.useState({menuTableName:"",capacity:4,isActive:!0}),[q,H]=p.useState([{categoryId:0,quantity:1,capacity:4,displayOrder:null,isActive:!0}]),[Q,de]=p.useState(!1),[me,je]=p.useState(new Set);p.useEffect(()=>{Le(),ut()},[]),p.useEffect(()=>{if(A||M){const Ce=setTimeout(()=>{I(null),T(null)},5e3);return()=>clearTimeout(Ce)}},[A,M]);const fe=Ce=>{if(!Ce)return"";const be=`${window.location.origin}/table/qr/${Ce}`;return`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(be)}`},se=Ce=>s.filter(we=>we.menuTableCategoryId===Ce),ie=a.filter(Ce=>Ce.categoryName.toLowerCase().includes(x.toLowerCase())),ue=()=>{H(Ce=>[...Ce,{categoryId:0,quantity:1,capacity:4,displayOrder:null,isActive:!0}])},le=Ce=>{H(we=>we.filter((be,Ie)=>Ie!==Ce))},xe=async Ce=>{je(we=>new Set(we).add(Ce));try{const we=await Fa.clearTable(Ce);i(be=>be.map(Ie=>Ie.id===Ce?{...Ie,isOccupied:!1}:Ie)),I(we.message||"Table cleared successfully"),await Le()}catch(we){console.error("Error clearing table:",we),we.status===415?T("Server configuration error. Please contact support."):we.status===404?T("Table not found. Please refresh the page."):we.status===400?T("Invalid table operation. Please try again."):T("Failed to clear table. Please try again.")}finally{je(we=>{const be=new Set(we);return be.delete(Ce),be})}},ze=(Ce,we,be)=>{H(Ie=>Ie.map((Se,_e)=>_e===Ce?{...Se,[we]:be}:Se))},Le=async()=>{j(!0),T(null);try{const Ce=await Fa.getCategories(!0,!0);n(Ce),Ce.length>0&&l(new Set([Ce[0].id]))}catch(Ce){console.error("Error fetching categories:",Ce),T(Ce.response.data.message)}finally{j(!1)}},ut=async()=>{T(null);try{const we=(await Fa.getTables(void 0,!1,!0)).map(be=>({...be,qrCode:be.qrCode||"",qrCodeImageUrl:be.qrCode?fe(be.qrCode):"",displayOrder:be.displayOrder??0}));i(we)}catch(Ce){console.error("Error fetching tables:",Ce),T(Ce.response.data.message)}},kt=async()=>{j(!0);try{await Promise.all([Le(),ut()]),I(e("BranchTableManagement.success.dataRefreshed"))}catch(Ce){T(Ce.response.data.message)}finally{j(!1)}},qt=async()=>{const Ce=q.filter(we=>we.categoryId>0&&we.quantity>0&&we.capacity>0);if(Ce.length===0){T(e("BranchTableManagement.error.addTableFailed")),ce(e("BranchTableManagement.error.addTableFailed"));return}ce(null),de(!0);try{const we={items:Ce};await Fa.createBatchTables(we),await ut(),await Le(),Z(!1),H([{categoryId:0,quantity:1,capacity:4,displayOrder:null,isActive:!0}]),I(e("BranchTableManagement.success.tableAdded"))}catch(we){console.error("Error creating batch tables:",we),ce(we.response.data.message)}finally{de(!1)}},hr=Ce=>{const we=new Set(o);we.has(Ce)?we.delete(Ce):we.add(Ce),l(we)},jr=async(Ce,we)=>{ne(Se=>({...Se,categories:new Set(Se.categories).add(Ce)}));const be=a.find(Se=>Se.id===Ce);if(!be){console.error("Category not found for status toggle:",{categoryId:Ce}),ne(Se=>{const _e=new Set(Se.categories);return _e.delete(Ce),{...Se,categories:_e}});return}const Ie=[...a];n(Se=>Se.map(_e=>_e.id===Ce?{..._e,isActive:we}:_e));try{const Se={id:be.id,displayOrder:be.displayOrder,categoryName:be.categoryName,colorCode:be.colorCode,iconClass:be.iconClass,isActive:we,rowVersion:be.rowVersion||""};await Fa.updateCategory(Ce,Se),I(e(`BranchTableManagement.success.category${we?"Activated":"Deactivated"}`))}catch(Se){console.error("Error updating category status:",Se),n(Ie),T(Se.response.data.message)}finally{ne(Se=>{const _e=new Set(Se.categories);return _e.delete(Ce),{...Se,categories:_e}})}},nt=async(Ce,we)=>{ne(Ie=>({...Ie,tables:new Set(Ie.tables).add(Ce)}));const be=s.find(Ie=>Ie.id===Ce);if(!be){console.error("Table not found for status toggle:",{tableId:Ce}),ne(Ie=>{const Se=new Set(Ie.tables);return Se.delete(Ce),{...Ie,tables:Se}});return}try{const Ie={id:be.id,menuTableName:be.menuTableName,menuTableCategoryId:be.menuTableCategoryId,capacity:be.capacity,isActive:we,isOccupied:be.isOccupied,rowVersion:be.rowVersion||""};await Fa.updateTable(Ce,Ie),await ut(),I(e(`BranchTableManagement.success.table${we?"Activated":"Deactivated"}`))}catch(Ie){console.error("Error updating table status:",Ie),T(Ie.response.data.message)}finally{ne(Ie=>{const Se=new Set(Ie.tables);return Se.delete(Ce),{...Ie,tables:Se}})}},rt=async(Ce,we)=>{ne(Ie=>({...Ie,tables:new Set(Ie.tables).add(Ce)}));const be=[...s];i(Ie=>Ie.map(Se=>Se.id===Ce?{...Se,isOccupied:we}:Se));try{await Fa.toggleTableOccupation(Ce,we),I(e(`BranchTableManagement.success.table${we?"Occupied":"Available"}`))}catch(Ie){console.error("Error updating table occupation:",Ie),i(be),T(Ie.response.data.message)}finally{ne(Ie=>{const Se=new Set(Ie.tables);return Se.delete(Ce),{...Ie,tables:Se}})}},Pr=async()=>{if(!z.categoryName.trim()){T(e("BranchTableManagement.error.categoryNameRequired"));return}const Ce={categoryName:z.categoryName,colorCode:z.colorCode,iconClass:z.iconClass,displayOrder:a.length,isActive:z.isActive};S(!0),G(null);try{await Fa.createCategory(Ce),await Le(),V({categoryName:"",colorCode:"#3b82f6",iconClass:"table",isActive:!0}),D(!1),I(e("BranchTableManagement.success.categoryAdded"))}catch(we){console.error("Error adding category:",we),(we.status||we.response?.status)===409?(G(we.response.data.message),T(we.response.data.message)):(T(we.response.data.message),G(we.response.data.message))}finally{S(!1)}},Ht=async(Ce,we)=>{try{const be=a.find(Se=>Se.id===Ce);if(!be){T(e("BranchTableManagement.error.categoryNotFound"));return}const Ie={id:Ce,displayOrder:be.displayOrder,categoryName:we.categoryName||be.categoryName,colorCode:we.colorCode||be.colorCode,iconClass:we.iconClass||be.iconClass,isActive:we.isActive!==void 0?we.isActive:be.isActive,rowVersion:be.rowVersion||""};await Fa.updateCategory(Ce,Ie),await Le(),c(null),I(e("BranchTableManagement.success.categoryUpdated"))}catch(be){console.error("Error updating category:",be),T(be.response.data.message)}},Wt=async Ce=>{if(se(Ce).length>0){T(e("BranchTableManagement.error.categoryHasTables"));return}try{await Fa.deleteCategory(Ce),await Le(),I(e("BranchTableManagement.success.categoryDeleted"))}catch(be){console.error("Error deleting category:",be),T(be.response.data.message)}},ge=async Ce=>{if(!F.menuTableName.trim()){T(e("BranchTableManagement.error.tableNameRequired"));return}const we={menuTableName:F.menuTableName,menuTableCategoryId:Ce,capacity:F.capacity,displayOrder:se(Ce).length,isActive:F.isActive};try{const be=await Fa.createTable(we);await ut(),await Le(),$({menuTableName:"",capacity:4,isActive:!0}),X(null),I(e("BranchTableManagement.success.tableAdded"))}catch(be){console.error("Error adding table:",be),T(be.response.data.message)}},ye=async(Ce,we)=>{try{const be=s.find(Se=>Se.id===Ce);if(!be){T(e("BranchTableManagement.error.tableNotFound"));return}const Ie={id:Ce,menuTableName:we.menuTableName||be.menuTableName,menuTableCategoryId:we.menuTableCategoryId||be.menuTableCategoryId,capacity:we.capacity||be.capacity,isActive:we.isActive!==void 0?we.isActive:be.isActive,isOccupied:we.isOccupied!==void 0?we.isOccupied:be.isOccupied,rowVersion:be.rowVersion||""};await Fa.updateTable(Ce,Ie),await ut(),h(null),I(e("BranchTableManagement.success.tableUpdated"))}catch(be){console.error("Error updating table:",be),T(be.response.data.message)}},Be=async Ce=>{try{await Fa.deleteTable(Ce),await ut(),await Le(),I(e("BranchTableManagement.success.tableDeleted"))}catch(we){console.error("Error deleting table:",we),T(we.response.data.message)}},Qe=Ce=>{Y({isOpen:!0,table:Ce})},pt=()=>{Y({isOpen:!1,table:null})};return r.jsx("div",{className:`min-h-screen bg-gray-50 dark:bg-gray-900 ${t?"rtl":"ltr"}`,children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("BranchTableManagement.header")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:e("BranchTableManagement.subheader")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center ",children:[r.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:r.jsx(Hs,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:`${t?"mr-4":"ml-4"}`,children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:e("BranchTableManagement.totalCategories")}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.length})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center ",children:[r.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:r.jsx(Ws,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:`${t?"mr-4":"ml-4"}`,children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:e("BranchTableManagement.totalTables")}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.length})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center ",children:[r.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 rounded-lg",children:r.jsx(jh,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:`${t?"mr-4":"ml-4"}`,children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:e("BranchTableManagement.occupiedTables")}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.filter(Ce=>Ce.isOccupied).length})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:r.jsxs("div",{className:"flex items-center ",children:[r.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsx(Bc,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{className:`${t?"mr-4":"ml-4"}`,children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:e("BranchTableManagement.availableTables")}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.filter(Ce=>Ce.isActive&&!Ce.isOccupied).length})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:r.jsxs("div",{className:`flex flex-col lg:flex-row gap-4 justify-between ${t?"lg:flex-row-reverse":""}`,children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Bn,{className:`absolute ${t?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 h-4 w-4`}),r.jsx("input",{type:"text",placeholder:e("BranchTableManagement.searchPlaceholder"),value:x,onChange:Ce=>b(Ce.target.value),className:`w-full ${t?"pr-10 pl-4":"pl-10 pr-4"} py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400`})]})}),r.jsxs("div",{className:`flex gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsxs("button",{onClick:kt,disabled:v,className:`px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 flex items-center gap-2 transition-colors ${t?"flex-row-reverse":""}`,children:[r.jsx(cs,{className:`h-4 w-4 ${v?"animate-spin":""}`}),e("BranchTableManagement.refresh")]}),r.jsxs("button",{onClick:()=>{if(a.length===0){T(e("BranchTableManagement.error.createCategoryFirst")||"Please create a category first.");return}Z(!0),ce(null)},disabled:v,className:`px-4 py-2 bg-green-600 dark:bg-green-700 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-600 flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${t?"flex-row-reverse":""}`,children:[r.jsx(zO,{className:"h-4 w-4"}),e("BranchTableManagement.batchCreateTables")]}),r.jsxs("button",{onClick:()=>{D(!0),G(null)},disabled:v,className:`px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${t?"flex-row-reverse":""}`,children:[r.jsx(Ut,{className:"h-4 w-4"}),e("BranchTableManagement.addCategory")]}),r.jsxs("button",{onClick:()=>{te("/dashboard/RecycleBin",{state:{source:"tableCategories"}})},className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors duration-200",children:[r.jsx(wr,{className:"h-4 w-4"}),r.jsx("span",{children:e("productsContent.actions.RecycleBin")})]})]})]})}),M&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${t?"flex-row-reverse":""}`,children:[r.jsx(Nt,{className:`h-5 w-5 text-red-600 dark:text-red-400 ${t?"ml-2":"mr-2"}`}),r.jsx("span",{className:"text-red-700 dark:text-red-300",children:M})]}),r.jsx("button",{onClick:()=>T(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200",children:r.jsx(xt,{className:"h-4 w-4"})})]})}),A&&r.jsx("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${t?"flex-row-reverse":""}`,children:[r.jsx(tr,{className:`h-5 w-5 text-green-600 dark:text-green-400 ${t?"ml-2":"mr-2"}`}),r.jsx("span",{className:"text-green-700 dark:text-green-300",children:A})]}),r.jsx("button",{onClick:()=>I(null),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200",children:r.jsx(xt,{className:"h-4 w-4"})})]})}),_&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:e("BranchTableManagement.addCategoryTitle")}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("BranchTableManagement.categoryNameLabel")}),r.jsx("input",{type:"text",value:z.categoryName,onChange:Ce=>V(we=>({...we,categoryName:Ce.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:e("BranchTableManagement.categoryNamePlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("BranchTableManagement.colorLabel")}),r.jsxs("div",{className:`flex gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsx("input",{type:"color",title:"colorCode",value:z.colorCode,onChange:Ce=>V(we=>({...we,colorCode:Ce.target.value})),className:"w-12 h-10 border border-gray-300 dark:border-gray-600 rounded-lg"}),r.jsx("input",{type:"text",title:"colorCode",value:z.colorCode,onChange:Ce=>V(we=>({...we,colorCode:Ce.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),r.jsx(ere,{selectedIcon:z.iconClass,onSelect:Ce=>V(we=>({...we,iconClass:Ce})),isRTL:t}),r.jsxs("div",{className:`flex items-end gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsxs("button",{onClick:Pr,disabled:w,className:`px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[w?r.jsx(mt,{className:"h-4 w-4 animate-spin"}):r.jsx(Oa,{className:"h-4 w-4"}),e(w?"BranchTableManagement.saving":"BranchTableManagement.save")]}),r.jsxs("button",{onClick:()=>D(!1),disabled:w,className:`px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsx(Ga,{className:"h-4 w-4"}),e("BranchTableManagement.cancel")]})]})]})]}),ee&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e("BranchTableManagement.batchCreateTables")}),J&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${t?"flex-row-reverse":""}`,children:[r.jsx(Nt,{className:`h-5 w-5 text-red-600 dark:text-red-400 ${t?"ml-2":"mr-2"}`}),r.jsx("span",{className:"text-red-700 dark:text-red-300",children:J})]}),r.jsx("button",{onClick:()=>ce(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200",children:r.jsx(xt,{className:"h-4 w-4"})})]})}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e("BranchTableManagement.multiCategory")})]}),r.jsx("button",{onClick:()=>Z(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(xt,{className:"h-6 w-6"})})]}),r.jsx("div",{className:"space-y-4 mb-6",children:q.map((Ce,we)=>r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:[e("BranchTableManagement.category")," ",we+1]}),q.length>1&&r.jsx("button",{onClick:()=>le(we),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(xt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("BranchTableManagement.category")}),r.jsxs("select",{title:"categoryId",value:Ce.categoryId,onChange:be=>ze(we,"categoryId",parseInt(be.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-600 text-gray-900 dark:text-white",children:[r.jsx("option",{value:0,children:e("BranchTableManagement.SelectCategory")}),a.filter(be=>be.isActive).map(be=>r.jsx("option",{value:be.id,children:be.categoryName},be.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("BranchTableManagement.Quantity")}),r.jsx("input",{title:"quantity",type:"number",min:"1",max:"50",value:Ce.quantity,onChange:be=>ze(we,"quantity",parseInt(be.target.value)||1),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-600 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("BranchTableManagement.Capacity")}),r.jsx("input",{title:"capacity",type:"number",min:"1",max:"20",value:Ce.capacity,onChange:be=>ze(we,"capacity",parseInt(be.target.value)||1),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-600 text-gray-900 dark:text-white"})]})]})]},we))}),r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("button",{onClick:ue,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center gap-2",children:[r.jsx(Ut,{className:"h-4 w-4"}),e("BranchTableManagement.addCategoryTitle")]})}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx("button",{onClick:()=>Z(!1),disabled:Q,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:opacity-50",children:e("BranchTableManagement.cancel")}),r.jsxs("button",{onClick:qt,disabled:Q,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[Q?r.jsx(mt,{className:"h-4 w-4 animate-spin"}):r.jsx(Ws,{className:"h-4 w-4"}),e(Q?"BranchTableManagement.creatingTables":"BranchTableManagement.createTables")]})]})]})})}),v?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(mt,{className:"h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("BranchTableManagement.loading")})]}):r.jsx("div",{className:"space-y-4",children:ie.map(Ce=>r.jsx(Jte,{onClearTable:xe,category:Ce,tables:se(Ce.id),isExpanded:o.has(Ce.id),isEditing:d===Ce.id,isToggling:re.categories.has(Ce.id),editingTable:g,showAddTable:E,toggleLoading:re,onToggleExpansion:hr,onStartEditing:c,onCancelEditing:()=>c(null),onUpdateCategory:Ht,onDeleteCategory:Wt,onToggleCategoryStatus:jr,onCategoryChange:(we,be)=>{n(Ie=>Ie.map(Se=>Se.id===we?{...Se,...be}:Se))},onShowAddTable:X,onHideAddTable:()=>X(null),onAddTable:ge,onStartTableEdit:h,onCancelTableEdit:()=>h(null),onUpdateTable:ye,onDeleteTable:Be,onToggleTableStatus:nt,onToggleTableOccupation:rt,onShowQRCode:Qe,onTableChange:(we,be)=>{i(Ie=>Ie.map(Se=>Se.id===we?{...Se,...be}:Se))},newTable:F,onNewTableChange:we=>$(be=>({...be,...we}))},Ce.id))}),!v&&ie.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Hs,{className:"h-12 w-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:e("BranchTableManagement.noCategories")}),r.jsx("button",{onClick:()=>D(!0),className:"px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors",children:e("BranchTableManagement.addFirstCategory")})]}),K.table&&r.jsx(tre,{isOpen:K.isOpen,onClose:pt,table:K.table,qrCodeImageUrl:fe(K.table.qrCode||"")})]})})};class are{baseUrl="/api/OrderTypes";async getOrderTypes(t){try{const a=t?`${this.baseUrl}?branchId=${t}`:this.baseUrl;N.info("OrderType listesi getirme istei gnderiliyor",{branchId:t},{prefix:"OrderTypeService"});const n=await he.get(a);N.info("OrderType API Raw Response:",n,{prefix:"OrderTypeService"}),N.info("OrderType API Response Data:",n.data,{prefix:"OrderTypeService"});let s=[];if(Array.isArray(n.data))s=n.data;else if(n.data&&typeof n.data=="object"&&"data"in n.data){const i=n.data.data;Array.isArray(i)?s=i:i&&(s=[i])}else n.data&&(s=[n.data]);return N.info("OrderType listesi baaryla alnd",{branchId:t,orderTypeCount:s.length,orderTypes:s.map(i=>({id:i.id,name:i.name,code:i.code,isActive:i.isActive,isStandard:i.isStandard,activeOrderCount:i.activeOrderCount}))},{prefix:"OrderTypeService"}),s}catch(a){N.error("OrderType listesi getirme hatas",a,{prefix:"OrderTypeService"}),N.error("Error response:",a?.response,{prefix:"OrderTypeService"}),N.error("Error response data:",a?.response?.data,{prefix:"OrderTypeService"}),this.handleError(a,"OrderType listesi getirilirken hata olutu")}}async getOrderTypesBySessionId(){try{N.info("Session OrderType listesi getirme istei gnderiliyor",{prefix:"OrderTypeService"});const t=await he.get(`${this.baseUrl}/GetOrderTypesBySessionId`);N.info("Session OrderType API Raw Response:",t,{prefix:"OrderTypeService"}),N.info("Session OrderType API Response Data:",t.data,{prefix:"OrderTypeService"});let a=[];if(Array.isArray(t.data))a=t.data;else if(t.data&&typeof t.data=="object"&&"data"in t.data){const n=t.data.data;Array.isArray(n)?a=n:n&&(a=[n])}else t.data&&(a=[t.data]);return N.info("Session OrderType listesi baaryla alnd",{orderTypeCount:a.length,orderTypes:a.map(n=>({id:n.id,name:n.name,code:n.code,isActive:n.isActive,branchId:n.branchId,requiresTable:n.requiresTable,requiresAddress:n.requiresAddress,requiresPhone:n.requiresPhone,serviceCharge:n.serviceCharge,estimatedMinutes:n.estimatedMinutes}))},{prefix:"OrderTypeService"}),a}catch(t){N.error("Session OrderType listesi getirme hatas",t,{prefix:"OrderTypeService"}),N.error("Error response:",t?.response,{prefix:"OrderTypeService"}),N.error("Error response data:",t?.response?.data,{prefix:"OrderTypeService"}),this.handleError(t,"Session OrderType listesi getirilirken hata olutu")}}async getOrderTypesByOnlineSessionId(){try{N.info("Online Session OrderType listesi getirme istei gnderiliyor",{prefix:"OrderTypeService"});const t=await he.get("/api/OrderTypes/GetOrderTypesByOnlineSessionId");N.info("Online Session OrderType API Raw Response:",t,{prefix:"OrderTypeService"}),N.info("Online Session OrderType API Response Data:",t.data,{prefix:"OrderTypeService"});let a=[];if(Array.isArray(t.data))a=t.data;else if(t.data&&typeof t.data=="object"&&"data"in t.data){const n=t.data.data;Array.isArray(n)?a=n:n&&(a=[n])}else t.data&&(a=[t.data]);return N.info("Online Session OrderType listesi baaryla alnd",{orderTypeCount:a.length,orderTypes:a.map(n=>({id:n.id,name:n.name,code:n.code,isActive:n.isActive,branchId:n.branchId,requiresName:n.requiresName,requiresTable:n.requiresTable,requiresAddress:n.requiresAddress,requiresPhone:n.requiresPhone,minOrderAmount:n.minOrderAmount,serviceCharge:n.serviceCharge,estimatedMinutes:n.estimatedMinutes}))},{prefix:"OrderTypeService"}),a}catch(t){N.error("Online Session OrderType listesi getirme hatas",t,{prefix:"OrderTypeService"}),N.error("Error response:",t?.response,{prefix:"OrderTypeService"}),N.error("Error response data:",t?.response?.data,{prefix:"OrderTypeService"}),this.handleError(t,"Online Session OrderType listesi getirilirken hata olutu")}}async getOrderTypeById(t){try{N.info("OrderType detay getirme istei gnderiliyor",{id:t},{prefix:"OrderTypeService"});const a=await he.get(`${this.baseUrl}/${t}`);return N.info("OrderType detay baaryla alnd",a.data,{prefix:"OrderTypeService"}),a.data.data}catch(a){N.error("OrderType detay getirme hatas",a,{prefix:"OrderTypeService"}),this.handleError(a,"OrderType detay getirilirken hata olutu")}}async updateOrderType(t,a){try{N.info("OrderType gncelleme istei gnderiliyor",{id:t,data:a},{prefix:"OrderTypeService"});const n={id:a.id,name:a.name?.trim()||"",code:a.code?.trim()||"",description:a.description?.trim()||"",icon:a.icon?.trim()||"",isActive:a.isActive,displayOrder:a.displayOrder||0,requiresName:a.requiresName,requiresTable:a.requiresTable,requiresAddress:a.requiresAddress,requiresPhone:a.requiresPhone,minOrderAmount:a.minOrderAmount||0,serviceCharge:a.serviceCharge||0,estimatedMinutes:a.estimatedMinutes||0,rowVersion:a.rowVersion},s=await he.put(`${this.baseUrl}/${t}`,n);return N.info("OrderType baaryla gncellendi",s.data,{prefix:"OrderTypeService"}),s.data.data}catch(n){N.error("OrderType gncelleme hatas",n,{prefix:"OrderTypeService"}),n.response?.data?.errors&&N.error("API Validation Hatalar:",n.response.data.errors,{prefix:"OrderTypeService"}),this.handleError(n,"OrderType gncellenirken hata olutu")}}async deleteOrderType(t){try{N.info("OrderType silme istei gnderiliyor",{id:t},{prefix:"OrderTypeService"}),await he.delete(`${this.baseUrl}/${t}`),N.info("OrderType baaryla silindi",{id:t},{prefix:"OrderTypeService"})}catch(a){N.error("OrderType silme hatas",a,{prefix:"OrderTypeService"}),this.handleError(a,"OrderType silinirken hata olutu")}}async updateOrderTypeSettings(t,a){try{N.info("OrderType ayarlar gncelleme istei gnderiliyor",{id:t,data:a},{prefix:"OrderTypeService"});const n=await he.put(`${this.baseUrl}/${t}/settings`,a);let s=null;if((n.status===204||n.status===200)&&(n.data===""||n.data===null||n.data===void 0))return s={id:a.id,isActive:a.isActive,minOrderAmount:a.minOrderAmount,serviceCharge:a.serviceCharge,estimatedMinutes:a.estimatedMinutes,requiresName:a.requiresName,requiresTable:a.requiresTable,requiresAddress:a.requiresAddress,requiresPhone:a.requiresPhone,rowVersion:this.generateNewRowVersion(a.rowVersion),updatedAt:new Date().toISOString(),name:void 0,code:void 0,description:void 0,icon:void 0},N.info("Created mock OrderType from successful empty response",s,{prefix:"OrderTypeService"}),s;if(n.data)if(typeof n.data=="object"&&!Array.isArray(n.data)&&"id"in n.data&&"rowVersion"in n.data)s=n.data;else if("data"in n.data&&n.data.data){const i=n.data.data;typeof i=="object"&&!Array.isArray(i)&&"id"in i&&"rowVersion"in i&&(s=i)}else"isSuccess"in n.data&&n.data.data&&typeof n.data.data=="object"&&!Array.isArray(n.data.data)&&(s=n.data.data);if(!s)throw N.error("Invalid API response structure:",{responseData:n.data,responseStatus:n.status,responseType:typeof n.data,isArray:Array.isArray(n.data)},{prefix:"OrderTypeService"}),new Error("Sunucudan geersiz yant alnd - ltfen yant yapsn kontrol edin");return N.info("OrderType ayarlar baaryla gncellendi",s,{prefix:"OrderTypeService"}),s}catch(n){N.error("OrderType ayarlar gncelleme hatas",n,{prefix:"OrderTypeService"}),N.error("Error response:",n?.response,{prefix:"OrderTypeService"}),N.error("Error response data:",n?.response?.data,{prefix:"OrderTypeService"}),n.response?.data?.errors&&N.error("API Validation Hatalar:",n.response.data.errors,{prefix:"OrderTypeService"}),this.handleError(n,"OrderType ayarlar gncellenirken hata olutu")}}generateNewRowVersion(t){try{return Date.now().toString()}catch{return Date.now().toString()}}async getActiveOrderTypesByBranch(t){try{N.info("Branch aktif OrderType listesi getirme istei gnderiliyor",{branchId:t},{prefix:"OrderTypeService"});const a=await he.get(`${this.baseUrl}/branch/${t}/active`);let n=[];if(Array.isArray(a.data))n=a.data;else if(a.data&&typeof a.data=="object"&&"data"in a.data){const s=a.data.data;Array.isArray(s)?n=s:s&&(n=[s])}else a.data&&(n=[a.data]);return N.info("Branch aktif OrderType listesi baaryla alnd",{branchId:t,orderTypeCount:n.length,activeOrderTypes:n.map(s=>({id:s.id,name:s.name,code:s.code,isActive:s.isActive,isStandard:s.isStandard,activeOrderCount:s.activeOrderCount}))},{prefix:"OrderTypeService"}),n}catch(a){N.error("Branch aktif OrderType listesi getirme hatas",a,{prefix:"OrderTypeService"}),this.handleError(a,"Branch aktif OrderType listesi getirilirken hata olutu")}}async reorderOrderTypes(t){try{N.info("OrderType sralama gncelleme istei gnderiliyor",t,{prefix:"OrderTypeService"}),await he.put(`${this.baseUrl}/reorder`,t),N.info("OrderType sralamas baaryla gncellendi",null,{prefix:"OrderTypeService"})}catch(a){N.error("OrderType sralama gncelleme hatas",a,{prefix:"OrderTypeService"}),a.response?.data?.errors&&N.error("API Validation Hatalar:",a.response.data.errors,{prefix:"OrderTypeService"}),this.handleError(a,"OrderType sralamas gncellenirken hata olutu")}}handleError(t,a){if(t?.response?.status===401)throw new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn.");if(t?.response?.status===403)throw new Error("Bu ilem iin yetkiniz bulunmuyor.");if(t?.response?.status===404)throw new Error("stenen kayt bulunamad.");if(t?.response?.status===400){const n=t?.response?.data;if(n?.errors){const s=Object.values(n.errors).flat();throw new Error(`Dorulama hatas: ${s.join(", ")}`)}else throw new Error("Geersiz istek. Ltfen verileri kontrol edin.")}else throw t?.response?.status===409?new Error("Bu kayt zaten mevcut veya akma var."):t?.response?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`${a}: ${t?.message||"Bilinmeyen hata"}`)}}const nu=new are,nre=()=>{const{t:e,isRTL:t}=Ze(),[a,n]=p.useState([]),[s,i]=p.useState(!0),[o,l]=p.useState(null),[d,c]=p.useState({}),[g,h]=p.useState("");p.useEffect(()=>{x()},[]);const x=async()=>{try{i(!0),l(null);const w=await nu.getOrderTypes();n(w)}catch(w){l(w.message||e("dashboard.orderType.loadingError"))}finally{i(!1)}},b=async w=>{try{c(T=>({...T,[w.id]:!0})),l(null),h("");const S={id:w.id,name:w.name,code:w.code,description:w.description,icon:w.icon,isActive:w.isActive,displayOrder:w.displayOrder,requiresName:w.requiresName??!1,requiresTable:w.requiresTable,requiresAddress:w.requiresAddress,requiresPhone:w.requiresPhone,minOrderAmount:w.minOrderAmount,serviceCharge:w.serviceCharge,estimatedMinutes:w.estimatedMinutes,rowVersion:w.rowVersion},M=await nu.updateOrderTypeSettings(w.id,S);M?n(T=>T.map(A=>A.id===w.id?M:A)):await x(),h(e("dashboard.orderType.settingsUpdated")),setTimeout(()=>h(""),3e3)}catch(S){console.error("Update error:",S),l(S.message||e("dashboard.orderType.updateError"))}finally{c(S=>({...S,[w.id]:!1}))}},v=(w,S,M)=>{n(T=>T.map(A=>A.id===w?{...A,[S]:M}:A))},j=w=>{b(w)};return s?r.jsx("div",{className:"flex items-center justify-center min-h-96 bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"text-center",children:[r.jsx(mt,{className:"w-10 h-10 animate-spin mx-auto mb-6 text-indigo-600 dark:text-indigo-400"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg font-medium",children:e("dashboard.orderType.loading")})]})}):r.jsx("div",{className:`min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 transition-colors duration-300 ${t?"rtl":"ltr"}`,children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"mb-12",children:r.jsxs("div",{className:"flex items-center gap-4 mb-4 ",children:[r.jsx("div",{className:"p-3 bg-indigo-600 dark:bg-indigo-500 rounded-xl shadow-lg",children:r.jsx(qa,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:e("dashboard.orderType.title")}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mt-2",children:e("dashboard.orderType.subtitle")})]})]})}),g&&r.jsx("div",{className:`mb-8 p-4 rounded-xl border-l-4 border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 shadow-lg animate-fade-in ${t?"border-r-4 border-l-0":""}`,children:r.jsxs("div",{className:`flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[r.jsx(tr,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),r.jsx("p",{className:"text-emerald-800 dark:text-emerald-200 font-medium",children:g})]})}),o&&r.jsx("div",{className:`mb-8 p-4 rounded-xl border-l-4 border-red-500 bg-red-50 dark:bg-red-900/20 shadow-lg ${t?"border-r-4 border-l-0":""}`,children:r.jsxs("div",{className:`flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[r.jsx(Nt,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),r.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:o})]})}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:a.map(w=>r.jsx("div",{className:"group bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-[1.02] border border-gray-200 dark:border-gray-700 overflow-hidden",children:r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:`flex items-center justify-between mb-6 ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-4 ${t?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`p-4 rounded-xl text-3xl shadow-md ${w.isActive?"bg-gradient-to-br from-indigo-500 to-purple-600 dark:from-indigo-400 dark:to-purple-500":"bg-gray-50 dark:bg-gray-700"} transition-colors duration-300`,children:w.icon}),r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-200",children:w.name}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:w.description}),r.jsxs("div",{className:`flex items-center gap-2 mt-2 ${t?"flex-row-reverse":""}`,children:[r.jsx(Or,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["~",w.estimatedMinutes," ",e("dashboard.orderType.minutes")]})]})]})]}),w.activeOrderCount>0&&r.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-200 text-sm font-semibold rounded-xl border border-indigo-200 dark:border-indigo-800 ${t?"flex-row-reverse":""}`,children:[r.jsx($r,{className:"w-4 h-4"}),w.activeOrderCount," ",e("dashboard.orderType.active")]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:`flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600 ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:e("dashboard.orderType.activeStatus")}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e("dashboard.orderType.activeStatusDescription")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"isActive",type:"checkbox",checked:w.isActive,onChange:S=>v(w.id,"isActive",S.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-14 h-7 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer transition-all duration-300 peer-checked:bg-indigo-600 dark:peer-checked:bg-indigo-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-6 after:w-6 after:transition-all after:shadow-md"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-700 dark:to-gray-600 p-4 rounded-xl border border-blue-200 dark:border-gray-600",children:[r.jsx("h4",{className:`text-sm font-bold text-gray-900 dark:text-white mb-4 ${t?"text-right":"text-left"}`,children:e("dashboard.orderType.requirements")||"Required Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsx(On,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e("dashboard.orderType.requiresName")||"Requires Name"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"requiresName",type:"checkbox",checked:w.requiresName??!1,onChange:S=>v(w.id,"requiresName",S.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer transition-all duration-300 peer-checked:bg-blue-600 dark:peer-checked:bg-blue-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all after:shadow-md"})]})]}),r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsx(Xd,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e("dashboard.orderType.requiresTable")||"Requires Table"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"requiresTable",type:"checkbox",checked:w.requiresTable,onChange:S=>v(w.id,"requiresTable",S.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer transition-all duration-300 peer-checked:bg-green-600 dark:peer-checked:bg-green-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all after:shadow-md"})]})]}),r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsx(Qr,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e("dashboard.orderType.requiresAddress")||"Requires Address"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"requiresAddress",type:"checkbox",checked:w.requiresAddress,onChange:S=>v(w.id,"requiresAddress",S.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer transition-all duration-300 peer-checked:bg-purple-600 dark:peer-checked:bg-purple-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all after:shadow-md"})]})]}),r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsx(Dn,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"}),r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e("dashboard.orderType.requiresPhone")||"Requires Phone"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"requiresPhone",type:"checkbox",checked:w.requiresPhone,onChange:S=>v(w.id,"requiresPhone",S.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 dark:peer-focus:ring-orange-800 rounded-full peer transition-all duration-300 peer-checked:bg-orange-600 dark:peer-checked:bg-orange-500 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all after:shadow-md"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 ${t?"flex-row-reverse":""}`,children:[r.jsx(Or,{className:"w-4 h-4"}),e("dashboard.orderType.estimatedMinutes")||"Estimated Minutes"]}),r.jsx("div",{className:"relative",children:r.jsx("input",{type:"number",min:"0",step:"1",value:w.estimatedMinutes,onChange:S=>v(w.id,"estimatedMinutes",parseInt(S.target.value)||0),className:`w-full px-4 py-3 ${t?"pl-10 text-right":"pr-10"} border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent transition-all duration-200 shadow-sm`,placeholder:"0"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 ${t?"flex-row-reverse":""}`,children:[r.jsx(qr,{className:"w-4 h-4"}),e("dashboard.orderType.minOrderAmount")]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",step:"1",value:w.minOrderAmount,onChange:S=>v(w.id,"minOrderAmount",parseFloat(S.target.value)||0),className:`w-full px-4 py-3 ${t?"pr-10 text-right":"pl-10"} border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent transition-all duration-200 shadow-sm`,placeholder:"0.00"}),r.jsx("span",{className:`absolute ${t?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400`,children:""})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 ${t?"flex-row-reverse":""}`,children:[r.jsx(qr,{className:"w-4 h-4"}),e("dashboard.orderType.serviceCharge")]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",step:"1",value:w.serviceCharge,onChange:S=>v(w.id,"serviceCharge",parseFloat(S.target.value)||0),className:`w-full px-4 py-3 ${t?"pr-10 text-right":"pl-10"} border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent transition-all duration-200 shadow-sm`,placeholder:"0.00"}),r.jsx("span",{className:`absolute ${t?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400`,children:""})]})]}),r.jsx("button",{onClick:()=>j(w),disabled:d[w.id],className:`w-full flex items-center justify-center gap-3 px-6 py-4 rounded-xl font-semibold text-white transition-all duration-300 transform ${d[w.id]?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed scale-95":"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 dark:from-indigo-500 dark:to-purple-500 dark:hover:from-indigo-600 dark:hover:to-purple-600 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95"} ${t?"flex-row-reverse":""}`,children:d[w.id]?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"w-5 h-5 animate-spin"}),e("dashboard.orderType.updating")]}):r.jsxs(r.Fragment,{children:[r.jsx(Oa,{className:"w-5 h-5"}),e("dashboard.orderType.saveSettings")]})})]})]})},w.id))}),a.length>0&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 p-6 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between ",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold",children:a.length}),r.jsx("div",{className:"text-blue-100 font-medium",children:e("dashboard.orderType.totalOrderTypes")})]}),r.jsx(qa,{className:"w-8 h-8 text-blue-200"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 dark:from-emerald-600 dark:to-emerald-700 p-6 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between ",children:[r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("div",{className:"text-3xl font-bold",children:a.filter(w=>w.isActive).length}),r.jsx("div",{className:"text-emerald-100 font-medium",children:e("dashboard.orderType.activeTypes")})]}),r.jsx(tr,{className:"w-8 h-8 text-emerald-200"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 dark:from-orange-600 dark:to-orange-700 p-6 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between ",children:[r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("div",{className:"text-3xl font-bold",children:a.reduce((w,S)=>w+S.activeOrderCount,0)}),r.jsx("div",{className:"text-orange-100 font-medium",children:e("dashboard.orderType.totalActiveOrders")})]}),r.jsx($r,{className:"w-8 h-8 text-orange-200"})]})})]})]})})};function uD(e){var t,a,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(a=uD(e[t]))&&(n&&(n+=" "),n+=a)}else for(a in e)e[a]&&(n&&(n+=" "),n+=a);return n}function na(){for(var e,t,a=0,n="",s=arguments.length;a<s;a++)(e=arguments[a])&&(t=uD(e))&&(n&&(n+=" "),n+=t);return n}var sre=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Q2(e){if(typeof e!="string")return!1;var t=sre;return t.includes(e)}var ire=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ore=new Set(ire);function mD(e){return typeof e!="string"?!1:ore.has(e)}function gD(e){return typeof e=="string"&&e.startsWith("data-")}function Co(e){if(typeof e!="object"||e===null)return{};var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(mD(a)||gD(a))&&(t[a]=e[a]);return t}function qh(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Co(t)}return typeof e=="object"&&!Array.isArray(e)?Co(e):null}function Qi(e){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(mD(a)||gD(a)||Q2(a))&&(t[a]=e[a]);return t}var lre=["children","width","height","viewBox","className","style","title","desc"];function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},RN.apply(null,arguments)}function dre(e,t){if(e==null)return{};var a,n,s=cre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function cre(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var hD=p.forwardRef((e,t)=>{var{children:a,width:n,height:s,viewBox:i,className:o,style:l,title:d,desc:c}=e,g=dre(e,lre),h=i||{width:n,height:s,x:0,y:0},x=na("recharts-surface",o);return p.createElement("svg",RN({},Qi(g),{className:x,width:n,height:s,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),p.createElement("title",null,d),p.createElement("desc",null,c),a)}),ure=["children","className"];function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},DN.apply(null,arguments)}function mre(e,t){if(e==null)return{};var a,n,s=gre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function gre(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var Ms=p.forwardRef((e,t)=>{var{children:a,className:n}=e,s=mre(e,ure),i=na("recharts-layer",n);return p.createElement("g",DN({className:i},Qi(s),{ref:t}),a)}),hre=p.createContext(null);function ma(e){return function(){return e}}const fD=Math.cos,Vx=Math.sin,Io=Math.sqrt,Hx=Math.PI,kb=2*Hx,BN=Math.PI,LN=2*BN,_c=1e-6,fre=LN-_c;function pD(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=arguments[t]+e[t]}function pre(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pD;const a=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*a)/a+n[s]}}class xre{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pD:pre(t)}moveTo(t,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,a){this._append`L${this._x1=+t},${this._y1=+a}`}quadraticCurveTo(t,a,n,s){this._append`Q${+t},${+a},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,a,n,s,i,o){this._append`C${+t},${+a},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,a,n,s,i){if(t=+t,a=+a,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,d=n-t,c=s-a,g=o-t,h=l-a,x=g*g+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=a}`;else if(x>_c)if(!(Math.abs(h*d-c*g)>_c)||!i)this._append`L${this._x1=t},${this._y1=a}`;else{let b=n-o,v=s-l,j=d*d+c*c,w=b*b+v*v,S=Math.sqrt(j),M=Math.sqrt(x),T=i*Math.tan((BN-Math.acos((j+x-w)/(2*S*M)))/2),A=T/M,I=T/S;Math.abs(A-1)>_c&&this._append`L${t+A*g},${a+A*h}`,this._append`A${i},${i},0,0,${+(h*b>g*v)},${this._x1=t+I*d},${this._y1=a+I*c}`}}arc(t,a,n,s,i,o){if(t=+t,a=+a,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),d=n*Math.sin(s),c=t+l,g=a+d,h=1^o,x=o?s-i:i-s;this._x1===null?this._append`M${c},${g}`:(Math.abs(this._x1-c)>_c||Math.abs(this._y1-g)>_c)&&this._append`L${c},${g}`,n&&(x<0&&(x=x%LN+LN),x>fre?this._append`A${n},${n},0,1,${h},${t-l},${a-d}A${n},${n},0,1,${h},${this._x1=c},${this._y1=g}`:x>_c&&this._append`A${n},${n},0,${+(x>=BN)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=a+n*Math.sin(i)}`)}rect(t,a,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function G2(e){let t=3;return e.digits=function(a){if(!arguments.length)return t;if(a==null)t=null;else{const n=Math.floor(a);if(!(n>=0))throw new RangeError(`invalid digits: ${a}`);t=n}return e},()=>new xre(t)}function Y2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xD(e){this._context=e}xD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function wb(e){return new xD(e)}function yD(e){return e[0]}function bD(e){return e[1]}function vD(e,t){var a=ma(!0),n=null,s=wb,i=null,o=G2(l);e=typeof e=="function"?e:e===void 0?yD:ma(e),t=typeof t=="function"?t:t===void 0?bD:ma(t);function l(d){var c,g=(d=Y2(d)).length,h,x=!1,b;for(n==null&&(i=s(b=o())),c=0;c<=g;++c)!(c<g&&a(h=d[c],c,d))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(h,c,d),+t(h,c,d));if(b)return i=null,b+""||null}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:ma(+d),l):e},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:ma(+d),l):t},l.defined=function(d){return arguments.length?(a=typeof d=="function"?d:ma(!!d),l):a},l.curve=function(d){return arguments.length?(s=d,n!=null&&(i=s(n)),l):s},l.context=function(d){return arguments.length?(d==null?n=i=null:i=s(n=d),l):n},l}function wp(e,t,a){var n=null,s=ma(!0),i=null,o=wb,l=null,d=G2(c);e=typeof e=="function"?e:e===void 0?yD:ma(+e),t=typeof t=="function"?t:ma(t===void 0?0:+t),a=typeof a=="function"?a:a===void 0?bD:ma(+a);function c(h){var x,b,v,j=(h=Y2(h)).length,w,S=!1,M,T=new Array(j),A=new Array(j);for(i==null&&(l=o(M=d())),x=0;x<=j;++x){if(!(x<j&&s(w=h[x],x,h))===S)if(S=!S)b=x,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=x-1;v>=b;--v)l.point(T[v],A[v]);l.lineEnd(),l.areaEnd()}S&&(T[x]=+e(w,x,h),A[x]=+t(w,x,h),l.point(n?+n(w,x,h):T[x],a?+a(w,x,h):A[x]))}if(M)return l=null,M+""||null}function g(){return vD().defined(s).curve(o).context(i)}return c.x=function(h){return arguments.length?(e=typeof h=="function"?h:ma(+h),n=null,c):e},c.x0=function(h){return arguments.length?(e=typeof h=="function"?h:ma(+h),c):e},c.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:ma(+h),c):n},c.y=function(h){return arguments.length?(t=typeof h=="function"?h:ma(+h),a=null,c):t},c.y0=function(h){return arguments.length?(t=typeof h=="function"?h:ma(+h),c):t},c.y1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:ma(+h),c):a},c.lineX0=c.lineY0=function(){return g().x(e).y(t)},c.lineY1=function(){return g().x(e).y(a)},c.lineX1=function(){return g().x(n).y(t)},c.defined=function(h){return arguments.length?(s=typeof h=="function"?h:ma(!!h),c):s},c.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),c):o},c.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),c):i},c}class kD{constructor(t,a){this._context=t,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,a){switch(t=+t,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,a,t,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,t,this._y0,t,a);break}}this._x0=t,this._y0=a}}function yre(e){return new kD(e,!0)}function bre(e){return new kD(e,!1)}const Z2={draw(e,t){const a=Io(t/Hx);e.moveTo(a,0),e.arc(0,0,a,0,kb)}},vre={draw(e,t){const a=Io(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},wD=Io(1/3),kre=wD*2,wre={draw(e,t){const a=Io(t/kre),n=a*wD;e.moveTo(0,-a),e.lineTo(n,0),e.lineTo(0,a),e.lineTo(-n,0),e.closePath()}},jre={draw(e,t){const a=Io(t),n=-a/2;e.rect(n,n,a,a)}},Nre=.8908130915292852,jD=Vx(Hx/10)/Vx(7*Hx/10),Cre=Vx(kb/10)*jD,Sre=-fD(kb/10)*jD,Pre={draw(e,t){const a=Io(t*Nre),n=Cre*a,s=Sre*a;e.moveTo(0,-a),e.lineTo(n,s);for(let i=1;i<5;++i){const o=kb*i/5,l=fD(o),d=Vx(o);e.lineTo(d*a,-l*a),e.lineTo(l*n-d*s,d*n+l*s)}e.closePath()}},xw=Io(3),Mre={draw(e,t){const a=-Io(t/(xw*3));e.moveTo(0,a*2),e.lineTo(-xw*a,-a),e.lineTo(xw*a,-a),e.closePath()}},Di=-.5,Bi=Io(3)/2,$N=1/Io(12),Tre=($N/2+1)*3,Ire={draw(e,t){const a=Io(t/Tre),n=a/2,s=a*$N,i=n,o=a*$N+a,l=-i,d=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,d),e.lineTo(Di*n-Bi*s,Bi*n+Di*s),e.lineTo(Di*i-Bi*o,Bi*i+Di*o),e.lineTo(Di*l-Bi*d,Bi*l+Di*d),e.lineTo(Di*n+Bi*s,Di*s-Bi*n),e.lineTo(Di*i+Bi*o,Di*o-Bi*i),e.lineTo(Di*l+Bi*d,Di*d-Bi*l),e.closePath()}};function Are(e,t){let a=null,n=G2(s);e=typeof e=="function"?e:ma(e||Z2),t=typeof t=="function"?t:ma(t===void 0?64:+t);function s(){let i;if(a||(a=i=n()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),i)return a=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:ma(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:ma(+i),s):t},s.context=function(i){return arguments.length?(a=i??null,s):a},s}function Wx(){}function Kx(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function ND(e){this._context=e}ND.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ere(e){return new ND(e)}function CD(e){this._context=e}CD.prototype={areaStart:Wx,areaEnd:Wx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Kx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _re(e){return new CD(e)}function SD(e){this._context=e}SD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,n):this._context.moveTo(a,n);break;case 3:this._point=4;default:Kx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ore(e){return new SD(e)}function PD(e){this._context=e}PD.prototype={areaStart:Wx,areaEnd:Wx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Rre(e){return new PD(e)}function x3(e){return e<0?-1:1}function y3(e,t,a){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(a-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(x3(i)+x3(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function b3(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function yw(e,t,a){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*a,i,o)}function Qx(e){this._context=e}Qx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yw(this,this._t0,b3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,yw(this,b3(this,a=y3(this,e,t)),a);break;default:yw(this,this._t0,a=y3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function MD(e){this._context=new TD(e)}(MD.prototype=Object.create(Qx.prototype)).point=function(e,t){Qx.prototype.point.call(this,t,e)};function TD(e){this._context=e}TD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,n,s,i){this._context.bezierCurveTo(t,e,n,a,i,s)}};function Dre(e){return new Qx(e)}function Bre(e){return new MD(e)}function ID(e){this._context=e}ID.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var n=v3(e),s=v3(t),i=0,o=1;o<a;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function v3(e){var t,a=e.length-1,n,s=new Array(a),i=new Array(a),o=new Array(a);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<a-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[a-1]=2,i[a-1]=7,o[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[a-1]=o[a-1]/i[a-1],t=a-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[a-1]=(e[a]+s[a-1])/2,t=0;t<a-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function Lre(e){return new ID(e)}function jb(e,t){this._context=e,this._t=t}jb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function $re(e){return new jb(e,.5)}function Fre(e){return new jb(e,0)}function zre(e){return new jb(e,1)}function _m(e,t){if((o=e.length)>1)for(var a=1,n,s,i=e[t[0]],o,l=i.length;a<o;++a)for(s=i,i=e[t[a]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function FN(e){for(var t=e.length,a=new Array(t);--t>=0;)a[t]=t;return a}function Ure(e,t){return e[t]}function qre(e){const t=[];return t.key=e,t}function Vre(){var e=ma([]),t=FN,a=_m,n=Ure;function s(i){var o=Array.from(e.apply(this,arguments),qre),l,d=o.length,c=-1,g;for(const h of i)for(l=0,++c;l<d;++l)(o[l][c]=[0,+n(h,o[l].key,c,i)]).data=h;for(l=0,g=Y2(t(o));l<d;++l)o[g[l]].index=l;return a(o,g),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:ma(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:ma(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?FN:typeof i=="function"?i:ma(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(a=i??_m,s):a},s}function Hre(e,t){if((n=e.length)>0){for(var a,n,s=0,i=e[0].length,o;s<i;++s){for(o=a=0;a<n;++a)o+=e[a][s][1]||0;if(o)for(a=0;a<n;++a)e[a][s][1]/=o}_m(e,t)}}function Wre(e,t){if((s=e.length)>0){for(var a=0,n=e[t[0]],s,i=n.length;a<i;++a){for(var o=0,l=0;o<s;++o)l+=e[o][a][1]||0;n[a][1]+=n[a][0]=-l/2}_m(e,t)}}function Kre(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var a=0,n=1,s,i,o;n<i;++n){for(var l=0,d=0,c=0;l<o;++l){for(var g=e[t[l]],h=g[n][1]||0,x=g[n-1][1]||0,b=(h-x)/2,v=0;v<l;++v){var j=e[t[v]],w=j[n][1]||0,S=j[n-1][1]||0;b+=w-S}d+=h,c+=b*h}s[n-1][1]+=s[n-1][0]=a,d&&(a-=c/d)}s[n-1][1]+=s[n-1][0]=a,_m(e,t)}}var bw={},vw={},k3;function Qre(){return k3||(k3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==="__proto__"}e.isUnsafeProperty=t})(vw)),vw}var kw={},w3;function AD(){return w3||(w3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}e.isDeepKey=t})(kw)),kw}var ww={},j3;function X2(){return j3||(j3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="string"||typeof a=="symbol"?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}e.toKey=t})(ww)),ww}var jw={},Nw={},N3;function Gre(){return N3||(N3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(a==null)return"";if(typeof a=="string")return a;if(Array.isArray(a))return a.map(t).join(",");const n=String(a);return n==="0"&&Object.is(Number(a),-0)?"-0":n}e.toString=t})(Nw)),Nw}var C3;function J2(){return C3||(C3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gre(),a=X2();function n(s){if(Array.isArray(s))return s.map(a.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const i=[],o=s.length;if(o===0)return i;let l=0,d="",c="",g=!1;for(s.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const h=s[l];c?h==="\\"&&l+1<o?(l++,d+=s[l]):h===c?c="":d+=h:g?h==='"'||h==="'"?c=h:h==="]"?(g=!1,i.push(d),d=""):d+=h:h==="["?(g=!0,d&&(i.push(d),d="")):h==="."?d&&(i.push(d),d=""):d+=h,l++}return d&&i.push(d),i}e.toPath=n})(jw)),jw}var S3;function eC(){return S3||(S3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qre(),a=AD(),n=X2(),s=J2();function i(l,d,c){if(l==null)return c;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return c;const g=l[d];return g===void 0?a.isDeepKey(d)?i(l,s.toPath(d),c):c:g}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const g=l[d];return g===void 0?c:g}default:{if(Array.isArray(d))return o(l,d,c);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return c;const g=l[d];return g===void 0?c:g}}}function o(l,d,c){if(d.length===0)return c;let g=l;for(let h=0;h<d.length;h++){if(g==null||t.isUnsafeProperty(d[h]))return c;g=g[d[h]]}return g===void 0?c:g}e.get=i})(bw)),bw}var Cw,P3;function Yre(){return P3||(P3=1,Cw=eC().get),Cw}var Zre=Yre();const su=Mo(Zre);var Rn=e=>e===0?0:e>0?1:-1,So=e=>typeof e=="number"&&e!=+e,Gl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,$t=e=>(typeof e=="number"||e instanceof Number)&&!So(e),sl=e=>$t(e)||typeof e=="string",Xre=0,Vh=e=>{var t=++Xre;return"".concat(e||"").concat(t)},us=function(t,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$t(t)&&typeof t!="string")return n;var i;if(Gl(t)){if(a==null)return n;var o=t.indexOf("%");i=a*parseFloat(t.slice(0,o))/100}else i=+t;return So(i)&&(i=n),s&&a!=null&&i>a&&(i=a),i},ED=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,a={},n=0;n<t;n++)if(!a[e[n]])a[e[n]]=!0;else return!0;return!1};function pn(e,t,a){return $t(e)&&$t(t)?e+a*(t-e):t}function Jre(e,t,a){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):su(n,t))===a)}var Ln=e=>e===null||typeof e>"u",C0=e=>Ln(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function eae(e){return e!=null}function S0(){}var tae=["type","size","sizeType"];function zN(){return zN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},zN.apply(null,arguments)}function M3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function T3(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(a),!0).forEach(function(n){rae(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M3(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function rae(e,t,a){return(t=aae(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function aae(e){var t=nae(e,"string");return typeof t=="symbol"?t:t+""}function nae(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sae(e,t){if(e==null)return{};var a,n,s=iae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function iae(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var _D={symbolCircle:Z2,symbolCross:vre,symbolDiamond:wre,symbolSquare:jre,symbolStar:Pre,symbolTriangle:Mre,symbolWye:Ire},oae=Math.PI/180,lae=e=>{var t="symbol".concat(C0(e));return _D[t]||Z2},dae=(e,t,a)=>{if(t==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*oae;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},cae=(e,t)=>{_D["symbol".concat(C0(e))]=t},OD=e=>{var{type:t="circle",size:a=64,sizeType:n="area"}=e,s=sae(e,tae),i=T3(T3({},s),{},{type:t,size:a,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var x=lae(o),b=Are().type(x).size(dae(a,n,o)),v=b();if(v!==null)return v},{className:d,cx:c,cy:g}=i,h=Qi(i);return $t(c)&&$t(g)&&$t(a)?p.createElement("path",zN({},h,{className:na("recharts-symbols",d),transform:"translate(".concat(c,", ").concat(g,")"),d:l()})):null};OD.registerSymbol=cae;var RD=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,uae=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(p.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var n={};return Object.keys(a).forEach(s=>{Q2(s)&&(n[s]=(i=>a[s](a,i)))}),n},mae=(e,t,a)=>n=>(e(t,a,n),null),Nb=(e,t,a)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];Q2(s)&&typeof i=="function"&&(n||(n={}),n[s]=mae(i,t,a))}),n};function I3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function gae(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(a),!0).forEach(function(n){hae(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I3(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function hae(e,t,a){return(t=fae(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fae(e){var t=pae(e,"string");return typeof t=="symbol"?t:t+""}function pae(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hs(e,t){var a=gae({},e),n=t,s=Object.keys(t),i=s.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),a);return i}var Sw={},Pw={},A3;function xae(){return A3||(A3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,n){const s=new Map;for(let i=0;i<a.length;i++){const o=a[i],l=n(o);s.has(l)||s.set(l,o)}return Array.from(s.values())}e.uniqBy=t})(Pw)),Pw}var Mw={},E3;function DD(){return E3||(E3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a}e.identity=t})(Mw)),Mw}var Tw={},Iw={},Aw={},_3;function yae(){return _3||(_3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Number.isSafeInteger(a)&&a>=0}e.isLength=t})(Aw)),Aw}var O3;function tC(){return O3||(O3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yae();function a(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=a})(Iw)),Iw}var Ew={},R3;function bae(){return R3||(R3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="object"&&a!==null}e.isObjectLike=t})(Ew)),Ew}var D3;function vae(){return D3||(D3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tC(),a=bae();function n(s){return a.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(Tw)),Tw}var _w={},Ow={},B3;function kae(){return B3||(B3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eC();function a(n){return function(s){return t.get(s,n)}}e.property=a})(Ow)),Ow}var Rw={},Dw={},Bw={},Lw={},L3;function BD(){return L3||(L3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a!==null&&(typeof a=="object"||typeof a=="function")}e.isObject=t})(Lw)),Lw}var $w={},$3;function LD(){return $3||($3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null||typeof a!="object"&&typeof a!="function"}e.isPrimitive=t})($w)),$w}var Fw={},F3;function $D(){return F3||(F3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,n){return a===n||Number.isNaN(a)&&Number.isNaN(n)}e.eq=t})(Fw)),Fw}var z3;function wae(){return z3||(z3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BD(),a=LD(),n=$D();function s(g,h,x){return typeof x!="function"?s(g,h,()=>{}):i(g,h,function b(v,j,w,S,M,T){const A=x(v,j,w,S,M,T);return A!==void 0?!!A:i(v,j,b,T)},new Map)}function i(g,h,x,b){if(h===g)return!0;switch(typeof h){case"object":return o(g,h,x,b);case"function":return Object.keys(h).length>0?i(g,{...h},x,b):n.eq(g,h);default:return t.isObject(g)?typeof h=="string"?h==="":!0:n.eq(g,h)}}function o(g,h,x,b){if(h==null)return!0;if(Array.isArray(h))return d(g,h,x,b);if(h instanceof Map)return l(g,h,x,b);if(h instanceof Set)return c(g,h,x,b);const v=Object.keys(h);if(g==null||a.isPrimitive(g))return v.length===0;if(v.length===0)return!0;if(b?.has(h))return b.get(h)===g;b?.set(h,g);try{for(let j=0;j<v.length;j++){const w=v[j];if(!a.isPrimitive(g)&&!(w in g)||h[w]===void 0&&g[w]!==void 0||h[w]===null&&g[w]!==null||!x(g[w],h[w],w,g,h,b))return!1}return!0}finally{b?.delete(h)}}function l(g,h,x,b){if(h.size===0)return!0;if(!(g instanceof Map))return!1;for(const[v,j]of h.entries()){const w=g.get(v);if(x(w,j,v,g,h,b)===!1)return!1}return!0}function d(g,h,x,b){if(h.length===0)return!0;if(!Array.isArray(g))return!1;const v=new Set;for(let j=0;j<h.length;j++){const w=h[j];let S=!1;for(let M=0;M<g.length;M++){if(v.has(M))continue;const T=g[M];let A=!1;if(x(T,w,j,g,h,b)&&(A=!0),A){v.add(M),S=!0;break}}if(!S)return!1}return!0}function c(g,h,x,b){return h.size===0?!0:g instanceof Set?d([...g],[...h],x,b):!1}e.isMatchWith=s,e.isSetMatch=c})(Bw)),Bw}var U3;function FD(){return U3||(U3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wae();function a(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=a})(Dw)),Dw}var zw={},Uw={},qw={},q3;function jae(){return q3||(q3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Object.getOwnPropertySymbols(a).filter(n=>Object.prototype.propertyIsEnumerable.call(a,n))}e.getSymbols=t})(qw)),qw}var Vw={},V3;function zD(){return V3||(V3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}e.getTag=t})(Vw)),Vw}var Hw={},H3;function UD(){return H3||(H3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",a="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",d="[object Map]",c="[object Set]",g="[object Array]",h="[object Function]",x="[object ArrayBuffer]",b="[object Object]",v="[object Error]",j="[object DataView]",w="[object Uint8Array]",S="[object Uint8ClampedArray]",M="[object Uint16Array]",T="[object Uint32Array]",A="[object BigUint64Array]",I="[object Int8Array]",_="[object Int16Array]",D="[object Int32Array]",E="[object BigInt64Array]",X="[object Float32Array]",ee="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=x,e.arrayTag=g,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=A,e.booleanTag=s,e.dataViewTag=j,e.dateTag=l,e.errorTag=v,e.float32ArrayTag=X,e.float64ArrayTag=ee,e.functionTag=h,e.int16ArrayTag=_,e.int32ArrayTag=D,e.int8ArrayTag=I,e.mapTag=d,e.numberTag=n,e.objectTag=b,e.regexpTag=t,e.setTag=c,e.stringTag=a,e.symbolTag=o,e.uint16ArrayTag=M,e.uint32ArrayTag=T,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=S})(Hw)),Hw}var Ww={},W3;function Nae(){return W3||(W3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}e.isTypedArray=t})(Ww)),Ww}var K3;function qD(){return K3||(K3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jae(),a=zD(),n=UD(),s=LD(),i=Nae();function o(g,h){return l(g,void 0,g,new Map,h)}function l(g,h,x,b=new Map,v=void 0){const j=v?.(g,h,x,b);if(j!==void 0)return j;if(s.isPrimitive(g))return g;if(b.has(g))return b.get(g);if(Array.isArray(g)){const w=new Array(g.length);b.set(g,w);for(let S=0;S<g.length;S++)w[S]=l(g[S],S,x,b,v);return Object.hasOwn(g,"index")&&(w.index=g.index),Object.hasOwn(g,"input")&&(w.input=g.input),w}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const w=new RegExp(g.source,g.flags);return w.lastIndex=g.lastIndex,w}if(g instanceof Map){const w=new Map;b.set(g,w);for(const[S,M]of g)w.set(S,l(M,S,x,b,v));return w}if(g instanceof Set){const w=new Set;b.set(g,w);for(const S of g)w.add(l(S,void 0,x,b,v));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(i.isTypedArray(g)){const w=new(Object.getPrototypeOf(g)).constructor(g.length);b.set(g,w);for(let S=0;S<g.length;S++)w[S]=l(g[S],S,x,b,v);return w}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const w=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return b.set(g,w),d(w,g,x,b,v),w}if(typeof File<"u"&&g instanceof File){const w=new File([g],g.name,{type:g.type});return b.set(g,w),d(w,g,x,b,v),w}if(typeof Blob<"u"&&g instanceof Blob){const w=new Blob([g],{type:g.type});return b.set(g,w),d(w,g,x,b,v),w}if(g instanceof Error){const w=new g.constructor;return b.set(g,w),w.message=g.message,w.name=g.name,w.stack=g.stack,w.cause=g.cause,d(w,g,x,b,v),w}if(g instanceof Boolean){const w=new Boolean(g.valueOf());return b.set(g,w),d(w,g,x,b,v),w}if(g instanceof Number){const w=new Number(g.valueOf());return b.set(g,w),d(w,g,x,b,v),w}if(g instanceof String){const w=new String(g.valueOf());return b.set(g,w),d(w,g,x,b,v),w}if(typeof g=="object"&&c(g)){const w=Object.create(Object.getPrototypeOf(g));return b.set(g,w),d(w,g,x,b,v),w}return g}function d(g,h,x=g,b,v){const j=[...Object.keys(h),...t.getSymbols(h)];for(let w=0;w<j.length;w++){const S=j[w],M=Object.getOwnPropertyDescriptor(g,S);(M==null||M.writable)&&(g[S]=l(h[S],S,x,b,v))}}function c(g){switch(a.getTag(g)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=d})(Uw)),Uw}var Q3;function Cae(){return Q3||(Q3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qD();function a(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=a})(zw)),zw}var G3;function Sae(){return G3||(G3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FD(),a=Cae();function n(s){return s=a.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(Rw)),Rw}var Kw={},Qw={},Gw={},Y3;function Pae(){return Y3||(Y3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qD(),a=UD();function n(s,i){return t.cloneDeepWith(s,(o,l,d,c)=>{const g=i?.(o,l,d,c);if(g!==void 0)return g;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case a.numberTag:case a.stringTag:case a.booleanTag:{const h=new s.constructor(s?.valueOf());return t.copyProperties(h,s),h}case a.argumentsTag:{const h={};return t.copyProperties(h,s),h.length=s.length,h[Symbol.iterator]=s[Symbol.iterator],h}default:return}})}e.cloneDeepWith=n})(Gw)),Gw}var Z3;function Mae(){return Z3||(Z3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pae();function a(n){return t.cloneDeepWith(n)}e.cloneDeep=a})(Qw)),Qw}var Yw={},Zw={},X3;function VD(){return X3||(X3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function a(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=a})(Zw)),Zw}var Xw={},J3;function Tae(){return J3||(J3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zD();function a(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=a})(Xw)),Xw}var eT;function Iae(){return eT||(eT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AD(),a=VD(),n=Tae(),s=J2();function i(o,l){let d;if(Array.isArray(l)?d=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?d=s.toPath(l):d=[l],d.length===0)return!1;let c=o;for(let g=0;g<d.length;g++){const h=d[g];if((c==null||!Object.hasOwn(c,h))&&!((Array.isArray(c)||n.isArguments(c))&&a.isIndex(h)&&h<c.length))return!1;c=c[h]}return!0}e.has=i})(Yw)),Yw}var tT;function Aae(){return tT||(tT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FD(),a=X2(),n=Mae(),s=eC(),i=Iae();function o(l,d){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=a.toKey(l);break}}return d=n.cloneDeep(d),function(c){const g=s.get(c,l);return g===void 0?i.has(c,l):d===void 0?g===void 0:t.isMatch(g,d)}}e.matchesProperty=o})(Kw)),Kw}var rT;function Eae(){return rT||(rT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DD(),a=kae(),n=Sae(),s=Aae();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return a.property(o)}}e.iteratee=i})(_w)),_w}var aT;function _ae(){return aT||(aT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xae(),a=DD(),n=vae(),s=Eae();function i(o,l=a.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(l)):[]}e.uniqBy=i})(Sw)),Sw}var Jw,nT;function Oae(){return nT||(nT=1,Jw=_ae().uniqBy),Jw}var Rae=Oae();const sT=Mo(Rae);function Dae(e,t,a){return t===!0?sT(e,a):typeof t=="function"?sT(e,t):e}var ej={exports:{}},tj={},rj={exports:{}},aj={};var iT;function Bae(){if(iT)return aj;iT=1;var e=Um();function t(h,x){return h===x&&(h!==0||1/h===1/x)||h!==h&&x!==x}var a=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(h,x){var b=x(),v=n({inst:{value:b,getSnapshot:x}}),j=v[0].inst,w=v[1];return i(function(){j.value=b,j.getSnapshot=x,d(j)&&w({inst:j})},[h,b,x]),s(function(){return d(j)&&w({inst:j}),h(function(){d(j)&&w({inst:j})})},[h]),o(b),b}function d(h){var x=h.getSnapshot;h=h.value;try{var b=x();return!a(h,b)}catch{return!0}}function c(h,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:l;return aj.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,aj}var oT;function Lae(){return oT||(oT=1,rj.exports=Bae()),rj.exports}var lT;function $ae(){if(lT)return tj;lT=1;var e=Um(),t=Lae();function a(c,g){return c===g&&(c!==0||1/c===1/g)||c!==c&&g!==g}var n=typeof Object.is=="function"?Object.is:a,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,d=e.useDebugValue;return tj.useSyncExternalStoreWithSelector=function(c,g,h,x,b){var v=i(null);if(v.current===null){var j={hasValue:!1,value:null};v.current=j}else j=v.current;v=l(function(){function S(_){if(!M){if(M=!0,T=_,_=x(_),b!==void 0&&j.hasValue){var D=j.value;if(b(D,_))return A=D}return A=_}if(D=A,n(T,_))return D;var E=x(_);return b!==void 0&&b(D,E)?(T=_,D):(T=_,A=E)}var M=!1,T,A,I=h===void 0?null:h;return[function(){return S(g())},I===null?void 0:function(){return S(I())}]},[g,h,x,b]);var w=s(c,v[0],v[1]);return o(function(){j.hasValue=!0,j.value=w},[w]),d(w),w},tj}var dT;function Fae(){return dT||(dT=1,ej.exports=$ae()),ej.exports}var zae=Fae(),rC=p.createContext(null),Uae=e=>e,Pa=()=>{var e=p.useContext(rC);return e?e.store.dispatch:Uae},ix=()=>{},qae=()=>ix,Vae=(e,t)=>e===t;function Bt(e){var t=p.useContext(rC);return zae.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:qae,t?t.store.getState:ix,t?t.store.getState:ix,t?e:ix,Vae)}function Hae(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Wae(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Kae(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(a=>typeof a=="function")){const a=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${a}]`)}}var cT=e=>Array.isArray(e)?e:[e];function Qae(e){const t=Array.isArray(e[0])?e[0]:e;return Kae(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Gae(e,t){const a=[],{length:n}=e;for(let s=0;s<n;s++)a.push(e[s].apply(null,t));return a}var Yae=class{constructor(e){this.value=e}deref(){return this.value}},Zae=typeof WeakRef<"u"?WeakRef:Yae,Xae=0,uT=1;function jp(){return{s:Xae,v:void 0,o:null,p:null}}function HD(e,t={}){let a=jp();const{resultEqualityCheck:n}=t;let s,i=0;function o(){let l=a;const{length:d}=arguments;for(let h=0,x=d;h<x;h++){const b=arguments[h];if(typeof b=="function"||typeof b=="object"&&b!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const j=v.get(b);j===void 0?(l=jp(),v.set(b,l)):l=j}else{let v=l.p;v===null&&(l.p=v=new Map);const j=v.get(b);j===void 0?(l=jp(),v.set(b,l)):l=j}}const c=l;let g;if(l.s===uT)g=l.v;else if(g=e.apply(null,arguments),i++,n){const h=s?.deref?.()??s;h!=null&&n(h,g)&&(g=h,i!==0&&i--),s=typeof g=="object"&&g!==null||typeof g=="function"?new Zae(g):g}return c.s=uT,c.v=g,g}return o.clearCache=()=>{a=jp(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function Jae(e,...t){const a=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,l,d={},c=s.pop();typeof c=="object"&&(d=c,c=s.pop()),Hae(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const g={...a,...d},{memoize:h,memoizeOptions:x=[],argsMemoize:b=HD,argsMemoizeOptions:v=[]}=g,j=cT(x),w=cT(v),S=Qae(s),M=h(function(){return i++,c.apply(null,arguments)},...j),T=b(function(){o++;const I=Gae(S,arguments);return l=M.apply(null,I),l},...w);return Object.assign(T,{resultFunc:c,memoizedResultFunc:M,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:b})};return Object.assign(n,{withTypes:()=>n}),n}var De=Jae(HD),ene=Object.assign((e,t=De)=>{Wae(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const a=Object.keys(e),n=a.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,d)=>(o[a[d]]=l,o),{}))},{withTypes:()=>ene}),nj={},sj={},ij={},mT;function tne(){return mT||(mT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const a=(n,s,i)=>{if(n!==s){const o=t(n),l=t(s);if(o===l&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=a})(ij)),ij}var oj={},lj={},gT;function WD(){return gT||(gT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"||a instanceof Symbol}e.isSymbol=t})(lj)),lj}var hT;function rne(){return hT||(hT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WD(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!a.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(oj)),oj}var fT;function ane(){return fT||(fT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tne(),a=rne(),n=J2();function s(i,o,l,d){if(i==null)return[];l=d?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(b=>String(b));const c=(b,v)=>{let j=b;for(let w=0;w<v.length&&j!=null;++w)j=j[v[w]];return j},g=(b,v)=>v==null||b==null?v:typeof b=="object"&&"key"in b?Object.hasOwn(v,b.key)?v[b.key]:c(v,b.path):typeof b=="function"?b(v):Array.isArray(b)?c(v,b):typeof v=="object"?v[b]:v,h=o.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||a.isKey(b)?b:{key:b,path:n.toPath(b)}));return i.map(b=>({original:b,criteria:h.map(v=>g(v,b))})).slice().sort((b,v)=>{for(let j=0;j<h.length;j++){const w=t.compareValues(b.criteria[j],v.criteria[j],l[j]);if(w!==0)return w}return 0}).map(b=>b.original)}e.orderBy=s})(sj)),sj}var dj={},pT;function nne(){return pT||(pT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,n=1){const s=[],i=Math.floor(n),o=(l,d)=>{for(let c=0;c<l.length;c++){const g=l[c];Array.isArray(g)&&d<i?o(g,d+1):s.push(g)}};return o(a,0),s}e.flatten=t})(dj)),dj}var cj={},xT;function KD(){return xT||(xT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VD(),a=tC(),n=BD(),s=$D();function i(o,l,d){return n.isObject(d)&&(typeof l=="number"&&a.isArrayLike(d)&&t.isIndex(l)&&l<d.length||typeof l=="string"&&l in d)?s.eq(d[l],o):!1}e.isIterateeCall=i})(cj)),cj}var yT;function sne(){return yT||(yT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ane(),a=nne(),n=KD();function s(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,a.flatten(o),["asc"])}e.sortBy=s})(nj)),nj}var uj,bT;function ine(){return bT||(bT=1,uj=sne().sortBy),uj}var one=ine();const Cb=Mo(one);var QD=e=>e.legend.settings,lne=e=>e.legend.size,dne=e=>e.legend.payload;De([dne,QD],(e,t)=>{var{itemSorter:a}=t,n=e.flat(1);return a?Cb(n,a):n});var Np=1;function cne(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,a]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Np||Math.abs(o.left-t.left)>Np||Math.abs(o.top-t.top)>Np||Math.abs(o.width-t.width)>Np)&&a({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function qn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var une=typeof Symbol=="function"&&Symbol.observable||"@@observable",vT=une,mj=()=>Math.random().toString(36).substring(7).split("").join("."),mne={INIT:`@@redux/INIT${mj()}`,REPLACE:`@@redux/REPLACE${mj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mj()}`},Gx=mne;function aC(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function GD(e,t,a){if(typeof e!="function")throw new Error(qn(2));if(typeof t=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(qn(0));if(typeof t=="function"&&typeof a>"u"&&(a=t,t=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(qn(1));return a(GD)(e,t)}let n=e,s=t,i=new Map,o=i,l=0,d=!1;function c(){o===i&&(o=new Map,i.forEach((w,S)=>{o.set(S,w)}))}function g(){if(d)throw new Error(qn(3));return s}function h(w){if(typeof w!="function")throw new Error(qn(4));if(d)throw new Error(qn(5));let S=!0;c();const M=l++;return o.set(M,w),function(){if(S){if(d)throw new Error(qn(6));S=!1,c(),o.delete(M),i=null}}}function x(w){if(!aC(w))throw new Error(qn(7));if(typeof w.type>"u")throw new Error(qn(8));if(typeof w.type!="string")throw new Error(qn(17));if(d)throw new Error(qn(9));try{d=!0,s=n(s,w)}finally{d=!1}return(i=o).forEach(M=>{M()}),w}function b(w){if(typeof w!="function")throw new Error(qn(10));n=w,x({type:Gx.REPLACE})}function v(){const w=h;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(qn(11));function M(){const A=S;A.next&&A.next(g())}return M(),{unsubscribe:w(M)}},[vT](){return this}}}return x({type:Gx.INIT}),{dispatch:x,subscribe:h,getState:g,replaceReducer:b,[vT]:v}}function gne(e){Object.keys(e).forEach(t=>{const a=e[t];if(typeof a(void 0,{type:Gx.INIT})>"u")throw new Error(qn(12));if(typeof a(void 0,{type:Gx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qn(13))})}function YD(e){const t=Object.keys(e),a={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(a[o]=e[o])}const n=Object.keys(a);let s;try{gne(a)}catch(i){s=i}return function(o={},l){if(s)throw s;let d=!1;const c={};for(let g=0;g<n.length;g++){const h=n[g],x=a[h],b=o[h],v=x(b,l);if(typeof v>"u")throw l&&l.type,new Error(qn(14));c[h]=v,d=d||v!==b}return d=d||n.length!==Object.keys(o).length,d?c:o}}function Yx(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,a)=>(...n)=>t(a(...n)))}function hne(...e){return t=>(a,n)=>{const s=t(a,n);let i=()=>{throw new Error(qn(15))};const o={getState:s.getState,dispatch:(d,...c)=>i(d,...c)},l=e.map(d=>d(o));return i=Yx(...l)(s.dispatch),{...s,dispatch:i}}}function ZD(e){return aC(e)&&"type"in e&&typeof e.type=="string"}var XD=Symbol.for("immer-nothing"),kT=Symbol.for("immer-draftable"),Ts=Symbol.for("immer-state");function ho(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var pi=Object,Om=pi.getPrototypeOf,Zx="constructor",Sb="prototype",UN="configurable",Xx="enumerable",ox="writable",Hh="value",Yl=e=>!!e&&!!e[Ts];function Po(e){return e?JD(e)||Pb(e)||!!e[kT]||!!e[Zx]?.[kT]||Mb(e)||Tb(e):!1}var fne=pi[Sb][Zx].toString(),wT=new WeakMap;function JD(e){if(!e||!nC(e))return!1;const t=Om(e);if(t===null||t===pi[Sb])return!0;const a=pi.hasOwnProperty.call(t,Zx)&&t[Zx];if(a===Object)return!0;if(!sm(a))return!1;let n=wT.get(a);return n===void 0&&(n=Function.toString.call(a),wT.set(a,n)),n===fne}function P0(e,t,a=!0){M0(e)===0?(a?Reflect.ownKeys(e):pi.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function M0(e){const t=e[Ts];return t?t.type_:Pb(e)?1:Mb(e)?2:Tb(e)?3:0}var jT=(e,t,a=M0(e))=>a===2?e.has(t):pi[Sb].hasOwnProperty.call(e,t),qN=(e,t,a=M0(e))=>a===2?e.get(t):e[t],Jx=(e,t,a,n=M0(e))=>{n===2?e.set(t,a):n===3?e.add(a):e[t]=a};function pne(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Pb=Array.isArray,Mb=e=>e instanceof Map,Tb=e=>e instanceof Set,nC=e=>typeof e=="object",sm=e=>typeof e=="function",gj=e=>typeof e=="boolean",Al=e=>e.copy_||e.base_,sC=e=>e.modified_?e.copy_:e.base_;function VN(e,t){if(Mb(e))return new Map(e);if(Tb(e))return new Set(e);if(Pb(e))return Array[Sb].slice.call(e);const a=JD(e);if(t===!0||t==="class_only"&&!a){const n=pi.getOwnPropertyDescriptors(e);delete n[Ts];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l[ox]===!1&&(l[ox]=!0,l[UN]=!0),(l.get||l.set)&&(n[o]={[UN]:!0,[ox]:!0,[Xx]:l[Xx],[Hh]:e[o]})}return pi.create(Om(e),n)}else{const n=Om(e);if(n!==null&&a)return{...e};const s=pi.create(n);return pi.assign(s,e)}}function iC(e,t=!1){return Ib(e)||Yl(e)||!Po(e)||(M0(e)>1&&pi.defineProperties(e,{set:Cp,add:Cp,clear:Cp,delete:Cp}),pi.freeze(e),t&&P0(e,(a,n)=>{iC(n,!0)},!1)),e}function xne(){ho(2)}var Cp={[Hh]:xne};function Ib(e){return e===null||!nC(e)?!0:pi.isFrozen(e)}var ey="MapSet",HN="Patches",eB={};function Rm(e){const t=eB[e];return t||ho(0,e),t}var yne=e=>!!eB[e],Wh,tB=()=>Wh,bne=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:yne(ey)?Rm(ey):void 0});function NT(e,t){t&&(e.patchPlugin_=Rm(HN),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function WN(e){KN(e),e.drafts_.forEach(vne),e.drafts_=null}function KN(e){e===Wh&&(Wh=e.parent_)}var CT=e=>Wh=bne(Wh,e);function vne(e){const t=e[Ts];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ST(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];if(e!==void 0&&e!==a){a[Ts].modified_&&(WN(t),ho(4)),Po(e)&&(e=PT(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(a[Ts].base_,e,t)}else e=PT(t,a);return kne(t,e,!0),WN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==XD?e:void 0}function PT(e,t){if(Ib(t))return t;const a=t[Ts];if(!a)return oC(t,e.handledSet_,e);if(!Ab(a,e))return t;if(!a.modified_)return a.base_;if(!a.finalized_){const{callbacks_:n}=a;if(n)for(;n.length>0;)n.pop()(e);nB(a,e)}return a.copy_}function kne(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&iC(t,a)}function rB(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Ab=(e,t)=>e.scope_===t,wne=[];function aB(e,t,a,n){const s=Al(e),i=e.type_;if(n!==void 0&&qN(s,n,i)===t){Jx(s,n,a,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;P0(s,(d,c)=>{if(Yl(c)){const g=l.get(c)||[];g.push(d),l.set(c,g)}})}const o=e.draftLocations_.get(t)??wne;for(const l of o)Jx(s,l,a,i)}function jne(e,t,a){e.callbacks_.push(function(s){const i=t;if(!i||!Ab(i,s))return;s.mapSetPlugin_?.fixSetContents(i);const o=sC(i);aB(e,i.draft_??i,o,a),nB(i,s)})}function nB(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const s=n.getPath(e);s&&n.generatePatches_(e,s,t)}rB(e)}}function Nne(e,t,a){const{scope_:n}=e;if(Yl(a)){const s=a[Ts];Ab(s,n)&&s.callbacks_.push(function(){lx(e);const o=sC(s);aB(e,a,o,t)})}else Po(a)&&e.callbacks_.push(function(){const i=Al(e);qN(i,t,e.type_)===a&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&oC(qN(e.copy_,t,e.type_),n.handledSet_,n)})}function oC(e,t,a){return!a.immer_.autoFreeze_&&a.unfinalizedDrafts_<1||Yl(e)||t.has(e)||!Po(e)||Ib(e)||(t.add(e),P0(e,(n,s)=>{if(Yl(s)){const i=s[Ts];if(Ab(i,a)){const o=sC(i);Jx(e,n,o,e.type_),rB(i)}}else Po(s)&&oC(s,t,a)})),e}function Cne(e,t){const a=Pb(e),n={type_:a?1:0,scope_:t?t.scope_:tB(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=n,i=lC;a&&(s=[n],i=Kh);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,[l,n]}var lC={get(e,t){if(t===Ts)return e;const a=Al(e);if(!jT(a,t,e.type_))return Sne(e,a,t);const n=a[t];if(e.finalized_||!Po(n))return n;if(n===hj(e.base_,t)){lx(e);const s=e.type_===1?+t:t,i=GN(e.scope_,n,e,s);return e.copy_[s]=i}return n},has(e,t){return t in Al(e)},ownKeys(e){return Reflect.ownKeys(Al(e))},set(e,t,a){const n=sB(Al(e),t);if(n?.set)return n.set.call(e.draft_,a),!0;if(!e.modified_){const s=hj(Al(e),t),i=s?.[Ts];if(i&&i.base_===a)return e.copy_[t]=a,e.assigned_.set(t,!1),!0;if(pne(a,s)&&(a!==void 0||jT(e.base_,t,e.type_)))return!0;lx(e),QN(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_.set(t,!0),Nne(e,t,a)),!0},deleteProperty(e,t){return lx(e),hj(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),QN(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=Al(e),n=Reflect.getOwnPropertyDescriptor(a,t);return n&&{[ox]:!0,[UN]:e.type_!==1||t!=="length",[Xx]:n[Xx],[Hh]:a[t]}},defineProperty(){ho(11)},getPrototypeOf(e){return Om(e.base_)},setPrototypeOf(){ho(12)}},Kh={};P0(lC,(e,t)=>{Kh[e]=function(){const a=arguments;return a[0]=a[0][0],t.apply(this,a)}});Kh.deleteProperty=function(e,t){return Kh.set.call(this,e,t,void 0)};Kh.set=function(e,t,a){return lC.set.call(this,e[0],t,a,e[0])};function hj(e,t){const a=e[Ts];return(a?Al(a):e)[t]}function Sne(e,t,a){const n=sB(t,a);return n?Hh in n?n[Hh]:n.get?.call(e.draft_):void 0}function sB(e,t){if(!(t in e))return;let a=Om(e);for(;a;){const n=Object.getOwnPropertyDescriptor(a,t);if(n)return n;a=Om(a)}}function QN(e){e.modified_||(e.modified_=!0,e.parent_&&QN(e.parent_))}function lx(e){e.copy_||(e.assigned_=new Map,e.copy_=VN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Pne=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(a,n,s)=>{if(sm(a)&&!sm(n)){const o=n;n=a;const l=this;return function(c=o,...g){return l.produce(c,h=>n.call(this,h,...g))}}sm(n)||ho(6),s!==void 0&&!sm(s)&&ho(7);let i;if(Po(a)){const o=CT(this),l=GN(o,a,void 0);let d=!0;try{i=n(l),d=!1}finally{d?WN(o):KN(o)}return NT(o,s),ST(i,o)}else if(!a||!nC(a)){if(i=n(a),i===void 0&&(i=a),i===XD&&(i=void 0),this.autoFreeze_&&iC(i,!0),s){const o=[],l=[];Rm(HN).generateReplacementPatches_(a,i,{patches_:o,inversePatches_:l}),s(o,l)}return i}else ho(1,a)},this.produceWithPatches=(a,n)=>{if(sm(a))return(l,...d)=>this.produceWithPatches(l,c=>a(c,...d));let s,i;return[this.produce(a,n,(l,d)=>{s=l,i=d}),s,i]},gj(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),gj(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),gj(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Po(t)||ho(8),Yl(t)&&(t=yo(t));const a=CT(this),n=GN(a,t,void 0);return n[Ts].isManual_=!0,KN(a),n}finishDraft(t,a){const n=t&&t[Ts];(!n||!n.isManual_)&&ho(9);const{scope_:s}=n;return NT(s,a),ST(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,a){let n;for(n=a.length-1;n>=0;n--){const i=a[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(a=a.slice(n+1));const s=Rm(HN).applyPatches_;return Yl(t)?s(t,a):this.produce(t,i=>s(i,a))}};function GN(e,t,a,n){const[s,i]=Mb(t)?Rm(ey).proxyMap_(t,a):Tb(t)?Rm(ey).proxySet_(t,a):Cne(t,a);return(a?.scope_??tB()).drafts_.push(s),i.callbacks_=a?.callbacks_??[],i.key_=n,a&&n!==void 0?jne(a,i,n):i.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:c}=d;i.modified_&&c&&c.generatePatches_(i,[],d)}),s}function yo(e){return Yl(e)||ho(10,e),iB(e)}function iB(e){if(!Po(e)||Ib(e))return e;const t=e[Ts];let a,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=VN(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else a=VN(e,!0);return P0(a,(s,i)=>{Jx(a,s,iB(i))},n),t&&(t.finalized_=!1),a}var Mne=new Pne,oB=Mne.produce;function lB(e){return({dispatch:a,getState:n})=>s=>i=>typeof i=="function"?i(a,n,e):s(i)}var Tne=lB(),Ine=lB,Ane=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Yx:Yx.apply(null,arguments)};function Gi(e,t){function a(...n){if(t){let s=t(...n);if(!s)throw new Error(yi(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return a.toString=()=>`${e}`,a.type=e,a.match=n=>ZD(n)&&n.type===e,a}var dB=class ph extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ph.prototype)}static get[Symbol.species](){return ph}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ph(...t[0].concat(this)):new ph(...t.concat(this))}};function MT(e){return Po(e)?oB(e,()=>{}):e}function Sp(e,t,a){return e.has(t)?e.get(t):e.set(t,a(t)).get(t)}function Ene(e){return typeof e=="boolean"}var _ne=()=>function(t){const{thunk:a=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new dB;return a&&(Ene(a)?o.push(Tne):o.push(Ine(a.extraArgument))),o},cB="RTK_autoBatch",ja=()=>e=>({payload:e,meta:{[cB]:!0}}),TT=e=>t=>{setTimeout(t,e)},uB=(e={type:"raf"})=>t=>(...a)=>{const n=t(...a);let s=!0,i=!1,o=!1;const l=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:TT(10):e.type==="callback"?e.queueNotification:TT(e.timeout),c=()=>{o=!1,i&&(i=!1,l.forEach(g=>g()))};return Object.assign({},n,{subscribe(g){const h=()=>s&&g(),x=n.subscribe(h);return l.add(g),()=>{x(),l.delete(g)}},dispatch(g){try{return s=!g?.meta?.[cB],i=!s,i&&(o||(o=!0,d(c))),n.dispatch(g)}finally{s=!0}}})},One=e=>function(a){const{autoBatch:n=!0}=a??{};let s=new dB(e);return n&&s.push(uB(typeof n=="object"?n:void 0)),s};function Rne(e){const t=_ne(),{reducer:a=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof a=="function")l=a;else if(aC(a))l=YD(a);else throw new Error(yi(1));let d;typeof n=="function"?d=n(t):d=t();let c=Yx;s&&(c=Ane({trace:!1,...typeof s=="object"&&s}));const g=hne(...d),h=One(g);let x=typeof o=="function"?o(h):h();const b=c(...x);return GD(l,i,b)}function mB(e){const t={},a=[];let n;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(yi(28));if(l in t)throw new Error(yi(29));return t[l]=o,s},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&a.push({matcher:i.settled,reducer:o.settled}),s},addMatcher(i,o){return a.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,a,n]}function Dne(e){return typeof e=="function"}function Bne(e,t){let[a,n,s]=mB(t),i;if(Dne(e))i=()=>MT(e());else{const l=MT(e);i=()=>l}function o(l=i(),d){let c=[a[d.type],...n.filter(({matcher:g})=>g(d)).map(({reducer:g})=>g)];return c.filter(g=>!!g).length===0&&(c=[s]),c.reduce((g,h)=>{if(h)if(Yl(g)){const b=h(g,d);return b===void 0?g:b}else{if(Po(g))return oB(g,x=>h(x,d));{const x=h(g,d);if(x===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return g},l)}return o.getInitialState=i,o}var Lne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$ne=(e=21)=>{let t="",a=e;for(;a--;)t+=Lne[Math.random()*64|0];return t},Fne=Symbol.for("rtk-slice-createasyncthunk");function zne(e,t){return`${e}/${t}`}function Une({creators:e}={}){const t=e?.asyncThunk?.[Fne];return function(n){const{name:s,reducerPath:i=s}=n;if(!s)throw new Error(yi(11));const o=(typeof n.reducers=="function"?n.reducers(Vne()):n.reducers)||{},l=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(T,A){const I=typeof T=="string"?T:T.type;if(!I)throw new Error(yi(12));if(I in d.sliceCaseReducersByType)throw new Error(yi(13));return d.sliceCaseReducersByType[I]=A,c},addMatcher(T,A){return d.sliceMatchers.push({matcher:T,reducer:A}),c},exposeAction(T,A){return d.actionCreators[T]=A,c},exposeCaseReducer(T,A){return d.sliceCaseReducersByName[T]=A,c}};l.forEach(T=>{const A=o[T],I={reducerName:T,type:zne(s,T),createNotation:typeof n.reducers=="function"};Wne(A)?Qne(I,A,c,t):Hne(I,A,c)});function g(){const[T={},A=[],I=void 0]=typeof n.extraReducers=="function"?mB(n.extraReducers):[n.extraReducers],_={...T,...d.sliceCaseReducersByType};return Bne(n.initialState,D=>{for(let E in _)D.addCase(E,_[E]);for(let E of d.sliceMatchers)D.addMatcher(E.matcher,E.reducer);for(let E of A)D.addMatcher(E.matcher,E.reducer);I&&D.addDefaultCase(I)})}const h=T=>T,x=new Map,b=new WeakMap;let v;function j(T,A){return v||(v=g()),v(T,A)}function w(){return v||(v=g()),v.getInitialState()}function S(T,A=!1){function I(D){let E=D[T];return typeof E>"u"&&A&&(E=Sp(b,I,w)),E}function _(D=h){const E=Sp(x,A,()=>new WeakMap);return Sp(E,D,()=>{const X={};for(const[ee,Z]of Object.entries(n.selectors??{}))X[ee]=qne(Z,D,()=>Sp(b,D,w),A);return X})}return{reducerPath:T,getSelectors:_,get selectors(){return _(I)},selectSlice:I}}const M={name:s,reducer:j,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:w,...S(i),injectInto(T,{reducerPath:A,...I}={}){const _=A??i;return T.inject({reducerPath:_,reducer:j},I),{...M,...S(_,!0)}}};return M}}function qne(e,t,a,n){function s(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=a()),e(l,...o)}return s.unwrapped=e,s}var Js=Une();function Vne(){function e(t,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...a}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...a){return t(...a)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:a}},asyncThunk:e}}function Hne({type:e,reducerName:t,createNotation:a},n,s){let i,o;if("reducer"in n){if(a&&!Kne(n))throw new Error(yi(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Gi(e,o):Gi(e))}function Wne(e){return e._reducerDefinitionType==="asyncThunk"}function Kne(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Qne({type:e,reducerName:t},a,n,s){if(!s)throw new Error(yi(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:d,settled:c,options:g}=a,h=s(e,i,g);n.exposeAction(t,h),o&&n.addCase(h.fulfilled,o),l&&n.addCase(h.pending,l),d&&n.addCase(h.rejected,d),c&&n.addMatcher(h.settled,c),n.exposeCaseReducer(t,{fulfilled:o||Pp,pending:l||Pp,rejected:d||Pp,settled:c||Pp})}function Pp(){}var Gne="task",gB="listener",hB="completed",dC="cancelled",Yne=`task-${dC}`,Zne=`task-${hB}`,YN=`${gB}-${dC}`,Xne=`${gB}-${hB}`,Eb=class{constructor(e){this.code=e,this.message=`${Gne} ${dC} (reason: ${e})`}name="TaskAbortError";message},cC=(e,t)=>{if(typeof e!="function")throw new TypeError(yi(32))},ty=()=>{},fB=(e,t=ty)=>(e.catch(t),e),pB=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Zc=e=>{if(e.aborted)throw new Eb(e.reason)};function xB(e,t){let a=ty;return new Promise((n,s)=>{const i=()=>s(new Eb(e.reason));if(e.aborted){i();return}a=pB(e,i),t.finally(()=>a()).then(n,s)}).finally(()=>{a=ty})}var Jne=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(a){return{status:a instanceof Eb?"cancelled":"rejected",error:a}}finally{t?.()}},ry=e=>t=>fB(xB(e,t).then(a=>(Zc(e),a))),yB=e=>{const t=ry(e);return a=>t(new Promise(n=>setTimeout(n,a)))},{assign:pm}=Object,IT={},_b="listenerMiddleware",ese=(e,t)=>{const a=n=>pB(e,()=>n.abort(e.reason));return(n,s)=>{cC(n);const i=new AbortController;a(i);const o=Jne(async()=>{Zc(e),Zc(i.signal);const l=await n({pause:ry(i.signal),delay:yB(i.signal),signal:i.signal});return Zc(i.signal),l},()=>i.abort(Zne));return s?.autoJoin&&t.push(o.catch(ty)),{result:ry(e)(o),cancel(){i.abort(Yne)}}}},tse=(e,t)=>{const a=async(n,s)=>{Zc(t);let i=()=>{};const l=[new Promise((d,c)=>{let g=e({predicate:n,effect:(h,x)=>{x.unsubscribe(),d([h,x.getState(),x.getOriginalState()])}});i=()=>{g(),c()}})];s!=null&&l.push(new Promise(d=>setTimeout(d,s,null)));try{const d=await xB(t,Promise.race(l));return Zc(t),d}finally{i()}};return(n,s)=>fB(a(n,s))},bB=e=>{let{type:t,actionCreator:a,matcher:n,predicate:s,effect:i}=e;if(t)s=Gi(t).match;else if(a)t=a.type,s=a.match;else if(n)s=n;else if(!s)throw new Error(yi(21));return cC(i),{predicate:s,type:t,effect:i}},vB=pm(e=>{const{type:t,predicate:a,effect:n}=bB(e);return{id:$ne(),effect:n,type:t,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(yi(22))}}},{withTypes:()=>vB}),AT=(e,t)=>{const{type:a,effect:n,predicate:s}=bB(t);return Array.from(e.values()).find(i=>(typeof a=="string"?i.type===a:i.predicate===s)&&i.effect===n)},ZN=e=>{e.pending.forEach(t=>{t.abort(YN)})},rse=(e,t)=>()=>{for(const a of t.keys())ZN(a);e.clear()},ET=(e,t,a)=>{try{e(t,a)}catch(n){setTimeout(()=>{throw n},0)}},kB=pm(Gi(`${_b}/add`),{withTypes:()=>kB}),ase=Gi(`${_b}/removeAll`),wB=pm(Gi(`${_b}/remove`),{withTypes:()=>wB}),nse=(...e)=>{console.error(`${_b}/error`,...e)},T0=(e={})=>{const t=new Map,a=new Map,n=b=>{const v=a.get(b)??0;a.set(b,v+1)},s=b=>{const v=a.get(b)??1;v===1?a.delete(b):a.set(b,v-1)},{extra:i,onError:o=nse}=e;cC(o);const l=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),v=>{b.unsubscribe(),v?.cancelActive&&ZN(b)}),d=b=>{const v=AT(t,b)??vB(b);return l(v)};pm(d,{withTypes:()=>d});const c=b=>{const v=AT(t,b);return v&&(v.unsubscribe(),b.cancelActive&&ZN(v)),!!v};pm(c,{withTypes:()=>c});const g=async(b,v,j,w)=>{const S=new AbortController,M=tse(d,S.signal),T=[];try{b.pending.add(S),n(b),await Promise.resolve(b.effect(v,pm({},j,{getOriginalState:w,condition:(A,I)=>M(A,I).then(Boolean),take:M,delay:yB(S.signal),pause:ry(S.signal),extra:i,signal:S.signal,fork:ese(S.signal,T),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((A,I,_)=>{A!==S&&(A.abort(YN),_.delete(A))})},cancel:()=>{S.abort(YN),b.pending.delete(S)},throwIfCancelled:()=>{Zc(S.signal)}})))}catch(A){A instanceof Eb||ET(o,A,{raisedBy:"effect"})}finally{await Promise.all(T),S.abort(Xne),s(b),b.pending.delete(S)}},h=rse(t,a);return{middleware:b=>v=>j=>{if(!ZD(j))return v(j);if(kB.match(j))return d(j.payload);if(ase.match(j)){h();return}if(wB.match(j))return c(j.payload);let w=b.getState();const S=()=>{if(w===IT)throw new Error(yi(23));return w};let M;try{if(M=v(j),t.size>0){const T=b.getState(),A=Array.from(t.values());for(const I of A){let _=!1;try{_=I.predicate(j,T,w)}catch(D){_=!1,ET(o,D,{raisedBy:"predicate"})}_&&g(I,j,b,S)}}}finally{w=IT}return M},startListening:d,stopListening:c,clearListeners:h}};function yi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sse={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},jB=Js({name:"chartLayout",initialState:sse,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var a,n,s,i;e.margin.top=(a=t.payload.top)!==null&&a!==void 0?a:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:ise,setLayout:ose,setChartSize:lse,setScale:dse}=jB.actions,cse=jB.reducer;function NB(e,t,a){return Array.isArray(e)&&e&&t+a!==0?e.slice(t,a+1):e}function _T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function cm(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(a),!0).forEach(function(n){use(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_T(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function use(e,t,a){return(t=mse(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mse(e){var t=gse(e,"string");return typeof t=="symbol"?t:t+""}function gse(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Na(e,t,a){return Ln(e)||Ln(t)?a:sl(t)?su(e,t,a):typeof t=="function"?t(e):a}var hse=(e,t,a)=>{if(t&&a){var{width:n,height:s}=a,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&$t(e[i]))return cm(cm({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&$t(e[o]))return cm(cm({},e),{},{[o]:e[o]+(s||0)})}return e},pu=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",CB=(e,t,a,n)=>{if(n)return e.map(l=>l.coordinate);var s,i,o=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===a&&(i=!0),l.coordinate));return s||o.push(t),i||o.push(a),o},SB=(e,t,a)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:l,isCategorical:d,categoricalDomain:c,tickCount:g,ticks:h,niceTicks:x,axisType:b}=e;if(!o)return null;var v=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,j=s==="category"&&o.bandwidth?o.bandwidth()/v:0;if(j=b==="angleAxis"&&i&&i.length>=2?Rn(i[0]-i[1])*2*j:j,h||x){var w=(h||x||[]).map((S,M)=>{var T=n?n.indexOf(S):S;return{coordinate:o(T)+j,value:S,offset:j,index:M}});return w.filter(S=>!So(S.coordinate))}return d&&c?c.map((S,M)=>({coordinate:o(S)+j,value:S,index:M,offset:j})):o.ticks&&g!=null?o.ticks(g).map((S,M)=>({coordinate:o(S)+j,value:S,offset:j,index:M})):o.domain().map((S,M)=>({coordinate:o(S)+j,value:n?n[S]:S,index:M,offset:j}))},OT=1e-4,fse=e=>{var t=e.domain();if(!(!t||t.length<=2)){var a=t.length,n=e.range(),s=Math.min(n[0],n[1])-OT,i=Math.max(n[0],n[1])+OT,o=e(t[0]),l=e(t[a-1]);(o<s||o>i||l<s||l>i)&&e.domain([t[0],t[a-1]])}},pse=(e,t)=>{if(!t||t.length!==2||!$t(t[0])||!$t(t[1]))return e;var a=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!$t(e[0])||e[0]<a)&&(s[0]=a),(!$t(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<a&&(s[1]=a),s},xse=e=>{var t=e.length;if(!(t<=0))for(var a=0,n=e[0].length;a<n;++a)for(var s=0,i=0,o=0;o<t;++o){var l=So(e[o][a][1])?e[o][a][0]:e[o][a][1];l>=0?(e[o][a][0]=s,e[o][a][1]=s+l,s=e[o][a][1]):(e[o][a][0]=i,e[o][a][1]=i+l,i=e[o][a][1])}},yse=e=>{var t=e.length;if(!(t<=0))for(var a=0,n=e[0].length;a<n;++a)for(var s=0,i=0;i<t;++i){var o=So(e[i][a][1])?e[i][a][0]:e[i][a][1];o>=0?(e[i][a][0]=s,e[i][a][1]=s+o,s=e[i][a][1]):(e[i][a][0]=0,e[i][a][1]=0)}},bse={sign:xse,expand:Hre,none:_m,silhouette:Wre,wiggle:Kre,positive:yse},vse=(e,t,a)=>{var n=bse[a],s=Vre().keys(t).value((i,o)=>Number(Na(i,o,0))).order(FN).offset(n);return s(e)};function kse(e){return e==null?void 0:String(e)}var RT=e=>{var{axis:t,ticks:a,offset:n,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return a[o]?a[o].coordinate+n:null;var l=Na(i,t.dataKey,t.scale.domain()[o]);return Ln(l)?null:t.scale(l)-s/2+n},wse=e=>{var{numericAxis:t}=e,a=t.scale.domain();if(t.type==="number"){var n=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return n<=0&&s>=0?0:s<0?s:n}return a[0]},jse=e=>{var t=e.flat(2).filter($t);return[Math.min(...t),Math.max(...t)]},Nse=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Cse=(e,t,a)=>{if(e!=null)return Nse(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,l=o.reduce((d,c)=>{var g=NB(c,t,a),h=jse(g);return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},DT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ay=(e,t,a)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!a||n>0)return n}if(e&&t&&t.length>=2){for(var s=Cb(t,g=>g.coordinate),i=1/0,o=1,l=s.length;o<l;o++){var d=s[o],c=s[o-1];i=Math.min((d.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return a?void 0:0};function LT(e){var{tooltipEntrySettings:t,dataKey:a,payload:n,value:s,name:i}=e;return cm(cm({},t),{},{dataKey:a,payload:n,value:s,name:i})}function Ob(e,t){if(e)return String(e);if(typeof t=="string")return t}var Sse=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Pse=(e,t)=>t==="centric"?e.angle:e.radius,ad=e=>e.layout.width,nd=e=>e.layout.height,Mse=e=>e.layout.scale,PB=e=>e.layout.margin,Rb=De(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Db=De(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),MB="data-recharts-item-index",TB="data-recharts-item-data-key",I0=60;function $T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Mp(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(a),!0).forEach(function(n){Tse(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$T(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Tse(e,t,a){return(t=Ise(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ise(e){var t=Ase(e,"string");return typeof t=="symbol"?t:t+""}function Ase(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ese=e=>e.brush.height;function _se(e){var t=Db(e);return t.reduce((a,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:I0;return a+s}return a},0)}function Ose(e){var t=Db(e);return t.reduce((a,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:I0;return a+s}return a},0)}function Rse(e){var t=Rb(e);return t.reduce((a,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?a+n.height:a,0)}function Dse(e){var t=Rb(e);return t.reduce((a,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?a+n.height:a,0)}var kn=De([ad,nd,PB,Ese,_se,Ose,Rse,Dse,QD,lne],(e,t,a,n,s,i,o,l,d,c)=>{var g={left:(a.left||0)+s,right:(a.right||0)+i},h={top:(a.top||0)+o,bottom:(a.bottom||0)+l},x=Mp(Mp({},h),g),b=x.bottom;x.bottom+=n,x=hse(x,d,c);var v=e-x.left-x.right,j=t-x.top-x.bottom;return Mp(Mp({brushBottom:b},x),{},{width:Math.max(v,0),height:Math.max(j,0)})}),Bse=De(kn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),uC=De(ad,nd,(e,t)=>({x:0,y:0,width:e,height:t})),Lse=p.createContext(null),ei=()=>p.useContext(Lse)!=null,Bb=e=>e.brush,Lb=De([Bb,kn,PB],(e,t,a)=>({height:e.height,x:$t(e.x)?e.x:t.left,y:$t(e.y)?e.y:t.top+t.height+t.brushBottom-(a?.bottom||0),width:$t(e.width)?e.width:t.width})),fj={},pj={},xj={},FT;function $se(){return FT||(FT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,n,{signal:s,edges:i}={}){let o,l=null;const d=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),g=()=>{l!==null&&(a.apply(o,l),o=void 0,l=null)},h=()=>{c&&g(),j()};let x=null;const b=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,h()},n)},v=()=>{x!==null&&(clearTimeout(x),x=null)},j=()=>{v(),o=void 0,l=null},w=()=>{g()},S=function(...M){if(s?.aborted)return;o=this,l=M;const T=x==null;b(),d&&T&&g()};return S.schedule=b,S.cancel=j,S.flush=w,s?.addEventListener("abort",j,{once:!0}),S}e.debounce=t})(xj)),xj}var zT;function Fse(){return zT||(zT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$se();function a(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:d}=i,c=Array(2);o&&(c[0]="leading"),l&&(c[1]="trailing");let g,h=null;const x=t.debounce(function(...j){g=n.apply(this,j),h=null},s,{edges:c}),b=function(...j){return d!=null&&(h===null&&(h=Date.now()),Date.now()-h>=d)?(g=n.apply(this,j),h=Date.now(),x.cancel(),x.schedule(),g):(x.apply(this,j),g)},v=()=>(x.flush(),g);return b.cancel=x.cancel,b.flush=v,b}e.debounce=a})(pj)),pj}var UT;function zse(){return UT||(UT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fse();function a(n,s=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,s,{leading:o,maxWait:s,trailing:l})}e.throttle=a})(fj)),fj}var yj,qT;function Use(){return qT||(qT=1,yj=zse().throttle),yj}var qse=Use();const Vse=Mo(qse);var ny=function(t,a){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(a===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(a===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(a.replace(/%s/g,()=>s[o++]))}},IB=(e,t,a)=>{var{width:n="100%",height:s="100%",aspect:i,maxHeight:o}=a,l=Gl(n)?e:Number(n),d=Gl(s)?t:Number(s);return i&&i>0&&(l?d=l/i:d&&(l=d*i),o&&d!=null&&d>o&&(d=o)),{calculatedWidth:l,calculatedHeight:d}},Hse={width:0,height:0,overflow:"visible"},Wse={width:0,overflowX:"visible"},Kse={height:0,overflowY:"visible"},Qse={},Gse=e=>{var{width:t,height:a}=e,n=Gl(t),s=Gl(a);return n&&s?Hse:n?Wse:s?Kse:Qse};function Yse(e){var{width:t,height:a,aspect:n}=e,s=t,i=a;return s===void 0&&i===void 0?(s="100%",i="100%"):s===void 0?s=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:s,height:i}}function Xa(e){return Number.isFinite(e)}function il(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},XN.apply(null,arguments)}function VT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function HT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(a),!0).forEach(function(n){Zse(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):VT(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Zse(e,t,a){return(t=Xse(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Xse(e){var t=Jse(e,"string");return typeof t=="symbol"?t:t+""}function Jse(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AB=p.createContext({width:-1,height:-1});function eie(e){return il(e.width)&&il(e.height)}function EB(e){var{children:t,width:a,height:n}=e,s=p.useMemo(()=>({width:a,height:n}),[a,n]);return eie(s)?p.createElement(AB.Provider,{value:s},t):null}var mC=()=>p.useContext(AB),tie=p.forwardRef((e,t)=>{var{aspect:a,initialDimension:n={width:-1,height:-1},width:s,height:i,minWidth:o=0,minHeight:l,maxHeight:d,children:c,debounce:g=0,id:h,className:x,onResize:b,style:v={}}=e,j=p.useRef(null),w=p.useRef();w.current=b,p.useImperativeHandle(t,()=>j.current);var[S,M]=p.useState({containerWidth:n.width,containerHeight:n.height}),T=p.useCallback((E,X)=>{M(ee=>{var Z=Math.round(E),B=Math.round(X);return ee.containerWidth===Z&&ee.containerHeight===B?ee:{containerWidth:Z,containerHeight:B}})},[]);p.useEffect(()=>{if(j.current==null||typeof ResizeObserver>"u")return S0;var E=B=>{var G,{width:J,height:ce}=B[0].contentRect;T(J,ce),(G=w.current)===null||G===void 0||G.call(w,J,ce)};g>0&&(E=Vse(E,g,{trailing:!0,leading:!1}));var X=new ResizeObserver(E),{width:ee,height:Z}=j.current.getBoundingClientRect();return T(ee,Z),X.observe(j.current),()=>{X.disconnect()}},[T,g]);var{containerWidth:A,containerHeight:I}=S;ny(!a||a>0,"The aspect(%s) must be greater than zero.",a);var{calculatedWidth:_,calculatedHeight:D}=IB(A,I,{width:s,height:i,aspect:a,maxHeight:d});return ny(_!=null&&_>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,D,s,i,o,l,a),p.createElement("div",{id:h?"".concat(h):void 0,className:na("recharts-responsive-container",x),style:HT(HT({},v),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:d}),ref:j},p.createElement("div",{style:Gse({width:s,height:i})},p.createElement(EB,{width:_,height:D},c)))}),_B=p.forwardRef((e,t)=>{var a=mC();if(il(a.width)&&il(a.height))return e.children;var{width:n,height:s}=Yse({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=IB(void 0,void 0,{width:n,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return $t(i)&&$t(o)?p.createElement(EB,{width:i,height:o},e.children):p.createElement(tie,XN({},e,{width:n,height:s,ref:t}))});function OB(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var $b=()=>{var e,t=ei(),a=Bt(Bse),n=Bt(Lb),s=(e=Bt(Bb))===null||e===void 0?void 0:e.padding;return!t||!n||!s?a:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},rie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},RB=()=>{var e;return(e=Bt(kn))!==null&&e!==void 0?e:rie},DB=()=>Bt(ad),BB=()=>Bt(nd),Hr=e=>e.layout.layoutType,Fb=()=>Bt(Hr),aie=()=>{var e=Fb();return e!==void 0},zb=e=>{var t=Pa(),a=ei(),{width:n,height:s}=e,i=mC(),o=n,l=s;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:s),p.useEffect(()=>{!a&&il(o)&&il(l)&&t(lse({width:o,height:l}))},[t,a,o,l]),null},LB=Symbol.for("immer-nothing"),WT=Symbol.for("immer-draftable"),ki=Symbol.for("immer-state");function fo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qh=Object.getPrototypeOf;function Dm(e){return!!e&&!!e[ki]}function iu(e){return e?$B(e)||Array.isArray(e)||!!e[WT]||!!e.constructor?.[WT]||A0(e)||qb(e):!1}var nie=Object.prototype.constructor.toString(),KT=new WeakMap;function $B(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(a===Object)return!0;if(typeof a!="function")return!1;let n=KT.get(a);return n===void 0&&(n=Function.toString.call(a),KT.set(a,n)),n===nie}function sy(e,t,a=!0){Ub(e)===0?(a?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function Ub(e){const t=e[ki];return t?t.type_:Array.isArray(e)?1:A0(e)?2:qb(e)?3:0}function JN(e,t){return Ub(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function FB(e,t,a){const n=Ub(e);n===2?e.set(t,a):n===3?e.add(a):e[t]=a}function sie(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function A0(e){return e instanceof Map}function qb(e){return e instanceof Set}function Oc(e){return e.copy_||e.base_}function e1(e,t){if(A0(e))return new Map(e);if(qb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const a=$B(e);if(t===!0||t==="class_only"&&!a){const n=Object.getOwnPropertyDescriptors(e);delete n[ki];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Qh(e),n)}else{const n=Qh(e);if(n!==null&&a)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function gC(e,t=!1){return Vb(e)||Dm(e)||!iu(e)||(Ub(e)>1&&Object.defineProperties(e,{set:Tp,add:Tp,clear:Tp,delete:Tp}),Object.freeze(e),t&&Object.values(e).forEach(a=>gC(a,!0))),e}function iie(){fo(2)}var Tp={value:iie};function Vb(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var oie={};function ou(e){const t=oie[e];return t||fo(0,e),t}var Gh;function zB(){return Gh}function lie(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function QT(e,t){t&&(ou("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function t1(e){r1(e),e.drafts_.forEach(die),e.drafts_=null}function r1(e){e===Gh&&(Gh=e.parent_)}function GT(e){return Gh=lie(Gh,e)}function die(e){const t=e[ki];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function YT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];return e!==void 0&&e!==a?(a[ki].modified_&&(t1(t),fo(4)),iu(e)&&(e=iy(t,e),t.parent_||oy(t,e)),t.patches_&&ou("Patches").generateReplacementPatches_(a[ki].base_,e,t.patches_,t.inversePatches_)):e=iy(t,a,[]),t1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==LB?e:void 0}function iy(e,t,a){if(Vb(t))return t;const n=e.immer_.shouldUseStrictIteration(),s=t[ki];if(!s)return sy(t,(i,o)=>ZT(e,s,t,i,o,a),n),t;if(s.scope_!==e)return t;if(!s.modified_)return oy(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const i=s.copy_;let o=i,l=!1;s.type_===3&&(o=new Set(i),i.clear(),l=!0),sy(o,(d,c)=>ZT(e,s,i,d,c,a,l),n),oy(e,i,!1),a&&e.patches_&&ou("Patches").generatePatches_(s,a,e.patches_,e.inversePatches_)}return s.copy_}function ZT(e,t,a,n,s,i,o){if(s==null||typeof s!="object"&&!o)return;const l=Vb(s);if(!(l&&!o)){if(Dm(s)){const d=i&&t&&t.type_!==3&&!JN(t.assigned_,n)?i.concat(n):void 0,c=iy(e,s,d);if(FB(a,n,c),Dm(c))e.canAutoFreeze_=!1;else return}else o&&a.add(s);if(iu(s)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===s&&l)return;iy(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(A0(a)?a.has(n):Object.prototype.propertyIsEnumerable.call(a,n))&&oy(e,s)}}}function oy(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&gC(t,a)}function cie(e,t){const a=Array.isArray(e),n={type_:a?1:0,scope_:t?t.scope_:zB(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=hC;a&&(s=[n],i=Yh);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,l}var hC={get(e,t){if(t===ki)return e;const a=Oc(e);if(!JN(a,t))return uie(e,a,t);const n=a[t];return e.finalized_||!iu(n)?n:n===bj(e.base_,t)?(vj(e),e.copy_[t]=n1(n,e)):n},has(e,t){return t in Oc(e)},ownKeys(e){return Reflect.ownKeys(Oc(e))},set(e,t,a){const n=UB(Oc(e),t);if(n?.set)return n.set.call(e.draft_,a),!0;if(!e.modified_){const s=bj(Oc(e),t),i=s?.[ki];if(i&&i.base_===a)return e.copy_[t]=a,e.assigned_[t]=!1,!0;if(sie(a,s)&&(a!==void 0||JN(e.base_,t)))return!0;vj(e),a1(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_[t]=!0),!0},deleteProperty(e,t){return bj(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,vj(e),a1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=Oc(e),n=Reflect.getOwnPropertyDescriptor(a,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:a[t]}},defineProperty(){fo(11)},getPrototypeOf(e){return Qh(e.base_)},setPrototypeOf(){fo(12)}},Yh={};sy(hC,(e,t)=>{Yh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Yh.deleteProperty=function(e,t){return Yh.set.call(this,e,t,void 0)};Yh.set=function(e,t,a){return hC.set.call(this,e[0],t,a,e[0])};function bj(e,t){const a=e[ki];return(a?Oc(a):e)[t]}function uie(e,t,a){const n=UB(t,a);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function UB(e,t){if(!(t in e))return;let a=Qh(e);for(;a;){const n=Object.getOwnPropertyDescriptor(a,t);if(n)return n;a=Qh(a)}}function a1(e){e.modified_||(e.modified_=!0,e.parent_&&a1(e.parent_))}function vj(e){e.copy_||(e.copy_=e1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mie=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,a,n)=>{if(typeof t=="function"&&typeof a!="function"){const i=a;a=t;const o=this;return function(d=i,...c){return o.produce(d,g=>a.call(this,g,...c))}}typeof a!="function"&&fo(6),n!==void 0&&typeof n!="function"&&fo(7);let s;if(iu(t)){const i=GT(this),o=n1(t,void 0);let l=!0;try{s=a(o),l=!1}finally{l?t1(i):r1(i)}return QT(i,n),YT(s,i)}else if(!t||typeof t!="object"){if(s=a(t),s===void 0&&(s=t),s===LB&&(s=void 0),this.autoFreeze_&&gC(s,!0),n){const i=[],o=[];ou("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else fo(1,t)},this.produceWithPatches=(t,a)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,d=>t(d,...l));let n,s;return[this.produce(t,a,(o,l)=>{n=o,s=l}),n,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){iu(e)||fo(8),Dm(e)&&(e=gie(e));const t=GT(this),a=n1(e,void 0);return a[ki].isManual_=!0,r1(t),a}finishDraft(e,t){const a=e&&e[ki];(!a||!a.isManual_)&&fo(9);const{scope_:n}=a;return QT(n,t),YT(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let a;for(a=t.length-1;a>=0;a--){const s=t[a];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}a>-1&&(t=t.slice(a+1));const n=ou("Patches").applyPatches_;return Dm(e)?n(e,t):this.produce(e,s=>n(s,t))}};function n1(e,t){const a=A0(e)?ou("MapSet").proxyMap_(e,t):qb(e)?ou("MapSet").proxySet_(e,t):cie(e,t);return(t?t.scope_:zB()).drafts_.push(a),a}function gie(e){return Dm(e)||fo(10,e),qB(e)}function qB(e){if(!iu(e)||Vb(e))return e;const t=e[ki];let a,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=e1(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else a=e1(e,!0);return sy(a,(s,i)=>{FB(a,s,qB(i))},n),t&&(t.finalized_=!1),a}var hie=new mie;hie.produce;var fie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},VB=Js({name:"legend",initialState:fie,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ja()},replaceLegendPayload:{reducer(e,t){var{prev:a,next:n}=t.payload,s=yo(e).payload.indexOf(a);s>-1&&(e.payload[s]=n)},prepare:ja()},removeLegendPayload:{reducer(e,t){var a=yo(e).payload.indexOf(t.payload);a>-1&&e.payload.splice(a,1)},prepare:ja()}}}),{setLegendSize:Nje,setLegendSettings:Cje,addLegendPayload:HB,replaceLegendPayload:WB,removeLegendPayload:KB}=VB.actions,pie=VB.reducer;function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s1.apply(null,arguments)}function XT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function kj(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(a),!0).forEach(function(n){xie(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):XT(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function xie(e,t,a){return(t=yie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function yie(e){var t=bie(e,"string");return typeof t=="symbol"?t:t+""}function bie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vie(e){return Array.isArray(e)&&sl(e[0])&&sl(e[1])?e.join(" ~ "):e}var kie=e=>{var{separator:t=" : ",contentStyle:a={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:d,labelClassName:c,label:g,labelFormatter:h,accessibilityLayer:x=!1}=e,b=()=>{if(i&&i.length){var I={padding:0,margin:0},_=(l?Cb(i,l):i).map((D,E)=>{if(D.type==="none")return null;var X=D.formatter||o||vie,{value:ee,name:Z}=D,B=ee,G=Z;if(X){var J=X(ee,Z,D,E,i);if(Array.isArray(J))[B,G]=J;else if(J!=null)B=J;else return null}var ce=kj({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:ce},sl(G)?p.createElement("span",{className:"recharts-tooltip-item-name"},G):null,sl(G)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},B),p.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:I},_)}return null},v=kj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=kj({margin:0},s),w=!Ln(g),S=w?g:"",M=na("recharts-default-tooltip",d),T=na("recharts-tooltip-label",c);w&&h&&i!==void 0&&i!==null&&(S=h(g,i));var A=x?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",s1({className:M,style:v},A),p.createElement("p",{className:T,style:j},p.isValidElement(S)?S:"".concat(S)),b())},th="recharts-tooltip-wrapper",wie={visibility:"hidden"};function jie(e){var{coordinate:t,translateX:a,translateY:n}=e;return na(th,{["".concat(th,"-right")]:$t(a)&&t&&$t(t.x)&&a>=t.x,["".concat(th,"-left")]:$t(a)&&t&&$t(t.x)&&a<t.x,["".concat(th,"-bottom")]:$t(n)&&t&&$t(t.y)&&n>=t.y,["".concat(th,"-top")]:$t(n)&&t&&$t(t.y)&&n<t.y})}function JT(e){var{allowEscapeViewBox:t,coordinate:a,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l,viewBox:d,viewBoxDimension:c}=e;if(i&&$t(i[n]))return i[n];var g=a[n]-l-(s>0?s:0),h=a[n]+s;if(t[n])return o[n]?g:h;var x=d[n];if(x==null)return 0;if(o[n]){var b=g,v=x;return b<v?Math.max(h,x):Math.max(g,x)}if(c==null)return 0;var j=h+l,w=x+c;return j>w?Math.max(g,x):Math.max(h,x)}function Nie(e){var{translateX:t,translateY:a,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(a,"px, 0)"):"translate(".concat(t,"px, ").concat(a,"px)")}}function Cie(e){var{allowEscapeViewBox:t,coordinate:a,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:d}=e,c,g,h;return o.height>0&&o.width>0&&a?(g=JT({allowEscapeViewBox:t,coordinate:a,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),h=JT({allowEscapeViewBox:t,coordinate:a,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),c=Nie({translateX:g,translateY:h,useTranslate3d:l})):c=wie,{cssProperties:c,cssClasses:jie({translateX:g,translateY:h,coordinate:a})}}function eI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Ip(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(a),!0).forEach(function(n){i1(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eI(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function i1(e,t,a){return(t=Sie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Sie(e){var t=Pie(e,"string");return typeof t=="symbol"?t:t+""}function Pie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Mie extends p.PureComponent{constructor(){super(...arguments),i1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),i1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var a,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&a!==void 0?a:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,a;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:a,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:l,isAnimationActive:d,offset:c,position:g,reverseDirection:h,useTranslate3d:x,viewBox:b,wrapperStyle:v,lastBoundingBox:j,innerRef:w,hasPortalFromProps:S}=this.props,{cssClasses:M,cssProperties:T}=Cie({allowEscapeViewBox:a,coordinate:o,offsetTopLeft:c,position:g,reverseDirection:h,tooltipBox:{height:j.height,width:j.width},useTranslate3d:x,viewBox:b}),A=S?{}:Ip(Ip({transition:d&&t?"transform ".concat(n,"ms ").concat(s):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),I=Ip(Ip({},A),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},v);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:I,ref:w},i)}}var QB=()=>{var e;return(e=Bt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function o1(){return o1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o1.apply(null,arguments)}function tI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function rI(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(a),!0).forEach(function(n){Tie(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tI(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Tie(e,t,a){return(t=Iie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Iie(e){var t=Aie(e,"string");return typeof t=="symbol"?t:t+""}function Aie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aI={curveBasisClosed:_re,curveBasisOpen:Ore,curveBasis:Ere,curveBumpX:yre,curveBumpY:bre,curveLinearClosed:Rre,curveLinear:wb,curveMonotoneX:Dre,curveMonotoneY:Bre,curveNatural:Lre,curveStep:$re,curveStepAfter:zre,curveStepBefore:Fre},ly=e=>Xa(e.x)&&Xa(e.y),nI=e=>e.base!=null&&ly(e.base)&&ly(e),rh=e=>e.x,ah=e=>e.y,Eie=(e,t)=>{if(typeof e=="function")return e;var a="curve".concat(C0(e));return(a==="curveMonotone"||a==="curveBump")&&t?aI["".concat(a).concat(t==="vertical"?"Y":"X")]:aI[a]||wb},_ie=e=>{var{type:t="linear",points:a=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=Eie(t,s),l=i?a.filter(ly):a,d;if(Array.isArray(n)){var c=a.map((b,v)=>rI(rI({},b),{},{base:n[v]}));s==="vertical"?d=wp().y(ah).x1(rh).x0(b=>b.base.x):d=wp().x(rh).y1(ah).y0(b=>b.base.y);var g=d.defined(nI).curve(o),h=i?c.filter(nI):c;return g(h)}s==="vertical"&&$t(n)?d=wp().y(ah).x1(rh).x0(n):$t(n)?d=wp().x(rh).y1(ah).y0(n):d=vD().x(rh).y(ah);var x=d.defined(ly).curve(o);return x(l)},fC=e=>{var{className:t,points:a,path:n,pathRef:s}=e;if((!a||!a.length)&&!n)return null;var i=a&&a.length?_ie(e):n;return p.createElement("path",o1({},Co(e),uae(e),{className:na("recharts-curve",t),d:i===null?void 0:i,ref:s}))},Oie=["x","y","top","left","width","height","className"];function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l1.apply(null,arguments)}function sI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Rie(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(a),!0).forEach(function(n){Die(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sI(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Die(e,t,a){return(t=Bie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Bie(e){var t=Lie(e,"string");return typeof t=="symbol"?t:t+""}function Lie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ie(e,t){if(e==null)return{};var a,n,s=Fie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Fie(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var zie=(e,t,a,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(a),Uie=e=>{var{x:t=0,y:a=0,top:n=0,left:s=0,width:i=0,height:o=0,className:l}=e,d=$ie(e,Oie),c=Rie({x:t,y:a,top:n,left:s,width:i,height:o},d);return!$t(t)||!$t(a)||!$t(i)||!$t(o)||!$t(n)||!$t(s)?null:p.createElement("path",l1({},Qi(c),{className:na("recharts-cross",l),d:zie(t,a,i,o,n,s)}))};function qie(e,t,a,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:a.left+.5,y:e==="horizontal"?a.top+.5:t.y-s,width:e==="horizontal"?n:a.width-1,height:e==="horizontal"?a.height-1:n}}function iI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function oI(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(a),!0).forEach(function(n){Vie(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):iI(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Vie(e,t,a){return(t=Hie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Hie(e){var t=Wie(e,"string");return typeof t=="symbol"?t:t+""}function Wie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kie=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),GB=(e,t,a)=>e.map(n=>"".concat(Kie(n)," ").concat(t,"ms ").concat(a)).join(","),Qie=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((a,n)=>a.filter(s=>n.includes(s))),Zh=(e,t)=>Object.keys(t).reduce((a,n)=>oI(oI({},a),{},{[n]:e(n,t[n])}),{});function lI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function xn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(a),!0).forEach(function(n){Gie(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lI(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Gie(e,t,a){return(t=Yie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Yie(e){var t=Zie(e,"string");return typeof t=="symbol"?t:t+""}function Zie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dy=(e,t,a)=>e+(t-e)*a,d1=e=>{var{from:t,to:a}=e;return t!==a},YB=(e,t,a)=>{var n=Zh((s,i)=>{if(d1(i)){var[o,l]=e(i.from,i.to,i.velocity);return xn(xn({},i),{},{from:o,velocity:l})}return i},t);return a<1?Zh((s,i)=>d1(i)?xn(xn({},i),{},{velocity:dy(i.velocity,n[s].velocity,a),from:dy(i.from,n[s].from,a)}):i,t):YB(e,n,a-1)};function Xie(e,t,a,n,s,i){var o,l=n.reduce((x,b)=>xn(xn({},x),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),d=()=>Zh((x,b)=>b.from,l),c=()=>!Object.values(l).filter(d1).length,g=null,h=x=>{o||(o=x);var b=x-o,v=b/a.dt;l=YB(a,l,v),s(xn(xn(xn({},e),t),d())),o=x,c()||(g=i.setTimeout(h))};return()=>(g=i.setTimeout(h),()=>{var x;(x=g)===null||x===void 0||x()})}function Jie(e,t,a,n,s,i,o){var l=null,d=s.reduce((h,x)=>xn(xn({},h),{},{[x]:[e[x],t[x]]}),{}),c,g=h=>{c||(c=h);var x=(h-c)/n,b=Zh((j,w)=>dy(...w,a(x)),d);if(i(xn(xn(xn({},e),t),b)),x<1)l=o.setTimeout(g);else{var v=Zh((j,w)=>dy(...w,a(1)),d);i(xn(xn(xn({},e),t),v))}};return()=>(l=o.setTimeout(g),()=>{var h;(h=l)===null||h===void 0||h()})}const eoe=(e,t,a,n,s,i)=>{var o=Qie(e,t);return a==null?()=>(s(xn(xn({},e),t)),()=>{}):a.isStepper===!0?Xie(e,t,a,o,s,i):Jie(e,t,a,n,o,s,i)};var cy=1e-4,ZB=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],XB=(e,t)=>e.map((a,n)=>a*t**n).reduce((a,n)=>a+n),dI=(e,t)=>a=>{var n=ZB(e,t);return XB(n,a)},toe=(e,t)=>a=>{var n=ZB(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return XB(s,a)},roe=function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];if(a.length===1)switch(a[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,i=a[0].split("(");if(i[0]==="cubic-bezier"&&((s=i[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var o=i[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return a.length===4?a:[0,0,1,1]},aoe=(e,t,a,n)=>{var s=dI(e,a),i=dI(t,n),o=toe(e,a),l=c=>c>1?1:c<0?0:c,d=c=>{for(var g=c>1?1:c,h=g,x=0;x<8;++x){var b=s(h)-g,v=o(h);if(Math.abs(b-g)<cy||v<cy)return i(h);h=l(h-b/v)}return i(h)};return d.isStepper=!1,d},cI=function(){return aoe(...roe(...arguments))},noe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:n=8,dt:s=17}=t,i=(o,l,d)=>{var c=-(o-l)*a,g=d*n,h=d+(c-g)*s/1e3,x=d*s/1e3+o;return Math.abs(x-l)<cy&&Math.abs(h)<cy?[l,0]:[x,h]};return i.isStepper=!0,i.dt=s,i},soe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cI(e);case"spring":return noe();default:if(e.split("(")[0]==="cubic-bezier")return cI(e)}return typeof e=="function"?e:null};function ioe(e){var t,a=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[d,...c]=l;if(typeof d=="number"){s=e.setTimeout(i.bind(null,c),d);return}i(d),s=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,a(t)),typeof o=="object"&&(t=o,a(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(a=o,()=>{a=()=>null}),getTimeoutController:()=>e}}class ooe{setTimeout(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=a?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{s!=null&&cancelAnimationFrame(s)}}}function loe(){return ioe(new ooe)}var doe=p.createContext(loe);function coe(e,t){var a=p.useContext(doe);return p.useMemo(()=>t??a(e),[e,t,a])}var uoe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),E0={devToolsEnabled:!1,isSsr:uoe()},moe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},uI={t:0},wj={t:1};function Hb(e){var t=hs(e,moe),{isActive:a,canBegin:n,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:d,children:c}=t,g=a==="auto"?!E0.isSsr:a,h=coe(t.animationId,t.animationManager),[x,b]=p.useState(g?uI:wj),v=p.useRef(null);return p.useEffect(()=>{g||b(wj)},[g]),p.useEffect(()=>{if(!g||!n)return S0;var j=eoe(uI,wj,soe(i),s,b,h.getTimeoutController()),w=()=>{v.current=j()};return h.start([d,o,w,s,l]),()=>{h.stop(),v.current&&v.current(),l()}},[g,n,s,i,o,d,l,h]),c(x.t)}function Wb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=p.useRef(Vh(t)),n=p.useRef(e);return n.current!==e&&(a.current=Vh(t),n.current=e),a.current}var goe=["radius"],hoe=["radius"];function mI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function gI(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(a),!0).forEach(function(n){foe(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mI(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function foe(e,t,a){return(t=poe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function poe(e){var t=xoe(e,"string");return typeof t=="symbol"?t:t+""}function xoe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},uy.apply(null,arguments)}function hI(e,t){if(e==null)return{};var a,n,s=yoe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function yoe(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var fI=(e,t,a,n,s)=>{var i=Math.min(Math.abs(a)/2,Math.abs(n)/2),o=n>=0?1:-1,l=a>=0?1:-1,d=n>=0&&a>=0||n<0&&a<0?1:0,c;if(i>0&&s instanceof Array){for(var g=[0,0,0,0],h=0,x=4;h<x;h++)g[h]=s[h]>i?i:s[h];c="M".concat(e,",").concat(t+o*g[0]),g[0]>0&&(c+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(d,",").concat(e+l*g[0],",").concat(t)),c+="L ".concat(e+a-l*g[1],",").concat(t),g[1]>0&&(c+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(d,`,
        `).concat(e+a,",").concat(t+o*g[1])),c+="L ".concat(e+a,",").concat(t+n-o*g[2]),g[2]>0&&(c+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(d,`,
        `).concat(e+a-l*g[2],",").concat(t+n)),c+="L ".concat(e+l*g[3],",").concat(t+n),g[3]>0&&(c+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-o*g[3])),c+="Z"}else if(i>0&&s===+s&&s>0){var b=Math.min(i,s);c="M ".concat(e,",").concat(t+o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+l*b,",").concat(t,`
            L `).concat(e+a-l*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+a,",").concat(t+o*b,`
            L `).concat(e+a,",").concat(t+n-o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+a-l*b,",").concat(t+n,`
            L `).concat(e+l*b,",").concat(t+n,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e,",").concat(t+n-o*b," Z")}else c="M ".concat(e,",").concat(t," h ").concat(a," v ").concat(n," h ").concat(-a," Z");return c},pI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JB=e=>{var t=hs(e,pI),a=p.useRef(null),[n,s]=p.useState(-1);p.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var K=a.current.getTotalLength();K&&s(K)}catch{}},[]);var{x:i,y:o,width:l,height:d,radius:c,className:g}=t,{animationEasing:h,animationDuration:x,animationBegin:b,isAnimationActive:v,isUpdateAnimationActive:j}=t,w=p.useRef(l),S=p.useRef(d),M=p.useRef(i),T=p.useRef(o),A=p.useMemo(()=>({x:i,y:o,width:l,height:d,radius:c}),[i,o,l,d,c]),I=Wb(A,"rectangle-");if(i!==+i||o!==+o||l!==+l||d!==+d||l===0||d===0)return null;var _=na("recharts-rectangle",g);if(!j){var D=Qi(t),{radius:E}=D,X=hI(D,goe);return p.createElement("path",uy({},X,{radius:typeof c=="number"?c:void 0,className:_,d:fI(i,o,l,d,c)}))}var ee=w.current,Z=S.current,B=M.current,G=T.current,J="0px ".concat(n===-1?1:n,"px"),ce="".concat(n,"px 0px"),te=GB(["strokeDasharray"],x,typeof h=="string"?h:pI.animationEasing);return p.createElement(Hb,{animationId:I,key:I,canBegin:n>0,duration:x,easing:h,isActive:j,begin:b},K=>{var Y=pn(ee,l,K),re=pn(Z,d,K),ne=pn(B,i,K),z=pn(G,o,K);a.current&&(w.current=Y,S.current=re,M.current=ne,T.current=z);var V;v?K>0?V={transition:te,strokeDasharray:ce}:V={strokeDasharray:J}:V={strokeDasharray:ce};var F=Qi(t),{radius:$}=F,q=hI(F,hoe);return p.createElement("path",uy({},q,{radius:typeof c=="number"?c:void 0,className:_,d:fI(ne,z,Y,re,c),ref:a,style:gI(gI({},V),t.style)}))})};function xI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function yI(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(a),!0).forEach(function(n){boe(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xI(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function boe(e,t,a){return(t=voe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function voe(e){var t=koe(e,"string");return typeof t=="symbol"?t:t+""}function koe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var my=Math.PI/180,woe=e=>e*180/Math.PI,ln=(e,t,a,n)=>({x:e+Math.cos(-my*n)*a,y:t+Math.sin(-my*n)*a}),eL=function(t,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(a-(n.top||0)-(n.bottom||0)))/2},joe=(e,t)=>{var{x:a,y:n}=e,{x:s,y:i}=t;return Math.sqrt((a-s)**2+(n-i)**2)},Noe=(e,t)=>{var{x:a,y:n}=e,{cx:s,cy:i}=t,o=joe({x:a,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var l=(a-s)/o,d=Math.acos(l);return n>i&&(d=2*Math.PI-d),{radius:o,angle:woe(d),angleInRadian:d}},Coe=e=>{var{startAngle:t,endAngle:a}=e,n=Math.floor(t/360),s=Math.floor(a/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:a-i*360}},Soe=(e,t)=>{var{startAngle:a,endAngle:n}=t,s=Math.floor(a/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},Poe=(e,t)=>{var{chartX:a,chartY:n}=e,{radius:s,angle:i}=Noe({x:a,y:n},t),{innerRadius:o,outerRadius:l}=t;if(s<o||s>l||s===0)return null;var{startAngle:d,endAngle:c}=Coe(t),g=i,h;if(d<=c){for(;g>c;)g-=360;for(;g<d;)g+=360;h=g>=d&&g<=c}else{for(;g>d;)g-=360;for(;g<c;)g+=360;h=g>=c&&g<=d}return h?yI(yI({},t),{},{radius:s,angle:Soe(g,t)}):null};function tL(e){var{cx:t,cy:a,radius:n,startAngle:s,endAngle:i}=e,o=ln(t,a,n,s),l=ln(t,a,n,i);return{points:[o,l],cx:t,cy:a,radius:n,startAngle:s,endAngle:i}}function c1(){return c1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c1.apply(null,arguments)}var Moe=(e,t)=>{var a=Rn(t-e),n=Math.min(Math.abs(t-e),359.999);return a*n},Ap=e=>{var{cx:t,cy:a,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:d}=e,c=l*(o?1:-1)+n,g=Math.asin(l/c)/my,h=d?s:s+i*g,x=ln(t,a,c,h),b=ln(t,a,n,h),v=d?s-i*g:s,j=ln(t,a,c*Math.cos(g*my),v);return{center:x,circleTangency:b,lineTangency:j,theta:g}},rL=e=>{var{cx:t,cy:a,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,l=Moe(i,o),d=i+l,c=ln(t,a,s,i),g=ln(t,a,s,d),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>d),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(n>0){var x=ln(t,a,n,i),b=ln(t,a,n,d);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else h+="L ".concat(t,",").concat(a," Z");return h},Toe=e=>{var{cx:t,cy:a,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:d,endAngle:c}=e,g=Rn(c-d),{circleTangency:h,lineTangency:x,theta:b}=Ap({cx:t,cy:a,radius:s,angle:d,sign:g,cornerRadius:i,cornerIsExternal:l}),{circleTangency:v,lineTangency:j,theta:w}=Ap({cx:t,cy:a,radius:s,angle:c,sign:-g,cornerRadius:i,cornerIsExternal:l}),S=l?Math.abs(d-c):Math.abs(d-c)-b-w;if(S<0)return o?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):rL({cx:t,cy:a,innerRadius:n,outerRadius:s,startAngle:d,endAngle:c});var M="M ".concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(g<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(g<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(g<0),",").concat(j.x,",").concat(j.y,`
  `);if(n>0){var{circleTangency:T,lineTangency:A,theta:I}=Ap({cx:t,cy:a,radius:n,angle:d,sign:g,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:_,lineTangency:D,theta:E}=Ap({cx:t,cy:a,radius:n,angle:c,sign:-g,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),X=l?Math.abs(d-c):Math.abs(d-c)-I-E;if(X<0&&i===0)return"".concat(M,"L").concat(t,",").concat(a,"Z");M+="L".concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(g<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(X>180),",").concat(+(g>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(g<0),",").concat(A.x,",").concat(A.y,"Z")}else M+="L".concat(t,",").concat(a,"Z");return M},Ioe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aL=e=>{var t=hs(e,Ioe),{cx:a,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:d,startAngle:c,endAngle:g,className:h}=t;if(i<s||c===g)return null;var x=na("recharts-sector",h),b=i-s,v=us(o,b,0,!0),j;return v>0&&Math.abs(c-g)<360?j=Toe({cx:a,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(v,b/2),forceCornerRadius:l,cornerIsExternal:d,startAngle:c,endAngle:g}):j=rL({cx:a,cy:n,innerRadius:s,outerRadius:i,startAngle:c,endAngle:g}),p.createElement("path",c1({},Qi(t),{className:x,d:j}))};function Aoe(e,t,a){if(e==="horizontal")return[{x:t.x,y:a.top},{x:t.x,y:a.top+a.height}];if(e==="vertical")return[{x:a.left,y:t.y},{x:a.left+a.width,y:t.y}];if(RD(t)){if(e==="centric"){var{cx:n,cy:s,innerRadius:i,outerRadius:o,angle:l}=t,d=ln(n,s,i,l),c=ln(n,s,o,l);return[{x:d.x,y:d.y},{x:c.x,y:c.y}]}return tL(t)}}var jj={},Nj={},Cj={},bI;function Eoe(){return bI||(bI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WD();function a(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=a})(Cj)),Cj}var vI;function _oe(){return vI||(vI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eoe();function a(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=a})(Nj)),Nj}var kI;function Ooe(){return kI||(kI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KD(),a=_oe();function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=a.toFinite(s),i===void 0?(i=s,s=0):i=a.toFinite(i),o=o===void 0?s<i?1:-1:a.toFinite(o);const l=Math.max(Math.ceil((i-s)/(o||1)),0),d=new Array(l);for(let c=0;c<l;c++)d[c]=s,s+=o;return d}e.range=n})(jj)),jj}var Sj,wI;function Roe(){return wI||(wI=1,Sj=Ooe().range),Sj}var Doe=Roe();const nL=Mo(Doe);function Kd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Boe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pC(e){let t,a,n;e.length!==2?(t=Kd,a=(l,d)=>Kd(e(l),d),n=(l,d)=>e(l)-d):(t=e===Kd||e===Boe?e:Loe,a=e,n=e);function s(l,d,c=0,g=l.length){if(c<g){if(t(d,d)!==0)return g;do{const h=c+g>>>1;a(l[h],d)<0?c=h+1:g=h}while(c<g)}return c}function i(l,d,c=0,g=l.length){if(c<g){if(t(d,d)!==0)return g;do{const h=c+g>>>1;a(l[h],d)<=0?c=h+1:g=h}while(c<g)}return c}function o(l,d,c=0,g=l.length){const h=s(l,d,c,g-1);return h>c&&n(l[h-1],d)>-n(l[h],d)?h-1:h}return{left:s,center:o,right:i}}function Loe(){return 0}function sL(e){return e===null?NaN:+e}function*$oe(e,t){for(let a of e)a!=null&&(a=+a)>=a&&(yield a)}const Foe=pC(Kd),_0=Foe.right;pC(sL).center;class jI extends Map{constructor(t,a=qoe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(NI(this,t))}has(t){return super.has(NI(this,t))}set(t,a){return super.set(zoe(this,t),a)}delete(t){return super.delete(Uoe(this,t))}}function NI({_intern:e,_key:t},a){const n=t(a);return e.has(n)?e.get(n):a}function zoe({_intern:e,_key:t},a){const n=t(a);return e.has(n)?e.get(n):(e.set(n,a),a)}function Uoe({_intern:e,_key:t},a){const n=t(a);return e.has(n)&&(a=e.get(n),e.delete(n)),a}function qoe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Voe(e=Kd){if(e===Kd)return iL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,a)=>{const n=e(t,a);return n||n===0?n:(e(a,a)===0)-(e(t,t)===0)}}function iL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Hoe=Math.sqrt(50),Woe=Math.sqrt(10),Koe=Math.sqrt(2);function gy(e,t,a){const n=(t-e)/Math.max(0,a),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=Hoe?10:i>=Woe?5:i>=Koe?2:1;let l,d,c;return s<0?(c=Math.pow(10,-s)/o,l=Math.round(e*c),d=Math.round(t*c),l/c<e&&++l,d/c>t&&--d,c=-c):(c=Math.pow(10,s)*o,l=Math.round(e/c),d=Math.round(t/c),l*c<e&&++l,d*c>t&&--d),d<l&&.5<=a&&a<2?gy(e,t,a*2):[l,d,c]}function u1(e,t,a){if(t=+t,e=+e,a=+a,!(a>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?gy(t,e,a):gy(e,t,a);if(!(i>=s))return[];const l=i-s+1,d=new Array(l);if(n)if(o<0)for(let c=0;c<l;++c)d[c]=(i-c)/-o;else for(let c=0;c<l;++c)d[c]=(i-c)*o;else if(o<0)for(let c=0;c<l;++c)d[c]=(s+c)/-o;else for(let c=0;c<l;++c)d[c]=(s+c)*o;return d}function m1(e,t,a){return t=+t,e=+e,a=+a,gy(e,t,a)[2]}function g1(e,t,a){t=+t,e=+e,a=+a;const n=t<e,s=n?m1(t,e,a):m1(e,t,a);return(n?-1:1)*(s<0?1/-s:s)}function CI(e,t){let a;for(const n of e)n!=null&&(a<n||a===void 0&&n>=n)&&(a=n);return a}function SI(e,t){let a;for(const n of e)n!=null&&(a>n||a===void 0&&n>=n)&&(a=n);return a}function oL(e,t,a=0,n=1/0,s){if(t=Math.floor(t),a=Math.floor(Math.max(0,a)),n=Math.floor(Math.min(e.length-1,n)),!(a<=t&&t<=n))return e;for(s=s===void 0?iL:Voe(s);n>a;){if(n-a>600){const d=n-a+1,c=t-a+1,g=Math.log(d),h=.5*Math.exp(2*g/3),x=.5*Math.sqrt(g*h*(d-h)/d)*(c-d/2<0?-1:1),b=Math.max(a,Math.floor(t-c*h/d+x)),v=Math.min(n,Math.floor(t+(d-c)*h/d+x));oL(e,t,b,v,s)}const i=e[t];let o=a,l=n;for(nh(e,a,t),s(e[n],i)>0&&nh(e,a,n);o<l;){for(nh(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[a],i)===0?nh(e,a,l):(++l,nh(e,l,n)),l<=t&&(a=l+1),t<=l&&(n=l-1)}return e}function nh(e,t,a){const n=e[t];e[t]=e[a],e[a]=n}function Qoe(e,t,a){if(e=Float64Array.from($oe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return SI(e);if(t>=1)return CI(e);var n,s=(n-1)*t,i=Math.floor(s),o=CI(oL(e,i).subarray(0,i+1)),l=SI(e.subarray(i+1));return o+(l-o)*(s-i)}}function Goe(e,t,a=sL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+a(e[0],0,e);if(t>=1)return+a(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+a(e[i],i,e),l=+a(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function Yoe(e,t,a){e=+e,t=+t,a=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+a;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/a))|0,i=new Array(s);++n<s;)i[n]=e+n*a;return i}function Ji(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function sd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const h1=Symbol("implicit");function xC(){var e=new jI,t=[],a=[],n=h1;function s(i){let o=e.get(i);if(o===void 0){if(n!==h1)return n;e.set(i,o=t.push(i)-1)}return a[o%a.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new jI;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(a=Array.from(i),s):a.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return xC(t,a).unknown(n)},Ji.apply(s,arguments),s}function yC(){var e=xC().unknown(void 0),t=e.domain,a=e.range,n=0,s=1,i,o,l=!1,d=0,c=0,g=.5;delete e.unknown;function h(){var x=t().length,b=s<n,v=b?s:n,j=b?n:s;i=(j-v)/Math.max(1,x-d+c*2),l&&(i=Math.floor(i)),v+=(j-v-i*(x-d))*g,o=i*(1-d),l&&(v=Math.round(v),o=Math.round(o));var w=Yoe(x).map(function(S){return v+i*S});return a(b?w.reverse():w)}return e.domain=function(x){return arguments.length?(t(x),h()):t()},e.range=function(x){return arguments.length?([n,s]=x,n=+n,s=+s,h()):[n,s]},e.rangeRound=function(x){return[n,s]=x,n=+n,s=+s,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(x){return arguments.length?(l=!!x,h()):l},e.padding=function(x){return arguments.length?(d=Math.min(1,c=+x),h()):d},e.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),h()):d},e.paddingOuter=function(x){return arguments.length?(c=+x,h()):c},e.align=function(x){return arguments.length?(g=Math.max(0,Math.min(1,x)),h()):g},e.copy=function(){return yC(t(),[n,s]).round(l).paddingInner(d).paddingOuter(c).align(g)},Ji.apply(h(),arguments)}function lL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return lL(t())},e}function Zoe(){return lL(yC.apply(null,arguments).paddingInner(1))}function bC(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function dL(e,t){var a=Object.create(e.prototype);for(var n in t)a[n]=t[n];return a}function O0(){}var Xh=.7,hy=1/Xh,xm="\\s*([+-]?\\d+)\\s*",Jh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xoe=/^#([0-9a-f]{3,8})$/,Joe=new RegExp(`^rgb\\(${xm},${xm},${xm}\\)$`),ele=new RegExp(`^rgb\\(${tl},${tl},${tl}\\)$`),tle=new RegExp(`^rgba\\(${xm},${xm},${xm},${Jh}\\)$`),rle=new RegExp(`^rgba\\(${tl},${tl},${tl},${Jh}\\)$`),ale=new RegExp(`^hsl\\(${Jh},${tl},${tl}\\)$`),nle=new RegExp(`^hsla\\(${Jh},${tl},${tl},${Jh}\\)$`),PI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bC(O0,e0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:MI,formatHex:MI,formatHex8:sle,formatHsl:ile,formatRgb:TI,toString:TI});function MI(){return this.rgb().formatHex()}function sle(){return this.rgb().formatHex8()}function ile(){return cL(this).formatHsl()}function TI(){return this.rgb().formatRgb()}function e0(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=Xoe.exec(e))?(a=t[1].length,t=parseInt(t[1],16),a===6?II(t):a===3?new Vs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):a===8?Ep(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):a===4?Ep(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Joe.exec(e))?new Vs(t[1],t[2],t[3],1):(t=ele.exec(e))?new Vs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=tle.exec(e))?Ep(t[1],t[2],t[3],t[4]):(t=rle.exec(e))?Ep(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ale.exec(e))?_I(t[1],t[2]/100,t[3]/100,1):(t=nle.exec(e))?_I(t[1],t[2]/100,t[3]/100,t[4]):PI.hasOwnProperty(e)?II(PI[e]):e==="transparent"?new Vs(NaN,NaN,NaN,0):null}function II(e){return new Vs(e>>16&255,e>>8&255,e&255,1)}function Ep(e,t,a,n){return n<=0&&(e=t=a=NaN),new Vs(e,t,a,n)}function ole(e){return e instanceof O0||(e=e0(e)),e?(e=e.rgb(),new Vs(e.r,e.g,e.b,e.opacity)):new Vs}function f1(e,t,a,n){return arguments.length===1?ole(e):new Vs(e,t,a,n??1)}function Vs(e,t,a,n){this.r=+e,this.g=+t,this.b=+a,this.opacity=+n}bC(Vs,f1,dL(O0,{brighter(e){return e=e==null?hy:Math.pow(hy,e),new Vs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xh:Math.pow(Xh,e),new Vs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vs(Xc(this.r),Xc(this.g),Xc(this.b),fy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AI,formatHex:AI,formatHex8:lle,formatRgb:EI,toString:EI}));function AI(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}`}function lle(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}${zc((isNaN(this.opacity)?1:this.opacity)*255)}`}function EI(){const e=fy(this.opacity);return`${e===1?"rgb(":"rgba("}${Xc(this.r)}, ${Xc(this.g)}, ${Xc(this.b)}${e===1?")":`, ${e})`}`}function fy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zc(e){return e=Xc(e),(e<16?"0":"")+e.toString(16)}function _I(e,t,a,n){return n<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new po(e,t,a,n)}function cL(e){if(e instanceof po)return new po(e.h,e.s,e.l,e.opacity);if(e instanceof O0||(e=e0(e)),!e)return new po;if(e instanceof po)return e;e=e.rgb();var t=e.r/255,a=e.g/255,n=e.b/255,s=Math.min(t,a,n),i=Math.max(t,a,n),o=NaN,l=i-s,d=(i+s)/2;return l?(t===i?o=(a-n)/l+(a<n)*6:a===i?o=(n-t)/l+2:o=(t-a)/l+4,l/=d<.5?i+s:2-i-s,o*=60):l=d>0&&d<1?0:o,new po(o,l,d,e.opacity)}function dle(e,t,a,n){return arguments.length===1?cL(e):new po(e,t,a,n??1)}function po(e,t,a,n){this.h=+e,this.s=+t,this.l=+a,this.opacity=+n}bC(po,dle,dL(O0,{brighter(e){return e=e==null?hy:Math.pow(hy,e),new po(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xh:Math.pow(Xh,e),new po(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,n=a+(a<.5?a:1-a)*t,s=2*a-n;return new Vs(Pj(e>=240?e-240:e+120,s,n),Pj(e,s,n),Pj(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new po(OI(this.h),_p(this.s),_p(this.l),fy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fy(this.opacity);return`${e===1?"hsl(":"hsla("}${OI(this.h)}, ${_p(this.s)*100}%, ${_p(this.l)*100}%${e===1?")":`, ${e})`}`}}));function OI(e){return e=(e||0)%360,e<0?e+360:e}function _p(e){return Math.max(0,Math.min(1,e||0))}function Pj(e,t,a){return(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)*255}const vC=e=>()=>e;function cle(e,t){return function(a){return e+a*t}}function ule(e,t,a){return e=Math.pow(e,a),t=Math.pow(t,a)-e,a=1/a,function(n){return Math.pow(e+n*t,a)}}function mle(e){return(e=+e)==1?uL:function(t,a){return a-t?ule(t,a,e):vC(isNaN(t)?a:t)}}function uL(e,t){var a=t-e;return a?cle(e,a):vC(isNaN(e)?t:e)}const RI=(function e(t){var a=mle(t);function n(s,i){var o=a((s=f1(s)).r,(i=f1(i)).r),l=a(s.g,i.g),d=a(s.b,i.b),c=uL(s.opacity,i.opacity);return function(g){return s.r=o(g),s.g=l(g),s.b=d(g),s.opacity=c(g),s+""}}return n.gamma=e,n})(1);function gle(e,t){t||(t=[]);var a=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<a;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function hle(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fle(e,t){var a=t?t.length:0,n=e?Math.min(a,e.length):0,s=new Array(n),i=new Array(a),o;for(o=0;o<n;++o)s[o]=Jm(e[o],t[o]);for(;o<a;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function ple(e,t){var a=new Date;return e=+e,t=+t,function(n){return a.setTime(e*(1-n)+t*n),a}}function py(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}}function xle(e,t){var a={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?a[s]=Jm(e[s],t[s]):n[s]=t[s];return function(i){for(s in a)n[s]=a[s](i);return n}}var p1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mj=new RegExp(p1.source,"g");function yle(e){return function(){return e}}function ble(e){return function(t){return e(t)+""}}function vle(e,t){var a=p1.lastIndex=Mj.lastIndex=0,n,s,i,o=-1,l=[],d=[];for(e=e+"",t=t+"";(n=p1.exec(e))&&(s=Mj.exec(t));)(i=s.index)>a&&(i=t.slice(a,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,d.push({i:o,x:py(n,s)})),a=Mj.lastIndex;return a<t.length&&(i=t.slice(a),l[o]?l[o]+=i:l[++o]=i),l.length<2?d[0]?ble(d[0].x):yle(t):(t=d.length,function(c){for(var g=0,h;g<t;++g)l[(h=d[g]).i]=h.x(c);return l.join("")})}function Jm(e,t){var a=typeof t,n;return t==null||a==="boolean"?vC(t):(a==="number"?py:a==="string"?(n=e0(t))?(t=n,RI):vle:t instanceof e0?RI:t instanceof Date?ple:hle(t)?gle:Array.isArray(t)?fle:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xle:py)(e,t)}function kC(e,t){return e=+e,t=+t,function(a){return Math.round(e*(1-a)+t*a)}}function kle(e,t){t===void 0&&(t=e,e=Jm);for(var a=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);a<n;)i[a]=e(s,s=t[++a]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function wle(e){return function(){return e}}function xy(e){return+e}var DI=[0,1];function Ns(e){return e}function x1(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:wle(isNaN(t)?NaN:.5)}function jle(e,t){var a;return e>t&&(a=e,e=t,t=a),function(n){return Math.max(e,Math.min(t,n))}}function Nle(e,t,a){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=x1(s,n),i=a(o,i)):(n=x1(n,s),i=a(i,o)),function(l){return i(n(l))}}function Cle(e,t,a){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=x1(e[o],e[o+1]),i[o]=a(t[o],t[o+1]);return function(l){var d=_0(e,l,1,n)-1;return i[d](s[d](l))}}function R0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Kb(){var e=DI,t=DI,a=Jm,n,s,i,o=Ns,l,d,c;function g(){var x=Math.min(e.length,t.length);return o!==Ns&&(o=jle(e[0],e[x-1])),l=x>2?Cle:Nle,d=c=null,h}function h(x){return x==null||isNaN(x=+x)?i:(d||(d=l(e.map(n),t,a)))(n(o(x)))}return h.invert=function(x){return o(s((c||(c=l(t,e.map(n),py)))(x)))},h.domain=function(x){return arguments.length?(e=Array.from(x,xy),g()):e.slice()},h.range=function(x){return arguments.length?(t=Array.from(x),g()):t.slice()},h.rangeRound=function(x){return t=Array.from(x),a=kC,g()},h.clamp=function(x){return arguments.length?(o=x?!0:Ns,g()):o!==Ns},h.interpolate=function(x){return arguments.length?(a=x,g()):a},h.unknown=function(x){return arguments.length?(i=x,h):i},function(x,b){return n=x,s=b,g()}}function wC(){return Kb()(Ns,Ns)}function Sle(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yy(e,t){if((a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var a,n=e.slice(0,a);return[n.length>1?n[0]+n.slice(2):n,+e.slice(a+1)]}function Bm(e){return e=yy(Math.abs(e)),e?e[1]:NaN}function Ple(e,t){return function(a,n){for(var s=a.length,i=[],o=0,l=e[0],d=0;s>0&&l>0&&(d+l+1>n&&(l=Math.max(1,n-d)),i.push(a.substring(s-=l,s+l)),!((d+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Mle(e){return function(t){return t.replace(/[0-9]/g,function(a){return e[+a]})}}var Tle=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function t0(e){if(!(t=Tle.exec(e)))throw new Error("invalid format: "+e);var t;return new jC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}t0.prototype=jC.prototype;function jC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ile(e){e:for(var t=e.length,a=1,n=-1,s;a<t;++a)switch(e[a]){case".":n=s=a;break;case"0":n===0&&(n=a),s=a;break;default:if(!+e[a])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var mL;function Ale(e,t){var a=yy(e,t);if(!a)return e+"";var n=a[0],s=a[1],i=s-(mL=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+yy(e,Math.max(0,t+i-1))[0]}function BI(e,t){var a=yy(e,t);if(!a)return e+"";var n=a[0],s=a[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const LI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Sle,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>BI(e*100,t),r:BI,s:Ale,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $I(e){return e}var FI=Array.prototype.map,zI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ele(e){var t=e.grouping===void 0||e.thousands===void 0?$I:Ple(FI.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?$I:Mle(FI.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function c(h){h=t0(h);var x=h.fill,b=h.align,v=h.sign,j=h.symbol,w=h.zero,S=h.width,M=h.comma,T=h.precision,A=h.trim,I=h.type;I==="n"?(M=!0,I="g"):LI[I]||(T===void 0&&(T=12),A=!0,I="g"),(w||x==="0"&&b==="=")&&(w=!0,x="0",b="=");var _=j==="$"?a:j==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",D=j==="$"?n:/[%p]/.test(I)?o:"",E=LI[I],X=/[defgprs%]/.test(I);T=T===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function ee(Z){var B=_,G=D,J,ce,te;if(I==="c")G=E(Z)+G,Z="";else{Z=+Z;var K=Z<0||1/Z<0;if(Z=isNaN(Z)?d:E(Math.abs(Z),T),A&&(Z=Ile(Z)),K&&+Z==0&&v!=="+"&&(K=!1),B=(K?v==="("?v:l:v==="-"||v==="("?"":v)+B,G=(I==="s"?zI[8+mL/3]:"")+G+(K&&v==="("?")":""),X){for(J=-1,ce=Z.length;++J<ce;)if(te=Z.charCodeAt(J),48>te||te>57){G=(te===46?s+Z.slice(J+1):Z.slice(J))+G,Z=Z.slice(0,J);break}}}M&&!w&&(Z=t(Z,1/0));var Y=B.length+Z.length+G.length,re=Y<S?new Array(S-Y+1).join(x):"";switch(M&&w&&(Z=t(re+Z,re.length?S-G.length:1/0),re=""),b){case"<":Z=B+Z+G+re;break;case"=":Z=B+re+Z+G;break;case"^":Z=re.slice(0,Y=re.length>>1)+B+Z+G+re.slice(Y);break;default:Z=re+B+Z+G;break}return i(Z)}return ee.toString=function(){return h+""},ee}function g(h,x){var b=c((h=t0(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(Bm(x)/3)))*3,j=Math.pow(10,-v),w=zI[8+v/3];return function(S){return b(j*S)+w}}return{format:c,formatPrefix:g}}var Op,NC,gL;_le({thousands:",",grouping:[3],currency:["$",""]});function _le(e){return Op=Ele(e),NC=Op.format,gL=Op.formatPrefix,Op}function Ole(e){return Math.max(0,-Bm(Math.abs(e)))}function Rle(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bm(t)/3)))*3-Bm(Math.abs(e)))}function Dle(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bm(t)-Bm(e))+1}function hL(e,t,a,n){var s=g1(e,t,a),i;switch(n=t0(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Rle(s,o))&&(n.precision=i),gL(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Dle(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Ole(s))&&(n.precision=i-(n.type==="%")*2);break}}return NC(n)}function ac(e){var t=e.domain;return e.ticks=function(a){var n=t();return u1(n[0],n[n.length-1],a??10)},e.tickFormat=function(a,n){var s=t();return hL(s[0],s[s.length-1],a??10,n)},e.nice=function(a){a==null&&(a=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],d,c,g=10;for(l<o&&(c=o,o=l,l=c,c=s,s=i,i=c);g-- >0;){if(c=m1(o,l,a),c===d)return n[s]=o,n[i]=l,t(n);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;d=c}return e},e}function fL(){var e=wC();return e.copy=function(){return R0(e,fL())},Ji.apply(e,arguments),ac(e)}function pL(e){var t;function a(n){return n==null||isNaN(n=+n)?t:n}return a.invert=a,a.domain=a.range=function(n){return arguments.length?(e=Array.from(n,xy),a):e.slice()},a.unknown=function(n){return arguments.length?(t=n,a):t},a.copy=function(){return pL(e).unknown(t)},e=arguments.length?Array.from(e,xy):[0,1],ac(a)}function xL(e,t){e=e.slice();var a=0,n=e.length-1,s=e[a],i=e[n],o;return i<s&&(o=a,a=n,n=o,o=s,s=i,i=o),e[a]=t.floor(s),e[n]=t.ceil(i),e}function UI(e){return Math.log(e)}function qI(e){return Math.exp(e)}function Ble(e){return-Math.log(-e)}function Lle(e){return-Math.exp(-e)}function $le(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Fle(e){return e===10?$le:e===Math.E?Math.exp:t=>Math.pow(e,t)}function zle(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function VI(e){return(t,a)=>-e(-t,a)}function CC(e){const t=e(UI,qI),a=t.domain;let n=10,s,i;function o(){return s=zle(n),i=Fle(n),a()[0]<0?(s=VI(s),i=VI(i),e(Ble,Lle)):e(UI,qI),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(a(l),o()):a()},t.ticks=l=>{const d=a();let c=d[0],g=d[d.length-1];const h=g<c;h&&([c,g]=[g,c]);let x=s(c),b=s(g),v,j;const w=l==null?10:+l;let S=[];if(!(n%1)&&b-x<w){if(x=Math.floor(x),b=Math.ceil(b),c>0){for(;x<=b;++x)for(v=1;v<n;++v)if(j=x<0?v/i(-x):v*i(x),!(j<c)){if(j>g)break;S.push(j)}}else for(;x<=b;++x)for(v=n-1;v>=1;--v)if(j=x>0?v/i(-x):v*i(x),!(j<c)){if(j>g)break;S.push(j)}S.length*2<w&&(S=u1(c,g,w))}else S=u1(x,b,Math.min(b-x,w)).map(i);return h?S.reverse():S},t.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=t0(d)).precision==null&&(d.trim=!0),d=NC(d)),l===1/0)return d;const c=Math.max(1,n*l/t.ticks().length);return g=>{let h=g/i(Math.round(s(g)));return h*n<n-.5&&(h*=n),h<=c?d(g):""}},t.nice=()=>a(xL(a(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function yL(){const e=CC(Kb()).domain([1,10]);return e.copy=()=>R0(e,yL()).base(e.base()),Ji.apply(e,arguments),e}function HI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function WI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function SC(e){var t=1,a=e(HI(t),WI(t));return a.constant=function(n){return arguments.length?e(HI(t=+n),WI(t)):t},ac(a)}function bL(){var e=SC(Kb());return e.copy=function(){return R0(e,bL()).constant(e.constant())},Ji.apply(e,arguments)}function KI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ule(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qle(e){return e<0?-e*e:e*e}function PC(e){var t=e(Ns,Ns),a=1;function n(){return a===1?e(Ns,Ns):a===.5?e(Ule,qle):e(KI(a),KI(1/a))}return t.exponent=function(s){return arguments.length?(a=+s,n()):a},ac(t)}function MC(){var e=PC(Kb());return e.copy=function(){return R0(e,MC()).exponent(e.exponent())},Ji.apply(e,arguments),e}function Vle(){return MC.apply(null,arguments).exponent(.5)}function QI(e){return Math.sign(e)*e*e}function Hle(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function vL(){var e=wC(),t=[0,1],a=!1,n;function s(i){var o=Hle(e(i));return isNaN(o)?n:a?Math.round(o):o}return s.invert=function(i){return e.invert(QI(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,xy)).map(QI)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(a=!!i,s):a},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return vL(e.domain(),t).round(a).clamp(e.clamp()).unknown(n)},Ji.apply(s,arguments),ac(s)}function kL(){var e=[],t=[],a=[],n;function s(){var o=0,l=Math.max(1,t.length);for(a=new Array(l-1);++o<l;)a[o-1]=Goe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[_0(a,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?a[l-1]:e[0],l<a.length?a[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Kd),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return a.slice()},i.copy=function(){return kL().domain(e).range(t).unknown(n)},Ji.apply(i,arguments)}function wL(){var e=0,t=1,a=1,n=[.5],s=[0,1],i;function o(d){return d!=null&&d<=d?s[_0(n,d,0,a)]:i}function l(){var d=-1;for(n=new Array(a);++d<a;)n[d]=((d+1)*t-(d-a)*e)/(a+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,l()):[e,t]},o.range=function(d){return arguments.length?(a=(s=Array.from(d)).length-1,l()):s.slice()},o.invertExtent=function(d){var c=s.indexOf(d);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=a?[n[a-1],t]:[n[c-1],n[c]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return wL().domain([e,t]).range(s).unknown(i)},Ji.apply(ac(o),arguments)}function jL(){var e=[.5],t=[0,1],a,n=1;function s(i){return i!=null&&i<=i?t[_0(e,i,0,n)]:a}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return jL().domain(e).range(t).unknown(a)},Ji.apply(s,arguments)}const Tj=new Date,Ij=new Date;function wn(e,t,a,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const d=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return d;let c;do d.push(c=new Date(+i)),t(i,l),e(i);while(c<i&&i<o);return d},s.filter=i=>wn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),a&&(s.count=(i,o)=>(Tj.setTime(+i),Ij.setTime(+o),e(Tj),e(Ij),Math.floor(a(Tj,Ij))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const by=wn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);by.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wn(t=>{t.setTime(Math.floor(t/e)*e)},(t,a)=>{t.setTime(+t+a*e)},(t,a)=>(a-t)/e):by);by.range;const Dl=1e3,qi=Dl*60,Bl=qi*60,Zl=Bl*24,TC=Zl*7,GI=Zl*30,Aj=Zl*365,Uc=wn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Dl)},(e,t)=>(t-e)/Dl,e=>e.getUTCSeconds());Uc.range;const IC=wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dl)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getMinutes());IC.range;const AC=wn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getUTCMinutes());AC.range;const EC=wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dl-e.getMinutes()*qi)},(e,t)=>{e.setTime(+e+t*Bl)},(e,t)=>(t-e)/Bl,e=>e.getHours());EC.range;const _C=wn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Bl)},(e,t)=>(t-e)/Bl,e=>e.getUTCHours());_C.range;const D0=wn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qi)/Zl,e=>e.getDate()-1);D0.range;const Qb=wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zl,e=>e.getUTCDate()-1);Qb.range;const NL=wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zl,e=>Math.floor(e/Zl));NL.range;function xu(e){return wn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,a)=>{t.setDate(t.getDate()+a*7)},(t,a)=>(a-t-(a.getTimezoneOffset()-t.getTimezoneOffset())*qi)/TC)}const Gb=xu(0),vy=xu(1),Wle=xu(2),Kle=xu(3),Lm=xu(4),Qle=xu(5),Gle=xu(6);Gb.range;vy.range;Wle.range;Kle.range;Lm.range;Qle.range;Gle.range;function yu(e){return wn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a*7)},(t,a)=>(a-t)/TC)}const Yb=yu(0),ky=yu(1),Yle=yu(2),Zle=yu(3),$m=yu(4),Xle=yu(5),Jle=yu(6);Yb.range;ky.range;Yle.range;Zle.range;$m.range;Xle.range;Jle.range;const OC=wn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());OC.range;const RC=wn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());RC.range;const Xl=wn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Xl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,a)=>{t.setFullYear(t.getFullYear()+a*e)});Xl.range;const Jl=wn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Jl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a*e)});Jl.range;function CL(e,t,a,n,s,i){const o=[[Uc,1,Dl],[Uc,5,5*Dl],[Uc,15,15*Dl],[Uc,30,30*Dl],[i,1,qi],[i,5,5*qi],[i,15,15*qi],[i,30,30*qi],[s,1,Bl],[s,3,3*Bl],[s,6,6*Bl],[s,12,12*Bl],[n,1,Zl],[n,2,2*Zl],[a,1,TC],[t,1,GI],[t,3,3*GI],[e,1,Aj]];function l(c,g,h){const x=g<c;x&&([c,g]=[g,c]);const b=h&&typeof h.range=="function"?h:d(c,g,h),v=b?b.range(c,+g+1):[];return x?v.reverse():v}function d(c,g,h){const x=Math.abs(g-c)/h,b=pC(([,,w])=>w).right(o,x);if(b===o.length)return e.every(g1(c/Aj,g/Aj,h));if(b===0)return by.every(Math.max(g1(c,g,h),1));const[v,j]=o[x/o[b-1][2]<o[b][2]/x?b-1:b];return v.every(j)}return[l,d]}const[ede,tde]=CL(Jl,RC,Yb,NL,_C,AC),[rde,ade]=CL(Xl,OC,Gb,D0,EC,IC);function Ej(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _j(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sh(e,t,a){return{y:e,m:t,d:a,H:0,M:0,S:0,L:0}}function nde(e){var t=e.dateTime,a=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,d=e.shortMonths,c=ih(s),g=oh(s),h=ih(i),x=oh(i),b=ih(o),v=oh(o),j=ih(l),w=oh(l),S=ih(d),M=oh(d),T={a:K,A:Y,b:re,B:ne,c:null,d:tA,e:tA,f:Pde,g:Bde,G:$de,H:Nde,I:Cde,j:Sde,L:SL,m:Mde,M:Tde,p:z,q:V,Q:nA,s:sA,S:Ide,u:Ade,U:Ede,V:_de,w:Ode,W:Rde,x:null,X:null,y:Dde,Y:Lde,Z:Fde,"%":aA},A={a:F,A:$,b:q,B:H,c:null,d:rA,e:rA,f:Vde,g:ece,G:rce,H:zde,I:Ude,j:qde,L:ML,m:Hde,M:Wde,p:Q,q:de,Q:nA,s:sA,S:Kde,u:Qde,U:Gde,V:Yde,w:Zde,W:Xde,x:null,X:null,y:Jde,Y:tce,Z:ace,"%":aA},I={a:ee,A:Z,b:B,B:G,c:J,d:JI,e:JI,f:vde,g:XI,G:ZI,H:eA,I:eA,j:pde,L:bde,m:fde,M:xde,p:X,q:hde,Q:wde,s:jde,S:yde,u:dde,U:cde,V:ude,w:lde,W:mde,x:ce,X:te,y:XI,Y:ZI,Z:gde,"%":kde};T.x=_(a,T),T.X=_(n,T),T.c=_(t,T),A.x=_(a,A),A.X=_(n,A),A.c=_(t,A);function _(me,je){return function(fe){var se=[],ie=-1,ue=0,le=me.length,xe,ze,Le;for(fe instanceof Date||(fe=new Date(+fe));++ie<le;)me.charCodeAt(ie)===37&&(se.push(me.slice(ue,ie)),(ze=YI[xe=me.charAt(++ie)])!=null?xe=me.charAt(++ie):ze=xe==="e"?" ":"0",(Le=je[xe])&&(xe=Le(fe,ze)),se.push(xe),ue=ie+1);return se.push(me.slice(ue,ie)),se.join("")}}function D(me,je){return function(fe){var se=sh(1900,void 0,1),ie=E(se,me,fe+="",0),ue,le;if(ie!=fe.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(je&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(ue=_j(sh(se.y,0,1)),le=ue.getUTCDay(),ue=le>4||le===0?ky.ceil(ue):ky(ue),ue=Qb.offset(ue,(se.V-1)*7),se.y=ue.getUTCFullYear(),se.m=ue.getUTCMonth(),se.d=ue.getUTCDate()+(se.w+6)%7):(ue=Ej(sh(se.y,0,1)),le=ue.getDay(),ue=le>4||le===0?vy.ceil(ue):vy(ue),ue=D0.offset(ue,(se.V-1)*7),se.y=ue.getFullYear(),se.m=ue.getMonth(),se.d=ue.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),le="Z"in se?_j(sh(se.y,0,1)).getUTCDay():Ej(sh(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(le+5)%7:se.w+se.U*7-(le+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,_j(se)):Ej(se)}}function E(me,je,fe,se){for(var ie=0,ue=je.length,le=fe.length,xe,ze;ie<ue;){if(se>=le)return-1;if(xe=je.charCodeAt(ie++),xe===37){if(xe=je.charAt(ie++),ze=I[xe in YI?je.charAt(ie++):xe],!ze||(se=ze(me,fe,se))<0)return-1}else if(xe!=fe.charCodeAt(se++))return-1}return se}function X(me,je,fe){var se=c.exec(je.slice(fe));return se?(me.p=g.get(se[0].toLowerCase()),fe+se[0].length):-1}function ee(me,je,fe){var se=b.exec(je.slice(fe));return se?(me.w=v.get(se[0].toLowerCase()),fe+se[0].length):-1}function Z(me,je,fe){var se=h.exec(je.slice(fe));return se?(me.w=x.get(se[0].toLowerCase()),fe+se[0].length):-1}function B(me,je,fe){var se=S.exec(je.slice(fe));return se?(me.m=M.get(se[0].toLowerCase()),fe+se[0].length):-1}function G(me,je,fe){var se=j.exec(je.slice(fe));return se?(me.m=w.get(se[0].toLowerCase()),fe+se[0].length):-1}function J(me,je,fe){return E(me,t,je,fe)}function ce(me,je,fe){return E(me,a,je,fe)}function te(me,je,fe){return E(me,n,je,fe)}function K(me){return o[me.getDay()]}function Y(me){return i[me.getDay()]}function re(me){return d[me.getMonth()]}function ne(me){return l[me.getMonth()]}function z(me){return s[+(me.getHours()>=12)]}function V(me){return 1+~~(me.getMonth()/3)}function F(me){return o[me.getUTCDay()]}function $(me){return i[me.getUTCDay()]}function q(me){return d[me.getUTCMonth()]}function H(me){return l[me.getUTCMonth()]}function Q(me){return s[+(me.getUTCHours()>=12)]}function de(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var je=_(me+="",T);return je.toString=function(){return me},je},parse:function(me){var je=D(me+="",!1);return je.toString=function(){return me},je},utcFormat:function(me){var je=_(me+="",A);return je.toString=function(){return me},je},utcParse:function(me){var je=D(me+="",!0);return je.toString=function(){return me},je}}}var YI={"-":"",_:" ",0:"0"},$n=/^\s*\d+/,sde=/^%/,ide=/[\\^$*+?|[\]().{}]/g;function Vr(e,t,a){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<a?new Array(a-i+1).join(t)+s:s)}function ode(e){return e.replace(ide,"\\$&")}function ih(e){return new RegExp("^(?:"+e.map(ode).join("|")+")","i")}function oh(e){return new Map(e.map((t,a)=>[t.toLowerCase(),a]))}function lde(e,t,a){var n=$n.exec(t.slice(a,a+1));return n?(e.w=+n[0],a+n[0].length):-1}function dde(e,t,a){var n=$n.exec(t.slice(a,a+1));return n?(e.u=+n[0],a+n[0].length):-1}function cde(e,t,a){var n=$n.exec(t.slice(a,a+2));return n?(e.U=+n[0],a+n[0].length):-1}function ude(e,t,a){var n=$n.exec(t.slice(a,a+2));return n?(e.V=+n[0],a+n[0].length):-1}function mde(e,t,a){var n=$n.exec(t.slice(a,a+2));return n?(e.W=+n[0],a+n[0].length):-1}function ZI(e,t,a){var n=$n.exec(t.slice(a,a+4));return n?(e.y=+n[0],a+n[0].length):-1}function XI(e,t,a){var n=$n.exec(t.slice(a,a+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),a+n[0].length):-1}function gde(e,t,a){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),a+n[0].length):-1}function hde(e,t,a){var n=$n.exec(t.slice(a,a+1));return n?(e.q=n[0]*3-3,a+n[0].length):-1}function fde(e,t,a){var n=$n.exec(t.slice(a,a+2));return n?(e.m=n[0]-1,a+n[0].length):-1}function JI(e,t,a){var n=$n.exec(t.slice(a,a+2));return n?(e.d=+n[0],a+n[0].length):-1}function pde(e,t,a){var n=$n.exec(t.slice(a,a+3));return n?(e.m=0,e.d=+n[0],a+n[0].length):-1}function eA(e,t,a){var n=$n.exec(t.slice(a,a+2));return n?(e.H=+n[0],a+n[0].length):-1}function xde(e,t,a){var n=$n.exec(t.slice(a,a+2));return n?(e.M=+n[0],a+n[0].length):-1}function yde(e,t,a){var n=$n.exec(t.slice(a,a+2));return n?(e.S=+n[0],a+n[0].length):-1}function bde(e,t,a){var n=$n.exec(t.slice(a,a+3));return n?(e.L=+n[0],a+n[0].length):-1}function vde(e,t,a){var n=$n.exec(t.slice(a,a+6));return n?(e.L=Math.floor(n[0]/1e3),a+n[0].length):-1}function kde(e,t,a){var n=sde.exec(t.slice(a,a+1));return n?a+n[0].length:-1}function wde(e,t,a){var n=$n.exec(t.slice(a));return n?(e.Q=+n[0],a+n[0].length):-1}function jde(e,t,a){var n=$n.exec(t.slice(a));return n?(e.s=+n[0],a+n[0].length):-1}function tA(e,t){return Vr(e.getDate(),t,2)}function Nde(e,t){return Vr(e.getHours(),t,2)}function Cde(e,t){return Vr(e.getHours()%12||12,t,2)}function Sde(e,t){return Vr(1+D0.count(Xl(e),e),t,3)}function SL(e,t){return Vr(e.getMilliseconds(),t,3)}function Pde(e,t){return SL(e,t)+"000"}function Mde(e,t){return Vr(e.getMonth()+1,t,2)}function Tde(e,t){return Vr(e.getMinutes(),t,2)}function Ide(e,t){return Vr(e.getSeconds(),t,2)}function Ade(e){var t=e.getDay();return t===0?7:t}function Ede(e,t){return Vr(Gb.count(Xl(e)-1,e),t,2)}function PL(e){var t=e.getDay();return t>=4||t===0?Lm(e):Lm.ceil(e)}function _de(e,t){return e=PL(e),Vr(Lm.count(Xl(e),e)+(Xl(e).getDay()===4),t,2)}function Ode(e){return e.getDay()}function Rde(e,t){return Vr(vy.count(Xl(e)-1,e),t,2)}function Dde(e,t){return Vr(e.getFullYear()%100,t,2)}function Bde(e,t){return e=PL(e),Vr(e.getFullYear()%100,t,2)}function Lde(e,t){return Vr(e.getFullYear()%1e4,t,4)}function $de(e,t){var a=e.getDay();return e=a>=4||a===0?Lm(e):Lm.ceil(e),Vr(e.getFullYear()%1e4,t,4)}function Fde(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Vr(t/60|0,"0",2)+Vr(t%60,"0",2)}function rA(e,t){return Vr(e.getUTCDate(),t,2)}function zde(e,t){return Vr(e.getUTCHours(),t,2)}function Ude(e,t){return Vr(e.getUTCHours()%12||12,t,2)}function qde(e,t){return Vr(1+Qb.count(Jl(e),e),t,3)}function ML(e,t){return Vr(e.getUTCMilliseconds(),t,3)}function Vde(e,t){return ML(e,t)+"000"}function Hde(e,t){return Vr(e.getUTCMonth()+1,t,2)}function Wde(e,t){return Vr(e.getUTCMinutes(),t,2)}function Kde(e,t){return Vr(e.getUTCSeconds(),t,2)}function Qde(e){var t=e.getUTCDay();return t===0?7:t}function Gde(e,t){return Vr(Yb.count(Jl(e)-1,e),t,2)}function TL(e){var t=e.getUTCDay();return t>=4||t===0?$m(e):$m.ceil(e)}function Yde(e,t){return e=TL(e),Vr($m.count(Jl(e),e)+(Jl(e).getUTCDay()===4),t,2)}function Zde(e){return e.getUTCDay()}function Xde(e,t){return Vr(ky.count(Jl(e)-1,e),t,2)}function Jde(e,t){return Vr(e.getUTCFullYear()%100,t,2)}function ece(e,t){return e=TL(e),Vr(e.getUTCFullYear()%100,t,2)}function tce(e,t){return Vr(e.getUTCFullYear()%1e4,t,4)}function rce(e,t){var a=e.getUTCDay();return e=a>=4||a===0?$m(e):$m.ceil(e),Vr(e.getUTCFullYear()%1e4,t,4)}function ace(){return"+0000"}function aA(){return"%"}function nA(e){return+e}function sA(e){return Math.floor(+e/1e3)}var Xu,IL,AL;nce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nce(e){return Xu=nde(e),IL=Xu.format,Xu.parse,AL=Xu.utcFormat,Xu.utcParse,Xu}function sce(e){return new Date(e)}function ice(e){return e instanceof Date?+e:+new Date(+e)}function DC(e,t,a,n,s,i,o,l,d,c){var g=wC(),h=g.invert,x=g.domain,b=c(".%L"),v=c(":%S"),j=c("%I:%M"),w=c("%I %p"),S=c("%a %d"),M=c("%b %d"),T=c("%B"),A=c("%Y");function I(_){return(d(_)<_?b:l(_)<_?v:o(_)<_?j:i(_)<_?w:n(_)<_?s(_)<_?S:M:a(_)<_?T:A)(_)}return g.invert=function(_){return new Date(h(_))},g.domain=function(_){return arguments.length?x(Array.from(_,ice)):x().map(sce)},g.ticks=function(_){var D=x();return e(D[0],D[D.length-1],_??10)},g.tickFormat=function(_,D){return D==null?I:c(D)},g.nice=function(_){var D=x();return(!_||typeof _.range!="function")&&(_=t(D[0],D[D.length-1],_??10)),_?x(xL(D,_)):g},g.copy=function(){return R0(g,DC(e,t,a,n,s,i,o,l,d,c))},g}function oce(){return Ji.apply(DC(rde,ade,Xl,OC,Gb,D0,EC,IC,Uc,IL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lce(){return Ji.apply(DC(ede,tde,Jl,RC,Yb,Qb,_C,AC,Uc,AL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zb(){var e=0,t=1,a,n,s,i,o=Ns,l=!1,d;function c(h){return h==null||isNaN(h=+h)?d:o(s===0?.5:(h=(i(h)-a)*s,l?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([e,t]=h,a=i(e=+e),n=i(t=+t),s=a===n?0:1/(n-a),c):[e,t]},c.clamp=function(h){return arguments.length?(l=!!h,c):l},c.interpolator=function(h){return arguments.length?(o=h,c):o};function g(h){return function(x){var b,v;return arguments.length?([b,v]=x,o=h(b,v),c):[o(0),o(1)]}}return c.range=g(Jm),c.rangeRound=g(kC),c.unknown=function(h){return arguments.length?(d=h,c):d},function(h){return i=h,a=h(e),n=h(t),s=a===n?0:1/(n-a),c}}function nc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function EL(){var e=ac(Zb()(Ns));return e.copy=function(){return nc(e,EL())},sd.apply(e,arguments)}function _L(){var e=CC(Zb()).domain([1,10]);return e.copy=function(){return nc(e,_L()).base(e.base())},sd.apply(e,arguments)}function OL(){var e=SC(Zb());return e.copy=function(){return nc(e,OL()).constant(e.constant())},sd.apply(e,arguments)}function BC(){var e=PC(Zb());return e.copy=function(){return nc(e,BC()).exponent(e.exponent())},sd.apply(e,arguments)}function dce(){return BC.apply(null,arguments).exponent(.5)}function RL(){var e=[],t=Ns;function a(n){if(n!=null&&!isNaN(n=+n))return t((_0(e,n,1)-1)/(e.length-1))}return a.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Kd),a},a.interpolator=function(n){return arguments.length?(t=n,a):t},a.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},a.quantiles=function(n){return Array.from({length:n+1},(s,i)=>Qoe(e,i/n))},a.copy=function(){return RL(t).domain(e)},sd.apply(a,arguments)}function Xb(){var e=0,t=.5,a=1,n=1,s,i,o,l,d,c=Ns,g,h=!1,x;function b(j){return isNaN(j=+j)?x:(j=.5+((j=+g(j))-i)*(n*j<n*i?l:d),c(h?Math.max(0,Math.min(1,j)):j))}b.domain=function(j){return arguments.length?([e,t,a]=j,s=g(e=+e),i=g(t=+t),o=g(a=+a),l=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),n=i<s?-1:1,b):[e,t,a]},b.clamp=function(j){return arguments.length?(h=!!j,b):h},b.interpolator=function(j){return arguments.length?(c=j,b):c};function v(j){return function(w){var S,M,T;return arguments.length?([S,M,T]=w,c=kle(j,[S,M,T]),b):[c(0),c(.5),c(1)]}}return b.range=v(Jm),b.rangeRound=v(kC),b.unknown=function(j){return arguments.length?(x=j,b):x},function(j){return g=j,s=j(e),i=j(t),o=j(a),l=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),n=i<s?-1:1,b}}function DL(){var e=ac(Xb()(Ns));return e.copy=function(){return nc(e,DL())},sd.apply(e,arguments)}function BL(){var e=CC(Xb()).domain([.1,1,10]);return e.copy=function(){return nc(e,BL()).base(e.base())},sd.apply(e,arguments)}function LL(){var e=SC(Xb());return e.copy=function(){return nc(e,LL()).constant(e.constant())},sd.apply(e,arguments)}function LC(){var e=PC(Xb());return e.copy=function(){return nc(e,LC()).exponent(e.exponent())},sd.apply(e,arguments)}function cce(){return LC.apply(null,arguments).exponent(.5)}const xh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yC,scaleDiverging:DL,scaleDivergingLog:BL,scaleDivergingPow:LC,scaleDivergingSqrt:cce,scaleDivergingSymlog:LL,scaleIdentity:pL,scaleImplicit:h1,scaleLinear:fL,scaleLog:yL,scaleOrdinal:xC,scalePoint:Zoe,scalePow:MC,scaleQuantile:kL,scaleQuantize:wL,scaleRadial:vL,scaleSequential:EL,scaleSequentialLog:_L,scaleSequentialPow:BC,scaleSequentialQuantile:RL,scaleSequentialSqrt:dce,scaleSequentialSymlog:OL,scaleSqrt:Vle,scaleSymlog:bL,scaleThreshold:jL,scaleTime:oce,scaleUtc:lce,tickFormat:hL},Symbol.toStringTag,{value:"Module"}));var sc=e=>e.chartData,$C=De([sc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),FC=(e,t,a,n)=>n?$C(e):sc(e);function Jd(e){if(Array.isArray(e)&&e.length===2){var[t,a]=e;if(Xa(t)&&Xa(a))return!0}return!1}function iA(e,t,a){return a?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function $L(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[a,n]=e,s,i;if(Xa(a))s=a;else if(typeof a=="function")return;if(Xa(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(Jd(o))return o}}function uce(e,t,a){if(!(!a&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,a);if(Jd(n))return iA(n,t,a)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,l;if(s==="auto")t!=null&&(o=Math.min(...t));else if($t(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t?.[0]))}catch{}else if(typeof s=="string"&&DT.test(s)){var d=DT.exec(s);if(d==null||t==null)o=void 0;else{var c=+d[1];o=t[0]-c}}else o=t?.[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if($t(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t?.[1]))}catch{}else if(typeof i=="string"&&BT.test(i)){var g=BT.exec(i);if(g==null||t==null)l=void 0;else{var h=+g[1];l=t[1]+h}}else l=t?.[1];var x=[o,l];if(Jd(x))return t==null?x:iA(x,t,a)}}}var eg=1e9,mce={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},UC,Ca=!0,Yi="[DecimalError] ",Jc=Yi+"Invalid argument: ",zC=Yi+"Exponent out of range: ",tg=Math.floor,Rc=Math.pow,gce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gi,En=1e7,pa=7,FL=9007199254740991,wy=tg(FL/pa),Mt={};Mt.absoluteValue=Mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Mt.comparedTo=Mt.cmp=function(e){var t,a,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,a=n<s?n:s;t<a;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Mt.decimalPlaces=Mt.dp=function(){var e=this,t=e.d.length-1,a=(t-e.e)*pa;if(t=e.d[t],t)for(;t%10==0;t/=10)a--;return a<0?0:a};Mt.dividedBy=Mt.div=function(e){return Ul(this,new this.constructor(e))};Mt.dividedToIntegerBy=Mt.idiv=function(e){var t=this,a=t.constructor;return da(Ul(t,new a(e),0,1),a.precision)};Mt.equals=Mt.eq=function(e){return!this.cmp(e)};Mt.exponent=function(){return dn(this)};Mt.greaterThan=Mt.gt=function(e){return this.cmp(e)>0};Mt.greaterThanOrEqualTo=Mt.gte=function(e){return this.cmp(e)>=0};Mt.isInteger=Mt.isint=function(){return this.e>this.d.length-2};Mt.isNegative=Mt.isneg=function(){return this.s<0};Mt.isPositive=Mt.ispos=function(){return this.s>0};Mt.isZero=function(){return this.s===0};Mt.lessThan=Mt.lt=function(e){return this.cmp(e)<0};Mt.lessThanOrEqualTo=Mt.lte=function(e){return this.cmp(e)<1};Mt.logarithm=Mt.log=function(e){var t,a=this,n=a.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(gi))throw Error(Yi+"NaN");if(a.s<1)throw Error(Yi+(a.s?"NaN":"-Infinity"));return a.eq(gi)?new n(0):(Ca=!1,t=Ul(r0(a,i),r0(e,i),i),Ca=!0,da(t,s))};Mt.minus=Mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qL(t,e):zL(t,(e.s=-e.s,e))};Mt.modulo=Mt.mod=function(e){var t,a=this,n=a.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Yi+"NaN");return a.s?(Ca=!1,t=Ul(a,e,0,1).times(e),Ca=!0,a.minus(t)):da(new n(a),s)};Mt.naturalExponential=Mt.exp=function(){return UL(this)};Mt.naturalLogarithm=Mt.ln=function(){return r0(this)};Mt.negated=Mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Mt.plus=Mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zL(t,e):qL(t,(e.s=-e.s,e))};Mt.precision=Mt.sd=function(e){var t,a,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Jc+e);if(t=dn(s)+1,n=s.d.length-1,a=n*pa+1,n=s.d[n],n){for(;n%10==0;n/=10)a--;for(n=s.d[0];n>=10;n/=10)a++}return e&&t>a?t:a};Mt.squareRoot=Mt.sqrt=function(){var e,t,a,n,s,i,o,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(Yi+"NaN")}for(e=dn(l),Ca=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Zo(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=tg((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(s.toString()),a=d.precision,s=o=a+3;;)if(i=n,n=i.plus(Ul(l,i,o+2)).times(.5),Zo(i.d).slice(0,o)===(t=Zo(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(da(i,a+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Ca=!0,da(n,a)};Mt.times=Mt.mul=function(e){var t,a,n,s,i,o,l,d,c,g=this,h=g.constructor,x=g.d,b=(e=new h(e)).d;if(!g.s||!e.s)return new h(0);for(e.s*=g.s,a=g.e+e.e,d=x.length,c=b.length,d<c&&(i=x,x=b,b=i,o=d,d=c,c=o),i=[],o=d+c,n=o;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,s=d+n;s>n;)l=i[s]+b[n]*x[s-n-1]+t,i[s--]=l%En|0,t=l/En|0;i[s]=(i[s]+t)%En|0}for(;!i[--o];)i.pop();return t?++a:i.shift(),e.d=i,e.e=a,Ca?da(e,h.precision):e};Mt.toDecimalPlaces=Mt.todp=function(e,t){var a=this,n=a.constructor;return a=new n(a),e===void 0?a:(ol(e,0,eg),t===void 0?t=n.rounding:ol(t,0,8),da(a,e+dn(a)+1,t))};Mt.toExponential=function(e,t){var a,n=this,s=n.constructor;return e===void 0?a=lu(n,!0):(ol(e,0,eg),t===void 0?t=s.rounding:ol(t,0,8),n=da(new s(n),e+1,t),a=lu(n,!0,e+1)),a};Mt.toFixed=function(e,t){var a,n,s=this,i=s.constructor;return e===void 0?lu(s):(ol(e,0,eg),t===void 0?t=i.rounding:ol(t,0,8),n=da(new i(s),e+dn(s)+1,t),a=lu(n.abs(),!1,e+dn(n)+1),s.isneg()&&!s.isZero()?"-"+a:a)};Mt.toInteger=Mt.toint=function(){var e=this,t=e.constructor;return da(new t(e),dn(e)+1,t.rounding)};Mt.toNumber=function(){return+this};Mt.toPower=Mt.pow=function(e){var t,a,n,s,i,o,l=this,d=l.constructor,c=12,g=+(e=new d(e));if(!e.s)return new d(gi);if(l=new d(l),!l.s){if(e.s<1)throw Error(Yi+"Infinity");return l}if(l.eq(gi))return l;if(n=d.precision,e.eq(gi))return da(l,n);if(t=e.e,a=e.d.length-1,o=t>=a,i=l.s,o){if((a=g<0?-g:g)<=FL){for(s=new d(gi),t=Math.ceil(n/pa+4),Ca=!1;a%2&&(s=s.times(l),lA(s.d,t)),a=tg(a/2),a!==0;)l=l.times(l),lA(l.d,t);return Ca=!0,e.s<0?new d(gi).div(s):da(s,n)}}else if(i<0)throw Error(Yi+"NaN");return i=i<0&&e.d[Math.max(t,a)]&1?-1:1,l.s=1,Ca=!1,s=e.times(r0(l,n+c)),Ca=!0,s=UL(s),s.s=i,s};Mt.toPrecision=function(e,t){var a,n,s=this,i=s.constructor;return e===void 0?(a=dn(s),n=lu(s,a<=i.toExpNeg||a>=i.toExpPos)):(ol(e,1,eg),t===void 0?t=i.rounding:ol(t,0,8),s=da(new i(s),e,t),a=dn(s),n=lu(s,e<=a||a<=i.toExpNeg,e)),n};Mt.toSignificantDigits=Mt.tosd=function(e,t){var a=this,n=a.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ol(e,1,eg),t===void 0?t=n.rounding:ol(t,0,8)),da(new n(a),e,t)};Mt.toString=Mt.valueOf=Mt.val=Mt.toJSON=Mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=dn(e),a=e.constructor;return lu(e,t<=a.toExpNeg||t>=a.toExpPos)};function zL(e,t){var a,n,s,i,o,l,d,c,g=e.constructor,h=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),Ca?da(t,h):t;if(d=e.d,c=t.d,o=e.e,s=t.e,d=d.slice(),i=o-s,i){for(i<0?(n=d,i=-i,l=c.length):(n=c,s=o,l=d.length),o=Math.ceil(h/pa),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=d.length,i=c.length,l-i<0&&(i=l,n=c,c=d,d=n),a=0;i;)a=(d[--i]=d[i]+c[i]+a)/En|0,d[i]%=En;for(a&&(d.unshift(a),++s),l=d.length;d[--l]==0;)d.pop();return t.d=d,t.e=s,Ca?da(t,h):t}function ol(e,t,a){if(e!==~~e||e<t||e>a)throw Error(Jc+e)}function Zo(e){var t,a,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",a=pa-n.length,a&&(i+=Fd(a)),i+=n;o=e[t],n=o+"",a=pa-n.length,a&&(i+=Fd(a))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ul=(function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%En|0,o=i/En|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,d;if(i!=o)d=i>o?1:-1;else for(l=d=0;l<i;l++)if(n[l]!=s[l]){d=n[l]>s[l]?1:-1;break}return d}function a(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*En+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,d,c,g,h,x,b,v,j,w,S,M,T,A,I,_,D,E,X=n.constructor,ee=n.s==s.s?1:-1,Z=n.d,B=s.d;if(!n.s)return new X(n);if(!s.s)throw Error(Yi+"Division by zero");for(d=n.e-s.e,D=B.length,I=Z.length,b=new X(ee),v=b.d=[],c=0;B[c]==(Z[c]||0);)++c;if(B[c]>(Z[c]||0)&&--d,i==null?M=i=X.precision:o?M=i+(dn(n)-dn(s))+1:M=i,M<0)return new X(0);if(M=M/pa+2|0,c=0,D==1)for(g=0,B=B[0],M++;(c<I||g)&&M--;c++)T=g*En+(Z[c]||0),v[c]=T/B|0,g=T%B|0;else{for(g=En/(B[0]+1)|0,g>1&&(B=e(B,g),Z=e(Z,g),D=B.length,I=Z.length),A=D,j=Z.slice(0,D),w=j.length;w<D;)j[w++]=0;E=B.slice(),E.unshift(0),_=B[0],B[1]>=En/2&&++_;do g=0,l=t(B,j,D,w),l<0?(S=j[0],D!=w&&(S=S*En+(j[1]||0)),g=S/_|0,g>1?(g>=En&&(g=En-1),h=e(B,g),x=h.length,w=j.length,l=t(h,j,x,w),l==1&&(g--,a(h,D<x?E:B,x))):(g==0&&(l=g=1),h=B.slice()),x=h.length,x<w&&h.unshift(0),a(j,h,w),l==-1&&(w=j.length,l=t(B,j,D,w),l<1&&(g++,a(j,D<w?E:B,w))),w=j.length):l===0&&(g++,j=[0]),v[c++]=g,l&&j[0]?j[w++]=Z[A]||0:(j=[Z[A]],w=1);while((A++<I||j[0]!==void 0)&&M--)}return v[0]||v.shift(),b.e=d,da(b,o?i+dn(b)+1:i)}})();function UL(e,t){var a,n,s,i,o,l,d=0,c=0,g=e.constructor,h=g.precision;if(dn(e)>16)throw Error(zC+dn(e));if(!e.s)return new g(gi);for(Ca=!1,l=h,o=new g(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(Rc(2,c))/Math.LN10*2+5|0,l+=n,a=s=i=new g(gi),g.precision=l;;){if(s=da(s.times(e),l),a=a.times(++d),o=i.plus(Ul(s,a,l)),Zo(o.d).slice(0,l)===Zo(i.d).slice(0,l)){for(;c--;)i=da(i.times(i),l);return g.precision=h,t==null?(Ca=!0,da(i,h)):i}i=o}}function dn(e){for(var t=e.e*pa,a=e.d[0];a>=10;a/=10)t++;return t}function Oj(e,t,a){if(t>e.LN10.sd())throw Ca=!0,a&&(e.precision=a),Error(Yi+"LN10 precision limit exceeded");return da(new e(e.LN10),t)}function Fd(e){for(var t="";e--;)t+="0";return t}function r0(e,t){var a,n,s,i,o,l,d,c,g,h=1,x=10,b=e,v=b.d,j=b.constructor,w=j.precision;if(b.s<1)throw Error(Yi+(b.s?"NaN":"-Infinity"));if(b.eq(gi))return new j(0);if(t==null?(Ca=!1,c=w):c=t,b.eq(10))return t==null&&(Ca=!0),Oj(j,c);if(c+=x,j.precision=c,a=Zo(v),n=a.charAt(0),i=dn(b),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&a.charAt(1)>3;)b=b.times(e),a=Zo(b.d),n=a.charAt(0),h++;i=dn(b),n>1?(b=new j("0."+a),i++):b=new j(n+"."+a.slice(1))}else return d=Oj(j,c+2,w).times(i+""),b=r0(new j(n+"."+a.slice(1)),c-x).plus(d),j.precision=w,t==null?(Ca=!0,da(b,w)):b;for(l=o=b=Ul(b.minus(gi),b.plus(gi),c),g=da(b.times(b),c),s=3;;){if(o=da(o.times(g),c),d=l.plus(Ul(o,new j(s),c)),Zo(d.d).slice(0,c)===Zo(l.d).slice(0,c))return l=l.times(2),i!==0&&(l=l.plus(Oj(j,c+2,w).times(i+""))),l=Ul(l,new j(h),c),j.precision=w,t==null?(Ca=!0,da(l,w)):l;l=d,s+=2}}function oA(e,t){var a,n,s;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(a<0&&(a=n),a+=+t.slice(n+1),t=t.substring(0,n)):a<0&&(a=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,a=a-n-1,e.e=tg(a/pa),e.d=[],n=(a+1)%pa,a<0&&(n+=pa),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=pa;n<s;)e.d.push(+t.slice(n,n+=pa));t=t.slice(n),n=pa-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Ca&&(e.e>wy||e.e<-wy))throw Error(zC+a)}else e.s=0,e.e=0,e.d=[0];return e}function da(e,t,a){var n,s,i,o,l,d,c,g,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=pa,s=t,c=h[g=0];else{if(g=Math.ceil((n+1)/pa),i=h.length,g>=i)return e;for(c=i=h[g],o=1;i>=10;i/=10)o++;n%=pa,s=n-pa+o}if(a!==void 0&&(i=Rc(10,o-s-1),l=c/i%10|0,d=t<0||h[g+1]!==void 0||c%i,d=a<4?(l||d)&&(a==0||a==(e.s<0?3:2)):l>5||l==5&&(a==4||d||a==6&&(n>0?s>0?c/Rc(10,o-s):0:h[g-1])%10&1||a==(e.s<0?8:7))),t<1||!h[0])return d?(i=dn(e),h.length=1,t=t-i-1,h[0]=Rc(10,(pa-t%pa)%pa),e.e=tg(-t/pa)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=g,i=1,g--):(h.length=g+1,i=Rc(10,pa-n),h[g]=s>0?(c/Rc(10,o-s)%Rc(10,s)|0)*i:0),d)for(;;)if(g==0){(h[0]+=i)==En&&(h[0]=1,++e.e);break}else{if(h[g]+=i,h[g]!=En)break;h[g--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(Ca&&(e.e>wy||e.e<-wy))throw Error(zC+dn(e));return e}function qL(e,t){var a,n,s,i,o,l,d,c,g,h,x=e.constructor,b=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Ca?da(t,b):t;if(d=e.d,h=t.d,n=t.e,c=e.e,d=d.slice(),o=c-n,o){for(g=o<0,g?(a=d,o=-o,l=h.length):(a=h,n=c,l=d.length),s=Math.max(Math.ceil(b/pa),l)+2,o>s&&(o=s,a.length=1),a.reverse(),s=o;s--;)a.push(0);a.reverse()}else{for(s=d.length,l=h.length,g=s<l,g&&(l=s),s=0;s<l;s++)if(d[s]!=h[s]){g=d[s]<h[s];break}o=0}for(g&&(a=d,d=h,h=a,t.s=-t.s),l=d.length,s=h.length-l;s>0;--s)d[l++]=0;for(s=h.length;s>o;){if(d[--s]<h[s]){for(i=s;i&&d[--i]===0;)d[i]=En-1;--d[i],d[s]+=En}d[s]-=h[s]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Ca?da(t,b):t):new x(0)}function lu(e,t,a){var n,s=dn(e),i=Zo(e.d),o=i.length;return t?(a&&(n=a-o)>0?i=i.charAt(0)+"."+i.slice(1)+Fd(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Fd(-s-1)+i,a&&(n=a-o)>0&&(i+=Fd(n))):s>=o?(i+=Fd(s+1-o),a&&(n=a-s-1)>0&&(i=i+"."+Fd(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),a&&(n=a-o)>0&&(s+1===o&&(i+="."),i+=Fd(n))),e.s<0?"-"+i:i}function lA(e,t){if(e.length>t)return e.length=t,!0}function VL(e){var t,a,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Jc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return oA(o,i.toString())}else if(typeof i!="string")throw Error(Jc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,gce.test(i))oA(o,i);else throw Error(Jc+i)}if(s.prototype=Mt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=VL,s.config=s.set=hce,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(a=n[t++])||(e[a]=this[a]);return s.config(e),s}function hce(e){if(!e||typeof e!="object")throw Error(Yi+"Object expected");var t,a,n,s=["precision",1,eg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[a=s[t]])!==void 0)if(tg(n)===n&&n>=s[t+1]&&n<=s[t+2])this[a]=n;else throw Error(Jc+a+": "+n);if((n=e[a="LN10"])!==void 0)if(n==Math.LN10)this[a]=new this(n);else throw Error(Jc+a+": "+n);return this}var UC=VL(mce);gi=new UC(1);const Jr=UC;var fce=e=>e,HL={},WL=e=>e===HL,dA=e=>function t(){return arguments.length===0||arguments.length===1&&WL(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},KL=(e,t)=>e===1?t:dA(function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];var i=n.filter(o=>o!==HL).length;return i>=e?t(...n):KL(e-i,dA(function(){for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];var c=n.map(g=>WL(g)?l.shift():g);return t(...c,...l)}))}),pce=e=>KL(e.length,e),y1=(e,t)=>{for(var a=[],n=e;n<t;++n)a[n-e]=n;return a},xce=pce((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(a=>t[a]).map(e)),yce=function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];if(!a.length)return fce;var s=a.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((l,d)=>d(l),i(...arguments))}},b1=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function QL(e){var t;return e===0?t=1:t=Math.floor(new Jr(e).abs().log(10).toNumber())+1,t}function GL(e,t,a){for(var n=new Jr(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(a),s++;return i}var YL=e=>{var[t,a]=e,[n,s]=[t,a];return t>a&&([n,s]=[a,t]),[n,s]},ZL=(e,t,a)=>{if(e.lte(0))return new Jr(0);var n=QL(e.toNumber()),s=new Jr(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Jr(Math.ceil(i.div(o).toNumber())).add(a).mul(o),d=l.mul(s);return t?new Jr(d.toNumber()):new Jr(Math.ceil(d.toNumber()))},bce=(e,t,a)=>{var n=new Jr(1),s=new Jr(e);if(!s.isint()&&a){var i=Math.abs(e);i<1?(n=new Jr(10).pow(QL(e)-1),s=new Jr(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Jr(Math.floor(e)))}else e===0?s=new Jr(Math.floor((t-1)/2)):a||(s=new Jr(Math.floor(e)));var o=Math.floor((t-1)/2),l=yce(xce(d=>s.add(new Jr(d-o).mul(n)).toNumber()),y1);return l(0,t)},XL=function(t,a,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-t)/(n-1)))return{step:new Jr(0),tickMin:new Jr(0),tickMax:new Jr(0)};var o=ZL(new Jr(a).sub(t).div(n-1),s,i),l;t<=0&&a>=0?l=new Jr(0):(l=new Jr(t).add(a).div(2),l=l.sub(new Jr(l).mod(o)));var d=Math.ceil(l.sub(t).div(o).toNumber()),c=Math.ceil(new Jr(a).sub(l).div(o).toNumber()),g=d+c+1;return g>n?XL(t,a,n,s,i+1):(g<n&&(c=a>0?c+(n-g):c,d=a>0?d:d+(n-g)),{step:o,tickMin:l.sub(new Jr(d).mul(o)),tickMax:l.add(new Jr(c).mul(o))})},vce=function(t){var[a,n]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),[l,d]=YL([a,n]);if(l===-1/0||d===1/0){var c=d===1/0?[l,...y1(0,s-1).map(()=>1/0)]:[...y1(0,s-1).map(()=>-1/0),d];return a>n?b1(c):c}if(l===d)return bce(l,s,i);var{step:g,tickMin:h,tickMax:x}=XL(l,d,o,i,0),b=GL(h,x.add(new Jr(.1).mul(g)),g);return a>n?b1(b):b},kce=function(t,a){var[n,s]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=YL([n,s]);if(o===-1/0||l===1/0)return[n,s];if(o===l)return[o];var d=Math.max(a,2),c=ZL(new Jr(l).sub(o).div(d-1),i,0),g=[...GL(new Jr(o),new Jr(l),c),l];return i===!1&&(g=g.map(h=>Math.round(h))),n>s?b1(g):g},JL=e=>e.rootProps.maxBarSize,wce=e=>e.rootProps.barGap,e$=e=>e.rootProps.barCategoryGap,jce=e=>e.rootProps.barSize,B0=e=>e.rootProps.stackOffset,t$=e=>e.rootProps.reverseStackOrder,qC=e=>e.options.chartName,VC=e=>e.rootProps.syncId,r$=e=>e.rootProps.syncMethod,HC=e=>e.options.eventEmitter,Wn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},_l={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},mi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Jb=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Nce={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_l.angleAxisId,includeHidden:!1,name:void 0,reversed:_l.reversed,scale:_l.scale,tick:_l.tick,tickCount:void 0,ticks:void 0,type:_l.type,unit:void 0},Cce={allowDataOverflow:mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mi.scale,tick:mi.tick,tickCount:mi.tickCount,ticks:void 0,type:mi.type,unit:void 0},Sce={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_l.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_l.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_l.scale,tick:_l.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Pce={allowDataOverflow:mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mi.scale,tick:mi.tick,tickCount:mi.tickCount,ticks:void 0,type:"category",unit:void 0},WC=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Sce:Nce,KC=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Pce:Cce,ev=e=>e.polarOptions,QC=De([ad,nd,kn],eL),a$=De([ev,QC],(e,t)=>{if(e!=null)return us(e.innerRadius,t,0)}),n$=De([ev,QC],(e,t)=>{if(e!=null)return us(e.outerRadius,t,t*.8)}),Mce=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:a}=e;return[t,a]},s$=De([ev],Mce);De([WC,s$],Jb);var i$=De([QC,a$,n$],(e,t,a)=>{if(!(e==null||t==null||a==null))return[t,a]});De([KC,i$],Jb);var o$=De([Hr,ev,a$,n$,ad,nd],(e,t,a,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||a==null||n==null)){var{cx:o,cy:l,startAngle:d,endAngle:c}=t;return{cx:us(o,s,s/2),cy:us(l,i,i/2),innerRadius:a,outerRadius:n,startAngle:d,endAngle:c,clockWise:!1}}}),Ma=(e,t)=>t,L0=(e,t,a)=>a;function GC(e){return e?.id}function l$(e,t,a){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=a,o=new Map;return e.forEach(l=>{var d,c=(d=l.data)!==null&&d!==void 0?d:n;if(!(c==null||c.length===0)){var g=GC(l);c.forEach((h,x)=>{var b=i==null||s?x:String(Na(h,i,null)),v=Na(h,l.dataKey,0),j;o.has(b)?j=o.get(b):j={},Object.assign(j,{[g]:v}),o.set(b,j)})}}),Array.from(o.values())}function tv(e){return e.stackId!=null&&e.dataKey!=null}var rv=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function av(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Tce(e,t){if(e.length===t.length){for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}return!1}var jn=e=>{var t=Hr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},rg=e=>e.tooltip.settings.axisId;function cA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function jy(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(a),!0).forEach(function(n){Ice(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):cA(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Ice(e,t,a){return(t=Ace(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ace(e){var t=Ece(e,"string");return typeof t=="symbol"?t:t+""}function Ece(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v1=[0,"auto"],In={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},d$=(e,t)=>e.cartesianAxis.xAxis[t],id=(e,t)=>{var a=d$(e,t);return a??In},An={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:v1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:I0},c$=(e,t)=>e.cartesianAxis.yAxis[t],od=(e,t)=>{var a=c$(e,t);return a??An},_ce={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},YC=(e,t)=>{var a=e.cartesianAxis.zAxis[t];return a??_ce},Da=(e,t,a)=>{switch(t){case"xAxis":return id(e,a);case"yAxis":return od(e,a);case"zAxis":return YC(e,a);case"angleAxis":return WC(e,a);case"radiusAxis":return KC(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},Oce=(e,t,a)=>{switch(t){case"xAxis":return id(e,a);case"yAxis":return od(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},$0=(e,t,a)=>{switch(t){case"xAxis":return id(e,a);case"yAxis":return od(e,a);case"angleAxis":return WC(e,a);case"radiusAxis":return KC(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},u$=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ZC(e,t){return a=>{switch(e){case"xAxis":return"xAxisId"in a&&a.xAxisId===t;case"yAxis":return"yAxisId"in a&&a.yAxisId===t;case"zAxis":return"zAxisId"in a&&a.zAxisId===t;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===t;default:return!1}}}var XC=e=>e.graphicalItems.cartesianItems,Rce=De([Ma,L0],ZC),JC=(e,t,a)=>e.filter(a).filter(n=>t?.includeHidden===!0?!0:!n.hide),F0=De([XC,Da,Rce],JC,{memoizeOptions:{resultEqualityCheck:av}}),m$=De([F0],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(tv)),g$=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Dce=De([F0],g$),eS=e=>e.map(t=>t.data).filter(Boolean).flat(1),Bce=De([F0],eS,{memoizeOptions:{resultEqualityCheck:av}}),tS=(e,t)=>{var{chartData:a=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:a.slice(n,s+1)},rS=De([Bce,FC],tS),aS=(e,t,a)=>t?.dataKey!=null?e.map(n=>({value:Na(n,t.dataKey)})):a.length>0?a.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:Na(s,n)}))):e.map(n=>({value:n})),nv=De([rS,Da,F0],aS);function h$(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function dx(e){if(sl(e)||e instanceof Date){var t=Number(e);if(Xa(t))return t}}function uA(e){if(Array.isArray(e)){var t=[dx(e[0]),dx(e[1])];return Jd(t)?t:void 0}var a=dx(e);if(a!=null)return[a,a]}function ed(e){return e.map(dx).filter(eae)}function Lce(e,t,a){return!a||typeof t!="number"||So(t)?[]:a.length?ed(a.flatMap(n=>{var s=Na(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!Xa(i)||!Xa(o)))return[t-i,t+o]})):[]}var Nn=e=>{var t=jn(e),a=rg(e);return $0(e,t,a)},z0=De([Nn],e=>e?.dataKey),$ce=De([m$,FC,Nn],l$),f$=(e,t,a,n)=>{var s={},i=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),s);return Object.fromEntries(Object.entries(i).map(o=>{var[l,d]=o,c=n?[...d].reverse():d,g=c.map(GC);return[l,{stackedData:vse(e,g,a),graphicalItems:c}]}))},k1=De([$ce,m$,B0,t$],f$),p$=(e,t,a,n)=>{var{dataStartIndex:s,dataEndIndex:i}=t;if(n==null&&a!=="zAxis"){var o=Cse(e,s,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Fce=De([Da],e=>e.allowDataOverflow),nS=e=>{var t;if(e==null||!("domain"in e))return v1;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var a=ed(e.ticks);return[Math.min(...a),Math.max(...a)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:v1},sS=De([Da],nS),iS=De([sS,Fce],$L),zce=De([k1,sc,Ma,iS],p$,{memoizeOptions:{resultEqualityCheck:rv}}),sv=e=>e.errorBars,Uce=(e,t,a)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>h$(a,n)),Ny=function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];var s=a.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},oS=(e,t,a,n,s)=>{var i,o;if(a.length>0&&e.forEach(l=>{a.forEach(d=>{var c,g,h=(c=n[d.id])===null||c===void 0?void 0:c.filter(S=>h$(s,S)),x=Na(l,(g=t.dataKey)!==null&&g!==void 0?g:d.dataKey),b=Lce(l,x,h);if(b.length>=2){var v=Math.min(...b),j=Math.max(...b);(i==null||v<i)&&(i=v),(o==null||j>o)&&(o=j)}var w=uA(x);w!=null&&(i=i==null?w[0]:Math.min(i,w[0]),o=o==null?w[1]:Math.max(o,w[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var d=uA(Na(l,t.dataKey));d!=null&&(i=i==null?d[0]:Math.min(i,d[0]),o=o==null?d[1]:Math.max(o,d[1]))}),Xa(i)&&Xa(o))return[i,o]},qce=De([rS,Da,Dce,sv,Ma],oS,{memoizeOptions:{resultEqualityCheck:rv}});function Vce(e){var{value:t}=e;if(sl(t)||t instanceof Date)return t}var Hce=(e,t,a)=>{var n=e.map(Vce).filter(s=>s!=null);return a&&(t.dataKey==null||t.allowDuplicatedCategory&&ED(n))?nL(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},x$=e=>e.referenceElements.dots,ag=(e,t,a)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===a:n.yAxisId===a),Wce=De([x$,Ma,L0],ag),y$=e=>e.referenceElements.areas,Kce=De([y$,Ma,L0],ag),b$=e=>e.referenceElements.lines,Qce=De([b$,Ma,L0],ag),v$=(e,t)=>{var a=ed(e.map(n=>t==="xAxis"?n.x:n.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Gce=De(Wce,Ma,v$),k$=(e,t)=>{var a=ed(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Yce=De([Kce,Ma],k$);function Zce(e){var t;if(e.x!=null)return ed([e.x]);var a=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return a==null||a.length===0?[]:ed(a)}function Xce(e){var t;if(e.y!=null)return ed([e.y]);var a=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return a==null||a.length===0?[]:ed(a)}var w$=(e,t)=>{var a=e.flatMap(n=>t==="xAxis"?Zce(n):Xce(n));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Jce=De([Qce,Ma],w$),eue=De(Gce,Jce,Yce,(e,t,a)=>Ny(e,a,t)),lS=(e,t,a,n,s,i,o,l)=>{if(a!=null)return a;var d=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",c=d?Ny(n,i,s):Ny(i,s);return uce(t,c,e.allowDataOverflow)},tue=De([Da,sS,iS,zce,qce,eue,Hr,Ma],lS,{memoizeOptions:{resultEqualityCheck:rv}}),rue=[0,1],dS=(e,t,a,n,s,i,o)=>{if(!((e==null||a==null||a.length===0)&&o===void 0)){var{dataKey:l,type:d}=e,c=pu(t,i);if(c&&l==null){var g;return nL(0,(g=a?.length)!==null&&g!==void 0?g:0)}return d==="category"?Hce(n,e,c):s==="expand"?rue:o}},cS=De([Da,Hr,rS,nv,B0,Ma,tue],dS),j$=(e,t,a,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(C0(i));return l in xh?l:"point"}}},ng=De([Da,Hr,u$,qC,Ma],j$);function aue(e){if(e!=null){if(e in xh)return xh[e]();var t="scale".concat(C0(e));if(t in xh)return xh[t]()}}function uS(e,t,a,n){if(!(a==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(a).range(n);var s=aue(t);if(s!=null){var i=s.domain(a).range(n);return fse(i),i}}}var mS=(e,t,a)=>{var n=nS(t);if(!(a!=="auto"&&a!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Jd(e))return vce(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Jd(e))return kce(e,t.tickCount,t.allowDecimals)}},gS=De([cS,$0,ng],mS),hS=(e,t,a,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Jd(t)&&Array.isArray(a)&&a.length>0){var s=t[0],i=a[0],o=t[1],l=a[a.length-1];return[Math.min(s,i),Math.max(o,l)]}return t},nue=De([Da,cS,gS,Ma],hS),sue=De(nv,Da,(e,t)=>{if(!(!t||t.type!=="number")){var a=1/0,n=Array.from(ed(e.map(l=>l.value))).sort((l,d)=>l-d);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];a=Math.min(a,o)}return a/s}}),N$=De(sue,Hr,e$,kn,(e,t,a,n)=>n,(e,t,a,n,s)=>{if(!Xa(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=us(a,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),iue=(e,t)=>{var a=id(e,t);return a==null||typeof a.padding!="string"?0:N$(e,"xAxis",t,a.padding)},oue=(e,t)=>{var a=od(e,t);return a==null||typeof a.padding!="string"?0:N$(e,"yAxis",t,a.padding)},lue=De(id,iue,(e,t)=>{var a,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((a=s.left)!==null&&a!==void 0?a:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),due=De(od,oue,(e,t)=>{var a,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((a=s.top)!==null&&a!==void 0?a:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),cue=De([kn,lue,Lb,Bb,(e,t,a)=>a],(e,t,a,n,s)=>{var{padding:i}=n;return s?[i.left,a.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),uue=De([kn,Hr,due,Lb,Bb,(e,t,a)=>a],(e,t,a,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-a.bottom,e.top+a.top]:[e.top+a.top,e.top+e.height-a.bottom]}),U0=(e,t,a,n)=>{var s;switch(t){case"xAxis":return cue(e,a,n);case"yAxis":return uue(e,a,n);case"zAxis":return(s=YC(e,a))===null||s===void 0?void 0:s.range;case"angleAxis":return s$(e);case"radiusAxis":return i$(e,a);default:return}},C$=De([Da,U0],Jb),sg=De([Da,ng,nue,C$],uS);De([F0,sv,Ma],Uce);function S$(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var iv=(e,t)=>t,ov=(e,t,a)=>a,mue=De(Rb,iv,ov,(e,t,a)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===a).sort(S$)),gue=De(Db,iv,ov,(e,t,a)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===a).sort(S$)),P$=(e,t)=>({width:e.width,height:t.height}),hue=(e,t)=>{var a=typeof t.width=="number"?t.width:I0;return{width:a,height:e.height}},M$=De(kn,id,P$),fue=(e,t,a)=>{switch(t){case"top":return e.top;case"bottom":return a-e.bottom;default:return 0}},pue=(e,t,a)=>{switch(t){case"left":return e.left;case"right":return a-e.right;default:return 0}},xue=De(nd,kn,mue,iv,ov,(e,t,a,n,s)=>{var i={},o;return a.forEach(l=>{var d=P$(t,l);o==null&&(o=fue(t,n,e));var c=n==="top"&&!s||n==="bottom"&&s;i[l.id]=o-Number(c)*d.height,o+=(c?-1:1)*d.height}),i}),yue=De(ad,kn,gue,iv,ov,(e,t,a,n,s)=>{var i={},o;return a.forEach(l=>{var d=hue(t,l);o==null&&(o=pue(t,n,e));var c=n==="left"&&!s||n==="right"&&s;i[l.id]=o-Number(c)*d.width,o+=(c?-1:1)*d.width}),i}),bue=(e,t)=>{var a=id(e,t);if(a!=null)return xue(e,a.orientation,a.mirror)},vue=De([kn,id,bue,(e,t)=>t],(e,t,a,n)=>{if(t!=null){var s=a?.[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),kue=(e,t)=>{var a=od(e,t);if(a!=null)return yue(e,a.orientation,a.mirror)},wue=De([kn,od,kue,(e,t)=>t],(e,t,a,n)=>{if(t!=null){var s=a?.[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),T$=De(kn,od,(e,t)=>{var a=typeof t.width=="number"?t.width:I0;return{width:a,height:e.height}}),mA=(e,t,a)=>{switch(t){case"xAxis":return M$(e,a).width;case"yAxis":return T$(e,a).height;default:return}},I$=(e,t,a,n)=>{if(a!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=a,l=pu(e,n),d=t.map(c=>c.value);if(o&&l&&i==="category"&&s&&ED(d))return d}},fS=De([Hr,nv,Da,Ma],I$),A$=(e,t,a,n)=>{if(!(a==null||a.dataKey==null)){var{type:s,scale:i}=a,o=pu(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},pS=De([Hr,nv,$0,Ma],A$),gA=De([Hr,Oce,ng,sg,fS,pS,U0,gS,Ma],(e,t,a,n,s,i,o,l,d)=>{if(t!=null){var c=pu(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:s,isCategorical:c,niceTicks:l,range:o,realScaleType:a,scale:n}}}),jue=(e,t,a,n,s,i,o,l,d)=>{if(!(t==null||n==null)){var c=pu(e,d),{type:g,ticks:h,tickCount:x}=t,b=a==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=g==="category"&&n.bandwidth?n.bandwidth()/b:0;v=d==="angleAxis"&&i!=null&&i.length>=2?Rn(i[0]-i[1])*2*v:v;var j=h||s;if(j){var w=j.map((S,M)=>{var T=o?o.indexOf(S):S;return{index:M,coordinate:n(T)+v,value:S,offset:v}});return w.filter(S=>Xa(S.coordinate))}return c&&l?l.map((S,M)=>({coordinate:n(S)+v,value:S,index:M,offset:v})).filter(S=>Xa(S.coordinate)):n.ticks?n.ticks(x).map(S=>({coordinate:n(S)+v,value:S,offset:v})):n.domain().map((S,M)=>({coordinate:n(S)+v,value:o?o[S]:S,index:M,offset:v}))}},E$=De([Hr,$0,ng,sg,gS,U0,fS,pS,Ma],jue),Nue=(e,t,a,n,s,i,o)=>{if(!(t==null||a==null||n==null||n[0]===n[1])){var l=pu(e,o),{tickCount:d}=t,c=0;return c=o==="angleAxis"&&n?.length>=2?Rn(n[0]-n[1])*2*c:c,l&&i?i.map((g,h)=>({coordinate:a(g)+c,value:g,index:h,offset:c})):a.ticks?a.ticks(d).map(g=>({coordinate:a(g)+c,value:g,offset:c})):a.domain().map((g,h)=>({coordinate:a(g)+c,value:s?s[g]:g,index:h,offset:c}))}},Fm=De([Hr,$0,sg,U0,fS,pS,Ma],Nue),zm=De(Da,sg,(e,t)=>{if(!(e==null||t==null))return jy(jy({},e),{},{scale:t})}),Cue=De([Da,ng,cS,C$],uS);De((e,t,a)=>YC(e,a),Cue,(e,t)=>{if(!(e==null||t==null))return jy(jy({},e),{},{scale:t})});var Sue=De([Hr,Rb,Db],(e,t,a)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_$=e=>e.options.defaultTooltipEventType,O$=e=>e.options.validateTooltipEventTypes;function R$(e,t,a){if(e==null)return t;var n=e?"axis":"item";return a==null?t:a.includes(n)?n:t}function xS(e,t){var a=_$(e),n=O$(e);return R$(t,a,n)}function Pue(e){return Bt(t=>xS(t,e))}var D$=(e,t)=>{var a,n=Number(t);if(!(So(n)||t==null))return n>=0?e==null||(a=e[n])===null||a===void 0?void 0:a.value:void 0},Mue=e=>e.tooltip.settings,Ud={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Tue={itemInteraction:{click:Ud,hover:Ud},axisInteraction:{click:Ud,hover:Ud},keyboardInteraction:Ud,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},B$=Js({name:"tooltip",initialState:Tue,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ja()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:a,next:n}=t.payload,s=yo(e).tooltipItemPayloads.indexOf(a);s>-1&&(e.tooltipItemPayloads[s]=n)},prepare:ja()},removeTooltipEntrySettings:{reducer(e,t){var a=yo(e).tooltipItemPayloads.indexOf(t.payload);a>-1&&e.tooltipItemPayloads.splice(a,1)},prepare:ja()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Iue,replaceTooltipEntrySettings:Aue,removeTooltipEntrySettings:Eue,setTooltipSettingsState:_ue,setActiveMouseOverItemIndex:L$,mouseLeaveItem:Oue,mouseLeaveChart:$$,setActiveClickItemIndex:Rue,setMouseOverAxisIndex:F$,setMouseClickAxisIndex:Due,setSyncInteraction:w1,setKeyboardInteraction:j1}=B$.actions,Bue=B$.reducer;function hA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Rp(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(a),!0).forEach(function(n){Lue(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hA(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Lue(e,t,a){return(t=$ue(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $ue(e){var t=Fue(e,"string");return typeof t=="symbol"?t:t+""}function Fue(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zue(e,t,a){return t==="axis"?a==="click"?e.axisInteraction.click:e.axisInteraction.hover:a==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Uue(e){return e.index!=null}var z$=(e,t,a,n)=>{if(t==null)return Ud;var s=zue(e,t,a);if(s==null)return Ud;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Uue(s)){if(i)return Rp(Rp({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Rp(Rp({},Ud),{},{coordinate:s.coordinate})};function que(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var a=Number(e);return Number.isFinite(a)?a:void 0}function Vue(e,t){var a=que(e),n=t[0],s=t[1];if(a===void 0)return!1;var i=Math.min(n,s),o=Math.max(n,s);return a>=i&&a<=o}function Hue(e,t,a){if(a==null||t==null)return!0;var n=Na(e,t);return n==null||!Jd(a)?!0:Vue(n,a)}var yS=(e,t,a,n)=>{var s=e?.index;if(s==null)return null;var i=Number(s);if(!Xa(i))return s;var o=0,l=1/0;t.length>0&&(l=t.length-1);var d=Math.max(o,Math.min(i,l)),c=t[d];return c==null||Hue(c,a,n)?String(d):null},U$=(e,t,a,n,s,i,o,l)=>{if(!(i==null||l==null)){var d=o[0],c=d==null?void 0:l(d.positions,i);if(c!=null)return c;var g=s?.[Number(i)];if(g)switch(a){case"horizontal":return{x:g.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:g.coordinate}}}},q$=(e,t,a,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return a==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},q0=e=>e.options.tooltipPayloadSearcher,ig=e=>e.tooltip;function fA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function pA(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(a),!0).forEach(function(n){Wue(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fA(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Wue(e,t,a){return(t=Kue(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Kue(e){var t=Que(e,"string");return typeof t=="symbol"?t:t+""}function Que(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gue(e,t){return e??t}var V$=(e,t,a,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:d,dataStartIndex:c,dataEndIndex:g}=a,h=[];return e.reduce((x,b)=>{var v,{dataDefinedOnItem:j,settings:w}=b,S=Gue(j,l),M=Array.isArray(S)?NB(S,c,g):S,T=(v=w?.dataKey)!==null&&v!==void 0?v:n,A=w?.nameKey,I;if(n&&Array.isArray(M)&&!Array.isArray(M[0])&&o==="axis"?I=Jre(M,n,s):I=i(M,t,d,A),Array.isArray(I))I.forEach(D=>{var E=pA(pA({},w),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});x.push(LT({tooltipEntrySettings:E,dataKey:D.dataKey,payload:D.payload,value:Na(D.payload,D.dataKey),name:D.name}))});else{var _;x.push(LT({tooltipEntrySettings:w,dataKey:T,payload:I,value:Na(I,T),name:(_=Na(I,A))!==null&&_!==void 0?_:w?.name}))}return x},h)}},bS=De([Nn,Hr,u$,qC,jn],j$),Yue=De([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Zue=De([jn,rg],ZC),V0=De([Yue,Nn,Zue],JC,{memoizeOptions:{resultEqualityCheck:av}}),Xue=De([V0],e=>e.filter(tv)),Jue=De([V0],eS,{memoizeOptions:{resultEqualityCheck:av}}),og=De([Jue,sc],tS),eme=De([Xue,sc,Nn],l$),vS=De([og,Nn,V0],aS),H$=De([Nn],nS),tme=De([Nn],e=>e.allowDataOverflow),W$=De([H$,tme],$L),rme=De([V0],e=>e.filter(tv)),ame=De([eme,rme,B0,t$],f$),nme=De([ame,sc,jn,W$],p$),sme=De([V0],g$),ime=De([og,Nn,sme,sv,jn],oS,{memoizeOptions:{resultEqualityCheck:rv}}),ome=De([x$,jn,rg],ag),lme=De([ome,jn],v$),dme=De([y$,jn,rg],ag),cme=De([dme,jn],k$),ume=De([b$,jn,rg],ag),mme=De([ume,jn],w$),gme=De([lme,mme,cme],Ny),hme=De([Nn,H$,W$,nme,ime,gme,Hr,jn],lS),H0=De([Nn,Hr,og,vS,B0,jn,hme],dS),fme=De([H0,Nn,bS],mS),pme=De([Nn,H0,fme,jn],hS),K$=e=>{var t=jn(e),a=rg(e),n=!1;return U0(e,t,a,n)},Q$=De([Nn,K$],Jb),G$=De([Nn,bS,pme,Q$],uS),xme=De([Hr,vS,Nn,jn],I$),yme=De([Hr,vS,Nn,jn],A$),bme=(e,t,a,n,s,i,o,l)=>{if(t){var{type:d}=t,c=pu(e,l);if(n){var g=a==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=d==="category"&&n.bandwidth?n.bandwidth()/g:0;return h=l==="angleAxis"&&s!=null&&s?.length>=2?Rn(s[0]-s[1])*2*h:h,c&&o?o.map((x,b)=>({coordinate:n(x)+h,value:x,index:b,offset:h})):n.domain().map((x,b)=>({coordinate:n(x)+h,value:i?i[x]:x,index:b,offset:h}))}}},ld=De([Hr,Nn,bS,G$,K$,xme,yme,jn],bme),kS=De([_$,O$,Mue],(e,t,a)=>R$(a.shared,e,t)),Y$=e=>e.tooltip.settings.trigger,wS=e=>e.tooltip.settings.defaultIndex,W0=De([ig,kS,Y$,wS],z$),du=De([W0,og,z0,H0],yS),Z$=De([ld,du],D$),jS=De([W0],e=>{if(e)return e.dataKey}),vme=De([W0],e=>{if(e)return e.graphicalItemId}),X$=De([ig,kS,Y$,wS],q$),kme=De([ad,nd,Hr,kn,ld,wS,X$,q0],U$),wme=De([W0,kme],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),jme=De([W0],e=>e.active),Nme=De([X$,du,sc,z0,Z$,q0,kS],V$);De([Nme],e=>{if(e!=null){var t=e.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(t))}});function xA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function yA(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(a),!0).forEach(function(n){Cme(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xA(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Cme(e,t,a){return(t=Sme(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Sme(e){var t=Pme(e,"string");return typeof t=="symbol"?t:t+""}function Pme(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mme=()=>Bt(Nn),Tme=()=>{var e=Mme(),t=Bt(ld),a=Bt(G$);return ay(!e||!a?void 0:yA(yA({},e),{},{scale:a}),t)};function bA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Ju(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(a),!0).forEach(function(n){Ime(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bA(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Ime(e,t,a){return(t=Ame(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ame(e){var t=Eme(e,"string");return typeof t=="symbol"?t:t+""}function Eme(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _me=(e,t,a,n)=>{var s=t.find(i=>i&&i.index===a);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:s.coordinate}}return{x:0,y:0}},Ome=(e,t,a,n)=>{var s=t.find(c=>c&&c.index===a);if(s){if(e==="centric"){var i=s.coordinate,{radius:o}=n;return Ju(Ju(Ju({},n),ln(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=s.coordinate,{angle:d}=n;return Ju(Ju(Ju({},n),ln(n.cx,n.cy,l,d)),{},{angle:d,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Rme(e,t){var{chartX:a,chartY:n}=e;return a>=t.left&&a<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var J$=(e,t,a,n,s)=>{var i,o=-1,l=(i=t?.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var d=0;d<l;d++){var c=d>0?a[d-1].coordinate:a[l-1].coordinate,g=a[d].coordinate,h=d>=l-1?a[0].coordinate:a[d+1].coordinate,x=void 0;if(Rn(g-c)!==Rn(h-g)){var b=[];if(Rn(h-g)===Rn(s[1]-s[0])){x=h;var v=g+s[1]-s[0];b[0]=Math.min(v,(v+c)/2),b[1]=Math.max(v,(v+c)/2)}else{x=c;var j=h+s[1]-s[0];b[0]=Math.min(g,(j+g)/2),b[1]=Math.max(g,(j+g)/2)}var w=[Math.min(g,(x+g)/2),Math.max(g,(x+g)/2)];if(e>w[0]&&e<=w[1]||e>=b[0]&&e<=b[1]){({index:o}=a[d]);break}}else{var S=Math.min(c,h),M=Math.max(c,h);if(e>(S+g)/2&&e<=(M+g)/2){({index:o}=a[d]);break}}}else if(t){for(var T=0;T<l;T++)if(T===0&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T>0&&T<l-1&&e>(t[T].coordinate+t[T-1].coordinate)/2&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T===l-1&&e>(t[T].coordinate+t[T-1].coordinate)/2){({index:o}=t[T]);break}}return o},Dme=()=>Bt(qC),NS=(e,t)=>t,e7=(e,t,a)=>a,CS=(e,t,a,n)=>n,Bme=De(ld,e=>Cb(e,t=>t.coordinate)),SS=De([ig,NS,e7,CS],z$),PS=De([SS,og,z0,H0],yS),Lme=(e,t,a)=>{if(t!=null){var n=ig(e);return t==="axis"?a==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:a==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},t7=De([ig,NS,e7,CS],q$),Cy=De([ad,nd,Hr,kn,ld,CS,t7,q0],U$),$me=De([SS,Cy],(e,t)=>{var a;return(a=e.coordinate)!==null&&a!==void 0?a:t}),r7=De([ld,PS],D$),Fme=De([t7,PS,sc,z0,r7,q0,NS],V$),zme=De([SS,PS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Ume=(e,t,a,n,s,i,o)=>{if(!(!e||!a||!n||!s)&&Rme(e,o)){var l=Sse(e,t),d=J$(l,i,s,a,n),c=_me(t,s,d,e);return{activeIndex:String(d),activeCoordinate:c}}},qme=(e,t,a,n,s,i,o)=>{if(!(!e||!n||!s||!i||!a)){var l=Poe(e,a);if(l){var d=Pse(l,t),c=J$(d,o,i,n,s),g=Ome(t,i,c,l);return{activeIndex:String(c),activeCoordinate:g}}}},Vme=(e,t,a,n,s,i,o,l)=>{if(!(!e||!t||!n||!s||!i))return t==="horizontal"||t==="vertical"?Ume(e,t,n,s,i,o,l):qme(e,t,a,n,s,i,o)},Hme=De(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,a)=>a,(e,t,a)=>{if(t!=null){var n=e[t];if(n!=null)return a?n.panoramaElementId:n.elementId}}),Wme=De(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Wn)),a=Array.from(new Set(t));return a.sort((n,s)=>n-s)},{memoizeOptions:{resultEqualityCheck:Tce}});function vA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function kA(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(a),!0).forEach(function(n){Kme(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vA(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Kme(e,t,a){return(t=Qme(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Qme(e){var t=Gme(e,"string");return typeof t=="symbol"?t:t+""}function Gme(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yme={},Zme={zIndexMap:Object.values(Wn).reduce((e,t)=>kA(kA({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Yme)},Xme=new Set(Object.values(Wn));function Jme(e){return Xme.has(e)}var a7=Js({name:"zIndex",initialState:Zme,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:a}=t.payload;e.zIndexMap[a]?e.zIndexMap[a].consumers+=1:e.zIndexMap[a]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:ja()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:a}=t.payload;e.zIndexMap[a]&&(e.zIndexMap[a].consumers-=1,e.zIndexMap[a].consumers<=0&&!Jme(a)&&delete e.zIndexMap[a])},prepare:ja()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:a,elementId:n,isPanorama:s}=t.payload;e.zIndexMap[a]?s?e.zIndexMap[a].panoramaElementId=n:e.zIndexMap[a].elementId=n:e.zIndexMap[a]={consumers:0,elementId:s?void 0:n,panoramaElementId:s?n:void 0}},prepare:ja()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:a}=t.payload;e.zIndexMap[a]&&(t.payload.isPanorama?e.zIndexMap[a].panoramaElementId=void 0:e.zIndexMap[a].elementId=void 0)},prepare:ja()}}}),{registerZIndexPortal:ege,unregisterZIndexPortal:tge,registerZIndexPortalId:rge,unregisterZIndexPortalId:age}=a7.actions,nge=a7.reducer;function Ao(e){var{zIndex:t,children:a}=e,n=aie(),s=n&&t!==void 0&&t!==0,i=ei(),o=Pa();p.useLayoutEffect(()=>s?(o(ege({zIndex:t})),()=>{o(tge({zIndex:t}))}):S0,[o,t,s]);var l=Bt(c=>Hme(c,t,i));if(!s)return a;if(!l)return null;var d=document.getElementById(l);return d?qd.createPortal(a,d):null}function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},N1.apply(null,arguments)}function wA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Dp(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(a),!0).forEach(function(n){sge(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wA(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function sge(e,t,a){return(t=ige(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ige(e){var t=oge(e,"string");return typeof t=="symbol"?t:t+""}function oge(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lge(e){var{cursor:t,cursorComp:a,cursorProps:n}=e;return p.isValidElement(t)?p.cloneElement(t,n):p.createElement(a,n)}function dge(e){var t,{coordinate:a,payload:n,index:s,offset:i,tooltipAxisBandSize:o,layout:l,cursor:d,tooltipEventType:c,chartName:g}=e,h=a,x=n,b=s;if(!d||!h||g!=="ScatterChart"&&c!=="axis")return null;var v,j,w;if(g==="ScatterChart")v=h,j=Uie,w=Wn.cursorLine;else if(g==="BarChart")v=qie(l,h,i,o),j=JB,w=Wn.cursorRectangle;else if(l==="radial"&&RD(h)){var{cx:S,cy:M,radius:T,startAngle:A,endAngle:I}=tL(h);v={cx:S,cy:M,startAngle:A,endAngle:I,innerRadius:T,outerRadius:T},j=aL,w=Wn.cursorLine}else v={points:Aoe(l,h,i)},j=fC,w=Wn.cursorLine;var _=typeof d=="object"&&"className"in d?d.className:void 0,D=Dp(Dp(Dp(Dp({stroke:"#ccc",pointerEvents:"none"},i),v),qh(d)),{},{payload:x,payloadIndex:b,className:na("recharts-tooltip-cursor",_)});return p.createElement(Ao,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:w},p.createElement(lge,{cursor:d,cursorComp:j,cursorProps:D}))}function cge(e){var t=Tme(),a=RB(),n=Fb(),s=Dme();return t==null||a==null||n==null||s==null?null:p.createElement(dge,N1({},e,{offset:a,layout:n,tooltipAxisBandSize:t,chartName:s}))}var n7=p.createContext(null),uge=()=>p.useContext(n7),Rj={exports:{}},jA;function mge(){return jA||(jA=1,(function(e){var t=Object.prototype.hasOwnProperty,a="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(a=!1));function s(d,c,g){this.fn=d,this.context=c,this.once=g||!1}function i(d,c,g,h,x){if(typeof g!="function")throw new TypeError("The listener must be a function");var b=new s(g,h||d,x),v=a?a+c:c;return d._events[v]?d._events[v].fn?d._events[v]=[d._events[v],b]:d._events[v].push(b):(d._events[v]=b,d._eventsCount++),d}function o(d,c){--d._eventsCount===0?d._events=new n:delete d._events[c]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],g,h;if(this._eventsCount===0)return c;for(h in g=this._events)t.call(g,h)&&c.push(a?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(g)):c},l.prototype.listeners=function(c){var g=a?a+c:c,h=this._events[g];if(!h)return[];if(h.fn)return[h.fn];for(var x=0,b=h.length,v=new Array(b);x<b;x++)v[x]=h[x].fn;return v},l.prototype.listenerCount=function(c){var g=a?a+c:c,h=this._events[g];return h?h.fn?1:h.length:0},l.prototype.emit=function(c,g,h,x,b,v){var j=a?a+c:c;if(!this._events[j])return!1;var w=this._events[j],S=arguments.length,M,T;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),S){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,g),!0;case 3:return w.fn.call(w.context,g,h),!0;case 4:return w.fn.call(w.context,g,h,x),!0;case 5:return w.fn.call(w.context,g,h,x,b),!0;case 6:return w.fn.call(w.context,g,h,x,b,v),!0}for(T=1,M=new Array(S-1);T<S;T++)M[T-1]=arguments[T];w.fn.apply(w.context,M)}else{var A=w.length,I;for(T=0;T<A;T++)switch(w[T].once&&this.removeListener(c,w[T].fn,void 0,!0),S){case 1:w[T].fn.call(w[T].context);break;case 2:w[T].fn.call(w[T].context,g);break;case 3:w[T].fn.call(w[T].context,g,h);break;case 4:w[T].fn.call(w[T].context,g,h,x);break;default:if(!M)for(I=1,M=new Array(S-1);I<S;I++)M[I-1]=arguments[I];w[T].fn.apply(w[T].context,M)}}return!0},l.prototype.on=function(c,g,h){return i(this,c,g,h,!1)},l.prototype.once=function(c,g,h){return i(this,c,g,h,!0)},l.prototype.removeListener=function(c,g,h,x){var b=a?a+c:c;if(!this._events[b])return this;if(!g)return o(this,b),this;var v=this._events[b];if(v.fn)v.fn===g&&(!x||v.once)&&(!h||v.context===h)&&o(this,b);else{for(var j=0,w=[],S=v.length;j<S;j++)(v[j].fn!==g||x&&!v[j].once||h&&v[j].context!==h)&&w.push(v[j]);w.length?this._events[b]=w.length===1?w[0]:w:o(this,b)}return this},l.prototype.removeAllListeners=function(c){var g;return c?(g=a?a+c:c,this._events[g]&&o(this,g)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=a,l.EventEmitter=l,e.exports=l})(Rj)),Rj.exports}var gge=mge();const hge=Mo(gge);var a0=new hge,C1="recharts.syncEvent.tooltip",NA="recharts.syncEvent.brush";function s7(e,t){if(t){var a=Number.parseInt(t,10);if(!So(a))return e?.[a]}}var fge={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},i7=Js({name:"options",initialState:fge,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),pge=i7.reducer,{createEventEmitter:xge}=i7.actions;function yge(e){return e.tooltip.syncInteraction}var bge={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},o7=Js({name:"chartData",initialState:bge,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:a,endIndex:n}=t.payload;a!=null&&(e.dataStartIndex=a),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:CA,setDataStartEndIndexes:vge,setComputedData:Sje}=o7.actions,kge=o7.reducer,wge=["x","y"];function SA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function em(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(a),!0).forEach(function(n){jge(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):SA(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function jge(e,t,a){return(t=Nge(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Nge(e){var t=Cge(e,"string");return typeof t=="symbol"?t:t+""}function Cge(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sge(e,t){if(e==null)return{};var a,n,s=Pge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Pge(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function Mge(){var e=Bt(VC),t=Bt(HC),a=Pa(),n=Bt(r$),s=Bt(ld),i=Fb(),o=$b(),l=Bt(d=>d.rootProps.className);p.useEffect(()=>{if(e==null)return S0;var d=(c,g,h)=>{if(t!==h&&e===c){if(n==="index"){var x;if(o&&g!==null&&g!==void 0&&(x=g.payload)!==null&&x!==void 0&&x.coordinate&&g.payload.sourceViewBox){var b=g.payload.coordinate,{x:v,y:j}=b,w=Sge(b,wge),{x:S,y:M,width:T,height:A}=g.payload.sourceViewBox,I=em(em({},w),{},{x:o.x+(T?(v-S)/T:0)*o.width,y:o.y+(A?(j-M)/A:0)*o.height});a(em(em({},g),{},{payload:em(em({},g.payload),{},{coordinate:I})}))}else a(g);return}if(s!=null){var _;if(typeof n=="function"){var D={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},E=n(s,D);_=s[E]}else n==="value"&&(_=s.find(te=>String(te.value)===g.payload.label));var{coordinate:X}=g.payload;if(_==null||g.payload.active===!1||X==null||o==null){a(w1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:ee,y:Z}=X,B=Math.min(ee,o.x+o.width),G=Math.min(Z,o.y+o.height),J={x:i==="horizontal"?_.coordinate:B,y:i==="horizontal"?G:_.coordinate},ce=w1({active:g.payload.active,coordinate:J,dataKey:g.payload.dataKey,index:String(_.index),label:g.payload.label,sourceViewBox:g.payload.sourceViewBox,graphicalItemId:g.payload.graphicalItemId});a(ce)}}};return a0.on(C1,d),()=>{a0.off(C1,d)}},[l,a,t,e,n,s,i,o])}function Tge(){var e=Bt(VC),t=Bt(HC),a=Pa();p.useEffect(()=>{if(e==null)return S0;var n=(s,i,o)=>{t!==o&&e===s&&a(vge(i))};return a0.on(NA,n),()=>{a0.off(NA,n)}},[a,t,e])}function Ige(){var e=Pa();p.useEffect(()=>{e(xge())},[e]),Mge(),Tge()}function Age(e,t,a,n,s,i){var o=Bt(b=>Lme(b,e,t)),l=Bt(HC),d=Bt(VC),c=Bt(r$),g=Bt(yge),h=g?.active,x=$b();p.useEffect(()=>{if(!h&&d!=null&&l!=null){var b=w1({active:i,coordinate:a,dataKey:o,index:s,label:typeof n=="number"?String(n):n,sourceViewBox:x,graphicalItemId:void 0});a0.emit(C1,d,b,l)}},[h,a,o,s,n,l,d,c,i,x])}function PA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function MA(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(a),!0).forEach(function(n){Ege(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):PA(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Ege(e,t,a){return(t=_ge(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _ge(e){var t=Oge(e,"string");return typeof t=="symbol"?t:t+""}function Oge(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rge(e){return e.dataKey}function Dge(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(kie,t)}var TA=[],Bge={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function l7(e){var t,a,n=hs(e,Bge),{active:s,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:d,filterNull:c,isAnimationActive:g,offset:h,payloadUniqBy:x,position:b,reverseDirection:v,useTranslate3d:j,wrapperStyle:w,cursor:S,shared:M,trigger:T,defaultIndex:A,portal:I,axisId:_}=n,D=Pa(),E=typeof A=="number"?String(A):A;p.useEffect(()=>{D(_ue({shared:M,trigger:T,axisId:_,active:s,defaultIndex:E}))},[D,M,T,_,s,E]);var X=$b(),ee=QB(),Z=Pue(M),{activeIndex:B,isActive:G}=(t=Bt(Q=>zme(Q,Z,T,E)))!==null&&t!==void 0?t:{},J=Bt(Q=>Fme(Q,Z,T,E)),ce=Bt(Q=>r7(Q,Z,T,E)),te=Bt(Q=>$me(Q,Z,T,E)),K=J,Y=uge(),re=(a=s??G)!==null&&a!==void 0?a:!1,[ne,z]=cne([K,re]),V=Z==="axis"?ce:void 0;Age(Z,T,te,V,B,re);var F=I??Y;if(F==null||X==null||Z==null)return null;var $=K??TA;re||($=TA),c&&$.length&&($=Dae($.filter(Q=>Q.value!=null&&(Q.hide!==!0||n.includeHidden)),x,Rge));var q=$.length>0,H=p.createElement(Mie,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:g,active:re,coordinate:te,hasPayload:q,offset:h,position:b,reverseDirection:v,useTranslate3d:j,viewBox:X,wrapperStyle:w,lastBoundingBox:ne,innerRef:z,hasPortalFromProps:!!I},Dge(d,MA(MA({},n),{},{payload:$,label:V,active:re,activeIndex:B,coordinate:te,accessibilityLayer:ee})));return p.createElement(p.Fragment,null,qd.createPortal(H,F),re&&p.createElement(cge,{cursor:S,tooltipEventType:Z,coordinate:te,payload:$,index:B}))}var K0=e=>null;K0.displayName="Cell";function Lge(e,t,a){return(t=$ge(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $ge(e){var t=Fge(e,"string");return typeof t=="symbol"?t:t+""}function Fge(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zge{constructor(t){Lge(this,"cache",new Map),this.maxSize=t}get(t){var a=this.cache.get(t);return a!==void 0&&(this.cache.delete(t),this.cache.set(t,a)),a}set(t,a){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,a)}clear(){this.cache.clear()}size(){return this.cache.size}}function IA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Uge(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(a),!0).forEach(function(n){qge(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):IA(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function qge(e,t,a){return(t=Vge(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Vge(e){var t=Hge(e,"string");return typeof t=="symbol"?t:t+""}function Hge(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wge={cacheSize:2e3,enableCache:!0},d7=Uge({},Wge),AA=new zge(d7.cacheSize),Kge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},EA="recharts_measurement_span";function Qge(e,t){var a=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(a,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(l)}var _A=(e,t)=>{try{var a=document.getElementById(EA);a||(a=document.createElement("span"),a.setAttribute("id",EA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,Kge,t),a.textContent="".concat(e);var n=a.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Mh=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||E0.isSsr)return{width:0,height:0};if(!d7.enableCache)return _A(t,a);var n=Qge(t,a),s=AA.get(n);if(s)return s;var i=_A(t,a);return AA.set(n,i),i},OA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Yge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,c7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Zge=Object.keys(c7),um="NaN";function Xge(e,t){return e*c7[t]}class Us{static parse(t){var a,[,n,s]=(a=Yge.exec(t))!==null&&a!==void 0?a:[];return new Us(parseFloat(n),s??"")}constructor(t,a){this.num=t,this.unit=a,this.num=t,this.unit=a,So(t)&&(this.unit=""),a!==""&&!Gge.test(a)&&(this.num=NaN,this.unit=""),Zge.includes(a)&&(this.num=Xge(t,a),this.unit="px")}add(t){return this.unit!==t.unit?new Us(NaN,""):new Us(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Us(NaN,""):new Us(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Us(NaN,""):new Us(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Us(NaN,""):new Us(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return So(this.num)}}function u7(e){if(e.includes(um))return um;for(var t=e;t.includes("*")||t.includes("/");){var a,[,n,s,i]=(a=OA.exec(t))!==null&&a!==void 0?a:[],o=Us.parse(n??""),l=Us.parse(i??""),d=s==="*"?o.multiply(l):o.divide(l);if(d.isNaN())return um;t=t.replace(OA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,g,h,x]=(c=RA.exec(t))!==null&&c!==void 0?c:[],b=Us.parse(g??""),v=Us.parse(x??""),j=h==="+"?b.add(v):b.subtract(v);if(j.isNaN())return um;t=t.replace(RA,j.toString())}return t}var DA=/\(([^()]*)\)/;function Jge(e){for(var t=e,a;(a=DA.exec(t))!=null;){var[,n]=a;t=t.replace(DA,u7(n))}return t}function ehe(e){var t=e.replace(/\s+/g,"");return t=Jge(t),t=u7(t),t}function the(e){try{return ehe(e)}catch{return um}}function Dj(e){var t=the(e.slice(5,-1));return t===um?"":t}var rhe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],ahe=["dx","dy","angle","className","breakAll"];function S1(){return S1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},S1.apply(null,arguments)}function BA(e,t){if(e==null)return{};var a,n,s=nhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function nhe(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var m7=/[ \f\n\r\t\v\u2028\u2029]+/,g7=e=>{var{children:t,breakAll:a,style:n}=e;try{var s=[];Ln(t)||(a?s=t.toString().split(""):s=t.toString().split(m7));var i=s.map(l=>({word:l,width:Mh(l,n).width})),o=a?0:Mh("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function she(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var h7=(e,t,a,n)=>e.reduce((s,i)=>{var{word:o,width:l}=i,d=s[s.length-1];if(d&&l!=null&&(t==null||n||d.width+l+a<Number(t)))d.words.push(o),d.width+=l+a;else{var c={words:[o],width:l};s.push(c)}return s},[]),f7=e=>e.reduce((t,a)=>t.width>a.width?t:a),ihe="",LA=(e,t,a,n,s,i,o,l)=>{var d=e.slice(0,t),c=g7({breakAll:a,style:n,children:d+ihe});if(!c)return[!1,[]];var g=h7(c.wordsWithComputedWidth,i,o,l),h=g.length>s||f7(g).width>Number(i);return[h,g]},ohe=(e,t,a,n,s)=>{var{maxLines:i,children:o,style:l,breakAll:d}=e,c=$t(i),g=String(o),h=h7(t,n,a,s);if(!c||s)return h;var x=h.length>i||f7(h).width>Number(n);if(!x)return h;for(var b=0,v=g.length-1,j=0,w;b<=v&&j<=g.length-1;){var S=Math.floor((b+v)/2),M=S-1,[T,A]=LA(g,M,d,l,i,n,a,s),[I]=LA(g,S,d,l,i,n,a,s);if(!T&&!I&&(b=S+1),T&&I&&(v=S-1),!T&&I){w=A;break}j++}return w||h},$A=e=>{var t=Ln(e)?[]:e.toString().split(m7);return[{words:t,width:void 0}]},lhe=e=>{var{width:t,scaleToFit:a,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||a)&&!E0.isSsr){var l,d,c=g7({breakAll:i,children:n,style:s});if(c){var{wordsWithComputedWidth:g,spaceWidth:h}=c;l=g,d=h}else return $A(n);return ohe({breakAll:i,children:n,maxLines:o,style:s},l,d,t,!!a)}return $A(n)},p7="#808080",dhe={angle:0,breakAll:!1,capHeight:"0.71em",fill:p7,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},lv=p.forwardRef((e,t)=>{var a=hs(e,dhe),{x:n,y:s,lineHeight:i,capHeight:o,fill:l,scaleToFit:d,textAnchor:c,verticalAnchor:g}=a,h=BA(a,rhe),x=p.useMemo(()=>lhe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:d,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,d,h.style,h.width]),{dx:b,dy:v,angle:j,className:w,breakAll:S}=h,M=BA(h,ahe);if(!sl(n)||!sl(s)||x.length===0)return null;var T=Number(n)+($t(b)?b:0),A=Number(s)+($t(v)?v:0);if(!Xa(T)||!Xa(A))return null;var I;switch(g){case"start":I=Dj("calc(".concat(o,")"));break;case"middle":I=Dj("calc(".concat((x.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:I=Dj("calc(".concat(x.length-1," * -").concat(i,")"));break}var _=[];if(d){var D=x[0].width,{width:E}=h;_.push("scale(".concat($t(E)&&$t(D)?E/D:1,")"))}return j&&_.push("rotate(".concat(j,", ").concat(T,", ").concat(A,")")),_.length&&(M.transform=_.join(" ")),p.createElement("text",S1({},Qi(M),{ref:t,x:T,y:A,className:na("recharts-text",w),textAnchor:c,fill:l.includes("url")?p7:l}),x.map((X,ee)=>{var Z=X.words.join(S?"":" ");return p.createElement("tspan",{x:T,dy:ee===0?I:i,key:"".concat(Z,"-").concat(ee)},Z)}))});lv.displayName="Text";var che=["labelRef"];function uhe(e,t){if(e==null)return{};var a,n,s=mhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function mhe(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function FA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Ka(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(a),!0).forEach(function(n){ghe(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):FA(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function ghe(e,t,a){return(t=hhe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function hhe(e){var t=fhe(e,"string");return typeof t=="symbol"?t:t+""}function fhe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ol.apply(null,arguments)}var x7=p.createContext(null),phe=e=>{var{x:t,y:a,upperWidth:n,lowerWidth:s,width:i,height:o,children:l}=e,d=p.useMemo(()=>({x:t,y:a,upperWidth:n,lowerWidth:s,width:i,height:o}),[t,a,n,s,i,o]);return p.createElement(x7.Provider,{value:d},l)},y7=()=>{var e=p.useContext(x7),t=$b();return e||OB(t)},xhe=p.createContext(null),yhe=()=>{var e=p.useContext(xhe),t=Bt(o$);return e||t},bhe=e=>{var{value:t,formatter:a}=e,n=Ln(e.children)?t:e.children;return typeof a=="function"?a(n):n},MS=e=>e!=null&&typeof e=="function",vhe=(e,t)=>{var a=Rn(t-e),n=Math.min(Math.abs(t-e),360);return a*n},khe=(e,t,a,n,s)=>{var{offset:i,className:o}=e,{cx:l,cy:d,innerRadius:c,outerRadius:g,startAngle:h,endAngle:x,clockWise:b}=s,v=(c+g)/2,j=vhe(h,x),w=j>=0?1:-1,S,M;switch(t){case"insideStart":S=h+w*i,M=b;break;case"insideEnd":S=x-w*i,M=!b;break;case"end":S=x+w*i,M=b;break;default:throw new Error("Unsupported position ".concat(t))}M=j<=0?M:!M;var T=ln(l,d,v,S),A=ln(l,d,v,S+(M?1:-1)*359),I="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(M?0:1,`,
    `).concat(A.x,",").concat(A.y),_=Ln(e.id)?Vh("recharts-radial-line-"):e.id;return p.createElement("text",Ol({},n,{dominantBaseline:"central",className:na("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:_,d:I})),p.createElement("textPath",{xlinkHref:"#".concat(_)},a))},whe=(e,t,a)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:l,endAngle:d}=e,c=(l+d)/2;if(a==="outside"){var{x:g,y:h}=ln(n,s,o+t,c);return{x:g,y:h,textAnchor:g>=n?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(i+o)/2,{x:b,y:v}=ln(n,s,x,c);return{x:b,y:v,textAnchor:"middle",verticalAnchor:"middle"}},P1=e=>"cx"in e&&$t(e.cx),jhe=(e,t)=>{var{parentViewBox:a,offset:n,position:s}=e,i;a!=null&&!P1(a)&&(i=a);var{x:o,y:l,upperWidth:d,lowerWidth:c,height:g}=t,h=o,x=o+(d-c)/2,b=(h+x)/2,v=(d+c)/2,j=h+d/2,w=g>=0?1:-1,S=w*n,M=w>0?"end":"start",T=w>0?"start":"end",A=d>=0?1:-1,I=A*n,_=A>0?"end":"start",D=A>0?"start":"end";if(s==="top"){var E={x:h+d/2,y:l-S,textAnchor:"middle",verticalAnchor:M};return Ka(Ka({},E),i?{height:Math.max(l-i.y,0),width:d}:{})}if(s==="bottom"){var X={x:x+c/2,y:l+g+S,textAnchor:"middle",verticalAnchor:T};return Ka(Ka({},X),i?{height:Math.max(i.y+i.height-(l+g),0),width:c}:{})}if(s==="left"){var ee={x:b-I,y:l+g/2,textAnchor:_,verticalAnchor:"middle"};return Ka(Ka({},ee),i?{width:Math.max(ee.x-i.x,0),height:g}:{})}if(s==="right"){var Z={x:b+v+I,y:l+g/2,textAnchor:D,verticalAnchor:"middle"};return Ka(Ka({},Z),i?{width:Math.max(i.x+i.width-Z.x,0),height:g}:{})}var B=i?{width:v,height:g}:{};return s==="insideLeft"?Ka({x:b+I,y:l+g/2,textAnchor:D,verticalAnchor:"middle"},B):s==="insideRight"?Ka({x:b+v-I,y:l+g/2,textAnchor:_,verticalAnchor:"middle"},B):s==="insideTop"?Ka({x:h+d/2,y:l+S,textAnchor:"middle",verticalAnchor:T},B):s==="insideBottom"?Ka({x:x+c/2,y:l+g-S,textAnchor:"middle",verticalAnchor:M},B):s==="insideTopLeft"?Ka({x:h+I,y:l+S,textAnchor:D,verticalAnchor:T},B):s==="insideTopRight"?Ka({x:h+d-I,y:l+S,textAnchor:_,verticalAnchor:T},B):s==="insideBottomLeft"?Ka({x:x+I,y:l+g-S,textAnchor:D,verticalAnchor:M},B):s==="insideBottomRight"?Ka({x:x+c-I,y:l+g-S,textAnchor:_,verticalAnchor:M},B):s&&typeof s=="object"&&($t(s.x)||Gl(s.x))&&($t(s.y)||Gl(s.y))?Ka({x:o+us(s.x,v),y:l+us(s.y,g),textAnchor:"end",verticalAnchor:"end"},B):Ka({x:j,y:l+g/2,textAnchor:"middle",verticalAnchor:"middle"},B)},Nhe={angle:0,offset:5,zIndex:Wn.label,position:"middle",textBreakAll:!1};function zd(e){var t=hs(e,Nhe),{viewBox:a,position:n,value:s,children:i,content:o,className:l="",textBreakAll:d,labelRef:c}=t,g=yhe(),h=y7(),x=n==="center"?h:g??h,b,v,j;if(a==null?b=x:P1(a)?b=a:b=OB(a),!b||Ln(s)&&Ln(i)&&!p.isValidElement(o)&&typeof o!="function")return null;var w=Ka(Ka({},t),{},{viewBox:b});if(p.isValidElement(o)){var{labelRef:S}=w,M=uhe(w,che);return p.cloneElement(o,M)}if(typeof o=="function"){if(v=p.createElement(o,w),p.isValidElement(v))return v}else v=bhe(t);var T=Qi(t);if(P1(b)){if(n==="insideStart"||n==="insideEnd"||n==="end")return khe(t,n,v,T,b);j=whe(b,t.offset,t.position)}else j=jhe(t,b);return p.createElement(Ao,{zIndex:t.zIndex},p.createElement(lv,Ol({ref:c,className:na("recharts-label",l)},T,j,{textAnchor:she(T.textAnchor)?T.textAnchor:j.textAnchor,breakAll:d}),v))}zd.displayName="Label";var Che=(e,t,a)=>{if(!e)return null;var n={viewBox:t,labelRef:a};return e===!0?p.createElement(zd,Ol({key:"label-implicit"},n)):sl(e)?p.createElement(zd,Ol({key:"label-implicit",value:e},n)):p.isValidElement(e)?e.type===zd?p.cloneElement(e,Ka({key:"label-implicit"},n)):p.createElement(zd,Ol({key:"label-implicit",content:e},n)):MS(e)?p.createElement(zd,Ol({key:"label-implicit",content:e},n)):e&&typeof e=="object"?p.createElement(zd,Ol({},e,{key:"label-implicit"},n)):null};function She(e){var{label:t,labelRef:a}=e,n=y7();return Che(t,n,a)||null}var Bj={},Lj={},zA;function Phe(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a[a.length-1]}e.last=t})(Lj)),Lj}var $j={},UA;function Mhe(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Array.isArray(a)?a:Array.from(a)}e.toArray=t})($j)),$j}var qA;function The(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Phe(),a=Mhe(),n=tC();function s(i){if(n.isArrayLike(i))return t.last(a.toArray(i))}e.last=s})(Bj)),Bj}var Fj,VA;function Ihe(){return VA||(VA=1,Fj=The().last),Fj}var Ahe=Ihe();const Ehe=Mo(Ahe);var _he=["valueAccessor"],Ohe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Sy.apply(null,arguments)}function HA(e,t){if(e==null)return{};var a,n,s=Rhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Rhe(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var Dhe=e=>Array.isArray(e.value)?Ehe(e.value):e.value,b7=p.createContext(void 0),Bhe=b7.Provider,v7=p.createContext(void 0),Lhe=v7.Provider;function $he(){return p.useContext(b7)}function Fhe(){return p.useContext(v7)}function cx(e){var{valueAccessor:t=Dhe}=e,a=HA(e,_he),{dataKey:n,clockWise:s,id:i,textBreakAll:o,zIndex:l}=a,d=HA(a,Ohe),c=$he(),g=Fhe(),h=c||g;return!h||!h.length?null:p.createElement(Ao,{zIndex:l??Wn.label},p.createElement(Ms,{className:"recharts-label-list"},h.map((x,b)=>{var v,j=Ln(n)?t(x,b):Na(x&&x.payload,n),w=Ln(i)?{}:{id:"".concat(i,"-").concat(b)};return p.createElement(zd,Sy({key:"label-".concat(b)},Qi(x),d,w,{fill:(v=a.fill)!==null&&v!==void 0?v:x.fill,parentViewBox:x.parentViewBox,value:j,textBreakAll:o,viewBox:x.viewBox,index:b,zIndex:0}))})))}cx.displayName="LabelList";function k7(e){var{label:t}=e;return t?t===!0?p.createElement(cx,{key:"labelList-implicit"}):p.isValidElement(t)||MS(t)?p.createElement(cx,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(cx,Sy({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var w7=e=>e.graphicalItems.polarItems,zhe=De([Ma,L0],ZC),dv=De([w7,Da,zhe],JC),Uhe=De([dv],eS),cv=De([Uhe,$C],tS),qhe=De([cv,Da,dv],aS);De([cv,Da,dv],(e,t,a)=>a.length>0?e.flatMap(n=>a.flatMap(s=>{var i,o=Na(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Na(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var WA=()=>{},Vhe=De([cv,Da,dv,sv,Ma],oS),Hhe=De([Da,sS,iS,WA,Vhe,WA,Hr,Ma],lS),j7=De([Da,Hr,cv,qhe,B0,Ma,Hhe],dS),Whe=De([j7,Da,ng],mS);De([Da,j7,Whe,Ma],hS);var Khe={radiusAxis:{},angleAxis:{}},N7=Js({name:"polarAxis",initialState:Khe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Pje,removeRadiusAxis:Mje,addAngleAxis:Tje,removeAngleAxis:Ije}=N7.actions,Qhe=N7.reducer;function KA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function QA(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(a),!0).forEach(function(n){Ghe(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):KA(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Ghe(e,t,a){return(t=Yhe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Yhe(e){var t=Zhe(e,"string");return typeof t=="symbol"?t:t+""}function Zhe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xhe=(e,t)=>t,TS=De([w7,Xhe],(e,t)=>e.filter(a=>a.type==="pie").find(a=>a.id===t)),Jhe=[],IS=(e,t,a)=>a?.length===0?Jhe:a,C7=De([$C,TS,IS],(e,t,a)=>{var{chartData:n}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&a!=null&&(s=a.map(i=>QA(QA({},t.presentationProps),i.props))),s!=null)return s}}),e0e=De([C7,TS,IS],(e,t,a)=>{if(!(e==null||t==null))return e.map((n,s)=>{var i,o=Na(n,t.nameKey,t.name),l;return a!=null&&(i=a[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=a[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Ob(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),t0e=De([C7,TS,IS,kn],(e,t,a,n)=>{if(!(t==null||e==null))return nfe({offset:n,pieSettings:t,displayedData:e,cells:a})}),zj={exports:{}},ra={};var GA;function r0e(){if(GA)return ra;GA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function v(j){if(typeof j=="object"&&j!==null){var w=j.$$typeof;switch(w){case e:switch(j=j.type,j){case a:case s:case n:case d:case c:case x:return j;default:switch(j=j&&j.$$typeof,j){case o:case l:case h:case g:return j;case i:return j;default:return w}}case t:return w}}}return ra.ContextConsumer=i,ra.ContextProvider=o,ra.Element=e,ra.ForwardRef=l,ra.Fragment=a,ra.Lazy=h,ra.Memo=g,ra.Portal=t,ra.Profiler=s,ra.StrictMode=n,ra.Suspense=d,ra.SuspenseList=c,ra.isContextConsumer=function(j){return v(j)===i},ra.isContextProvider=function(j){return v(j)===o},ra.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},ra.isForwardRef=function(j){return v(j)===l},ra.isFragment=function(j){return v(j)===a},ra.isLazy=function(j){return v(j)===h},ra.isMemo=function(j){return v(j)===g},ra.isPortal=function(j){return v(j)===t},ra.isProfiler=function(j){return v(j)===s},ra.isStrictMode=function(j){return v(j)===n},ra.isSuspense=function(j){return v(j)===d},ra.isSuspenseList=function(j){return v(j)===c},ra.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===a||j===s||j===n||j===d||j===c||typeof j=="object"&&j!==null&&(j.$$typeof===h||j.$$typeof===g||j.$$typeof===o||j.$$typeof===i||j.$$typeof===l||j.$$typeof===b||j.getModuleId!==void 0)},ra.typeOf=v,ra}var YA;function a0e(){return YA||(YA=1,zj.exports=r0e()),zj.exports}var n0e=a0e(),ZA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",XA=null,Uj=null,S7=e=>{if(e===XA&&Array.isArray(Uj))return Uj;var t=[];return p.Children.forEach(e,a=>{Ln(a)||(n0e.isFragment(a)?t=t.concat(S7(a.props.children)):t.push(a))}),Uj=t,XA=e,t};function AS(e,t){var a=[],n=[];return Array.isArray(t)?n=t.map(s=>ZA(s)):n=[ZA(t)],S7(e).forEach(s=>{var i=su(s,"type.displayName")||su(s,"type.name");i&&n.indexOf(i)!==-1&&a.push(s)}),a}var qj={},JA;function s0e(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const s=a[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable?!1:a.toString()===`[object ${s}]`}let n=a;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(a)===n}e.isPlainObject=t})(qj)),qj}var Vj,eE;function i0e(){return eE||(eE=1,Vj=s0e().isPlainObject),Vj}var o0e=i0e();const l0e=Mo(o0e);function tE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function rE(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(a),!0).forEach(function(n){d0e(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tE(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function d0e(e,t,a){return(t=c0e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c0e(e){var t=u0e(e,"string");return typeof t=="symbol"?t:t+""}function u0e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Py.apply(null,arguments)}var aE=(e,t,a,n,s)=>{var i=a-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+a,",").concat(t),o+="L ".concat(e+a-i/2,",").concat(t+s),o+="L ".concat(e+a-i/2-n,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},m0e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},g0e=e=>{var t=hs(e,m0e),{x:a,y:n,upperWidth:s,lowerWidth:i,height:o,className:l}=t,{animationEasing:d,animationDuration:c,animationBegin:g,isUpdateAnimationActive:h}=t,x=p.useRef(null),[b,v]=p.useState(-1),j=p.useRef(s),w=p.useRef(i),S=p.useRef(o),M=p.useRef(a),T=p.useRef(n),A=Wb(e,"trapezoid-");if(p.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var J=x.current.getTotalLength();J&&v(J)}catch{}},[]),a!==+a||n!==+n||s!==+s||i!==+i||o!==+o||s===0&&i===0||o===0)return null;var I=na("recharts-trapezoid",l);if(!h)return p.createElement("g",null,p.createElement("path",Py({},Qi(t),{className:I,d:aE(a,n,s,i,o)})));var _=j.current,D=w.current,E=S.current,X=M.current,ee=T.current,Z="0px ".concat(b===-1?1:b,"px"),B="".concat(b,"px 0px"),G=GB(["strokeDasharray"],c,d);return p.createElement(Hb,{animationId:A,key:A,canBegin:b>0,duration:c,easing:d,isActive:h,begin:g},J=>{var ce=pn(_,s,J),te=pn(D,i,J),K=pn(E,o,J),Y=pn(X,a,J),re=pn(ee,n,J);x.current&&(j.current=ce,w.current=te,S.current=K,M.current=Y,T.current=re);var ne=J>0?{transition:G,strokeDasharray:B}:{strokeDasharray:Z};return p.createElement("path",Py({},Qi(t),{className:I,d:aE(Y,re,ce,te,K),ref:x,style:rE(rE({},ne),t.style)}))})},h0e=["option","shapeType","propTransformer","activeClassName"];function f0e(e,t){if(e==null)return{};var a,n,s=p0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function p0e(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function nE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function My(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(a),!0).forEach(function(n){x0e(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nE(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function x0e(e,t,a){return(t=y0e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function y0e(e){var t=b0e(e,"string");return typeof t=="symbol"?t:t+""}function b0e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v0e(e,t){return My(My({},t),e)}function k0e(e,t){return e==="symbols"}function sE(e){var{shapeType:t,elementProps:a}=e;switch(t){case"rectangle":return p.createElement(JB,a);case"trapezoid":return p.createElement(g0e,a);case"sector":return p.createElement(aL,a);case"symbols":if(k0e(t))return p.createElement(OD,a);break;case"curve":return p.createElement(fC,a);default:return null}}function w0e(e){return p.isValidElement(e)?e.props:e}function P7(e){var{option:t,shapeType:a,propTransformer:n=v0e,activeClassName:s="recharts-active-shape"}=e,i=f0e(e,h0e),o;if(p.isValidElement(t))o=p.cloneElement(t,My(My({},i),w0e(t)));else if(typeof t=="function")o=t(i,i.index);else if(l0e(t)&&typeof t!="boolean"){var l=n(t,i);o=p.createElement(sE,{shapeType:a,elementProps:l})}else{var d=i;o=p.createElement(sE,{shapeType:a,elementProps:d})}return i.isActive?p.createElement(Ms,{className:s},o):o}var ES=(e,t,a)=>{var n=Pa();return(s,i)=>o=>{e?.(s,i,o),n(L$({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:a}))}},_S=e=>{var t=Pa();return(a,n)=>s=>{e?.(a,n,s),t(Oue())}},OS=(e,t,a)=>{var n=Pa();return(s,i)=>o=>{e?.(s,i,o),n(Rue({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:a}))}};function M7(e){var{tooltipEntrySettings:t}=e,a=Pa(),n=ei(),s=p.useRef(null);return p.useLayoutEffect(()=>{n||(s.current===null?a(Iue(t)):s.current!==t&&a(Aue({prev:s.current,next:t})),s.current=t)},[t,a,n]),p.useLayoutEffect(()=>()=>{s.current&&(a(Eue(s.current)),s.current=null)},[a]),null}function j0e(e){var{legendPayload:t}=e,a=Pa(),n=ei(),s=p.useRef(null);return p.useLayoutEffect(()=>{n||(s.current===null?a(HB(t)):s.current!==t&&a(WB({prev:s.current,next:t})),s.current=t)},[a,n,t]),p.useLayoutEffect(()=>()=>{s.current&&(a(KB(s.current)),s.current=null)},[a]),null}function N0e(e){var{legendPayload:t}=e,a=Pa(),n=Bt(Hr),s=p.useRef(null);return p.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(s.current===null?a(HB(t)):s.current!==t&&a(WB({prev:s.current,next:t})),s.current=t)},[a,n,t]),p.useLayoutEffect(()=>()=>{s.current&&(a(KB(s.current)),s.current=null)},[a]),null}var Hj,C0e=()=>{var[e]=p.useState(()=>Vh("uid-"));return e},S0e=(Hj=Xj.useId)!==null&&Hj!==void 0?Hj:C0e;function T7(e,t){var a=S0e();return t||(e?"".concat(e,"-").concat(a):a)}var P0e=p.createContext(void 0),I7=e=>{var{id:t,type:a,children:n}=e,s=T7("recharts-".concat(a),t);return p.createElement(P0e.Provider,{value:s},n(s))},M0e={cartesianItems:[],polarItems:[]},A7=Js({name:"graphicalItems",initialState:M0e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ja()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:a,next:n}=t.payload,s=yo(e).cartesianItems.indexOf(a);s>-1&&(e.cartesianItems[s]=n)},prepare:ja()},removeCartesianGraphicalItem:{reducer(e,t){var a=yo(e).cartesianItems.indexOf(t.payload);a>-1&&e.cartesianItems.splice(a,1)},prepare:ja()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ja()},removePolarGraphicalItem:{reducer(e,t){var a=yo(e).polarItems.indexOf(t.payload);a>-1&&e.polarItems.splice(a,1)},prepare:ja()}}}),{addCartesianGraphicalItem:T0e,replaceCartesianGraphicalItem:I0e,removeCartesianGraphicalItem:A0e,addPolarGraphicalItem:E0e,removePolarGraphicalItem:_0e}=A7.actions,O0e=A7.reducer,R0e=e=>{var t=Pa(),a=p.useRef(null);return p.useLayoutEffect(()=>{a.current===null?t(T0e(e)):a.current!==e&&t(I0e({prev:a.current,next:e})),a.current=e},[t,e]),p.useLayoutEffect(()=>()=>{a.current&&(t(A0e(a.current)),a.current=null)},[t]),null},D0e=p.memo(R0e);function B0e(e){var t=Pa();return p.useLayoutEffect(()=>(t(E0e(e)),()=>{t(_0e(e))}),[t,e]),null}var L0e=["key"],$0e=["onMouseEnter","onClick","onMouseLeave"],F0e=["id"],z0e=["id"];function iE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Ua(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(a),!0).forEach(function(n){U0e(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):iE(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function U0e(e,t,a){return(t=q0e(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function q0e(e){var t=V0e(e,"string");return typeof t=="symbol"?t:t+""}function V0e(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ec.apply(null,arguments)}function uv(e,t){if(e==null)return{};var a,n,s=H0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function H0e(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function W0e(e){var t=p.useMemo(()=>AS(e.children,K0),[e.children]),a=Bt(n=>e0e(n,e.id,t));return a==null?null:p.createElement(N0e,{legendPayload:a})}var K0e=p.memo(e=>{var{dataKey:t,nameKey:a,sectors:n,stroke:s,strokeWidth:i,fill:o,name:l,hide:d,tooltipType:c}=e,g={dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:a,name:Ob(l,t),hide:d,type:c,color:o,unit:""}};return p.createElement(M7,{tooltipEntrySettings:g})}),Q0e=(e,t)=>e>t?"start":e<t?"end":"middle",G0e=(e,t,a)=>us(typeof t=="function"?t(e):t,a,a*.8),Y0e=(e,t,a)=>{var{top:n,left:s,width:i,height:o}=t,l=eL(i,o),d=s+us(e.cx,i,i/2),c=n+us(e.cy,o,o/2),g=us(e.innerRadius,l,0),h=G0e(a,e.outerRadius,l),x=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:d,cy:c,innerRadius:g,outerRadius:h,maxRadius:x}},Z0e=(e,t)=>{var a=Rn(t-e),n=Math.min(Math.abs(t-e),360);return a*n};function X0e(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var J0e=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var a=na("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,s=uv(t,L0e);return p.createElement(fC,ec({},s,{type:"linear",className:a}))},efe=(e,t,a)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var n=a;if(typeof e=="function"&&(n=e(t),p.isValidElement(n)))return n;var s=na("recharts-pie-label-text",X0e(e));return p.createElement(lv,ec({},t,{alignmentBaseline:"middle",className:s}),n)};function tfe(e){var{sectors:t,props:a,showLabels:n}=e,{label:s,labelLine:i,dataKey:o}=a;if(!n||!s||!t)return null;var l=Co(a),d=qh(s),c=qh(i),g=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,h=t.map((x,b)=>{var v=(x.startAngle+x.endAngle)/2,j=ln(x.cx,x.cy,x.outerRadius+g,v),w=Ua(Ua(Ua(Ua({},l),x),{},{stroke:"none"},d),{},{index:b,textAnchor:Q0e(j.x,x.cx)},j),S=Ua(Ua(Ua(Ua({},l),x),{},{fill:"none",stroke:x.fill},c),{},{index:b,points:[ln(x.cx,x.cy,x.outerRadius,v),j],key:"line"});return p.createElement(Ao,{zIndex:Wn.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},p.createElement(Ms,null,i&&J0e(i,S),efe(s,w,Na(x,o))))});return p.createElement(Ms,{className:"recharts-pie-labels"},h)}function rfe(e){var{sectors:t,props:a,showLabels:n}=e,{label:s}=a;return typeof s=="object"&&s!=null&&"position"in s?p.createElement(k7,{label:s}):p.createElement(tfe,{sectors:t,props:a,showLabels:n})}function afe(e){var{sectors:t,activeShape:a,inactiveShape:n,allOtherPieProps:s,shape:i,id:o}=e,l=Bt(du),d=Bt(jS),c=Bt(vme),{onMouseEnter:g,onClick:h,onMouseLeave:x}=s,b=uv(s,$0e),v=ES(g,s.dataKey,o),j=_S(x),w=OS(h,s.dataKey,o);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((S,M)=>{if(S?.startAngle===0&&S?.endAngle===0&&t.length!==1)return null;var T=c==null||c===o,A=String(M)===l&&(d==null||s.dataKey===d)&&T,I=l?n:null,_=a&&A?a:I,D=Ua(Ua({},S),{},{stroke:S.stroke,tabIndex:-1,[MB]:M,[TB]:s.dataKey});return p.createElement(Ms,ec({key:"sector-".concat(S?.startAngle,"-").concat(S?.endAngle,"-").concat(S.midAngle,"-").concat(M),tabIndex:-1,className:"recharts-pie-sector"},Nb(b,S,M),{onMouseEnter:v(S,M),onMouseLeave:j(S,M),onClick:w(S,M)}),p.createElement(P7,ec({option:i??_,index:M,shapeType:"sector",isActive:A},D)))}))}function nfe(e){var t,{pieSettings:a,displayedData:n,cells:s,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:d,dataKey:c,nameKey:g,tooltipType:h}=a,x=Math.abs(a.minAngle),b=Z0e(l,d),v=Math.abs(b),j=n.length<=1?0:(t=a.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(_=>Na(_,c,0)!==0).length,S=(v>=360?w:w-1)*j,M=v-w*x-S,T=n.reduce((_,D)=>{var E=Na(D,c,0);return _+($t(E)?E:0)},0),A;if(T>0){var I;A=n.map((_,D)=>{var E=Na(_,c,0),X=Na(_,g,D),ee=Y0e(a,i,_),Z=($t(E)?E:0)/T,B,G=Ua(Ua({},_),s&&s[D]&&s[D].props);D?B=I.endAngle+Rn(b)*j*(E!==0?1:0):B=l;var J=B+Rn(b)*((E!==0?x:0)+Z*M),ce=(B+J)/2,te=(ee.innerRadius+ee.outerRadius)/2,K=[{name:X,value:E,payload:G,dataKey:c,type:h}],Y=ln(ee.cx,ee.cy,te,ce);return I=Ua(Ua(Ua(Ua({},a.presentationProps),{},{percent:Z,cornerRadius:typeof o=="string"?parseFloat(o):o,name:X,tooltipPayload:K,midAngle:ce,middleRadius:te,tooltipPosition:Y},G),ee),{},{value:E,dataKey:c,startAngle:B,endAngle:J,payload:G,paddingAngle:Rn(b)*j}),I})}return A}function sfe(e){var{showLabels:t,sectors:a,children:n}=e,s=p.useMemo(()=>!t||!a?[]:a.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[a,t]);return p.createElement(Lhe,{value:t?s:void 0},n)}function ife(e){var{props:t,previousSectorsRef:a,id:n}=e,{sectors:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:d,activeShape:c,inactiveShape:g,onAnimationStart:h,onAnimationEnd:x}=t,b=Wb(t,"recharts-pie-"),v=a.current,[j,w]=p.useState(!1),S=p.useCallback(()=>{typeof x=="function"&&x(),w(!1)},[x]),M=p.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return p.createElement(sfe,{showLabels:!j,sectors:s},p.createElement(Hb,{animationId:b,begin:o,duration:l,isActive:i,easing:d,onAnimationStart:M,onAnimationEnd:S,key:b},T=>{var A=[],I=s&&s[0],_=I?.startAngle;return s?.forEach((D,E)=>{var X=v&&v[E],ee=E>0?su(D,"paddingAngle",0):0;if(X){var Z=pn(X.endAngle-X.startAngle,D.endAngle-D.startAngle,T),B=Ua(Ua({},D),{},{startAngle:_+ee,endAngle:_+Z+ee});A.push(B),_=B.endAngle}else{var{endAngle:G,startAngle:J}=D,ce=pn(0,G-J,T),te=Ua(Ua({},D),{},{startAngle:_+ee,endAngle:_+ce+ee});A.push(te),_=te.endAngle}}),a.current=A,p.createElement(Ms,null,p.createElement(afe,{sectors:A,activeShape:c,inactiveShape:g,allOtherPieProps:t,shape:t.shape,id:n}))}),p.createElement(rfe,{showLabels:!j,sectors:s,props:t}),t.children)}var ofe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Wn.area};function lfe(e){var{id:t}=e,a=uv(e,F0e),{hide:n,className:s,rootTabIndex:i}=e,o=p.useMemo(()=>AS(e.children,K0),[e.children]),l=Bt(g=>t0e(g,t,o)),d=p.useRef(null),c=na("recharts-pie",s);return n||l==null?(d.current=null,p.createElement(Ms,{tabIndex:i,className:c})):p.createElement(Ao,{zIndex:e.zIndex},p.createElement(K0e,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),p.createElement(Ms,{tabIndex:i,className:c},p.createElement(ife,{props:Ua(Ua({},a),{},{sectors:l}),previousSectorsRef:d,id:t})))}function E7(e){var t=hs(e,ofe),{id:a}=t,n=uv(t,z0e),s=Co(n);return p.createElement(I7,{id:a,type:"pie"},i=>p.createElement(p.Fragment,null,p.createElement(B0e,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),p.createElement(W0e,ec({},n,{id:i})),p.createElement(lfe,ec({},n,{id:i}))))}E7.displayName="Pie";function oE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function lE(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(a),!0).forEach(function(n){dfe(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oE(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function dfe(e,t,a){return(t=cfe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function cfe(e){var t=ufe(e,"string");return typeof t=="symbol"?t:t+""}function ufe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mfe={xAxis:{},yAxis:{},zAxis:{}},_7=Js({name:"cartesianAxis",initialState:mfe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ja()},replaceXAxis:{reducer(e,t){var{prev:a,next:n}=t.payload;e.xAxis[a.id]!==void 0&&(a.id!==n.id&&delete e.xAxis[a.id],e.xAxis[n.id]=n)},prepare:ja()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ja()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ja()},replaceYAxis:{reducer(e,t){var{prev:a,next:n}=t.payload;e.yAxis[a.id]!==void 0&&(a.id!==n.id&&delete e.yAxis[a.id],e.yAxis[n.id]=n)},prepare:ja()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ja()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ja()},replaceZAxis:{reducer(e,t){var{prev:a,next:n}=t.payload;e.zAxis[a.id]!==void 0&&(a.id!==n.id&&delete e.zAxis[a.id],e.zAxis[n.id]=n)},prepare:ja()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ja()},updateYAxisWidth(e,t){var{id:a,width:n}=t.payload,s=e.yAxis[a];if(s){var i=s.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==s.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[a]=lE(lE({},e.yAxis[a]),{},{width:n,widthHistory:o})}}}}),{addXAxis:gfe,replaceXAxis:hfe,removeXAxis:ffe,addYAxis:pfe,replaceYAxis:xfe,removeYAxis:yfe,addZAxis:Aje,replaceZAxis:Eje,removeZAxis:_je,updateYAxisWidth:bfe}=_7.actions,vfe=_7.reducer,kfe=De([kn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),wfe=De([kfe,ad,nd],(e,t,a)=>{if(!(!e||t==null||a==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,a-e.top-e.bottom)}}),O7=()=>Bt(wfe),jfe="Invariant failed";function Nfe(e,t){throw new Error(jfe)}var Cfe=["x","y"];function M1(){return M1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},M1.apply(null,arguments)}function dE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function lh(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(a),!0).forEach(function(n){Sfe(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dE(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Sfe(e,t,a){return(t=Pfe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Pfe(e){var t=Mfe(e,"string");return typeof t=="symbol"?t:t+""}function Mfe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tfe(e,t){if(e==null)return{};var a,n,s=Ife(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Ife(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function Afe(e,t){var{x:a,y:n}=e,s=Tfe(e,Cfe),i="".concat(a),o=parseInt(i,10),l="".concat(n),d=parseInt(l,10),c="".concat(t.height||s.height),g=parseInt(c,10),h="".concat(t.width||s.width),x=parseInt(h,10);return lh(lh(lh(lh(lh({},t),s),o?{x:o}:{}),d?{y:d}:{}),{},{height:g,width:x,name:t.name,radius:t.radius})}function Ty(e){return p.createElement(P7,M1({shapeType:"rectangle",propTransformer:Afe,activeClassName:"recharts-active-bar"},e))}var Efe=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if($t(t))return t;var i=$t(n)||Ln(n);return i?t(n,s):(i||Nfe(),a)}},_fe={},R7=Js({name:"errorBars",initialState:_fe,reducers:{addErrorBar:(e,t)=>{var{itemId:a,errorBar:n}=t.payload;e[a]||(e[a]=[]),e[a].push(n)},replaceErrorBar:(e,t)=>{var{itemId:a,prev:n,next:s}=t.payload;e[a]&&(e[a]=e[a].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:a,errorBar:n}=t.payload;e[a]&&(e[a]=e[a].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:Oje,replaceErrorBar:Rje,removeErrorBar:Dje}=R7.actions,Ofe=R7.reducer,Rfe=["children"];function Dfe(e,t){if(e==null)return{};var a,n,s=Bfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Bfe(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var Lfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},$fe=p.createContext(Lfe);function Ffe(e){var{children:t}=e,a=Dfe(e,Rfe);return p.createElement($fe.Provider,{value:a},t)}function D7(e,t){var a,n,s=Bt(c=>id(c,e)),i=Bt(c=>od(c,t)),o=(a=s?.allowDataOverflow)!==null&&a!==void 0?a:In.allowDataOverflow,l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:An.allowDataOverflow,d=o||l;return{needClip:d,needClipX:o,needClipY:l}}function zfe(e){var{xAxisId:t,yAxisId:a,clipPathId:n}=e,s=O7(),{needClipX:i,needClipY:o,needClip:l}=D7(t,a);if(!l||!s)return null;var{x:d,y:c,width:g,height:h}=s;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:i?d:d-g/2,y:o?c:c-h/2,width:i?g:g*2,height:o?h:h*2}))}function Ufe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Xa(e.zIndex)?e.zIndex:t}var Wj={exports:{}},Kj={};var cE;function qfe(){if(cE)return Kj;cE=1;var e=Um();function t(d,c){return d===c&&(d!==0||1/d===1/c)||d!==d&&c!==c}var a=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,l=e.useDebugValue;return Kj.useSyncExternalStoreWithSelector=function(d,c,g,h,x){var b=s(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=o(function(){function w(I){if(!S){if(S=!0,M=I,I=h(I),x!==void 0&&v.hasValue){var _=v.value;if(x(_,I))return T=_}return T=I}if(_=T,a(M,I))return _;var D=h(I);return x!==void 0&&x(_,D)?(M=I,_):(M=I,T=D)}var S=!1,M,T,A=g===void 0?null:g;return[function(){return w(c())},A===null?void 0:function(){return w(A())}]},[c,g,h,x]);var j=n(d,b[0],b[1]);return i(function(){v.hasValue=!0,v.value=j},[j]),l(j),j},Kj}var uE;function Vfe(){return uE||(uE=1,Wj.exports=qfe()),Wj.exports}Vfe();function Hfe(e){e()}function Wfe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Hfe(()=>{let a=e;for(;a;)a.callback(),a=a.next})},get(){const a=[];let n=e;for(;n;)a.push(n),n=n.next;return a},subscribe(a){let n=!0;const s=t={callback:a,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var mE={notify(){},get:()=>[]};function Kfe(e,t){let a,n=mE,s=0,i=!1;function o(j){g();const w=n.subscribe(j);let S=!1;return()=>{S||(S=!0,w(),h())}}function l(){n.notify()}function d(){v.onStateChange&&v.onStateChange()}function c(){return i}function g(){s++,a||(a=e.subscribe(d),n=Wfe())}function h(){s--,a&&s===0&&(a(),a=void 0,n.clear(),n=mE)}function x(){i||(i=!0,g())}function b(){i&&(i=!1,h())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:d,isSubscribed:c,trySubscribe:x,tryUnsubscribe:b,getListeners:()=>n};return v}var Qfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gfe=Qfe(),Yfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Zfe=Yfe(),Xfe=()=>Gfe||Zfe?p.useLayoutEffect:p.useEffect,Jfe=Xfe();function gE(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function epe(e,t){if(gE(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(let s=0;s<a.length;s++)if(!Object.prototype.hasOwnProperty.call(t,a[s])||!gE(e[a[s]],t[a[s]]))return!1;return!0}var tpe=Symbol.for("react-redux-context"),rpe=typeof globalThis<"u"?globalThis:{};function ape(){if(!p.createContext)return{};const e=rpe[tpe]??=new Map;let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var npe=ape();function spe(e){const{children:t,context:a,serverState:n,store:s}=e,i=p.useMemo(()=>{const d=Kfe(s);return{store:s,subscription:d,getServerState:n?()=>n:void 0}},[s,n]),o=p.useMemo(()=>s.getState(),[s]);Jfe(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==s.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,o]);const l=a||npe;return p.createElement(l.Provider,{value:i},t)}var ipe=spe,ope=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function lpe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function RS(e,t){var a=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of a)if(ope.has(n)){if(e[n]==null&&t[n]==null)continue;if(!epe(e[n],t[n]))return!1}else if(!lpe(e[n],t[n]))return!1;return!0}var dpe=["onMouseEnter","onMouseLeave","onClick"],cpe=["value","background","tooltipPosition"],upe=["id"],mpe=["onMouseEnter","onClick","onMouseLeave"];function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},td.apply(null,arguments)}function hE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function js(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(a),!0).forEach(function(n){gpe(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hE(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function gpe(e,t,a){return(t=hpe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function hpe(e){var t=fpe(e,"string");return typeof t=="symbol"?t:t+""}function fpe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iy(e,t){if(e==null)return{};var a,n,s=ppe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function ppe(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var xpe=e=>{var{dataKey:t,name:a,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Ob(a,t),payload:e}]},ype=p.memo(e=>{var{dataKey:t,stroke:a,strokeWidth:n,fill:s,name:i,hide:o,unit:l,tooltipType:d}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:Ob(i,t),hide:o,type:d,color:s,unit:l}};return p.createElement(M7,{tooltipEntrySettings:c})});function bpe(e){var t=Bt(du),{data:a,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:d}=i,c=Iy(i,dpe),g=ES(o,n),h=_S(l),x=OS(d,n);if(!s||a==null)return null;var b=qh(s);return p.createElement(Ao,{zIndex:Ufe(s,Wn.barBackground)},a.map((v,j)=>{var{value:w,background:S,tooltipPosition:M}=v,T=Iy(v,cpe);if(!S)return null;var A=g(v,j),I=h(v,j),_=x(v,j),D=js(js(js(js(js({option:s,isActive:String(j)===t},T),{},{fill:"#eee"},S),b),Nb(c,v,j)),{},{onMouseEnter:A,onMouseLeave:I,onClick:_,dataKey:n,index:j,className:"recharts-bar-background-rectangle"});return p.createElement(Ty,td({key:"background-bar-".concat(j)},D))}))}function vpe(e){var{showLabels:t,children:a,rects:n}=e,s=n?.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return js(js({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return p.createElement(Bhe,{value:t?s:void 0},a)}function kpe(e){var{shape:t,activeBar:a,baseProps:n,entry:s,index:i,dataKey:o}=e,l=Bt(du),d=Bt(jS),c=a&&String(i)===l&&(d==null||o===d),g=c?a:t;return c?p.createElement(Ao,{zIndex:Wn.activeBar},p.createElement(Ty,td({},n,{name:String(n.name)},s,{isActive:c,option:g,index:i,dataKey:o}))):p.createElement(Ty,td({},n,{name:String(n.name)},s,{isActive:c,option:g,index:i,dataKey:o}))}function wpe(e){var{shape:t,baseProps:a,entry:n,index:s,dataKey:i}=e;return p.createElement(Ty,td({},a,{name:String(a.name)},n,{isActive:!1,option:t,index:s,dataKey:i}))}function jpe(e){var t,{data:a,props:n}=e,s=(t=Co(n))!==null&&t!==void 0?t:{},{id:i}=s,o=Iy(s,upe),{shape:l,dataKey:d,activeBar:c}=n,{onMouseEnter:g,onClick:h,onMouseLeave:x}=n,b=Iy(n,mpe),v=ES(g,d),j=_S(x),w=OS(h,d);return a?p.createElement(p.Fragment,null,a.map((S,M)=>p.createElement(Ms,td({key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(M),className:"recharts-bar-rectangle"},Nb(b,S,M),{onMouseEnter:v(S,M),onMouseLeave:j(S,M),onClick:w(S,M)}),c?p.createElement(kpe,{shape:l,activeBar:c,baseProps:o,entry:S,index:M,dataKey:d}):p.createElement(wpe,{shape:l,baseProps:o,entry:S,index:M,dataKey:d})))):null}function Npe(e){var{props:t,previousRectanglesRef:a}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:d,onAnimationEnd:c,onAnimationStart:g}=t,h=a.current,x=Wb(t,"recharts-bar-"),[b,v]=p.useState(!1),j=!b,w=p.useCallback(()=>{typeof c=="function"&&c(),v(!1)},[c]),S=p.useCallback(()=>{typeof g=="function"&&g(),v(!0)},[g]);return p.createElement(vpe,{showLabels:j,rects:n},p.createElement(Hb,{animationId:x,begin:o,duration:l,isActive:i,easing:d,onAnimationEnd:w,onAnimationStart:S,key:x},M=>{var T=M===1?n:n?.map((A,I)=>{var _=h&&h[I];if(_)return js(js({},A),{},{x:pn(_.x,A.x,M),y:pn(_.y,A.y,M),width:pn(_.width,A.width,M),height:pn(_.height,A.height,M)});if(s==="horizontal"){var D=pn(0,A.height,M),E=pn(A.stackedBarStart,A.y,M);return js(js({},A),{},{y:E,height:D})}var X=pn(0,A.width,M),ee=pn(A.stackedBarStart,A.x,M);return js(js({},A),{},{width:X,x:ee})});return M>0&&(a.current=T??null),T==null?null:p.createElement(Ms,null,p.createElement(jpe,{props:t,data:T}))}),p.createElement(k7,{label:t.label}),t.children)}function Cpe(e){var t=p.useRef(null);return p.createElement(Npe,{previousRectanglesRef:t,props:e})}var B7=0,Spe=(e,t)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:Na(e,t)}};class Ppe extends p.PureComponent{render(){var{hide:t,data:a,dataKey:n,className:s,xAxisId:i,yAxisId:o,needClip:l,background:d,id:c}=this.props;if(t||a==null)return null;var g=na("recharts-bar",s),h=c;return p.createElement(Ms,{className:g,id:c},l&&p.createElement("defs",null,p.createElement(zfe,{clipPathId:h,xAxisId:i,yAxisId:o})),p.createElement(Ms,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},p.createElement(bpe,{data:a,dataKey:n,background:d,allOtherBarProps:this.props}),p.createElement(Cpe,this.props)))}}var Mpe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:B7,xAxisId:0,yAxisId:0,zIndex:Wn.bar};function Tpe(e){var{xAxisId:t,yAxisId:a,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:c,isAnimationActive:g}=e,{needClip:h}=D7(t,a),x=Fb(),b=ei(),v=AS(e.children,K0),j=Bt(M=>axe(M,t,a,b,e.id,v));if(x!=="vertical"&&x!=="horizontal")return null;var w,S=j?.[0];return S==null||S.height==null||S.width==null?w=0:w=x==="vertical"?S.height/2:S.width/2,p.createElement(Ffe,{xAxisId:t,yAxisId:a,data:j,dataPointFormatter:Spe,errorBarOffset:w},p.createElement(Ppe,td({},e,{layout:x,needClip:h,data:j,xAxisId:t,yAxisId:a,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:c,isAnimationActive:g})))}function Ipe(e){var{layout:t,barSettings:{dataKey:a,minPointSize:n},pos:s,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:d,yAxisTicks:c,stackedData:g,displayedData:h,offset:x,cells:b,parentViewBox:v,dataStartIndex:j}=e,w=t==="horizontal"?l:o,S=g?w.scale.domain():null,M=wse({numericAxis:w}),T=w.scale(M);return h.map((A,I)=>{var _,D,E,X,ee,Z;g?_=pse(g[I+j],S):(_=Na(A,a),Array.isArray(_)||(_=[M,_]));var B=Efe(n,B7)(_[1],I);if(t==="horizontal"){var G,[J,ce]=[l.scale(_[0]),l.scale(_[1])];D=RT({axis:o,ticks:d,bandSize:i,offset:s.offset,entry:A,index:I}),E=(G=ce??J)!==null&&G!==void 0?G:void 0,X=s.size;var te=J-ce;if(ee=So(te)?0:te,Z={x:D,y:x.top,width:X,height:x.height},Math.abs(B)>0&&Math.abs(ee)<Math.abs(B)){var K=Rn(ee||B)*(Math.abs(B)-Math.abs(ee));E-=K,ee+=K}}else{var[Y,re]=[o.scale(_[0]),o.scale(_[1])];if(D=Y,E=RT({axis:l,ticks:c,bandSize:i,offset:s.offset,entry:A,index:I}),X=re-Y,ee=s.size,Z={x:x.left,y:E,width:x.width,height:ee},Math.abs(B)>0&&Math.abs(X)<Math.abs(B)){var ne=Rn(X||B)*(Math.abs(B)-Math.abs(X));X+=ne}}if(D==null||E==null||X==null||ee==null)return null;var z=js(js({},A),{},{stackedBarStart:T,x:D,y:E,width:X,height:ee,value:g?_:_[1],payload:A,background:Z,tooltipPosition:{x:D+X/2,y:E+ee/2},parentViewBox:v},b&&b[I]&&b[I].props);return z}).filter(Boolean)}function Ape(e){var t=hs(e,Mpe),a=ei();return p.createElement(I7,{id:t.id,type:"bar"},n=>p.createElement(p.Fragment,null,p.createElement(j0e,{legendPayload:xpe(t)}),p.createElement(ype,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),p.createElement(D0e,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:kse(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),p.createElement(Ao,{zIndex:t.zIndex},p.createElement(Tpe,td({},t,{id:n})))))}var L7=p.memo(Ape,RS);L7.displayName="Bar";function fE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Bp(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(a),!0).forEach(function(n){Epe(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fE(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Epe(e,t,a){return(t=_pe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _pe(e){var t=Ope(e,"string");return typeof t=="symbol"?t:t+""}function Ope(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rpe=(e,t)=>t,Dpe=(e,t,a)=>a,Bpe=(e,t,a,n)=>n,Lpe=(e,t,a,n,s)=>s,Q0=De([XC,Lpe],(e,t)=>e.filter(a=>a.type==="bar").find(a=>a.id===t)),$pe=De([Q0],e=>e?.maxBarSize),Fpe=(e,t,a,n,s,i)=>i,pE=(e,t,a)=>{var n=a??e;if(!Ln(n))return us(n,t,0)},zpe=De([Hr,XC,Rpe,Dpe,Bpe],(e,t,a,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===a:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Upe=(e,t,a,n)=>{var s=Hr(e);return s==="horizontal"?k1(e,"yAxis",a,n):k1(e,"xAxis",t,n)},qpe=(e,t,a)=>{var n=Hr(e);return n==="horizontal"?mA(e,"xAxis",t):mA(e,"yAxis",a)},Vpe=(e,t,a)=>{var n={},s=e.filter(tv),i=e.filter(c=>c.stackId==null),o=s.reduce((c,g)=>(c[g.stackId]||(c[g.stackId]=[]),c[g.stackId].push(g),c),n),l=Object.entries(o).map(c=>{var[g,h]=c,x=h.map(v=>v.dataKey),b=pE(t,a,h[0].barSize);return{stackId:g,dataKeys:x,barSize:b}}),d=i.map(c=>{var g=[c.dataKey].filter(x=>x!=null),h=pE(t,a,c.barSize);return{stackId:void 0,dataKeys:g,barSize:h}});return[...l,...d]},Hpe=De([zpe,jce,qpe],Vpe),Wpe=(e,t,a,n,s)=>{var i,o,l=Q0(e,t,a,n,s);if(l!=null){var d=Hr(e),c=JL(e),{maxBarSize:g}=l,h=Ln(g)?c:g,x,b;return d==="horizontal"?(x=zm(e,"xAxis",t,n),b=Fm(e,"xAxis",t,n)):(x=zm(e,"yAxis",a,n),b=Fm(e,"yAxis",a,n)),(i=(o=ay(x,b,!0))!==null&&o!==void 0?o:h)!==null&&i!==void 0?i:0}},$7=(e,t,a,n)=>{var s=Hr(e),i,o;return s==="horizontal"?(i=zm(e,"xAxis",t,n),o=Fm(e,"xAxis",t,n)):(i=zm(e,"yAxis",a,n),o=Fm(e,"yAxis",a,n)),ay(i,o)};function Kpe(e,t,a,n,s){var i=n.length;if(!(i<1)){var o=us(e,a,0,!0),l,d=[];if(Xa(n[0].barSize)){var c=!1,g=a/i,h=n.reduce((S,M)=>S+(M.barSize||0),0);h+=(i-1)*o,h>=a&&(h-=(i-1)*o,o=0),h>=a&&g>0&&(c=!0,g*=.9,h=i*g);var x=(a-h)/2>>0,b={offset:x-o,size:0};l=n.reduce((S,M)=>{var T,A={stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:b.offset+b.size+o,size:c?g:(T=M.barSize)!==null&&T!==void 0?T:0}},I=[...S,A];return b=I[I.length-1].position,I},d)}else{var v=us(t,a,0,!0);a-2*v-(i-1)*o<=0&&(o=0);var j=(a-2*v-(i-1)*o)/i;j>1&&(j>>=0);var w=Xa(s)?Math.min(j,s):j;l=n.reduce((S,M,T)=>[...S,{stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:v+(j+o)*T+(j-w)/2,size:w}}],d)}return l}}var Qpe=(e,t,a,n,s,i,o)=>{var l=Ln(o)?t:o,d=Kpe(a,n,s!==i?s:i,e,l);return s!==i&&d!=null&&(d=d.map(c=>Bp(Bp({},c),{},{position:Bp(Bp({},c.position),{},{offset:c.position.offset-s/2})}))),d},Gpe=De([Hpe,JL,wce,e$,Wpe,$7,$pe],Qpe),Ype=(e,t,a,n)=>zm(e,"xAxis",t,n),Zpe=(e,t,a,n)=>zm(e,"yAxis",a,n),Xpe=(e,t,a,n)=>Fm(e,"xAxis",t,n),Jpe=(e,t,a,n)=>Fm(e,"yAxis",a,n),exe=De([Gpe,Q0],(e,t)=>{if(!(e==null||t==null)){var a=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(a!=null)return a.position}}),txe=(e,t)=>{var a=GC(t);if(!(!e||a==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:i}=s;if(i)return i.find(o=>o.key===a)}}}},rxe=De([Upe,Q0],txe),axe=De([kn,uC,Ype,Zpe,Xpe,Jpe,exe,Hr,FC,$7,rxe,Q0,Fpe],(e,t,a,n,s,i,o,l,d,c,g,h,x)=>{var{chartData:b,dataStartIndex:v,dataEndIndex:j}=d;if(!(h==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||a==null||n==null||s==null||i==null||c==null)){var{data:w}=h,S;if(w!=null&&w.length>0?S=w:S=b?.slice(v,j+1),S!=null)return Ipe({layout:l,barSettings:h,pos:o,parentViewBox:t,bandSize:c,xAxis:a,yAxis:n,xAxisTicks:s,yAxisTicks:i,stackedData:g,displayedData:S,offset:e,cells:x,dataStartIndex:v})}}),F7=e=>{var{chartData:t}=e,a=Pa(),n=ei();return p.useEffect(()=>n?()=>{}:(a(CA(t)),()=>{a(CA(void 0))}),[t,a,n]),null},xE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},z7=Js({name:"brush",initialState:xE,reducers:{setBrushSettings(e,t){return t.payload==null?xE:t.payload}}}),{setBrushSettings:Bje}=z7.actions,nxe=z7.reducer;function sxe(e,t,a){return(t=ixe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ixe(e){var t=oxe(e,"string");return typeof t=="symbol"?t:t+""}function oxe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DS{static create(t){return new DS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:a,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(a){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var a=this.range(),n=a[0],s=a[a.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}sxe(DS,"EPS",1e-4);function lxe(e){return(e%180+180)%180}var dxe=function(t){var{width:a,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=lxe(s),o=i*Math.PI/180,l=Math.atan(n/a),d=o>l&&o<Math.PI-l?n/Math.sin(o):a/Math.cos(o);return Math.abs(d)},cxe={dots:[],areas:[],lines:[]},U7=Js({name:"referenceElements",initialState:cxe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var a=yo(e).dots.findIndex(n=>n===t.payload);a!==-1&&e.dots.splice(a,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var a=yo(e).areas.findIndex(n=>n===t.payload);a!==-1&&e.areas.splice(a,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var a=yo(e).lines.findIndex(n=>n===t.payload);a!==-1&&e.lines.splice(a,1)}}}),{addDot:Lje,removeDot:$je,addArea:Fje,removeArea:zje,addLine:Uje,removeLine:qje}=U7.actions,uxe=U7.reducer,mxe=p.createContext(void 0),gxe=e=>{var{children:t}=e,[a]=p.useState("".concat(Vh("recharts"),"-clip")),n=O7();if(n==null)return null;var{x:s,y:i,width:o,height:l}=n;return p.createElement(mxe.Provider,{value:a},p.createElement("defs",null,p.createElement("clipPath",{id:a},p.createElement("rect",{x:s,y:i,height:l,width:o}))),t)};function q7(e,t){if(t<1)return[];if(t===1)return e;for(var a=[],n=0;n<e.length;n+=t)a.push(e[n]);return a}function hxe(e,t,a){var n={width:e.width+t.width,height:e.height+t.height};return dxe(n,a)}function fxe(e,t,a){var n=a==="width",{x:s,y:i,width:o,height:l}=e;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Ay(e,t,a,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=a();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function pxe(e,t){return q7(e,t+1)}function xxe(e,t,a,n,s){for(var i=(n||[]).slice(),{start:o,end:l}=t,d=0,c=1,g=o,h=function(){var v=n?.[d];if(v===void 0)return{v:q7(n,c)};var j=d,w,S=()=>(w===void 0&&(w=a(v,j)),w),M=v.coordinate,T=d===0||Ay(e,M,S,g,l);T||(d=0,g=o,c+=1),T&&(g=M+e*(S()/2+s),d+=c)},x;c<=i.length;)if(x=h(),x)return x.v;return[]}function yE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function ns(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(a),!0).forEach(function(n){yxe(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yE(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function yxe(e,t,a){return(t=bxe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bxe(e){var t=vxe(e,"string");return typeof t=="symbol"?t:t+""}function vxe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kxe(e,t,a,n,s){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:d}=t,c=function(x){var b=i[x],v,j=()=>(v===void 0&&(v=a(b,x)),v);if(x===o-1){var w=e*(b.coordinate+e*j()/2-d);i[x]=b=ns(ns({},b),{},{tickCoord:w>0?b.coordinate-w*e:b.coordinate})}else i[x]=b=ns(ns({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var S=Ay(e,b.tickCoord,j,l,d);S&&(d=b.tickCoord-e*(j()/2+s),i[x]=ns(ns({},b),{},{isShow:!0}))}},g=o-1;g>=0;g--)c(g);return i}function wxe(e,t,a,n,s,i){var o=(n||[]).slice(),l=o.length,{start:d,end:c}=t;if(i){var g=n[l-1],h=a(g,l-1),x=e*(g.coordinate+e*h/2-c);if(o[l-1]=g=ns(ns({},g),{},{tickCoord:x>0?g.coordinate-x*e:g.coordinate}),g.tickCoord!=null){var b=Ay(e,g.tickCoord,()=>h,d,c);b&&(c=g.tickCoord-e*(h/2+s),o[l-1]=ns(ns({},g),{},{isShow:!0}))}}for(var v=i?l-1:l,j=function(M){var T=o[M],A,I=()=>(A===void 0&&(A=a(T,M)),A);if(M===0){var _=e*(T.coordinate-e*I()/2-d);o[M]=T=ns(ns({},T),{},{tickCoord:_<0?T.coordinate-_*e:T.coordinate})}else o[M]=T=ns(ns({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var D=Ay(e,T.tickCoord,I,d,c);D&&(d=T.tickCoord+e*(I()/2+s),o[M]=ns(ns({},T),{},{isShow:!0}))}},w=0;w<v;w++)j(w);return o}function BS(e,t,a){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:d,tickFormatter:c,unit:g,angle:h}=e;if(!s||!s.length||!n)return[];if($t(d)||E0.isSsr){var x;return(x=pxe(s,$t(d)?d:0))!==null&&x!==void 0?x:[]}var b=[],v=l==="top"||l==="bottom"?"width":"height",j=g&&v==="width"?Mh(g,{fontSize:t,letterSpacing:a}):{width:0,height:0},w=(T,A)=>{var I=typeof c=="function"?c(T.value,A):T.value;return v==="width"?hxe(Mh(I,{fontSize:t,letterSpacing:a}),j,h):Mh(I,{fontSize:t,letterSpacing:a})[v]},S=s.length>=2?Rn(s[1].coordinate-s[0].coordinate):1,M=fxe(i,S,v);return d==="equidistantPreserveStart"?xxe(S,M,w,s,o):(d==="preserveStart"||d==="preserveStartEnd"?b=wxe(S,M,w,s,o,d==="preserveStartEnd"):b=kxe(S,M,w,s,o),b.filter(T=>T.isShow))}var jxe=e=>{var{ticks:t,label:a,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(g=>{if(g){var h=g.getBoundingClientRect();h.width>o&&(o=h.width)}});var l=a?a.getBoundingClientRect().width:0,d=s+i,c=o+d+l+(a?n:0);return Math.round(c)}return 0},Nxe=["axisLine","width","height","className","hide","ticks","axisType"];function Cxe(e,t){if(e==null)return{};var a,n,s=Sxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Sxe(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},cu.apply(null,arguments)}function bE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function nn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?bE(Object(a),!0).forEach(function(n){Pxe(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bE(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Pxe(e,t,a){return(t=Mxe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Mxe(e){var t=Txe(e,"string");return typeof t=="symbol"?t:t+""}function Txe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ql={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Wn.axis};function Ixe(e){var{x:t,y:a,width:n,height:s,orientation:i,mirror:o,axisLine:l,otherSvgProps:d}=e;if(!l)return null;var c=nn(nn(nn({},d),Co(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var g=+(i==="top"&&!o||i==="bottom"&&o);c=nn(nn({},c),{},{x1:t,y1:a+g*s,x2:t+n,y2:a+g*s})}else{var h=+(i==="left"&&!o||i==="right"&&o);c=nn(nn({},c),{},{x1:t+h*n,y1:a,x2:t+h*n,y2:a+s})}return p.createElement("line",cu({},c,{className:na("recharts-cartesian-axis-line",su(l,"className"))}))}function Axe(e,t,a,n,s,i,o,l,d){var c,g,h,x,b,v,j=l?-1:1,w=e.tickSize||o,S=$t(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=g=e.coordinate,x=a+ +!l*s,h=x-j*w,v=h-j*d,b=S;break;case"left":h=x=e.coordinate,g=t+ +!l*n,c=g-j*w,b=c-j*d,v=S;break;case"right":h=x=e.coordinate,g=t+ +l*n,c=g+j*w,b=c+j*d,v=S;break;default:c=g=e.coordinate,x=a+ +l*s,h=x+j*w,v=h+j*d,b=S;break}return{line:{x1:c,y1:h,x2:g,y2:x},tick:{x:b,y:v}}}function Exe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function _xe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Oxe(e){var{option:t,tickProps:a,value:n}=e,s,i=na(a.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))s=p.cloneElement(t,nn(nn({},a),{},{className:i}));else if(typeof t=="function")s=t(nn(nn({},a),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=na(o,t?.className)),s=p.createElement(lv,cu({},a,{className:o}),n)}return s}var Rxe=p.forwardRef((e,t)=>{var{ticks:a=[],tick:n,tickLine:s,stroke:i,tickFormatter:o,unit:l,padding:d,tickTextProps:c,orientation:g,mirror:h,x,y:b,width:v,height:j,tickSize:w,tickMargin:S,fontSize:M,letterSpacing:T,getTicksConfig:A,events:I,axisType:_}=e,D=BS(nn(nn({},A),{},{ticks:a}),M,T),E=Exe(g,h),X=_xe(g,h),ee=Co(A),Z=qh(n),B={};typeof s=="object"&&(B=s);var G=nn(nn({},ee),{},{fill:"none"},B),J=D.map(K=>nn({entry:K},Axe(K,x,b,v,j,g,w,h,S))),ce=J.map(K=>{var{entry:Y,line:re}=K;return p.createElement(Ms,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},s&&p.createElement("line",cu({},G,re,{className:na("recharts-cartesian-axis-tick-line",su(s,"className"))})))}),te=J.map((K,Y)=>{var{entry:re,tick:ne}=K,z=nn(nn(nn(nn({textAnchor:E,verticalAnchor:X},ee),{},{stroke:"none",fill:i},Z),ne),{},{index:Y,payload:re,visibleTicksCount:D.length,tickFormatter:o,padding:d},c);return p.createElement(Ms,cu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},Nb(I,re,Y)),n&&p.createElement(Oxe,{option:n,tickProps:z,value:"".concat(typeof o=="function"?o(re.value,Y):re.value).concat(l||"")}))});return p.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(_,"-ticks")},te.length>0&&p.createElement(Ao,{zIndex:Wn.label},p.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(_,"-tick-labels"),ref:t},te)),ce.length>0&&p.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(_,"-tick-lines")},ce))}),Dxe=p.forwardRef((e,t)=>{var{axisLine:a,width:n,height:s,className:i,hide:o,ticks:l,axisType:d}=e,c=Cxe(e,Nxe),[g,h]=p.useState(""),[x,b]=p.useState(""),v=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return jxe({ticks:v.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var j=p.useCallback(w=>{if(w){var S=w.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=S;var M=S[0];if(M){var T=window.getComputedStyle(M),A=T.fontSize,I=T.letterSpacing;(A!==g||I!==x)&&(h(A),b(I))}}},[g,x]);return o||n!=null&&n<=0||s!=null&&s<=0?null:p.createElement(Ao,{zIndex:e.zIndex},p.createElement(Ms,{className:na("recharts-cartesian-axis",i)},p.createElement(Ixe,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:a,otherSvgProps:Co(e)}),p.createElement(Rxe,{ref:j,axisType:d,events:c,fontSize:g,getTicksConfig:e,height:e.height,letterSpacing:x,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),p.createElement(phe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},p.createElement(She,{label:e.label,labelRef:e.labelRef}),e.children)))}),LS=p.forwardRef((e,t)=>{var a=hs(e,ql);return p.createElement(Dxe,cu({},a,{ref:t}))});LS.displayName="CartesianAxis";var Bxe=["x1","y1","x2","y2","key"],Lxe=["offset"],$xe=["xAxisId","yAxisId"],Fxe=["xAxisId","yAxisId"];function vE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function is(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(a),!0).forEach(function(n){zxe(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vE(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function zxe(e,t,a){return(t=Uxe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Uxe(e){var t=qxe(e,"string");return typeof t=="symbol"?t:t+""}function qxe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},qc.apply(null,arguments)}function Ey(e,t){if(e==null)return{};var a,n,s=Vxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Vxe(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var Hxe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:a,x:n,y:s,width:i,height:o,ry:l}=e;return p.createElement("rect",{x:n,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function V7(e){var{option:t,lineItemProps:a}=e,n;if(p.isValidElement(t))n=p.cloneElement(t,a);else if(typeof t=="function")n=t(a);else{var s,{x1:i,y1:o,x2:l,y2:d,key:c}=a,g=Ey(a,Bxe),h=(s=Co(g))!==null&&s!==void 0?s:{},{offset:x}=h,b=Ey(h,Lxe);n=p.createElement("line",qc({},b,{x1:i,y1:o,x2:l,y2:d,fill:"none",key:c}))}return n}function Wxe(e){var{x:t,width:a,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Ey(e,$xe),d=s.map((c,g)=>{var h=is(is({},l),{},{x1:t,y1:c,x2:t+a,y2:c,key:"line-".concat(g),index:g});return p.createElement(V7,{key:"line-".concat(g),option:n,lineItemProps:h})});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Kxe(e){var{y:t,height:a,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Ey(e,Fxe),d=s.map((c,g)=>{var h=is(is({},l),{},{x1:c,y1:t,x2:c,y2:t+a,key:"line-".concat(g),index:g});return p.createElement(V7,{option:n,lineItemProps:h,key:"line-".concat(g)})});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Qxe(e){var{horizontalFill:t,fillOpacity:a,x:n,y:s,width:i,height:o,horizontalPoints:l,horizontal:d=!0}=e;if(!d||!t||!t.length||l==null)return null;var c=l.map(h=>Math.round(h+s-s)).sort((h,x)=>h-x);s!==c[0]&&c.unshift(0);var g=c.map((h,x)=>{var b=!c[x+1],v=b?s+o-h:c[x+1]-h;if(v<=0)return null;var j=x%t.length;return p.createElement("rect",{key:"react-".concat(x),y:h,x:n,height:v,width:i,stroke:"none",fill:t[j],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function Gxe(e){var{vertical:t=!0,verticalFill:a,fillOpacity:n,x:s,y:i,width:o,height:l,verticalPoints:d}=e;if(!t||!a||!a.length)return null;var c=d.map(h=>Math.round(h+s-s)).sort((h,x)=>h-x);s!==c[0]&&c.unshift(0);var g=c.map((h,x)=>{var b=!c[x+1],v=b?s+o-h:c[x+1]-h;if(v<=0)return null;var j=x%a.length;return p.createElement("rect",{key:"react-".concat(x),x:h,y:i,width:v,height:l,stroke:"none",fill:a[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var Yxe=(e,t)=>{var{xAxis:a,width:n,height:s,offset:i}=e;return CB(BS(is(is(is({},ql),a),{},{ticks:SB(a),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},Zxe=(e,t)=>{var{yAxis:a,width:n,height:s,offset:i}=e;return CB(BS(is(is(is({},ql),a),{},{ticks:SB(a),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},Xxe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Wn.grid};function H7(e){var t=DB(),a=BB(),n=RB(),s=is(is({},hs(e,Xxe)),{},{x:$t(e.x)?e.x:n.left,y:$t(e.y)?e.y:n.top,width:$t(e.width)?e.width:n.width,height:$t(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:d,width:c,height:g,syncWithTicks:h,horizontalValues:x,verticalValues:b}=s,v=ei(),j=Bt(X=>gA(X,"xAxis",i,v)),w=Bt(X=>gA(X,"yAxis",o,v));if(!il(c)||!il(g)||!$t(l)||!$t(d))return null;var S=s.verticalCoordinatesGenerator||Yxe,M=s.horizontalCoordinatesGenerator||Zxe,{horizontalPoints:T,verticalPoints:A}=s;if((!T||!T.length)&&typeof M=="function"){var I=x&&x.length,_=M({yAxis:w?is(is({},w),{},{ticks:I?x:w.ticks}):void 0,width:t??c,height:a??g,offset:n},I?!0:h);ny(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(T=_)}if((!A||!A.length)&&typeof S=="function"){var D=b&&b.length,E=S({xAxis:j?is(is({},j),{},{ticks:D?b:j.ticks}):void 0,width:t??c,height:a??g,offset:n},D?!0:h);ny(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(A=E)}return p.createElement(Ao,{zIndex:s.zIndex},p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(Hxe,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),p.createElement(Qxe,qc({},s,{horizontalPoints:T})),p.createElement(Gxe,qc({},s,{verticalPoints:A})),p.createElement(Wxe,qc({},s,{offset:n,horizontalPoints:T,xAxis:j,yAxis:w})),p.createElement(Kxe,qc({},s,{offset:n,verticalPoints:A,xAxis:j,yAxis:w}))))}H7.displayName="CartesianGrid";var Jxe=["domain","range"],eye=["domain","range"];function kE(e,t){if(e==null)return{};var a,n,s=tye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function tye(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function wE(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function W7(e,t){if(e===t)return!0;var{domain:a,range:n}=e,s=kE(e,Jxe),{domain:i,range:o}=t,l=kE(t,eye);return!wE(a,i)||!wE(n,o)?!1:RS(s,l)}var rye=["dangerouslySetInnerHTML","ticks"],aye=["id"];function T1(){return T1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},T1.apply(null,arguments)}function jE(e,t){if(e==null)return{};var a,n,s=nye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function nye(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function sye(e){var t=Pa(),a=p.useRef(null);return p.useLayoutEffect(()=>{a.current===null?t(gfe(e)):a.current!==e&&t(hfe({prev:a.current,next:e})),a.current=e},[e,t]),p.useLayoutEffect(()=>()=>{a.current&&(t(ffe(a.current)),a.current=null)},[t]),null}var iye=e=>{var{xAxisId:t,className:a}=e,n=Bt(uC),s=ei(),i="xAxis",o=Bt(w=>sg(w,i,t,s)),l=Bt(w=>E$(w,i,t,s)),d=Bt(w=>M$(w,t)),c=Bt(w=>vue(w,t)),g=Bt(w=>d$(w,t));if(d==null||c==null||g==null)return null;var{dangerouslySetInnerHTML:h,ticks:x}=e,b=jE(e,rye),{id:v}=g,j=jE(g,aye);return p.createElement(LS,T1({},b,j,{scale:o,x:c.x,y:c.y,width:d.width,height:d.height,className:na("recharts-".concat(i," ").concat(i),a),viewBox:n,ticks:l,axisType:i}))},oye={allowDataOverflow:In.allowDataOverflow,allowDecimals:In.allowDecimals,allowDuplicatedCategory:In.allowDuplicatedCategory,angle:In.angle,axisLine:ql.axisLine,height:In.height,hide:!1,includeHidden:In.includeHidden,interval:In.interval,minTickGap:In.minTickGap,mirror:In.mirror,orientation:In.orientation,padding:In.padding,reversed:In.reversed,scale:In.scale,tick:In.tick,tickCount:In.tickCount,tickLine:ql.tickLine,tickSize:ql.tickSize,type:In.type,xAxisId:0},lye=e=>{var t=hs(e,oye);return p.createElement(p.Fragment,null,p.createElement(sye,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),p.createElement(iye,t))},K7=p.memo(lye,W7);K7.displayName="XAxis";var dye=["dangerouslySetInnerHTML","ticks"],cye=["id"];function I1(){return I1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},I1.apply(null,arguments)}function NE(e,t){if(e==null)return{};var a,n,s=uye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function uye(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function mye(e){var t=Pa(),a=p.useRef(null);return p.useLayoutEffect(()=>{a.current===null?t(pfe(e)):a.current!==e&&t(xfe({prev:a.current,next:e})),a.current=e},[e,t]),p.useLayoutEffect(()=>()=>{a.current&&(t(yfe(a.current)),a.current=null)},[t]),null}var gye=e=>{var{yAxisId:t,className:a,width:n,label:s}=e,i=p.useRef(null),o=p.useRef(null),l=Bt(uC),d=ei(),c=Pa(),g="yAxis",h=Bt(I=>sg(I,g,t,d)),x=Bt(I=>T$(I,t)),b=Bt(I=>wue(I,t)),v=Bt(I=>E$(I,g,t,d)),j=Bt(I=>c$(I,t));if(p.useLayoutEffect(()=>{if(!(n!=="auto"||!x||MS(s)||p.isValidElement(s)||j==null)){var I=i.current;if(I){var _=I.getCalculatedWidth();Math.round(x.width)!==Math.round(_)&&c(bfe({id:t,width:_}))}}},[v,x,c,s,t,n,j]),x==null||b==null||j==null)return null;var{dangerouslySetInnerHTML:w,ticks:S}=e,M=NE(e,dye),{id:T}=j,A=NE(j,cye);return p.createElement(LS,I1({},M,A,{ref:i,labelRef:o,scale:h,x:b.x,y:b.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:x.width,height:x.height,className:na("recharts-".concat(g," ").concat(g),a),viewBox:l,ticks:v,axisType:g}))},hye={allowDataOverflow:An.allowDataOverflow,allowDecimals:An.allowDecimals,allowDuplicatedCategory:An.allowDuplicatedCategory,angle:An.angle,axisLine:ql.axisLine,hide:!1,includeHidden:An.includeHidden,interval:An.interval,minTickGap:An.minTickGap,mirror:An.mirror,orientation:An.orientation,padding:An.padding,reversed:An.reversed,scale:An.scale,tick:An.tick,tickCount:An.tickCount,tickLine:ql.tickLine,tickSize:ql.tickSize,type:An.type,width:An.width,yAxisId:0},fye=e=>{var t=hs(e,hye);return p.createElement(p.Fragment,null,p.createElement(mye,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),p.createElement(gye,t))},Q7=p.memo(fye,W7);Q7.displayName="YAxis";var pye=(e,t)=>t,$S=De([pye,Hr,o$,jn,Q$,ld,Bme,kn],Vme),FS=e=>{var t=e.currentTarget.getBoundingClientRect(),a=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/a),chartY:Math.round((e.clientY-t.top)/n)}},G7=Gi("mouseClick"),Y7=T0();Y7.startListening({actionCreator:G7,effect:(e,t)=>{var a=e.payload,n=$S(t.getState(),FS(a));n?.activeIndex!=null&&t.dispatch(Due({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var A1=Gi("mouseMove"),Z7=T0(),Lp=null;Z7.startListening({actionCreator:A1,effect:(e,t)=>{var a=e.payload;Lp!==null&&cancelAnimationFrame(Lp);var n=FS(a);Lp=requestAnimationFrame(()=>{var s=t.getState(),i=xS(s,s.tooltip.settings.shared);if(i==="axis"){var o=$S(s,n);o?.activeIndex!=null?t.dispatch(F$({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch($$())}Lp=null})}});var CE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},X7=Js({name:"rootProps",initialState:CE,reducers:{updateOptions:(e,t)=>{var a;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(a=t.payload.barGap)!==null&&a!==void 0?a:CE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),xye=X7.reducer,{updateOptions:yye}=X7.actions,J7=Js({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:bye}=J7.actions,vye=J7.reducer,eF=Gi("keyDown"),tF=Gi("focus"),zS=T0();zS.startListening({actionCreator:eF,effect:(e,t)=>{var a=t.getState(),n=a.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=a.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=yS(s,og(a),z0(a),H0(a)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var d=ld(a);if(i==="Enter"){var c=Cy(a,"axis","hover",String(s.index));t.dispatch(j1({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var g=Sue(a),h=g==="left-to-right"?1:-1,x=i==="ArrowRight"?1:-1,b=l+x*h;if(!(d==null||b>=d.length||b<0)){var v=Cy(a,"axis","hover",String(b));t.dispatch(j1({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}}});zS.startListening({actionCreator:tF,effect:(e,t)=>{var a=t.getState(),n=a.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=a.tooltip;if(!s.active&&s.index==null){var i="0",o=Cy(a,"axis","hover",String(i));t.dispatch(j1({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Li=Gi("externalEvent"),rF=T0(),Qj=new Map;rF.startListening({actionCreator:Li,effect:(e,t)=>{var{handler:a,reactEvent:n}=e.payload;if(a!=null){n.persist();var s=n.type,i=Qj.get(s);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var l=t.getState(),d={activeCoordinate:wme(l),activeDataKey:jS(l),activeIndex:du(l),activeLabel:Z$(l),activeTooltipIndex:du(l),isTooltipActive:jme(l)};a(d,n)}finally{Qj.delete(s)}});Qj.set(s,o)}}});var kye=De([ig],e=>e.tooltipItemPayloads),wye=De([kye,q0,(e,t,a)=>t,(e,t,a)=>a],(e,t,a,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,a);return o}}}),aF=Gi("touchMove"),nF=T0();nF.startListening({actionCreator:aF,effect:(e,t)=>{var a=e.payload;if(!(a.touches==null||a.touches.length===0)){var n=t.getState(),s=xS(n,n.tooltip.settings.shared);if(s==="axis"){var i=$S(n,FS({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));i?.activeIndex!=null&&t.dispatch(F$({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,l=a.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(l.clientX,l.clientY);if(!d||!d.getAttribute)return;var c=d.getAttribute(MB),g=(o=d.getAttribute(TB))!==null&&o!==void 0?o:void 0,h=wye(t.getState(),c,g);t.dispatch(L$({activeDataKey:g,activeIndex:c,activeCoordinate:h}))}}}});var jye=YD({brush:nxe,cartesianAxis:vfe,chartData:kge,errorBars:Ofe,graphicalItems:O0e,layout:cse,legend:pie,options:pge,polarAxis:Qhe,polarOptions:vye,referenceElements:uxe,rootProps:xye,tooltip:Bue,zIndex:nge}),Nye=function(t){return Rne({reducer:jye,preloadedState:t,middleware:a=>{var n;return a({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([Y7.middleware,Z7.middleware,zS.middleware,rF.middleware,nF.middleware])},enhancers:a=>{var n=a;return typeof a=="function"&&(n=a()),n.concat(uB({type:"raf"}))},devTools:E0.devToolsEnabled})};function sF(e){var{preloadedState:t,children:a,reduxStoreName:n}=e,s=ei(),i=p.useRef(null);if(s)return a;i.current==null&&(i.current=Nye(t));var o=rC;return p.createElement(ipe,{context:o,store:i.current},a)}function Cye(e){var{layout:t,margin:a}=e,n=Pa(),s=ei();return p.useEffect(()=>{s||(n(ose(t)),n(ise(a)))},[n,s,t,a]),null}var iF=p.memo(Cye,RS);function oF(e){var t=Pa();return p.useEffect(()=>{t(yye(e))},[t,e]),null}function SE(e){var{zIndex:t,isPanorama:a}=e,n=a?"recharts-zindex-panorama-":"recharts-zindex-",s=T7("".concat(n).concat(t)),i=Pa();return p.useLayoutEffect(()=>(i(rge({zIndex:t,elementId:s,isPanorama:a})),()=>{i(age({zIndex:t,isPanorama:a}))}),[i,t,s,a]),p.createElement("g",{tabIndex:-1,id:s})}function PE(e){var{children:t,isPanorama:a}=e,n=Bt(Wme);if(!n||n.length===0)return t;var s=n.filter(o=>o<0),i=n.filter(o=>o>0);return p.createElement(p.Fragment,null,s.map(o=>p.createElement(SE,{key:o,zIndex:o,isPanorama:a})),t,i.map(o=>p.createElement(SE,{key:o,zIndex:o,isPanorama:a})))}var Sye=["children"];function Pye(e,t){if(e==null)return{};var a,n,s=Mye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Mye(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_y.apply(null,arguments)}var Tye={width:"100%",height:"100%",display:"block"},Iye=p.forwardRef((e,t)=>{var a=DB(),n=BB(),s=QB();if(!il(a)||!il(n))return null;var{children:i,otherAttributes:o,title:l,desc:d}=e,c,g;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=s?0:void 0,typeof o.role=="string"?g=o.role:g=s?"application":void 0),p.createElement(hD,_y({},o,{title:l,desc:d,role:g,tabIndex:c,width:a,height:n,style:Tye,ref:t}),i)}),Aye=e=>{var{children:t}=e,a=Bt(Lb);if(!a)return null;var{width:n,height:s,y:i,x:o}=a;return p.createElement(hD,{width:n,height:s,x:o,y:i},t)},ME=p.forwardRef((e,t)=>{var{children:a}=e,n=Pye(e,Sye),s=ei();return s?p.createElement(Aye,null,p.createElement(PE,{isPanorama:!0},a)):p.createElement(Iye,_y({ref:t},n),p.createElement(PE,{isPanorama:!1},a))});function Eye(){var e=Pa(),[t,a]=p.useState(null),n=Bt(Mse);return p.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;Xa(i)&&i!==n&&e(dse(i))}},[t,e,n]),a}function TE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function _ye(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(a),!0).forEach(function(n){Oye(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):TE(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Oye(e,t,a){return(t=Rye(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Rye(e){var t=Dye(e,"string");return typeof t=="symbol"?t:t+""}function Dye(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},uu.apply(null,arguments)}var Bye=()=>(Ige(),null);function Oy(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Lye=p.forwardRef((e,t)=>{var a,n,s=p.useRef(null),[i,o]=p.useState({containerWidth:Oy((a=e.style)===null||a===void 0?void 0:a.width),containerHeight:Oy((n=e.style)===null||n===void 0?void 0:n.height)}),l=p.useCallback((c,g)=>{o(h=>{var x=Math.round(c),b=Math.round(g);return h.containerWidth===x&&h.containerHeight===b?h:{containerWidth:x,containerHeight:b}})},[]),d=p.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:g,height:h}=c.getBoundingClientRect();l(g,h);var x=v=>{var{width:j,height:w}=v[0].contentRect;l(j,w)},b=new ResizeObserver(x);b.observe(c),s.current=b}},[t,l]);return p.useEffect(()=>()=>{var c=s.current;c?.disconnect()},[l]),p.createElement(p.Fragment,null,p.createElement(zb,{width:i.containerWidth,height:i.containerHeight}),p.createElement("div",uu({ref:d},e)))}),$ye=p.forwardRef((e,t)=>{var{width:a,height:n}=e,[s,i]=p.useState({containerWidth:Oy(a),containerHeight:Oy(n)}),o=p.useCallback((d,c)=>{i(g=>{var h=Math.round(d),x=Math.round(c);return g.containerWidth===h&&g.containerHeight===x?g:{containerWidth:h,containerHeight:x}})},[]),l=p.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:c,height:g}=d.getBoundingClientRect();o(c,g)}},[t,o]);return p.createElement(p.Fragment,null,p.createElement(zb,{width:s.containerWidth,height:s.containerHeight}),p.createElement("div",uu({ref:l},e)))}),Fye=p.forwardRef((e,t)=>{var{width:a,height:n}=e;return p.createElement(p.Fragment,null,p.createElement(zb,{width:a,height:n}),p.createElement("div",uu({ref:t},e)))}),zye=p.forwardRef((e,t)=>{var{width:a,height:n}=e;return Gl(a)||Gl(n)?p.createElement($ye,uu({},e,{ref:t})):p.createElement(Fye,uu({},e,{ref:t}))});function Uye(e){return e===!0?Lye:zye}var qye=p.forwardRef((e,t)=>{var{children:a,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:d,onMouseEnter:c,onMouseLeave:g,onMouseMove:h,onMouseUp:x,onTouchEnd:b,onTouchMove:v,onTouchStart:j,style:w,width:S,responsive:M,dispatchTouchEvents:T=!0}=e,A=p.useRef(null),I=Pa(),[_,D]=p.useState(null),[E,X]=p.useState(null),ee=Eye(),Z=mC(),B=Z?.width>0?Z.width:S,G=Z?.height>0?Z.height:s,J=p.useCallback(me=>{ee(me),typeof t=="function"&&t(me),D(me),X(me),me!=null&&(A.current=me)},[ee,t,D,X]),ce=p.useCallback(me=>{I(G7(me)),I(Li({handler:i,reactEvent:me}))},[I,i]),te=p.useCallback(me=>{I(A1(me)),I(Li({handler:c,reactEvent:me}))},[I,c]),K=p.useCallback(me=>{I($$()),I(Li({handler:g,reactEvent:me}))},[I,g]),Y=p.useCallback(me=>{I(A1(me)),I(Li({handler:h,reactEvent:me}))},[I,h]),re=p.useCallback(()=>{I(tF())},[I]),ne=p.useCallback(me=>{I(eF(me.key))},[I]),z=p.useCallback(me=>{I(Li({handler:o,reactEvent:me}))},[I,o]),V=p.useCallback(me=>{I(Li({handler:l,reactEvent:me}))},[I,l]),F=p.useCallback(me=>{I(Li({handler:d,reactEvent:me}))},[I,d]),$=p.useCallback(me=>{I(Li({handler:x,reactEvent:me}))},[I,x]),q=p.useCallback(me=>{I(Li({handler:j,reactEvent:me}))},[I,j]),H=p.useCallback(me=>{T&&I(aF(me)),I(Li({handler:v,reactEvent:me}))},[I,T,v]),Q=p.useCallback(me=>{I(Li({handler:b,reactEvent:me}))},[I,b]),de=Uye(M);return p.createElement(n7.Provider,{value:_},p.createElement(hre.Provider,{value:E},p.createElement(de,{width:B??w?.width,height:G??w?.height,className:na("recharts-wrapper",n),style:_ye({position:"relative",cursor:"default",width:B,height:G},w),onClick:ce,onContextMenu:z,onDoubleClick:V,onFocus:re,onKeyDown:ne,onMouseDown:F,onMouseEnter:te,onMouseLeave:K,onMouseMove:Y,onMouseUp:$,onTouchEnd:Q,onTouchMove:H,onTouchStart:q,ref:J},p.createElement(Bye,null),a)))}),Vye=["width","height","responsive","children","className","style","compact","title","desc"];function Hye(e,t){if(e==null)return{};var a,n,s=Wye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Wye(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var lF=p.forwardRef((e,t)=>{var{width:a,height:n,responsive:s,children:i,className:o,style:l,compact:d,title:c,desc:g}=e,h=Hye(e,Vye),x=Co(h);return d?p.createElement(p.Fragment,null,p.createElement(zb,{width:a,height:n}),p.createElement(ME,{otherAttributes:x,title:c,desc:g},i)):p.createElement(qye,{className:o,style:l,width:a,height:n,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(ME,{otherAttributes:x,title:c,desc:g,ref:t},p.createElement(gxe,null,i)))});function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},E1.apply(null,arguments)}var Kye={top:5,right:5,bottom:5,left:5},Qye={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Kye,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Gye=p.forwardRef(function(t,a){var n,s=hs(t.categoricalChartProps,Qye),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:d,categoricalChartProps:c}=t,g={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:d,eventEmitter:void 0};return p.createElement(sF,{preloadedState:{options:g},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:i},p.createElement(F7,{chartData:c.data}),p.createElement(iF,{layout:s.layout,margin:s.margin}),p.createElement(oF,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),p.createElement(lF,E1({},s,{ref:a})))}),Yye=["axis","item"],Zye=p.forwardRef((e,t)=>p.createElement(Gye,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Yye,tooltipPayloadSearcher:s7,categoricalChartProps:e,ref:t}));function Xye(e){var t=Pa();return p.useEffect(()=>{t(bye(e))},[t,e]),null}var Jye=["layout"];function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_1.apply(null,arguments)}function ebe(e,t){if(e==null)return{};var a,n,s=tbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function tbe(e,t){if(e==null)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;a[n]=e[n]}return a}var rbe={top:5,right:5,bottom:5,left:5},dF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:rbe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},abe=p.forwardRef(function(t,a){var n,s=hs(t.categoricalChartProps,dF),{layout:i}=s,o=ebe(s,Jye),{chartName:l,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:g}=t,h={chartName:l,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:g,eventEmitter:void 0};return p.createElement(sF,{preloadedState:{options:h},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:l},p.createElement(F7,{chartData:s.data}),p.createElement(iF,{layout:i,margin:s.margin}),p.createElement(oF,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),p.createElement(Xye,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),p.createElement(lF,_1({},o,{ref:a})))});function IE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function AE(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(a),!0).forEach(function(n){nbe(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):IE(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function nbe(e,t,a){return(t=sbe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function sbe(e){var t=ibe(e,"string");return typeof t=="symbol"?t:t+""}function ibe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var obe=["item"],lbe=AE(AE({},dF),{},{layout:"centric",startAngle:0,endAngle:360}),dbe=p.forwardRef((e,t)=>{var a=hs(e,lbe);return p.createElement(abe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:obe,tooltipPayloadSearcher:s7,categoricalChartProps:a,ref:t})});class cbe{baseUrl="/api/BranchMoneyCase";transformActiveMoneyCase(t){return N.info("Transforming active money case",{apiResponse:t}),{id:t.branchMoneyCaseId,branchId:t.branchId,branchName:t.branch?.branchName,openingBalance:t.subTotalAmount,openedAt:t.openedAt,openedBy:t.openedByEmail,currentBalance:t.totalAmount,transactionCount:0,status:t.status?"OPEN":"CLOSED",subTotalAmount:t.subTotalAmount,serviceFeeAmount:t.serviceFeeAmount,totalAmount:t.totalAmount}}transformHistoryItem(t){return{id:t.id,branchId:t.branchId,branchName:t.branchName,openingBalance:t.subTotalAmount,closingBalance:t.totalAmount,actualCash:t.actualCash,difference:t.discrepancy,openedAt:t.openedAt,closedAt:t.closedAt||void 0,openedBy:t.openedByEmail,closedBy:t.closedByEmail||void 0,notes:t.notes||void 0,status:t.closedAt?"CLOSED":"OPEN",transactionCount:t.transactionCount,shiftDuration:t.shiftDuration}}transformZReport(t){return{moneyCaseId:t.branchMoneyCaseId,branchId:t.branchId,branchName:t.branchName,reportDate:t.closedAt||t.openedAt,openingBalance:t.subTotal,totalSales:t.totalRevenue,totalCash:t.subTotal,totalCard:t.serviceFee,totalRefunds:0,totalExpenses:0,expectedCash:t.totalRevenue,actualCash:t.actualCash,difference:t.discrepancy,transactionCount:t.transactionCount,totalOrders:t.totalOrders,openedAt:t.openedAt,closedAt:t.closedAt,shiftDuration:t.shiftDuration,openedBy:t.openedByEmail,closedBy:t.closedByEmail,notes:t.notes}}transformBranchSummary(t){return{branchId:t.branchId,branchName:t.branchName,fromDate:t.fromDate,toDate:t.toDate,totalCases:t.totalShifts,totalOpeningBalance:t.subTotal,totalClosingBalance:t.totalRevenue,totalSales:t.totalRevenue,totalCash:t.subTotal,totalCard:t.serviceFee,totalDifference:t.totalCashDiscrepancy,averageDifference:t.totalShifts>0?t.totalCashDiscrepancy/t.totalShifts:0,totalOrders:t.totalOrders,totalTransactions:t.totalTransactions,averageOrderValue:t.averageOrderValue,averageShiftDuration:t.averageShiftDuration,shiftsWithDiscrepancy:t.shiftsWithDiscrepancy}}transformRestaurantSummary(t){return{restaurantId:t.restaurantId,restaurantName:t.restaurantName,fromDate:t.fromDate,toDate:t.toDate,totalCases:t.totalShifts,totalOpeningBalance:t.subTotal,totalClosingBalance:t.totalRevenue,totalSales:t.totalRevenue,totalCash:t.subTotal,totalCard:t.serviceFee,totalDifference:t.totalCashDiscrepancy,averageDifference:t.totalShifts>0?t.totalCashDiscrepancy/t.totalShifts:0,totalOrders:t.totalOrders,totalTransactions:t.totalTransactions,averageOrderValue:t.averageOrderValue,averageShiftDuration:t.averageShiftDuration,shiftsWithDiscrepancy:t.shiftsWithDiscrepancy}}transformQuickSummary(t){return{branchId:t.branchId||void 0,branchName:t.branchName||void 0,activeCaseId:t.today.activeCaseId||void 0,isOpen:t.today.hasActiveShift,todaySales:t.today.totalRevenueToday,todayCash:t.today.currentRevenue,todayCard:t.today.closedShiftsRevenue,currentBalance:t.today.currentRevenue,transactionCount:t.today.ordersToday,lastUpdated:new Date().toISOString(),ordersToday:t.today.ordersToday,shiftStartTime:t.today.shiftStartTime||void 0,currentShiftDuration:t.today.currentShiftDuration||void 0,closedShiftsRevenue:t.today.closedShiftsRevenue,weekToDate:t.weekToDate,monthToDate:t.monthToDate}}async openMoneyCase(t){try{N.info("Kasa alyor",{branchId:t.branchId,openingBalance:t.openingBalance});const a=await he.post(`${this.baseUrl}/open`,t);return N.info(" Kasa baaryla ald",{response:a.data}),this.transformActiveMoneyCase(a.data.data)}catch(a){throw N.error(" Kasa alrken hata:",a),new Error(a?.response?.data?.message||"Failed to open money case")}}async closeMoneyCase(t){try{N.info("Kasa kapatlyor",{branchId:t.branchId,actualCash:t.actualCash});const a=await he.post(`${this.baseUrl}/close`,t);N.info(" Kasa baaryla kapatld",{response:a.data});const n=a.data.data||a.data,s={id:n.id||n.branchMoneyCaseId||0,branchId:n.branchId,branchName:n.branchName,openingBalance:n.subTotalAmount||n.openingBalance||0,closingBalance:n.totalAmount||n.closingBalance||0,actualCash:n.actualCash||0,difference:n.discrepancy??n.difference??0,openedAt:n.openedAt,closedAt:n.closedAt,openedBy:n.openedByEmail||n.openedBy,closedBy:n.closedByEmail||n.closedBy,notes:n.notes||"",status:"CLOSED",transactionCount:n.transactionCount||0,shiftDuration:n.shiftDuration};return N.info(" Transformed closed case:",s),s}catch(a){throw N.error(" Kasa kapatlrken hata:",a),new Error(a?.response?.data?.message||"Failed to close money case")}}async getActiveMoneyCase(t){try{N.info("Aktif kasa getiriliyor",{branchId:t});const a=t?{branchId:t}:{},n=await he.get(`${this.baseUrl}/active`,{params:a});if(N.info(" API Response:",{fullResponse:n,data:n.data,innerData:n.data?.data}),!n.data||!n.data.data)return N.info("No active money case found"),null;const s=this.transformActiveMoneyCase(n.data.data);return N.info(" Transformed active money case:",s),s}catch(a){if(N.error(" Aktif kasa getirilirken hata:",a),a?.response?.status===404)return N.info("No active case (404)"),null;throw new Error(a?.response?.data?.message||"Failed to fetch active money case")}}async getPreviousCloseInfo(t){try{N.info("nceki kasa kapan bilgisi getiriliyor",{branchId:t});const a=t?{branchId:t}:{},n=await he.get(`${this.baseUrl}/previous-close-info`,{params:a});return N.info(" nceki kapan bilgisi API response:",{response:n.data}),!n.data||!n.data.data?(N.info("nceki kapan bilgisi bulunamad"),null):n.data.data}catch(a){return N.error(" nceki kapan bilgisi getirilirken hata:",a),a?.response?.status===404&&N.info("No previous close info (404)"),null}}async getMoneyCaseHistory(t={}){try{N.info("Kasa gemii getiriliyor",t);const a={...t,pageSize:t.pageSize||30},n=await he.get(`${this.baseUrl}/history`,{params:a});N.info(" Kasa gemii API response:",{response:n.data});const s=(n.data.data||[]).map(d=>this.transformHistoryItem(d)),i=n.data.count||0,o=a.pageSize,l={items:s,totalCount:i,pageSize:o,currentPage:1,totalPages:Math.ceil(i/o)};return N.info(" Transformed history:",l),l}catch(a){return N.error(" Kasa gemii getirilirken hata:",a),{items:[],totalCount:0,pageSize:t.pageSize||30,currentPage:1,totalPages:0}}}async getZReport(t){try{N.info("Z raporu getiriliyor",{moneyCaseId:t});const a=await he.get(`${this.baseUrl}/${t}/z-report`);N.info(" Z raporu API response:",{response:a.data});const n=this.transformZReport(a.data.zReport);return N.info(" Transformed Z report:",n),n}catch(a){throw N.error(" Z raporu getirilirken hata:",a),new Error(a?.response?.data?.message||"Failed to fetch Z report")}}async getBranchSummary(t={}){try{N.info("ube zet raporu getiriliyor",t);const a=await he.get(`${this.baseUrl}/summary/branch`,{params:t});N.info(" ube zet raporu API response:",{response:a.data});const n=this.transformBranchSummary(a.data.data);return N.info(" Transformed branch summary:",n),n}catch(a){throw N.error(" ube zet raporu getirilirken hata:",a),new Error(a?.response?.data?.message||"Failed to fetch branch summary")}}async getRestaurantSummary(t={}){try{N.info("Restoran zet raporu getiriliyor",t);const a=await he.get(`${this.baseUrl}/summary/restaurant`,{params:t});N.info(" Restoran zet raporu API response:",{response:a.data});const n=this.transformRestaurantSummary(a.data.data);return N.info(" Transformed restaurant summary:",n),n}catch(a){throw N.error(" Restoran zet raporu getirilirken hata:",a),new Error(a?.response?.data?.message||"Failed to fetch restaurant summary")}}async getQuickSummary(t){try{N.info("Hzl zet getiriliyor",{branchId:t});const a=t?{branchId:t}:{},n=await he.get(`${this.baseUrl}/summary/quick`,{params:a});N.info(" Hzl zet API response:",{response:n.data});const s=this.transformQuickSummary(n.data.data);return N.info(" Transformed quick summary:",s),s}catch(a){return N.error(" Hzl zet getirilirken hata:",a),{isOpen:!1,todaySales:0,todayCash:0,todayCard:0,currentBalance:0,transactionCount:0,lastUpdated:new Date().toISOString(),ordersToday:0,closedShiftsRevenue:0,weekToDate:{totalRevenue:0,shiftCount:0,orderCount:0},monthToDate:{totalRevenue:0,shiftCount:0,orderCount:0}}}}async isMoneyCaseOpen(t){try{const a=await this.getActiveMoneyCase(t);return a!==null&&a.status==="OPEN"}catch(a){return N.error(" Kasa durumu kontrol edilirken hata:",a),!1}}async getTodayHistory(t){try{const a=new Date;a.setHours(0,0,0,0);const n=new Date(a);return n.setDate(n.getDate()+1),(await this.getMoneyCaseHistory({branchId:t,fromDate:a.toISOString(),toDate:n.toISOString(),pageSize:100})).items||[]}catch(a){return N.error(" Bugnk kasa gemii getirilirken hata:",a),[]}}}const Go=new cbe,go=e=>e==null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e),ube=({title:e,value:t,subValue:a,subText:n,icon:s,iconBgColor:i,iconColor:o,statusColor:l})=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg flex items-center space-x-4 rtl:space-x-reverse transition-all duration-200 hover:shadow-xl",children:[r.jsx("div",{className:`p-3 rounded-full ${i} ${o}`,children:r.jsx(s,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:e}),r.jsx("p",{className:`text-2xl font-bold ${l||"text-gray-900 dark:text-white"}`,children:t}),(a||n)&&r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[r.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:a})," ",n]})]})]}),mbe=({stats:e,title:t})=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg h-full",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:t}),r.jsx("div",{className:"space-y-6",children:e.map((a,n)=>r.jsxs("div",{className:"flex items-center justify-between group",children:[r.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[r.jsx("div",{className:`p-3 rounded-full ${a.color.bg} ${a.color.darkBg} ${a.color.text} group-hover:scale-110 transition-transform`,children:r.jsx(a.icon,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a.title}),r.jsx("p",{className:"text-xs text-gray-400",children:a.subtitle})]})]}),r.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:a.value})]},n))})]}),gbe=({cash:e,card:t,title:a,labels:n})=>{const s=[{name:n.cash,value:e},{name:n.card,value:t}],i=["#10B981","#3B82F6"];return r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg h-96 flex flex-col",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:a}),r.jsx("div",{className:"flex-grow",children:e===0&&t===0?r.jsx("div",{className:"h-full flex items-center justify-center text-gray-400",children:n.noData}):r.jsx(_B,{width:"100%",height:"100%",children:r.jsxs(dbe,{children:[r.jsx(E7,{data:s,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:s.map((o,l)=>r.jsx(K0,{fill:i[l%i.length]},`cell-${l}`))}),r.jsx(l7,{formatter:o=>go(o),contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"#fff"}})]})})}),r.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.cash,": ",go(e)]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[n.card,": ",go(t)]})]})]})]})},hbe=({weekData:e,monthData:t,title:a,labels:n})=>{const s=[{name:n.week,revenue:e.totalRevenue},{name:n.month,revenue:t.totalRevenue}];return r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg h-96 flex flex-col",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:a}),r.jsx("div",{className:"flex-grow",children:r.jsx(_B,{width:"100%",height:"100%",children:r.jsxs(Zye,{data:s,children:[r.jsx(H7,{strokeDasharray:"3 3",opacity:.1}),r.jsx(K7,{dataKey:"name",stroke:"#9CA3AF"}),r.jsx(Q7,{stroke:"#9CA3AF",tickFormatter:i=>`$${i}`}),r.jsx(l7,{formatter:i=>go(i),cursor:{fill:"transparent"},contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"#fff"}}),r.jsx(L7,{dataKey:"revenue",fill:"#8B5CF6",radius:[4,4,0,0],barSize:60})]})})})]})},fbe=()=>{const[e,t]=p.useState(null),[a,n]=p.useState(!0),[s,i]=p.useState(null),{t:o,language:l}=Ze();if(p.useEffect(()=>{(async()=>{try{n(!0),i(null);const h=await Go.getQuickSummary();t(h)}catch(h){console.error("Overview fetch error:",h),i(h.message||"Failed to load dashboard data")}finally{n(!1)}})()},[l]),a)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:o("dashboard.overview.loading")})]})});if(s)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-500 mb-4",children:o("dashboard.overview.errorTitle")}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:o("dashboard.overview.refresh")})]})});const d=e?[{title:o("dashboard.overview.kpis.todaySales"),value:go(e.todaySales),subValue:e.ordersToday.toString(),subText:o("dashboard.overview.kpis.totalOrders"),icon:qr,iconBgColor:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400"},{title:o("dashboard.overview.kpis.currentBalance"),value:go(e.currentBalance),subValue:e.isOpen?o("dashboard.overview.quickStats.open"):o("dashboard.overview.quickStats.closed"),subText:o("dashboard.overview.quickStats.status"),icon:aW,iconBgColor:e.isOpen?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30",iconColor:e.isOpen?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",statusColor:e.isOpen?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"},{title:o("dashboard.overview.kpis.weekRevenue"),value:go(e.weekToDate.totalRevenue),subValue:e.weekToDate.orderCount.toString(),subText:o("dashboard.overview.kpis.totalOrders"),icon:la,iconBgColor:"bg-purple-100 dark:bg-purple-900/30",iconColor:"text-purple-600 dark:text-purple-400"},{title:o("dashboard.overview.kpis.monthRevenue"),value:go(e.monthToDate.totalRevenue),subValue:e.monthToDate.orderCount.toString(),subText:o("dashboard.overview.kpis.totalOrders"),icon:LH,iconBgColor:"bg-yellow-100 dark:bg-yellow-900/30",iconColor:"text-yellow-600 dark:text-yellow-400"}]:[],c=e?[{icon:Kn,title:o("dashboard.overview.kpis.avgOrderValue"),subtitle:o("dashboard.overview.quickStats.dailyOrders"),value:e.ordersToday>0?go(e.todaySales/e.ordersToday):"$0.00",color:{bg:"bg-indigo-100",text:"text-indigo-600 dark:text-indigo-400",darkBg:"dark:bg-indigo-900/30"}},{icon:$r,title:o("dashboard.overview.kpis.totalShifts"),subtitle:o("dashboard.overview.kpis.changeTexts.thisWeek"),value:e.weekToDate.shiftCount.toString(),color:{bg:"bg-pink-100",text:"text-pink-600 dark:text-pink-400",darkBg:"dark:bg-pink-900/30"}},{icon:rl,title:o("dashboard.overview.quickStats.cardSales"),subtitle:o("dashboard.overview.kpis.changeTexts.today"),value:go(e.todayCard),color:{bg:"bg-blue-100",text:"text-blue-600 dark:text-blue-400",darkBg:"dark:bg-blue-900/30"}},{icon:qr,title:o("dashboard.overview.quickStats.cashSales"),subtitle:o("dashboard.overview.kpis.changeTexts.today"),value:go(e.todayCash),color:{bg:"bg-green-100",text:"text-green-600 dark:text-green-400",darkBg:"dark:bg-green-900/30"}}]:[];return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map((g,h)=>r.jsx(ube,{...g},h))}),e&&r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[r.jsx("div",{className:"xl:col-span-1",children:r.jsx(hbe,{weekData:e.weekToDate,monthData:e.monthToDate,title:o("dashboard.overview.charts.revenueComparison"),labels:{week:o("dashboard.overview.kpis.changeTexts.thisWeek"),month:o("dashboard.overview.quickStats.thisMonth")}})}),r.jsx("div",{className:"xl:col-span-1",children:r.jsx(gbe,{cash:e.todayCash,card:e.todayCard,title:o("dashboard.overview.charts.paymentMethods"),labels:{cash:o("dashboard.overview.quickStats.cashSales"),card:o("dashboard.overview.quickStats.cardSales"),noData:o("dashboard.overview.charts.noData")}})}),r.jsx("div",{className:"xl:col-span-1",children:r.jsx(mbe,{stats:c,title:o("dashboard.overview.title")})})]})]})},pbe=({onClick:e})=>{const{t,isRTL:a}=Ze();return r.jsxs("button",{onClick:e,className:`
        w-full h-full min-h-[220px] 
        bg-white dark:bg-gray-800 
        rounded-2xl 
        shadow-lg hover:shadow-xl transition-shadow duration-300 
        border-2 border-dashed border-gray-300 dark:border-gray-600 
        p-6 
        hover:border-blue-600 dark:hover:border-blue-500 
        transition-all duration-200 
        flex flex-col items-center justify-center gap-4 
        group focus:outline-none focus:ring-4 focus:ring-blue-500/50
        ${a?"text-right":"text-left"}
      `,"aria-label":t("AddQRCodeCard.accessibility.addButton")||"Add New QR Code Table",role:"button",children:[r.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/50 rounded-xl group-hover:bg-blue-100 dark:group-hover:bg-blue-900/70 transition-colors duration-300",children:r.jsx(Ut,{className:"h-8 w-8 text-blue-600 dark:text-blue-400 group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors duration-300"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-300",children:t("AddQRCodeCard.title")||"Create New Table"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("AddQRCodeCard.subtitle")||"Click to set up a new table and generate its QR code."})]})]})},xbe=({isOpen:e,onClose:t,selectedBranch:a,onSuccess:n,editingCategory:s=null,isEditMode:i=!1})=>{const{t:o,isRTL:l}=Ze(),[d,c]=p.useState({categoryName:"",description:"",colorCode:"#3b82f6",iconClass:"",displayOrder:0,isActive:!0}),[g,h]=p.useState(!1),[x,b]=p.useState([]),[v,j]=p.useState(null),[w,S]=p.useState({}),M=()=>{const _={};return d.categoryName.trim()||(_.categoryName=o("TableCategoryModal.categoryNameRequired")),d.iconClass||(_.iconClass=o("TableCategoryModal.iconRequired")),S(_),Object.keys(_).length===0};p.useEffect(()=>{e&&(c(i&&s?{categoryName:s.categoryName,description:s.description||"",colorCode:s.colorCode||"#3b82f6",iconClass:s.iconClass||"",displayOrder:s.displayOrder||0,isActive:s.isActive}:{categoryName:"",description:"",colorCode:"#3b82f6",iconClass:"",displayOrder:0,isActive:!0}),S({}))},[e,i,s]),p.useEffect(()=>{e&&(a?j(a.id):(async()=>{try{const _=await ws.getRestaurantBranchesDropdown();b(_),_.length>0&&j(_[0].id)}catch(_){N.error("ubeler alnamad:",_)}})())},[e,a]);const T=_=>{const D=_.target,{name:E,type:X}=D,ee=X==="checkbox"?D.checked:D.value;c(Z=>({...Z,[E]:ee})),w[E]&&S(Z=>({...Z,[E]:""}))},A=_=>{c(D=>({...D,colorCode:_}))},I=async _=>{if(_.preventDefault(),!!M()){if(!v){S({general:o("TableCategoryModal.branchRequired")});return}h(!0);try{if(i&&s)await Fa.updateCategory(s.id,{id:s.id,categoryName:d.categoryName.trim(),colorCode:d.colorCode,iconClass:d.iconClass,isActive:d.isActive,rowVersion:s.rowVersion},v),N.info("Kategori baaryla gncellendi",{categoryId:s.id});else{const D={categoryName:d.categoryName.trim()||null,description:d.description?.trim()||null,colorCode:d.colorCode||null,iconClass:d.iconClass||null,displayOrder:d.displayOrder,isActive:d.isActive};N.info("Gnderilen payload",{payload:D,branchId:v}),v&&localStorage.setItem("menutable_create_selected_branchId",String(v));const E=await he.post(`/api/branches/table-categories?branchId=${v}`,D);if(N.info("Kategori baaryla eklendi",{data:E.data}),v)try{await he.get(`/api/branches/table-categories?branchId=${v}`),N.info("Kategoriler yeniden yklendi")}catch(X){N.error("Kategoriler yeniden yklenirken hata",X)}}n&&n(),t(),c({categoryName:"",description:"",colorCode:"#3b82f6",iconClass:"",displayOrder:0,isActive:!0}),S({})}catch(D){if(console.error(" Kategori ilemi srasnda hata:",D),D.response?.status===400){const E=D.response?.data?.errors;if(E){const X={};Object.keys(E).forEach(ee=>{const Z=ee.toLowerCase();Z.includes("categoryname")?X.categoryName=E[ee][0]||o("TableCategoryModal.categoryNameRequired"):Z.includes("colorcode")?X.general=o("TableCategoryModal.invalidData"):Z.includes("iconclass")?X.iconClass=o("TableCategoryModal.iconRequired"):X.general=E[ee][0]||o("TableCategoryModal.invalidData")}),S(X)}else S({general:D.response?.data?.message||o("TableCategoryModal.invalidData")})}else D.response?.status===401?S({general:D.response?.data?.message}):D.response?.status===403?S({general:D.response?.data?.message}):D.response?.status===404?S({general:D.response?.data?.message}):D.response?.status>=500?S({general:D.response?.data?.message}):S({general:D.response?.data?.message})}finally{h(!1)}}};return r.jsx(pr,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-label":o("TableCategoryModal.accessibility.modal"),dir:l?"rtl":"ltr",children:[r.jsxs(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gradient-to-br from-purple-900/30 via-blue-900/40 to-indigo-900/30 backdrop-blur-md",onClick:t,children:[r.jsx(ke.div,{animate:{scale:[1,1.2,1],opacity:[.2,.4,.2]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl"}),r.jsx(ke.div,{animate:{scale:[1.2,1,1.2],opacity:[.2,.4,.2]},transition:{duration:8,repeat:1/0,delay:2,ease:"easeInOut"},className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-500/20 rounded-full blur-3xl"})]}),r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:r.jsxs(ke.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{type:"spring",duration:.6,bounce:.3},className:"relative w-full max-w-xl bg-white/95 dark:bg-gray-900/95 backdrop-blur-2xl rounded-3xl shadow-2xl border border-white/20 dark:border-gray-700/50 overflow-hidden",dir:l?"rtl":"ltr",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-primary-400/30 to-purple-500/30 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-blue-400/30 to-primary-500/30 rounded-full blur-3xl"}),r.jsxs("div",{className:"relative bg-gradient-to-br from-primary-500 via-primary-600 to-purple-600 dark:from-primary-600 dark:via-primary-700 dark:to-purple-700 p-8 text-white overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 via-transparent to-transparent"}),r.jsx("div",{className:"absolute inset-0 opacity-30",children:r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.1),transparent_50%)]"})}),r.jsx("button",{onClick:t,className:`absolute top-6 p-2.5 hover:bg-white/25 dark:hover:bg-white/15 rounded-xl transition-all duration-300 hover:scale-110 hover:rotate-90 group z-10 ${l?"left-6":"right-6"}`,"aria-label":o("TableCategoryModal.accessibility.close"),children:r.jsx(xt,{className:"w-5 h-5 group-hover:drop-shadow-lg"})}),r.jsxs("div",{className:`flex items-center gap-4 relative ${l?"text-right":""}`,children:[r.jsx(ke.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring"},className:"p-4 bg-white/25 backdrop-blur-sm rounded-2xl shadow-lg",children:r.jsx(Ps,{className:"w-7 h-7 drop-shadow-lg"})}),r.jsxs("div",{className:l?"text-right":"text-left",children:[r.jsx(ke.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl font-bold drop-shadow-md",children:i?o("TableCategoryModal.title"):""}),r.jsx(ke.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-primary-50/90 text-sm mt-1 drop-shadow",children:i?o("TableCategoryModal.subtitle"):""})]})]})]}),r.jsxs("form",{onSubmit:I,className:"relative p-8 space-y-6",role:"form","aria-label":o("TableCategoryModal.accessibility.form"),children:[w.general&&r.jsx(ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-gradient-to-r from-red-50 to-red-100/50 dark:from-red-900/30 dark:to-red-800/20 border-l-4 border-red-500 dark:border-red-400 rounded-xl text-red-700 dark:text-red-300 text-sm font-medium shadow-sm",children:w.general}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-200 ${l?"text-right":""}`,children:[r.jsx(fu,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),o("TableCategoryModal.categoryName")]}),r.jsxs("div",{className:"relative group",children:[r.jsx("input",{type:"text",name:"categoryName",value:d.categoryName,onChange:T,placeholder:o("TableCategoryModal.categoryNamePlaceholder"),className:`
                        w-full px-5 py-3.5 rounded-2xl border-2 transition-all duration-300
                        bg-white dark:bg-gray-800/50 
                        text-gray-900 dark:text-gray-100
                        placeholder-gray-400 dark:placeholder-gray-500
                        border-gray-200 dark:border-gray-600
                        hover:border-primary-300 dark:hover:border-primary-600 hover:shadow-lg hover:shadow-primary-500/10
                        focus:outline-none focus:ring-4 focus:ring-primary-500/30 focus:border-primary-500 focus:shadow-xl focus:shadow-primary-500/20
                        ${w.categoryName?"border-red-400 dark:border-red-500 focus:border-red-500 focus:ring-red-500/30":""}
                        ${l?"text-right":"text-left"}
                      `,"aria-describedby":w.categoryName?"category-name-error":void 0,dir:l?"rtl":"ltr"}),r.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-r from-primary-500/0 via-primary-500/5 to-purple-500/0 rounded-2xl opacity-0 group-focus-within:opacity-100 transition-opacity duration-300"})]}),w.categoryName&&r.jsx(ke.p,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},id:"category-name-error",className:"text-red-600 dark:text-red-400 text-xs font-medium flex items-center gap-1",children:w.categoryName})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-200 ${l?"text-right":""}`,children:[r.jsx(vn,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),o("TableCategoryModal.description")]}),r.jsxs("div",{className:"relative group",children:[r.jsx("textarea",{name:"description",value:d.description,onChange:T,rows:3,placeholder:o("TableCategoryModal.descriptionPlaceholder"),className:`
                        w-full px-5 py-3.5 rounded-2xl border-2 transition-all duration-300 resize-none
                        bg-white dark:bg-gray-800/50 
                        text-gray-900 dark:text-gray-100
                        placeholder-gray-400 dark:placeholder-gray-500
                        border-gray-200 dark:border-gray-600
                        hover:border-primary-300 dark:hover:border-primary-600 hover:shadow-lg hover:shadow-primary-500/10
                        focus:outline-none focus:ring-4 focus:ring-primary-500/30 focus:border-primary-500 focus:shadow-xl focus:shadow-primary-500/20
                        ${l?"text-right":"text-left"}
                      `,dir:l?"rtl":"ltr"}),r.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-r from-primary-500/0 via-primary-500/5 to-purple-500/0 rounded-2xl opacity-0 group-focus-within:opacity-100 transition-opacity duration-300"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-200 ${l?"text-right":""}`,children:[r.jsx(Nm,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),o("TableCategoryModal.colorSelection")]}),r.jsx("div",{className:"grid grid-cols-8 gap-2.5 p-4 bg-gradient-to-br from-gray-50/50 to-gray-100/50 dark:from-gray-800/30 dark:to-gray-700/30 rounded-2xl backdrop-blur-sm border border-gray-200/50 dark:border-gray-700/50",role:"group","aria-label":o("TableCategoryModal.accessibility.colorPalette"),children:wJ.map(_=>r.jsx(ke.button,{type:"button",onClick:()=>A(_),whileHover:{scale:1.15,rotate:5},whileTap:{scale:.95},className:`
                          w-9 h-9 rounded-xl border-2 transition-all duration-300 shadow-lg
                          ${d.colorCode===_?"border-white dark:border-gray-200 ring-4 ring-primary-500/50 shadow-2xl scale-110":"border-gray-300/50 dark:border-gray-600/50 hover:border-white dark:hover:border-gray-300 hover:shadow-2xl"}
                        `,style:{backgroundColor:_,boxShadow:`0 4px 20px ${_}40`},"aria-label":`${o("TableCategoryModal.accessibility.colorPreset")} ${_}`},_))}),r.jsxs("div",{className:`flex items-center gap-4 p-4 bg-gradient-to-r from-gray-50 to-gray-100/50 dark:from-gray-800/50 dark:to-gray-700/30 rounded-2xl border border-gray-200/50 dark:border-gray-700/50 ${l?"flex-row-reverse":""}`,children:[r.jsx(ke.div,{whileHover:{scale:1.05},className:"w-12 h-12 rounded-xl border-3 border-white dark:border-gray-600 overflow-hidden shadow-xl",style:{backgroundColor:d.colorCode,boxShadow:`0 8px 25px ${d.colorCode}60`}}),r.jsx("input",{type:"color",name:"colorCode",value:d.colorCode,onChange:T,className:"w-12 h-12 border-0 bg-transparent cursor-pointer rounded-xl","aria-label":o("TableCategoryModal.accessibility.customColorPicker")}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-mono font-semibold bg-white/50 dark:bg-gray-900/50 px-3 py-1.5 rounded-lg",children:d.colorCode})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-200 ${l?"text-right":""}`,children:[r.jsx(aa,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),o("TableCategoryModal.iconSelection")]}),r.jsx("div",{className:"grid grid-cols-4 gap-3",role:"group","aria-label":o("TableCategoryModal.accessibility.iconGrid"),children:kJ.map(_=>r.jsxs(ke.button,{type:"button",onClick:()=>c(D=>({...D,iconClass:_.value})),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:`
                          p-4 rounded-2xl border-2 transition-all duration-300 flex flex-col items-center gap-2 shadow-md
                          ${d.iconClass===_.value?"border-primary-500 bg-gradient-to-br from-primary-50 to-primary-100 dark:from-primary-900/40 dark:to-primary-800/30 text-primary-700 dark:text-primary-300 shadow-xl shadow-primary-500/30 scale-105":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800/50 text-gray-600 dark:text-gray-400 hover:border-primary-300 dark:hover:border-primary-600 hover:shadow-xl hover:shadow-primary-500/20"}
                        `,"aria-label":`${o("TableCategoryModal.accessibility.iconOption")} ${o(_.label)}`,children:[r.jsx(_.icon,{className:"w-6 h-6"}),r.jsx("span",{className:"text-xs font-semibold",children:o(_.label)})]},_.value))}),w.iconClass&&r.jsx(ke.p,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-red-600 dark:text-red-400 text-xs font-medium flex items-center gap-1",children:w.iconClass})]}),i&&r.jsxs(ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex items-center justify-between p-5 bg-gradient-to-r from-gray-50 to-gray-100/80 dark:from-gray-800/50 dark:to-gray-700/30 rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-sm ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:[" ",o("tableManagement.categories.deleteCategory")]}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:d.isActive?o("tableManagement.descriptionActive"):o("tableManagement.descriptionInActive")})]}),r.jsx("button",{type:"button",onClick:()=>c(_=>({..._,isActive:!_.isActive})),className:`relative inline-flex h-7 w-14 items-center rounded-full transition-all duration-300 shadow-lg ${d.isActive?"bg-gradient-to-r from-primary-500 to-primary-600 shadow-primary-500/50":"bg-gray-300 dark:bg-gray-600 shadow-gray-400/30"}`,"aria-label":"Toggle active status",children:r.jsx(ke.span,{layout:!0,transition:{type:"spring",stiffness:500,damping:30},className:`inline-block h-5 w-5 transform rounded-full bg-white shadow-lg ${l?d.isActive?"translate-x-1":"translate-x-8":d.isActive?"translate-x-8":"translate-x-1"}`})})]}),!i&&!a&&x.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-200 ${l?"text-right":""}`,children:[r.jsx($r,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),o("TableCategoryModal.branchSelection")]}),r.jsxs("div",{className:"relative group",children:[r.jsx("select",{value:v??"",onChange:_=>j(Number(_.target.value)),className:`
                          w-full px-5 py-3.5 rounded-2xl border-2 transition-all duration-300 appearance-none cursor-pointer
                          bg-white dark:bg-gray-800/50 
                          text-gray-900 dark:text-gray-100
                          border-gray-200 dark:border-gray-600
                          hover:border-primary-300 dark:hover:border-primary-600 hover:shadow-lg hover:shadow-primary-500/10
                          focus:outline-none focus:ring-4 focus:ring-primary-500/30 focus:border-primary-500 focus:shadow-xl focus:shadow-primary-500/20
                          ${l?"text-right":"text-left"}
                        `,"aria-label":o("TableCategoryModal.accessibility.branchDropdown"),dir:l?"rtl":"ltr",children:x.map(_=>r.jsx("option",{value:_.id,className:"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:_.name},_.id))}),r.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-r from-primary-500/0 via-primary-500/5 to-purple-500/0 rounded-2xl opacity-0 group-focus-within:opacity-100 transition-opacity duration-300"})]})]}),r.jsxs("div",{className:`flex gap-4 pt-6 ${l?"flex-row-reverse":""}`,children:[r.jsx(ke.button,{type:"button",onClick:t,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 px-6 py-3.5 text-sm font-semibold text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-2xl transition-all duration-300 border-2 border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 shadow-md hover:shadow-lg",children:o("TableCategoryModal.cancel")}),r.jsx(ke.button,{type:"submit",disabled:g,whileHover:{scale:g?1:1.02},whileTap:{scale:g?1:.98},className:"flex-1 px-6 py-3.5 text-sm font-semibold text-white bg-gradient-to-r from-primary-600 via-primary-500 to-purple-600 hover:from-primary-700 hover:via-primary-600 hover:to-purple-700 dark:from-primary-500 dark:via-primary-600 dark:to-purple-600 dark:hover:from-primary-600 dark:hover:via-primary-700 dark:hover:to-purple-700 rounded-2xl transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-primary-500/40 disabled:opacity-60 disabled:cursor-not-allowed disabled:transform-none shadow-xl hover:shadow-2xl shadow-primary-500/50 hover:shadow-primary-500/60",children:g?r.jsxs("div",{className:`flex items-center justify-center gap-2 ${l?"flex-row-reverse":""}`,children:[r.jsx(ke.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full"}),i?"Updating...":o("TableCategoryModal.saving")]}):i?"Update Category":o("TableCategoryModal.addCategory")})]})]})]})})]})})},ybe=({isOpen:e,onClose:t,qrData:a,onChange:n,isSubmitting:s,isEditMode:i=!1,onSuccess:o,selectedBranchForEdit:l,categories:d})=>{const{t:c,isRTL:g}=Ze(),[h,x]=p.useState("selection"),[b,v]=p.useState(!1),[j,w]=p.useState(null),[S,M]=p.useState([]),[T,A]=p.useState(null),[I,_]=p.useState([]),[D,E]=p.useState(!1),[X,ee]=p.useState(!1),[Z,B]=p.useState({menuTableName:"",menuTableCategoryId:0,capacity:4,displayOrder:0,isActive:!0}),[G,J]=p.useState([]),[ce,te]=p.useState(!0);p.useEffect(()=>{e&&w(null)},[e]),p.useEffect(()=>{e&&(i&&l?(A(l.branchId),d&&(_(d),N.info("Edit mode: Using passed categories",{categories:d}))):K(),x(i?"single":"selection"),i&&a&&(B(fe=>({...fe,menuTableName:a.menuTableName||"",menuTableCategoryId:a.menuTableCategoryId||0,capacity:a.capacity||4,displayOrder:a.displayOrder??0,isActive:a.isActive!==void 0?a.isActive:!0})),N.info("Edit mode: Pre-filling form data",{menuTableName:a.menuTableName,menuTableCategoryId:a.menuTableCategoryId,capacity:a.capacity,displayOrder:a.displayOrder,isActive:a.isActive})))},[e,i,a,l,d]),p.useEffect(()=>{T&&!i?(N.info("ube seildi, kategoriler fetch ediliyor",{selectedBranchId:T}),Y(T)):!T&&!i&&_([])},[T,i]);const K=async()=>{E(!0);try{const fe=await oa.getBranchesDropdown();M(fe),N.info("ubeler baaryla yklendi:",fe)}catch(fe){N.error("ubeler yklenemedi:",fe),w(c("QRCodeModal.error.branchLoadFailed"))}finally{E(!1)}},Y=async fe=>{N.info("fetchTableCategories balatlyor",{branchId:fe}),ee(!0),_([]);try{const se=await oa.getTableCategories(fe,!0,!1);N.info("API response kategoriler alnd",{data:se}),_(se),se.length>0?(N.info("lk kategori seiliyor",{category:se[0]}),B(ie=>({...ie,menuTableCategoryId:se[0].id})),J([])):(N.warn("Hi kategori bulunamad"),B(ie=>({...ie,menuTableCategoryId:0}))),N.info("Kategoriler baaryla yklendi",{data:se})}catch(se){N.error("Kategori fetch hatas",se),_([]),w(c("QRCodeModal.error.categoryLoadFailed"))}finally{N.info("fetchTableCategories tamamland"),ee(!1)}},re=()=>{x("selection"),A(null),_([]),J([]),B({menuTableName:"",menuTableCategoryId:0,capacity:4,displayOrder:0,isActive:!0}),te(!0),w(null),v(!1),t()},ne=async fe=>{fe.preventDefault(),v(!0),w(null);const se=i?l?.branchId:T;if(!se){w(c("QRCodeModal.error.branchRequired")),v(!1);return}if(Z.menuTableCategoryId===0){w(c("QRCodeModal.error.categoryRequired")),v(!1);return}try{if(i){if(!a.id)throw new Error("Table ID is required for update");const ie={id:a.id,menuTableName:Z.menuTableName||null,menuTableCategoryId:Z.menuTableCategoryId,capacity:Z.capacity,isActive:Z.isActive,isOccupied:a.isOccupied||!1,rowVersion:a.rowVersion||""};await oa.updateTable(a.id,se,ie),N.info("Table updated successfully",{tableId:a.id,updateData:ie,branchId:se})}else{const ie={menuTableName:Z.menuTableName||null,menuTableCategoryId:Z.menuTableCategoryId,capacity:Z.capacity,displayOrder:Z.displayOrder,isActive:Z.isActive};await oa.createTable(ie,se),N.info("Table created successfully",{createData:ie,branchId:se})}o&&o(),re()}catch(ie){N.error("Table operation failed:",ie);let ue=c("QRCodeModal.error.operationFailed");ie.response?.status===400?ie.response?.data?.message?.includes("Branch information")?ue="Branch information could not be determined. Please refresh and try again.":ue=c("QRCodeModal.error.invalidData"):ie.response?.status===404?ue=c("QRCodeModal.error.tableNotFound"):ie.response?.status===409?ue=c("QRCodeModal.error.concurrencyIssue"):ie.response?.status===401?ue=c("QRCodeModal.error.unauthorized"):ie.message&&(ue=ie.message),w(ue)}finally{v(!1)}},z=async fe=>{if(fe.preventDefault(),v(!0),w(null),!T||G.length===0){w(c("QRCodeModal.error.bulkDataRequired")),v(!1);return}const ie={items:G.map(le=>({categoryId:le.categoryId,quantity:le.quantity,capacity:le.capacity,displayOrder:le.displayOrder,isActive:le.isActive}))},ue=G.reduce((le,xe)=>le+xe.quantity,0);try{N.info(`Toplu masa oluturma balatlyor: ${ue} masa`,{branchId:T,categories:G.map(ze=>({categoryId:ze.categoryId,quantity:ze.quantity,capacity:ze.capacity}))},{prefix:"QRCodeModal"});const le=new Promise((ze,Le)=>{setTimeout(()=>{Le(new Error(c("QRCodeModal.error.timeout")))},12e4)}),xe=oa.createBatchTables(ie,T);await Promise.race([xe,le]),N.info(`${ue} adet masa baaryla oluturuldu`,{branchId:T,totalTables:ue},{prefix:"QRCodeModal"}),o&&o(),re()}catch(le){N.error("Toplu masa oluturma hatas:",le,{prefix:"QRCodeModal"});let xe=c("QRCodeModal.error.batchCreateFailed");le.message?.includes("timeout")||le.message?.includes("zaman am")?(xe=c("QRCodeModal.error.timeoutAdvice"),N.warn("Batch ilem timeout hatas",{totalTables:ue},{prefix:"QRCodeModal"})):le.response?.status===400?(xe=c("QRCodeModal.error.invalidBatchData"),N.warn("Batch ilem validation hatas",le.response.data,{prefix:"QRCodeModal"})):le.response?.status===500?(xe=c("QRCodeModal.error.serverError"),N.error("Batch ilem server hatas",le.response.data,{prefix:"QRCodeModal"})):le.response?.status===401&&(xe=c("QRCodeModal.error.sessionExpired"),N.warn("Batch ilem authentication hatas",{prefix:"QRCodeModal"})),w(xe),console.error(" Toplu masa oluturma hatas:",xe)}finally{v(!1)}},V=()=>{if(I.length===0)return;const fe=I.filter(se=>!G.find(ie=>ie.categoryId===se.id));fe.length>0&&J(se=>[...se,{categoryId:fe[0].id,quantity:1,capacity:4,displayOrder:null,isActive:ce}])},F=fe=>{J(se=>se.filter((ie,ue)=>ue!==fe))},$=(fe,se,ie)=>{J(ue=>ue.map((le,xe)=>xe===fe?{...le,[se]:ie}:le))},q=()=>G.reduce((fe,se)=>fe+se.quantity,0),H=()=>j?r.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsx("div",{className:"ml-3",children:r.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:j})}),r.jsx("div",{className:"ml-auto pl-3",children:r.jsxs("button",{onClick:()=>w(null),className:"inline-flex text-red-400 hover:text-red-600 dark:hover:text-red-300",children:[r.jsx("span",{className:"sr-only",children:"Dismiss"}),r.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}):null;if(!e)return null;const Q=()=>r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{htmlFor:"branchSelect",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[c("QRCodeModal.branchSelection"),"*"]}),r.jsxs("select",{id:"branchSelect",value:T||"",onChange:fe=>A(fe.target.value?parseInt(fe.target.value):null),required:!0,disabled:D,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400 disabled:opacity-50","aria-label":c("QRCodeModal.accessibility.branchSelector"),children:[r.jsx("option",{value:"",children:c(D?"QRCodeModal.loadingBranches":"QRCodeModal.selectBranch")}),S.map(fe=>r.jsx("option",{value:fe.branchId,children:fe.branchName},fe.branchId))]})]}),de=()=>r.jsxs("div",{className:`space-y-6 ${g?"text-right":"text-left"}`,children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:c("QRCodeModal.tableAddOption")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:c("QRCodeModal.howToAddTables")})]}),H(),Q(),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("button",{onClick:()=>x("single"),disabled:!T||X,className:"p-6 border-2 border-gray-200 dark:border-gray-600 rounded-xl hover:border-blue-500 dark:hover:border-blue-400 hover:shadow-md transition-all duration-200 group disabled:opacity-50 disabled:cursor-not-allowed","aria-label":c("QRCodeModal.createSingleTable"),children:r.jsxs("div",{className:`flex flex-col items-center space-y-3 ${g?"text-right":"text-left"}`,children:[r.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg group-hover:bg-blue-200 dark:group-hover:bg-blue-900/50 transition-colors",children:r.jsx($r,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c("QRCodeModal.singleTable")}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c("QRCodeModal.createSingleTable")})]})]})}),r.jsx("button",{onClick:()=>x("bulk"),disabled:!T||X,className:"p-6 border-2 border-gray-200 dark:border-gray-600 rounded-xl hover:border-blue-500 dark:hover:border-blue-400 hover:shadow-md transition-all duration-200 group disabled:opacity-50 disabled:cursor-not-allowed","aria-label":c("QRCodeModal.createMultipleTables"),children:r.jsxs("div",{className:`flex flex-col items-center space-y-3 ${g?"text-right":"text-left"}`,children:[r.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg group-hover:bg-green-200 dark:group-hover:bg-green-900/50 transition-colors",children:r.jsx($r,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c("QRCodeModal.bulkTable")}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c("QRCodeModal.createMultipleTables")})]})]})})]}),X&&r.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:c("QRCodeModal.loadingCategories")})]}),me=()=>r.jsxs("div",{className:`space-y-6 ${g?"text-right":"text-left"}`,children:[r.jsxs("div",{className:`flex items-center space-x-3 ${g?"flex-row-reverse space-x-reverse":""}`,children:[!i&&r.jsx("button",{onClick:()=>x("selection"),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300","aria-label":c("QRCodeModal.accessibility.backButton"),children:g?"":""}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:c(i?"QRCodeModal.editTable":"QRCodeModal.addSingleTable")})]}),H(),!i&&Q(),r.jsxs("form",{onSubmit:ne,className:"space-y-4",role:"form","aria-label":c("QRCodeModal.accessibility.tableForm"),children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"menuTableName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("QRCodeModal.tableName")}),r.jsx("input",{type:"text",id:"menuTableName",value:Z.menuTableName||"",onChange:fe=>{B({...Z,menuTableName:fe.target.value}),n&&n("menuTableName",fe.target.value)},className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400",placeholder:c("QRCodeModal.tableNamePlaceholder")}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:c("QRCodeModal.autoNameNote")})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"menuTableCategoryId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[c("QRCodeModal.tableCategory"),"*",!1]}),r.jsxs("select",{id:"menuTableCategoryId",value:Z.menuTableCategoryId,onChange:fe=>{const se=parseInt(fe.target.value);N.info("Kategori seildi",{categoryId:se}),B({...Z,menuTableCategoryId:se}),n&&n("menuTableCategoryId",fe.target.value)},required:!0,disabled:X||I.length===0,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400 disabled:opacity-50","aria-label":c("QRCodeModal.accessibility.categorySelector"),children:[r.jsx("option",{value:0,children:X?c("QRCodeModal.loadingCategories"):I.length===0?c("QRCodeModal.noCategories"):c("QRCodeModal.selectCategory")}),I.map(fe=>r.jsx("option",{value:fe.id,children:fe.categoryName},fe.id))]}),!1,i&&l&&r.jsxs("p",{className:"text-xs text-blue-500 mt-1",children:["Editing table for branch: ",l.branchName," | Categories loaded: ",I.length]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"capacity",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[c("QRCodeModal.capacity"),"*"]}),r.jsx("input",{type:"number",id:"capacity",min:"1",max:"20",value:Z.capacity,onChange:fe=>{const se=parseInt(fe.target.value)||1;B({...Z,capacity:se}),n&&n("capacity",fe.target.value)},required:!0,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400",placeholder:c("QRCodeModal.capacityPlaceholder")})]}),!i&&r.jsx("div",{children:r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:c("QRCodeModal.autoOrderNote")})}),r.jsxs("div",{className:`flex items-center ${g?"flex-row-reverse":""}`,children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:Z.isActive,onChange:fe=>{B({...Z,isActive:fe.target.checked}),n&&n("isActive",fe.target.checked.toString())},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"isActive",className:`block text-sm text-gray-700 dark:text-gray-300 ${g?"mr-2":"ml-2"}`,children:c("QRCodeModal.tableActive")})]}),r.jsxs("div",{className:`flex justify-end space-x-4 pt-4 ${g?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx("button",{type:"button",onClick:re,disabled:b,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none disabled:opacity-50","aria-label":c("QRCodeModal.cancel"),children:c("QRCodeModal.cancel")}),r.jsxs("button",{type:"submit",disabled:b||!i&&!T||Z.menuTableCategoryId===0,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[b&&r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),r.jsx("span",{children:c(b?i?"QRCodeModal.updating":"QRCodeModal.adding":i?"QRCodeModal.update":"QRCodeModal.addTable")})]})]})]})]}),je=()=>r.jsxs("div",{className:`space-y-6 ${g?"text-right":"text-left"}`,children:[r.jsxs("div",{className:`flex items-center space-x-3 ${g?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx("button",{onClick:()=>x("selection"),disabled:b,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 disabled:opacity-50","aria-label":c("QRCodeModal.accessibility.backButton"),children:g?"":""}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:c("QRCodeModal.addBulkTables")})]}),H(),Q(),r.jsxs("form",{onSubmit:z,className:"space-y-6",role:"form","aria-label":c("QRCodeModal.accessibility.bulkForm"),children:[r.jsxs("div",{children:[r.jsxs("div",{className:`flex items-center justify-between mb-4 ${g?"flex-row-reverse":""}`,children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[c("QRCodeModal.categoryQuantities"),"*"]}),r.jsxs("button",{type:"button",onClick:V,disabled:I.length===0||G.length>=I.length||b,className:`inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed ${g?"flex-row-reverse":""}`,children:[r.jsx(Ut,{className:`h-3 w-3 ${g?"ml-1":"mr-1"}`}),c("QRCodeModal.addCategory")]})]}),r.jsxs("div",{className:"space-y-4",children:[G.map((fe,se)=>r.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[r.jsxs("div",{className:`flex items-center justify-between mb-3 ${g?"flex-row-reverse":""}`,children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[c("QRCodeModal.category")," ",se+1]}),r.jsx("button",{type:"button",onClick:()=>F(se),disabled:b,className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50",children:r.jsx(ds,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("QRCodeModal.category")}),r.jsx("select",{title:"categoryId",value:fe.categoryId,onChange:ie=>$(se,"categoryId",parseInt(ie.target.value)),required:!0,disabled:b,className:"w-full text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-2 py-1.5 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400 disabled:opacity-50",children:I.filter(ie=>ie.id===fe.categoryId||!G.find(ue=>ue.categoryId===ie.id)).map(ie=>r.jsx("option",{value:ie.id,children:ie.categoryName},ie.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("QRCodeModal.tableCount")}),r.jsx("input",{title:"number",type:"number",min:"1",max:"50",value:fe.quantity,onChange:ie=>$(se,"quantity",parseInt(ie.target.value)||1),required:!0,disabled:b,className:"w-full text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-2 py-1.5 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400 disabled:opacity-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("QRCodeModal.capacity")}),r.jsx("input",{title:"number",type:"number",min:"1",max:"20",value:fe.capacity,onChange:ie=>$(se,"capacity",parseInt(ie.target.value)||1),required:!0,disabled:b,className:"w-full text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-2 py-1.5 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400 disabled:opacity-50"})]})]})]},se)),G.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:c("QRCodeModal.addCategory")})]})]}),r.jsxs("div",{className:`flex items-center ${g?"flex-row-reverse":""}`,children:[r.jsx("input",{type:"checkbox",id:"bulkIsActive",checked:ce,onChange:fe=>te(fe.target.checked),disabled:b,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"}),r.jsx("label",{htmlFor:"bulkIsActive",className:`block text-sm text-gray-700 dark:text-gray-300 ${g?"mr-2":"ml-2"}`,children:c("QRCodeModal.allTablesActive")})]}),G.length>0&&r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:c("QRCodeModal.tableSummary")}),r.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[G.map((fe,se)=>{const ie=I.find(ue=>ue.id===fe.categoryId);return r.jsxs("div",{children:[" ",ie?.categoryName,": ",fe.quantity," ",c("QRCodeModal.tables")," (",fe.capacity," ",c("QRCodeModal.capacity"),")"]},se)}),r.jsxs("div",{className:"pt-2 border-t border-blue-200 dark:border-blue-700 font-medium",children:[c("QRCodeModal.total"),": ",q()," ",c("QRCodeModal.tables")]})]})]}),r.jsxs("div",{className:`flex justify-end space-x-4 pt-4 ${g?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx("button",{type:"button",onClick:re,disabled:b,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none disabled:opacity-50",children:c("QRCodeModal.cancel")}),r.jsx("button",{type:"submit",disabled:b||!T||G.length===0,className:`px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 ${g?"flex-row-reverse space-x-reverse":""}`,children:b?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:c("QRCodeModal.creating").replace("{count}",q().toString())})]}):r.jsx("span",{children:c("QRCodeModal.createTables").replace("{count}",q().toString())})})]})]})]});return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-label":c("QRCodeModal.accessibility.modal"),children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:b?void 0:re}),r.jsxs("div",{className:`relative w-full max-w-4xl rounded-xl bg-white dark:bg-gray-800 p-6 shadow-lg max-h-[90vh] overflow-y-auto ${g?"text-right":"text-left"}`,children:[r.jsxs("div",{className:`flex items-center justify-between mb-6 ${g?"flex-row-reverse":""}`,children:[r.jsx("div",{}),r.jsx("button",{onClick:re,disabled:b,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 transition-colors disabled:opacity-50","aria-label":c("QRCodeModal.accessibility.closeButton"),children:r.jsx(xt,{className:"h-6 w-6"})})]}),h==="selection"&&de(),h==="single"&&me(),h==="bulk"&&je()]})]})})},bbe=({selectedBranch:e})=>{const{t,isRTL:a}=Ze(),[n,s]=p.useState([]),[i,o]=p.useState(null),[l,d]=p.useState([]),[c,g]=p.useState([]),[h,x]=p.useState({}),[b,v]=p.useState(!1),[j,w]=p.useState(!1),[S,M]=p.useState(null),[T,A]=p.useState(!1),[I,_]=p.useState(null),[D,E]=p.useState(!1),[X,ee]=p.useState(!1),[Z,B]=p.useState(!1),[G,J]=p.useState(null),[ce,te]=p.useState(!1),[K,Y]=p.useState(null),[re,ne]=p.useState(!1),[z,V]=p.useState(null),[F,$]=p.useState(!1),[q,H]=p.useState(null),[Q,de]=p.useState({isOpen:!1,table:null}),me=Lr.useRef(null);Ss(me,()=>w(!1));const je=Se=>{if(!Se)return"";const Ye=`${window.location.origin}/table/qr/${Se}`;return`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(Ye)}`},fe=()=>{de({isOpen:!1,table:null})},se=Ra(),ie=localStorage.getItem("token")||"",ue={onTableChanged:Se=>{N.info("TableChanged event alnd",Se),le()},onTablesBatchCreated:Se=>{N.info("TablesBatchCreated event alnd",Se),le()},onTableCategoryChanged:Se=>{N.info("TableCategoryChanged event alnd",Se),le()},onTableStatusChanged:Se=>{N.info("TableStatusChanged event alnd",Se),d(_e=>_e.map(Ye=>Ye.id===Se.tableId?{...Ye,isOccupied:Se.isOccupied,status:Se.status}:Ye))},onRefreshTableList:Se=>{N.info("RefreshTableList event alnd",Se),le()},onError:Se=>{N.error("SignalR Error:",Se.message)}};QX(ie,i?.branchId??0,ue),p.useEffect(()=>{(async()=>{try{const _e=await oa.getBranchesDropdown();s(_e),_e.length>0&&!i&&o(_e[0])}catch(_e){N.error("ube listesi yklenirken hata:",_e),M(_e.response.data.message)}})()},[t]),p.useEffect(()=>{i&&le()},[i]),p.useEffect(()=>{xe()},[l,c]);const le=async()=>{if(i){v(!0),M(null);try{const[Se,_e]=await Promise.all([oa.getTables(i.branchId),oa.getTableCategories(i.branchId,!1,!0)]);d(Se),g(_e),N.info("Masalar ve kategoriler baaryla yklendi",{branchId:i.branchId,tablesCount:Se.length,categoriesCount:_e.length})}catch(Se){N.error("Masalar ve kategoriler yklenirken hata:",Se),M(Se.response.data.message)}finally{v(!1)}}},xe=()=>{const Se={};c.forEach(_e=>{Se[_e.id.toString()]={category:_e,tables:[]}}),l.forEach(_e=>{const Ye=_e.menuTableCategoryId.toString();Se[Ye]&&Se[Ye].tables.push(_e)}),x(Se)},ze=Se=>{o(Se),w(!1)},Le=()=>{if(c.length===0){M(t("tableManagement.error.createCategoryFirst")||"Please create a table category first."),window.scrollTo({top:0,behavior:"smooth"});return}_(null),A(!0)},ut=Se=>{const _e=c.find(Ft=>Ft.id===Se.menuTableCategoryId),Ye={...Se,categoryName:_e?.categoryName||""};_(Ye),A(!0)},kt=Se=>{J(Se),B(!0)},qt=async()=>{if(!G||!i?.branchId)throw new Error(t("TableManagement.error.branchRequired"));te(!0);const Se=G;d(_e=>_e.filter(Ye=>Ye.id!==G.id));try{await oa.deleteTable(G.id,i.branchId),N.info("Table deleted successfully:",{id:G.id,branchId:i.branchId}),J(null),B(!1)}catch(_e){N.error("Table deletion error:",_e),d(Ft=>[...Ft,Se].sort((Tt,nr)=>Tt.id-nr.id));let Ye=t("TableManagement.error.deleteFailed");throw _e.response?.status===400?_e.response?.data?.message?.includes("Branch information")?Ye="Branch information could not be determined. Please refresh and try again.":Ye=t("TableManagement.error.invalidRequest"):_e.response?.status===404?Ye=t("TableManagement.error.tableNotFound"):_e.response?.status===409?Ye=t("TableManagement.error.tableInUse"):_e.message&&(Ye=_e.message),M(_e.response.data.message),setTimeout(()=>M(null),5e3),new Error(Ye)}finally{te(!1)}},hr=()=>{B(!1),J(null)},jr=async Se=>{const _e=l.find(Ft=>Ft.id===Se);if(!_e)return;const Ye=!_e.isActive;d(Ft=>Ft.map(Tt=>Tt.id===Se?{...Tt,isActive:Ye}:Tt));try{await oa.toggleTableStatus(Se,i?.branchId??0,Ye),N.info("Table status updated:",{id:Se,newStatus:Ye})}catch(Ft){N.error("Masa durumu gncellenirken hata:",Ft),M(Ft.response.data.message),d(Tt=>Tt.map(nr=>nr.id===Se?{...nr,isActive:!Ye}:nr)),setTimeout(()=>M(null),5e3)}},nt=Se=>{Se.qrCodeUrl&&window.open(Se.qrCodeUrl,"_blank"),N.info("Download QR:",Se)},rt=()=>I?{...I,branchId:i?.branchId,branchName:i?.branchName}:{},Pr=()=>{le(),A(!1),_(null),M(null)},Ht=()=>{A(!1),_(null),M(null)},Wt=()=>{Y(null),ee(!0)},ge=Se=>{Y(Se),ee(!0),H(null)},ye=Se=>{V(Se),ne(!0),H(null)},Be=async()=>{if(!z)throw new Error("Category not selected");$(!0);try{await Fa.deleteCategory(z.id,i?.branchId),N.info("Category deleted successfully:",{id:z.id}),await le(),V(null),ne(!1)}catch(Se){N.error("Category deletion error:",Se);let _e="Failed to delete category";throw Se.response?.status===409?_e="Cannot delete category with existing tables":Se.response?.status===404?_e="Category not found":Se.message&&(_e=Se.message),M(Se.response.data.message),setTimeout(()=>M(null),5e3),new Error(_e)}finally{$(!1)}},Qe=()=>{ne(!1),V(null)},pt=Se=>{de({isOpen:!0,table:Se})},Ce=()=>{ee(!1),Y(null)},we=()=>{le(),ee(!1),Y(null)},be=Se=>{H(q===Se?null:Se)},Ie=()=>S?r.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl shadow-lg",role:"alert",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0 pt-0.5",children:r.jsx("svg",{className:"h-6 w-6 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsx("div",{className:"ml-3",children:r.jsx("p",{className:"text-base font-medium text-red-800 dark:text-red-200",children:S})}),r.jsx("div",{className:"ml-auto pl-3",children:r.jsx("button",{onClick:()=>M(null),className:"inline-flex text-red-400 hover:text-red-600 dark:hover:text-red-300 transition-colors rounded-full p-1","aria-label":t("TableManagement.accessibility.dismissError"),children:r.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}):null;return S&&!l.length?r.jsx("div",{className:`flex items-center justify-center min-h-[60vh] bg-white dark:bg-gray-900 rounded-xl p-8 shadow-2xl ${a?"text-right":"text-left"}`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xl font-semibold text-red-600 dark:text-red-400 mb-6",children:S}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 transition-colors shadow-md",children:t("tableManagement.refresh")})]})}):r.jsx("div",{className:`p-6 bg-gray-50 dark:bg-gray-900 min-h-screen ${a?"text-right":"text-left"}`,children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 pb-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:t("tableManagement.title")}),r.jsxs("div",{className:`flex items-center gap-4 ${a?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"relative z-30",ref:me,children:[r.jsxs("button",{title:"Branch Dropdown",onClick:()=>w(!j),className:`flex items-center justify-between min-w-[220px] px-5 py-2.5 text-base font-semibold text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-xl shadow-sm hover:bg-blue-100 dark:hover:bg-blue-900 focus:outline-none focus:ring-4 focus:ring-blue-300/50 dark:focus:ring-blue-800/50 transition-all duration-200 ${a?"flex-row-reverse":""}`,"aria-label":t("tableManagement.accessibility.branchSelector"),"aria-haspopup":"true",children:[r.jsxs("span",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx(Qr,{className:`h-5 w-5 ${a?"ml-2":"mr-2"}`}),i?i.branchName:t("tableManagement.selectBranch")]}),r.jsx(Rr,{className:`h-4 w-4 transition-transform duration-200 ${j?"transform rotate-180":""} ${a?"mr-2":"ml-2"}`})]}),j&&r.jsx(ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:`absolute z-20 mt-2 w-full min-w-[220px] bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-100 dark:border-gray-700 py-1 max-h-80 overflow-auto ${a?"right-0":"left-0"}`,children:n.length===0?r.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:t("TableManagement.error.loadFailed")}):n.map(Se=>r.jsx("button",{onClick:()=>ze(Se),className:`w-full px-4 py-2 text-sm transition-colors duration-150 ${a?"text-right":"text-left"} ${i?.branchId===Se.branchId?"bg-blue-50 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 font-semibold":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:Se.branchName},Se.branchId))})]}),r.jsxs("button",{onClick:Le,disabled:c.length===0,className:`inline-flex items-center px-4 py-2.5 border border-transparent text-sm font-medium rounded-xl shadow-md text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 ${a?"flex-row-reverse":""}`,title:c.length===0?t("tableManagement.error.createCategoryFirst")||"Create a category first":"",children:[r.jsx(g2,{className:`h-5 w-5 ${a?"ml-2":"mr-2"}`}),t("tableManagement.addTable")||"Add Table"]}),r.jsxs("button",{onClick:Wt,className:`inline-flex items-center px-4 py-2.5 border border-transparent text-sm font-medium rounded-xl shadow-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 ${a?"flex-row-reverse":""}`,"aria-label":t("tableManagement.accessibility.addCategoryButton"),children:[r.jsx(Ut,{className:`h-5 w-5 ${a?"ml-2":"mr-2"}`}),t("tableManagement.categories.addCategory")]}),r.jsxs("button",{onClick:()=>{se("/dashboard/RecycleBin",{state:{source:"tables",branchId:i?.branchId}})},className:"flex items-center gap-2 px-4 py-2.5 text-sm font-medium text-red-600 bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-700 hover:bg-red-100 dark:hover:bg-red-900 rounded-xl transition-colors duration-200 shadow-sm",children:[r.jsx(wr,{className:"h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline",children:t("productsContent.actions.RecycleBin")})]})]})]}),Ie(),i?b?r.jsx("div",{className:"flex items-center justify-center min-h-[400px] bg-white dark:bg-gray-800 rounded-xl shadow-lg p-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-4 border-gray-300 dark:border-gray-600 border-t-blue-600 mb-4"}),r.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400",children:t("tableManagement.loading")})]})}):r.jsx("div",{className:"space-y-12",children:Object.keys(h).length===0&&l.length===0?r.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[r.jsx($r,{className:"h-16 w-16 mx-auto text-gray-400 mb-6"}),r.jsx("p",{className:"text-lg font-medium text-gray-600 dark:text-gray-300 mb-6",children:t("tableManagement.noCategories")}),r.jsxs("button",{onClick:Wt,className:`inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-xl shadow-lg text-white bg-blue-600 hover:bg-blue-700 transition-colors ${a?"flex-row-reverse":""}`,children:[r.jsx(Ut,{className:`h-5 w-5 ${a?"ml-2":"mr-2"}`}),t("tableManagement.createFirstCategory")]})]}):Object.entries(h).map(([Se,{category:_e,tables:Ye}])=>r.jsxs("section",{className:"space-y-6",role:"region","aria-label":`${_e.categoryName} ${t("tableManagement.accessibility.categorySection")}`,children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-2xl shadow-md border-t-4",style:{borderTopColor:_e.colorCode||"#3B82F6"},children:[r.jsxs("div",{className:`flex items-center space-x-3 ${a?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:_e.categoryName}),r.jsxs("span",{className:"px-3 py-1 text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full",children:[Ye.length," ",Ye.length===1?"table":"tables"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:Ft=>{Ft.stopPropagation(),be(_e.id)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":"Category Actions",children:r.jsx(Nx,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),q===_e.id&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>H(null)}),r.jsxs(ke.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:`absolute ${a?"left-0":"right-0"} mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 py-1 z-50`,children:[r.jsxs("button",{onClick:()=>ge(_e),className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2 transition-colors",children:[r.jsx(bo,{className:"h-4 w-4"}),t("tableManagement.categories.editCategory")]}),r.jsxs("button",{onClick:()=>ye(_e),className:"w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 transition-colors",children:[r.jsx(wr,{className:"h-4 w-4"}),t("tableManagement.categories.deleteCategory")]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",role:"grid","aria-label":`${_e.categoryName} ${t("tableManagement.accessibility.tablesGrid")}`,children:[Ye.map((Ft,Tt)=>r.jsx(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:Tt*.05,duration:.3},role:"gridcell",children:r.jsx(cD,{table:Ft,onEdit:ut,onDelete:()=>kt(Ft),onToggleStatus:jr,onDownload:nt,onShowQRCode:pt,isToggling:!1})},Ft.id)),r.jsx(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:Ye.length*.05,duration:.3},role:"gridcell",children:r.jsx(pbe,{onClick:Le})})]})]},Se))}):r.jsx("div",{className:"flex items-center justify-center min-h-[400px] bg-white dark:bg-gray-800 rounded-xl shadow-lg p-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Qr,{className:"h-16 w-16 mx-auto text-blue-500 mb-6"}),r.jsx("p",{className:"text-xl font-medium text-gray-700 dark:text-gray-300",children:t("tableManagement.selectBranchPrompt")})]})}),r.jsx(ybe,{isOpen:T,onClose:Ht,qrData:rt(),onChange:(Se,_e)=>{I&&_({...I,[Se]:_e})},onSubmit:()=>{},isSubmitting:D,isEditMode:!!I,selectedBranchForEdit:i,categories:c,onSuccess:Pr}),Q.table&&r.jsx(vbe,{isOpen:Q.isOpen,onClose:fe,table:Q.table,qrCodeImageUrl:je(Q.table.qrCode||"")}),r.jsx(xbe,{isOpen:X,onClose:Ce,selectedBranch:e,onSuccess:we,editingCategory:K,isEditMode:!!K}),r.jsx(Ql,{isOpen:Z,onClose:hr,onConfirm:qt,title:t("tableManagement.deleteModal.title"),message:t("tableManagement.deleteModal.message"),isSubmitting:ce,itemType:"table",itemName:G?.menuTableName||""}),r.jsx(Ql,{isOpen:re,onClose:Qe,onConfirm:Be,title:t("branchCategories.deleteModal.title"),message:t("branchCategories.deleteModal.message"),isSubmitting:F,itemType:"category",itemName:z?.categoryName||""})]})})},vbe=({isOpen:e,onClose:t,table:a,qrCodeImageUrl:n})=>{const{t:s}=Ze(),[i,o]=p.useState(!1),[l,d]=p.useState(!1);if(!e)return null;const c=()=>`${window.location.origin}/table/qr/${a.qrCode}`,g=async()=>{o(!0);try{const b=await(await fetch(n)).blob(),v=window.URL.createObjectURL(b),j=document.createElement("a");j.href=v,j.download=`table-${a.menuTableName}-qr.png`,document.body.appendChild(j),j.click(),window.URL.revokeObjectURL(v),document.body.removeChild(j)}catch(x){console.error("Error downloading QR code:",x)}finally{o(!1)}},h=async()=>{d(!0);try{await navigator.clipboard.writeText(c()),setTimeout(()=>d(!1),2e3)}catch(x){console.error("Error copying URL:",x),d(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s("BranchTableManagement.qrCodeTitle",{tableName:a.menuTableName})}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(xt,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"bg-white p-4 rounded-xl border-2 border-gray-200 inline-block",children:r.jsx("img",{src:n,alt:s("BranchTableManagement.qrCodeTitle",{tableName:a.menuTableName}),className:"w-48 h-48 mx-auto",onError:x=>{x.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMDAgNzBDOTQuNDc3MiA3MCA5MCA3NC40NzcyIDkwIDgwVjEyMEM5MCA5NC40NzcyIDk0LjQ3NzIgOTAgMTAwIDkwSDE0MEM5NC40NzcyIDkwIDkwIDk0LjQ3NzIgOTAgMTAwVjE0MEg5MFY4MEg5MFY3MEgxMDBaIiBmaWxsPSIjOUI5QkEwIi8+Cjx0ZXh0IHg9IjEwMCIgeT0iMTMwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5QjlCQTAiIHRleHQtYW5jaG9yPSJtaWRkbGUiPk5vIFFSIENvZGU8L3RleHQ+Cjwvc3ZnPgo="}})}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-3",children:s("BranchTableManagement.qrCodeDescription")})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:g,disabled:i,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[i?r.jsx(mt,{className:"h-4 w-4 animate-spin"}):r.jsx(Ws,{className:"h-4 w-4"}),s(i?"BranchTableManagement.downloading":"BranchTableManagement.downloadQR")]}),r.jsx("button",{onClick:h,className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center gap-2",children:l?r.jsxs(r.Fragment,{children:[r.jsx(tr,{className:"h-4 w-4 text-green-600"}),s("BranchTableManagement.copied")]}):r.jsxs(r.Fragment,{children:[r.jsx(Ws,{className:"h-4 w-4"}),s("BranchTableManagement.copyQRUrl")]})})]})]})})};var ht=(e=>(e[e.Pending=0]="Pending",e[e.Confirmed=1]="Confirmed",e[e.Preparing=2]="Preparing",e[e.Ready=3]="Ready",e[e.Completed=5]="Completed",e[e.Cancelled=6]="Cancelled",e[e.Rejected=7]="Rejected",e[e.Delivered=4]="Delivered",e))(ht||{});const EE={en:{[ht.Pending]:"Pending",[ht.Confirmed]:"Confirmed",[ht.Preparing]:"Preparing",[ht.Ready]:"Ready",[ht.Completed]:"Completed",[ht.Cancelled]:"Cancelled",[ht.Rejected]:"Rejected",[ht.Delivered]:"Delivered"},tr:{[ht.Pending]:"Bekliyor",[ht.Confirmed]:"Onayland",[ht.Preparing]:"Hazrlanyor",[ht.Ready]:"Hazr",[ht.Completed]:"Tamamland",[ht.Cancelled]:"ptal Edildi",[ht.Rejected]:"Reddedildi",[ht.Delivered]:"Teslim Edildi"},ar:{[ht.Pending]:"",[ht.Confirmed]:"",[ht.Preparing]:" ",[ht.Ready]:"",[ht.Completed]:"",[ht.Cancelled]:"",[ht.Rejected]:"",[ht.Delivered]:" "}};class kbe{baseUrl="/api/Order";orderTypesCache=[];cacheExpiry=0;CACHE_DURATION=300*1e3;activeRequests=new Map;pendingConfigs=new Set;async createSessionOrder(t,a){try{N.info("Session order oluturma istei gnderiliyor",{data:t,branchId:a},{prefix:"OrderService"});const n=a?`${this.baseUrl}/from-session?branchId=${a}`:`${this.baseUrl}/from-session`,s=await he.post(n,t);return N.info("Session order baaryla oluturuldu",{orderId:s.data,branchId:a},{prefix:"OrderService"}),s.data}catch(n){this.handleError(n,"Session order oluturulurken hata olutu")}}async getBranchOrders(t,a=1,n=10){const s=n>0?n:10,i=a>0?a:1,o=`branch-${t}-${i}-${s}`;if(this.pendingConfigs.has(o))return{orders:[],totalItems:0,totalPages:0};if(this.activeRequests.has(o))return this.activeRequests.get(o);try{this.pendingConfigs.add(o),N.info("Branch orders getirme istei balatlyor",{branchId:t,page:i,pageSize:s},{prefix:"OrderService"});const l={page:i,pageSize:s,includeItems:!0};t&&(l.branchId=t);const d=he.get(`${this.baseUrl}/branch`,{params:l}).then(c=>{const g=c.data;let h=[],x=0,b=1;return g&&typeof g=="object"&&"items"in g&&(h=Array.isArray(g.items)?g.items:[],b=g.totalPages||1,x=g.totalCount||g.totalItems||0),{orders:h,totalItems:x,totalPages:b}}).finally(()=>{this.activeRequests.delete(o),this.pendingConfigs.delete(o)});return this.activeRequests.set(o,d),await d}catch(l){return this.activeRequests.delete(o),this.pendingConfigs.delete(o),N.error("Branch orders getirme hatas",l,{prefix:"OrderService"}),this.handleError(l,"Branch orders getirilirken hata olutu"),{orders:[],totalItems:0,totalPages:0}}}async getPendingOrders(t){const a=`pending-${t}`;if(this.activeRequests.has(a))return this.activeRequests.get(a);try{const n=t?`${this.baseUrl}/pending?branchId=${t}`:`${this.baseUrl}/pending`;N.info("Pending orders getirme istei gnderiliyor",{branchId:t},{prefix:"OrderService"});const s=he.get(n).then(i=>{const o=Array.isArray(i.data)?i.data:[];return N.info("Pending orders baaryla alnd",{branchId:t,ordersCount:o.length},{prefix:"OrderService"}),o}).finally(()=>{this.activeRequests.delete(a),this.pendingConfigs.delete(a)});return this.activeRequests.set(a,s),await s}catch(n){this.activeRequests.delete(a),this.pendingConfigs.delete(a),this.handleError(n,"Pending orders getirilirken hata olutu")}}async getTableOrders(t,a){try{N.info("Table orders getirme istei gnderiliyor",{tableId:t,branchId:a},{prefix:"OrderService"});const n=a?`${this.baseUrl}/table/${t}?branchId=${a}`:`${this.baseUrl}/table/${t}`,s=await he.get(n),i=Array.isArray(s.data)?s.data:[];return N.info("Table orders baaryla alnd",{tableId:t,branchId:a,ordersCount:i.length},{prefix:"OrderService"}),i}catch(n){N.error("Table orders getirme hatas",n,{prefix:"OrderService"}),this.handleError(n,"Table orders getirilirken hata olutu")}}async getOrder(t,a){try{N.info("Order getirme istei gnderiliyor",{orderId:t,branchId:a},{prefix:"OrderService"});const n=a?`${this.baseUrl}/${t}?branchId=${a}`:`${this.baseUrl}/${t}`,s=await he.get(n);return N.info("Order baaryla alnd",{orderId:t,branchId:a,customerName:s.data.customerName,status:s.data.status},{prefix:"OrderService"}),s.data}catch(n){N.error("Order getirme hatas",n,{prefix:"OrderService"}),this.handleError(n,"Order getirilirken hata olutu")}}async confirmOrder(t,a,n){try{N.info("Order onaylama istei gnderiliyor",{orderId:t,data:a,branchId:n},{prefix:"OrderService"});const s=n?`${this.baseUrl}/${t}/confirm?branchId=${n}`:`${this.baseUrl}/${t}/confirm`,i=await he.post(s,a);return N.info("Order baaryla onayland",{orderId:t,branchId:n,newStatus:i.data.status},{prefix:"OrderService"}),i.data}catch(s){N.error("Order onaylama hatas",s,{prefix:"OrderService"}),this.handleError(s,"Order onaylanrken hata olutu")}}async rejectOrder(t,a,n){try{N.info("Order reddetme istei gnderiliyor",{orderId:t,data:a,branchId:n},{prefix:"OrderService"});const s=n?`${this.baseUrl}/${t}/reject?branchId=${n}`:`${this.baseUrl}/${t}/reject`,i=await he.post(s,a);return N.info("Order baaryla reddedildi",{orderId:t,branchId:n,rejectionReason:a.rejectionReason},{prefix:"OrderService"}),i.data}catch(s){N.error("Order reddetme hatas",s,{prefix:"OrderService"}),this.handleError(s,"Order reddedilirken hata olutu")}}async cancelOrder(t,a){try{N.info("Order iptal etme istei gnderiliyor",{orderId:t.orderId,data:t,branchId:a},{prefix:"OrderService"});const n=a?`${this.baseUrl}/cancel?branchId=${a}`:`${this.baseUrl}/cancel`,s=await he.post(n,t);return N.info("Order baaryla iptal edildi",{orderId:t.orderId,branchId:a,cancellationReason:t.cancellationReason},{prefix:"OrderService"}),s.data}catch(n){N.error("Order iptal etme hatas",n,{prefix:"OrderService"}),this.handleError(n,"Order iptal edilirken hata olutu")}}async updateOrderStatus(t,a,n){try{N.info("Order status gncelleme istei gnderiliyor",{orderId:t,data:a,branchId:n},{prefix:"OrderService"});const s=n?`${this.baseUrl}/${t}/status?branchId=${n}`:`${this.baseUrl}/${t}/status`,i=await he.put(s,a);return N.info("Order status baaryla gncellendi",{orderId:t,branchId:n,oldStatus:a.newStatus,newStatus:i.data.status},{prefix:"OrderService"}),i.data}catch(s){N.error("Order status gncelleme hatas",s,{prefix:"OrderService"}),this.handleError(s,"Order status gncellenirken hata olutu")}}async trackOrder(t){try{N.info("Order tracking getirme istei gnderiliyor",{orderTag:t},{prefix:"OrderService"});const a=`${this.baseUrl}/track/${t}`,n=await he.get(a);return N.info("Order tracking baaryla alnd",{orderTag:t,OrderStatusEnums:n.data.orderStatus,statusCode:n.data.statusCode},{prefix:"OrderService"}),n.data}catch(a){N.error("Order tracking getirme hatas",a,{prefix:"OrderService"}),this.handleError(a,"Order tracking getirilirken hata olutu")}}async getOrderTrackingQR(t){try{N.info("Order tracking QR getirme istei gnderiliyor",{orderTag:t},{prefix:"OrderService"});const a=`${this.baseUrl}/track/${t}/qr`,n=await he.get(a);return N.info("Order tracking QR baaryla alnd",{orderTag:t,trackingUrl:n.data.trackingUrl},{prefix:"OrderService"}),n.data}catch(a){N.error("Order tracking QR getirme hatas",a,{prefix:"OrderService"}),this.handleError(a,"Order tracking QR getirilirken hata olutu")}}async getTableBasketSummary(t){try{const a=t?`${this.baseUrl}/table-basket-summary?branchId=${t}`:`${this.baseUrl}/table-basket-summary`;N.info("Table basket summary getirme istei gnderiliyor",{branchId:t},{prefix:"OrderService"});const n=await he.get(a),s=Array.isArray(n.data)?n.data:[];return N.info("Table basket summary baaryla alnd",{branchId:t,tablesCount:s.length,activeBaskets:s.filter(i=>i.hasActiveBasket).length},{prefix:"OrderService"}),s}catch(a){N.error("Table basket summary getirme hatas",a,{prefix:"OrderService"}),this.handleError(a,"Table basket summary getirilirken hata olutu")}}async refreshOrderTypesCache(t){try{this.orderTypesCache=await nu.getOrderTypes(t),this.cacheExpiry=Date.now()+this.CACHE_DURATION,N.info("Order types cache gncellendi",{branchId:t,orderTypesCount:this.orderTypesCache.length},{prefix:"OrderService"})}catch(a){N.error("Order types cache gncelleme hatas",a,{prefix:"OrderService"})}}async getOrderTypesFromCache(t){return(!this.orderTypesCache.length||Date.now()>this.cacheExpiry)&&await this.refreshOrderTypesCache(t),this.orderTypesCache}getOrderStatusText(t,a="en"){const n=a.split("-")[0].toLowerCase(),s=EE[n]||EE.en;if(typeof t=="string"){const i=this.parseOrderStatus(t);return s[i]||s[ht.Pending]}return s[t]||s[ht.Pending]}parseOrderStatus(t){switch(t.toLowerCase()){case"pending":return ht.Pending;case"confirmed":return ht.Confirmed;case"preparing":return ht.Preparing;case"ready":return ht.Ready;case"completed":return ht.Completed;case"cancelled":return ht.Cancelled;case"rejected":return ht.Rejected;case"delivered":return ht.Delivered;default:return ht.Pending}}async getOrderTypeText(t,a){try{return(await this.getOrderTypesFromCache(a)).find(i=>i.id===t)?.name||"Bilinmeyen Sipari Tr"}catch(n){return N.error("Order type text getirme hatas",n,{prefix:"OrderService"}),"Bilinmeyen Sipari Tr"}}async getOrderType(t,a){try{return(await this.getOrderTypesFromCache(a)).find(s=>s.id===t)}catch(n){N.error("Order type getirme hatas",n,{prefix:"OrderService"});return}}async getActiveOrderTypes(t){try{return(await this.getOrderTypesFromCache(t)).filter(n=>n.isActive)}catch(a){return N.error("Active order types getirme hatas",a,{prefix:"OrderService"}),[]}}async getAllOrderTypes(t){try{return await this.getOrderTypesFromCache(t)}catch(a){return N.error("All order types getirme hatas",a,{prefix:"OrderService"}),[]}}async calculateOrderTotal(t,a,n){try{const s=await this.getOrderType(t,n);if(!s)return{baseAmount:a,serviceCharge:0,totalAmount:a};const i=a*s.serviceCharge/100,o=a+i;return{baseAmount:a,serviceCharge:i,totalAmount:o}}catch(s){return N.error("Order total calculation hatas",s,{prefix:"OrderService"}),{baseAmount:a,serviceCharge:0,totalAmount:a}}}async getEstimatedTime(t,a){try{return(await this.getOrderType(t,a))?.estimatedMinutes||0}catch(n){return N.error("Estimated time getirme hatas",n,{prefix:"OrderService"}),0}}async getOrderTypeByCode(t,a){try{return(await this.getOrderTypesFromCache(a)).find(s=>s.code.toLowerCase()===t.toLowerCase())}catch(n){N.error("Order type by code getirme hatas",n,{prefix:"OrderService"});return}}async getOrderTypesForDisplay(t){try{return(await this.getActiveOrderTypes(t)).sort((n,s)=>n.displayOrder-s.displayOrder)}catch(a){return N.error("Order types for display getirme hatas",a,{prefix:"OrderService"}),[]}}canModifyOrder(t){if(typeof t=="string"){const a=this.parseOrderStatus(t);return a===ht.Pending||a===ht.Confirmed}return t===ht.Pending||t===ht.Confirmed}canCancelOrder(t){if(typeof t=="string"){const a=this.parseOrderStatus(t);return a===ht.Pending||a===ht.Confirmed||a===ht.Preparing}return t===ht.Pending||t===ht.Confirmed||t===ht.Preparing}getItemQuantity(t){return t.count??t.quantity??0}getItemNotes(t){return t.note??t.notes??""}calculateAddonTotal(t){return!t.addonItems||t.addonItems.length===0?0:t.addonItems.reduce((a,n)=>a+n.totalPrice,0)}getFlatItemList(t){const a=[];return t.forEach(n=>{a.push(n),n.addonItems&&n.addonItems.length>0&&a.push(...this.getFlatItemList(n.addonItems))}),a}async refreshOrderTypes(t){await this.refreshOrderTypesCache(t)}clearOrderTypesCache(){this.orderTypesCache=[],this.cacheExpiry=0,N.info("Order types cache temizlendi",{},{prefix:"OrderService"})}async updatePendingOrder(t,a){try{N.info("Pending order gncelleme istei gnderiliyor",{orderId:t.orderId,branchId:a},{prefix:"OrderService"});const n=a?`${this.baseUrl}/updatepending?branchId=${a}`:`${this.baseUrl}/updatepending`,s=await he.put(n,t);return N.info("Pending order baaryla gncellendi",{orderId:s.data.orderId,branchId:a,newStatus:s.data.status},{prefix:"OrderService"}),s.data}catch(n){N.error("Pending order gncelleme hatas",n,{prefix:"OrderService"}),this.handleError(n,"Pending order gncellenirken hata olutu")}}async getUpdatableOrders(t){try{const a={includeItems:!0};t&&(a.branchId=t),N.info("Updatable orders getirme istei gnderiliyor",{branchId:t,params:a},{prefix:"OrderService"});const n=await he.get(`${this.baseUrl}/updatable`,{params:a}),s=Array.isArray(n.data)?n.data:[];return N.info("Updatable orders baaryla alnd",{branchId:t,ordersCount:s.length},{prefix:"OrderService"}),s}catch(a){this.handleError(a,"Updatable orders getirilirken hata olutu")}}handleError(t,a){if(t?.response?.status===400){const n=t?.response?.data;if(n?.errors){const s=Object.values(n.errors).flat();throw new Error(`Dorulama hatas: ${s.join(", ")}`)}else throw new Error("Geersiz istek. Ltfen verileri kontrol edin.")}else{if(t?.response?.status===401)throw new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn.");if(t?.response?.status===403)throw new Error("Bu ilem iin yetkiniz bulunmuyor.");if(t?.response?.status===404)throw new Error("Sipari bulunamad.");if(t?.response?.status===409){const n=t?.response?.data?.message||"";throw n.toLowerCase().includes("unconfirmed price changes")||n.toLowerCase().includes("price changes")?t:new Error("akma hatas: lem tamamlanamad.")}else throw t?.response?.status===422?new Error("Sipari durumu bu ileme uygun deil."):t?.response?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`${a}: ${t?.message||"Bilinmeyen hata"}`)}}}const kr=new kbe,cF=()=>{const[e,t]=p.useState({branches:[],selectedBranch:null,isBranchDropdownOpen:!1,pendingOrders:[],branchOrders:[],selectedOrder:null,loading:!1,error:null,viewMode:"pending",showConfirmModal:!1,showRejectModal:!1,showCancelModal:!1,showStatusModal:!1,showDetailsModal:!1,activeOrderId:null,activeRowVersion:null,rejectReason:"",cancelReason:"",newStatus:null,expandedRows:new Set,sortField:"createdAt",sortDirection:"desc",filters:{search:"",status:"all",dateRange:{start:"",end:""},priceRange:{min:null,max:null},orderType:"",customerName:"",tableName:""},pagination:{currentPage:1,itemsPerPage:10,totalItems:0,totalPages:0},showAdvancedFilters:!1,filteredOrders:[]}),a=()=>e.selectedBranch?.branchId,n=async()=>{try{t(V=>({...V,loading:!0,error:null}));const z=await oa.getBranchesDropdown();t(V=>({...V,branches:z,selectedBranch:z.length>0&&!V.selectedBranch?z[0]:V.selectedBranch,loading:!1}))}catch(z){t(V=>({...V,error:z.message,loading:!1}))}},s=z=>{t(V=>({...V,selectedBranch:z,isBranchDropdownOpen:!1,error:null,pagination:{...V.pagination,currentPage:1}})),kr.clearOrderTypesCache()},i=p.useCallback(async z=>{const V=z||a();t(F=>({...F,loading:!0,error:null}));try{const F=await kr.getPendingOrders(V);t($=>({...$,pendingOrders:F,loading:!1}))}catch(F){t($=>({...$,error:F.message,loading:!1}))}},[a]),o=p.useCallback(async(z,V,F)=>{const $=z||e.selectedBranch?.branchId,q=V!==void 0?V:e.pagination.currentPage,H=F!==void 0?F:e.pagination.itemsPerPage;t(Q=>({...Q,loading:!0,error:null}));try{const Q=await kr.getBranchOrders($,q,H);t(de=>({...de,branchOrders:Q.orders,loading:!1,pagination:{...de.pagination,totalItems:Q.totalItems,totalPages:Q.totalPages}}))}catch(Q){t(de=>({...de,error:Q.message,loading:!1,branchOrders:[],pagination:{...de.pagination,totalItems:0,totalPages:0}}))}},[]);return{state:e,actions:{fetchBranches:n,handleBranchSelect:s,fetchPendingOrders:i,fetchBranchOrders:o,fetchTableBasketSummary:async()=>{const z=a();try{t(F=>({...F,loading:!0,error:null}));const V=await kr.getTableBasketSummary(z);return t(F=>({...F,loading:!1})),V}catch(V){return t(F=>({...F,error:V.message,loading:!1})),[]}},getOrderTypesForCurrentBranch:async()=>{const z=a();try{return await kr.getOrderTypesForDisplay(z)}catch(V){return console.error("Error fetching order types:",V),[]}},getOrderTypeText:async z=>{const V=a();return await kr.getOrderTypeText(z,V)},calculateOrderTotal:async(z,V)=>{const F=a();return await kr.calculateOrderTotal(z,V,F)},getEstimatedTime:async z=>{const V=a();return await kr.getEstimatedTime(z,V)},getOrderTypeByCode:async z=>{const V=a();return await kr.getOrderTypeByCode(z,V)},getActiveOrderTypes:async()=>{const z=a();try{return await kr.getActiveOrderTypes(z)}catch(V){return console.error("Error fetching active order types:",V),[]}},getAllOrderTypes:async()=>{const z=a();try{return await kr.getAllOrderTypes(z)}catch(V){return console.error("Error fetching all order types:",V),[]}},handleConfirmOrder:async()=>{if(!e.activeOrderId||!e.activeRowVersion)return;const z=a();t(V=>({...V,loading:!0,error:null,showConfirmModal:!1}));try{const V={rowVersion:e.activeRowVersion},F=await kr.confirmOrder(e.activeOrderId,V,z);e.viewMode==="pending"?i():o(),t($=>({...$,selectedOrder:F,loading:!1,activeOrderId:null,activeRowVersion:null}))}catch(V){t(F=>({...F,error:V.message,loading:!1,activeOrderId:null,activeRowVersion:null}))}},handleRejectOrder:async()=>{if(!e.activeOrderId||!e.activeRowVersion||!e.rejectReason)return;const z=a();t(V=>({...V,loading:!0,error:null,showRejectModal:!1}));try{const V={rejectionReason:e.rejectReason,rowVersion:e.activeRowVersion},F=await kr.rejectOrder(e.activeOrderId,V,z);e.viewMode==="pending"?i():o(),t($=>({...$,selectedOrder:F,loading:!1,activeOrderId:null,activeRowVersion:null,rejectReason:""}))}catch(V){t(F=>({...F,error:V.message,loading:!1,activeOrderId:null,activeRowVersion:null,rejectReason:""}))}},handleCancelOrder:async()=>{if(!e.activeOrderId||!e.activeRowVersion)return;const z=a();t(V=>({...V,loading:!0,error:null,showCancelModal:!1}));try{const V={newStatus:ht.Cancelled,rowVersion:e.activeRowVersion},F=await kr.updateOrderStatus(e.activeOrderId,V,z);e.viewMode==="pending"?i():o(),t($=>({...$,selectedOrder:F,loading:!1,activeOrderId:null,activeRowVersion:null,cancelReason:""}))}catch(V){t(F=>({...F,error:V.message,loading:!1,activeOrderId:null,activeRowVersion:null,cancelReason:""}))}},handleUpdateStatus:async()=>{if(!e.activeOrderId||!e.activeRowVersion||e.newStatus===null)return;const z=a();t(V=>({...V,loading:!0,error:null,showStatusModal:!1}));try{const V={newStatus:e.newStatus,rowVersion:e.activeRowVersion},F=await kr.updateOrderStatus(e.activeOrderId,V,z);e.viewMode==="pending"?i():o(),t($=>({...$,selectedOrder:F,loading:!1,activeOrderId:null,activeRowVersion:null,newStatus:null}))}catch(V){let F=V.message;V.response?.status===400&&V.response?.data?.message.includes("Invalid status transition")?F="Invalid status transition":V.response?.status===400&&V.response?.data?.message.includes("cannot be confirmed")&&(F=`Cannot confirm order. Current status: ${V.response?.data?.message.split("Current status: ")[1]||"unknown"}`),t($=>({...$,error:F,loading:!1,activeOrderId:null,activeRowVersion:null,newStatus:null}))}},getOrderDetails:async z=>{const V=a();try{t($=>({...$,loading:!0,error:null}));const F=await kr.getOrder(z,V);return t($=>({...$,loading:!1})),F}catch(F){return t($=>({...$,error:F.message,loading:!1})),null}},getTableOrders:async z=>{const V=a();try{t($=>({...$,loading:!0,error:null}));const F=await kr.getTableOrders(z,V);return t($=>({...$,loading:!1})),F}catch(F){return t($=>({...$,error:F.message,loading:!1})),[]}},createSessionOrder:async z=>{const V=a();try{t($=>({...$,loading:!0,error:null}));const F=await kr.createSessionOrder(z,V);return t($=>({...$,loading:!1})),e.viewMode==="pending"?i():o(),F}catch(F){return t($=>({...$,error:F.message,loading:!1})),null}},refreshOrderTypes:async()=>{const z=a();try{await kr.refreshOrderTypes(z)}catch(V){console.error("Error refreshing order types:",V)}},switchViewMode:z=>{t(V=>({...V,viewMode:z,pagination:{currentPage:1,itemsPerPage:V.pagination.itemsPerPage,totalItems:0,totalPages:0}}))},openConfirmModal:(z,V)=>{t(F=>({...F,showConfirmModal:!0,activeOrderId:z,activeRowVersion:V}))},openRejectModal:(z,V)=>{t(F=>({...F,showRejectModal:!0,activeOrderId:z,activeRowVersion:V}))},openCancelModal:(z,V)=>{t(F=>({...F,showCancelModal:!0,activeOrderId:z,activeRowVersion:V}))},openStatusModal:(z,V,F)=>{t($=>({...$,showStatusModal:!0,activeOrderId:z,activeRowVersion:V,newStatus:F}))},openDetailsModal:z=>{t(V=>({...V,showDetailsModal:!0,selectedOrder:z}))},closeModals:()=>{t(z=>({...z,showConfirmModal:!1,showRejectModal:!1,showCancelModal:!1,showStatusModal:!1,showDetailsModal:!1,activeOrderId:null,activeRowVersion:null,rejectReason:"",cancelReason:"",newStatus:null,selectedOrder:null}))},toggleRowExpansion:z=>{t(V=>{const F=new Set(V.expandedRows);return F.has(z)?F.delete(z):F.add(z),{...V,expandedRows:F}})},handleSort:z=>{t(V=>({...V,sortField:z,sortDirection:V.sortField===z&&V.sortDirection==="asc"?"desc":"asc"}))},setState:t,handlePageChange:z=>{t(V=>({...V,pagination:{...V.pagination,currentPage:z}})),e.viewMode==="branch"&&o(void 0,z,e.pagination.itemsPerPage)},handleItemsPerPageChange:z=>{t(V=>({...V,pagination:{...V.pagination,itemsPerPage:z,currentPage:1}})),e.viewMode==="branch"&&o(void 0,1,z)},handleBranchPageChange:z=>{t(V=>({...V,pagination:{...V.pagination,currentPage:z}}))},handleBranchItemsPerPageChange:z=>{t(V=>({...V,pagination:{...V.pagination,itemsPerPage:z,currentPage:1}}))}}}},uF=(e,t)=>{const a=p.useMemo(()=>{let l=e.viewMode==="pending"?e.pendingOrders:e.branchOrders;if(e.filters.search.trim()){const d=e.filters.search.toLowerCase();l=l.filter(c=>c.customerName.toLowerCase().includes(d)||c.orderTag.toLowerCase().includes(d)||"tableName"in c&&c.tableName?.toLowerCase().includes(d)||"notes"in c&&c.notes?.toLowerCase().includes(d))}if(e.viewMode==="branch"&&e.filters.status!=="all"&&(l=l.filter(d=>kr.parseOrderStatus(d.status)===e.filters.status)),e.filters.dateRange.start){const d=new Date(e.filters.dateRange.start);l=l.filter(c=>new Date(c.createdAt)>=d)}if(e.filters.dateRange.end){const d=new Date(e.filters.dateRange.end);d.setHours(23,59,59,999),l=l.filter(c=>new Date(c.createdAt)<=d)}if(e.filters.priceRange.min!==null&&(l=l.filter(d=>d.totalPrice>=e.filters.priceRange.min)),e.filters.priceRange.max!==null&&(l=l.filter(d=>d.totalPrice<=e.filters.priceRange.max)),e.filters.customerName.trim()){const d=e.filters.customerName.toLowerCase();l=l.filter(c=>c.customerName.toLowerCase().includes(d))}if(e.filters.tableName.trim()){const d=e.filters.tableName.toLowerCase();l=l.filter(c=>"tableName"in c&&c.tableName?.toLowerCase().includes(d))}if(e.filters.orderType.trim()){const d=e.filters.orderType.toLowerCase();l=l.filter(c=>"orderTypeName"in c&&c.orderTypeName?.toLowerCase().includes(d)||"orderTypeCode"in c&&c.orderTypeCode?.toLowerCase().includes(d))}return l=l.sort((d,c)=>{let g,h;switch(e.sortField){case"customerName":g=d.customerName.toLowerCase(),h=c.customerName.toLowerCase();break;case"totalPrice":g=d.totalPrice,h=c.totalPrice;break;case"createdAt":g=new Date(d.createdAt).getTime(),h=new Date(c.createdAt).getTime();break;default:return 0}return e.sortDirection==="asc"?g<h?-1:g>h?1:0:g>h?-1:g<h?1:0}),l},[e.viewMode,e.pendingOrders,e.branchOrders,e.filters,e.sortField,e.sortDirection]),n=(l,d)=>{t(c=>({...c,filters:{...c.filters,[l]:d},pagination:{...c.pagination,currentPage:1}}))},s=(l,d,c)=>{t(g=>({...g,filters:{...g.filters,[l]:{...g.filters[l],[d]:c}},pagination:{...g.pagination,currentPage:1}}))},i=()=>{t(l=>({...l,filters:{search:"",status:"all",dateRange:{start:"",end:""},priceRange:{min:null,max:null},orderType:"",customerName:"",tableName:""},pagination:{...l.pagination,currentPage:1}}))},o=e.filters.search||e.filters.status!=="all"||e.filters.dateRange.start||e.filters.dateRange.end||e.filters.priceRange.min!==null||e.filters.priceRange.max!==null||e.filters.customerName||e.filters.tableName||e.filters.orderType;return{filteredOrders:a,updateFilter:n,updateNestedFilter:s,clearFilters:i,hasActiveFilters:o}},mF=(e,t,a)=>(p.useEffect(()=>{const o=Math.ceil(e.length/t.itemsPerPage);a(l=>({...l,pagination:{...l.pagination,totalItems:e.length,totalPages:o,currentPage:Math.min(l.pagination.currentPage,Math.max(1,o))},filteredOrders:e}))},[e,t.itemsPerPage,a]),{paginatedOrders:p.useMemo(()=>{const o=(t.currentPage-1)*t.itemsPerPage,l=o+t.itemsPerPage;return e.slice(o,l)},[e,t.currentPage,t.itemsPerPage]),changePage:o=>{a(l=>({...l,pagination:{...l.pagination,currentPage:Math.max(1,Math.min(o,l.pagination.totalPages))}}))},changeItemsPerPage:o=>{a(l=>({...l,pagination:{...l.pagination,itemsPerPage:o,currentPage:1}}))}}),gF=({t:e})=>r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:e("ordersManager.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:e("ordersManager.description")})]}),hF=({viewMode:e,pendingCount:t,branchCount:a,onModeChange:n,t:s})=>r.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>n("pending"),className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${e==="pending"?"bg-blue-600 text-white dark:bg-blue-500":"bg-white text-gray-700 dark:bg-gray-800 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-600"}`,children:[s("ordersManager.pendingOrders")," (",t,")"]}),r.jsxs("button",{onClick:()=>n("branch"),className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${e==="branch"?"bg-blue-600 text-white dark:bg-blue-500":"bg-white text-gray-700 dark:bg-gray-800 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-600"}`,children:[s("ordersManager.branchOrders")," (",a,")"]})]})}),fF=({filters:e,showAdvancedFilters:t,hasActiveFilters:a,viewMode:n,lang:s,filteredCount:i,totalCount:o,onUpdateFilter:l,onUpdateNestedFilter:d,onClearFilters:c,onToggleAdvanced:g,t:h})=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:h("ordersManager.searchPlaceholder")||"Search orders...",value:e.search,onChange:x=>l("search",x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n==="branch"&&r.jsxs("div",{className:"relative",children:[r.jsx(al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsxs("select",{title:"filter",value:e.status,onChange:x=>l("status",x.target.value==="all"?"all":parseInt(x.target.value)),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:h("ordersManager.allStatuses")}),Object.values(ht).filter(x=>typeof x=="number").map(x=>r.jsx("option",{value:x,children:kr.getOrderStatusText(x,s)},x))]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"date",placeholder:"Start Date",value:e.dateRange.start,onChange:x=>d("dateRange","start",x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"date",placeholder:"End Date",value:e.dateRange.end,onChange:x=>d("dateRange","end",x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("button",{onClick:g,className:"flex items-center text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium",children:[r.jsx(al,{className:"w-4 h-4 mr-2"}),h(t?"ordersManager.hideAdvancedFilter":"ordersManager.showAdvancedFilter"),t?r.jsx(Hn,{className:"w-4 h-4 ml-1"}):r.jsx(Rr,{className:"w-4 h-4 ml-1"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[a&&r.jsxs("button",{onClick:c,className:"flex items-center text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 font-medium",children:[r.jsx(xt,{className:"w-4 h-4 mr-1"}),h("ordersManager.clearFilter")]}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[i," ",h("ordersManager.of")," ",o," ",h("ordersManager.orders")]})]})]}),t&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(On,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:h("ordersManager.customerName"),value:e.customerName,onChange:x=>l("customerName",x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Ar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:h("ordersManager.tableName"),value:e.tableName,onChange:x=>l("tableName",x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Qy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:h("ordersManager.orderType"),value:e.orderType,onChange:x=>l("orderType",x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(rl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"number",placeholder:h("ordersManager.minPrice"),value:e.priceRange.min||"",onChange:x=>d("priceRange","min",x.target.value?parseFloat(x.target.value):null),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(rl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"number",placeholder:h("ordersManager.maxPrice"),value:e.priceRange.max||"",onChange:x=>d("priceRange","max",x.target.value?parseFloat(x.target.value):null),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})})]}),pF=({pagination:e,onPageChange:t,onItemsPerPageChange:a,t:n,totalFiltered:s})=>r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n("ordersManager.showing")," ",(e.currentPage-1)*e.itemsPerPage+1," ",n("ordersManager.to")," ",Math.min(e.currentPage*e.itemsPerPage,e.totalItems)," ",n("ordersManager.of")," ",e.totalItems," ",n("ordersManager.orders"),"  "]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",n("ordersManager.showing"),":"]}),r.jsxs("select",{title:"pagination",value:e.itemsPerPage,onChange:i=>a(parseInt(i.target.value)),className:"text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:5,children:"5"}),r.jsx("option",{value:10,children:"10"}),r.jsx("option",{value:25,children:"25"}),r.jsx("option",{value:50,children:"50"}),r.jsx("option",{value:100,children:"100"})]}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n("ordersManager.perpage")})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>t(e.currentPage-1),disabled:e.currentPage<=1,className:"p-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx($O,{className:"w-4 h-4"})}),r.jsx("div",{className:"flex items-center gap-1",children:(()=>{const i=e.totalPages,o=e.currentPage,l=[];i>0&&l.push(1),o>3&&l.push("...");for(let d=Math.max(2,o-1);d<=Math.min(i-1,o+1);d++)l.includes(d)||l.push(d);return o<i-2&&(l.includes("...")||l.push("...")),i>1&&!l.includes(i)&&l.push(i),l.map((d,c)=>r.jsx("button",{onClick:()=>typeof d=="number"?t(d):null,disabled:typeof d!="number",className:`px-3 py-1 text-sm rounded-lg transition-colors ${d===o?"bg-blue-600 text-white dark:bg-blue-500":typeof d=="number"?"border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600":"text-gray-400 dark:text-gray-500 cursor-default"}`,children:d},c))})()}),r.jsx("button",{onClick:()=>t(e.currentPage+1),disabled:e.currentPage>=e.totalPages,className:"p-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx(Wm,{className:"w-4 h-4"})})]})]}),xF=({error:e})=>e?r.jsx("div",{className:"bg-red-100 dark:bg-red-900 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-200 px-4 py-3 rounded-lg mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ga,{className:"w-5 h-5 mr-2"}),e]})}):null,yF=({show:e,loading:t,onConfirm:a,onClose:n,t:s})=>e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(tr,{className:"w-6 h-6 text-green-600 mr-3"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:s("ordersManager.confirmOrderTitle")})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:s("ordersManager.confirmOrderPrompt")}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors duration-200",children:s("ordersManager.cancel")}),r.jsx("button",{onClick:a,className:"px-4 py-2 bg-green-600 dark:bg-green-500 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-600 transition-colors duration-200",disabled:t,children:s(t?"ordersManager.confirming":"ordersManager.confirmAction")})]})]})}):null,bF=({show:e,loading:t,rejectReason:a,onReasonChange:n,onReject:s,onClose:i,t:o})=>e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Ga,{className:"w-6 h-6 text-red-600 mr-3"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:o("ordersManager.rejectOrderTitle")})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:o("ordersManager.rejectOrderPrompt")}),r.jsx("textarea",{value:a,onChange:l=>n(l.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 dark:focus:ring-red-400 mb-6",rows:4,placeholder:o("ordersManager.rejectReasonPlaceholder")}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors duration-200",children:o("ordersManager.cancel")}),r.jsx("button",{onClick:s,className:"px-4 py-2 bg-red-600 dark:bg-red-500 text-white rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors duration-200",disabled:!a.trim()||t,children:o(t?"ordersManager.rejecting":"ordersManager.rejectAction")})]})]})}):null;class ym{static getValidStatusTransitions(t){switch(t){case ht.Pending:return[ht.Confirmed,ht.Rejected];case ht.Confirmed:return[ht.Preparing];case ht.Preparing:return[ht.Ready,ht.Cancelled,ht.Completed];case ht.Ready:return[ht.Completed,ht.Cancelled,ht.Delivered];case ht.Completed:return[];case ht.Rejected:return[];case ht.Delivered:return[ht.Completed];default:return[]}}static getStatusIcon(t){switch(t){case ht.Pending:return r.jsx(Or,{className:"w-4 h-4 text-yellow-600"});case ht.Confirmed:return r.jsx(tr,{className:"w-4 h-4 text-blue-600"});case ht.Preparing:return r.jsx(Ar,{className:"w-4 h-4 text-orange-600"});case ht.Ready:return r.jsx(Nt,{className:"w-4 h-4 text-purple-600"});case ht.Completed:return r.jsx(tr,{className:"w-4 h-4 text-green-600"});case ht.Delivered:return r.jsx(Qy,{className:"w-4 h-4 text-indigo-600"});case ht.Cancelled:case ht.Rejected:return r.jsx(Ga,{className:"w-4 h-4 text-red-600"});default:return r.jsx(Or,{className:"w-4 h-4 text-gray-600"})}}static getStatusBadgeClass(t){switch(t){case ht.Pending:return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900 dark:text-yellow-200 dark:border-yellow-700";case ht.Confirmed:return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:border-blue-700";case ht.Preparing:return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900 dark:text-orange-200 dark:border-orange-700";case ht.Ready:return"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900 dark:text-purple-200 dark:border-purple-700";case ht.Completed:return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900 dark:text-green-200 dark:border-green-700";case ht.Delivered:return"bg-indigo-100 text-indigo-800 border-indigo-200 dark:bg-indigo-900 dark:text-indigo-200 dark:border-indigo-700";case ht.Rejected:return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900 dark:text-red-200 dark:border-red-700";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600"}}}const vF=({show:e,loading:t,newStatus:a,lang:n,onUpdate:s,onClose:i,t:o})=>!e||a===null?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[ym.getStatusIcon(a),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 ml-3",children:o("ordersManager.updateStatusTitle")})]}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:[o("ordersManager.updateStatusPrompt")," ",kr.getOrderStatusText(a,n)]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors duration-200",children:o("ordersManager.cancel")}),r.jsx("button",{onClick:s,className:"px-4 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors duration-200",disabled:t,children:o(t?"ordersManager.updating":"ordersManager.updateAction")})]})]})});class wbe{static calculateTotalQuantity(t){let a=0;const n=s=>{s.forEach(i=>{a+=i.count||1,i.addonItems&&i.addonItems.length>0&&n(i.addonItems)})};return n(t),a}static generateItemsHTML(t,a=!1){return t.map(n=>`
      <div style="margin-left: ${a?"20px":"0"}; margin-bottom: 10px; padding: 12px; border: 1px solid #ddd; border-radius: 4px; background: ${a?"#f8f9fa":"white"};">
        <div style="display: flex; justify-content: space-between; align-items: flex-start;">
          <div style="flex: 1;">
            <div style="font-weight: bold; margin-bottom: 8px; font-size: 14px;">
              ${n.productName}
              ${a?'<span style="background: #e3f2fd; padding: 2px 8px; border-radius: 12px; font-size: 10px; margin-left: 8px; color: #1976d2;">Add-on</span>':""}
            </div>
            <div style="font-size: 12px; color: #666; margin-bottom: 5px;">
              <span style="margin-right: 15px;">Qty: <strong>${n.count||1}</strong></span>
              <span style="margin-right: 15px;">Unit Price: <strong>$${n.price?.toFixed(2)||"N/A"}</strong></span>
              ${n.addonPrice?`<span>Addon Price: <strong>$${n.addonPrice.toFixed(2)}</strong></span>`:""}
            </div>
            ${n.note||n.addonNote?`
              <div style="background: #fff3cd; padding: 8px; border-radius: 4px; font-size: 11px; margin-top: 8px; border-left: 3px solid #ffc107;">
                <strong style="color: #856404;">Note:</strong> <span style="color: #856404;">${n.note||n.addonNote}</span>
              </div>
            `:""}
          </div>
          <div style="text-align: right; margin-left: 15px;">
            <div style="font-size: 11px; color: #666; margin-bottom: 3px;">Total</div>
            <div style="font-size: 18px; font-weight: bold; color: #2e7d32;">$${n.totalPrice?.toFixed(2)||"N/A"}</div>
          </div>
        </div>
        ${n.addonItems&&n.addonItems.length>0?this.generateItemsHTML(n.addonItems,!0):""}
      </div>
    `).join("")}static parseMetadata(t){if(!t)return null;const a=t.match(/\[METADATA:(.*?)\]/);if(a)try{return JSON.parse(a[1])}catch{return null}return null}static getCleanNotes(t){return t&&t.replace(/\[METADATA:.*?\]/,"").trim()||null}static generatePrintHTML(t){const{order:a,status:n,lang:s,t:i}=t,o=a.items||[],l=this.calculateTotalQuantity(o),d=this.parseMetadata(a.notes),c=this.getCleanNotes(a.notes);return`
      <!DOCTYPE html>
      <html lang="${s}">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Order #${a.orderTag}</title>
        <style>
          @page {
            size: A4;
            margin: 15mm;
          }
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 20px;
            color: #000;
            background: white;
            line-height: 1.6;
          }
          .header {
            text-align: center;
            border-bottom: 3px solid #333;
            padding-bottom: 20px;
            margin-bottom: 25px;
          }
          .header h1 {
            font-size: 28px;
            margin-bottom: 8px;
            color: #1a1a1a;
          }
          .header .order-number {
            font-size: 16px;
            color: #666;
            margin-bottom: 10px;
          }
          .header .order-type {
            font-size: 18px;
            margin-top: 10px;
          }
          .header .status {
            display: inline-block;
            padding: 6px 15px;
            background: #e8f5e9;
            border: 1px solid #4caf50;
            border-radius: 20px;
            font-size: 13px;
            font-weight: bold;
            margin-top: 10px;
          }
          .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 25px;
          }
          .stat-card {
            border: 1px solid #ddd;
            padding: 15px;
            text-align: center;
            border-radius: 6px;
            background: #f9f9f9;
          }
          .stat-label {
            font-size: 11px;
            color: #666;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
          }
          .stat-value {
            font-size: 22px;
            font-weight: bold;
            color: #1a1a1a;
          }
          .section {
            margin-bottom: 25px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: #fafafa;
          }
          .section-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e0e0e0;
            color: #1a1a1a;
          }
          .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
          }
          .info-item {
            padding: 10px;
            background: white;
            border-radius: 4px;
            border: 1px solid #e0e0e0;
          }
          .info-label {
            font-size: 11px;
            color: #666;
            margin-bottom: 4px;
            text-transform: uppercase;
          }
          .info-value {
            font-size: 13px;
            font-weight: 600;
            color: #1a1a1a;
          }
          .items-section {
            margin-bottom: 25px;
          }
          .total-section {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 6px;
            margin-top: 25px;
            border: 1px solid #ddd;
          }
          .total-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            font-size: 14px;
            border-bottom: 1px solid #e0e0e0;
          }
          .total-row:last-child {
            border-bottom: none;
          }
          .grand-total {
            font-size: 22px;
            font-weight: bold;
            border-top: 3px solid #333;
            padding-top: 12px;
            margin-top: 12px;
          }
          .grand-total .label {
            color: #1a1a1a;
          }
          .grand-total .value {
            color: #2e7d32;
          }
          .timeline {
            margin-top: 25px;
          }
          .timeline-item {
            padding: 12px;
            border-left: 4px solid #1976d2;
            margin-bottom: 12px;
            background: #f8f9fa;
            border-radius: 0 4px 4px 0;
          }
          .timeline-label {
            font-size: 12px;
            font-weight: bold;
            color: #1976d2;
            margin-bottom: 4px;
          }
          .timeline-value {
            font-size: 13px;
            color: #333;
          }
          .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #ddd;
            font-size: 11px;
            color: #666;
          }
          @media print {
            body {
              print-color-adjust: exact;
              -webkit-print-color-adjust: exact;
            }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>${i("ordersManager.orderDetailsTitle")}</h1>
          <div class="order-number">Order #${a.orderTag}</div>
          <div class="order-type">
            ${a.orderTypeIcon||""} ${a.orderTypeName||"Order"} 
            ${a.orderTypeCode?`(${a.orderTypeCode})`:""}
          </div>
          <div class="status">${kr.getOrderStatusText(n,s)}</div>
        </div>

        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-label">${i("ordersManager.OrderTag")}</div>
            <div class="stat-value">${a.orderTag}</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">${i("ordersManager.ItemCount")}</div>
            <div class="stat-value">${a.itemCount||o.length||0}</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">${i("ordersManager.quantity")}</div>
            <div class="stat-value">${l}</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">${i("ordersManager.total")}</div>
            <div class="stat-value">$${a.totalPrice.toFixed(2)}</div>
          </div>
        </div>

        <div class="section">
          <div class="section-title">${i("ordersManager.CustomerInformation")}</div>
          <div class="info-grid">
            <div class="info-item">
              <div class="info-label">${i("ordersManager.CustomerName")}</div>
              <div class="info-value">${a.customerName||"N/A"}</div>
            </div>
            ${a.customerPhone?`
              <div class="info-item">
                <div class="info-label">${i("ordersManager.PhoneNumber")}</div>
                <div class="info-value">${a.customerPhone}</div>
              </div>
            `:""}
          </div>
        </div>

        ${a.deliveryAddress||a.tableName?`
          <div class="section">
            <div class="section-title">
              ${a.deliveryAddress?i("ordersManager.DeliveryInformation"):i("ordersManager.TableInformation")}
            </div>
            ${a.deliveryAddress?`
              <div class="info-item">
                <div class="info-label">${i("ordersManager.DeliveryAddress")}</div>
                <div class="info-value">${a.deliveryAddress}</div>
              </div>
            `:""}
            ${a.tableName?`
              <div class="info-item">
                <div class="info-label">${i("ordersManager.table")}</div>
                <div class="info-value">${a.tableName} ${a.tableId?`(ID: ${a.tableId})`:""}</div>
              </div>
            `:""}
          </div>
        `:""}

        ${c?`
          <div class="section">
            <div class="section-title">${i("ordersManager.OrderNotes")}</div>
            <div style="padding: 10px; background: white; border-radius: 4px; line-height: 1.8;">
              ${c}
            </div>
          </div>
        `:""}

        <div class="items-section">
          <div class="section">
            <div class="section-title">${i("ordersManager.orderItems")}</div>
            ${o.length>0?this.generateItemsHTML(o):'<p style="text-align: center; color: #999; padding: 20px;">No items available</p>'}
          </div>
        </div>

        <div class="total-section">
          <div class="total-row">
            <span>${i("ordersManager.subTotal")}:</span>
            <span style="font-weight: 600;">$${(a.subTotal||0).toFixed(2)}</span>
          </div>
          ${a.serviceFeeApplied!==void 0&&a.serviceFeeApplied>0?`
            <div class="total-row">
              <span>${i("ordersManager.serviceFeeApplied")}:</span>
              <span style="font-weight: 600; color: #1976d2;">+$${a.serviceFeeApplied.toFixed(2)}</span>
            </div>
          `:""}
          ${d?.MinOrderAmount?`
            <div class="total-row">
              <span>${i("ordersManager.MinOrderAmount")}:</span>
              <span style="font-weight: 600;">$${parseFloat(d.MinOrderAmount).toFixed(2)}</span>
            </div>
          `:""}
          <div class="total-row grand-total">
            <span class="label">${i("ordersManager.total")}:</span>
            <span class="value">$${a.totalPrice.toFixed(2)}</span>
          </div>
        </div>

        <div class="timeline">
          <div class="section">
            <div class="section-title">${i("ordersManager.OrderTimeline")}</div>
            <div class="timeline-item">
              <div class="timeline-label">${i("ordersManager.createdAt")}</div>
              <div class="timeline-value">${new Date(a.createdAt).toLocaleString(s==="tr"?"tr-TR":s==="ar"?"ar-SA":"en-US",{dateStyle:"medium",timeStyle:"short"})}</div>
            </div>
            ${a.confirmedAt?`
              <div class="timeline-item" style="border-left-color: #4caf50;">
                <div class="timeline-label" style="color: #4caf50;">${i("ordersManager.confirmedAt")}</div>
                <div class="timeline-value">${new Date(a.confirmedAt).toLocaleString(s==="tr"?"tr-TR":s==="ar"?"ar-SA":"en-US",{dateStyle:"medium",timeStyle:"short"})}</div>
              </div>
            `:""}
            ${a.completedAt?`
              <div class="timeline-item" style="border-left-color: #2196f3;">
                <div class="timeline-label" style="color: #2196f3;">${i("ordersManager.CompletedAt")}</div>
                <div class="timeline-value">${new Date(a.completedAt).toLocaleString(s==="tr"?"tr-TR":s==="ar"?"ar-SA":"en-US",{dateStyle:"medium",timeStyle:"short"})}</div>
              </div>
            `:""}
          </div>
        </div>

        <div class="footer">
          <p>Printed: ${new Date().toLocaleString(s==="tr"?"tr-TR":s==="ar"?"ar-SA":"en-US",{dateStyle:"full",timeStyle:"short"})}</p>
          <p style="margin-top: 5px;">Order Management System</p>
        </div>
      </body>
      </html>
    `}static print(t){const a=this.generatePrintHTML(t),n=window.open("","_blank","width=900,height=800");n?(n.document.write(a),n.document.close(),n.focus(),setTimeout(()=>{n.print()},500)):alert("Please allow popups to print the order")}}const kF=({show:e,order:t,viewMode:a,lang:n,onClose:s,t:i})=>{const[o,l]=p.useState("medium"),[d,c]=p.useState("comfortable"),[g,h]=p.useState("medium"),[x,b]=p.useState({stats:!0,customer:!0,delivery:!0,notes:!0,items:!0,pricing:!0,timeline:!0}),[v,j]=p.useState(!1),w={small:"text-xs",medium:"text-sm",large:"text-base"},S={compact:"space-y-2 p-3",comfortable:"space-y-4 p-4",spacious:"space-y-6 p-6"},M={compact:"p-2",comfortable:"p-3",spacious:"p-4"},T={compact:"gap-1",comfortable:"gap-2",spacious:"gap-3"},A={none:"backdrop-blur-none",light:"backdrop-blur-sm",medium:"backdrop-blur-md",heavy:"backdrop-blur-xl"},I={none:"bg-black/40",light:"bg-black/50",medium:"bg-black/60",heavy:"bg-black/70"},_=()=>{l(te=>te==="small"?"medium":te==="medium"?"large":"small")},D=()=>{c(te=>te==="compact"?"comfortable":te==="comfortable"?"spacious":"compact")},E=()=>{h(te=>te==="none"?"light":te==="light"?"medium":te==="medium"?"heavy":"none")},X=te=>{b(K=>({...K,[te]:!K[te]}))},ee=te=>{b({stats:te,customer:te,delivery:te,notes:te,items:te,pricing:te,timeline:te})};if(!e||!t)return null;const Z=a==="branch"?kr.parseOrderStatus(t.status):ht.Pending,G=(te=>te&&te.replace(/\[METADATA:.*?\]/,"").trim()||null)(t.notes),J=()=>{wbe.print({order:t,status:Z,lang:n,t:i})},ce=(te,K=!1,Y=0)=>te.map((re,ne)=>{const z=re.extras?.reduce(($,q)=>$+(q.totalPrice||0),0)||0,F=(re.totalPrice!==void 0?re.totalPrice:re.price*re.count)+z;return r.jsxs("div",{className:`group transition-all duration-200 ${K?"ml-4":""}`,children:[r.jsxs("div",{className:`relative ${M[d]} rounded-lg border transition-all hover:shadow-md ${K?"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-blue-200 dark:border-blue-600":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:border-indigo-300 dark:hover:border-indigo-600"} ${re.isProductDeleted?"opacity-60 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-700":""}`,children:[K&&r.jsx("div",{className:"absolute -left-4 top-1/2 -translate-y-1/2 w-4 h-0.5 bg-blue-300 dark:bg-blue-600"}),r.jsxs("div",{className:`flex justify-between items-start ${T[d]}`,children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:`flex items-center ${T[d]} mb-2`,children:[r.jsx("div",{className:`p-1.5 rounded-md ${K?"bg-blue-100 dark:bg-blue-800":"bg-indigo-100 dark:bg-indigo-800"}`,children:r.jsx(G5,{className:`w-3 h-3 ${K?"text-blue-600 dark:text-blue-300":"text-indigo-600 dark:text-indigo-300"}`})}),r.jsxs("h5",{className:`font-semibold text-gray-900 dark:text-gray-100 text-sm truncate ${re.isProductDeleted?"line-through text-red-600 dark:text-red-400":""}`,children:[re.productName||re.extraName," "]}),re.isProductDeleted&&r.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 text-[10px] rounded-full font-medium",children:i("ordersManager.deleted")||"Deleted"}),K&&!re.isProductDeleted&&r.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-300 text-[10px] rounded-full font-medium",children:"Add-on"})]}),r.jsxs("div",{className:`grid grid-cols-2 md:grid-cols-3 ${T[d]} mb-2`,children:[r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(Vi,{className:"w-3 h-3 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"Qty"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:re.count||re.quantity||1})]})]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(qr,{className:"w-3 h-3 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"Unit"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:(re.price||re.unitPrice||0).toFixed(2)})]})]}),re.addonPrice&&r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(qr,{className:"w-3 h-3 text-blue-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"Addon"}),r.jsx("p",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:re.addonPrice.toFixed(2)})]})]})]}),(re.note||re.addonNote)&&r.jsx("div",{className:"mt-2 p-2 bg-amber-50 dark:bg-amber-900/20 rounded-md border border-amber-200 dark:border-amber-700",children:r.jsxs("div",{className:"flex items-start gap-1.5",children:[r.jsx(Xk,{className:"w-3 h-3 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-semibold text-amber-900 dark:text-amber-200 mb-0.5",children:"Note:"}),r.jsx("p",{className:"text-xs text-amber-800 dark:text-amber-300",children:re.note||re.addonNote})]})]})})]}),r.jsxs("div",{className:"flex flex-col items-end",children:[r.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mb-0.5",children:"Total"}),r.jsx("p",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400",children:!K&&!Number.isNaN(F)?F.toFixed(2):(re.totalPrice||0).toFixed(2)})]})]})]}),re.extras&&re.extras.length>0&&r.jsxs("div",{className:"mt-2 ml-4 relative space-y-2",children:[r.jsx("div",{className:"absolute left-[-16px] top-0 bottom-0 w-0.5 bg-gradient-to-b from-green-300 to-transparent dark:from-green-600"}),re.extras.map(($,q)=>r.jsxs("div",{className:`relative ${M[d]} rounded-lg border bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-green-200 dark:border-green-600`,children:[r.jsx("div",{className:"absolute -left-4 top-1/2 -translate-y-1/2 w-4 h-0.5 bg-green-300 dark:bg-green-600"}),r.jsxs("div",{className:`flex justify-between items-center ${T[d]}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 bg-green-100 dark:bg-green-800 rounded-md",children:r.jsx(Ut,{className:"w-3 h-3 text-green-600 dark:text-green-300"})}),r.jsxs("div",{children:[r.jsx("h6",{className:"text-xs font-semibold text-gray-800 dark:text-gray-200",children:$.extraName}),r.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400  px-1.5 rounded",children:$.extraCategoryName})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-[10px] text-gray-500",children:"Qty"}),r.jsx("p",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:$.quantity})]}),r.jsxs("div",{className:"text-right min-w-[3rem]",children:[r.jsx("p",{className:"text-[10px] text-gray-500",children:"Price"}),r.jsx("p",{className:"text-xs font-bold text-green-600 dark:text-green-400",children:$.totalPrice>0?`+${$.totalPrice.toFixed(2)}`:"Free"})]})]})]})]},`extra-${q}`))]}),re.addonItems&&re.addonItems.length>0&&r.jsxs("div",{className:"mt-2 space-y-2 relative",children:[r.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-gradient-to-b from-blue-300 to-transparent dark:from-blue-600"}),ce(re.addonItems,!0,Y+1)]})]},`${Y}-${ne}`)});return r.jsxs("div",{className:`fixed inset-0 dark:bg-black/80 flex items-center justify-center z-50 p-3 animate-fadeIn transition-all duration-300 ${I[g]} ${A[g]}`,children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-5xl w-full max-h-[95vh] overflow-hidden flex flex-col animate-slideUp",children:[r.jsxs("div",{className:"relative bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-700 dark:to-purple-700 px-4 py-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-lg",children:r.jsx(Ya,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:i("ordersManager.orderDetailsTitle")}),r.jsxs("p",{className:"text-indigo-100 text-xs",children:["Order #",t.orderTag]})]})]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("button",{onClick:()=>j(!v),className:`p-1.5 backdrop-blur-sm rounded-md transition-all text-white ${v?"bg-white/30":"bg-white/20 hover:bg-white/30"}`,title:"Settings",children:r.jsx(qa,{className:"w-4 h-4"})}),r.jsxs("button",{onClick:E,className:"p-1.5 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-md transition-all text-white flex items-center gap-1",title:`Blur: ${g}`,children:[r.jsx(q5,{className:"w-4 h-4"}),r.jsx("span",{className:"text-[10px] font-semibold uppercase",children:g[0]})]}),r.jsxs("button",{onClick:_,className:"p-1.5 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-md transition-all text-white flex items-center gap-1",title:`Font Size: ${o}`,children:[r.jsx(Gy,{className:"w-4 h-4"}),r.jsx("span",{className:"text-[10px] font-semibold uppercase",children:o[0]})]}),r.jsxs("button",{onClick:D,className:"p-1.5 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-md transition-all text-white flex items-center gap-1",title:`Density: ${d}`,children:[r.jsx(WO,{className:"w-4 h-4"}),r.jsx("span",{className:"text-[10px] font-semibold uppercase",children:d[0]})]}),r.jsx("button",{onClick:J,className:"p-1.5 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-md transition-all text-white",title:"Print Order",children:r.jsx(ZO,{className:"w-4 h-4"})}),r.jsx("button",{onClick:s,className:"p-1.5 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-md transition-all text-white",children:r.jsx(Ga,{className:"w-4 h-4"})})]})]}),v&&r.jsxs("div",{className:"mt-3 bg-white/10 backdrop-blur-md rounded-lg p-3 border border-white/20",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(q5,{className:"w-4 h-4 text-white"}),r.jsx("span",{className:"text-sm font-semibold text-white",children:"Background Blur"})]}),r.jsx("div",{className:"flex gap-1",children:["none","light","medium","heavy"].map(te=>r.jsx("button",{onClick:()=>h(te),className:`px-2 py-1 text-[10px] rounded transition-all ${g===te?"bg-white/30 text-white font-bold border border-white/40":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:te},te))})]}),r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-semibold text-white",children:"Section Visibility"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>ee(!0),className:"px-2 py-1 text-[10px] bg-white/20 hover:bg-white/30 rounded text-white transition-all",children:"Show All"}),r.jsx("button",{onClick:()=>ee(!1),className:"px-2 py-1 text-[10px] bg-white/20 hover:bg-white/30 rounded text-white transition-all",children:"Hide All"})]})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(x).map(([te,K])=>r.jsxs("button",{onClick:()=>X(te),className:`px-2 py-1.5 rounded text-xs font-medium transition-all flex items-center gap-1.5 ${K?"bg-white/20 text-white border border-white/30":"bg-white/5 text-white/50 border border-white/10"}`,children:[K?r.jsx(Ya,{className:"w-3 h-3"}):r.jsx(Cs,{className:"w-3 h-3"}),te.charAt(0).toUpperCase()+te.slice(1)]},te))})]}),r.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-3xl",children:t.orderTypeIcon||""}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-white",children:t.orderTypeName||"Order"}),r.jsx("p",{className:"text-xs text-indigo-100",children:t.orderTypeCode})]})]}),r.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold shadow-md ${ym.getStatusBadgeClass(Z)}`,children:[r.jsx("span",{children:ym.getStatusIcon(Z)}),r.jsx("span",{className:"ml-1",children:kr.getOrderStatusText(Z,n)})]})]})]}),r.jsxs("div",{className:`flex-1 overflow-y-auto ${S[d]} ${w[o]}`,children:[x.stats&&r.jsxs("div",{className:`grid grid-cols-2 md:grid-cols-4 ${T[d]}`,children:[r.jsxs("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 ${M[d]} rounded-lg border border-blue-200 dark:border-blue-700 hover:shadow-md transition-all`,children:[r.jsx(Vi,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 mb-1"}),r.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 mb-0.5",children:i("ordersManager.OrderTag")}),r.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-100 font-mono",children:t.orderTag})]}),r.jsxs("div",{className:`bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/30 ${M[d]} rounded-lg border border-purple-200 dark:border-purple-700 hover:shadow-md transition-all`,children:[r.jsx(Ar,{className:"w-4 h-4 text-purple-600 dark:text-purple-400 mb-1"}),r.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 mb-0.5",children:i("ordersManager.ItemCount")}),r.jsx("p",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:t.itemCount||t.items?.length||0})]}),r.jsxs("div",{className:`bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/30 dark:to-amber-800/30 ${M[d]} rounded-lg border border-amber-200 dark:border-amber-700 hover:shadow-md transition-all`,children:[r.jsx(G5,{className:"w-4 h-4 text-amber-600 dark:text-amber-400 mb-1"}),r.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 mb-0.5",children:i("ordersManager.quantity")}),r.jsx("p",{className:"text-lg font-bold text-amber-600 dark:text-amber-400",children:(()=>{const te=t.items;if(te){let K=0;const Y=re=>{re.forEach(ne=>{K+=ne.count||1,ne.addonItems&&ne.addonItems.length>0&&Y(ne.addonItems)})};return Y(te),K}return 0})()})]}),r.jsxs("div",{className:`bg-gradient-to-br from-green-50 to-emerald-100 dark:from-green-900/30 dark:to-emerald-800/30 ${M[d]} rounded-lg border border-green-200 dark:border-green-700 hover:shadow-md transition-all`,children:[r.jsx(qr,{className:"w-4 h-4 text-green-600 dark:text-green-400 mb-1"}),r.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 mb-0.5",children:i("ordersManager.total")}),r.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:t.totalPrice.toFixed(2)})]})]}),x.customer&&r.jsxs("div",{className:`bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-blue-900/20 dark:via-indigo-900/20 dark:to-purple-900/20 rounded-lg ${M[d]} border border-blue-200 dark:border-blue-700`,children:[r.jsxs("button",{onClick:()=>X("customer"),className:"flex items-center justify-between w-full mb-3 group",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-800 rounded-md",children:r.jsx(On,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),r.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:i("ordersManager.CustomerInformation")})]}),r.jsx(Hn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400 group-hover:text-blue-600 transition-colors"})]}),r.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 ${T[d]}`,children:[r.jsxs("div",{className:`flex items-start gap-2 ${M[d]} bg-white dark:bg-gray-800 rounded-md`,children:[r.jsx("div",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded-md",children:r.jsx(On,{className:"w-3 h-3 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:i("ordersManager.CustomerName")}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:t.customerName||"N/A"})]})]}),t.customerPhone&&r.jsxs("div",{className:`flex items-start gap-2 ${M[d]} bg-white dark:bg-gray-800 rounded-md`,children:[r.jsx("div",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded-md",children:r.jsx(Dn,{className:"w-3 h-3 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:i("ordersManager.PhoneNumber")}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:t.customerPhone})]})]})]})]}),x.delivery&&(t.deliveryAddress||t.tableName||t.tableId)&&r.jsxs("div",{className:`bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 dark:from-green-900/20 dark:via-emerald-900/20 dark:to-teal-900/20 rounded-lg ${M[d]} border border-green-200 dark:border-green-700`,children:[r.jsxs("button",{onClick:()=>X("delivery"),className:"flex items-center justify-between w-full mb-3 group",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 bg-green-100 dark:bg-green-800 rounded-md",children:t.deliveryAddress?r.jsx(Qy,{className:"w-4 h-4 text-green-600 dark:text-green-400"}):r.jsx(Yd,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),r.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:t.deliveryAddress?i("ordersManager.DeliveryInformation"):i("ordersManager.TableInformation")})]}),r.jsx(Hn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400 group-hover:text-green-600 transition-colors"})]}),r.jsxs("div",{className:"space-y-2",children:[t.deliveryAddress&&r.jsxs("div",{className:`flex items-start gap-2 ${M[d]} bg-white dark:bg-gray-800 rounded-md`,children:[r.jsx("div",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded-md",children:r.jsx(Qr,{className:"w-3 h-3 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:i("ordersManager.DeliveryAddress")}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:t.deliveryAddress})]})]}),t.tableName&&r.jsxs("div",{className:`flex items-start gap-2 ${M[d]} bg-white dark:bg-gray-800 rounded-md`,children:[r.jsx("div",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded-md",children:r.jsx(Yd,{className:"w-3 h-3 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:i("ordersManager.table")}),r.jsxs("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100",children:[t.tableName," ",t.tableId&&`(ID: ${t.tableId})`]})]})]})]})]}),x.notes&&G&&r.jsx("div",{className:`bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-amber-900/20 dark:to-yellow-900/20 rounded-lg ${M[d]} border border-amber-200 dark:border-amber-700`,children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"p-1.5 bg-amber-100 dark:bg-amber-800 rounded-md",children:r.jsx(Xk,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-xs font-bold text-amber-900 dark:text-amber-200 mb-1",children:i("ordersManager.OrderNotes")}),r.jsx("p",{className:"text-xs text-amber-800 dark:text-amber-300 leading-relaxed",children:G})]})]})}),x.items&&r.jsxs("div",{className:`bg-gray-50 dark:bg-gray-900/50 rounded-lg ${M[d]} border border-gray-200 dark:border-gray-700`,children:[r.jsxs("button",{onClick:()=>X("items"),className:"flex items-center justify-between w-full mb-3 group",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 bg-indigo-100 dark:bg-indigo-800 rounded-md",children:r.jsx(Ar,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"})}),r.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:i("ordersManager.orderItems")})]}),r.jsx(Hn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400 group-hover:text-indigo-600 transition-colors"})]}),(()=>{const te=t.items;return!te||te.length===0?r.jsx("div",{className:"p-8 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-700",children:r.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[r.jsx(Nt,{className:"w-12 h-12 text-yellow-600 dark:text-yellow-400 mb-3"}),r.jsx("p",{className:"text-yellow-900 dark:text-yellow-200 font-semibold text-sm",children:"No items data available"}),r.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 text-xs mt-1",children:"This order doesn't contain any items yet"})]})}):r.jsx("div",{className:"space-y-2",children:ce(te)})})()]}),x.timeline&&t.lastModifiedAt&&r.jsxs("div",{className:`bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-amber-900/20 dark:to-yellow-900/20 rounded-lg ${M[d]} border border-amber-200 dark:border-amber-700`,children:[r.jsxs("button",{onClick:()=>X("timeline"),className:"flex items-center justify-between w-full mb-3 group",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 bg-amber-100 dark:bg-amber-800 rounded-md",children:r.jsx(Nt,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"})}),r.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:i("ordersManager.modificationHistory")||"Modification History"})]}),r.jsx(Hn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400 group-hover:text-amber-600 transition-colors"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:`flex items-start gap-2 ${M[d]} bg-white dark:bg-gray-800 rounded-md`,children:[r.jsx("div",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded-md",children:r.jsx(la,{className:"w-3 h-3 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:i("ordersManager.lastModifiedAt")||"Last Modified"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100 font-mono",children:new Date(t.lastModifiedAt).toLocaleString(n==="tr"?"tr-TR":n==="ar"?"ar-SA":"en-US",{dateStyle:"short",timeStyle:"short"})})]})]}),r.jsxs("div",{className:`flex items-start gap-2 ${M[d]} bg-white dark:bg-gray-800 rounded-md`,children:[r.jsx("div",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded-md",children:r.jsx(On,{className:"w-3 h-3 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:i("ordersManager.modifiedBy")||"Modified By"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100 break-all",children:t.lastModifiedBy})]})]}),(()=>{try{const te=JSON.parse(t.modificationLog);if(Array.isArray(te)&&te.length>0)return r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"text-xs font-bold text-gray-700 dark:text-gray-300 mt-2",children:i("ordersManager.modificationDetails")||"Modification Details"}),te.map((K,Y)=>r.jsxs("div",{className:`p-2 rounded-md bg-amber-50 dark:bg-amber-900/30 ${M[d]} border border-amber-200 dark:border-amber-700`,children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[r.jsx(la,{className:"w-3 h-3 text-amber-700 dark:text-amber-400"}),r.jsx("p",{className:"text-xs font-semibold text-amber-800 dark:text-amber-300 font-mono",children:new Date(K.Timestamp).toLocaleString(n==="tr"?"tr-TR":n==="ar"?"ar-SA":"en-US",{dateStyle:"short",timeStyle:"short"})})]}),K.ModifiedBy&&r.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[r.jsx(On,{className:"w-3 h-3 text-amber-700 dark:text-amber-400"}),r.jsxs("p",{className:"text-xs font-semibold text-amber-800 dark:text-amber-300",children:[i("ordersManager.modifiedBy")||"By",": ",K.ModifiedBy]})]}),K.Reason&&r.jsxs("div",{className:"flex items-start gap-1.5 mb-1",children:[r.jsx(Xk,{className:"w-3 h-3 text-amber-700 dark:text-amber-400 mt-0.5"}),r.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-300",children:[i("ordersManager.reason")||"Reason",": ",K.Reason||"N/A"]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 mt-2 pt-2 border-t border-amber-200 dark:border-amber-600",children:[r.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-300",children:[i("ordersManager.total")||"Total",": ",r.jsxs("span",{className:"font-semibold",children:[K.OldTotalPrice?.toFixed(2),"  ",K.NewTotalPrice?.toFixed(2)]})]}),r.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-300",children:[i("ordersManager.items")||"Items",": ",r.jsxs("span",{className:"font-semibold",children:[K.OldItemCount,"  ",K.NewItemCount]})]})]})]},Y))]})}catch{return r.jsxs("div",{className:`flex items-start gap-2 ${M[d]} bg-white dark:bg-gray-800 rounded-md`,children:[r.jsx("div",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded-md",children:r.jsx(Nt,{className:"w-3 h-3 text-gray-600 dark:text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:i("ordersManager.modificationLog")||"Raw Log"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-gray-100 break-all",children:t.modificationLog})]})]})}})()]})]}),x.pricing&&r.jsxs("div",{className:`bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-lg ${M[d]} border border-gray-200 dark:border-gray-600`,children:[r.jsxs("button",{onClick:()=>X("pricing"),className:"flex items-center justify-between w-full mb-3 group",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 bg-gray-200 dark:bg-gray-700 rounded-md",children:r.jsx(Sm,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),r.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:"Pricing"})]}),r.jsx(Hn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400 group-hover:text-gray-900 transition-colors"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:`flex justify-between items-center ${M[d]} bg-white dark:bg-gray-800 rounded-md`,children:[r.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium",children:i("ordersManager.subTotal")}),r.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:(t.subTotal||0).toFixed(2)})]}),t.serviceFeeApplied!==void 0&&t.serviceFeeApplied>0&&r.jsxs("div",{className:`flex justify-between items-center ${M[d]} bg-blue-50 dark:bg-blue-900/20 rounded-md`,children:[r.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium",children:i("ordersManager.serviceFeeApplied")}),r.jsxs("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400",children:["+",t.serviceFeeApplied.toFixed(2)]})]}),r.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-600 to-transparent my-2"}),r.jsxs("div",{className:`flex justify-between items-center ${M[d]} bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 rounded-md border border-green-200 dark:border-green-700`,children:[r.jsx("span",{className:"text-base font-bold text-gray-900 dark:text-gray-100",children:i("ordersManager.total")}),r.jsx("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:t.totalPrice.toFixed(2)})]})]})]}),x.timeline&&r.jsxs("div",{className:`bg-gradient-to-br from-slate-50 to-gray-100 dark:from-slate-900/50 dark:to-gray-800/50 rounded-lg ${M[d]} border border-slate-200 dark:border-slate-700`,children:[r.jsxs("button",{onClick:()=>X("timeline"),className:"flex items-center justify-between w-full mb-3 group",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 bg-slate-200 dark:bg-slate-700 rounded-md",children:r.jsx(Or,{className:"w-4 h-4 text-slate-600 dark:text-slate-400"})}),r.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:i("ordersManager.OrderTimeline")})]}),r.jsx(Hn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400 group-hover:text-slate-600 transition-colors"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"relative pl-8",children:[r.jsx("div",{className:"absolute left-0 top-0.5 w-5 h-5 bg-indigo-500 rounded-full border-2 border-white dark:border-gray-800 shadow-md flex items-center justify-center",children:r.jsx(Or,{className:"w-2.5 h-2.5 text-white"})}),t.confirmedAt&&r.jsx("div",{className:"absolute left-2.5 top-5 w-0.5 h-full bg-gradient-to-b from-indigo-300 to-green-300 dark:from-indigo-600 dark:to-green-600"}),r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-md ${M[d]} border border-indigo-200 dark:border-indigo-700`,children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[r.jsx(la,{className:"w-3 h-3 text-indigo-600 dark:text-indigo-400"}),r.jsx("p",{className:"text-xs font-bold text-indigo-900 dark:text-indigo-200",children:i("ordersManager.createdAt")})]}),r.jsx("p",{className:"text-xs font-mono text-gray-700 dark:text-gray-300",children:new Date(t.createdAt).toLocaleString(n==="tr"?"tr-TR":n==="ar"?"ar-SA":"en-US",{dateStyle:"short",timeStyle:"short"})})]})]}),t.confirmedAt&&r.jsxs("div",{className:"relative pl-8",children:[r.jsx("div",{className:"absolute left-0 top-0.5 w-5 h-5 bg-green-500 rounded-full border-2 border-white dark:border-gray-800 shadow-md flex items-center justify-center",children:r.jsx(tr,{className:"w-2.5 h-2.5 text-white"})}),t.completedAt&&r.jsx("div",{className:"absolute left-2.5 top-5 w-0.5 h-full bg-gradient-to-b from-green-300 to-blue-300 dark:from-green-600 dark:to-blue-600"}),r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-md ${M[d]} border border-green-200 dark:border-green-700`,children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[r.jsx(la,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),r.jsx("p",{className:"text-xs font-bold text-green-900 dark:text-green-200",children:i("ordersManager.confirmedAt")})]}),r.jsx("p",{className:"text-xs font-mono text-gray-700 dark:text-gray-300",children:new Date(t.confirmedAt).toLocaleString(n==="tr"?"tr-TR":n==="ar"?"ar-SA":"en-US",{dateStyle:"short",timeStyle:"short"})})]})]}),t.completedAt&&r.jsxs("div",{className:"relative pl-8",children:[r.jsx("div",{className:"absolute left-0 top-0.5 w-5 h-5 bg-blue-500 rounded-full border-2 border-white dark:border-gray-800 shadow-md flex items-center justify-center",children:r.jsx(tr,{className:"w-2.5 h-2.5 text-white"})}),r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-md ${M[d]} border border-blue-200 dark:border-blue-700`,children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[r.jsx(la,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"}),r.jsx("p",{className:"text-xs font-bold text-blue-900 dark:text-blue-200",children:i("ordersManager.CompletedAt")})]}),r.jsx("p",{className:"text-xs font-mono text-gray-700 dark:text-gray-300",children:new Date(t.completedAt).toLocaleString(n==="tr"?"tr-TR":n==="ar"?"ar-SA":"en-US",{dateStyle:"short",timeStyle:"short"})})]})]})]})]})]})]}),r.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.2s ease-out;
        }
        
        .animate-slideUp {
          animation: slideUp 0.3s ease-out;
        }
      `})]})},wF=({order:e,t})=>e?r.jsx("div",{className:"fixed bottom-4 right-4 bg-green-100 dark:bg-green-900 border border-green-400 dark:border-green-700 text-green-700 dark:text-green-200 px-4 py-3 rounded-lg shadow-lg max-w-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(tr,{className:"w-5 h-5 mr-2"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:t("ordersManager.successNotification")}),r.jsxs("p",{className:"text-sm",children:[e.customerName," - ",e.orderTag]})]})]})}):null,jbe=({order:e,viewMode:t,lang:a,onOpenDetails:n,onOpenConfirm:s,onOpenReject:i,onOpenStatus:o,onOpenCancel:l,t:d,rowIndex:c})=>{const h=t==="pending"?ht.Pending:kr.parseOrderStatus(e.status),x=e.rowVersion||"",b=ym.getValidStatusTransitions(h),v=a==="ar",j=c%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-800/50",w=kr.canModifyOrder(h)&&h!==ht.Completed&&h!==ht.Confirmed&&h!==ht.Delivered&&h!==ht.Cancelled&&h!==ht.Rejected;return r.jsxs("tr",{className:`${j} hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200 border-b border-gray-100 dark:border-gray-700`,children:[r.jsx("td",{className:`px-4 py-4 ${v?"text-right":"text-left"}`,children:r.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 px-3 py-1.5 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"}),r.jsx("span",{className:"text-xs font-mono font-bold text-gray-900 dark:text-gray-100",children:e.orderTag})]})}),t==="branch"&&r.jsx("td",{className:`px-4 py-4 ${v?"text-right":"text-left"}`,children:r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold border-2 ${ym.getStatusBadgeClass(h)} shadow-sm`,children:[ym.getStatusIcon(h),r.jsx("span",{children:kr.getOrderStatusText(h,a)})]})}),r.jsx("td",{className:`px-4 py-4 ${v?"text-right":"text-left"}`,children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("div",{className:"text-lg font-black text-green-600 dark:text-green-400",children:e.totalPrice.toFixed(2)}),r.jsxs("div",{className:`flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 ${v?"flex-row-reverse":""}`,children:[r.jsx(Ar,{className:"w-3 h-3"}),r.jsxs("span",{children:[e.itemCount||0," ",d("ordersManager.orderItems")]})]})]})}),r.jsx("td",{className:`px-4 py-4 ${v?"text-right":"text-left"}`,children:r.jsxs("div",{className:`flex items-center gap-2 ${v?"flex-row-reverse":""}`,children:[r.jsx("span",{className:"text-2xl",children:e.orderTypeIcon}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:e.orderTypeName}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.orderTypeCode})]})]})}),r.jsx("td",{className:`px-4 py-4 ${v?"text-right":"text-left"}`,children:r.jsxs("div",{className:`flex items-center gap-2 ${v?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"p-1.5 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsx(Or,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),r.jsx("div",{className:"flex flex-col",children:r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(e.createdAt).toLocaleTimeString(a==="tr"?"tr-TR":a==="ar"?"ar-SA":"en-US",{hour:"2-digit",minute:"2-digit"})})})]})}),r.jsx("td",{className:`px-4 py-4 ${v?"text-left":"text-right"}`,children:r.jsxs("div",{className:`flex items-center gap-2 ${v?"flex-row-reverse justify-end":"justify-end"}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[w&&r.jsxs("button",{onClick:()=>s(e.id.toString(),x),className:"group relative px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-lg transition-all duration-200 hover:scale-105 hover:shadow-lg font-bold text-sm flex items-center gap-2",title:d("ordersManager.confirm"),children:[r.jsx(tr,{className:"w-5 h-5"}),r.jsx("span",{className:"hidden sm:inline",children:d("ordersManager.confirm")})]}),r.jsx("button",{onClick:()=>n(e),className:"p-2.5 text-indigo-600 hover:text-white hover:bg-indigo-600 dark:text-indigo-400 dark:hover:bg-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg transition-all duration-200 hover:scale-105 hover:shadow-lg",title:d("ordersManager.viewDetails"),children:r.jsx(Ya,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex items-center gap-1 pl-2 border-l-2 border-gray-200 dark:border-gray-600",children:[h===ht.Pending&&r.jsx("button",{onClick:()=>i(e.id.toString(),x),className:"p-2 text-red-600 hover:text-white hover:bg-red-600 dark:text-red-400 dark:hover:bg-red-500 bg-red-50 dark:bg-red-900/20 rounded-lg transition-all duration-200 hover:scale-105",title:d("ordersManager.reject"),children:r.jsx(Ga,{className:"w-4 h-4"})}),kr.canCancelOrder(h)&&r.jsx("button",{onClick:()=>l(e.id.toString(),x),className:"p-2 text-orange-600 hover:text-white hover:bg-orange-600 dark:text-orange-400 dark:hover:bg-orange-500 bg-orange-50 dark:bg-orange-900/20 rounded-lg transition-all duration-200 hover:scale-105",title:d("ordersManager.cancel"),children:r.jsx(fN,{className:"w-4 h-4"})}),b.length>0&&r.jsxs("div",{className:"relative group",children:[r.jsxs("select",{title:d("ordersManager.changeStatus"),onChange:S=>{const M=parseInt(S.target.value);M!==h&&o(e.id.toString(),x,M),S.target.value=""},className:"appearance-none text-xs border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg px-3 py-2 pr-8 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:border-blue-400 transition-all cursor-pointer font-semibold hover:shadow-md",defaultValue:"",children:[r.jsxs("option",{value:"",disabled:!0,children:[r.jsx(ko,{className:"inline w-3 h-3"})," ",d("ordersManager.status")]}),b.filter(S=>!(h===ht.Preparing&&S===ht.Completed||h===ht.Ready&&S===ht.Completed)).map(S=>r.jsx("option",{value:S,children:kr.getOrderStatusText(S,a)},S))]}),r.jsx(ko,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})})]})},jF=({orders:e,viewMode:t,loading:a,expandedRows:n,sortField:s,sortDirection:i,hasActiveFilters:o,lang:l,onSort:d,onToggleExpansion:c,onOpenDetails:g,onOpenConfirm:h,onOpenReject:x,onOpenStatus:b,onOpenCancel:v,onClearFilters:j,t:w})=>{const S=l==="ar",M=A=>s!==A?null:i==="asc"?r.jsx(Hn,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}):r.jsx(Rr,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),T=()=>{if(o)return w("ordersManager.noMatchingOrders")||"No orders match your current filters";const I=w(t==="pending"?"ordersManager.pendingOrders":"ordersManager.branchOrders").toLowerCase();return`${w("ordersManager.no")} ${I} ${w("ordersManager.found")}`||`No ${I} found`};return a?r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-12",children:r.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-gray-200 dark:border-gray-700"}),r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-t-blue-600 dark:border-t-blue-400 absolute top-0 left-0"})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:w("ordersManager.loadingOrders")||"Loading orders..."})]})}):r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl overflow-hidden border border-gray-200 dark:border-gray-700",dir:S?"rtl":"ltr",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-700 dark:to-indigo-700 px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2",children:r.jsx(al,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold text-lg",children:w(t==="pending"?"ordersManager.pendingOrders":"ordersManager.branchOrders")}),r.jsxs("p",{className:"text-blue-100 text-sm",children:[e.length," ",e.length===1?w("ordersManager.order"):w("ordersManager.orders"),o&&r.jsxs("span",{className:"ml-2 text-yellow-200",children:["(",w("ordersManager.filtered"),")"]})]})]})]}),o&&r.jsx("button",{onClick:j,className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-all duration-200 font-medium text-sm backdrop-blur-sm",children:w("ordersManager.clearFilters")})]})}),e.length===0?r.jsxs("div",{className:"text-center py-16 px-6",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gray-100 dark:bg-gray-700 mb-4",children:r.jsx(Nt,{className:"w-10 h-10 text-gray-400 dark:text-gray-500"})}),r.jsx("h4",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:o?w("ordersManager.noResults")||"No Results Found":w("ordersManager.noOrders")||"No Orders"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:T()}),o&&r.jsx("button",{onClick:j,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-lg hover:shadow-xl font-medium",children:w("ordersManager.clearFilters")})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50 border-b-2 border-gray-200 dark:border-gray-600",children:[r.jsx("th",{className:`px-4 py-4 ${S?"text-right":"text-left"} text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider`,children:w("ordersManager.orderNumber")}),t==="branch"&&r.jsx("th",{className:`px-4 py-4 ${S?"text-right":"text-left"} text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider`,children:w("ordersManager.status")}),r.jsx("th",{className:`px-4 py-4 ${S?"text-right":"text-left"} text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider`,children:r.jsxs("button",{onClick:()=>d("totalPrice"),className:`flex items-center gap-2 ${S?"flex-row-reverse":""} hover:text-blue-600 dark:hover:text-blue-400 transition-colors group`,children:[r.jsx("span",{children:w("ordersManager.amount")}),r.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:M("totalPrice")})]})}),r.jsx("th",{className:`px-4 py-4 ${S?"text-right":"text-left"} text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider`,children:w("ordersManager.orderType")}),r.jsx("th",{className:`px-4 py-4 ${S?"text-right":"text-left"} text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider`,children:r.jsxs("button",{onClick:()=>d("createdAt"),className:`flex items-center gap-2 ${S?"flex-row-reverse":""} hover:text-blue-600 dark:hover:text-blue-400 transition-colors group`,children:[r.jsx("span",{children:w("ordersManager.time")}),r.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:M("createdAt")})]})}),r.jsx("th",{className:`px-4 py-4 ${S?"text-right":"text-left"} text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider`,children:w("ordersManager.actions")})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map((A,I)=>r.jsx(jbe,{order:A,onOpenCancel:v,viewMode:t,isExpanded:n.has(A.id.toString()),lang:l,onToggleExpansion:c,onOpenDetails:g,onOpenConfirm:h,onOpenReject:x,onOpenStatus:b,t:w,rowIndex:I},A.id))})]})}),e.length>0&&r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 px-6 py-4 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[w("ordersManager.showing")," ",r.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.length})," ",e.length===1?w("ordersManager.order"):w("ordersManager.orders")]}),r.jsxs("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:[w("ordersManager.total"),": ",r.jsx("span",{className:"text-green-600 dark:text-green-400 text-lg ml-2",children:e.reduce((A,I)=>A+I.totalPrice,0).toFixed(2)})]})]})})]})},NF=({show:e,loading:t,onCancel:a,onClose:n,t:s})=>{if(!e)return null;const i=o=>{o.preventDefault(),a()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(fN,{className:"w-6 h-6 text-orange-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:s("ordersManager.cancelOrder")})]}),r.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:t,children:r.jsx(xt,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:i,children:[r.jsx("div",{className:"mb-6",children:r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s("ordersManager.cancelOrderConfirmation")})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:n,disabled:t,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s("common.cancel")}),r.jsx("button",{type:"submit",disabled:t,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-colors",children:t?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-white"}):r.jsxs(r.Fragment,{children:[r.jsx(fN,{className:"w-4 h-4 mr-2"}),s("ordersManager.cancelOrder")]})})]})]})]})})},Nbe=()=>{const{t:e,language:t}=Ze(),a=t,n=p.useRef(null),{state:s,actions:{fetchPendingOrders:i,handleConfirmOrder:o,handleRejectOrder:l,handleCancelOrder:d,handleUpdateStatus:c,switchViewMode:g,openConfirmModal:h,openRejectModal:x,openCancelModal:b,openStatusModal:v,openDetailsModal:j,closeModals:w,toggleRowExpansion:S,handleSort:M,fetchBranchOrders:T,handleBranchPageChange:A,handleBranchItemsPerPageChange:I,setState:_}}=cF(),{filteredOrders:D,updateFilter:E,updateNestedFilter:X,clearFilters:ee,hasActiveFilters:Z}=uF(s,_),B=p.useCallback(F=>{s.viewMode==="pending"&&_(F)},[s.viewMode,_]),{paginatedOrders:G,changePage:J,changeItemsPerPage:ce}=mF(D,s.pagination,B),te=p.useRef(!1),K=p.useRef(!1),Y=p.useRef(null),re=s.viewMode==="branch"?s.branchOrders:G,ne=s.viewMode==="branch"?s.pagination.totalItems:D.length,z=s.viewMode==="branch"?A:J,V=s.viewMode==="branch"?I:ce;return p.useEffect(()=>{te.current||(te.current=!0,i())},[]),p.useEffect(()=>{if(K.current)return;const F={viewMode:s.viewMode,page:s.pagination.currentPage,pageSize:s.pagination.itemsPerPage};if(Y.current&&Y.current.viewMode===F.viewMode&&Y.current.page===F.page&&Y.current.pageSize===F.pageSize)return;K.current=!0,Y.current=F,(async()=>{try{s.viewMode==="pending"?await i():s.viewMode==="branch"&&await T(void 0,s.pagination.currentPage,s.pagination.itemsPerPage)}finally{K.current=!1}})()},[s.viewMode,s.pagination.currentPage,s.pagination.itemsPerPage,i,T]),p.useEffect(()=>(n.current&&clearInterval(n.current),s.viewMode==="pending"&&(n.current=window.setInterval(()=>{i()},3e4)),()=>{n.current&&(clearInterval(n.current),n.current=null)}),[s.viewMode,i]),r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx(gF,{t:e}),r.jsx(hF,{viewMode:s.viewMode,pendingCount:s.pendingOrders.length,branchCount:s.pagination.totalItems||s.branchOrders.length,onModeChange:g,t:e}),s.viewMode==="pending"&&r.jsx(fF,{filters:s.filters,showAdvancedFilters:s.showAdvancedFilters,hasActiveFilters:Z,viewMode:s.viewMode,lang:a,filteredCount:D.length,totalCount:s.pendingOrders.length,onUpdateFilter:E,onUpdateNestedFilter:X,onClearFilters:ee,onToggleAdvanced:()=>_(F=>({...F,showAdvancedFilters:!F.showAdvancedFilters})),t:e}),r.jsx(pF,{pagination:s.pagination,totalFiltered:ne,onPageChange:z,onItemsPerPageChange:V,t:e}),r.jsx(xF,{error:s.error}),r.jsx(jF,{orders:re,viewMode:s.viewMode,loading:s.loading,expandedRows:s.expandedRows,sortField:s.sortField,sortDirection:s.sortDirection,hasActiveFilters:s.viewMode==="pending"?Z:!1,lang:a,onSort:M,onToggleExpansion:S,onOpenDetails:j,onOpenConfirm:h,onOpenReject:x,onOpenStatus:v,onOpenCancel:b,onClearFilters:ee,t:e}),r.jsx(yF,{show:s.showConfirmModal,loading:s.loading,onConfirm:o,onClose:w,t:e}),r.jsx(bF,{show:s.showRejectModal,loading:s.loading,rejectReason:s.rejectReason,onReasonChange:F=>_($=>({...$,rejectReason:F})),onReject:l,onClose:w,t:e}),r.jsx(NF,{show:s.showCancelModal,loading:s.loading,onCancel:d,onClose:w,t:e}),r.jsx(vF,{show:s.showStatusModal,loading:s.loading,newStatus:s.newStatus,lang:a,onUpdate:c,onClose:w,t:e}),r.jsx(kF,{show:s.showDetailsModal,order:s.selectedOrder,viewMode:s.viewMode,lang:a,onClose:w,t:e}),r.jsx(wF,{order:s.selectedOrder,t:e})]})})},Cbe=()=>{const{t:e,isRTL:t}=Ze(),[a,n]=p.useState([]),[s,i]=p.useState(null),[o,l]=p.useState(!1),[d,c]=p.useState([]),[g,h]=p.useState(!0),[x,b]=p.useState(null),[v,j]=p.useState({}),[w,S]=p.useState(""),M=Lr.useRef(null);Ss(M,()=>l(!1)),p.useEffect(()=>{(async()=>{try{const X=await oa.getBranchesDropdown();n(X),X.length>0&&!s&&i(X[0])}catch(X){console.error("ube listesi yklenirken hata:",X),b(e("dashboard.orderType.branchLoadError"))}})()},[e]),p.useEffect(()=>{s&&T()},[s]);const T=async()=>{if(s)try{h(!0),b(null);const E=await nu.getOrderTypes(s.branchId);c(E)}catch(E){b(E.message||e("dashboard.orderType.loadingError"))}finally{h(!1)}},A=E=>{i(E),l(!1),b(null),S("")},I=async E=>{try{j(Z=>({...Z,[E.id]:!0})),b(null),S("");const X={id:E.id,name:E.name,code:E.code,description:E.description,icon:E.icon,isActive:E.isActive,displayOrder:E.displayOrder,requiresName:E.requiresName??!1,requiresTable:E.requiresTable,requiresAddress:E.requiresAddress,requiresPhone:E.requiresPhone,minOrderAmount:E.minOrderAmount,serviceCharge:E.serviceCharge,estimatedMinutes:E.estimatedMinutes,rowVersion:E.rowVersion},ee=await nu.updateOrderTypeSettings(E.id,X);ee?c(Z=>Z.map(B=>B.id===E.id?ee:B)):await T(),S(e("dashboard.orderType.settingsUpdated")),setTimeout(()=>S(""),3e3)}catch(X){console.error("Update settings error:",X),b(X.message||e("dashboard.orderType.updateError"))}finally{j(X=>({...X,[E.id]:!1}))}},_=(E,X,ee)=>{c(Z=>Z.map(B=>B.id===E?{...B,[X]:ee}:B))},D=E=>{I(E)};return s?g?r.jsx("div",{className:"flex items-center justify-center min-h-96 bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"text-center",children:[r.jsx(mt,{className:"w-10 h-10 animate-spin mx-auto mb-6 text-indigo-600 dark:text-indigo-400"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg font-medium",children:e("dashboard.orderType.loading")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-2",children:e("dashboard.orderType.pleaseWait")})]})}):r.jsx("div",{className:`min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 transition-colors duration-300 ${t?"rtl":"ltr"}`,children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"mb-12",children:r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""} mb-6`,children:[r.jsxs("div",{className:`flex items-center gap-4 ${t?"flex-row-reverse":""}`,children:[r.jsx("div",{className:"p-3 bg-indigo-600 dark:bg-indigo-500 rounded-xl shadow-lg",children:r.jsx(qa,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:e("dashboard.orderType.title")}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mt-2",children:e("dashboard.orderType.subtitle")})]})]}),r.jsxs("div",{className:"relative",ref:M,children:[r.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between min-w-[200px] px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${t?"flex-row-reverse":""}`,"aria-label":e("dashboard.orderType.branchSelector"),children:[r.jsxs("span",{className:`flex items-center ${t?"flex-row-reverse":""}`,children:[r.jsx($r,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 ${t?"ml-2":"mr-2"}`}),s?s.branchName:e("dashboard.orderType.selectBranch")]}),r.jsx(Rr,{className:`h-4 w-4 transition-transform duration-200 ${o?"transform rotate-180":""} ${t?"mr-2":"ml-2"}`})]}),o&&r.jsx("div",{className:`absolute z-20 mt-1 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 max-h-60 overflow-auto ${t?"right-0":"left-0"}`,children:a.length===0?r.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:e("dashboard.orderType.noBranches")}):a.map(E=>r.jsx("button",{onClick:()=>A(E),className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${s?.branchId===E.branchId?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400":"text-gray-700 dark:text-gray-200"} ${t?"text-right":"text-left"}`,children:E.branchName},E.branchId))})]})]})}),w&&r.jsx("div",{className:`mb-8 p-4 rounded-xl border-l-4 border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 shadow-lg animate-fade-in ${t?"border-r-4 border-l-0":""}`,children:r.jsxs("div",{className:`flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[r.jsx(tr,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),r.jsx("p",{className:"text-emerald-800 dark:text-emerald-200 font-medium",children:w})]})}),x&&r.jsx("div",{className:`mb-8 p-4 rounded-xl border-l-4 border-red-500 bg-red-50 dark:bg-red-900/20 shadow-lg ${t?"border-r-4 border-l-0":""}`,children:r.jsxs("div",{className:`flex items-center gap-3 ${t?"flex-row-reverse":""}`,children:[r.jsx(Nt,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),r.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:x})]})}),d.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(qa,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:e("dashboard.orderType.noOrderTypes")})]}):r.jsx("div",{className:"grid gap-8 lg:grid-cols-2 xl:grid-cols-2 mb-12",children:d.map(E=>r.jsx("div",{className:"group bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-[1.02] border border-gray-200 dark:border-gray-700 overflow-hidden",children:r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:`flex items-center justify-between mb-6 ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-4 ${t?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`p-4 rounded-xl text-3xl shadow-md ${E.isActive?"bg-gradient-to-br from-indigo-500 to-purple-600 dark:from-indigo-400 dark:to-purple-500 text-white":"bg-gray-50 dark:bg-gray-700"} transition-colors duration-300`,children:E.icon}),r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-200",children:E.name}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:E.description}),r.jsxs("div",{className:`flex items-center gap-2 mt-2 ${t?"flex-row-reverse":""}`,children:[r.jsx(Or,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["~",E.estimatedMinutes," ",e("dashboard.orderType.minutes")]})]})]})]}),E.activeOrderCount>0&&r.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-200 text-sm font-semibold rounded-xl border border-indigo-200 dark:border-indigo-800 ${t?"flex-row-reverse":""}`,children:[r.jsx($r,{className:"w-4 h-4"}),E.activeOrderCount," ",e("dashboard.orderType.active")]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:`flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600 ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:e("dashboard.orderType.activeStatus")}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e("dashboard.orderType.activeStatusDescription")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:e("dashboard.orderType.activeStatus"),type:"checkbox",checked:E.isActive,onChange:X=>_(E.id,"isActive",X.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-14 h-7 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer transition-all duration-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-6 after:w-6 after:transition-all after:shadow-md peer-checked:bg-indigo-600 dark:peer-checked:bg-indigo-500"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-700 dark:to-gray-600 p-4 rounded-xl border border-blue-200 dark:border-gray-600",children:[r.jsx("h4",{className:`text-sm font-bold text-gray-900 dark:text-white mb-4 ${t?"text-right":"text-left"}`,children:e("dashboard.orderType.requirements")||"Required Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsx(On,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e("dashboard.orderType.requiresName")||"Requires Name"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:e("dashboard.orderType.requiresName")||"Requires Name",type:"checkbox",checked:E.requiresName??!1,onChange:X=>_(E.id,"requiresName",X.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer transition-all duration-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all after:shadow-md peer-checked:bg-blue-600 dark:peer-checked:bg-blue-500"})]})]}),r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsx(Xd,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e("dashboard.orderType.requiresTable")||"Requires Table"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:e("dashboard.orderType.requiresTable")||"Requires Table",type:"checkbox",checked:E.requiresTable,onChange:X=>_(E.id,"requiresTable",X.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer transition-all duration-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all after:shadow-md peer-checked:bg-green-600 dark:peer-checked:bg-green-500"})]})]}),r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsx(Qr,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e("dashboard.orderType.requiresAddress")||"Requires Address"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:e("dashboard.orderType.requiresAddress")||"Requires Address",type:"checkbox",checked:E.requiresAddress,onChange:X=>_(E.id,"requiresAddress",X.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer transition-all duration-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all after:shadow-md peer-checked:bg-purple-600 dark:peer-checked:bg-purple-500"})]})]}),r.jsxs("div",{className:`flex items-center justify-between ${t?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-2 ${t?"flex-row-reverse":""}`,children:[r.jsx(Dn,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"}),r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e("dashboard.orderType.requiresPhone")||"Requires Phone"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:e("dashboard.orderType.requiresPhone")||"Requires Phone",type:"checkbox",checked:E.requiresPhone,onChange:X=>_(E.id,"requiresPhone",X.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 dark:peer-focus:ring-orange-800 rounded-full peer transition-all duration-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all after:shadow-md peer-checked:bg-orange-600 dark:peer-checked:bg-orange-500"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 ${t?"flex-row-reverse":""}`,children:[r.jsx(Or,{className:"w-4 h-4"}),e("dashboard.orderType.estimatedMinutes")||"Estimated Minutes"]}),r.jsx("div",{className:"relative",children:r.jsx("input",{type:"number",min:"0",step:"1",value:E.estimatedMinutes,onChange:X=>_(E.id,"estimatedMinutes",parseInt(X.target.value)||0),className:`w-full px-4 py-3 ${t?"pl-10 text-right":"pr-10"} border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent transition-all duration-200 shadow-sm`,placeholder:"0"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 ${t?"flex-row-reverse":""}`,children:[r.jsx(qr,{className:"w-4 h-4"}),e("dashboard.orderType.minOrderAmount")]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",step:"1",value:E.minOrderAmount,onChange:X=>_(E.id,"minOrderAmount",parseFloat(X.target.value)||0),className:`w-full px-4 py-3 ${t?"pr-10 text-right":"pl-10"} border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent transition-all duration-200 shadow-sm`,placeholder:"0.00"}),r.jsx("span",{className:`absolute ${t?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400`,children:""})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:`flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 ${t?"flex-row-reverse":""}`,children:[r.jsx(qr,{className:"w-4 h-4"}),e("dashboard.orderType.serviceCharge")]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",step:"1",value:E.serviceCharge,onChange:X=>_(E.id,"serviceCharge",parseFloat(X.target.value)||0),className:`w-full px-4 py-3 ${t?"pr-10 text-right":"pl-10"} border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent transition-all duration-200 shadow-sm`,placeholder:"0.00"}),r.jsx("span",{className:`absolute ${t?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400`,children:""})]})]}),r.jsx("button",{onClick:()=>D(E),disabled:v[E.id],className:`w-full flex items-center justify-center gap-3 px-6 py-4 rounded-xl font-semibold text-white transition-all duration-300 transform ${v[E.id]?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed scale-95":"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 dark:from-indigo-500 dark:to-purple-500 dark:hover:from-indigo-600 dark:hover:to-purple-600 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95"} ${t?"flex-row-reverse":""}`,children:v[E.id]?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"w-5 h-5 animate-spin"}),e("dashboard.orderType.updating")]}):r.jsxs(r.Fragment,{children:[r.jsx(Oa,{className:"w-5 h-5"}),e("dashboard.orderType.saveSettings")]})})]})]})},E.id))}),d.length>0&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 p-6 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("div",{className:"text-3xl font-bold",children:d.length}),r.jsx("div",{className:"text-blue-100 font-medium",children:e("dashboard.orderType.totalOrderTypes")})]}),r.jsx(qa,{className:"w-8 h-8 text-blue-200"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 dark:from-emerald-600 dark:to-emerald-700 p-6 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("div",{className:"text-3xl font-bold",children:d.filter(E=>E.isActive).length}),r.jsx("div",{className:"text-emerald-100 font-medium",children:e("dashboard.orderType.activeTypes")})]}),r.jsx(tr,{className:"w-8 h-8 text-emerald-200"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 dark:from-orange-600 dark:to-orange-700 p-6 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:t?"text-right":"text-left",children:[r.jsx("div",{className:"text-3xl font-bold",children:d.reduce((E,X)=>E+X.activeOrderCount,0)}),r.jsx("div",{className:"text-orange-100 font-medium",children:e("dashboard.orderType.totalActiveOrders")})]}),r.jsx($r,{className:"w-8 h-8 text-orange-200"})]})})]})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-96 bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"text-center",children:[r.jsx($r,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("dashboard.orderType.selectBranch")})]})})},Sbe=()=>{const{t:e,language:t,isRTL:a}=Ze(),n=t,{state:s,actions:{fetchBranches:i,handleBranchSelect:o,fetchPendingOrders:l,handleConfirmOrder:d,handleRejectOrder:c,handleUpdateStatus:g,switchViewMode:h,openConfirmModal:x,openRejectModal:b,openStatusModal:v,openDetailsModal:j,closeModals:w,toggleRowExpansion:S,handleSort:M,setState:T,handleCancelOrder:A,openCancelModal:I,fetchBranchOrders:_,handleBranchPageChange:D,handleBranchItemsPerPageChange:E}}=cF(),{filteredOrders:X,updateFilter:ee,updateNestedFilter:Z,clearFilters:B,hasActiveFilters:G}=uF(s,T),J=p.useCallback(de=>{s.viewMode==="pending"&&T(de)},[s.viewMode,T]),{paginatedOrders:ce,changePage:te,changeItemsPerPage:K}=mF(X,s.pagination,J),Y=Lr.useRef(null);Ss(Y,()=>T(de=>({...de,isBranchDropdownOpen:!1})));const re=p.useRef(!1),ne=p.useRef(!1),z=p.useRef(null);p.useEffect(()=>{re.current||(re.current=!0,i())},[]),p.useEffect(()=>{if(!s.selectedBranch||ne.current)return;const de={branchId:s.selectedBranch.branchId,viewMode:s.viewMode,page:s.pagination.currentPage,pageSize:s.pagination.itemsPerPage};if(z.current&&z.current.branchId===de.branchId&&z.current.viewMode===de.viewMode&&z.current.page===de.page&&z.current.pageSize===de.pageSize)return;ne.current=!0,z.current=de,(async()=>{try{s.viewMode==="pending"?await l(s.selectedBranch.branchId):s.viewMode==="branch"&&await _(s.selectedBranch.branchId,s.pagination.currentPage,s.pagination.itemsPerPage)}finally{ne.current=!1}})()},[s.selectedBranch?.branchId,s.viewMode,s.pagination.currentPage,s.pagination.itemsPerPage,l,_]);const V=()=>{T(de=>({...de,isBranchDropdownOpen:!de.isBranchDropdownOpen}))},F=de=>{z.current=null,ne.current=!1,o(de)},$=s.viewMode==="branch"?s.branchOrders:ce,q=s.viewMode==="branch"?s.pagination.totalItems:X.length,H=s.viewMode==="branch"?D:te,Q=s.viewMode==="branch"?E:K;return!s.selectedBranch&&!s.loading?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx($r,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg mb-6",children:e("orders.selectBranch")}),r.jsxs("div",{className:"relative inline-block",ref:Y,children:[r.jsxs("button",{onClick:V,className:`flex items-center justify-between min-w-[250px] px-6 py-3 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-sm ${a?"flex-row-reverse":""}`,children:[r.jsxs("span",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx($r,{className:`h-5 w-5 text-gray-500 dark:text-gray-400 ${a?"ml-3":"mr-3"}`}),e("orders.selectBranchToView")]}),r.jsx(Rr,{className:`h-4 w-4 transition-transform duration-200 ${s.isBranchDropdownOpen?"transform rotate-180":""} ${a?"mr-3":"ml-3"}`})]}),s.isBranchDropdownOpen&&r.jsx("div",{className:`absolute z-20 mt-2 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 max-h-60 overflow-auto ${a?"right-0":"left-0"}`,children:s.branches.length===0?r.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:e("orders.noBranches")}):s.branches.map(de=>r.jsx("button",{onClick:()=>F(de),className:`w-full px-4 py-3 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200 ${a?"text-right":"text-left"}`,children:de.branchName},de.branchId))})]})]})})})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:`flex items-center justify-between mb-8 ${a?"flex-row-reverse":""}`,children:[r.jsx(gF,{t:e}),r.jsxs("div",{className:"relative",ref:Y,children:[r.jsxs("button",{onClick:V,className:`flex items-center justify-between min-w-[200px] px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-sm ${a?"flex-row-reverse":""}`,"aria-label":e("orders.branchSelector"),children:[r.jsxs("span",{className:`flex items-center ${a?"flex-row-reverse":""}`,children:[r.jsx($r,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 ${a?"ml-2":"mr-2"}`}),s.selectedBranch?s.selectedBranch.branchName:e("orders.selectBranch")]}),r.jsx(Rr,{className:`h-4 w-4 transition-transform duration-200 ${s.isBranchDropdownOpen?"transform rotate-180":""} ${a?"mr-2":"ml-2"}`})]}),s.isBranchDropdownOpen&&r.jsx("div",{className:`absolute z-20 mt-1 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 max-h-60 overflow-auto ${a?"right-0":"left-0"}`,children:s.branches.length===0?r.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:e("orders.noBranches")}):s.branches.map(de=>r.jsx("button",{onClick:()=>F(de),className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${s.selectedBranch?.branchId===de.branchId?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-200"} ${a?"text-right":"text-left"}`,children:de.branchName},de.branchId))})]})]}),r.jsx(hF,{viewMode:s.viewMode,pendingCount:s.pendingOrders.length,branchCount:s.pagination.totalItems||s.branchOrders.length,onModeChange:h,t:e}),s.viewMode==="pending"&&r.jsx(fF,{filters:s.filters,showAdvancedFilters:s.showAdvancedFilters,hasActiveFilters:G,viewMode:s.viewMode,lang:n,filteredCount:X.length,totalCount:s.pendingOrders.length,onUpdateFilter:ee,onUpdateNestedFilter:Z,onClearFilters:B,onToggleAdvanced:()=>T(de=>({...de,showAdvancedFilters:!de.showAdvancedFilters})),t:e}),r.jsx(pF,{pagination:s.pagination,totalFiltered:q,onPageChange:H,onItemsPerPageChange:Q,t:e}),r.jsx(xF,{error:s.error}),r.jsx(jF,{orders:$,viewMode:s.viewMode,loading:s.loading,expandedRows:s.expandedRows,sortField:s.sortField,sortDirection:s.sortDirection,hasActiveFilters:s.viewMode==="pending"?G:!1,lang:n,onSort:M,onToggleExpansion:S,onOpenDetails:j,onOpenConfirm:x,onOpenReject:b,onOpenStatus:v,onOpenCancel:I,onClearFilters:B,t:e}),r.jsx(NF,{show:s.showCancelModal,loading:s.loading,onCancel:A,onClose:w,t:e}),r.jsx(yF,{show:s.showConfirmModal,loading:s.loading,onConfirm:d,onClose:w,t:e}),r.jsx(bF,{show:s.showRejectModal,loading:s.loading,rejectReason:s.rejectReason,onReasonChange:de=>T(me=>({...me,rejectReason:de})),onReject:c,onClose:w,t:e}),r.jsx(vF,{show:s.showStatusModal,loading:s.loading,newStatus:s.newStatus,lang:n,onUpdate:g,onClose:w,t:e}),r.jsx(kF,{show:s.showDetailsModal,order:s.selectedOrder,viewMode:s.viewMode,lang:n,onClose:w,t:e}),r.jsx(wF,{order:s.selectedOrder,t:e})]})})};class Pbe{baseUrl="/api/BranchPreferences";async getBranchPreferences(t){try{N.info("Branch preferences bilgileri getirme istei gnderiliyor",{branchId:t},{prefix:"BranchPreferencesService"});const a=t?`${this.baseUrl}?branchId=${t}`:this.baseUrl,n=await he.get(a);return N.info("Branch Preferences API Response:",n.data,{prefix:"BranchPreferencesService"}),N.info("Branch preferences bilgileri baaryla alnd",{branchId:t},{prefix:"BranchPreferencesService"}),n.data}catch(a){throw N.error("Branch preferences bilgileri getirme hatas",a,{prefix:"BranchPreferencesService"}),N.error("Error response:",a?.response,{prefix:"BranchPreferencesService"}),N.error("Error response data:",a?.response?.data,{prefix:"BranchPreferencesService"}),a?.response?.status===401?new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn."):a?.response?.status===403?new Error("Bu ilem iin yetkiniz bulunmuyor."):a?.response?.status===404?new Error("Branch preferences bulunamad."):a?.response?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`Branch preferences bilgileri getirilirken hata olutu: ${a?.message||"Bilinmeyen hata"}`)}}async updateBranchPreferences(t,a){try{N.info("Branch preferences gncelleme istei gnderiliyor",{data:t,branchId:a},{prefix:"BranchPreferencesService"});const n={autoConfirmOrders:t.autoConfirmOrders,useWhatsappForOrders:t.useWhatsappForOrders,showProductDescriptions:t.showProductDescriptions,enableAllergenDisplay:t.enableAllergenDisplay,enableIngredientDisplay:t.enableIngredientDisplay,acceptCash:t.acceptCash,acceptCreditCard:t.acceptCreditCard,acceptOnlinePayment:t.acceptOnlinePayment,defaultCurrency:t.defaultCurrency?.trim()||"",supportedLanguages:t.supportedLanguages,defaultLanguage:t.defaultLanguage?.trim()||"",timeZoneId:t.timeZoneId?.trim()||"",sessionTimeoutMinutes:t.sessionTimeoutMinutes,cleanupMode:t.cleanupMode,cleanupDelayAfterCloseMinutes:t.cleanupDelayAfterCloseMinutes,rowVersion:t.rowVersion};N.info("Cleaned update data:",n,{prefix:"BranchPreferencesService"});const s=a?`${this.baseUrl}?branchId=${a}`:this.baseUrl,i=await he.put(s,n);return N.info("Branch Preferences Update API Response alnd",i.data,{prefix:"BranchPreferencesService"}),N.info("Branch preferences baaryla gncellendi",{branchId:a},{prefix:"BranchPreferencesService"}),i.data}catch(n){if(N.error("Branch preferences gncelleme hatas",n,{prefix:"BranchPreferencesService"}),n.response?.data?.errors){N.error("API Validation Hatalar:",n.response.data.errors,{prefix:"BranchPreferencesService"});const s=Object.values(n.response.data.errors).flat();throw new Error(`Dorulama hatas: ${s.join(", ")}`)}else throw n?.response?.status===400?new Error("Geersiz istek. Ltfen verileri kontrol edin."):n?.response?.status===401?new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn."):n?.response?.status===403?new Error("Bu ilem iin yetkiniz bulunmuyor."):n?.response?.status===404?new Error("Branch preferences bulunamad."):n?.response?.status===409?new Error("Veriler gncel deil. Sayfay yenileyip tekrar deneyin."):n?.response?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`Branch preferences gncellenirken hata olutu: ${n?.message||"Bilinmeyen hata"}`)}}async updateSessionSettings(t,a){try{N.info("Session settings gncelleme istei gnderiliyor",{data:t,branchId:a},{prefix:"BranchPreferencesService"});const n={cleanupMode:t.cleanupMode,sessionTimeoutMinutes:t.sessionTimeoutMinutes,cleanupDelayAfterCloseMinutes:t.cleanupDelayAfterCloseMinutes};N.info("Session settings update data:",n,{prefix:"BranchPreferencesService"});const s=a?`${this.baseUrl}/session-settings?branchId=${a}`:`${this.baseUrl}/session-settings`,i=await he.put(s,n);return N.info("Session Settings Update API Response alnd",i.data,{prefix:"BranchPreferencesService"}),N.info("Session settings baaryla gncellendi",{branchId:a},{prefix:"BranchPreferencesService"}),i.data}catch(n){if(N.error("Session settings gncelleme hatas",n,{prefix:"BranchPreferencesService"}),n.response?.data?.errors){N.error("API Validation Hatalar:",n.response.data.errors,{prefix:"BranchPreferencesService"});const s=Object.values(n.response.data.errors).flat();throw new Error(`Dorulama hatas: ${s.join(", ")}`)}else throw n?.response?.status===400?new Error("Geersiz session ayarlar. Ltfen deerleri kontrol edin."):n?.response?.status===401?new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn."):n?.response?.status===403?new Error("Bu ilem iin yetkiniz bulunmuyor."):n?.response?.status===404?new Error("Branch preferences bulunamad."):n?.response?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`Session ayarlar gncellenirken hata olutu: ${n?.message||"Bilinmeyen hata"}`)}}async updatePaymentSettings(t,a){try{N.info("Payment settings gncelleme istei gnderiliyor",{data:t,branchId:a},{prefix:"BranchPreferencesService"});const n={acceptCash:t.acceptCash,acceptCreditCard:t.acceptCreditCard,acceptOnlinePayment:t.acceptOnlinePayment};N.info("Payment settings update data:",n,{prefix:"BranchPreferencesService"});const s=a?`${this.baseUrl}/payment-settings?branchId=${a}`:`${this.baseUrl}/payment-settings`,i=await he.put(s,n);return N.info("Payment Settings Update API Response alnd",i.data,{prefix:"BranchPreferencesService"}),N.info("Payment settings baaryla gncellendi",{branchId:a},{prefix:"BranchPreferencesService"}),i.data}catch(n){if(N.error("Payment settings gncelleme hatas",n,{prefix:"BranchPreferencesService"}),n.response?.data?.errors){N.error("API Validation Hatalar:",n.response.data.errors,{prefix:"BranchPreferencesService"});const s=Object.values(n.response.data.errors).flat();throw new Error(`Dorulama hatas: ${s.join(", ")}`)}else throw n?.response?.status===400?new Error("Geersiz deme ayarlar. En az bir deme yntemi seilmelidir."):n?.response?.status===401?new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn."):n?.response?.status===403?new Error("Bu ilem iin yetkiniz bulunmuyor."):n?.response?.status===404?new Error("Branch preferences bulunamad."):n?.response?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`deme ayarlar gncellenirken hata olutu: ${n?.message||"Bilinmeyen hata"}`)}}}const Ry=new Pbe,Mbe=({className:e=""})=>{const{t}=Ze(),[a,n]=p.useState(null),[s,i]=p.useState(null),[o,l]=p.useState(!0),[d,c]=p.useState(!1),[g,h]=p.useState(null),[x,b]=p.useState(null),[v,j]=p.useState(!1),w=[{value:"TRY",label:t("branchPreferences.currencies.TRY")},{value:"USD",label:t("branchPreferences.currencies.USD")},{value:"EUR",label:t("branchPreferences.currencies.EUR")}],S=[{value:"tr",label:t("branchPreferences.languages.tr")},{value:"en",label:t("branchPreferences.languages.en")},{value:"ar",label:t("branchPreferences.languages.ar")}],M=[{value:"Europe/Istanbul",label:t("branchPreferences.timezones.Europe/Istanbul")},{value:"Europe/London",label:t("branchPreferences.timezones.Europe/London")},{value:"America/New_York",label:t("branchPreferences.timezones.America/New_York")}],T=[{value:0,label:t("branchPreferences.cleanupModes.afterTimeout")},{value:1,label:t("branchPreferences.cleanupModes.afterClosing")},{value:2,label:t("branchPreferences.cleanupModes.disabled")}],A=p.useCallback(async()=>{try{l(!0),h(null);const E=await Ry.getBranchPreferences();n(E);const X={autoConfirmOrders:E.autoConfirmOrders,useWhatsappForOrders:E.useWhatsappForOrders,showProductDescriptions:E.showProductDescriptions,enableAllergenDisplay:E.enableAllergenDisplay,enableIngredientDisplay:E.enableIngredientDisplay,acceptCash:E.acceptCash,acceptCreditCard:E.acceptCreditCard,acceptOnlinePayment:E.acceptOnlinePayment,defaultCurrency:E.defaultCurrency,supportedLanguages:E.supportedLanguages,defaultLanguage:E.defaultLanguage,timeZoneId:E.timeZoneId,sessionTimeoutMinutes:E.sessionTimeoutMinutes,cleanupMode:E.cleanupMode,cleanupDelayAfterCloseMinutes:E.cleanupDelayAfterCloseMinutes,rowVersion:E.rowVersion};i(X),j(!1)}catch(E){h(E.message||t("branchPreferences.errors.loadFailed"))}finally{l(!1)}},[t]);p.useEffect(()=>{A()},[A]);const I=(E,X)=>{if(!s)return;const ee={...s,[E]:X};i(ee),j(!0),h(null),b(null)},_=async()=>{if(!(!s||!v))try{c(!0),h(null);const E=await Ry.updateBranchPreferences(s);n(E),i({...s,rowVersion:E.rowVersion}),j(!1),b(t("branchPreferences.saveSuccess")),setTimeout(()=>b(null),3e3)}catch(E){h(E.message||t("branchPreferences.errors.saveFailed"))}finally{c(!1)}},D=()=>{A(),b(null)};return o?r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(mt,{className:"w-6 h-6 animate-spin text-blue-600 dark:text-blue-400"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:t("branchPreferences.loading")})]})}):s?r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-lg ${e}`,children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(qa,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t("branchPreferences.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.description")})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsxs("button",{onClick:D,disabled:o,className:"flex items-center px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:[r.jsx(cs,{className:`w-4 h-4 mr-2 rtl:ml-2 rtl:mr-0 ${o?"animate-spin":""}`}),t("branchPreferences.refresh")]}),r.jsxs("button",{onClick:_,disabled:!v||d,className:"flex items-center px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors disabled:opacity-50",children:[d?r.jsx(mt,{className:"w-4 h-4 mr-2 rtl:ml-2 rtl:mr-0 animate-spin"}):r.jsx(Oa,{className:"w-4 h-4 mr-2 rtl:ml-2 rtl:mr-0"}),t(d?"branchPreferences.saving":"branchPreferences.saveChanges")]})]})]})}),g&&r.jsx("div",{className:"mx-6 mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(Nt,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),r.jsx("span",{className:"text-red-800 dark:text-red-300",children:g})]})}),x&&r.jsx("div",{className:"mx-6 mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(tr,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),r.jsx("span",{className:"text-green-800 dark:text-green-300",children:x})]})}),r.jsxs("div",{className:"p-6 space-y-8",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(Kn,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("branchPreferences.sections.orderManagement.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:t("branchPreferences.sections.orderManagement.description")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("branchPreferences.sections.orderManagement.autoConfirmOrders")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.orderManagement.autoConfirmOrdersDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"autoConfirmOrders",type:"checkbox",checked:s.autoConfirmOrders,onChange:E=>I("autoConfirmOrders",E.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("branchPreferences.sections.orderManagement.useWhatsappForOrders")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.orderManagement.useWhatsappForOrdersDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"useWhatsappForOrders",type:"checkbox",checked:s.useWhatsappForOrders,onChange:E=>I("useWhatsappForOrders",E.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(Ya,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("branchPreferences.sections.displaySettings.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:t("branchPreferences.sections.displaySettings.description")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("branchPreferences.sections.displaySettings.showProductDescriptions")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.displaySettings.showProductDescriptionsDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{name:"",title:"showProductDescriptions",type:"checkbox",checked:s.showProductDescriptions,onChange:E=>I("showProductDescriptions",E.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("branchPreferences.sections.displaySettings.enableAllergenDisplay")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.displaySettings.enableAllergenDisplayDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"enableAllergenDisplay",type:"checkbox",checked:s.enableAllergenDisplay,onChange:E=>I("enableAllergenDisplay",E.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("branchPreferences.sections.displaySettings.enableIngredientDisplay")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.displaySettings.enableIngredientDisplayDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"enableIngredientDisplay",type:"checkbox",checked:s.enableIngredientDisplay,onChange:E=>I("enableIngredientDisplay",E.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(rl,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("branchPreferences.sections.paymentMethods.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:t("branchPreferences.sections.paymentMethods.description")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("branchPreferences.sections.paymentMethods.acceptCash")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.paymentMethods.acceptCashDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"acceptCash",type:"checkbox",checked:s.acceptCash,onChange:E=>I("acceptCash",E.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("branchPreferences.sections.paymentMethods.acceptCreditCard")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.paymentMethods.acceptCreditCardDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"acceptCreditCard",type:"checkbox",checked:s.acceptCreditCard,onChange:E=>I("acceptCreditCard",E.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("branchPreferences.sections.paymentMethods.acceptOnlinePayment")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.paymentMethods.acceptOnlinePaymentDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"acceptOnlinePayment",type:"checkbox",checked:s.acceptOnlinePayment,onChange:E=>I("acceptOnlinePayment",E.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(Wi,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("branchPreferences.sections.localization.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:t("branchPreferences.sections.localization.description")})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:t("branchPreferences.sections.localization.defaultLanguage")}),r.jsx("select",{title:"defaultLanguage",value:s.defaultLanguage,onChange:E=>I("defaultLanguage",E.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:S.map(E=>r.jsx("option",{value:E.value,children:E.label},E.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:t("branchPreferences.sections.localization.defaultCurrency")}),r.jsx("select",{title:"defaultCurrency",value:s.defaultCurrency,onChange:E=>I("defaultCurrency",E.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:w.map(E=>r.jsx("option",{value:E.value,children:E.label},E.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:t("branchPreferences.sections.localization.timeZone")}),r.jsx("select",{title:"timeZoneId",value:s.timeZoneId,onChange:E=>I("timeZoneId",E.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:M.map(E=>r.jsx("option",{value:E.value,children:E.label},E.value))})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:t("branchPreferences.sections.localization.supportedLanguages")}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{flag:1,code:"tr",label:t("branchPreferences.languages.tr")},{flag:2,code:"en",label:t("branchPreferences.languages.en")},{flag:4,code:"ar",label:t("branchPreferences.languages.ar")},{flag:8,code:"de",label:t("branchPreferences.languages.de")},{flag:16,code:"fr",label:t("branchPreferences.languages.fr")},{flag:32,code:"ru",label:t("branchPreferences.languages.ru")},{flag:64,code:"es",label:t("branchPreferences.languages.es")}].map(E=>r.jsxs("div",{className:"flex items-center p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsx("input",{id:`lang-${E.code}`,type:"checkbox",checked:(s.supportedLanguages&E.flag)===E.flag,onChange:X=>{const ee=s.supportedLanguages,Z=X.target.checked?ee|E.flag:ee&~E.flag;I("supportedLanguages",Z)},className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),r.jsx("label",{htmlFor:`lang-${E.code}`,className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300 cursor-pointer",children:E.label})]},E.code))}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:t("branchPreferences.sections.localization.supportedLanguagesDesc")})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(Or,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("branchPreferences.sections.sessionManagement.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:t("branchPreferences.sections.sessionManagement.description")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:t("branchPreferences.sections.sessionManagement.cleanupMode")}),r.jsx("select",{title:"cleanupMode",name:"cleanupMode",value:s.cleanupMode,onChange:E=>I("cleanupMode",parseInt(E.target.value)),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:T.map(E=>r.jsx("option",{value:E.value,children:E.label},E.value))}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.sessionManagement.cleanupModeDesc")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.cleanupMode===0&&r.jsxs("div",{className:"transition-all duration-300 ease-in-out",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:t("branchPreferences.sections.sessionManagement.sessionTimeout")}),r.jsx("input",{title:"sessionTimeoutMinutes",type:"number",min:"5",max:"1440",value:s.sessionTimeoutMinutes,onChange:E=>I("sessionTimeoutMinutes",parseInt(E.target.value)||30),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.sessionManagement.sessionTimeoutDesc")})]}),s.cleanupMode===1&&r.jsxs("div",{className:"transition-all duration-300 ease-in-out",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:t("branchPreferences.sections.sessionManagement.cleanupDelay")}),r.jsx("input",{title:"cleanupDelayAfterCloseMinutes",name:"cleanupDelayAfterCloseMinutes",type:"number",min:"0",max:"60",value:s.cleanupDelayAfterCloseMinutes,onChange:E=>I("cleanupDelayAfterCloseMinutes",parseInt(E.target.value)||5),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:t("branchPreferences.sections.sessionManagement.cleanupDelayDesc")})]}),s.cleanupMode===2&&r.jsx("div",{className:"transition-all duration-300 ease-in-out p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(Nt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),r.jsx("span",{className:"text-yellow-800 dark:text-yellow-300 text-sm",children:t("branchPreferences.sections.sessionManagement.cleanupDisabledMessage")})]})})]})]})]})]})]}):r.jsx("div",{className:"p-6 bg-red-50 dark:bg-red-900/20 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(Nt,{className:"w-6 h-6 text-red-600 dark:text-red-400"}),r.jsx("span",{className:"text-red-800 dark:text-red-300",children:g||t("branchPreferences.errors.loadFailed")})]})})},Tbe=()=>{const{isDark:e,toggleTheme:t}=tc(),{t:a,language:n,setLanguage:s}=Ze(),i=n==="ar",[o,l]=p.useState({notificationsEnabled:!0,emailNotificationsEnabled:!0,pushNotificationsEnabled:!1,soundEnabled:!0,autoSaveEnabled:!0,dataSyncEnabled:!0,language:"tr",timezone:"Europe/Istanbul",dateFormat:"DD/MM/YYYY",currency:"TRY"}),[d,c]=p.useState(!1),[g,h]=p.useState("branch");p.useEffect(()=>{const M=localStorage.getItem("userSettings");if(M)try{const T=JSON.parse(M);l(T)}catch{}},[]);const x=M=>{l(T=>{const A={...T,[M]:!T[M]};return localStorage.setItem("userSettings",JSON.stringify(A)),A})},b=M=>{l(T=>{const A={...T,language:M};return localStorage.setItem("userSettings",JSON.stringify(A)),A}),s(M)},v=()=>{c(!0),setTimeout(()=>c(!1),3e3)},j=[{id:"branch",label:a("branchPreferences.title"),icon:qa},{id:"appearance",label:a("settings.tabs.appearance"),icon:Nm}],w=({checked:M,onChange:T,label:A,description:I,Icon:_,disabled:D=!1})=>r.jsxs(ke.div,{className:`flex items-center justify-between py-4 px-4 rounded-lg border transition-all duration-200 ${D?"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-600"}`,whileHover:D?{}:{scale:1.01},transition:{type:"spring",stiffness:300},children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx("div",{className:`p-2 rounded-lg ${D?"bg-gray-100 dark:bg-gray-700":"bg-primary-100 dark:bg-primary-900/30"}`,children:r.jsx(_,{className:`h-5 w-5 ${D?"text-gray-400 dark:text-gray-500":"text-primary-600 dark:text-primary-400"}`})}),r.jsxs("div",{children:[r.jsx("p",{className:`text-sm font-medium ${D?"text-gray-500 dark:text-gray-400":"text-gray-900 dark:text-white"}`,children:A}),I&&r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:I})]})]}),r.jsxs("label",{className:`relative inline-flex items-center cursor-pointer ${D?"opacity-50":""}`,children:[r.jsx("input",{title:"checkbox",type:"checkbox",className:"sr-only peer",checked:M,onChange:T,disabled:D}),r.jsx("div",{className:`w-11 h-6 rounded-full peer transition-all duration-200 ${D?"bg-gray-200 dark:bg-gray-600":M?"bg-primary-600 dark:bg-primary-500":"bg-gray-200 dark:bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-sm transform transition-transform duration-200 ${M?i?"-translate-x-5":"translate-x-5":i?"-translate-x-0.5":"translate-x-0.5"}`})})]})]}),S=({label:M,value:T,onChange:A,options:I,Icon:_})=>r.jsxs(ke.div,{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-primary-300 dark:hover:border-primary-600 transition-all duration-200",whileHover:{scale:1.01},transition:{type:"spring",stiffness:300},children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"} mb-3`,children:[r.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 rounded-lg",children:r.jsx(_,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})}),r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:M})]}),r.jsx("select",{title:"value",value:T,onChange:D=>A(D.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:border-primary-500 dark:focus:border-primary-400 focus:outline-none focus:ring-1 focus:ring-primary-500 dark:focus:ring-primary-400 transition-colors",children:I.map(D=>r.jsx("option",{value:D.value,children:D.label},D.value))})]});return r.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",dir:i?"rtl":"ltr",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a("settings.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:a("settings.description")})]}),r.jsx("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"}`,children:r.jsxs(ke.button,{onClick:v,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[r.jsx(Oa,{className:`h-4 w-4 ${i?"ml-2":"mr-2"}`}),a("settings.save")]})})]}),r.jsx(pr,{children:d&&r.jsxs(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center",children:[r.jsx(_r,{className:`h-5 w-5 text-green-500 ${i?"ml-2":"mr-2"}`}),r.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:a("settings.saveSuccess")})]})}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:`flex ${i?"space-x-reverse space-x-8":"space-x-8"}`,children:j.map(M=>{const T=M.icon;return r.jsxs("button",{onClick:()=>h(M.id),className:`flex items-center ${i?"space-x-reverse space-x-2":"space-x-2"} py-4 px-1 border-b-2 font-medium text-sm transition-colors ${g===M.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[r.jsx(T,{className:"h-4 w-4"}),r.jsx("span",{children:M.label})]},M.id)})})}),r.jsxs(pr,{mode:"wait",children:[g==="general"&&r.jsxs(ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"} mb-6`,children:[r.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 rounded-lg",children:r.jsx(qa,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("settings.general.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("settings.general.description")})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(S,{label:a("settings.general.language"),value:o.language,onChange:b,options:[{value:"tr",label:a("language.turkish")},{value:"en",label:a("language.english")},{value:"ar",label:a("language.arabic")}],Icon:UH}),r.jsx(S,{label:a("settings.general.timezone"),value:o.timezone,onChange:M=>l(T=>({...T,timezone:M})),options:[{value:"Europe/Istanbul",label:"stanbul (UTC+3)"},{value:"Europe/London",label:"Londra (UTC+0)"},{value:"America/New_York",label:"New York (UTC-5)"}],Icon:Or}),r.jsx(S,{label:a("settings.general.dateFormat"),value:o.dateFormat,onChange:M=>l(T=>({...T,dateFormat:M})),options:[{value:"DD/MM/YYYY",label:"DD/MM/YYYY"},{value:"MM/DD/YYYY",label:"MM/DD/YYYY"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD"}],Icon:la}),r.jsx(S,{label:a("settings.general.currency"),value:o.currency,onChange:M=>l(T=>({...T,currency:M})),options:[{value:"TRY",label:"Trk Liras ()"},{value:"USD",label:"US Dollar ($)"},{value:"EUR",label:"Euro ()"}],Icon:ko})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"} mb-6`,children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:r.jsx(Oa,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("settings.general.autoSave.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("settings.general.autoSave.description")})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(w,{checked:o.autoSaveEnabled,onChange:()=>x("autoSaveEnabled"),label:a("settings.general.autoSave.enabled"),description:a("settings.general.autoSave.enabledDesc"),Icon:Oa}),r.jsx(w,{checked:o.dataSyncEnabled,onChange:()=>x("dataSyncEnabled"),label:a("settings.general.autoSave.dataSync"),description:a("settings.general.autoSave.dataSyncDesc"),Icon:y2})]})]})]},"general"),g==="branch"&&r.jsx(Mbe,{}),g==="notifications"&&r.jsx(ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"} mb-6`,children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:r.jsx(xN,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("settings.notifications.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("settings.notifications.description")})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(w,{checked:o.notificationsEnabled,onChange:()=>x("notificationsEnabled"),label:a("settings.notifications.enabled"),description:a("settings.notifications.enabledDesc"),Icon:xN}),r.jsx(w,{checked:o.emailNotificationsEnabled,onChange:()=>x("emailNotificationsEnabled"),label:a("settings.notifications.email"),description:a("settings.notifications.emailDesc"),Icon:Zs}),r.jsx(w,{checked:o.pushNotificationsEnabled,onChange:()=>x("pushNotificationsEnabled"),label:a("settings.notifications.push"),description:a("settings.notifications.pushDesc"),Icon:eu}),r.jsx(w,{checked:o.soundEnabled,onChange:()=>x("soundEnabled"),label:a("settings.notifications.sound"),description:a("settings.notifications.soundDesc"),Icon:rW})]})]})},"notifications"),g==="privacy"&&r.jsx(ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"} mb-6`,children:[r.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsx(xa,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("settings.privacy.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("settings.privacy.description")})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(w,{checked:!0,onChange:()=>{},label:a("settings.privacy.twoFactor"),description:a("settings.privacy.twoFactorDesc"),Icon:Zd,disabled:!0}),r.jsx(w,{checked:!0,onChange:()=>{},label:a("settings.privacy.autoLogout"),description:a("settings.privacy.autoLogoutDesc"),Icon:Or,disabled:!0}),r.jsx(w,{checked:!1,onChange:()=>{},label:a("settings.privacy.analytics"),description:a("settings.privacy.analyticsDesc"),Icon:bn,disabled:!0})]})]})},"privacy"),g==="appearance"&&r.jsx(ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"} mb-6`,children:[r.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:r.jsx(Nm,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("settings.appearance.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("settings.appearance.description")})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(w,{checked:e,onChange:t,label:a(e?"settings.appearance.lightMode":"settings.appearance.darkMode"),description:a(e?"settings.appearance.lightModeDesc":"settings.appearance.darkModeDesc"),Icon:e?m0:QO}),r.jsx(w,{checked:!1,onChange:()=>{},label:a("settings.appearance.compact"),description:a("settings.appearance.compactDesc"),Icon:Ya,disabled:!0}),r.jsx(w,{checked:!0,onChange:()=>{},label:a("settings.appearance.animations"),description:a("settings.appearance.animationsDesc"),Icon:ko,disabled:!0})]})]})},"appearance"),g==="data"&&r.jsx(ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"} mb-6`,children:[r.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:r.jsx(Yp,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("settings.data.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("settings.data.description")})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(ke.button,{className:`flex items-center justify-center ${i?"space-x-reverse space-x-3":"space-x-3"} p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-600 transition-all duration-200`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[r.jsx(_h,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"}),r.jsxs("div",{className:i?"text-right":"text-left",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a("settings.data.download")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:a("settings.data.downloadDesc")})]})]}),r.jsxs(ke.button,{className:`flex items-center justify-center ${i?"space-x-reverse space-x-3":"space-x-3"} p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-600 transition-all duration-200`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[r.jsx(vo,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"}),r.jsxs("div",{className:i?"text-right":"text-left",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a("settings.data.upload")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:a("settings.data.uploadDesc")})]})]}),r.jsxs(ke.button,{className:`flex items-center justify-center ${i?"space-x-reverse space-x-3":"space-x-3"} p-4 border border-red-200 dark:border-red-700 rounded-lg hover:border-red-300 dark:hover:border-red-600 transition-all duration-200`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[r.jsx(wr,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),r.jsxs("div",{className:i?"text-right":"text-left",children:[r.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:a("settings.data.delete")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:a("settings.data.deleteDesc")})]})]}),r.jsxs(ke.button,{className:`flex items-center justify-center ${i?"space-x-reverse space-x-3":"space-x-3"} p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-600 transition-all duration-200`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[r.jsx(qO,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"}),r.jsxs("div",{className:i?"text-right":"text-left",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a("settings.data.storage")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:a("settings.data.storageDesc")})]})]})]})]})},"data")]})]})},Ibe=({className:e="",selectedBranch:t,preferences:a,setPreferences:n,formData:s,setFormData:i,isSaving:o,setIsSaving:l,error:d,setError:c,success:g,setSuccess:h,hasChanges:x,setHasChanges:b})=>{const{t:v}=Ze(),j=[{value:"TRY",label:v("branchPreferences.currencies.TRY")},{value:"USD",label:v("branchPreferences.currencies.USD")},{value:"EUR",label:v("branchPreferences.currencies.EUR")}],w=[{value:"tr",label:v("branchPreferences.languages.tr")},{value:"en",label:v("branchPreferences.languages.en")},{value:"ar",label:v("branchPreferences.languages.ar")}],S=[{value:"Europe/Istanbul",label:v("branchPreferences.timezones.Europe/Istanbul")},{value:"Europe/London",label:v("branchPreferences.timezones.Europe/London")},{value:"America/New_York",label:v("branchPreferences.timezones.America/New_York")}],M=[{value:0,label:v("branchPreferences.cleanupModes.afterTimeout")},{value:1,label:v("branchPreferences.cleanupModes.afterClosing")},{value:2,label:v("branchPreferences.cleanupModes.disabled")}],T=p.useCallback(async D=>{if(D)try{c(null);const E=await Ry.getBranchPreferences(D);n(E);const X={autoConfirmOrders:E.autoConfirmOrders,useWhatsappForOrders:E.useWhatsappForOrders,showProductDescriptions:E.showProductDescriptions,enableAllergenDisplay:E.enableAllergenDisplay,enableIngredientDisplay:E.enableIngredientDisplay,acceptCash:E.acceptCash,acceptCreditCard:E.acceptCreditCard,acceptOnlinePayment:E.acceptOnlinePayment,defaultCurrency:E.defaultCurrency,supportedLanguages:E.supportedLanguages,defaultLanguage:E.defaultLanguage,timeZoneId:E.timeZoneId,sessionTimeoutMinutes:E.sessionTimeoutMinutes,cleanupMode:E.cleanupMode,cleanupDelayAfterCloseMinutes:E.cleanupDelayAfterCloseMinutes,rowVersion:E.rowVersion};i(X),b(!1)}catch(E){c(E.message||v("branchPreferences.errors.loadFailed"))}},[n,i,c,b,v]);p.useEffect(()=>{t?T(t.branchId):(n(null),i(null))},[t,T]);const A=(D,E)=>{if(!s)return;const X={...s,[D]:E};i(X),b(!0),c(null),h(null)},I=async()=>{if(!(!s||!x||!t))try{l(!0),c(null);const D=await Ry.updateBranchPreferences(s,t.branchId);n(D),i({...s,rowVersion:D.rowVersion}),b(!1),h(v("branchPreferences.saveSuccess")),setTimeout(()=>h(null),3e3)}catch(D){c(D.message||v("branchPreferences.errors.saveFailed"))}finally{l(!1)}},_=()=>{t&&(T(t.branchId),h(null))};return t?!s||!a?r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(mt,{className:"w-6 h-6 animate-spin text-blue-600 dark:text-blue-400"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:v("branchPreferences.loading")})]})}):r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-lg ${e}`,children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(qa,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:v("branchPreferences.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:v("branchPreferences.description")})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsxs("button",{onClick:_,disabled:o,className:"flex items-center px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:[r.jsx(cs,{className:`w-4 h-4 mr-2 rtl:ml-2 rtl:mr-0 ${o?"animate-spin":""}`}),v("branchPreferences.refresh")]}),r.jsxs("button",{onClick:I,disabled:!x||o,className:"flex items-center px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors disabled:opacity-50",children:[o?r.jsx(mt,{className:"w-4 h-4 mr-2 rtl:ml-2 rtl:mr-0 animate-spin"}):r.jsx(Oa,{className:"w-4 h-4 mr-2 rtl:ml-2 rtl:mr-0"}),v(o?"branchPreferences.saving":"branchPreferences.saveChanges")]})]})]}),r.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(aa,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:t.branchName})]})})]}),d&&r.jsx("div",{className:"mx-6 mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(Nt,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),r.jsx("span",{className:"text-red-800 dark:text-red-300",children:d})]})}),g&&r.jsx("div",{className:"mx-6 mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(tr,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),r.jsx("span",{className:"text-green-800 dark:text-green-300",children:g})]})}),r.jsxs("div",{className:"p-6 space-y-8",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(Kn,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:v("branchPreferences.sections.orderManagement.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:v("branchPreferences.sections.orderManagement.description")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v("branchPreferences.sections.orderManagement.autoConfirmOrders")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:v("branchPreferences.sections.orderManagement.autoConfirmOrdersDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"autoConfirmOrders",type:"checkbox",checked:s.autoConfirmOrders,onChange:D=>A("autoConfirmOrders",D.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v("branchPreferences.sections.orderManagement.useWhatsappForOrders")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:v("branchPreferences.sections.orderManagement.useWhatsappForOrdersDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"useWhatsappForOrders",type:"checkbox",checked:s.useWhatsappForOrders,onChange:D=>A("useWhatsappForOrders",D.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(Ya,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:v("branchPreferences.sections.displaySettings.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:v("branchPreferences.sections.displaySettings.description")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v("branchPreferences.sections.displaySettings.showProductDescriptions")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:v("branchPreferences.sections.displaySettings.showProductDescriptionsDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"showProductDescriptions",type:"checkbox",checked:s.showProductDescriptions,onChange:D=>A("showProductDescriptions",D.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v("branchPreferences.sections.displaySettings.enableAllergenDisplay")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:v("branchPreferences.sections.displaySettings.enableAllergenDisplayDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"enableAllergenDisplay",type:"checkbox",checked:s.enableAllergenDisplay,onChange:D=>A("enableAllergenDisplay",D.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v("branchPreferences.sections.displaySettings.enableIngredientDisplay")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:v("branchPreferences.sections.displaySettings.enableIngredientDisplayDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"enableIngredientDisplay",type:"checkbox",checked:s.enableIngredientDisplay,onChange:D=>A("enableIngredientDisplay",D.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(rl,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:v("branchPreferences.sections.paymentMethods.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:v("branchPreferences.sections.paymentMethods.description")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v("branchPreferences.sections.paymentMethods.acceptCash")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:v("branchPreferences.sections.paymentMethods.acceptCashDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"acceptCash",type:"checkbox",checked:s.acceptCash,onChange:D=>A("acceptCash",D.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v("branchPreferences.sections.paymentMethods.acceptCreditCard")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:v("branchPreferences.sections.paymentMethods.acceptCreditCardDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"acceptCreditCard",type:"checkbox",checked:s.acceptCreditCard,onChange:D=>A("acceptCreditCard",D.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v("branchPreferences.sections.paymentMethods.acceptOnlinePayment")}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:v("branchPreferences.sections.paymentMethods.acceptOnlinePaymentDesc")})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{title:"acceptOnlinePayment",type:"checkbox",checked:s.acceptOnlinePayment,onChange:D=>A("acceptOnlinePayment",D.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(Wi,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:v("branchPreferences.sections.localization.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:v("branchPreferences.sections.localization.description")})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:v("branchPreferences.sections.localization.defaultLanguage")}),r.jsx("select",{title:"defaultLanguage",value:s.defaultLanguage,onChange:D=>A("defaultLanguage",D.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:w.map(D=>r.jsx("option",{value:D.value,children:D.label},D.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:v("branchPreferences.sections.localization.defaultCurrency")}),r.jsx("select",{title:"defaultCurrency",value:s.defaultCurrency,onChange:D=>A("defaultCurrency",D.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:j.map(D=>r.jsx("option",{value:D.value,children:D.label},D.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:v("branchPreferences.sections.localization.timeZone")}),r.jsx("select",{title:"timeZoneId",value:s.timeZoneId,onChange:D=>A("timeZoneId",D.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:S.map(D=>r.jsx("option",{value:D.value,children:D.label},D.value))})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:v("branchPreferences.sections.localization.supportedLanguages")}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{flag:1,code:"tr",label:v("branchPreferences.languages.tr")},{flag:2,code:"en",label:v("branchPreferences.languages.en")},{flag:4,code:"ar",label:v("branchPreferences.languages.ar")},{flag:8,code:"de",label:v("branchPreferences.languages.de")},{flag:16,code:"fr",label:v("branchPreferences.languages.fr")},{flag:32,code:"ru",label:v("branchPreferences.languages.ru")},{flag:64,code:"es",label:v("branchPreferences.languages.es")}].map(D=>r.jsxs("div",{className:"flex items-center p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[r.jsx("input",{id:`lang-${D.code}`,type:"checkbox",checked:(s.supportedLanguages&D.flag)===D.flag,onChange:E=>{const X=s.supportedLanguages,ee=E.target.checked?X|D.flag:X&~D.flag;A("supportedLanguages",ee)},className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),r.jsx("label",{htmlFor:`lang-${D.code}`,className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300 cursor-pointer",children:D.label})]},D.code))}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:v("branchPreferences.sections.localization.supportedLanguagesDesc")})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[r.jsx(Or,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:v("branchPreferences.sections.sessionManagement.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:v("branchPreferences.sections.sessionManagement.description")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:v("branchPreferences.sections.sessionManagement.cleanupMode")}),r.jsx("select",{title:"cleanupMode",value:s.cleanupMode,onChange:D=>A("cleanupMode",parseInt(D.target.value)),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:M.map(D=>r.jsx("option",{value:D.value,children:D.label},D.value))}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:v("branchPreferences.sections.sessionManagement.cleanupModeDesc")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.cleanupMode===0&&r.jsxs("div",{className:"transition-all duration-300 ease-in-out",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:v("branchPreferences.sections.sessionManagement.sessionTimeout")}),r.jsx("input",{title:"sessionTimeoutMinutes",type:"number",min:"5",max:"1440",value:s.sessionTimeoutMinutes,onChange:D=>A("sessionTimeoutMinutes",parseInt(D.target.value)||30),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:v("branchPreferences.sections.sessionManagement.sessionTimeoutDesc")})]}),s.cleanupMode===1&&r.jsxs("div",{className:"transition-all duration-300 ease-in-out",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:v("branchPreferences.sections.sessionManagement.cleanupDelay")}),r.jsx("input",{title:"cleanupDelayAfterCloseMinutes",type:"number",min:"0",max:"60",value:s.cleanupDelayAfterCloseMinutes,onChange:D=>A("cleanupDelayAfterCloseMinutes",parseInt(D.target.value)||5),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:v("branchPreferences.sections.sessionManagement.cleanupDelayDesc")})]}),s.cleanupMode===2&&r.jsx("div",{className:"transition-all duration-300 ease-in-out p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(Nt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),r.jsx("span",{className:"text-yellow-800 dark:text-yellow-300 text-sm",children:v("branchPreferences.sections.sessionManagement.cleanupDisabledMessage")})]})})]})]})]})]})]}):r.jsx("div",{className:"p-6 bg-red-50 dark:bg-red-900/20 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(Nt,{className:"w-6 h-6 text-red-600 dark:text-red-400"}),r.jsx("span",{className:"text-red-800 dark:text-red-300",children:v("branchPreferences.errors.noBranchSelected")})]})})},Abe=()=>{const{isDark:e,toggleTheme:t}=tc(),{t:a,language:n,setLanguage:s}=Ze(),i=n==="ar",[o,l]=p.useState([]),[d,c]=p.useState(null),[g,h]=p.useState(!1),[x,b]=p.useState(!0),[v,j]=p.useState(null),[w,S]=p.useState(null),[M,T]=p.useState(!1),[A,I]=p.useState(null),[_,D]=p.useState(null),[E,X]=p.useState(!1),[ee,Z]=p.useState("branch"),[B,G]=p.useState({notificationsEnabled:!0,emailNotificationsEnabled:!0,pushNotificationsEnabled:!1,soundEnabled:!0,autoSaveEnabled:!0,dataSyncEnabled:!0,language:"tr",timezone:"Europe/Istanbul",dateFormat:"DD/MM/YYYY",currency:"TRY"}),J=async()=>{try{b(!0);const Y=await oa.getBranchesDropdown();l(Y),Y.length>0&&!d&&c(Y[0])}catch(Y){console.error("Error loading branches:",Y),I(a("branchPreferences.errors.branchLoadFailed"))}finally{b(!1)}};p.useEffect(()=>{const Y=localStorage.getItem("userSettings");if(Y)try{const re=JSON.parse(Y);G(re)}catch{}},[]),p.useEffect(()=>{J()},[]);const ce=Y=>{c(Y),h(!1),I(null),D(null),X(!1)},te=[{id:"branch",label:a("branchPreferences.title"),icon:qa},{id:"appearance",label:a("settings.tabs.appearance"),icon:Nm}],K=({checked:Y,onChange:re,label:ne,description:z,Icon:V,disabled:F=!1})=>r.jsxs(ke.div,{className:`flex items-center justify-between py-4 px-4 rounded-lg border transition-all duration-200 ${F?"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-600"}`,whileHover:F?{}:{scale:1.01},transition:{type:"spring",stiffness:300},children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx("div",{className:`p-2 rounded-lg ${F?"bg-gray-100 dark:bg-gray-700":"bg-primary-100 dark:bg-primary-900/30"}`,children:r.jsx(V,{className:`h-5 w-5 ${F?"text-gray-400 dark:text-gray-500":"text-primary-600 dark:text-primary-400"}`})}),r.jsxs("div",{children:[r.jsx("p",{className:`text-sm font-medium ${F?"text-gray-500 dark:text-gray-400":"text-gray-900 dark:text-white"}`,children:ne}),z&&r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:z})]})]}),r.jsxs("label",{className:`relative inline-flex items-center cursor-pointer ${F?"opacity-50":""}`,children:[r.jsx("input",{title:"checkbox",type:"checkbox",className:"sr-only peer",checked:Y,onChange:re,disabled:F}),r.jsx("div",{className:`w-11 h-6 rounded-full peer transition-all duration-200 ${F?"bg-gray-200 dark:bg-gray-600":Y?"bg-primary-600 dark:bg-primary-500":"bg-gray-200 dark:bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-sm transform transition-transform duration-200 ${Y?i?"-translate-x-5":"translate-x-5":i?"-translate-x-0.5":"translate-x-0.5"}`})})]})]});return r.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",dir:i?"rtl":"ltr",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a("settings.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:a("settings.description")})]}),r.jsx("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"}`,children:ee==="branch"&&r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>h(!g),disabled:x,className:"flex items-center space-x-2 rtl:space-x-reverse px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors disabled:opacity-50",children:[r.jsx(aa,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:d?d.branchName:a("branchPreferences.selectBranch")}),r.jsx(Rr,{className:`w-4 h-4 transition-transform ${g?"rotate-180":""}`})]}),g&&o.length>0&&r.jsx("div",{className:"absolute right-0 rtl:right-auto rtl:left-0 mt-2 w-64 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10",children:r.jsx("div",{className:"py-1 max-h-60 overflow-y-auto",children:o.map(Y=>r.jsx("button",{onClick:()=>ce(Y),className:`w-full px-4 py-2 text-left rtl:text-right hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${d?.branchId===Y.branchId?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300"}`,children:r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(aa,{className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:Y.branchName})]})},Y.branchId))})})]})})]}),r.jsx(pr,{children:_&&r.jsxs(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center",children:[r.jsx(_r,{className:`h-5 w-5 text-green-500 ${i?"ml-2":"mr-2"}`}),r.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:_})]})}),r.jsx(pr,{children:A&&r.jsxs(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center",children:[r.jsx(Nt,{className:`h-5 w-5 text-red-500 ${i?"ml-2":"mr-2"}`}),r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:A})]})}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:`flex ${i?"space-x-reverse space-x-8":"space-x-8"}`,children:te.map(Y=>{const re=Y.icon;return r.jsxs("button",{onClick:()=>Z(Y.id),className:`flex items-center ${i?"space-x-reverse space-x-2":"space-x-2"} py-4 px-1 border-b-2 font-medium text-sm transition-colors ${ee===Y.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[r.jsx(re,{className:"h-4 w-4"}),r.jsx("span",{children:Y.label})]},Y.id)})})}),r.jsxs(pr,{mode:"wait",children:[ee==="branch"&&r.jsx(ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:r.jsx(Ibe,{selectedBranch:d,preferences:v,setPreferences:j,formData:w,setFormData:S,isSaving:M,setIsSaving:T,error:A,setError:I,success:_,setSuccess:D,hasChanges:E,setHasChanges:X})},"branch"),ee==="appearance"&&r.jsx(ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:`flex items-center ${i?"space-x-reverse space-x-3":"space-x-3"} mb-6`,children:[r.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:r.jsx(Nm,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a("settings.appearance.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("settings.appearance.description")})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(K,{checked:e,onChange:t,label:a(e?"settings.appearance.lightMode":"settings.appearance.darkMode"),description:a(e?"settings.appearance.lightModeDesc":"settings.appearance.darkModeDesc"),Icon:e?m0:QO}),r.jsx(K,{checked:!1,onChange:()=>{},label:a("settings.appearance.compact"),description:a("settings.appearance.compactDesc"),Icon:Ya,disabled:!0}),r.jsx(K,{checked:!0,onChange:()=>{},label:a("settings.appearance.animations"),description:a("settings.appearance.animationsDesc"),Icon:ko,disabled:!0})]})]})},"appearance")]})]})},Ebe=()=>{const e=gs(),{t}=Ze(),[a,n]=p.useState([]),[s,i]=p.useState(!0),[o,l]=p.useState(""),[d,c]=p.useState(new Set),[g,h]=p.useState(null),x=Ra(),[b,v]=p.useState(!1),[j,w]=p.useState(null),[S,M]=p.useState(!1),[T,A]=p.useState(null),[I,_]=p.useState(!1),[D,E]=p.useState(null),X=e.state?.source||"all",ee=e.state?.branchId,Z=async()=>{i(!0);try{let Q=[];switch(X){case"products":const[de,me]=await Promise.all([Fr.getDeletedCategories(),Fr.getDeletedProducts()]);Q=[...de,...me];break;case"branches":const[je]=await Promise.all([oa.getDeletedBranches()]);Q=[...je];break;case"tables":const[fe]=await Promise.all([Fa.getDeletedTables(ee)]);Q=[...fe];break;case"branchProducts":const[se,ie]=await Promise.all([Yo.getDeletedBranchProducts(),uo.getDeletedBranchCategories()]);Q=[...se,...ie];break;case"tableCategories":const[ue,le]=await Promise.all([Fa.getDeletedTableCategories(),Fa.getDeletedTables(ee)]);Q=[...ue,...le];break;case"extras":const[xe,ze]=await Promise.all([Vd.getDeletedExtraCategories(),Hd.getDeletedExtras()]);Q=[...xe,...ze];break;case"all":default:const[Le,ut,kt,qt,hr,jr,nt,rt,Pr]=await Promise.all([Fr.getDeletedCategories(),Fr.getDeletedProducts(),oa.getDeletedBranches(),Fa.getDeletedTables(),Yo.getDeletedBranchProducts(),uo.getDeletedBranchCategories(),Fa.getDeletedTableCategories(),Vd.getDeletedExtraCategories(),Hd.getDeletedExtras()]);Q=[...Le,...ut,...kt,...qt,...hr,...jr,...nt,...rt,...Pr];break}n(Q)}catch(Q){console.error("Error loading deleted items:",Q),G("error",t("recycleBin.errors.loadingError"))}finally{i(!1)}},B=()=>{x(-1)},G=(Q,de)=>{h({type:Q,message:de}),setTimeout(()=>h(null),3e3)},J=Q=>{Q.entityType==="Branch"?(w(Q),v(!0)):Q.entityType==="Product"?(A(Q),M(!0)):Q.entityType==="Category"?(E(Q),_(!0)):Y(Q,!1)},ce=async Q=>{if(j){v(!1),c(de=>new Set([...de,j.id]));try{await oa.restoreBranch(j.id,Q);const de=Q?t("recycleBin.restore.successBranchCascade").replace("{name}",j.displayName):t("recycleBin.restore.successBranch").replace("{name}",j.displayName);G("success",de),n(me=>me.filter(je=>!(je.id===j.id&&je.entityType===j.entityType)))}catch(de){console.error("Error restoring branch:",de),G("error",t("recycleBin.restore.error"))}finally{c(de=>{const me=new Set(de);return me.delete(j.id),me}),w(null)}}},te=async Q=>{if(T){M(!1),c(de=>new Set([...de,T.id]));try{await Fr.restoreProduct(T.id,Q);const de=Q?t("recycleBin.restore.successProductCascade").replace("{name}",T.displayName):t("recycleBin.restore.successProduct").replace("{name}",T.displayName);G("success",de),n(me=>me.filter(je=>!(je.id===T.id&&je.entityType===T.entityType)))}catch(de){console.error("Error restoring product:",de),G("error",t("recycleBin.restore.error"))}finally{c(de=>{const me=new Set(de);return me.delete(T.id),me}),A(null)}}},K=async Q=>{if(D){_(!1),c(de=>new Set([...de,D.id]));try{await Fr.restoreCategory(D.id,Q);const de=Q?t("recycleBin.restore.successCategoryCascade").replace("{name}",D.displayName):t("recycleBin.restore.successCategory").replace("{name}",D.displayName);G("success",de),n(me=>me.filter(je=>!(je.id===D.id&&je.entityType===D.entityType)))}catch(de){console.error("Error restoring category:",de),G("error",t("recycleBin.restore.error"))}finally{c(de=>{const me=new Set(de);return me.delete(D.id),me}),E(null)}}},Y=async(Q,de=!1)=>{c(me=>new Set([...me,Q.id]));try{Q.entityType==="Category"?(await Fr.restoreCategory(Q.id,de),G("success",t("recycleBin.restore.successCategory").replace("{name}",Q.displayName))):Q.entityType==="Product"?(await Fr.restoreProduct(Q.id,de),G("success",t("recycleBin.restore.successProduct").replace("{name}",Q.displayName))):Q.entityType==="Branch"?(await oa.restoreBranch(Q.id,de),G("success",t("recycleBin.restore.successBranch").replace("{name}",Q.displayName))):Q.entityType==="MenuTable"?(await Fa.restoreTable(Q.id,ee),G("success",t("recycleBin.restore.successTable").replace("{name}",Q.displayName))):Q.entityType==="BranchProduct"?(await Yo.restoreBranchProduct(Q.id),G("success",t("recycleBin.restore.successProduct").replace("{name}",Q.displayName))):Q.entityType==="BranchCategory"?(await uo.restoreBranchCategory(Q.id),G("success",t("recycleBin.restore.successBranchCategory").replace("{name}",Q.displayName))):Q.entityType==="MenuTableCategory"?(await Fa.restoreTableCategory(Q.id),G("success",t("recycleBin.restore.successTableCategory").replace("{name}",Q.displayName))):Q.entityType==="ExtraCategory"?(await Vd.restoreExtraCategory(Q.id),G("success",t("recycleBin.restore.successExtraCategory").replace("{name}",Q.displayName))):Q.entityType==="Extra"&&(await Hd.restoreExtra(Q.id),G("success",t("recycleBin.restore.successExtra").replace("{name}",Q.displayName))),n(me=>me.filter(je=>!(je.id===Q.id&&je.entityType===Q.entityType)))}catch(me){console.error("Error restoring item:",me),G("error",t("recycleBin.restore.error"))}finally{c(me=>{const je=new Set(me);return je.delete(Q.id),je})}},re=a.filter(Q=>Q.displayName.toLowerCase().includes(o.toLowerCase())||Q.description&&Q.description.toLowerCase().includes(o.toLowerCase())),ne=a.filter(Q=>["Branch","Category","Product","MenuTable"].includes(Q.entityType)).length,z=a.filter(Q=>["BranchProduct","BranchCategory","MenuTableCategory"].includes(Q.entityType)).length,V=a.filter(Q=>["ExtraCategory","Extra"].includes(Q.entityType)).length,F=Q=>new Date(Q).toLocaleDateString("tr-TR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),$=Q=>{switch(Q){case"Category":return{icon:Yg,color:"green",bgClass:"bg-green-100 dark:bg-green-900/20",textClass:"text-green-600 dark:text-green-400",badgeClass:"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300",label:t("recycleBin.entityTypes.category")};case"Product":return{icon:Ar,color:"blue",bgClass:"bg-blue-100 dark:bg-blue-900/20",textClass:"text-blue-600 dark:text-blue-400",badgeClass:"bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300",label:t("recycleBin.entityTypes.product")};case"Branch":return{icon:aa,color:"purple",bgClass:"bg-purple-100 dark:bg-purple-900/20",textClass:"text-purple-600 dark:text-purple-400",badgeClass:"bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300",label:t("recycleBin.entityTypes.branch")};case"MenuTable":return{icon:Xd,color:"orange",bgClass:"bg-orange-100 dark:bg-orange-900/20",textClass:"text-orange-600 dark:text-orange-400",badgeClass:"bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300",label:t("recycleBin.entityTypes.table")};case"BranchProduct":return{icon:Ar,color:"indigo",bgClass:"bg-indigo-100 dark:bg-indigo-900/20",textClass:"text-indigo-600 dark:text-indigo-400",badgeClass:"bg-indigo-100 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300",label:t("recycleBin.entityTypes.branchProduct")};case"BranchCategory":return{icon:Yg,color:"teal",bgClass:"bg-teal-100 dark:bg-teal-900/20",textClass:"text-teal-600 dark:text-teal-400",badgeClass:"bg-teal-100 dark:bg-teal-900/20 text-teal-700 dark:text-teal-300",label:t("recycleBin.entityTypes.branchCategory")};case"MenuTableCategory":return{icon:Yg,color:"amber",bgClass:"bg-amber-100 dark:bg-amber-900/20",textClass:"text-amber-600 dark:text-amber-400",badgeClass:"bg-amber-100 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300",label:t("recycleBin.entityTypes.tableCategory")};case"ExtraCategory":return{icon:Yg,color:"pink",bgClass:"bg-pink-100 dark:bg-pink-900/20",textClass:"text-pink-600 dark:text-pink-400",badgeClass:"bg-pink-100 dark:bg-pink-900/20 text-pink-700 dark:text-pink-300",label:t("recycleBin.entityTypes.extraCategory")};case"Extra":return{icon:Ut,color:"rose",bgClass:"bg-rose-100 dark:bg-rose-900/20",textClass:"text-rose-600 dark:text-rose-400",badgeClass:"bg-rose-100 dark:bg-rose-900/20 text-rose-700 dark:text-rose-300",label:t("recycleBin.entityTypes.extra")};default:return{icon:Ar,color:"gray",bgClass:"bg-gray-100 dark:bg-gray-900/20",textClass:"text-gray-600 dark:text-gray-400",badgeClass:"bg-gray-100 dark:bg-gray-900/20 text-gray-700 dark:text-gray-300",label:t("recycleBin.entityTypes.other")}}},q=()=>{switch(X){case"products":return t("recycleBin.titleProducts");case"branches":return t("recycleBin.titleBranches");case"tables":return t("recycleBin.titleTables");case"branchProducts":return t("recycleBin.titleBranchProducts");case"tableCategories":return t("recycleBin.titleTableCategories");case"extras":return t("recycleBin.title");default:return t("recycleBin.title")}},H=()=>{switch(X){case"products":return t("recycleBin.descriptionProducts");case"branches":return t("recycleBin.descriptionBranches");case"tables":return t("recycleBin.descriptionTables");case"branchProducts":return t("recycleBin.descriptionBranchProducts");case"tableCategories":return t("recycleBin.descriptionTableCategories");case"extras":return t("recycleBin.description");default:return t("recycleBin.description")}};return p.useEffect(()=>{Z()},[X,ee]),r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/20 rounded-lg",children:r.jsx(wr,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:q()})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:H()})]}),r.jsx("button",{onClick:B,className:"p-2 mr-2 mb-5 bg-gray-200 dark:bg-gray-700 rounded-full hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-200 text-gray-700 dark:text-gray-300",title:t("common.back")||"Go Back",children:r.jsx(ms,{className:"w-5 h-5"})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:t("recycleBin.search"),value:o,onChange:Q=>l(Q.target.value),className:`w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg 
                       bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                       focus:ring-2 focus:ring-blue-500 focus:border-transparent
                       placeholder-gray-500 dark:placeholder-gray-400`})]}),r.jsxs("button",{onClick:Z,disabled:s,className:`flex items-center gap-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 
                     disabled:bg-gray-400 dark:disabled:bg-gray-600
                     text-white rounded-lg transition-colors duration-200`,children:[r.jsx(cs,{className:`w-5 h-5 ${s?"animate-spin":""}`}),t("recycleBin.refresh")]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl shadow-sm border border-blue-200 dark:border-blue-700 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-200 dark:bg-blue-800/50 rounded-lg",children:r.jsx(aa,{className:"w-5 h-5 text-blue-700 dark:text-blue-300"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:ne}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:t("recycleBin.stats.group1")}),r.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:t("recycleBin.stats.group1Desc")})]})]})}),r.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-xl shadow-sm border border-purple-200 dark:border-purple-700 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-200 dark:bg-purple-800/50 rounded-lg",children:r.jsx(Ar,{className:"w-5 h-5 text-purple-700 dark:text-purple-300"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:z}),r.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:t("recycleBin.stats.group2")}),r.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:t("recycleBin.stats.group2Desc")})]})]})}),r.jsx("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-900/20 dark:to-pink-800/20 rounded-xl shadow-sm border border-pink-200 dark:border-pink-700 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-pink-200 dark:bg-pink-800/50 rounded-lg",children:r.jsx(Ut,{className:"w-5 h-5 text-pink-700 dark:text-pink-300"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-pink-900 dark:text-pink-100",children:V}),r.jsx("p",{className:"text-sm text-pink-700 dark:text-pink-300",children:t("recycleBin.stats.extras")}),r.jsx("p",{className:"text-xs text-pink-600 dark:text-pink-400",children:t("recycleBin.stats.extrasDesc")})]})]})}),r.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 rounded-xl shadow-sm border border-red-200 dark:border-red-700 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-200 dark:bg-red-800/50 rounded-lg",children:r.jsx(wr,{className:"w-5 h-5 text-red-700 dark:text-red-300"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-red-900 dark:text-red-100",children:a.length}),r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:t("recycleBin.stats.totalDeleted")}),r.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:t("recycleBin.stats.totalDesc")})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:s?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(cs,{className:"w-8 h-8 text-gray-400 dark:text-gray-500 mx-auto mb-4 animate-spin"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t("recycleBin.loading")})]}):re.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(wr,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:t(o?"recycleBin.empty.titleFiltered":"recycleBin.empty.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t(o?"recycleBin.empty.descriptionFiltered":"recycleBin.empty.description")})]}):r.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:re.map(Q=>{const de=$(Q.entityType),me=de.icon;return r.jsx("div",{className:"p-6 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:`p-2 rounded-lg ${de.bgClass}`,children:r.jsx(me,{className:`w-5 h-5 ${de.textClass}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:Q.displayName}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${de.badgeClass}`,children:de.label})]}),Q.description&&r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:Q.description}),r.jsxs("div",{className:"flex flex-col gap-1 mb-2",children:[(Q.entityType==="Product"||Q.entityType==="BranchProduct"||Q.entityType==="MenuTable"||Q.entityType==="Extra")&&Q.categoryName&&r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:[t("recycleBin.contextInfo.category")," ",Q.categoryName]}),(Q.entityType==="BranchProduct"||Q.entityType==="BranchCategory"||Q.entityType==="MenuTable"||Q.entityType==="MenuTableCategory")&&Q.branchName&&r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:[t("recycleBin.contextInfo.branch")," ",Q.branchName]}),Q.entityType==="Branch"&&Q.restaurantName&&r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:[t("recycleBin.contextInfo.restaurant")," ",Q.restaurantName]})]}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 dark:text-gray-500",children:[r.jsx(la,{className:"w-4 h-4"}),r.jsxs("span",{children:[t("recycleBin.deletedAt")," ",F(Q.deletedAt)]})]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("button",{onClick:()=>J(Q),disabled:d.has(Q.id),className:`flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 
                                 disabled:bg-gray-400 dark:disabled:bg-gray-600
                                 text-white rounded-lg transition-colors duration-200
                                 disabled:cursor-not-allowed`,children:[d.has(Q.id)?r.jsx(cs,{className:"w-4 h-4 animate-spin"}):r.jsx(XO,{className:"w-4 h-4"}),d.has(Q.id)?t("recycleBin.restore.restoring"):t("recycleBin.restore.button")]})})]})},`${Q.entityType}-${Q.id}`)})})}),b&&j&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:r.jsx(aa,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:t("recycleBin.branchRestore.title")||"Restore Branch"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("recycleBin.branchRestore.subtitle")||`Choose how to restore "${j.displayName}"`})]}),r.jsx("button",{onClick:()=>{v(!1),w(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx(xt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsx("button",{onClick:()=>ce(!1),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-500 rounded-xl transition-all duration-200 text-left group hover:bg-blue-50 dark:hover:bg-blue-900/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg group-hover:bg-blue-200 dark:group-hover:bg-blue-900/50 transition-colors",children:r.jsx(vn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:t("recycleBin.branchRestore.simpleTitle")||"Simple Restore (General Info Only)"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("recycleBin.branchRestore.simpleDesc")||"Restore only the basic branch information (name, address, contact, working hours)"})]})]})}),r.jsx("button",{onClick:()=>ce(!0),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-700 hover:border-green-500 dark:hover:border-green-500 rounded-xl transition-all duration-200 text-left group hover:bg-green-50 dark:hover:bg-green-900/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg group-hover:bg-green-200 dark:group-hover:bg-green-900/50 transition-colors",children:r.jsx(Yp,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1 flex items-center gap-2",children:[t("recycleBin.branchRestore.cascadeTitle")||"Full Restore (With All Data)",r.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-xs rounded-full",children:t("recycleBin.branchRestore.recommended")||"Recommended"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:t("recycleBin.branchRestore.cascadeDesc")||"Restore the branch with all associated data:"}),r.jsxs("ul",{className:"text-xs text-gray-500 dark:text-gray-500 space-y-1 ml-4",children:[r.jsxs("li",{className:"flex items-center gap-1",children:[r.jsx(tr,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t("recycleBin.branchRestore.includeProducts")||"Branch products and categories"]}),r.jsxs("li",{className:"flex items-center gap-1",children:[r.jsx(tr,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t("recycleBin.branchRestore.includeTables")||"Tables and table categories"]}),r.jsxs("li",{className:"flex items-center gap-1",children:[r.jsx(tr,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t("recycleBin.branchRestore.includeAll")||"All related configurations and settings"]})]})]})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>{v(!1),w(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:t("common.cancel")||"Cancel"})})]})}),S&&T&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:r.jsx(Ar,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:t("recycleBin.productRestore.title")||"Restore Product"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("recycleBin.productRestore.subtitle")||`Choose how to restore "${T.displayName}"`})]}),r.jsx("button",{onClick:()=>{M(!1),A(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx(xt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsx("button",{onClick:()=>te(!1),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-500 rounded-xl transition-all duration-200 text-left group hover:bg-blue-50 dark:hover:bg-blue-900/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg group-hover:bg-blue-200 dark:group-hover:bg-blue-900/50 transition-colors",children:r.jsx(vn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:t("recycleBin.productRestore.simpleTitle")||"Simple Restore (General Info Only)"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("recycleBin.productRestore.simpleDesc")||"Restore only the basic product information (name, description, price)"})]})]})}),r.jsx("button",{onClick:()=>te(!0),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-700 hover:border-green-500 dark:hover:border-green-500 rounded-xl transition-all duration-200 text-left group hover:bg-green-50 dark:hover:bg-green-900/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg group-hover:bg-green-200 dark:group-hover:bg-green-900/50 transition-colors",children:r.jsx(Yp,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1 flex items-center gap-2",children:[t("recycleBin.productRestore.cascadeTitle")||"Full Restore (With All Data)",r.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-xs rounded-full",children:t("recycleBin.productRestore.recommended")||"Recommended"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:t("recycleBin.productRestore.cascadeDesc")||"Restore the product with all associated data:"}),r.jsxs("ul",{className:"text-xs text-gray-500 dark:text-gray-500 space-y-1 ml-4",children:[r.jsxs("li",{className:"flex items-center gap-1",children:[r.jsx(tr,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t("recycleBin.productRestore.includeOptions")||"Product options and variants"]}),r.jsxs("li",{className:"flex items-center gap-1",children:[r.jsx(tr,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t("recycleBin.productRestore.includeImages")||"Product images and media"]}),r.jsxs("li",{className:"flex items-center gap-1",children:[r.jsx(tr,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t("recycleBin.productRestore.includeAll")||"All related configurations"]})]})]})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>{M(!1),A(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:t("common.cancel")||"Cancel"})})]})}),I&&D&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:r.jsx(Yg,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:t("recycleBin.categoryRestore.title")||"Restore Category"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("recycleBin.categoryRestore.subtitle")||`Choose how to restore "${D.displayName}"`})]}),r.jsx("button",{onClick:()=>{_(!1),E(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx(xt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsx("button",{onClick:()=>K(!1),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-500 rounded-xl transition-all duration-200 text-left group hover:bg-blue-50 dark:hover:bg-blue-900/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg group-hover:bg-blue-200 dark:group-hover:bg-blue-900/50 transition-colors",children:r.jsx(vn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:t("recycleBin.categoryRestore.simpleTitle")||"Simple Restore (General Info Only)"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("recycleBin.categoryRestore.simpleDesc")||"Restore only the basic category information (name, description)"})]})]})}),r.jsx("button",{onClick:()=>K(!0),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-700 hover:border-green-500 dark:hover:border-green-500 rounded-xl transition-all duration-200 text-left group hover:bg-green-50 dark:hover:bg-green-900/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg group-hover:bg-green-200 dark:group-hover:bg-green-900/50 transition-colors",children:r.jsx(Yp,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1 flex items-center gap-2",children:[t("recycleBin.categoryRestore.cascadeTitle")||"Full Restore (With All Data)",r.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-xs rounded-full",children:t("recycleBin.categoryRestore.recommended")||"Recommended"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:t("recycleBin.categoryRestore.cascadeDesc")||"Restore the category with all associated data:"}),r.jsxs("ul",{className:"text-xs text-gray-500 dark:text-gray-500 space-y-1 ml-4",children:[r.jsxs("li",{className:"flex items-center gap-1",children:[r.jsx(tr,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t("recycleBin.categoryRestore.includeProducts")||"All products in this category"]}),r.jsxs("li",{className:"flex items-center gap-1",children:[r.jsx(tr,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t("recycleBin.categoryRestore.includeAll")||"All related configurations"]})]})]})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>{_(!1),E(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:t("common.cancel")||"Cancel"})})]})}),g&&r.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg border max-w-md ${g.type==="success"?"bg-green-900 dark:bg-green-900 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[g.type==="success"?r.jsx(tr,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):r.jsx(Nt,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),r.jsx("p",{className:`font-medium ${g.type==="success"?"text-green-200 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:g.message}),r.jsx("button",{onClick:()=>h(null),className:`ml-auto p-1 rounded-full hover:bg-opacity-20 ${g.type==="success"?"hover:bg-green-600 text-green-600 dark:text-green-400":"hover:bg-red-600 text-red-600 dark:text-red-400"}`,children:r.jsx(xt,{className:"w-4 h-4"})})]})})]})},_be=({message:e,type:t,onClose:a})=>{p.useEffect(()=>{const s=setTimeout(a,3e3);return()=>clearTimeout(s)},[a]);const n=t==="success"?"bg-green-100 dark:bg-green-900 border-green-400 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900 border-red-400 text-red-700 dark:text-red-300";return r.jsx("div",{className:`mb-6 p-4 border rounded-lg ${n}`,children:e})},Obe=({activeTab:e,onTabChange:t})=>{const{t:a}=Ze(),n=[{id:"branches",label:a("tabs.branches"),icon:$r},{id:"management",label:a("tabs.management"),icon:bn},{id:"deleted",label:a("tabs.deleted"),icon:wr}];return r.jsx("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-gray-200 dark:border-gray-700",children:n.map(({id:s,label:i,icon:o})=>r.jsxs("button",{onClick:()=>t(s),className:`flex items-center gap-2 px-4 py-2 border-b-2 transition-colors ${e===s?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[r.jsx(o,{className:"w-4 h-4"}),i]},s))})},US=({toast:e,onClose:t})=>{const{t:a}=Ze();p.useEffect(()=>{if(e.type!=="loading"&&e.duration&&e.duration>0){const i=setTimeout(()=>{t(e.id)},e.duration);return()=>clearTimeout(i)}},[e.id,e.duration,t,e.type]);const n=()=>{switch(e.type){case"success":return r.jsx(tr,{className:"h-5 w-5 text-green-500"});case"error":return r.jsx(Ga,{className:"h-5 w-5 text-red-500"});case"loading":return r.jsx(mt,{className:"h-5 w-5 text-blue-500 animate-spin"})}},s=()=>{switch(e.type){case"success":return"bg-green-50 border-green-200 text-green-800 dark:bg-green-900/30 dark:border-green-800 dark:text-green-300";case"error":return"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/30 dark:border-red-800 dark:text-red-300";case"loading":return"bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/30 dark:border-blue-800 dark:text-blue-300"}};return r.jsxs("div",{className:`flex items-center p-4 mb-3 border rounded-lg shadow-lg transform transition-all duration-300 ease-in-out ${s()}`,children:[n(),r.jsx("div",{className:"ml-3 text-sm font-medium flex-1",children:e.message}),e.type!=="loading"&&r.jsx("button",{onClick:()=>t(e.id),className:"ml-2 p-1 hover:bg-black/10 rounded-full transition-colors",children:r.jsx(xt,{className:"h-4 w-4"})})]})},Rbe=({info:e,onEdit:t,onSubmit:a,editing:n,loading:s})=>{const{t:i}=Ze(),o=p.useRef(null),l=p.useRef(null),d=p.useRef(null),{clearAuth:c}=db(),g=Ra(),[h,x]=p.useState(e||{restaurantId:"",restaurantName:"",restaurantLogoPath:"",cuisineTypeId:null,hasAlcoholService:!1,companyTitle:"",taxNumber:"",taxOffice:"",mersisNumber:"",tradeRegistryNumber:"",legalType:"",workPermitFilePath:"",foodCertificateFilePath:"",restaurantStatus:"active",about:""}),[b,v]=p.useState(!1),[j,w]=p.useState(!1),[S,M]=p.useState(!1),[T,A]=p.useState(!1),[I,_]=p.useState([]),[D,E]=p.useState(null),[X,ee]=p.useState(null),Z=(K,Y,re=4e3)=>{const ne=Date.now().toString();_(z=>[...z,{id:ne,message:K,type:Y,duration:re}])},B=K=>{_(Y=>Y.filter(re=>re.id!==K))};p.useEffect(()=>{e&&x(e)},[e]);const G=async(K,Y)=>{const re=K.target.files?.[0];if(re){E(Y),ee(null);try{const ne=h[Y],z=await Ki.uploadFile(re,ne);x(V=>({...V,[Y]:z}))}catch(ne){console.error(`File upload error for ${Y}:`,ne);let z="Unknown upload error occurred";gM(ne)&&ne.response?ne.response.data?.details?.message?z=ne.response.data.details.message:ne.response.data?.message?z=ne.response.data.message:typeof ne.response.data=="string"&&ne.response.data?z=ne.response.data:z=ne.message:ne instanceof Error&&(z=ne.message),ee({field:Y,message:z})}finally{E(null),K.target.value=""}}},J=async K=>{const Y=h[K];if(Y){E(K),ee(null);try{await Ki.deleteFile(Y),x(re=>({...re,[K]:""}))}catch(re){console.error(`File delete error for ${K}:`,re);let ne="Failed to delete file";gM(re)&&re.response?ne=re.response.data?.details?.message||re.response.data?.message||re.message:re instanceof Error&&(ne=re.message),ee({field:K,message:ne})}finally{E(null)}}},ce=async()=>{if(e?.restaurantId){M(!0);try{await ws.deleteRestaurant(e.restaurantId),Z(i("management.messages.deleteSuccess")||"Restaurant successfully deleted","success"),window.location.reload()}catch(K){console.error("Delete error:",K),Z(i("management.messages.deleteError")||"Failed to delete restaurant","error")}finally{M(!1),v(!1)}}},te=async()=>{if(e?.restaurantId){A(!0);try{await OR.purgeRestaurant(Number(e.restaurantId)),Z(i("management.messages.purgeSuccess")||"Restaurant permanently deleted","success"),setTimeout(()=>{localStorage.removeItem("itek key token"),c(),g("/")},2e3)}catch(K){console.error("Purge error:",K),Z(i("management.messages.purgeError")||"Failed to permanently delete restaurant","error")}finally{w(!1)}}};return e?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-purple-500/5 to-pink-500/5 pointer-events-none"}),r.jsx("div",{className:"fixed top-6 right-6 z-[100] w-full max-w-sm",children:I.map(K=>r.jsx(US,{toast:K,onClose:B},K.id))}),r.jsx("div",{className:"relative border-b border-gray-200/50 dark:border-gray-700/50 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:r.jsxs("div",{className:"flex justify-between items-center p-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl shadow-lg",children:r.jsx(Zk,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i("management.title")}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:i("management.subtitle")})]})]}),e.restaurantLogoPath&&r.jsx("img",{src:e.restaurantLogoPath,alt:`${e.restaurantName} ${i("branchCard.alt.logo")}`,className:"w-24 h-24 object-cover rounded-2xl bg-white/10"}),r.jsx("button",{onClick:t,className:`flex items-center gap-2 px-5 py-2.5 rounded-xl font-medium transition-all duration-200 shadow-md hover:shadow-lg ${n?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white"}`,children:n?r.jsxs(r.Fragment,{children:[r.jsx(xt,{className:"w-4 h-4"}),i("management.buttons.cancel")]}):r.jsxs(r.Fragment,{children:[r.jsx(qs,{className:"w-4 h-4"}),i("management.buttons.edit")]})})]})}),r.jsx("div",{className:"relative p-6",children:n?r.jsxs("form",{onSubmit:K=>{K.preventDefault(),a(h)},className:"space-y-6",children:[r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(aa,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i("management.sections.restaurantDetails")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.restaurantName")}),r.jsx("input",{type:"text",placeholder:i("management.placeholders.restaurantName"),value:h.restaurantName||"",onChange:K=>x(Y=>({...Y,restaurantName:K.target.value})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.restaurantLogo")}),h.restaurantLogoPath?r.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700",children:[r.jsx("a",{href:h.restaurantLogoPath,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-blue-600 dark:text-blue-400 hover:underline truncate",children:i("management.buttons.viewLogo")||"View Logo"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>o.current?.click(),disabled:D==="restaurantLogoPath",className:"p-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 rounded-full",children:r.jsx(qs,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:()=>J("restaurantLogoPath"),disabled:D==="restaurantLogoPath",className:"p-1 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 rounded-full",children:D==="restaurantLogoPath"?r.jsx(mt,{className:"w-4 h-4 animate-spin"}):r.jsx(wr,{className:"w-4 h-4"})})]})]}):r.jsxs("div",{className:"relative",children:[r.jsx("input",{title:"restaurantLogoPath",type:"file",id:"restaurantLogo",accept:"image/*",onChange:K=>G(K,"restaurantLogoPath"),disabled:D==="restaurantLogoPath",className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 dark:file:bg-blue-900/30 file:text-blue-700 dark:file:text-blue-300 hover:file:bg-blue-100 dark:hover:file:bg-blue-900/50 transition-all disabled:opacity-50"}),D==="restaurantLogoPath"&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx(mt,{className:"w-5 h-5 text-blue-500 animate-spin"})})]}),r.jsx("input",{title:"restaurantLogoPathEdit",type:"file",ref:o,accept:"image/*",onChange:K=>G(K,"restaurantLogoPath"),disabled:D==="restaurantLogoPath",className:"hidden"}),X&&X.field==="restaurantLogoPath"&&r.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:X.message})]})]})]}),r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(Zk,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),i("management.sections.companyInfo")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.companyTitle")}),r.jsx("input",{type:"text",placeholder:i("management.placeholders.companyTitle"),value:h.companyTitle||"",onChange:K=>x(Y=>({...Y,companyTitle:K.target.value})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.legalType")}),r.jsxs("select",{title:"legalType",value:h.legalType||"",onChange:K=>x(Y=>({...Y,legalType:K.target.value})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",children:[r.jsx("option",{value:"",children:i("management.placeholders.selectLegalType")}),r.jsx("option",{value:"LLC",children:i("management.legalTypes.llc")}),r.jsx("option",{value:"Corporation",children:i("management.legalTypes.corporation")}),r.jsx("option",{value:"Partnership",children:i("management.legalTypes.partnership")})]})]})]})]}),r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(Vi,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),i("management.sections.taxInfo")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.taxNumber")}),r.jsx("input",{type:"text",placeholder:i("management.placeholders.taxNumber"),value:h.taxNumber||"",onChange:K=>x(Y=>({...Y,taxNumber:K.target.value})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.taxOffice")}),r.jsx("input",{type:"text",placeholder:i("management.placeholders.taxOffice"),value:h.taxOffice||"",onChange:K=>x(Y=>({...Y,taxOffice:K.target.value})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.mersisNumber")}),r.jsx("input",{type:"text",placeholder:i("management.placeholders.mersisNumber"),value:h.mersisNumber||"",onChange:K=>x(Y=>({...Y,mersisNumber:K.target.value})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.tradeRegistry")}),r.jsx("input",{type:"text",placeholder:i("management.placeholders.tradeRegistry"),value:h.tradeRegistryNumber||"",onChange:K=>x(Y=>({...Y,tradeRegistryNumber:K.target.value})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]})]})]}),r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(vn,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),i("management.sections.certificates")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.workPermit")}),h.workPermitFilePath?r.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700",children:[r.jsx("a",{href:h.workPermitFilePath,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-blue-600 dark:text-blue-400 hover:underline truncate",children:i("management.buttons.viewFile")||"View File"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>l.current?.click(),disabled:D==="workPermitFilePath",className:"p-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 rounded-full",children:r.jsx(qs,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:()=>J("workPermitFilePath"),disabled:D==="workPermitFilePath",className:"p-1 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 rounded-full",children:D==="workPermitFilePath"?r.jsx(mt,{className:"w-4 h-4 animate-spin"}):r.jsx(wr,{className:"w-4 h-4"})})]})]}):r.jsxs("div",{className:"relative",children:[r.jsx("input",{title:"workPermitFilePath",type:"file",id:"workPermit",onChange:K=>G(K,"workPermitFilePath"),disabled:D==="workPermitFilePath",className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-orange-50 dark:file:bg-orange-900/30 file:text-orange-700 dark:file:text-orange-300 hover:file:bg-orange-100 dark:hover:file:bg-orange-900/50 transition-all disabled:opacity-50"}),D==="workPermitFilePath"&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx(mt,{className:"w-5 h-5 text-blue-500 animate-spin"})})]}),r.jsx("input",{title:"workPermitFilePathEdit",type:"file",ref:l,onChange:K=>G(K,"workPermitFilePath"),disabled:D==="workPermitFilePath",className:"hidden"}),X&&X.field==="workPermitFilePath"&&r.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:X.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("management.fields.foodCertificate")}),h.foodCertificateFilePath?r.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700",children:[r.jsx("a",{href:h.foodCertificateFilePath,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-blue-600 dark:text-blue-400 hover:underline truncate",children:i("management.buttons.viewFile")||"View File"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>d.current?.click(),disabled:D==="foodCertificateFilePath",className:"p-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 rounded-full",children:r.jsx(qs,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:()=>J("foodCertificateFilePath"),disabled:D==="foodCertificateFilePath",className:"p-1 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 rounded-full",children:D==="foodCertificateFilePath"?r.jsx(mt,{className:"w-4 h-4 animate-spin"}):r.jsx(wr,{className:"w-4 h-4"})})]})]}):r.jsxs("div",{className:"relative",children:[r.jsx("input",{title:"foodCertificateFilePath",type:"file",id:"foodCertificate",onChange:K=>G(K,"foodCertificateFilePath"),disabled:D==="foodCertificateFilePath",className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-orange-50 dark:file:bg-orange-900/30 file:text-orange-700 dark:file:text-orange-300 hover:file:bg-orange-100 dark:hover:file:bg-orange-900/50 transition-all disabled:opacity-50"}),D==="foodCertificateFilePath"&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx(mt,{className:"w-5 h-5 text-blue-500 animate-spin"})})]}),r.jsx("input",{title:"foodCertificateFilePathEdit",type:"file",ref:d,onChange:K=>G(K,"foodCertificateFilePath"),disabled:D==="foodCertificateFilePath",className:"hidden"}),X&&X.field==="foodCertificateFilePath"&&r.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:X.message})]})]})]}),r.jsx("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(GH,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),i("management.sections.additionalSettings")]})}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsxs("button",{type:"submit",disabled:s||D!==null,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-medium rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl disabled:cursor-not-allowed",children:[r.jsx(Oa,{className:"w-5 h-5"}),i(s?"management.buttons.saving":D?"management.buttons.uploading":"management.buttons.save")]}),r.jsxs("button",{type:"button",onClick:t,disabled:D!==null,className:"flex items-center gap-2 px-6 py-3 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-medium rounded-xl transition-all duration-200 disabled:opacity-50",children:[r.jsx(xt,{className:"w-5 h-5"}),i("management.buttons.cancel")]})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(aa,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i("management.sections.restaurantDetails")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Wo,{label:i("management.fields.restaurantName"),value:e.restaurantName}),r.jsx(Wo,{label:i("management.fields.logo"),value:e.restaurantLogoPath,isFile:!0})]})]}),r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(Zk,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),i("management.sections.companyInfo")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Wo,{label:i("management.fields.companyTitle"),value:e.companyTitle}),r.jsx(Wo,{label:i("management.fields.legalType"),value:e.legalType})]})]}),r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(Vi,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),i("management.sections.taxInfo")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Wo,{label:i("management.fields.taxNumber"),value:e.taxNumber}),r.jsx(Wo,{label:i("management.fields.taxOffice"),value:e.taxOffice}),r.jsx(Wo,{label:i("management.fields.mersisNumber"),value:e.mersisNumber}),r.jsx(Wo,{label:i("management.fields.tradeRegistry"),value:e.tradeRegistryNumber})]})]}),r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-5 border border-gray-200/50 dark:border-gray-700/50",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(vn,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),i("management.sections.certificates")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Wo,{label:i("management.fields.workPermit"),value:e.workPermitFilePath,isFile:!0}),r.jsx(Wo,{label:i("management.fields.foodCertificate"),value:e.foodCertificateFilePath,isFile:!0})]})]}),r.jsxs("div",{className:"bg-red-50/50 dark:bg-red-900/10 backdrop-blur-sm rounded-xl p-5 border border-red-200/50 dark:border-red-800/50",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx(ya,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-red-900 dark:text-red-100 mb-1",children:i("management.dangerZone.title")||"Danger Zone"}),r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:i("management.dangerZone.description")||"These actions cannot be undone. Please be careful."})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("button",{onClick:()=>v(!0),className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-red-600 hover:bg-red-700 text-white font-medium rounded-xl transition-all duration-200 shadow-md hover:shadow-lg",children:[r.jsx(wr,{className:"w-4 h-4"}),i("management.buttons.delete")||"Delete Restaurant"]}),r.jsxs("button",{onClick:()=>w(!0),className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-red-800 hover:bg-red-900 text-white font-medium rounded-xl transition-all duration-200 shadow-md hover:shadow-lg",children:[r.jsx(wr,{className:"w-4 h-4"}),i("management.buttons.purge")||"Permanently Delete"]})]})]})]})})]}),r.jsx(Ql,{isOpen:b,onClose:()=>v(!1),onConfirm:ce,title:i("management.dangerZone.title")||"Delete Restaurant",message:i("management.dangerZone.description")||"Are you sure you want to delete this restaurant? This action can be restored later.",isSubmitting:S,itemType:"restaurant",itemName:e?.restaurantName}),r.jsx(Ql,{isOpen:j,onClose:()=>w(!1),onConfirm:te,title:i("management.dangerZone.title")||"Delete Restaurant",message:i("management.dangerZone.description")||"Are you sure you want to delete this restaurant? This action can beRECTLY...",isSubmitting:T,itemType:"restaurant-purge",itemName:e?.restaurantName})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 rounded-2xl flex items-center justify-center mb-4",children:r.jsx(aa,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:i("management.noDataTitle")}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center max-w-md",children:i("management.noDataMessage")})]})},Wo=({label:e,value:t,isFile:a=!1})=>{const{t:n}=Ze();return r.jsxs("div",{className:"group",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:e}),a?t?r.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-semibold text-blue-600 dark:text-blue-400 hover:underline transition-colors",children:n("management.buttons.viewFile")||"View File"}):r.jsx("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:n("management.common.na")||"N/A"}):r.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:t||n("management.common.na")||"N/A"})]})},Dbe=({branch:e})=>{const{t}=Ze();return r.jsxs("div",{className:"group relative bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-200/50 dark:border-gray-700/50",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),r.jsx("div",{className:`absolute top-0 left-0 right-0 h-1.5 ${e.isActive?"bg-gradient-to-r from-green-400 via-emerald-500 to-teal-500":"bg-gradient-to-r from-gray-400 via-gray-500 to-gray-600"}`}),r.jsx("div",{className:"relative p-6",children:r.jsx("div",{className:"flex items-start justify-between gap-4",children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("div",{className:`flex-shrink-0 p-3 rounded-xl shadow-lg ${e.isActive?"bg-gradient-to-br from-green-400 to-emerald-500":"bg-gradient-to-br from-gray-400 to-gray-600"}`,children:r.jsx(aa,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors truncate",children:e.name}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold shadow-sm ${e.isActive?"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300 ring-1 ring-green-500/20":"bg-gray-100 text-gray-700 dark:bg-gray-700/40 dark:text-gray-300 ring-1 ring-gray-500/20"}`,children:e.isActive?r.jsxs(r.Fragment,{children:[r.jsx(Wl,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:t("branches.status.active")})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ga,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:t("branches.status.inactive")})]})})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-3 border border-gray-200/50 dark:border-gray-700/50 hover:shadow-md transition-all",children:[r.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:r.jsx(Qr,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:t("branches.fields.branchType")}),r.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:e.type})]})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-3 border border-gray-200/50 dark:border-gray-700/50 hover:shadow-md transition-all",children:[r.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsx(fu,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:t("branches.fields.branchTag")}),r.jsx("div",{className:"flex items-center gap-1",children:r.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs font-medium rounded-lg shadow-sm",children:[r.jsx(Ps,{className:"w-3 h-3"}),e.branchTag]})})]})]})]})]})})}),r.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-transparent group-hover:border-indigo-500/20 dark:group-hover:border-indigo-400/20 transition-colors pointer-events-none"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-600 to-transparent opacity-50"})]})},Bbe=({branches:e,loading:t})=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"grid gap-4",children:[e.map(a=>r.jsx(Dbe,{branch:a},a.id)),e.length===0&&!t&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No branches found."})]})}),Lbe=({restaurant:e,onRestore:t})=>r.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-red-200 dark:border-red-800",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.name}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[r.jsxs("div",{children:["Deleted: ",new Date(e.deletedAt).toLocaleString()]}),e.description&&r.jsxs("div",{children:["Description: ",e.description]})]})]}),r.jsxs("button",{onClick:()=>t(e.id),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[r.jsx(XO,{className:"w-4 h-4"}),"Restore"]})]})}),$be=({deletedRestaurants:e,onRestore:t,loading:a})=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"grid gap-4",children:[e.map(n=>r.jsx(Lbe,{restaurant:n,onRestore:t},n.id)),e.length===0&&!a&&r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No deleted restaurants found."})]})}),Fbe=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-40",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg flex items-center gap-3",children:[r.jsx(cs,{className:"w-5 h-5 animate-spin text-blue-600"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:"Loading..."})]})}),zbe=()=>{const[e,t]=p.useState("branches"),[a,n]=p.useState(!1),[s,i]=p.useState(null),{t:o}=Ze(),[l,d]=p.useState([]),[c,g]=p.useState(null),[h,x]=p.useState([]),[b,v]=p.useState(!1),j=(T,A="success")=>{i({message:T,type:A})},w=async()=>{try{n(!0);const[T,A,I,_]=await Promise.all([ws.getRestaurants(),ws.getRestaurantBranchesDropdown(),ws.getRestaurantManagementInfo(),ws.getDeletedRestaurants()]);d(A),g(I),x(_)}catch(T){const A=T instanceof Error?T.message:"Unknown error occurred";j("Failed to fetch data: "+A,"error")}finally{n(!1)}};p.useEffect(()=>{w()},[]);const S=async T=>{try{n(!0),await ws.restoreRestaurant(T),j("Restaurant restored successfully!"),await w()}catch(A){const I=A instanceof Error?A.message:"Unknown error occurred";j("Failed to restore restaurant: "+I,"error")}finally{n(!1)}},M=async T=>{try{n(!0),await ws.updateRestaurantManagementInfo(T),j("Management info updated successfully!"),v(!1),await w()}catch(A){const I=A instanceof Error?A.message:"Unknown error occurred";j("Failed to update management info: "+I,"error")}finally{n(!1)}};return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:o("dashboard.restaurant.title")}),r.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[r.jsx(cs,{className:"w-4 h-4"}),o("dashboard.restaurant.refresh")]})]}),s&&r.jsx(_be,{message:s.message,type:s.type,onClose:()=>i(null)}),r.jsx(Obe,{activeTab:e,onTabChange:t}),e==="branches"&&r.jsx(Bbe,{branches:l,loading:a}),e==="management"&&r.jsx(Rbe,{info:c,onEdit:()=>v(!b),onSubmit:M,editing:b,loading:a}),e==="deleted"&&r.jsx($be,{deletedRestaurants:h,onRestore:S,loading:a}),a&&r.jsx(Fbe,{})]})})};class Ube{anonymousUrl="/api/Branches/Anonymus";onlineUrl="/api/online";async getPublicBranchId(t){try{N.info("Public branch ID getirme istei gnderiliyor",{branchId:t},{prefix:"OnlineMenuService"});const a=`${this.anonymousUrl}/GetPublicId`,n=await he.get(a,{params:{branchId:t}}),s=Object.keys(n.data)[0]||"",i=Object.values(n.data)[0]||"";return N.info("Public branch ID baaryla alnd",{branchId:t,branchName:s,publicId:i},{prefix:"OnlineMenuService"}),{branchName:s,publicId:i}}catch(a){N.error("Public branch ID getirme hatas",a,{prefix:"OnlineMenuService"}),this.handleError(a,"Public branch ID getirilirken hata olutu")}}async getOnlineMenu(t){try{N.info("Online menu getirme istei gnderiliyor",{publicId:t},{prefix:"OnlineMenuService"});const a=`${this.onlineUrl}/menu/${t}`,n=await he.get(a);let s=0,i=0;return n.data.categories?.forEach(o=>{o.products?.forEach(l=>{l.availableExtras&&(i+=l.availableExtras.length,l.availableExtras.forEach(d=>{s+=d.extras?.length||0}))})}),N.info("Online menu baaryla alnd",{publicId:t,branchName:n.data.branchName,restaurantName:n.data.restaurantName,categoriesCount:n.data.categories?.length||0,totalExtraCategoriesCount:i,totalExtrasCount:s,isOpen:n.data.isOpen},{prefix:"OnlineMenuService"}),n.data}catch(a){if(N.error("Online menu getirme hatas",a,{prefix:"OnlineMenuService"}),a?.response?.status===404)throw new Error("Men bulunamad. Geersiz veya sresi dolmu link.");this.handleError(a,"Online men getirilirken hata olutu")}}async startSession(t){try{N.info("Session balatma istei gnderiliyor",{publicId:t.publicId,customerIdentifier:t.customerIdentifier,preferredLanguage:t.preferredLanguage},{prefix:"OnlineMenuService"});const a=`${this.onlineUrl}/start-session`,n=await he.post(a,t);if(N.info("Session balatma yant alnd",{sessionId:n.data.sessionId,branchId:n.data.branchId,branchName:n.data.branchName,hasToken:!!n.data.sessionToken,expiresAt:n.data.expiresAt},{prefix:"OnlineMenuService"}),!n.data)throw new Error("Session response is empty");if(!n.data.sessionId)throw N.error("Session response missing sessionId",{response:n.data}),new Error("Session response missing sessionId");if(!n.data.sessionToken)throw N.error("Session response missing sessionToken",{response:n.data}),new Error("Session response missing sessionToken");return N.info("Session baaryla balatld",{sessionId:n.data.sessionId,branchId:n.data.branchId,tokenPreview:n.data.sessionToken.substring(0,20)+"...",expiresAt:n.data.expiresAt},{prefix:"OnlineMenuService"}),n.data}catch(a){N.error("Session balatma hatas",a,{prefix:"OnlineMenuService"}),a.response&&N.error("Error response details",{status:a.response.status,data:a.response.data,headers:a.response.headers}),this.handleError(a,"Session balatlrken hata olutu")}}async getMyBasket(){try{N.info("Sepet bilgileri getiriliyor",{},{prefix:"OnlineMenuService"});const t=`${this.onlineUrl}/my-basket`,a=await he.get(t);let n=0;return a.data.basketItems?.forEach(i=>{i.extras&&(n+=i.extras.length)}),N.info("Sepet bilgileri baaryla getirildi",{itemCount:a.data.basketItems?.length||0,totalPrice:a.data.totalPrice,totalExtrasInBasket:n},{prefix:"OnlineMenuService"}),{...a.data,items:a.data.basketItems?.map(i=>({...i,productImageUrl:i.imageUrl||void 0,unitPrice:i.price,addons:i.addonItems?.map(o=>({...o,addonBasketItemId:o.basketItemId,addonName:o.productName,specialPrice:o.price}))||[],extras:i.extras||[],specialInstructions:i.addonNote}))||[],total:a.data.totalPrice,subtotal:a.data.productTotal||a.data.totalPrice,tax:0,itemCount:a.data.basketItems?.length||0,totalQuantity:a.data.basketItems?.reduce((i,o)=>i+o.quantity,0)||0,priceChangesDetected:a.data.hasUnconfirmedPriceChange}}catch(t){N.error("Sepet bilgileri getirme hatas",t,{prefix:"OnlineMenuService"}),this.handleError(t,"Sepet bilgileri getirilirken hata olutu")}}async clearBasket(){try{N.info("Sepet temizleme istei gnderiliyor",{},{prefix:"OnlineMenuService"});const t=`${this.onlineUrl}/my-basket`;await he.delete(t),N.info("Sepet baaryla temizlendi",{},{prefix:"OnlineMenuService"})}catch(t){N.error("Sepet temizleme hatas",t,{prefix:"OnlineMenuService"}),this.handleError(t,"Sepet temizlenirken hata olutu")}}async deleteBasketItem(t){try{N.info("Sepet rn silme istei gnderiliyor",{basketItemId:t},{prefix:"OnlineMenuService"});const a=`${this.onlineUrl}/my-basket/items/${t}`;await he.delete(a),N.info("Sepet rn baaryla silindi",{basketItemId:t},{prefix:"OnlineMenuService"})}catch(a){N.error("Sepet rn silme hatas",a,{prefix:"OnlineMenuService"}),this.handleError(a,"Sepet rn silinirken hata olutu")}}async deleteBasketProduct(t){try{N.info("Sepet rn (products) silme istei gnderiliyor",{basketItemId:t},{prefix:"OnlineMenuService"});const a=`${this.onlineUrl}/my-basket/products/${t}`;await he.delete(a),N.info("Sepet rn (products) baaryla silindi",{basketItemId:t},{prefix:"OnlineMenuService"})}catch(a){N.error("Sepet rn (products) silme hatas",a,{prefix:"OnlineMenuService"}),this.handleError(a,"Sepet rn silinirken hata olutu")}}async deleteBasketAddon(t){try{N.info("Sepet addon silme istei gnderiliyor",{addonBasketItemId:t},{prefix:"OnlineMenuService"});const a=`${this.onlineUrl}/my-basket/addons/${t}`;await he.delete(a),N.info("Sepet addon baaryla silindi",{addonBasketItemId:t},{prefix:"OnlineMenuService"})}catch(a){N.error("Sepet addon silme hatas",a,{prefix:"OnlineMenuService"}),this.handleError(a,"Sepet addon silinirken hata olutu")}}async updateBasketItem(t,a){try{N.info("Sepet rn gncelleme istei gnderiliyor",{basketItemId:t,quantity:a.quantity},{prefix:"OnlineMenuService"});const n=`${this.onlineUrl}/my-basket/items/${t}`,s=await he.put(n,a);return N.info("Sepet rn baaryla gncellendi",{basketItemId:t,itemCount:s.data.itemCount},{prefix:"OnlineMenuService"}),s.data}catch(n){N.error("Sepet rn gncelleme hatas",n,{prefix:"OnlineMenuService"}),this.handleError(n,"Sepet rn gncellenirken hata olutu")}}async updateBasketItemExtras(t,a,n,s){try{N.info("Basket item extras gncelleme istei gnderiliyor",{basketItemId:t,branchProductId:a,quantity:n,extrasCount:s.length},{prefix:"OnlineMenuService"}),await this.deleteBasketItem(t),await this.addUnifiedItemToMyBasket({branchProductId:a,quantity:n,isAddon:!1,extras:s.length>0?s:void 0}),N.info("Basket item extras baaryla gncellendi",{basketItemId:t,extrasCount:s.length},{prefix:"OnlineMenuService"})}catch(i){N.error("Basket item extras gncelleme hatas",i,{prefix:"OnlineMenuService"}),this.handleError(i,"Basket item extras gncellenirken hata olutu")}}async confirmPriceChanges(){try{N.info("Fiyat deiikliklerini onaylama istei gnderiliyor",{},{prefix:"OnlineMenuService"});const t=`${this.onlineUrl}/my-basket/confirm-price-changes`,a=await he.post(t);return N.info("Fiyat deiiklikleri baaryla onayland",{},{prefix:"OnlineMenuService"}),a.data}catch(t){N.error("Fiyat deiikliklerini onaylama hatas",t,{prefix:"OnlineMenuService"}),this.handleError(t,"Fiyat deiiklikleri onaylanrken hata olutu")}}async addUnifiedItemToMyBasket(t){try{N.info("Sepete rn ekleme istei gnderiliyor",{branchProductId:t.branchProductId,quantity:t.quantity,isAddon:t.isAddon,extrasCount:t.extras?.length||0},{prefix:"OnlineMenuService"});const a=`${this.onlineUrl}/my-basket/unified-items`,n=await he.post(a,t);return N.info("rn sepete baaryla eklendi",{basketItemId:n.data.basketItemId,extrasCount:t.extras?.length||0},{prefix:"OnlineMenuService"}),n.data}catch(a){N.error("Sepete rn ekleme hatas",a,{prefix:"OnlineMenuService"}),this.handleError(a,"rn sepete eklenirken hata olutu")}}async batchAddItemsToMyBasket(t){try{N.info("Toplu rn ekleme istei gnderiliyor",{itemsCount:t.length},{prefix:"OnlineMenuService"});const a=`${this.onlineUrl}/my-basket/items/batch`;await he.post(a,t),N.info("rnler toplu olarak sepete baaryla eklendi",{},{prefix:"OnlineMenuService"})}catch(a){N.error("Toplu rn ekleme hatas",a,{prefix:"OnlineMenuService"}),this.handleError(a,"rnler sepete eklenirken hata olutu")}}handleError(t,a){if(t?.response?.status===400){const n=t?.response?.data;if(n?.errors){const s=Object.values(n.errors).flat();throw new Error(`Dorulama hatas: ${s.join(", ")}`)}else throw new Error("Geersiz istek. Ltfen verileri kontrol edin.")}else throw t?.response?.status===401?new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn."):t?.response?.status===403?new Error("Bu ilem iin yetkiniz bulunmuyor."):t?.response?.status===404?new Error("Kayt bulunamad."):t?.response?.status===409?new Error("Bu kayt zaten mevcut."):t?.response?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`${a}: ${t?.message||"Bilinmeyen hata"}`)}}const fn=new Ube,qbe=({checked:e,onChange:t,disabled:a,t:n,isRTL:s})=>r.jsx("div",{className:"flex flex-col gap-2 justify-center items-center",children:r.jsxs("button",{type:"button",onClick:t,disabled:a,"aria-checked":e,role:"switch",className:`group relative inline-flex items-center gap-3 ${s?"flex-row-reverse":""} 
        transition-all duration-200 hover:scale-[1.02] disabled:cursor-not-allowed 
        disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-blue-500/30 
        rounded-xl p-3 ${e?"bg-emerald-50 dark:bg-emerald-950/50":"bg-red-50 dark:bg-red-950/50"}
        border ${e?"border-emerald-200 dark:border-emerald-800":"border-red-200 dark:border-red-800"}`,children:[a?r.jsx("div",{className:"flex items-center justify-center w-12 h-6 rounded-full bg-slate-200 dark:bg-slate-700",children:r.jsx(mt,{className:"h-4 w-4 animate-spin text-slate-400"})}):r.jsx("div",{className:`relative w-12 h-6 rounded-full transition-all duration-300 ease-in-out
            ${e?"bg-gradient-to-r from-emerald-500 to-green-500 shadow-lg shadow-emerald-500/30":"bg-gradient-to-r from-red-500 to-rose-500 shadow-lg shadow-red-500/30"}`,children:r.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-all duration-300 ease-in-out
              ${e?`${s?"left-0.5":"right-0.5"}`:`${s?"right-0.5":"left-0.5"}`}`})}),r.jsx("div",{className:"flex flex-col items-start",children:r.jsx("span",{className:`text-sm font-semibold ${e?Tr.text.success:Tr.text.error}`,children:e?n("branchManagementBranch.status.open")||"Active":n("branchManagementBranch.status.temporarilyClosed")||"Temporarily Closed"})})]})}),$p=({onClick:e,disabled:t,variant:a,children:n,isLoading:s})=>r.jsx("button",{onClick:e,disabled:t||s,className:`group px-6 py-3 ${Tr[a]} text-white rounded-xl font-semibold 
      transition-all duration-300 shadow-lg hover:shadow-xl hover:-translate-y-0.5 
      focus:outline-none focus:ring-4 disabled:opacity-50 disabled:cursor-not-allowed 
      disabled:hover:translate-y-0 disabled:hover:shadow-lg backdrop-blur-sm
      active:scale-95`,children:r.jsxs("div",{className:"flex items-center gap-2 transition-all duration-200",children:[s&&r.jsx(mt,{className:"w-4 h-4 animate-spin"}),n]})}),Vbe=({selectedBranch:e,isEditing:t,isLoading:a,t:n,isRTL:s,setIsEditing:i,handleToggleTemporaryClose:o,handleSave:l,initializeEditData:d,editData:c,setEditData:g})=>{const[h,x]=p.useState(!1),[b,v]=p.useState(""),[j,w]=p.useState(!1);Ra();const[S,M]=p.useState(!1),T=async()=>{if(e)try{M(!0);const{publicId:E}=await fn.getPublicBranchId(e.id),X=`/OnlineMenu/${E}`;window.open(X,"_blank","noopener,noreferrer")}catch(E){console.error("Failed to get public ID:",E),alert(n("branchManagementBranch.errors.failedToGetPublicId")||"Failed to get online menu link")}finally{M(!1)}},A=async E=>{try{x(!0);const X=await Ki.uploadFile(E);return g(ee=>({...ee,branchLogoPath:X})),v(""),X}catch{return v(n("branchManagementBranch.errors.imageUploadFailed")||"Image upload failed"),AN}finally{x(!1)}},I=async E=>{const X=E.target.files?.[0];X&&await A(X)},_=E=>{E.preventDefault(),E.stopPropagation(),E.type==="dragenter"||E.type==="dragover"?w(!0):E.type==="dragleave"&&w(!1)},D=async E=>{E.preventDefault(),E.stopPropagation(),w(!1),E.dataTransfer.files&&E.dataTransfer.files[0]&&await A(E.dataTransfer.files[0])};return r.jsxs("div",{className:`${Tr.background.card} ${Tr.background.cardHover} backdrop-blur-xl 
      rounded-3xl shadow-2xl border border-slate-200/50 dark:border-slate-700/50 
      transition-all duration-500 mb-8 overflow-hidden relative`,children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/30 via-transparent to-emerald-50/30 dark:from-slate-800/30 dark:to-slate-900/30"}),r.jsx("div",{className:"relative p-6 sm:p-8",children:r.jsxs("div",{className:"flex flex-col gap-8 xl:flex-row xl:items-start xl:justify-between",children:[r.jsx("div",{className:"flex flex-col gap-6  min-w-0 flex-1",children:r.jsxs("div",{className:"flex items-center gap-4 ",children:[r.jsxs("div",{className:"relative group flex-shrink-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl blur-lg opacity-30 group-hover:opacity-50 transition-opacity duration-300"}),r.jsx("div",{className:"relative p-4 bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl shadow-lg",children:r.jsx(Qr,{className:"w-6 h-6 text-white"})})]}),r.jsxs("div",{className:"space-y-2 min-w-0",children:[r.jsx("h1",{className:`text-2xl font-bold ${Tr.text.primary} leading-tight`,children:n("branchManagementBranch.title")||"Branch Management"}),r.jsx("p",{className:`text-sm ${Tr.text.secondary} leading-relaxed`,children:n("branchManagementBranch.description")||"Manage your branch information and settings"})]}),e&&r.jsx("div",{className:`flex items-center gap-4 ${s?"flex-row-reverse":""} flex-wrap`,children:r.jsx("div",{className:"relative group flex-shrink-0",children:t&&c.branchLogoPath||!t&&e.branchLogoPath?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 to-blue-500 rounded-2xl blur-lg opacity-30 group-hover:opacity-50 transition-opacity duration-300"}),r.jsx("img",{src:t?c.branchLogoPath||e.branchLogoPath||"":e.branchLogoPath||"",alt:n("branchManagementBranch.logoAlt")||"Branch Logo",className:"relative w-24 h-24 sm:w-28 sm:h-28 lg:w-32 lg:h-32 object-cover rounded-2xl border-2 border-white dark:border-slate-700 shadow-xl transition-transform duration-300 group-hover:scale-105"})]}):r.jsxs("div",{className:"relative w-24 h-24 sm:w-28 sm:h-28 lg:w-32 lg:h-32 flex flex-col items-center justify-center bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-900 rounded-2xl border-2 border-dashed border-slate-300 dark:border-slate-600 shadow-inner",children:[r.jsx(u0,{className:"w-8 h-8 text-slate-400 dark:text-slate-500 mb-2"}),r.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 text-center px-2",children:n("branchManagementBranch.noLogo")||"No Logo"})]})})})]})}),r.jsxs("div",{className:`flex flex-col gap-6 ${s?"items-start":"items-end"}`,children:[r.jsxs("div",{className:"flex flex-col justify-center h-full w-full sm:flex-row gap-4 items-start sm:items-center ",children:[e&&r.jsx(qbe,{checked:!e.isTemporarilyClosed,onChange:o,disabled:a,t:n,isRTL:s}),r.jsx("div",{className:"flex gap-3 flex-wrap",children:t?r.jsxs("div",{className:"flex gap-3",children:[r.jsxs($p,{onClick:l,variant:"success",disabled:a||h,isLoading:a,children:[r.jsx(Oa,{className:"w-4 h-4"}),r.jsx("span",{children:n("branchManagementBranch.actions.save")||"Save"})]}),r.jsxs($p,{onClick:()=>{i(!1),e&&d(e),v("")},variant:"neutral",children:[r.jsx(xt,{className:"w-4 h-4"}),r.jsx("span",{children:n("branchManagementBranch.actions.cancel")||"Cancel"})]})]}):r.jsxs($p,{onClick:()=>i(!0),variant:"primary",children:[r.jsx(Cm,{className:"w-4 h-4"}),r.jsx("span",{children:n("branchManagementBranch.actions.edit")||"Edit"})]})})]}),e&&r.jsxs($p,{onClick:T,variant:"primary",disabled:S,isLoading:S,children:[r.jsx(Wi,{className:"w-4 h-4"}),r.jsx("span",{children:n("branchManagementBranch.actions.onlineMenu")||"Online Menu"})]}),t&&r.jsxs("div",{className:"w-full max-w-md",children:[r.jsx("label",{className:`block text-sm font-semibold ${Tr.text.primary} mb-2`,children:n("branchManagementBranch.uploadLogo")||"Upload Logo"}),r.jsxs("div",{onDragEnter:_,onDragLeave:_,onDragOver:_,onDrop:D,className:`relative group cursor-pointer transition-all duration-300 rounded-xl border-2 border-dashed p-4
                    ${j?"border-blue-500 bg-blue-50 dark:bg-blue-950/20 scale-[1.02]":"border-slate-300 dark:border-slate-600 hover:border-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[r.jsx("input",{title:"branch-logo-upload",id:"branch-logo-upload",type:"file",accept:"image/*",onChange:I,disabled:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),r.jsxs("div",{className:"flex items-center gap-3",children:[h?r.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/50 rounded-lg flex-shrink-0",children:r.jsx(mt,{className:"w-5 h-5 animate-spin text-blue-600"})}):r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900/50 dark:to-indigo-900/50 rounded-lg group-hover:from-blue-200 group-hover:to-indigo-200 dark:group-hover:from-blue-800/50 dark:group-hover:to-indigo-800/50 transition-all duration-300 flex-shrink-0",children:r.jsx(vo,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:`text-sm font-medium ${Tr.text.primary} truncate`,children:h?n("branchManagementBranch.uploading")||"Uploading...":n("branchManagementBranch.uploadPrompt")||"Drop image or click to browse"}),r.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:n("branchManagementBranch.uploadHint")||"PNG, JPG, GIF up to 5MB"})]})]})]}),b&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 p-2.5 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg",children:[r.jsx(xt,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),r.jsx("p",{className:`text-xs ${Tr.text.error}`,children:b})]})]})]})]})})]})},Hbe=({selectedBranch:e,isEditing:t,editData:a,t:n,handleInputChange:s,countries:i,getPhoneParts:o,handlePhoneCompositeChange:l})=>{const{isRTL:d}=Ze();return r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 transition-all duration-300 hover:shadow-2xl",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("h2",{className:"text-xl font-bold mb-6 text-gray-900 dark:text-white flex items-center",children:[r.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900 mr-3",children:r.jsx(Dn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),n("branchManagementBranch.basicInfo.title")]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:n("branchManagementBranch.basicInfo.branchName")}),t?r.jsx("input",{type:"text",value:a.branchName,onChange:c=>s("branchName",c.target.value),placeholder:n("branchManagementBranch.placeholders.branchName"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 group-hover:border-blue-400 dark:group-hover:border-blue-500"}):r.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium text-lg",children:e?.branchName||n("branchManagementBranch.basicInfo.notSpecified")})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:n("branchManagementBranch.basicInfo.whatsappNumber")}),t?r.jsxs("div",{className:`flex gap-2 ${d?"flex-row-reverse":""}`,children:[r.jsx("select",{title:"Country Code",value:o(a.whatsappOrderNumber).code,onChange:c=>l("whatsappOrderNumber",a.whatsappOrderNumber,"code",c.target.value),className:"w-1/3 md:w-1/4 px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 hover:border-blue-400 dark:hover:border-blue-500",children:i.map(c=>r.jsxs("option",{value:c.code,children:[c.name," (",c.code,")"]},c.code+c.name))}),r.jsx("input",{type:"tel",value:o(a.whatsappOrderNumber).number,onChange:c=>l("whatsappOrderNumber",a.whatsappOrderNumber,"number",c.target.value),placeholder:n("branchManagementBranch.placeholders.whatsappNumber"),className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 hover:border-blue-400 dark:hover:border-blue-500"})]}):r.jsxs("div",{className:"text-gray-900 dark:text-gray-100 font-medium text-lg flex items-center",children:[r.jsx(Dn,{className:"w-5 h-5 mr-2 text-green-500 dark:text-green-400"}),e?.whatsappOrderNumber||n("branchManagementBranch.basicInfo.notSpecified")]})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:n("branchManagementBranch.basicInfo.email")}),t?r.jsx("input",{type:"email",value:a.email,onChange:c=>s("email",c.target.value),placeholder:n("branchManagementBranch.placeholders.email"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 group-hover:border-blue-400 dark:group-hover:border-blue-500"}):r.jsxs("div",{className:"text-gray-900 dark:text-gray-100 font-medium text-lg flex items-center",children:[r.jsx(Zs,{className:"w-5 h-5 mr-2 text-blue-500 dark:text-blue-400"}),e?.email||n("branchManagementBranch.basicInfo.notSpecified")]})]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 transition-all duration-300 hover:shadow-2xl",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("h2",{className:"text-xl font-bold mb-6 text-gray-900 dark:text-white flex items-center",children:[r.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900 mr-3",children:r.jsx(Qr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),n("branchManagementBranch.addressInfo.title")]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:n("branchManagementBranch.addressInfo.country")}),t?r.jsxs("div",{className:"relative",children:[r.jsx(Wi,{className:`absolute ${d?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none z-10`}),r.jsxs("select",{title:"Country",value:a.createAddressDto?.country||"",onChange:c=>s("createAddressDto.country",c.target.value),className:`w-full ${d?"pr-10 pl-8":"pl-10 pr-8"} py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 group-hover:border-blue-400 dark:group-hover:border-blue-500 appearance-none ${d?"text-right":"text-left"}`,dir:d?"rtl":"ltr",children:[r.jsx("option",{value:"",disabled:!0,children:n("branchManagementBranch.placeholders.country")}),tb.map(c=>r.jsx("option",{value:n(c),children:n(c)},c))]}),r.jsx("div",{className:`absolute inset-y-0 ${d?"left-0 pl-3":"right-0 pr-3"} flex items-center pointer-events-none`,children:r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}):r.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:e?.createAddressDto?.country||n("branchManagementBranch.basicInfo.notSpecified")})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:n("branchManagementBranch.addressInfo.city")}),t?r.jsx("input",{type:"text",value:a.createAddressDto?.city||"",onChange:c=>s("createAddressDto.city",c.target.value),placeholder:n("branchManagementBranch.placeholders.city"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 group-hover:border-blue-400 dark:group-hover:border-blue-500"}):r.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:e?.createAddressDto?.city||n("branchManagementBranch.basicInfo.notSpecified")})]})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:n("branchManagementBranch.addressInfo.street")}),t?r.jsx("input",{type:"text",value:a.createAddressDto?.street||"",onChange:c=>s("createAddressDto.street",c.target.value),placeholder:n("branchManagementBranch.placeholders.street"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 group-hover:border-blue-400 dark:group-hover:border-blue-500"}):r.jsxs("div",{className:"text-gray-900 dark:text-gray-100 font-medium flex items-center",children:[r.jsx(Qr,{className:"w-5 h-5 mr-2 text-purple-500 dark:text-purple-400"}),e?.createAddressDto?.street||n("branchManagementBranch.basicInfo.notSpecified")]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:n("branchManagementBranch.addressInfo.postalCode")}),t?r.jsx("input",{type:"text",value:a.createAddressDto?.zipCode||"",onChange:c=>s("createAddressDto.zipCode",c.target.value),placeholder:n("branchManagementBranch.placeholders.postalCode"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 group-hover:border-blue-400 dark:group-hover:border-blue-500"}):r.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:e?.createAddressDto?.zipCode||"-"})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:n("branchManagementBranch.addressInfo.region")}),t?r.jsx("input",{type:"text",value:a.createAddressDto?.addressLine1||"",onChange:c=>s("createAddressDto.addressLine1",c.target.value),placeholder:n("branchManagementBranch.placeholders.region"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 group-hover:border-blue-400 dark:group-hover:border-blue-500"}):r.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:e?.createAddressDto?.addressLine1||"-"})]})]})]})]})})]})};class Wbe{baseUrl="/api/Branches";async getBranches(){try{N.info("Kullancya ait branch bilgileri getirme istei gnderiliyor",null,{prefix:"BranchService"});const t=["address","contact","workingHours"],a=new URLSearchParams({include:t.join(",")}),n=`${this.baseUrl}?${a.toString()}`;N.info("Branch API Request URL:",n,{prefix:"BranchService"});const s=await he.get(n);N.info("Branch API Raw Response:",s,{prefix:"BranchService"}),N.info("Branch API Response Data:",s.data,{prefix:"BranchService"});let i=[];if(s.data&&s.data.data){const o=s.data.data;Array.isArray(o)?i=o.map(this.transformApiBranchToBranchData):i=[this.transformApiBranchToBranchData(o)]}else s.data&&(Array.isArray(s.data)?i=s.data.map(this.transformApiBranchToBranchData):i=[this.transformApiBranchToBranchData(s.data)]);return N.info("Transformed Branch Data:",i,{prefix:"BranchService"}),N.info("Kullancya ait branch bilgileri baaryla alnd",{branchCount:i.length,includes:t,hasIncludedData:{restaurant:!!s.data?.data?.restaurant,address:!!s.data?.data?.address,contact:!!s.data?.data?.contact,workingHours:!!s.data?.data?.workingHours,categories:!!s.data?.data?.categories,menuTables:!!s.data?.data?.menuTables,activeOrders:!!s.data?.data?.activeOrders}},{prefix:"BranchService"}),i}catch(t){throw N.error("Branch bilgileri getirme hatas",t,{prefix:"BranchService"}),N.error("Error response:",t?.response,{prefix:"BranchService"}),N.error("Error response data:",t?.response?.data,{prefix:"BranchService"}),t?.response?.status===401?new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn."):t?.response?.status===403?new Error("Bu ilem iin yetkiniz bulunmuyor."):t?.response?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`Branch bilgileri getirilirken hata olutu: ${t?.message||"Bilinmeyen hata"}`)}}transformApiBranchToBranchData(t){return{id:t.id,branchId:t.id,branchName:t.branchName,whatsappOrderNumber:t.whatsappOrderNumber,email:t.contact?.mail||null,branchStatus:t.branchStatus,restaurantId:t.restaurant?.restaurantId||0,branchLogoPath:t.branchLogoPath,isOpenNow:t.isOpenNow||!1,isTemporarilyClosed:t.isTemporarilyClosed,createAddressDto:{country:t.address?.country||null,city:t.address?.city||null,street:t.address?.street||null,zipCode:t.address?.zipCode||null,addressLine1:t.address?.addressLine1||null,addressLine2:t.address?.addressLine2||null},createContactDto:{phone:t.whatsappOrderNumber||"",mail:t.contact.mail||"",location:t?.contact.location||"",contactHeader:t?.contact.contactHeader||"",footerTitle:t?.contact.footerTitle||"",footerDescription:t?.contact.footerDescription||"",openTitle:t?.contact.openTitle||"",openDays:t?.contact.openDays||"",openHours:t?.contact.openHours||""},workingHours:t.workingHours?.map(a=>({openTime:a.openTime,closeTime:a.closeTime,dayOfWeek:a.dayOfWeek,isWorkingDay:a.isWorkingDay}))||[]}}async updateBranch(t,a){try{N.info("Branch gncelleme istei gnderiliyor",{id:t,data:a},{prefix:"BranchService"});const n={branchName:a.branchName?.trim()||null,whatsappOrderNumber:a.whatsappOrderNumber?.trim()||null,branchLogoPath:a.branchLogoPath||null};a.createAddressDto&&(n.batchUpdateAddressDto={country:a.createAddressDto.country?.trim()||null,city:a.createAddressDto.city?.trim()||null,street:a.createAddressDto.street?.trim()||null,adressLine1:a.createAddressDto.addressLine1?.trim()||null,adressLine2:a.createAddressDto.addressLine2?.trim()||null,zipCode:a.createAddressDto.zipCode?.trim()||null}),a.createContactDto&&(n.batchUpdateContactDto={contactHeader:a.createContactDto.contactHeader?.trim()||null,location:a.createContactDto.location?.trim()||null,phone:a.createContactDto.phone?.trim()||null,mail:a.createContactDto.mail?.trim()||null,footerTitle:a.createContactDto.footerTitle?.trim()||null,footerDescription:a.createContactDto.footerDescription?.trim()||null,openTitle:a.createContactDto.openTitle?.trim()||null,openDays:a.createContactDto.openDays?.trim()||null,openHours:a.createContactDto.openHours?.trim()||null}),a.createBranchWorkingHourCoreDto&&a.createBranchWorkingHourCoreDto.length>0&&(n.batchUpdateBranchWorkingHourDto=a.createBranchWorkingHourCoreDto.map(i=>({dayOfWeek:i.dayOfWeek,openTime:i.openTime,closeTime:i.closeTime,isWorkingDay:i.isWorkingDay}))),N.info("Transformed batch update data",n,{prefix:"BranchService"});const s=await he.put(`${this.baseUrl}/${t}/batch-update`,n);return N.info("Branch Update API Response alnd",s.data,{prefix:"BranchService"}),s.data.data}catch(n){throw N.error("Branch gncelleme hatas",n,{prefix:"BranchService"}),n.response?.data?.errors&&N.error("API Validation Hatalar:",n.response.data.errors,{prefix:"BranchService"}),n}}async deleteBranch(t){try{N.info("Branch silme istei gnderiliyor",{id:t},{prefix:"BranchService"}),await he.delete(`${this.baseUrl}/${t}`),N.info("Branch baaryla silindi",{id:t},{prefix:"BranchService"})}catch(a){throw N.error("Branch silme hatas",a,{prefix:"BranchService"}),a}}async toggleTemporaryClose(t,a,n){try{N.info("Branch temporary close gncelleme istei",{branchId:t,isTemporarilyClosed:a,isOpenNow:n},{prefix:"BranchService"}),await he.patch(`${this.baseUrl}/${t}/temporary-close`,a),N.info("Branch temporary close durumu gncellendi",null,{prefix:"BranchService"})}catch(s){if(N.error("Branch temporary close gncelleme hatas",s,{prefix:"BranchService"}),s?.response?.status===400){const i=s?.response?.data;if(i?.errors){const o=Object.values(i.errors).flat();throw new Error(`Dorulama hatas: ${o.join(", ")}`)}else throw new Error("Geersiz istek. Ltfen verileri kontrol edin.")}else throw s?.response?.status===401?new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn."):s?.response?.status===403?new Error("Bu ilem iin yetkiniz bulunmuyor."):s?.response?.status===404?new Error("ube bulunamad."):s?.response?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`ube durumu gncellenirken hata olutu: ${s?.message||"Bilinmeyen hata"}`)}}}const ux=new Wbe,Kbe=({selectedBranch:e,isEditing:t,editData:a,t:n,handleWorkingHourChange:s})=>{const i=o=>o.substring(0,5);return r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700 transition-all duration-300 hover:shadow-2xl",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold mb-6 text-slate-800 dark:text-slate-100 flex items-center",children:[r.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 mr-4 shadow-lg",children:r.jsx(la,{className:"w-6 h-6 text-white"})}),n("branchManagementBranch.workingHours.title")]}),t?r.jsx("div",{className:"space-y-4",children:a.createBranchWorkingHourCoreDto?.map(o=>r.jsxs("div",{className:`p-6 rounded-xl border-2 transition-all duration-300 hover:shadow-lg ${o.isWorkingDay?"bg-gradient-to-r from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 border-emerald-200 dark:border-emerald-700":"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-900/20 dark:to-slate-800/20 border-slate-200 dark:border-slate-700 opacity-75"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"font-bold text-xl text-slate-800 dark:text-slate-100",children:n(`branchManagementBranch.workingHours.days.${o.dayOfWeek}`)}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:o.isWorkingDay,onChange:l=>s(o.dayOfWeek,"isWorkingDay",l.target.checked),className:"w-5 h-5 text-emerald-600 border-slate-300 dark:border-slate-600 rounded focus:ring-emerald-500 focus:ring-2 bg-white dark:bg-slate-700 transition-colors duration-200"}),r.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:n("branchManagementBranch.workingHours.workingDay")})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-bold mb-3 ${o.isWorkingDay?"text-slate-700 dark:text-slate-300":"text-slate-500 dark:text-slate-500"}`,children:n("branchManagementBranch.workingHours.openTime")}),r.jsx("input",{title:"openTime",type:"time",value:o.openTime,onChange:l=>s(o.dayOfWeek,"openTime",l.target.value),disabled:!o.isWorkingDay,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 shadow-sm hover:shadow-md ${o.isWorkingDay?"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-emerald-500 focus:border-transparent":"border-slate-200 dark:border-slate-700 bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-500 cursor-not-allowed"}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-bold mb-3 ${o.isWorkingDay?"text-slate-700 dark:text-slate-300":"text-slate-500 dark:text-slate-500"}`,children:n("branchManagementBranch.workingHours.closeTime")}),r.jsx("input",{title:"closeTime",type:"time",value:o.closeTime,onChange:l=>s(o.dayOfWeek,"closeTime",l.target.value),disabled:!o.isWorkingDay,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 shadow-sm hover:shadow-md ${o.isWorkingDay?"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-emerald-500 focus:border-transparent":"border-slate-200 dark:border-slate-700 bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-500 cursor-not-allowed"}`})]})]}),!o.isWorkingDay&&r.jsx("div",{className:"mt-4 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-slate-500 dark:text-slate-500",children:[r.jsx(xt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-semibold",children:n("branchManagementBranch.status.closed")})]})})]},o.dayOfWeek))}):e?.workingHours&&e.workingHours.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.workingHours.map(o=>r.jsxs("div",{className:`p-6 rounded-xl border-2 transition-all duration-300 hover:shadow-lg transform hover:scale-105 ${o.isWorkingDay?"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 border-emerald-200 dark:border-emerald-700":"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-700"}`,children:[r.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-100 mb-3 text-center text-lg",children:n(`branchManagementBranch.workingHours.days.${o.dayOfWeek}`)}),o.isWorkingDay?r.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300 flex items-center justify-center",children:[r.jsx(Or,{className:"w-4 h-4 mr-2 text-emerald-500"}),r.jsxs("span",{className:"font-semibold",children:[i(o.openTime)," - ",i(o.closeTime)]})]}):r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-red-600 dark:text-red-400 mb-2",children:[r.jsx(xt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-bold",children:n("branchManagementBranch.status.closed")})]}),r.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:[i(o.openTime)," - ",i(o.closeTime)]})]})]},o.dayOfWeek))}):r.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-slate-700 rounded-xl",children:[r.jsx(Or,{className:"w-16 h-16 mx-auto mb-4 text-slate-400 dark:text-slate-500"}),r.jsx("p",{className:"text-xl font-semibold text-slate-600 dark:text-slate-400",children:n("branchManagementBranch.workingHours.noWorkingHours")})]})]})})},Qbe=()=>{const{t:e,isRTL:t}=Ze(),[a,n]=p.useState([]),[s,i]=p.useState(null),[o,l]=p.useState(!1),[d,c]=p.useState(!1),[g,h]=p.useState(""),[x,b]=p.useState(""),[v,j]=p.useState({branchName:"",whatsappOrderNumber:"",email:"",branchLogoPath:"",createAddressDto:{country:"",city:"",street:"",zipCode:"",addressLine1:"",addressLine2:""},createContactDto:{phone:"",mail:"",location:"",contactHeader:"",footerTitle:"",footerDescription:"",openTitle:"",openDays:"",openHours:""},createBranchWorkingHourCoreDto:[]});p.useEffect(()=>{S()},[]);const w=E=>{if(!E)return{code:"+90",number:""};const ee=[...Gs].sort((Z,B)=>B.code.length-Z.code.length).find(Z=>E.startsWith(Z.code));return ee?{code:ee.code,number:E.slice(ee.code.length)}:{code:"+90",number:E}},S=async()=>{try{c(!0),h("");const E=await ux.getBranches();n(E),E.length>0&&(i(E[0]),M(E[0]))}catch(E){h(E.message||e("branchManagementBranch.messages.loadError"))}finally{c(!1)}},M=E=>{j({branchName:E.branchName||"",whatsappOrderNumber:E.whatsappOrderNumber||"",email:E.email||"",branchLogoPath:E.branchLogoPath||"",createAddressDto:{country:E.createAddressDto?.country||"",city:E.createAddressDto?.city||"",street:E.createAddressDto?.street||"",zipCode:E.createAddressDto?.zipCode||"",addressLine1:E.createAddressDto?.addressLine1||"",addressLine2:E.createAddressDto?.addressLine2||""},createContactDto:{phone:E.createContactDto?.phone||"",mail:E.email||"",location:E?.createContactDto?.location||"",contactHeader:E?.createContactDto?.contactHeader||"",footerTitle:E?.createContactDto?.footerTitle||"",footerDescription:E?.createContactDto?.footerDescription||"",openTitle:E?.createContactDto?.openTitle||"",openDays:E?.createContactDto?.openDays||"",openHours:E?.createContactDto?.openHours||""},createBranchWorkingHourCoreDto:E.workingHours?E.workingHours.map(X=>({dayOfWeek:X.dayOfWeek,openTime:X.openTime,closeTime:X.closeTime,isWorkingDay:X.isWorkingDay})):[{dayOfWeek:1,openTime:"09:00",closeTime:"22:00",isWorkingDay:!0},{dayOfWeek:2,openTime:"09:00",closeTime:"22:00",isWorkingDay:!0},{dayOfWeek:3,openTime:"09:00",closeTime:"22:00",isWorkingDay:!0},{dayOfWeek:4,openTime:"09:00",closeTime:"22:00",isWorkingDay:!0},{dayOfWeek:5,openTime:"09:00",closeTime:"22:00",isWorkingDay:!0},{dayOfWeek:6,openTime:"09:00",closeTime:"22:00",isWorkingDay:!0},{dayOfWeek:0,openTime:"09:00",closeTime:"22:00",isWorkingDay:!0}]})},T=async()=>{if(s)try{c(!0),h("");const E={...v,branchLogoPath:v.branchLogoPath};await ux.updateBranch(s.id,E),b(e("branchManagementBranch.messages.updateSuccess")),l(!1),await S(),setTimeout(()=>b(""),3e3)}catch(E){h(E.message||e("branchManagementBranch.messages.updateError"))}finally{c(!1)}},A=async()=>{if(s)try{c(!0),h("");const E=!s.isTemporarilyClosed;await ux.toggleTemporaryClose(s.id,E,s.isOpenNow);const X=e(E?"branchManagementBranch.messages.temporaryCloseSuccess":"branchManagementBranch.messages.reopenSuccess");b(X),await S(),setTimeout(()=>b(""),3e3)}catch(E){h(E.message||e("branchManagementBranch.messages.statusChangeError"))}finally{c(!1)}},I=(E,X)=>{j(ee=>{const Z={...ee},B=E.split(".");let G=Z;for(let J=0;J<B.length-1;J++)G[B[J]]||(G[B[J]]={}),G=G[B[J]];return G[B[B.length-1]]=X,Z})},_=(E,X,ee,Z)=>{const{code:B,number:G}=w(X);let J="";ee==="code"?J=Z+G:J=B+Z,I(E,J)},D=(E,X,ee)=>{j(Z=>({...Z,createBranchWorkingHourCoreDto:Z.createBranchWorkingHourCoreDto.map(B=>B.dayOfWeek===E?{...B,[X]:ee}:B)}))};return d&&!s?r.jsx("div",{className:"flex items-center justify-center min-h-64 bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:e("branchManagementBranch.loading")})]})}):s?r.jsx("div",{className:`min-h-screen bg-gray-50 dark:bg-gray-900 ${t?"font-arabic":""}`,dir:t?"rtl":"ltr",children:r.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[g&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 border rounded-xl flex items-center transition-all duration-300",children:[r.jsx(ya,{className:"w-5 h-5 text-red-500 dark:text-red-400 mr-3 flex-shrink-0"}),r.jsx("p",{className:"text-red-700 dark:text-red-300 font-medium",children:g})]}),x&&r.jsxs("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 border rounded-xl flex items-center transition-all duration-300",children:[r.jsx(tr,{className:"w-5 h-5 text-green-500 dark:text-green-400 mr-3 flex-shrink-0"}),r.jsx("p",{className:"text-green-700 dark:text-green-300 font-medium",children:x})]}),r.jsx(Vbe,{selectedBranch:s,isEditing:o,isLoading:d,t:e,isRTL:t,setIsEditing:l,handleToggleTemporaryClose:A,handleSave:T,initializeEditData:M,editData:v,setEditData:j}),r.jsx(Hbe,{selectedBranch:s,isEditing:o,editData:v,t:e,handleInputChange:I,countries:Gs,getPhoneParts:w,handlePhoneCompositeChange:_}),r.jsx(Kbe,{selectedBranch:s,isEditing:o,editData:v,t:e,handleWorkingHourChange:D})]})}):r.jsx("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"text-lg text-gray-500",children:[r.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-12 h-12 mx-auto mb-3 text-gray-500 dark:text-gray-400",children:r.jsx("path",{d:"M12 2L2 7h20l-10-5zm0 0v20m-7-7h14"})}),r.jsx("p",{className:"text-lg font-medium",children:e("branchManagementBranch.noBranchFound")})]})})},Gbe={branches:[],selectedBranch:null,isBranchDropdownOpen:!1,activeCase:null,history:[],quickSummary:null,selectedCase:null,zReport:null,loading:!1,error:null,success:null,showOpenModal:!1,showCloseModal:!1,showZReportModal:!1,showSummaryModal:!1,openingBalance:0,actualCash:0,closingNotes:"",filters:{fromDate:"",toDate:"",status:""},pagination:{currentPage:1,itemsPerPage:10,totalItems:0}},Ybe=()=>{const[e,t]=p.useState(Gbe),a=p.useCallback(async()=>{t(v=>({...v,loading:!0,error:null}));try{const j=(await ux.getBranches()).map(S=>({branchId:typeof S.branchId=="string"?parseInt(S.branchId,10):S.branchId,branchName:S.branchName})),w=j.length>0?j[0]:null;t(S=>({...S,branches:j,selectedBranch:w,loading:!1}))}catch(v){t(j=>({...j,error:v.message||"Failed to fetch branches",loading:!1}))}},[]),n=p.useCallback(v=>{t(j=>({...j,selectedBranch:v,isBranchDropdownOpen:!1}))},[]),s=p.useCallback(async v=>{t(j=>({...j,loading:!0,error:null}));try{const j=await Go.getActiveMoneyCase(v);t(w=>({...w,activeCase:j,loading:!1}))}catch(j){t(w=>({...w,error:j.message||"Failed to fetch active case",loading:!1,activeCase:null}))}},[]),i=p.useCallback(async v=>{try{const j=await Go.getQuickSummary(v);t(w=>({...w,quickSummary:j}))}catch(j){console.error("Failed to fetch quick summary:",j)}},[]),o=p.useCallback(async v=>{t(j=>({...j,loading:!0,error:null}));try{const j=await Go.getMoneyCaseHistory({branchId:v,fromDate:e.filters.fromDate||void 0,toDate:e.filters.toDate||void 0,pageSize:e.pagination.itemsPerPage});t(w=>({...w,history:j.items||[],pagination:{...w.pagination,totalItems:j.totalCount||0},loading:!1}))}catch(j){t(w=>({...w,error:j.message||"Failed to fetch history",loading:!1}))}},[e.filters,e.pagination.itemsPerPage]),l=p.useCallback(async()=>{if(e.selectedBranch){t(v=>({...v,loading:!0,error:null}));try{const v=await Go.openMoneyCase({branchId:e.selectedBranch.branchId,openingBalance:e.openingBalance});t(j=>({...j,activeCase:v,showOpenModal:!1,loading:!1,success:"Money case opened successfully!",openingBalance:0})),await i(e.selectedBranch.branchId),await o(e.selectedBranch.branchId),setTimeout(()=>{t(j=>({...j,success:null}))},3e3)}catch(v){t(j=>({...j,error:v.message||"Failed to open case",loading:!1}))}}},[e.selectedBranch,e.openingBalance,i,o]),d=p.useCallback(async()=>{if(!e.selectedBranch){t(v=>({...v,error:"Please select a branch first"}));return}if(e.actualCash===void 0||e.actualCash===null){t(v=>({...v,error:"Please enter actual cash amount"}));return}t(v=>({...v,loading:!0,error:null}));try{const v=await Go.closeMoneyCase({branchId:e.selectedBranch.branchId,actualCash:e.actualCash,notes:e.closingNotes}),j=v?.difference??v?.discrepancy??0,w=typeof j=="number"?j.toFixed(2):"0.00";t(S=>({...S,activeCase:null,showCloseModal:!1,loading:!1,success:`Money case closed successfully! Difference: $${w}`,actualCash:0,closingNotes:""})),e.selectedBranch&&await Promise.all([i(e.selectedBranch.branchId),o(e.selectedBranch.branchId),s(e.selectedBranch.branchId)]),setTimeout(()=>{t(S=>({...S,success:null}))},5e3)}catch(v){console.error("Error closing money case:",v),t(j=>({...j,error:v.message||"Failed to close case",loading:!1}))}},[e.selectedBranch,e.actualCash,e.closingNotes,i,o,s]),c=p.useCallback(async v=>{t(j=>({...j,loading:!0,error:null}));try{const j=await Go.getZReport(v);t(w=>({...w,zReport:j,showZReportModal:!0,loading:!1}))}catch(j){t(w=>({...w,error:j.message||"Failed to fetch Z report",loading:!1}))}},[]),g=p.useCallback(()=>{t(v=>({...v,showOpenModal:!0}))},[]),h=p.useCallback(()=>{t(v=>({...v,showCloseModal:!0}))},[]),x=p.useCallback(()=>{t(v=>({...v,showOpenModal:!1,showCloseModal:!1,showZReportModal:!1,showSummaryModal:!1,error:null}))},[]),b=p.useCallback(()=>{t(v=>({...v,error:null}))},[]);return{state:e,actions:{fetchBranches:a,handleBranchSelect:n,fetchActiveCase:s,fetchQuickSummary:i,fetchHistory:o,handleOpenCase:l,handleCloseCase:d,fetchZReport:c,openOpenModal:g,openCloseModal:h,closeModals:x,clearError:b,setState:t}}},Zbe=({show:e,loading:t,activeCase:a,actualCash:n,closingNotes:s,onActualCashChange:i,onNotesChange:o,onConfirm:l,onClose:d,t:c,isRTL:g})=>{if(!e)return null;const h=a?.totalAmount||a?.currentBalance||0,x=n-h;return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:d}),r.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[r.jsx("div",{className:"bg-red-600 px-6 py-4",children:r.jsxs("div",{className:`flex items-center justify-between ${g?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${g?"flex-row-reverse":""}`,children:[r.jsx(Zd,{className:`h-6 w-6 text-white ${g?"ml-3":"mr-3"}`}),r.jsx("h3",{className:"text-lg font-medium text-white",children:c("moneyCase.closeCase")})]}),r.jsx("button",{onClick:d,className:"text-white hover:text-gray-200 transition-colors",children:r.jsx(xt,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"px-6 py-4 space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-300",children:c("moneyCase.expectedCash")}),r.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",h.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ${g?"text-right":"text-left"}`,children:c("moneyCase.actualCash")}),r.jsx("input",{type:"number",value:n,onChange:b=>i(parseFloat(b.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0.00",min:"0",step:"0.01"})]}),x!==0&&r.jsx("div",{className:`p-4 rounded-lg ${x>0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"}`,children:r.jsxs("div",{className:`flex items-center ${g?"flex-row-reverse":""}`,children:[r.jsx(ya,{className:`h-5 w-5 ${x>0?"text-green-500":"text-red-500"} ${g?"ml-2":"mr-2"}`}),r.jsxs("div",{children:[r.jsx("p",{className:`text-sm font-medium ${x>0?"text-green-900 dark:text-green-300":"text-red-900 dark:text-red-300"}`,children:x>0?c("moneyCase.surplus"):c("moneyCase.shortage")}),r.jsxs("p",{className:`text-lg font-bold ${x>0?"text-green-600":"text-red-600"}`,children:["$",Math.abs(x).toFixed(2)]})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ${g?"text-right":"text-left"}`,children:c("moneyCase.notes")}),r.jsx("textarea",{value:s,onChange:b=>o(b.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent dark:bg-gray-700 dark:text-white",rows:3,placeholder:c("moneyCase.notesPlaceholder")})]})]}),r.jsxs("div",{className:`bg-gray-50 dark:bg-gray-700 px-6 py-4 flex gap-3 ${g?"flex-row-reverse":""}`,children:[r.jsx("button",{onClick:l,disabled:t,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c(t?"common.loading":"moneyCase.confirmClose")}),r.jsx("button",{onClick:d,disabled:t,className:"flex-1 px-4 py-2 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 font-medium rounded-lg transition-colors",children:c("common.cancel")})]})]})]})})},Xbe=({t:e})=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-lg",children:r.jsx(qr,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e("moneyCase.title")||"Money Case Management"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e("moneyCase.subtitle")||"Manage your branch cash operations"})]})]}),Jbe=({quickSummary:e,activeCase:t,loading:a,t:n,isRTL:s})=>{if(a&&!t&&!e)return r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[1,2,3,4].map(h=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-2"}),r.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-3/4"})]},h))});const i=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(h),o=e?.isOpen??(t!==null&&t.status==="OPEN"),l=e?.todaySales??t?.totalAmount??0,d=e?.todayCash??t?.subTotalAmount??0,c=e?.closedShiftsRevenue??0,g=e?.ordersToday??0;return r.jsxs("div",{className:"space-y-6 mb-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border-l-4 ${o?"border-green-500":"border-red-500"}`,children:r.jsxs("div",{className:`flex items-center justify-between ${s?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:n("moneyCase.status")}),r.jsx("p",{className:`text-2xl font-bold mt-1 ${o?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:n(o?"moneyCase.open":"moneyCase.closed")})]}),o?r.jsx(Or,{className:"h-8 w-8 text-green-500"}):r.jsx(Nt,{className:"h-8 w-8 text-red-500"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border-l-4 border-blue-500",children:r.jsxs("div",{className:`flex items-center justify-between ${s?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:n("moneyCase.todayTotalSales")}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:i(l)}),c>0&&r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[n("moneyCase.closedShifts"),": ",i(c)]})]}),r.jsx(Sm,{className:"h-8 w-8 text-blue-500 flex-shrink-0"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border-l-4 border-yellow-500",children:r.jsxs("div",{className:`flex items-center justify-between ${s?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:n("moneyCase.currentShiftRevenue")}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:i(d)})]}),r.jsx(qr,{className:"h-8 w-8 text-yellow-500 flex-shrink-0"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border-l-4 border-purple-500",children:r.jsxs("div",{className:`flex items-center justify-between ${s?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:n("moneyCase.ordersToday")}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:g})]}),r.jsx(Kn,{className:"h-8 w-8 text-purple-500 flex-shrink-0"})]})})]}),e&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-4 ${s?"flex-row-reverse":""}`,children:[r.jsx(la,{className:"h-5 w-5 text-blue-500"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("moneyCase.weekToDate")})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n("moneyCase.totalRevenue")}),r.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:i(e.weekToDate.totalRevenue)})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n("moneyCase.shifts")}),r.jsx("span",{className:"text-base font-medium text-gray-900 dark:text-white",children:e.weekToDate.shiftCount})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n("moneyCase.orders")}),r.jsx("span",{className:"text-base font-medium text-gray-900 dark:text-white",children:e.weekToDate.orderCount})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("div",{className:`flex items-center gap-2 mb-4 ${s?"flex-row-reverse":""}`,children:[r.jsx(la,{className:"h-5 w-5 text-green-500"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("moneyCase.monthToDate")})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n("moneyCase.totalRevenue")}),r.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:i(e.monthToDate.totalRevenue)})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n("moneyCase.shifts")}),r.jsx("span",{className:"text-base font-medium text-gray-900 dark:text-white",children:e.monthToDate.shiftCount})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n("moneyCase.orders")}),r.jsx("span",{className:"text-base font-medium text-gray-900 dark:text-white",children:e.monthToDate.orderCount})]})]})]})]})]})},eve=({activeCase:e,loading:t,onOpenCase:a,onCloseCase:n,t:s,isRTL:i})=>r.jsx("div",{className:`flex gap-4 mb-6 ${i?"flex-row-reverse":""}`,children:e?r.jsxs("button",{onClick:n,disabled:t,className:`flex items-center px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${i?"flex-row-reverse":""}`,children:[r.jsx(Zd,{className:`h-5 w-5 ${i?"ml-2":"mr-2"}`}),s("moneyCase.closeCase")]}):r.jsxs("button",{onClick:a,disabled:t,className:`flex items-center px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${i?"flex-row-reverse":""}`,children:[r.jsx(x2,{className:`h-5 w-5 ${i?"ml-2":"mr-2"}`}),s("moneyCase.openCase")]})}),tve=({show:e,zReport:t,loading:a,onClose:n,t:s,isRTL:i})=>{if(Lr.useEffect(()=>{const h="z-report-print-styles";let x=document.getElementById(h);return x||(x=document.createElement("style"),x.id=h,x.innerHTML=`
        @media print {
          /* Hide everything except the report content */
          body * {
            visibility: hidden;
          }
          
          /* Show only the z-report content */
          #z-report-printable,
          #z-report-printable * {
            visibility: visible;
          }
          
          /* Position the report at the top of the page */
          #z-report-printable {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            padding: 20px;
            background: white !important;
          }
          
          /* Hide modal chrome elements */
          .modal-backdrop,
          .modal-header,
          .modal-footer,
          .no-print {
            display: none !important;
          }
          
          /* Clean print formatting */
          .print-title {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            color: black !important;
          }
          
          .print-section {
            margin-bottom: 20px;
            page-break-inside: avoid;
          }
          
          .print-section-title {
            font-size: 16px;
            font-weight: bold;
            border-bottom: 2px solid #333;
            padding-bottom: 5px;
            margin-bottom: 10px;
            color: black !important;
          }
          
          .print-box {
            border: 1px solid #ddd;
            padding: 10px;
            background: #f9f9f9 !important;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }
          
          .print-label {
            color: #555 !important;
            font-size: 12px;
          }
          
          .print-value {
            color: black !important;
            font-weight: bold;
          }
          
          /* Remove all dark mode styles */
          .dark\\:bg-gray-800,
          .dark\\:bg-gray-700,
          .dark\\:text-white,
          .dark\\:text-gray-400 {
            background: transparent !important;
            color: black !important;
          }
          
          /* Page setup */
          @page {
            margin: 0.75in;
            size: letter;
          }
        }
      `,document.head.appendChild(x)),()=>{x&&x.parentNode&&x.parentNode.removeChild(x)}},[]),!e)return null;const o=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(h),l=h=>new Date(h).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),d=h=>{if(!h)return"-";const x=h.split(":");if(x.length>=3){const b=parseInt(x[0]),v=parseInt(x[1]),j=parseInt(x[2].split(".")[0]);return`${b}h ${v}m ${j}s`}return h},c=()=>{window.print()},g=()=>{if(!t)return;const h=`
Z REPORT
========================================
Branch: ${t.branchName}
Report Date: ${l(t.reportDate)}
Money Case ID: ${t.moneyCaseId}

OPENING INFORMATION
----------------------------------------
Opened At: ${l(t.openedAt)}
Opened By: ${t.openedBy}
Opening Balance: ${o(t.openingBalance)}

SALES SUMMARY
----------------------------------------
Total Orders: ${t.totalOrders}
Transaction Count: ${t.transactionCount}
Subtotal (Cash): ${o(t.totalCash)}
Service Fee (Card): ${o(t.totalCard)}
Total Revenue: ${o(t.totalSales)}

CLOSING INFORMATION
----------------------------------------
Closed At: ${l(t.closedAt)}
Closed By: ${t.closedBy}
Shift Duration: ${d(t.shiftDuration)}
Expected Cash: ${o(t.expectedCash)}
Actual Cash: ${o(t.actualCash)}
Difference: ${o(t.difference)}

NOTES
----------------------------------------
${t.notes||"No notes"}

========================================
Generated: ${new Date().toLocaleString()}
    `,x=new Blob([h],{type:"text/plain"}),b=URL.createObjectURL(x),v=document.createElement("a");v.href=b,v.download=`z-report-${t.moneyCaseId}-${new Date().getTime()}.txt`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(b)};return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto print-modal-container",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75 print-hidden",onClick:n}),r.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full print-modal",children:[r.jsx("div",{className:"bg-blue-600 px-6 py-4 print-hidden",children:r.jsxs("div",{className:`flex items-center justify-between ${i?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${i?"flex-row-reverse":""}`,children:[r.jsx(vn,{className:`h-6 w-6 text-white ${i?"ml-3":"mr-3"}`}),r.jsx("h3",{className:"text-lg font-medium text-white",children:s("moneyCase.zReport")})]}),r.jsxs("div",{className:`flex items-center gap-2 ${i?"flex-row-reverse":""}`,children:[r.jsx("button",{onClick:c,className:"p-2 text-white hover:bg-blue-700 rounded-lg transition-colors",title:s("common.print"),children:r.jsx(ZO,{className:"h-5 w-5"})}),r.jsx("button",{onClick:g,className:"p-2 text-white hover:bg-blue-700 rounded-lg transition-colors",title:s("common.download"),children:r.jsx(_h,{className:"h-5 w-5"})}),r.jsx("button",{onClick:n,className:"p-2 text-white hover:bg-blue-700 rounded-lg transition-colors",children:r.jsx(xt,{className:"h-5 w-5"})})]})]})}),a?r.jsx("div",{className:"px-6 py-12 flex items-center justify-center print-hidden",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?r.jsxs("div",{className:"px-6 py-6 space-y-6 print-content",id:"z-report-content",children:[r.jsxs("div",{className:"print-header hidden",children:[r.jsx("h1",{className:"text-2xl font-bold text-center mb-4",children:"Z REPORT"}),r.jsx("div",{className:"border-b-2 border-gray-800 pb-2 mb-4"})]}),r.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4 print-section",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:t.branchName}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"text-gray-500 dark:text-gray-400 print-label",children:[s("moneyCase.reportDate"),":"]}),r.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:l(t.reportDate)})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-gray-500 dark:text-gray-400 print-label",children:[s("moneyCase.caseId"),":"]}),r.jsxs("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:["#",t.moneyCaseId]})]})]})]}),r.jsxs("div",{className:"print-section",children:[r.jsx("h5",{className:"text-md font-semibold text-gray-900 dark:text-white mb-3 print-section-title",children:s("moneyCase.openingInformation")}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 grid grid-cols-2 gap-4 print-info-box",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 print-label",children:s("moneyCase.openedAt")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:l(t.openedAt)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 print-label",children:s("moneyCase.openedBy")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:t.openedBy})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 print-label",children:s("moneyCase.openingBalance")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:o(t.openingBalance)})]})]})]}),r.jsxs("div",{className:"print-section",children:[r.jsx("h5",{className:"text-md font-semibold text-gray-900 dark:text-white mb-3 print-section-title",children:s("moneyCase.salesSummary")}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 space-y-3 print-info-box",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 print-label",children:s("moneyCase.totalRevenue")}),r.jsx("span",{className:"text-lg font-bold text-blue-600 dark:text-blue-400 print-highlight",children:o(t.totalSales)})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-blue-200 dark:border-blue-800",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 print-label",children:s("moneyCase.totalOrders")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:t.totalOrders})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 print-label",children:s("moneyCase.transactionCount")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:t.transactionCount})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 print-label",children:s("moneyCase.subtotal")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:o(t.totalCash)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 print-label",children:s("moneyCase.serviceFee")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:o(t.totalCard)})]})]})]})]}),r.jsxs("div",{className:"print-section",children:[r.jsx("h5",{className:"text-md font-semibold text-gray-900 dark:text-white mb-3 print-section-title",children:s("moneyCase.closingInformation")}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3 print-info-box",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 print-label",children:s("moneyCase.closedAt")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:l(t.closedAt)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 print-label",children:s("moneyCase.closedBy")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:t.closedBy})]})]}),r.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-gray-200 dark:border-gray-600",children:[r.jsx(Or,{className:"h-4 w-4 text-gray-500 print-hidden"}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 print-label",children:[s("moneyCase.shiftDuration"),":"]}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:d(t.shiftDuration)})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-3 border-t border-gray-200 dark:border-gray-600",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 print-label",children:s("moneyCase.expectedCash")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:o(t.expectedCash)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 print-label",children:s("moneyCase.actualCash")}),r.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:o(t.actualCash)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 print-label",children:s("moneyCase.difference")}),r.jsxs("p",{className:`text-lg font-bold print-highlight ${t.difference>0?"text-green-600 dark:text-green-400":t.difference<0?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:[t.difference>0?"+":"",o(t.difference)]})]})]})]})]}),t.notes&&r.jsxs("div",{className:"print-section",children:[r.jsx("h5",{className:"text-md font-semibold text-gray-900 dark:text-white mb-3 print-section-title",children:s("moneyCase.notes")}),r.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 print-info-box",children:r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:t.notes})})]}),r.jsx("div",{className:"print-footer hidden",children:r.jsx("div",{className:"border-t-2 border-gray-800 pt-4 mt-6",children:r.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Generated: ",new Date().toLocaleString()]})})})]}):r.jsx("div",{className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400 print-hidden",children:s("moneyCase.noReportData")}),r.jsx("div",{className:`bg-gray-50 dark:bg-gray-700 px-6 py-4 flex justify-end print-hidden ${i?"flex-row-reverse":""}`,children:r.jsx("button",{onClick:n,className:"px-6 py-2 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 font-medium rounded-lg transition-colors",children:s("common.close")})})]})]})})},rve=({show:e,loading:t,openingBalance:a,onOpeningBalanceChange:n,onConfirm:s,onClose:i,t:o,isRTL:l,previousCloseInfo:d})=>e?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:i}),r.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[r.jsx("div",{className:"bg-green-600 px-6 py-4",children:r.jsxs("div",{className:`flex items-center justify-between ${l?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${l?"flex-row-reverse":""}`,children:[r.jsx(x2,{className:`h-6 w-6 text-white ${l?"ml-3":"mr-3"}`}),r.jsx("h3",{className:"text-lg font-medium text-white",children:o("moneyCase.openCase")})]}),r.jsx("button",{onClick:i,className:"text-white hover:text-gray-200 transition-colors",children:r.jsx(xt,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"px-6 py-4",children:[d&&d.hasPreviousClose&&r.jsxs("div",{className:`mb-4 p-3 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg ${l?"text-right":"text-left"}`,children:[r.jsxs("div",{className:`flex items-center ${l?"flex-row-reverse":""}`,children:[r.jsx(bn,{className:`h-5 w-5 text-blue-600 dark:text-blue-400 ${l?"ml-2":"mr-2"}`}),r.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-300",children:o("moneyCase.previousCloseInfo")})]}),r.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-2",children:[o("moneyCase.suggestedBalance"),":"," ",r.jsx("strong",{className:"font-bold text-gray-900 dark:text-white",children:d.suggestedOpeningBalance.toFixed(2)})]}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["(",o("moneyCase.lastClosed"),": ",new Date(d.previousClosedAt).toLocaleString(),")"]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ${l?"text-right":"text-left"}`,children:o("moneyCase.openingBalance")}),r.jsx("input",{type:"number",value:a,onChange:c=>n(parseFloat(c.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0.00",min:"0",step:"0.01"})]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o("moneyCase.openingBalanceDescription")})]}),r.jsxs("div",{className:`bg-gray-50 dark:bg-gray-700 px-6 py-4 flex gap-3 ${l?"flex-row-reverse":""}`,children:[r.jsx("button",{onClick:s,disabled:t,className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o(t?"common.loading":"moneyCase.confirm")}),r.jsx("button",{onClick:i,disabled:t,className:"flex-1 px-4 py-2 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 font-medium rounded-lg transition-colors",children:o("common.cancel")})]})]})]})}):null,ave=({history:e,loading:t,onViewZReport:a,t:n,isRTL:s})=>{const i=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c),o=c=>new Date(c).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),l=c=>{const g={OPEN:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",CLOSED:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",PENDING:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"};return r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${g[c]||g.CLOSED}`,children:c})},d=c=>c===void 0||c===0?null:r.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${c>0?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[c>0?r.jsx(Sm,{className:"h-3 w-3"}):r.jsx(eW,{className:"h-3 w-3"}),i(Math.abs(c))]});return t&&e.length===0?r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("moneyCase.history")})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(c=>r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("div",{className:"h-12 bg-gray-200 dark:bg-gray-700 rounded w-full"})},c))})})]}):r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:[r.jsxs("div",{className:`px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between ${s?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center ${s?"flex-row-reverse":""}`,children:[r.jsx(la,{className:`h-5 w-5 text-gray-400 ${s?"ml-2":"mr-2"}`}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("moneyCase.history")})]}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.length," ",n("moneyCase.records")]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider ${s?"text-right":"text-left"}`,children:n("moneyCase.date")}),r.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider ${s?"text-right":"text-left"}`,children:n("moneyCase.openingBalance")}),r.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider ${s?"text-right":"text-left"}`,children:n("moneyCase.closingBalance")}),r.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider ${s?"text-right":"text-left"}`,children:n("moneyCase.actualCash")}),r.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider ${s?"text-right":"text-left"}`,children:n("moneyCase.difference")}),r.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider ${s?"text-right":"text-left"}`,children:n("moneyCase.status")}),r.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider ${s?"text-right":"text-left"}`,children:n("common.actions")})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:r.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-500 dark:text-gray-400",children:[r.jsx(vn,{className:"h-12 w-12 mb-4 text-gray-400"}),r.jsx("p",{className:"text-lg font-medium",children:n("moneyCase.noHistory")}),r.jsx("p",{className:"text-sm",children:n("moneyCase.noHistoryDescription")})]})})}):e.map(c=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900 dark:text-white font-medium",children:o(c.openedAt)}),c.closedAt&&r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[n("moneyCase.closedAt"),": ",o(c.closedAt)]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:i(c.openingBalance)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c.closingBalance?i(c.closingBalance):"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c.actualCash?i(c.actualCash):"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d(c.difference)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l(c.status)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:c.status==="CLOSED"&&r.jsxs("button",{onClick:()=>a(c.id),className:`flex items-center text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium transition-colors ${s?"flex-row-reverse":""}`,children:[r.jsx(vn,{className:`h-4 w-4 ${s?"ml-1":"mr-1"}`}),n("moneyCase.viewZReport")]})})]},c.id))})]})}),e.length>0&&r.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[n("moneyCase.lastUpdated"),": ",o(e[0]?.openedAt||new Date().toISOString())]})})]})},nve=({error:e,onClose:t})=>e?r.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-md animate-slide-in",children:r.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg shadow-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Nt,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Error"}),r.jsx("p",{className:"mt-1 text-sm text-red-700 dark:text-red-400",children:e})]}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:r.jsx("button",{onClick:t,className:"inline-flex text-red-400 hover:text-red-500 dark:text-red-300 dark:hover:text-red-200 transition-colors",children:r.jsx(xt,{className:"h-5 w-5"})})})]})})}):null,sve=({message:e})=>{const[t,a]=p.useState(!1);return p.useEffect(()=>{if(e){a(!0);const n=setTimeout(()=>{a(!1)},5e3);return()=>clearTimeout(n)}else a(!1)},[e]),!t||!e?null:r.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-md animate-slide-in",children:r.jsx("div",{className:"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg shadow-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(tr,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("h3",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Success"}),r.jsx("p",{className:"mt-1 text-sm text-green-700 dark:text-green-400",children:e})]}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:r.jsx("button",{onClick:()=>a(!1),className:"inline-flex text-green-400 hover:text-green-500 dark:text-green-300 dark:hover:text-green-200 transition-colors",children:r.jsx(xt,{className:"h-5 w-5"})})})]})})})},ive=({summary:e,loading:t,t:a,isRTL:n})=>{const s=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(o),i=o=>{if(!o)return"-";const l=o.split(":");if(l.length>=3){const d=parseInt(l[0]),c=parseInt(l[1]);return`${d}h ${c}m`}return o};return t?r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),r.jsx("div",{className:"space-y-3",children:[1,2,3].map(o=>r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"},o))})]}):e?r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:a("moneyCase.periodSummary")}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a("moneyCase.totalRevenue")}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s(e.totalSales)})]}),r.jsx(Sm,{className:"h-8 w-8 text-blue-500"})]})}),r.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a("moneyCase.totalOrders")}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.totalOrders})]}),r.jsx(Kn,{className:"h-8 w-8 text-green-500"})]})}),r.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a("moneyCase.avgOrderValue")}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s(e.averageOrderValue)})]}),r.jsx(qr,{className:"h-8 w-8 text-yellow-500"})]})}),r.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a("moneyCase.totalDiscrepancy")}),r.jsx("p",{className:`text-xl font-bold ${e.totalDifference>0?"text-green-600":e.totalDifference<0?"text-red-600":"text-gray-900 dark:text-white"}`,children:s(e.totalDifference)})]}),r.jsx(ya,{className:"h-8 w-8 text-red-500"})]})})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a("moneyCase.totalShifts")}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.totalCases})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a("moneyCase.avgShiftDuration")}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:i(e.averageShiftDuration)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a("moneyCase.totalTransactions")}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.totalTransactions})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a("moneyCase.shiftsWithIssues")}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.shiftsWithDiscrepancy})]})]})}),e.fromDate&&e.toDate&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 text-xs text-gray-500 dark:text-gray-400",children:[a("moneyCase.period"),": ",new Date(e.fromDate).toLocaleDateString()," - ",new Date(e.toDate).toLocaleDateString()]})]}):null},dh=e=>e.toISOString().split("T")[0],ove=e=>[{label:e("moneyCase.filters.today"),getValue:()=>{const t=new Date;return t.setHours(0,0,0,0),{fromDate:t.toISOString().split("T")[0],toDate:new Date().toISOString().split("T")[0]}}},{label:e("moneyCase.filters.yesterday"),getValue:()=>{const t=new Date;return t.setDate(t.getDate()-1),t.setHours(0,0,0,0),{fromDate:t.toISOString().split("T")[0],toDate:t.toISOString().split("T")[0]}}},{label:e("moneyCase.filters.last7Days"),getValue:()=>{const t=new Date,a=new Date;return a.setDate(a.getDate()-6),a.setHours(0,0,0,0),{fromDate:a.toISOString().split("T")[0],toDate:t.toISOString().split("T")[0]}}},{label:e("moneyCase.filters.last30Days"),getValue:()=>{const t=new Date,a=new Date;return a.setDate(a.getDate()-29),a.setHours(0,0,0,0),{fromDate:a.toISOString().split("T")[0],toDate:t.toISOString().split("T")[0]}}},{label:e("moneyCase.filters.thisMonth"),getValue:()=>{const t=new Date;return{fromDate:new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0],toDate:t.toISOString().split("T")[0]}}},{label:e("moneyCase.filters.lastMonth"),getValue:()=>{const t=new Date,a=new Date(t.getFullYear(),t.getMonth()-1,1),n=new Date(t.getFullYear(),t.getMonth(),0);return{fromDate:a.toISOString().split("T")[0],toDate:n.toISOString().split("T")[0]}}}],lve=()=>{const{t:e,isRTL:t}=Ze(),{state:a,actions:{fetchBranches:n,handleBranchSelect:s,fetchActiveCase:i,fetchQuickSummary:o,fetchHistory:l,handleOpenCase:d,handleCloseCase:c,fetchZReport:g,openCloseModal:h,closeModals:x,clearError:b,setState:v}}=Ybe(),j=p.useRef(null);Ss(j,()=>v(q=>({...q,isBranchDropdownOpen:!1})));const[w,S]=p.useState(!1),[M,T]=p.useState(null),[A,I]=p.useState(!1),[_,D]=p.useState(null),[E,X]=p.useState(!1),[ee,Z]=p.useState(()=>{const q=new Date;return q.setDate(q.getDate()-30),dh(q)}),[B,G]=p.useState(()=>dh(new Date)),[J,ce]=p.useState(()=>{const q=new Date;return q.setDate(q.getDate()-30),{fromDate:q.toISOString(),toDate:new Date().toISOString()}}),[te,K]=p.useState(!0);p.useEffect(()=>{n()},[n]),p.useEffect(()=>{if(a.selectedBranch){const q=a.selectedBranch.branchId;i(q),o(q),l(q)}},[a.selectedBranch,i,o,l]);const Y=async()=>{if(a.selectedBranch)try{I(!0);const q=await Go.getBranchSummary({branchId:a.selectedBranch.branchId,...J});T(q)}catch(q){console.error("Failed to fetch branch summary:",q)}finally{I(!1)}},re=()=>{v(q=>({...q,isBranchDropdownOpen:!q.isBranchDropdownOpen}))},ne=async()=>{if(a.selectedBranch)try{const q=await Go.getPreviousCloseInfo(a.selectedBranch.branchId);D(q);const H=q?.suggestedOpeningBalance||0;v(Q=>({...Q,openingBalance:H,showOpenModal:!0}))}catch(q){console.error("Failed to get previous close info",q),D(null),v(H=>({...H,openingBalance:0,showOpenModal:!0}))}},z=()=>{const q=!w;S(q),q&&Y()},V=()=>{const q={};ee&&(q.fromDate=new Date(ee).toISOString()),B&&(q.toDate=new Date(B).toISOString()),ce(q),K(ee!==""||B!==""),X(!1),w&&Y()},F=()=>{const q=new Date;q.setDate(q.getDate()-30);const H=dh(q),Q=dh(new Date);Z(H),G(Q),ce({fromDate:new Date(H).toISOString(),toDate:new Date(Q).toISOString()}),K(!0),w&&Y()},$=q=>{const H=q.getValue();Z(H.fromDate),G(H.toDate)};return!a.selectedBranch&&!a.loading?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(qr,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg mb-6",children:e("moneyCase.selectBranch")||"Select a branch to manage money case"}),r.jsxs("div",{className:"relative inline-block",ref:j,children:[r.jsxs("button",{onClick:re,className:`flex items-center justify-between min-w-[250px] px-6 py-3 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-sm ${t?"flex-row-reverse":""}`,children:[r.jsxs("span",{className:`flex items-center ${t?"flex-row-reverse":""}`,children:[r.jsx($r,{className:`h-5 w-5 text-gray-500 dark:text-gray-400 ${t?"ml-3":"mr-3"}`}),e("moneyCase.selectBranchToView")||"Select Branch"]}),r.jsx(Rr,{className:`h-4 w-4 transition-transform duration-200 ${a.isBranchDropdownOpen?"transform rotate-180":""} ${t?"mr-3":"ml-3"}`})]}),a.isBranchDropdownOpen&&r.jsx("div",{className:`absolute z-20 mt-2 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 max-h-60 overflow-auto ${t?"right-0":"left-0"}`,children:a.branches.length===0?r.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:e("moneyCase.noBranches")||"No branches available"}):a.branches.map(q=>r.jsx("button",{onClick:()=>s(q),className:`w-full px-4 py-3 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200 ${t?"text-right":"text-left"}`,children:q.branchName},q.branchId))})]})]})})})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:`flex items-center justify-between mb-8 ${t?"flex-row-reverse":""}`,children:[r.jsx(Xbe,{t:e}),r.jsxs("div",{className:"relative",ref:j,children:[r.jsxs("button",{onClick:re,className:`flex items-center justify-between min-w-[200px] px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-sm ${t?"flex-row-reverse":""}`,"aria-label":e("moneyCase.branchSelector"),children:[r.jsxs("span",{className:`flex items-center ${t?"flex-row-reverse":""}`,children:[r.jsx($r,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 ${t?"ml-2":"mr-2"}`}),a.selectedBranch?a.selectedBranch.branchName:e("moneyCase.selectBranch")]}),r.jsx(Rr,{className:`h-4 w-4 transition-transform duration-200 ${a.isBranchDropdownOpen?"transform rotate-180":""} ${t?"mr-2":"ml-2"}`})]}),a.isBranchDropdownOpen&&r.jsx("div",{className:`absolute z-20 mt-1 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 max-h-60 overflow-auto ${t?"right-0":"left-0"}`,children:a.branches.length===0?r.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:e("moneyCase.noBranches")}):a.branches.map(q=>r.jsx("button",{onClick:()=>s(q),className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${a.selectedBranch?.branchId===q.branchId?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-200"} ${t?"text-right":"text-left"}`,children:q.branchName},q.branchId))})]})]}),r.jsx(nve,{error:a.error,onClose:b}),r.jsx(sve,{message:a.success}),r.jsx(Jbe,{quickSummary:a.quickSummary,activeCase:a.activeCase,loading:a.loading,t:e,isRTL:t}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[r.jsxs("button",{onClick:z,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-sm hover:shadow-md transition-all duration-200 font-medium flex items-center justify-center gap-2",children:[r.jsx(qr,{className:"h-4 w-4"}),e(w?"moneyCase.hideSummary":"moneyCase.showSummary")]}),w&&r.jsxs("button",{onClick:()=>X(!E),className:`flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-medium rounded-lg border transition-colors ${te?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:[r.jsx(al,{className:"h-4 w-4"}),e("moneyCase.filters.title"),te&&r.jsx("span",{className:"flex items-center justify-center w-5 h-5 text-xs font-bold bg-blue-500 text-white rounded-full",children:"!"})]})]}),w&&r.jsxs("div",{className:"space-y-4",children:[E&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(al,{className:"h-5 w-5"}),e("moneyCase.filters.title")]}),r.jsx("button",{onClick:()=>X(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(xt,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:e("moneyCase.filters.quickSelect")}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2",children:ove(e).map((q,H)=>r.jsx("button",{onClick:()=>$(q),className:"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:q.label},H))})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[r.jsx(la,{className:"inline h-4 w-4 mr-1"}),e("moneyCase.filters.fromDate")]}),r.jsx("input",{title:"From Date",type:"date",value:ee,onChange:q=>Z(q.target.value),max:B||void 0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[r.jsx(la,{className:"inline h-4 w-4 mr-1"}),e("moneyCase.filters.toDate")]}),r.jsx("input",{title:"To Date",type:"date",value:B,onChange:q=>G(q.target.value),min:ee||void 0,max:dh(new Date),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("button",{onClick:V,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[r.jsx(_r,{className:"h-4 w-4"}),e("moneyCase.filters.apply")]}),r.jsxs("button",{onClick:F,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:[r.jsx(xt,{className:"h-4 w-4"}),e("moneyCase.filters.clear")]})]})]}),te&&r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:[e("moneyCase.filters.active"),":"]}),ee&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-sm rounded-full",children:[r.jsx(la,{className:"h-3 w-3"}),e("moneyCase.filters.from"),": ",new Date(ee).toLocaleDateString()]}),B&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-sm rounded-full",children:[r.jsx(la,{className:"h-3 w-3"}),e("moneyCase.filters.to"),": ",new Date(B).toLocaleDateString()]}),r.jsxs("button",{onClick:F,className:"inline-flex items-center gap-1 px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 text-sm rounded-full hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",children:[r.jsx(xt,{className:"h-3 w-3"}),e("moneyCase.filters.clearAll")]})]}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e("moneyCase.showingDataFor"),r.jsxs("span",{className:"font-semibold text-gray-700 dark:text-gray-200",children:[" ",a.selectedBranch?.branchName," "]}),e("moneyCase.from")," ",r.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-200",children:J.fromDate?new Date(J.fromDate).toLocaleDateString():"-"})," ",e("moneyCase.to")," ",r.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-200",children:J.toDate?new Date(J.toDate).toLocaleDateString():"-"})]})}),r.jsx(ive,{summary:M,loading:A,t:e,isRTL:t})]})]}),r.jsx(eve,{activeCase:a.activeCase,loading:a.loading,onOpenCase:ne,onCloseCase:h,t:e,isRTL:t}),r.jsx(ave,{history:a.history,loading:a.loading,onViewZReport:g,t:e,isRTL:t}),r.jsx(rve,{previousCloseInfo:_,show:a.showOpenModal,loading:a.loading,openingBalance:a.openingBalance,onOpeningBalanceChange:q=>v(H=>({...H,openingBalance:q})),onConfirm:d,onClose:x,t:e,isRTL:t}),r.jsx(Zbe,{show:a.showCloseModal,loading:a.loading,activeCase:a.activeCase,actualCash:a.actualCash,closingNotes:a.closingNotes,onActualCashChange:q=>v(H=>({...H,actualCash:q})),onNotesChange:q=>v(H=>({...H,closingNotes:q})),onConfirm:c,onClose:x,t:e,isRTL:t}),r.jsx(tve,{show:a.showZReportModal,zReport:a.zReport,loading:a.loading,onClose:x,t:e,isRTL:t})]})})},dve=({icon:e})=>{const t={dollar:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),bank:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414-.336.75-.75.75H3.75m0 0v-.375c0-.621.504-1.125 1.125-1.125h16.5c.621 0 1.125.504 1.125 1.125v.375m0 0v9m0 0c0 .414-.336.75-.75.75H3.75m0 0v.375c0 .621-.504-1.125-1.125 1.125H2.25m16.5 0c.621 0 1.125-.504 1.125-1.125v-.375m0 0H3.75"})}),card:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 21Z"})}),cart:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})}),scale:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c-1.11.128-2.27.188-3.468.188s-2.358-.06-3.468-.188m0 0A48.45 48.45 0 0 1 12 4.5c2.291 0 4.545.16 6.75.47M4.5 19.5A48.45 48.45 0 0 1 12 19.5c2.291 0 4.545.16 6.75.47M18.75 19.03A48.416 48.416 0 0 0 12 19.5c-2.291 0-4.545-.16-6.75-.47m13.5 0c-1.11.128-2.27.188-3.468.188s-2.358-.06-3.468-.188m0 0A48.416 48.416 0 0 1 12 19.5c2.291 0 4.545.16 6.75.47"})}),clock:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),alert:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"})})};return r.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-full text-blue-600 dark:text-blue-400",children:t[e]||null})},ch=e=>e==null?"$0":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),Tc=({title:e,value:t,description:a,icon:n,className:s=""})=>r.jsxs("div",{className:`bg-white dark:bg-gray-800 shadow-lg rounded-2xl p-6 transition-all duration-300 hover:shadow-xl dark:hover:bg-gray-700/70 hover:-translate-y-1 ${s}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:e}),r.jsx(dve,{icon:n})]}),r.jsx("p",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:t}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a})]}),cve=()=>{const{t:e}=Ze();return r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-gray-500 dark:text-gray-400 p-8",children:[r.jsxs("svg",{className:"animate-spin h-10 w-10 text-blue-600 dark:text-blue-500 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("p",{className:"text-lg font-medium",children:e("moneyCase.loadingSummary")}),r.jsx("p",{className:"text-sm",children:e("moneyCase.pleaseWait")})]})},uve=({error:e})=>{const{t}=Ze();return r.jsx("div",{className:"p-8 max-w-2xl mx-auto",children:r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 text-red-700 dark:text-red-300 p-6 rounded-lg shadow-md",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 ltr:mr-4 rtl:ml-4 text-red-500",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold mb-1 text-red-800 dark:text-red-200",children:t("moneyCase.dataError")}),r.jsx("p",{children:t("moneyCase.error.fetchSummary")}),r.jsx("p",{className:"font-mono text-sm mt-2 p-2 bg-red-100 dark:bg-red-900/30 rounded",children:e})]})]})})})},mve=()=>{const{t:e}=Ze();return r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-gray-500 dark:text-gray-400 p-8",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-12 h-12 mb-4 text-gray-400 dark:text-gray-500",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})}),r.jsx("h2",{className:"text-xl font-semibold mb-1",children:e("moneyCase.noData")}),r.jsx("p",{children:e("moneyCase.noDataDesc")})]})},gve=e=>[{label:e("moneyCase.filters.today"),getValue:()=>{const t=new Date;return t.setHours(0,0,0,0),{fromDate:t.toISOString().split("T")[0],toDate:new Date().toISOString().split("T")[0]}}},{label:e("moneyCase.filters.yesterday"),getValue:()=>{const t=new Date;return t.setDate(t.getDate()-1),t.setHours(0,0,0,0),{fromDate:t.toISOString().split("T")[0],toDate:t.toISOString().split("T")[0]}}},{label:e("moneyCase.filters.last7Days"),getValue:()=>{const t=new Date,a=new Date;return a.setDate(a.getDate()-6),a.setHours(0,0,0,0),{fromDate:a.toISOString().split("T")[0],toDate:t.toISOString().split("T")[0]}}},{label:e("moneyCase.filters.last30Days"),getValue:()=>{const t=new Date,a=new Date;return a.setDate(a.getDate()-29),a.setHours(0,0,0,0),{fromDate:a.toISOString().split("T")[0],toDate:t.toISOString().split("T")[0]}}},{label:e("moneyCase.filters.thisMonth"),getValue:()=>{const t=new Date;return{fromDate:new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0],toDate:t.toISOString().split("T")[0]}}},{label:e("moneyCase.filters.lastMonth"),getValue:()=>{const t=new Date,a=new Date(t.getFullYear(),t.getMonth()-1,1),n=new Date(t.getFullYear(),t.getMonth(),0);return{fromDate:a.toISOString().split("T")[0],toDate:n.toISOString().split("T")[0]}}}];function hve(){const{t:e,isRTL:t}=Ze(),[a,n]=p.useState(null),[s,i]=p.useState(!0),[o,l]=p.useState(null),[d,c]=p.useState([]),[g,h]=p.useState(null),[x,b]=p.useState(!1),[v,j]=p.useState(!0),[w,S]=p.useState(null),M=p.useRef(null),[T,A]=p.useState(!1),[I,_]=p.useState(""),[D,E]=p.useState(""),[X,ee]=p.useState({}),[Z,B]=p.useState(!1);p.useEffect(()=>{(async()=>{try{j(!0),S(null);const F=await oa.getBranches();c(F),F.length>0&&h(F[0])}catch(F){S(F.message||e("moneyCase.error.fetchBranches"))}finally{j(!1)}})()},[e]),p.useEffect(()=>{(async()=>{try{i(!0),l(null);const F=await Go.getRestaurantSummary(X);n(F)}catch(F){console.error("Failed to fetch restaurant summary:",F),l(F.message||e("moneyCase.error.unknown"))}finally{i(!1)}})()},[X,e]);const G=p.useMemo(()=>{if(!a)return null;if(!g)return a;const V=a.moneyCases||[];if(!Array.isArray(V)||V.length===0)return a;const F=V.filter(se=>se.branchId===g.branchId),$=F.reduce((se,ie)=>se+(ie.totalSales||ie.totalAmount||0),0),q=F.reduce((se,ie)=>se+(ie.totalCash||ie.cashAmount||0),0),H=F.reduce((se,ie)=>se+(ie.totalCard||ie.creditCardAmount||0),0),Q=F.reduce((se,ie)=>se+(ie.totalOrders||ie.orderCount||0),0),de=F.reduce((se,ie)=>se+(ie.totalDifference||ie.difference||0),0),me=F.length,je=Q>0?$/Q:0,fe=F.filter(se=>(se.difference||se.totalDifference)!==0).length;return{...a,totalSales:$,totalCash:q,totalCard:H,totalOrders:Q,totalDifference:de,totalCases:me,averageOrderValue:je,shiftsWithDiscrepancy:fe,moneyCases:F}},[a,g]);p.useEffect(()=>{const V=F=>{M.current&&!M.current.contains(F.target)&&b(!1)};return document.addEventListener("mousedown",V),()=>{document.removeEventListener("mousedown",V)}},[]);const J=()=>{v||b(V=>!V)},ce=V=>{h(V),b(!1)},te=()=>{const V={};I&&(V.fromDate=new Date(I).toISOString()),D&&(V.toDate=new Date(D).toISOString()),ee(V),B(I!==""||D!==""),A(!1)},K=()=>{_(""),E(""),ee({}),B(!1)},Y=V=>{const F=V.getValue();_(F.fromDate),E(F.toDate)};if(s&&!a)return r.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen p-8",children:r.jsx(cve,{})});if(o)return r.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen p-8",children:r.jsx(uve,{error:o})});if(!a&&!s)return r.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen p-8",children:r.jsx(mve,{})});const re=G||a,ne=re?.totalDifference||0,z=ne<0?"bg-red-50 dark:bg-red-900/30 border-l-4 border-red-500":ne>0?"bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-500":"border-l-4 border-green-500";return r.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen p-4 sm:p-8 relative",children:r.jsxs("div",{className:"container mx-auto max-w-7xl",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[r.jsxs("h1",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 dark:text-white",children:[" ",e("moneyCase.financialOverview")]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[r.jsxs("div",{className:"relative w-full sm:w-auto",ref:M,children:[r.jsxs("button",{onClick:J,disabled:v,className:`flex items-center justify-between w-full min-w-[250px] px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 dark:focus:ring-offset-gray-900 focus:ring-blue-500 shadow-sm disabled:opacity-60 disabled:cursor-not-allowed ${t?"flex-row-reverse":""}`,"aria-label":e("moneyCase.branchSelector"),children:[r.jsxs("span",{className:`flex items-center ${t?"flex-row-reverse":""}`,children:[r.jsx($r,{className:`h-4 w-4 text-gray-500 dark:text-gray-400 ${t?"ml-2":"mr-2"}`}),v?e("moneyCase.loadingBranches"):g?g.branchName:e("moneyCase.selectBranch")]}),r.jsx(Rr,{className:`h-4 w-4 transition-transform duration-200 ${x?"transform rotate-180":""} ${t?"mr-2":"ml-2"}`})]}),x&&r.jsx("div",{className:`absolute z-20 mt-1 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 py-1 max-h-60 overflow-auto ${t?"right-0":"left-0"}`,children:w?r.jsx("div",{className:"px-4 py-3 text-center text-sm text-red-500 dark:text-red-400",children:w}):d.length===0?r.jsx("div",{className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:e("moneyCase.noBranches")}):d.map(V=>r.jsx("button",{onClick:()=>ce(V),className:`w-full px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${g?.branchId===V.branchId?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 font-medium":"text-gray-700 dark:text-gray-200"} ${t?"text-right":"text-left"}`,children:V.branchName},V.branchId))})]}),r.jsxs("button",{onClick:()=>A(!T),className:`flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border transition-colors ${Z?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:[r.jsx(al,{className:"h-4 w-4"}),e("moneyCase.filters.title"),Z&&r.jsx("span",{className:"flex items-center justify-center w-5 h-5 text-xs font-bold bg-blue-500 text-white rounded-full",children:"!"})]})]})]}),T&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[r.jsx(al,{className:"h-5 w-5"}),e("moneyCase.filters.title")]}),r.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(xt,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:e("moneyCase.filters.quickSelect")}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2",children:gve(e).map((V,F)=>r.jsx("button",{onClick:()=>Y(V),className:"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:V.label},F))})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[r.jsx(la,{className:"inline h-4 w-4 mr-1"}),e("moneyCase.filters.fromDate")]}),r.jsx("input",{title:"From Date",type:"date",value:I,onChange:V=>_(V.target.value),max:D||void 0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[r.jsx(la,{className:"inline h-4 w-4 mr-1"}),e("moneyCase.filters.toDate")]}),r.jsx("input",{title:"To Date",type:"date",value:D,onChange:V=>E(V.target.value),min:I||void 0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("button",{onClick:te,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[r.jsx(_r,{className:"h-4 w-4"}),e("moneyCase.filters.apply")]}),r.jsxs("button",{onClick:K,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:[r.jsx(xt,{className:"h-4 w-4"}),e("moneyCase.filters.clear")]})]})]}),Z&&r.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:[e("moneyCase.filters.active"),":"]}),I&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-sm rounded-full",children:[r.jsx(la,{className:"h-3 w-3"}),e("moneyCase.filters.from"),": ",new Date(I).toLocaleDateString()]}),D&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-sm rounded-full",children:[r.jsx(la,{className:"h-3 w-3"}),e("moneyCase.filters.to"),": ",new Date(D).toLocaleDateString()]}),r.jsxs("button",{onClick:K,className:"inline-flex items-center gap-1 px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 text-sm rounded-full hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",children:[r.jsx(xt,{className:"h-3 w-3"}),e("moneyCase.filters.clearAll")]})]}),r.jsxs("p",{className:"text-lg text-gray-500 dark:text-gray-400 mb-8",children:[e("moneyCase.showingResults")," ",r.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-200",children:re?.restaurantName||e("moneyCase.yourRestaurant")})," ",e("moneyCase.from")," ",r.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-200",children:re?.fromDate?new Date(re.fromDate).toLocaleDateString():"-"})," ",e("moneyCase.to")," ",r.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-200",children:re?.toDate?new Date(re.toDate).toLocaleDateString():"-"})]}),r.jsxs("div",{className:`relative transition-opacity duration-300 ${s?"opacity-50 pointer-events-none":"opacity-100"}`,children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-10",children:[r.jsx(Tc,{title:e("moneyCase.totalRevenue"),value:ch(re?.totalSales),description:e("moneyCase.grossSalesDesc"),icon:"dollar"}),r.jsx(Tc,{title:e("moneyCase.netCash"),value:ch(re?.totalCash),description:e("moneyCase.netCashDesc"),icon:"bank"}),r.jsx(Tc,{title:e("moneyCase.serviceFee"),value:ch(re?.totalCard),description:e("moneyCase.serviceFeeDesc"),icon:"card"})]}),r.jsx("h2",{className:"text-2xl font-bold mb-5 text-gray-800 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 pb-2",children:e("moneyCase.operationalMetrics")}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(Tc,{title:e("moneyCase.totalOrders"),value:re?.totalOrders.toString()||"0",description:e("moneyCase.totalOrdersDesc"),icon:"cart"}),r.jsx(Tc,{title:e("moneyCase.avgOrderValue"),value:ch(re?.averageOrderValue),description:e("moneyCase.avgOrderValueDesc"),icon:"scale"}),r.jsx(Tc,{title:e("moneyCase.totalShifts"),value:re?.totalCases.toString()||"0",description:e("moneyCase.totalShiftsDesc"),icon:"clock"}),r.jsx(Tc,{title:e("moneyCase.cashDiscrepancy"),value:ch(re?.totalDifference),description:e("moneyCase.cashDiscrepancyDesc",{count:re?.shiftsWithDiscrepancy||0}),icon:"alert",className:z})]})]})]})})}function fve(){const{t:e,isRTL:t}=Ze(),a=Ra(),[n,s]=p.useState(null),[i,o]=p.useState(""),[l,d]=p.useState([]),[c,g]=p.useState([]),[h,x]=p.useState(null),[b,v]=p.useState(null),[j,w]=p.useState({isOpen:!1,type:null,id:null,name:""}),[S,M]=p.useState(null),[T,A]=p.useState(""),[I,_]=p.useState(!1),[D,E]=p.useState(""),[X,ee]=p.useState({categoryName:"",description:"",status:!0,isRequired:!1,defaultMinSelectionCount:0,defaultMaxSelectionCount:0,defaultMinTotalQuantity:0,isRemovalCategory:!1,defaultMaxTotalQuantity:0}),[Z,B]=p.useState({extraCategoryId:0,name:"",description:"",basePrice:0,isRemoval:!1,imageUrl:"",status:!0}),[G,J]=p.useState(!1),[ce,te]=p.useState(null),[K,Y]=p.useState([]);p.useEffect(()=>{re()},[]),p.useEffect(()=>{l.length>0&&K.length===0&&Y(l.map(le=>le.id))},[l]);const re=async()=>{try{J(!0);const[le,xe]=await Promise.all([Vd.getExtraCategories(),Hd.getExtras()]);d(le),g(xe),te(null)}catch(le){te(e("extrasManagement.errors.loadCategories")),console.error(le)}finally{J(!1)}},ne=()=>{a("/dashboard/RecycleBin",{state:{source:"extras"}})},z=le=>{const xe=le.target.files?.[0];if(xe){M(xe);const ze=new FileReader;ze.onloadend=()=>A(ze.result),ze.readAsDataURL(xe)}},V=async()=>{if(!S)return Z.imageUrl;try{return _(!0),await Ki.uploadFile(S,D||void 0)}catch(le){throw te(e("extrasManagement.errors.uploadImage")),le}finally{_(!1)}},F=async le=>{le.preventDefault(),te(null);try{J(!0),await Vd.createExtraCategory(X),await re(),se()}catch(xe){console.error(xe),xe.response?xe.response.status===409?te(xe.response.data.message||e("extrasManagement.errors.duplicateCategory")):xe.response.data&&xe.response.data.message?te(xe.response.data.message):te(e("extrasManagement.errors.createFailed")||"An error occurred while creating."):te(xe.message||"Network Error")}finally{J(!1)}},$=async le=>{if(le.preventDefault(),!!h)try{J(!0),await Vd.updateExtraCategory({id:h.id,...X}),await re(),se()}catch(xe){console.error(xe)}finally{J(!1)}},q=async le=>{le.preventDefault();try{J(!0);let xe=Z.imageUrl;S&&(xe=await V()),await Hd.createExtra({...Z,imageUrl:xe}),await re(),se()}catch(xe){console.error(xe)}finally{J(!1)}},H=async le=>{if(le.preventDefault(),!!b)try{J(!0);let xe=Z.imageUrl;S&&(xe=await V()),await Hd.updateExtra({id:b.id,...Z,imageUrl:xe}),await re(),se()}catch(xe){console.error(xe)}finally{J(!1)}},Q=le=>{w({isOpen:!0,type:"category",id:le.id,name:le.categoryName})},de=le=>{w({isOpen:!0,type:"extra",id:le.id,name:le.name})},me=async()=>{if(!(!j.id||!j.type))try{J(!0),j.type==="category"?await Vd.deleteExtraCategory(j.id):await Hd.deleteExtra(j.id),await re(),je()}catch(le){console.error(le),te(e("extrasManagement.errors.deleteFailed"))}finally{J(!1)}},je=()=>{w({isOpen:!1,type:null,id:null,name:""})},fe=le=>{Y(xe=>xe.includes(le)?xe.filter(ze=>ze!==le):[...xe,le])},se=()=>{s(null),ie()},ie=()=>{te(null),x(null),v(null),M(null),A(""),ee({categoryName:"",description:"",status:!0,isRequired:!1,defaultMinSelectionCount:0,defaultMaxSelectionCount:0,defaultMinTotalQuantity:0,defaultMaxTotalQuantity:0,isRemovalCategory:!1}),B({extraCategoryId:0,name:"",description:"",basePrice:0,isRemoval:!1,imageUrl:"",status:!0})},ue=p.useMemo(()=>{const le=i.toLowerCase();return l.filter(xe=>{const ze=xe.categoryName.toLowerCase().includes(le),ut=c.filter(kt=>kt.extraCategoryId===xe.id).some(kt=>kt.name.toLowerCase().includes(le));return ze||ut})},[l,c,i]);return r.jsxs("div",{className:`min-h-screen bg-gray-50 dark:bg-gray-900 p-6 ${t?"rtl":"ltr"}`,dir:t?"rtl":"ltr",children:[r.jsxs("div",{className:"max-w-7xl mx-auto mb-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white tracking-tight",children:e("extrasManagement.title")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:e("extrasManagement.description")})]}),r.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[r.jsx("button",{onClick:ne,className:"p-2.5 text-gray-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors border border-gray-200 dark:border-gray-700 dark:text-gray-400",title:e("extrasManagement.recycleBin.title"),children:r.jsx(wr,{className:"w-5 h-5"})}),r.jsxs("button",{onClick:()=>{ie(),s("add-category")},className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg shadow-sm transition-all hover:shadow-md font-medium",children:[r.jsx(Ut,{className:"w-5 h-5"}),e("extrasManagement.categories.addNew")]})]})]}),r.jsxs("div",{className:"relative mb-8",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Bn,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{type:"text",placeholder:e("extrasManagement.searchPlaceholder"),value:i,onChange:le=>o(le.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-200 dark:border-gray-700 rounded-xl leading-5 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm transition-all"})]}),r.jsx("div",{className:"space-y-6",children:G&&l.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:e("extrasManagement.loading")})]}):ue.length===0?r.jsxs("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl border border-dashed border-gray-300 dark:border-gray-700",children:[r.jsx(g2,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-xl font-medium text-gray-900 dark:text-white",children:e("extrasManagement.categories.noCategories")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:e("extrasManagement.categories.tryAdjusting")})]}):ue.map(le=>{const xe=c.filter(Le=>Le.extraCategoryId===le.id),ze=K.includes(le.id);return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden transition-all duration-200 hover:shadow-md",children:[r.jsxs("div",{className:"p-4 md:p-6 flex flex-col md:flex-row md:items-center justify-between gap-4 bg-gray-50/50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1 cursor-pointer select-none",onClick:()=>fe(le.id),children:[r.jsx("div",{className:`p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 transition-transform duration-200 ${ze?"rotate-180":""}`,children:r.jsx(Rr,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:le.categoryName}),!le.status&&r.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600",children:e("extrasManagement.categories.inactive")}),le.isRequired&&r.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400 border border-amber-200 dark:border-amber-800",children:e("extrasManagement.categories.required")})]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 flex flex-wrap gap-x-4",children:[r.jsxs("span",{children:[e("extrasManagement.categories.select")," ",le.defaultMinSelectionCount,"-",le.defaultMaxSelectionCount]}),r.jsx("span",{className:"hidden sm:inline text-gray-300",children:"|"}),r.jsxs("span",{children:[e("extrasManagement.categories.qtyLimit")," ",le.defaultMinTotalQuantity,"-",le.defaultMaxTotalQuantity]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 self-end md:self-auto",children:[r.jsxs("button",{onClick:()=>{B(Le=>({...Le,extraCategoryId:le.id})),s("add-extra")},className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 dark:text-blue-400 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 rounded-md transition-colors",children:[r.jsx(Ut,{className:"w-4 h-4"})," ",e("extrasManagement.buttons.addItem")]}),r.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-gray-600 mx-1"}),r.jsx("button",{onClick:()=>{x(le),ee({...le}),s("edit-category")},className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:r.jsx(bo,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Q(le),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:r.jsx(wr,{className:"w-4 h-4"})})]})]}),ze&&r.jsx("div",{className:"p-4 md:p-6 bg-white dark:bg-gray-800",children:xe.length===0?r.jsxs("div",{className:"text-center py-8 px-4 border-2 border-dashed border-gray-100 dark:border-gray-700 rounded-lg",children:[r.jsx("p",{className:"text-gray-400 text-sm",children:e("extrasManagement.extras.noItems")}),r.jsx("button",{onClick:()=>{B(Le=>({...Le,extraCategoryId:le.id})),s("add-extra")},className:"text-blue-500 text-sm font-medium hover:underline mt-1",children:e("extrasManagement.buttons.createFirst")})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:xe.map(Le=>r.jsxs("div",{className:"group relative flex gap-3 p-3 rounded-lg border border-gray-100 hover:border-blue-200 dark:border-gray-700 dark:hover:border-blue-900 bg-white dark:bg-gray-800 shadow-sm hover:shadow-md transition-all",children:[r.jsx("div",{className:"w-16 h-16 flex-shrink-0 rounded-md bg-gray-100 dark:bg-gray-700 overflow-hidden",children:Le.imageUrl?r.jsx("img",{src:Le.imageUrl,alt:Le.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:r.jsx(u0,{className:"w-6 h-6"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate pr-4",title:Le.name,children:Le.name}),r.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 mt-1.5 ${Le.status?"bg-green-500":"bg-red-500"}`})]}),r.jsx("p",{className:"text-xs text-gray-500 truncate mb-1.5",children:Le.description||e("extrasManagement.extras.noDescription")}),r.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[r.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white flex items-center",children:[r.jsx(qr,{className:"w-3 h-3 mr-0.5 text-gray-400"}),Le.basePrice.toFixed(2)]}),r.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{onClick:()=>{v(Le),B({...Le}),A(Le.imageUrl),E(Le.imageUrl),s("edit-extra")},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-blue-600",children:r.jsx(bo,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>de(Le),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-red-600",children:r.jsx(wr,{className:"w-3.5 h-3.5"})})]})]})]})]},Le.id))})})]},le.id)})})]}),n&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-900/75 backdrop-blur-sm",onClick:se}),r.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[n==="add-category"&&e("extrasManagement.categories.addCategory"),n==="edit-category"&&e("extrasManagement.categories.editCategory"),n==="add-extra"&&e("extrasManagement.extras.addExtra"),n==="edit-extra"&&e("extrasManagement.extras.editExtra")]}),r.jsx("button",{onClick:se,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:r.jsx(xt,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"px-6 py-6 max-h-[70vh] overflow-y-auto",children:[ce&&r.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 p-4 rounded-r-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(ya,{className:"h-5 w-5 text-red-500 dark:text-red-400"})}),r.jsx("div",{className:"ml-3",children:r.jsx("div",{className:"mt-1 text-sm text-red-700 dark:text-red-400",children:ce})})]})}),(n==="add-category"||n==="edit-category")&&r.jsxs("form",{id:"categoryForm",onSubmit:n==="add-category"?F:$,className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("extrasManagement.categories.fields.categoryName")}),r.jsx("input",{type:"text",required:!0,value:X.categoryName,onChange:le=>ee({...X,categoryName:le.target.value}),className:"w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2.5 px-3",placeholder:e("extrasManagement.categories.fields.categoryNamePlaceholder")})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg border border-gray-200 dark:border-gray-600",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:X.status,onChange:le=>ee({...X,status:le.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e("extrasManagement.categories.fields.statusLabel")})]})}),r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg border border-gray-200 dark:border-gray-600",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:X.isRequired,onChange:le=>ee({...X,isRequired:le.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e("extrasManagement.categories.fields.requiredLabel")})]})}),r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg border border-gray-200 dark:border-gray-600",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:X.isRemovalCategory,onChange:le=>ee({...X,isRemovalCategory:le.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e("extrasManagement.categories.fields.removalCategoryLabel")})]})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"text-xs font-semibold uppercase text-gray-500 tracking-wider",children:e("extrasManagement.categories.fields.selectionRules")}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:e("extrasManagement.categories.fields.minSelection")}),r.jsx("input",{type:"text",inputMode:"numeric",className:"w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white py-2 px-3",value:X.defaultMinSelectionCount,onChange:le=>{const xe=le.target.value.replace(/[^0-9]/g,"");ee({...X,defaultMinSelectionCount:xe===""?0:parseInt(xe)})}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:e("extrasManagement.categories.fields.maxSelection")}),r.jsx("input",{type:"text",inputMode:"numeric",className:"w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white py-2 px-3",value:X.defaultMaxSelectionCount,onChange:le=>{const xe=le.target.value.replace(/[^0-9]/g,"");ee({...X,defaultMaxSelectionCount:xe===""?0:parseInt(xe)})}})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:e("extrasManagement.categories.fields.minQuantity")}),r.jsx("input",{type:"text",inputMode:"numeric",className:"w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white py-2 px-3",value:X.defaultMinTotalQuantity,onChange:le=>{const xe=le.target.value.replace(/[^0-9]/g,"");ee({...X,defaultMinTotalQuantity:xe===""?0:parseInt(xe)})}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:e("extrasManagement.categories.fields.maxQuantity")}),r.jsx("input",{type:"text",inputMode:"numeric",className:"w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white py-2 px-3",value:X.defaultMaxTotalQuantity,onChange:le=>{const xe=le.target.value.replace(/[^0-9]/g,"");ee({...X,defaultMaxTotalQuantity:xe===""?0:parseInt(xe)})}})]})]})]})]}),(n==="add-extra"||n==="edit-extra")&&r.jsxs("form",{id:"extraForm",onSubmit:n==="add-extra"?q:H,className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("extrasManagement.extras.fields.parentCategory")}),r.jsxs("select",{title:"Parent Category",value:Z.extraCategoryId,onChange:le=>B({...Z,extraCategoryId:parseInt(le.target.value)}),className:"w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white py-2.5",disabled:!!h,children:[r.jsx("option",{value:0,children:e("extrasManagement.extras.fields.selectCategory")}),l.map(le=>r.jsx("option",{value:le.id,children:le.categoryName},le.id))]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("extrasManagement.extras.fields.itemName")}),r.jsx("input",{type:"text",required:!0,value:Z.name,onChange:le=>B({...Z,name:le.target.value}),className:"w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white py-2.5 px-3",placeholder:e("extrasManagement.extras.fields.itemNamePlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("extrasManagement.extras.fields.price")}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:"$"}),r.jsx("input",{title:"Price",type:"text",inputMode:"decimal",required:!0,value:Z.basePrice,onChange:le=>{const xe=le.target.value;/^\d*\.?\d*$/.test(xe)&&B({...Z,basePrice:xe===""?0:parseFloat(xe)||0})},className:"w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white py-2.5 pl-7 pr-3"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("extrasManagement.extras.fields.description")}),r.jsx("textarea",{rows:2,value:Z.description,onChange:le=>B({...Z,description:le.target.value}),className:"w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white py-2 px-3",placeholder:e("extrasManagement.extras.fields.descriptionPlaceholder")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("extrasManagement.extras.fields.imageLabel")}),r.jsx("div",{className:`relative border-2 border-dashed rounded-lg p-4 transition-colors ${T?"border-blue-500 bg-blue-50 dark:bg-blue-900/10":"border-gray-300 hover:border-gray-400 dark:border-gray-600"}`,children:T?r.jsxs("div",{className:"relative h-40 w-full",children:[r.jsx("img",{src:T,alt:"Preview",className:"h-full w-full object-contain rounded"}),r.jsx("button",{type:"button",onClick:()=>{A(""),M(null),B({...Z,imageUrl:""})},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 shadow-md hover:bg-red-600",children:r.jsx(xt,{className:"w-4 h-4"})})]}):r.jsxs("label",{className:"flex flex-col items-center justify-center h-32 cursor-pointer",children:[r.jsx(vo,{className:"w-8 h-8 text-gray-400 mb-2"}),r.jsx("span",{className:"text-sm text-gray-500",children:e("extrasManagement.extras.fields.uploadText")}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:z})]})})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:Z.status,onChange:le=>B({...Z,status:le.target.checked}),className:"w-4 h-4 text-blue-600 rounded"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e("extrasManagement.extras.fields.activeLabel")})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:Z.isRemoval,onChange:le=>B({...Z,isRemoval:le.target.checked}),className:"w-4 h-4 text-blue-600 rounded"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e("extrasManagement.extras.fields.removalLabel")})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 px-6 py-4 flex flex-row-reverse gap-3 border-t border-gray-100 dark:border-gray-700",children:[r.jsx("button",{type:"submit",form:n?.includes("category")?"categoryForm":"extraForm",disabled:G||I,className:"inline-flex justify-center rounded-lg border border-transparent shadow-sm px-5 py-2.5 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:G||I?e("extrasManagement.processing"):n?.startsWith("add")?e("extrasManagement.buttons.add"):e("extrasManagement.buttons.save")}),r.jsx("button",{type:"button",onClick:se,className:"inline-flex justify-center rounded-lg border border-gray-300 dark:border-gray-600 shadow-sm px-5 py-2.5 bg-white dark:bg-gray-700 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:w-auto sm:text-sm",children:e("extrasManagement.buttons.cancel")})]})]})]})}),j.isOpen&&r.jsx("div",{className:"fixed inset-0 z-[60] overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-900/75 backdrop-blur-sm",onClick:je}),r.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-md w-full",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:r.jsxs("div",{className:"sm:flex sm:items-start",children:[r.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/30 sm:mx-0 sm:h-10 sm:w-10",children:r.jsx(ya,{className:"h-6 w-6 text-red-600 dark:text-red-400","aria-hidden":"true"})}),r.jsxs("div",{className:`mt-3 text-center sm:mt-0 sm:text-left ${t?"sm:mr-4":"sm:ml-4"}`,children:[r.jsx("h3",{className:"text-lg leading-6 font-bold text-gray-900 dark:text-white",id:"modal-title",children:j.type==="category"?e("extrasManagement.deleteModal.titleCategory"):e("extrasManagement.deleteModal.titleItem")}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e("extrasManagement.deleteModal.confirmMessage").replace("{name}",j.name)}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e("extrasManagement.deleteModal.warningMessage")})]})]})]})}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-2",children:[r.jsx("button",{type:"button",disabled:G,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",onClick:me,children:e(G?"extrasManagement.deleteModal.processingButton":"extrasManagement.deleteModal.confirmButton")}),r.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-700 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:je,children:e("extrasManagement.deleteModal.cancelButton")})]})]})]})})]})}const pve=()=>{const e=gs(),t=Ra(),{clearAuth:a}=db(),{language:n}=Ze(),s=n==="ar",[i,o]=p.useState(!1),[l,d]=p.useState(null),[c,g]=p.useState(()=>e.pathname.split("/")[2]||"overview");p.useEffect(()=>{const Z=e.pathname.split("/")[2]||"overview";g(Z)},[e.pathname]);const[h,x]=p.useState(null),[b,v]=p.useState(!0),[j,w]=p.useState(null);p.useEffect(()=>{ws.getRestaurantManagementInfo().then(Z=>{x(Z),v(!1)}).catch(Z=>{N.error("Restaurant bilgileri alnrken hata",Z),w("Restaurant bilgileri alnamad"),v(!1)})},[]);const S=(()=>{const Z=$c(h?.restaurantName??"");if(Z)return Z;const B=$c(localStorage.getItem("restaurantName")??"");if(B)return B;const G=localStorage.getItem("token");if(G){const J=x0(G),ce=$c(J?.restaurant_name??"");if(ce)return ce}return""})(),M=l?.name??null,T=!1,A=!b&&!j&&h!==null,I=()=>{a(),t("/",{replace:!0})},_=Z=>{N.info("Search query",{query:Z})},D=Z=>{N.info("Search result clicked",{result:Z})},E=Z=>{t(`/dashboard/${Z}`),g(Z)},X=Z=>{d(Z)},ee=()=>{d(null)};return r.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[A?r.jsx(tJ,{isOpen:i,onClose:()=>o(!1),activeTab:c,setActiveTab:g,restaurantName:S,branchName:M,isBranchOnly:T,onLogout:I,onSelectBranch:X,onBackToMain:ee}):r.jsx(Lte,{isOpen:i,onClose:()=>o(!1),onLogout:I,activeTab:c,setActiveTab:g,restaurantName:"",branchName:null,isBranchOnly:!1,onSelectBranch:function(Z){throw new Error("Function not implemented.")},onBackToMain:function(){throw new Error("Function not implemented.")}}),r.jsxs("div",{className:`flex-1 flex flex-col overflow-hidden ${s?"lg:mr-64":"lg:ml-64"}`,children:[r.jsx(eJ,{toggleSidebar:()=>o(!i),activeTab:c,branchName:M,onLogout:I,onSearch:_,onSearchResultClick:D,isBranchOnly:T,onTabChange:E}),r.jsxs("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 dark:bg-gray-900 p-6 pt-24",children:[r.jsx(Ote,{showAlways:!1}),c==="overview"&&r.jsx(fbe,{}),c==="RestaurantManagement"&&r.jsx(zbe,{}),c==="ResturantOrders"&&r.jsx(Sbe,{}),c==="products"&&r.jsx(Ete,{}),c==="ingredients"&&r.jsx(Bte,{}),c==="branches"&&r.jsx(oJ,{}),c==="tables"&&r.jsx(bbe,{selectedBranch:l}),c==="moneyCaseResturant"&&r.jsx(hve,{}),c==="restaurant-management"&&r.jsx(_te,{}),c==="users"&&r.jsx(vJ,{}),c==="profile"&&r.jsx(jJ,{}),c==="subscription"&&r.jsx(NJ,{}),c==="orderTypeResturant"&&r.jsx(Cbe,{}),c==="ResturantSettings"&&r.jsx(Abe,{}),c==="RecycleBin"&&r.jsx(Ebe,{}),c==="extras"&&r.jsx(fve,{}),c==="branchProducts"&&r.jsx(Gte,{}),c==="TableManagement"&&r.jsx(rre,{}),c==="BranchManagement"&&r.jsx(Qbe,{}),c==="orderType"&&r.jsx(nre,{}),c==="Branchorders"&&r.jsx(Nbe,{}),c==="BranchSettings"&&r.jsx(Tbe,{}),c==="moneyCase"&&r.jsx(lve,{})]})]})]})};var O1=function(){return O1=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},O1.apply(this,arguments)};function ll(e,t,a,n){function s(i){return i instanceof a?i:new a(function(o){o(i)})}return new(a||(a=Promise))(function(i,o){function l(g){try{c(n.next(g))}catch(h){o(h)}}function d(g){try{c(n.throw(g))}catch(h){o(h)}}function c(g){g.done?i(g.value):s(g.value).then(l,d)}c((n=n.apply(e,t||[])).next())})}function dl(e,t){var a={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(g){return d([c,g])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(a=0)),a;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,s=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){a=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(c[0]===6&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(g){c=[6,g],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function CF(e,t,a){if(a||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var SF="4.6.2";function Dy(e,t){return new Promise(function(a){return setTimeout(a,e,t)})}function xve(){return new Promise(function(e){var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(null)})}function yve(e,t){t===void 0&&(t=1/0);var a=window.requestIdleCallback;return a?new Promise(function(n){return a.call(window,function(){return n()},{timeout:t})}):Dy(Math.min(e,t))}function PF(e){return!!e&&typeof e.then=="function"}function _E(e,t){try{var a=e();PF(a)?a.then(function(n){return t(!0,n)},function(n){return t(!1,n)}):t(!0,a)}catch(n){t(!1,n)}}function OE(e,t,a){return a===void 0&&(a=16),ll(this,void 0,void 0,function(){var n,s,i,o;return dl(this,function(l){switch(l.label){case 0:n=Array(e.length),s=Date.now(),i=0,l.label=1;case 1:return i<e.length?(n[i]=t(e[i],i),o=Date.now(),o>=s+a?(s=o,[4,xve()]):[3,3]):[3,4];case 2:l.sent(),l.label=3;case 3:return++i,[3,1];case 4:return[2,n]}})})}function n0(e){return e.then(void 0,function(){}),e}function bve(e,t){for(var a=0,n=e.length;a<n;++a)if(e[a]===t)return!0;return!1}function vve(e,t){return!bve(e,t)}function qS(e){return parseInt(e)}function mo(e){return parseFloat(e)}function El(e,t){return typeof e=="number"&&isNaN(e)?t:e}function Is(e){return e.reduce(function(t,a){return t+(a?1:0)},0)}function MF(e,t){if(t===void 0&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var a=1/t;return Math.round(e*a)/a}function kve(e){for(var t,a,n="Unexpected syntax '".concat(e,"'"),s=/^\s*([a-z-]*)(.*)$/i.exec(e),i=s[1]||void 0,o={},l=/([.:#][\w-]+|\[.+?\])/gi,d=function(x,b){o[x]=o[x]||[],o[x].push(b)};;){var c=l.exec(s[2]);if(!c)break;var g=c[0];switch(g[0]){case".":d("class",g.slice(1));break;case"#":d("id",g.slice(1));break;case"[":{var h=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(g);if(h)d(h[1],(a=(t=h[4])!==null&&t!==void 0?t:h[5])!==null&&a!==void 0?a:"");else throw new Error(n);break}default:throw new Error(n)}}return[i,o]}function wve(e){for(var t=new Uint8Array(e.length),a=0;a<e.length;a++){var n=e.charCodeAt(a);if(n>127)return new TextEncoder().encode(e);t[a]=n}return t}function Dd(e,t){var a=e[0]>>>16,n=e[0]&65535,s=e[1]>>>16,i=e[1]&65535,o=t[0]>>>16,l=t[0]&65535,d=t[1]>>>16,c=t[1]&65535,g=0,h=0,x=0,b=0;b+=i+c,x+=b>>>16,b&=65535,x+=s+d,h+=x>>>16,x&=65535,h+=n+l,g+=h>>>16,h&=65535,g+=a+o,g&=65535,e[0]=g<<16|h,e[1]=x<<16|b}function Fi(e,t){var a=e[0]>>>16,n=e[0]&65535,s=e[1]>>>16,i=e[1]&65535,o=t[0]>>>16,l=t[0]&65535,d=t[1]>>>16,c=t[1]&65535,g=0,h=0,x=0,b=0;b+=i*c,x+=b>>>16,b&=65535,x+=s*c,h+=x>>>16,x&=65535,x+=i*d,h+=x>>>16,x&=65535,h+=n*c,g+=h>>>16,h&=65535,h+=s*d,g+=h>>>16,h&=65535,h+=i*l,g+=h>>>16,h&=65535,g+=a*c+n*d+s*l+i*o,g&=65535,e[0]=g<<16|h,e[1]=x<<16|b}function tm(e,t){var a=e[0];t%=64,t===32?(e[0]=e[1],e[1]=a):t<32?(e[0]=a<<t|e[1]>>>32-t,e[1]=e[1]<<t|a>>>32-t):(t-=32,e[0]=e[1]<<t|a>>>32-t,e[1]=a<<t|e[1]>>>32-t)}function ci(e,t){t%=64,t!==0&&(t<32?(e[0]=e[1]>>>32-t,e[1]=e[1]<<t):(e[0]=e[1]<<t-32,e[1]=0))}function wa(e,t){e[0]^=t[0],e[1]^=t[1]}var jve=[4283543511,3981806797],Nve=[3301882366,444984403];function RE(e){var t=[0,e[0]>>>1];wa(e,t),Fi(e,jve),t[1]=e[0]>>>1,wa(e,t),Fi(e,Nve),t[1]=e[0]>>>1,wa(e,t)}var Fp=[2277735313,289559509],zp=[1291169091,658871167],DE=[0,5],Cve=[0,1390208809],Sve=[0,944331445];function Pve(e,t){var a=wve(e);t=t||0;var n=[0,a.length],s=n[1]%16,i=n[1]-s,o=[0,t],l=[0,t],d=[0,0],c=[0,0],g;for(g=0;g<i;g=g+16)d[0]=a[g+4]|a[g+5]<<8|a[g+6]<<16|a[g+7]<<24,d[1]=a[g]|a[g+1]<<8|a[g+2]<<16|a[g+3]<<24,c[0]=a[g+12]|a[g+13]<<8|a[g+14]<<16|a[g+15]<<24,c[1]=a[g+8]|a[g+9]<<8|a[g+10]<<16|a[g+11]<<24,Fi(d,Fp),tm(d,31),Fi(d,zp),wa(o,d),tm(o,27),Dd(o,l),Fi(o,DE),Dd(o,Cve),Fi(c,zp),tm(c,33),Fi(c,Fp),wa(l,c),tm(l,31),Dd(l,o),Fi(l,DE),Dd(l,Sve);d[0]=0,d[1]=0,c[0]=0,c[1]=0;var h=[0,0];switch(s){case 15:h[1]=a[g+14],ci(h,48),wa(c,h);case 14:h[1]=a[g+13],ci(h,40),wa(c,h);case 13:h[1]=a[g+12],ci(h,32),wa(c,h);case 12:h[1]=a[g+11],ci(h,24),wa(c,h);case 11:h[1]=a[g+10],ci(h,16),wa(c,h);case 10:h[1]=a[g+9],ci(h,8),wa(c,h);case 9:h[1]=a[g+8],wa(c,h),Fi(c,zp),tm(c,33),Fi(c,Fp),wa(l,c);case 8:h[1]=a[g+7],ci(h,56),wa(d,h);case 7:h[1]=a[g+6],ci(h,48),wa(d,h);case 6:h[1]=a[g+5],ci(h,40),wa(d,h);case 5:h[1]=a[g+4],ci(h,32),wa(d,h);case 4:h[1]=a[g+3],ci(h,24),wa(d,h);case 3:h[1]=a[g+2],ci(h,16),wa(d,h);case 2:h[1]=a[g+1],ci(h,8),wa(d,h);case 1:h[1]=a[g],wa(d,h),Fi(d,Fp),tm(d,31),Fi(d,zp),wa(o,d)}return wa(o,n),wa(l,n),Dd(o,l),Dd(l,o),RE(o),RE(l),Dd(o,l),Dd(l,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(l[0]>>>0).toString(16)).slice(-8)+("00000000"+(l[1]>>>0).toString(16)).slice(-8)}function Mve(e){var t;return O1({name:e.name,message:e.message,stack:(t=e.stack)===null||t===void 0?void 0:t.split(`
`)},e)}function Tve(e){return/^function\s.*?\{\s*\[native code]\s*}$/.test(String(e))}function Ive(e){return typeof e!="function"}function Ave(e,t){var a=n0(new Promise(function(n){var s=Date.now();_E(e.bind(null,t),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var l=Date.now()-s;if(!i[0])return n(function(){return{error:i[1],duration:l}});var d=i[1];if(Ive(d))return n(function(){return{value:d,duration:l}});n(function(){return new Promise(function(c){var g=Date.now();_E(d,function(){for(var h=[],x=0;x<arguments.length;x++)h[x]=arguments[x];var b=l+Date.now()-g;if(!h[0])return c({error:h[1],duration:b});c({value:h[1],duration:b})})})})})}));return function(){return a.then(function(s){return s()})}}function Eve(e,t,a,n){var s=Object.keys(e).filter(function(o){return vve(a,o)}),i=n0(OE(s,function(o){return Ave(e[o],t)},n));return function(){return ll(this,void 0,void 0,function(){var l,d,c,g,h;return dl(this,function(x){switch(x.label){case 0:return[4,i];case 1:return l=x.sent(),[4,OE(l,function(b){return n0(b())},n)];case 2:return d=x.sent(),[4,Promise.all(d)];case 3:for(c=x.sent(),g={},h=0;h<s.length;++h)g[s[h]]=c[h];return[2,g]}})})}}function TF(){var e=window,t=navigator;return Is(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function _ve(){var e=window,t=navigator;return Is(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!TF()}function G0(){var e=window,t=navigator;return Is(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,(t.vendor||"").indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function Eo(){var e=window,t=navigator;return Is(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,t.vendor.indexOf("Apple")===0,"RGBColor"in e,"WebKitMediaKeys"in e])>=4}function VS(){var e=window,t=e.HTMLElement,a=e.Document;return Is(["safari"in e,!("ongestureend"in e),!("TouchEvent"in e),!("orientation"in e),t&&!("autocapitalize"in t.prototype),a&&"pointerLockElement"in a.prototype])>=4}function Y0(){var e=window;return Tve(e.print)&&String(e.browser)==="[object WebPageNamespace]"}function IF(){var e,t,a=window;return Is(["buildID"in navigator,"MozAppearance"in((t=(e=document.documentElement)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{}),"onmozfullscreenchange"in a,"mozInnerScreenX"in a,"CSSMozDocumentRule"in a,"CanvasCaptureMediaStream"in a])>=4}function Ove(){var e=window;return Is([!("MediaSettingsRange"in e),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3}function Rve(){var e=window,t=e.URLPattern;return Is(["union"in Set.prototype,"Iterator"in e,t&&"hasRegExpGroups"in t.prototype,"RGB8"in WebGLRenderingContext.prototype])>=3}function Dve(){var e=window;return Is(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}function Z0(){var e=window,t=navigator,a=e.CSS,n=e.HTMLButtonElement;return Is([!("getStorageUpdates"in t),n&&"popover"in n.prototype,"CSSCounterStyleRule"in e,a.supports("font-size-adjust: ex-height 0.5"),a.supports("text-transform: full-width")])>=4}function Bve(){if(navigator.platform==="iPad")return!0;var e=screen,t=e.width/e.height;return Is(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}function Lve(){var e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}function $ve(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function HS(){var e=G0(),t=IF(),a=window,n=navigator,s="connection";return e?Is([!("SharedWorker"in a),n[s]&&"ontypechange"in n[s],!("sinkId"in new Audio)])>=2:t?Is(["onorientationchange"in a,"orientation"in a,/android/i.test(n.appVersion)])>=2:!1}function Fve(){var e=navigator,t=window,a=Audio.prototype,n=t.visualViewport;return Is(["srLatency"in a,"srChannelCount"in a,"devicePosture"in e,n&&"segments"in n,"getTextInformation"in Image.prototype])>=3}function zve(){return Vve()?-4:Uve()}function Uve(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(qve())return-1;var a=4500,n=5e3,s=new t(1,n,44100),i=s.createOscillator();i.type="triangle",i.frequency.value=1e4;var o=s.createDynamicsCompressor();o.threshold.value=-50,o.knee.value=40,o.ratio.value=12,o.attack.value=0,o.release.value=.25,i.connect(o),o.connect(s.destination),i.start(0);var l=Hve(s),d=l[0],c=l[1],g=n0(d.then(function(h){return Wve(h.getChannelData(0).subarray(a))},function(h){if(h.name==="timeout"||h.name==="suspended")return-3;throw h}));return function(){return c(),g}}function qve(){return Eo()&&!VS()&&!Dve()}function Vve(){return Eo()&&Z0()&&Y0()||G0()&&Fve()&&Rve()}function Hve(e){var t=3,a=500,n=500,s=5e3,i=function(){},o=new Promise(function(l,d){var c=!1,g=0,h=0;e.oncomplete=function(v){return l(v.renderedBuffer)};var x=function(){setTimeout(function(){return d(BE("timeout"))},Math.min(n,h+s-Date.now()))},b=function(){try{var v=e.startRendering();switch(PF(v)&&n0(v),e.state){case"running":h=Date.now(),c&&x();break;case"suspended":document.hidden||g++,c&&g>=t?d(BE("suspended")):setTimeout(b,a);break}}catch(j){d(j)}};b(),i=function(){c||(c=!0,h>0&&x())}});return[o,i]}function Wve(e){for(var t=0,a=0;a<e.length;++a)t+=Math.abs(e[a]);return t}function BE(e){var t=new Error(e);return t.name=e,t}function AF(e,t,a){var n,s,i;return a===void 0&&(a=50),ll(this,void 0,void 0,function(){var o,l;return dl(this,function(d){switch(d.label){case 0:o=document,d.label=1;case 1:return o.body?[3,3]:[4,Dy(a)];case 2:return d.sent(),[3,1];case 3:l=o.createElement("iframe"),d.label=4;case 4:return d.trys.push([4,,10,11]),[4,new Promise(function(c,g){var h=!1,x=function(){h=!0,c()},b=function(w){h=!0,g(w)};l.onload=x,l.onerror=b;var v=l.style;v.setProperty("display","block","important"),v.position="absolute",v.top="0",v.left="0",v.visibility="hidden",t&&"srcdoc"in l?l.srcdoc=t:l.src="about:blank",o.body.appendChild(l);var j=function(){var w,S;h||(((S=(w=l.contentWindow)===null||w===void 0?void 0:w.document)===null||S===void 0?void 0:S.readyState)==="complete"?x():setTimeout(j,10))};j()})];case 5:d.sent(),d.label=6;case 6:return!((s=(n=l.contentWindow)===null||n===void 0?void 0:n.document)===null||s===void 0)&&s.body?[3,8]:[4,Dy(a)];case 7:return d.sent(),[3,6];case 8:return[4,e(l,l.contentWindow)];case 9:return[2,d.sent()];case 10:return(i=l.parentNode)===null||i===void 0||i.removeChild(l),[7];case 11:return[2]}})})}function Kve(e){for(var t=kve(e),a=t[0],n=t[1],s=document.createElement(a??"div"),i=0,o=Object.keys(n);i<o.length;i++){var l=o[i],d=n[l].join(" ");l==="style"?Qve(s.style,d):s.setAttribute(l,d)}return s}function Qve(e,t){for(var a=0,n=t.split(";");a<n.length;a++){var s=n[a],i=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(s);if(i){var o=i[1],l=i[2],d=i[4];e.setProperty(o,l,d||"")}}}function Gve(){for(var e=window;;){var t=e.parent;if(!t||t===e)return!1;try{if(t.location.origin!==e.location.origin)return!0}catch(a){if(a instanceof Error&&a.name==="SecurityError")return!0;throw a}e=t}}var Yve="mmMwWLliI0O&1",Zve="48px",rm=["monospace","sans-serif","serif"],LE=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function Xve(){var e=this;return AF(function(t,a){var n=a.document;return ll(e,void 0,void 0,function(){var s,i,o,l,d,c,g,h,x,b,v,j;return dl(this,function(w){for(s=n.body,s.style.fontSize=Zve,i=n.createElement("div"),i.style.setProperty("visibility","hidden","important"),o={},l={},d=function(S){var M=n.createElement("span"),T=M.style;return T.position="absolute",T.top="0",T.left="0",T.fontFamily=S,M.textContent=Yve,i.appendChild(M),M},c=function(S,M){return d("'".concat(S,"',").concat(M))},g=function(){return rm.map(d)},h=function(){for(var S={},M=function(_){S[_]=rm.map(function(D){return c(_,D)})},T=0,A=LE;T<A.length;T++){var I=A[T];M(I)}return S},x=function(S){return rm.some(function(M,T){return S[T].offsetWidth!==o[M]||S[T].offsetHeight!==l[M]})},b=g(),v=h(),s.appendChild(i),j=0;j<rm.length;j++)o[rm[j]]=b[j].offsetWidth,l[rm[j]]=b[j].offsetHeight;return[2,LE.filter(function(S){return x(v[S])})]})})})}function Jve(){var e=navigator.plugins;if(e){for(var t=[],a=0;a<e.length;++a){var n=e[a];if(n){for(var s=[],i=0;i<n.length;++i){var o=n[i];s.push({type:o.type,suffixes:o.suffixes})}t.push({name:n.name,description:n.description,mimeTypes:s})}}return t}}function eke(){return tke(lke())}function tke(e){var t,a=!1,n,s,i=rke(),o=i[0],l=i[1];return ake(o,l)?(a=nke(l),e?n=s="skipped":(t=ske(o,l),n=t[0],s=t[1])):n=s="unsupported",{winding:a,geometry:n,text:s}}function rke(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}function ake(e,t){return!!(t&&e.toDataURL)}function nke(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}function ske(e,t){ike(e,t);var a=Gj(e),n=Gj(e);if(a!==n)return["unstable","unstable"];oke(e,t);var s=Gj(e);return[s,a]}function ike(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var a="Cwm fjordbank gly ".concat("");t.fillText(a,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(a,4,45)}function oke(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var a=0,n=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];a<n.length;a++){var s=n[a],i=s[0],o=s[1],l=s[2];t.fillStyle=i,t.beginPath(),t.arc(o,l,40,0,Math.PI*2,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,Math.PI*2,!0),t.arc(60,60,20,0,Math.PI*2,!0),t.fill("evenodd")}function Gj(e){return e.toDataURL()}function lke(){return Eo()&&Z0()&&Y0()}function dke(){var e=navigator,t=0,a;e.maxTouchPoints!==void 0?t=qS(e.maxTouchPoints):e.msMaxTouchPoints!==void 0&&(t=e.msMaxTouchPoints);try{document.createEvent("TouchEvent"),a=!0}catch{a=!1}var n="ontouchstart"in window;return{maxTouchPoints:t,touchEvent:a,touchStart:n}}function cke(){return navigator.oscpu}function uke(){var e=navigator,t=[],a=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;if(a!==void 0&&t.push([a]),Array.isArray(e.languages))G0()&&Ove()||t.push(e.languages);else if(typeof e.languages=="string"){var n=e.languages;n&&t.push(n.split(","))}return t}function mke(){return window.screen.colorDepth}function gke(){return El(mo(navigator.deviceMemory),void 0)}function hke(){if(!(Eo()&&Z0()&&Y0()))return fke()}function fke(){var e=screen,t=function(n){return El(qS(n),null)},a=[t(e.width),t(e.height)];return a.sort().reverse(),a}var pke=2500,xke=10,mx,Yj;function yke(){if(Yj===void 0){var e=function(){var t=R1();D1(t)?Yj=setTimeout(e,pke):(mx=t,Yj=void 0)};e()}}function bke(){var e=this;return yke(),function(){return ll(e,void 0,void 0,function(){var t;return dl(this,function(a){switch(a.label){case 0:return t=R1(),D1(t)?mx?[2,CF([],mx,!0)]:Lve()?[4,$ve()]:[3,2]:[3,2];case 1:a.sent(),t=R1(),a.label=2;case 2:return D1(t)||(mx=t),[2,t]}})})}}function vke(){var e=this;if(Eo()&&Z0()&&Y0())return function(){return Promise.resolve(void 0)};var t=bke();return function(){return ll(e,void 0,void 0,function(){var a,n;return dl(this,function(s){switch(s.label){case 0:return[4,t()];case 1:return a=s.sent(),n=function(i){return i===null?null:MF(i,xke)},[2,[n(a[0]),n(a[1]),n(a[2]),n(a[3])]]}})})}}function R1(){var e=screen;return[El(mo(e.availTop),null),El(mo(e.width)-mo(e.availWidth)-El(mo(e.availLeft),0),null),El(mo(e.height)-mo(e.availHeight)-El(mo(e.availTop),0),null),El(mo(e.availLeft),null)]}function D1(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function kke(){return El(qS(navigator.hardwareConcurrency),void 0)}function wke(){var e,t=(e=window.Intl)===null||e===void 0?void 0:e.DateTimeFormat;if(t){var a=new t().resolvedOptions().timeZone;if(a)return a}var n=-jke();return"UTC".concat(n>=0?"+":"").concat(n)}function jke(){var e=new Date().getFullYear();return Math.max(mo(new Date(e,0,1).getTimezoneOffset()),mo(new Date(e,6,1).getTimezoneOffset()))}function Nke(){try{return!!window.sessionStorage}catch{return!0}}function Cke(){try{return!!window.localStorage}catch{return!0}}function Ske(){if(!(TF()||_ve()))try{return!!window.indexedDB}catch{return!0}}function Pke(){return!!window.openDatabase}function Mke(){return navigator.cpuClass}function Tke(){var e=navigator.platform;return e==="MacIntel"&&Eo()&&!VS()?Bve()?"iPad":"iPhone":e}function Ike(){return navigator.vendor||""}function Ake(){for(var e=[],t=0,a=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<a.length;t++){var n=a[t],s=window[n];s&&typeof s=="object"&&e.push(n)}return e.sort()}function Eke(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=e.cookie.indexOf("cookietest=")!==-1;return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch{return!1}}function _ke(){var e=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',e("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",e("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",e("LnNwb25zb3JpdA=="),".ylamainos",e("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",e("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",e("LmhlYWRlci1ibG9ja2VkLWFk"),e("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",e("I2FkXzMwMFgyNTA="),e("I2Jhbm5lcmZsb2F0MjI="),e("I2NhbXBhaWduLWJhbm5lcg=="),e("I0FkLUNvbnRlbnQ=")],adGuardChinese:[e("LlppX2FkX2FfSA=="),e("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",e("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),e("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",e("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",e("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",e("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),e("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),e("LmFkZ29vZ2xl"),e("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[e("YW1wLWF1dG8tYWRz"),e("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",e("I2FkX2ludmlld19hcmVh")],adGuardRussian:[e("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),e("LnJlY2xhbWE="),'div[id^="smi2adblock"]',e("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[e("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),e("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",e("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),e("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),e("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",e("I3Jla2xhbWk="),e("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),e("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),e("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[e("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",e("LndpZGdldF9wb19hZHNfd2lkZ2V0"),e("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",e("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[e("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),e("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",e("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",e("I3Jla2xhbW5pLWJveA=="),e("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",e("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[e("I2FkdmVydGVudGll"),e("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",e("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",e("LnNwb25zb3JsaW5rZ3J1ZW4="),e("I3dlcmJ1bmdza3k="),e("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),e("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[e("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",e("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[e("LnJla2xhbW9zX3RhcnBhcw=="),e("LnJla2xhbW9zX251b3JvZG9z"),e("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),e("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),e("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[e("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[e("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),e("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",e("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[e("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),e("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),e("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",e("LmFkX19tYWlu"),e("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[e("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[e("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),e("I2xpdmVyZUFkV3JhcHBlcg=="),e("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),e("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[e("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",e("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),e("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),e("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[e("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),e("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),e("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",e("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),e("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),e("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),e("ZGl2I3NrYXBpZWNfYWQ=")],ro:[e("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),e("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[e("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),e("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),e("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",e("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),e("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",e("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}function Oke(e){var t=e===void 0?{}:e,a=t.debug;return ll(this,void 0,void 0,function(){var n,s,i,o,l,d;return dl(this,function(c){switch(c.label){case 0:return Rke()?(n=_ke(),s=Object.keys(n),i=(d=[]).concat.apply(d,s.map(function(g){return n[g]})),[4,Dke(i)]):[2,void 0];case 1:return o=c.sent(),a&&Bke(n,o),l=s.filter(function(g){var h=n[g],x=Is(h.map(function(b){return o[b]}));return x>h.length*.6}),l.sort(),[2,l]}})})}function Rke(){return Eo()||HS()}function Dke(e){var t;return ll(this,void 0,void 0,function(){var a,n,s,i,d,o,l,d;return dl(this,function(c){switch(c.label){case 0:for(a=document,n=a.createElement("div"),s=new Array(e.length),i={},$E(n),d=0;d<e.length;++d)o=Kve(e[d]),o.tagName==="DIALOG"&&o.show(),l=a.createElement("div"),$E(l),l.appendChild(o),n.appendChild(l),s[d]=o;c.label=1;case 1:return a.body?[3,3]:[4,Dy(50)];case 2:return c.sent(),[3,1];case 3:a.body.appendChild(n);try{for(d=0;d<e.length;++d)s[d].offsetParent||(i[e[d]]=!0)}finally{(t=n.parentNode)===null||t===void 0||t.removeChild(n)}return[2,i]}})})}function $E(e){e.style.setProperty("visibility","hidden","important"),e.style.setProperty("display","block","important")}function Bke(e,t){for(var a="DOM blockers debug:\n```",n=0,s=Object.keys(e);n<s.length;n++){var i=s[n];a+=`
`.concat(i,":");for(var o=0,l=e[i];o<l.length;o++){var d=l[o];a+=`
  `.concat(t[d]?"":""," ").concat(d)}}console.log("".concat(a,"\n```"))}function Lke(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var a=t[e];if(matchMedia("(color-gamut: ".concat(a,")")).matches)return a}}function $ke(){if(FE("inverted"))return!0;if(FE("none"))return!1}function FE(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function Fke(){if(zE("active"))return!0;if(zE("none"))return!1}function zE(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}var zke=100;function Uke(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=zke;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}}function qke(){if(am("no-preference"))return 0;if(am("high")||am("more"))return 1;if(am("low")||am("less"))return-1;if(am("forced"))return 10}function am(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function Vke(){if(UE("reduce"))return!0;if(UE("no-preference"))return!1}function UE(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function Hke(){if(qE("reduce"))return!0;if(qE("no-preference"))return!1}function qE(e){return matchMedia("(prefers-reduced-transparency: ".concat(e,")")).matches}function Wke(){if(VE("high"))return!0;if(VE("standard"))return!1}function VE(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var Zr=Math,vs=function(){return 0};function Kke(){var e=Zr.acos||vs,t=Zr.acosh||vs,a=Zr.asin||vs,n=Zr.asinh||vs,s=Zr.atanh||vs,i=Zr.atan||vs,o=Zr.sin||vs,l=Zr.sinh||vs,d=Zr.cos||vs,c=Zr.cosh||vs,g=Zr.tan||vs,h=Zr.tanh||vs,x=Zr.exp||vs,b=Zr.expm1||vs,v=Zr.log1p||vs,j=function(E){return Zr.pow(Zr.PI,E)},w=function(E){return Zr.log(E+Zr.sqrt(E*E-1))},S=function(E){return Zr.log(E+Zr.sqrt(E*E+1))},M=function(E){return Zr.log((1+E)/(1-E))/2},T=function(E){return Zr.exp(E)-1/Zr.exp(E)/2},A=function(E){return(Zr.exp(E)+1/Zr.exp(E))/2},I=function(E){return Zr.exp(E)-1},_=function(E){return(Zr.exp(2*E)-1)/(Zr.exp(2*E)+1)},D=function(E){return Zr.log(1+E)};return{acos:e(.12312423423423424),acosh:t(1e308),acoshPf:w(1e154),asin:a(.12312423423423424),asinh:n(1),asinhPf:S(1),atanh:s(.5),atanhPf:M(.5),atan:i(.5),sin:o(-1e300),sinh:l(1),sinhPf:T(1),cos:d(10.000000000123),cosh:c(1),coshPf:A(1),tan:g(-1e300),tanh:h(1),tanhPf:_(1),exp:x(1),expm1:b(1),expm1Pf:I(1),log1p:v(10),log1pPf:D(10),powPI:j(-100)}}var Qke="mmMwWLliI0fiflO&1",Zj={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function Gke(){return Yke(function(e,t){for(var a={},n={},s=0,i=Object.keys(Zj);s<i.length;s++){var o=i[s],l=Zj[o],d=l[0],c=d===void 0?{}:d,g=l[1],h=g===void 0?Qke:g,x=e.createElement("span");x.textContent=h,x.style.whiteSpace="nowrap";for(var b=0,v=Object.keys(c);b<v.length;b++){var j=v[b],w=c[j];w!==void 0&&(x.style[j]=w)}a[o]=x,t.append(e.createElement("br"),x)}for(var S=0,M=Object.keys(Zj);S<M.length;S++){var o=M[S];n[o]=a[o].getBoundingClientRect().width}return n})}function Yke(e,t){return t===void 0&&(t=4e3),AF(function(a,n){var s=n.document,i=s.body,o=i.style;o.width="".concat(t,"px"),o.webkitTextSizeAdjust=o.textSizeAdjust="none",G0()?i.style.zoom="".concat(1/n.devicePixelRatio):Eo()&&(i.style.zoom="reset");var l=s.createElement("div");return l.textContent=CF([],Array(t/20<<0),!0).map(function(){return"word"}).join(" "),i.appendChild(l),e(s,i)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function Zke(){return navigator.pdfViewerEnabled}function Xke(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}function Jke(){var e=window.ApplePaySession;if(typeof e?.canMakePayments!="function")return-1;if(ewe())return-3;try{return e.canMakePayments()?1:0}catch(t){return twe(t)}}var ewe=Gve;function twe(e){if(e instanceof Error&&e.name==="InvalidAccessError"&&/\bfrom\b.*\binsecure\b/i.test(e.message))return-2;throw e}function rwe(){var e,t=document.createElement("a"),a=(e=t.attributionSourceId)!==null&&e!==void 0?e:t.attributionsourceid;return a===void 0?void 0:String(a)}var EF=-1,_F=-2,awe=new Set([10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938]),nwe=new Set([34047,35723,36063,34852,34853,34854,34229,36392,36795,38449]),swe=["FRAGMENT_SHADER","VERTEX_SHADER"],iwe=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],OF="WEBGL_debug_renderer_info",owe="WEBGL_polygon_mode";function lwe(e){var t,a,n,s,i,o,l=e.cache,d=RF(l);if(!d)return EF;if(!BF(d))return _F;var c=DF()?null:d.getExtension(OF);return{version:((t=d.getParameter(d.VERSION))===null||t===void 0?void 0:t.toString())||"",vendor:((a=d.getParameter(d.VENDOR))===null||a===void 0?void 0:a.toString())||"",vendorUnmasked:c?(n=d.getParameter(c.UNMASKED_VENDOR_WEBGL))===null||n===void 0?void 0:n.toString():"",renderer:((s=d.getParameter(d.RENDERER))===null||s===void 0?void 0:s.toString())||"",rendererUnmasked:c?(i=d.getParameter(c.UNMASKED_RENDERER_WEBGL))===null||i===void 0?void 0:i.toString():"",shadingLanguageVersion:((o=d.getParameter(d.SHADING_LANGUAGE_VERSION))===null||o===void 0?void 0:o.toString())||""}}function dwe(e){var t=e.cache,a=RF(t);if(!a)return EF;if(!BF(a))return _F;var n=a.getSupportedExtensions(),s=a.getContextAttributes(),i=[],o=[],l=[],d=[],c=[];if(s)for(var g=0,h=Object.keys(s);g<h.length;g++){var x=h[g];o.push("".concat(x,"=").concat(s[x]))}for(var b=HE(a),v=0,j=b;v<j.length;v++){var w=j[v],S=a[w];l.push("".concat(w,"=").concat(S).concat(awe.has(S)?"=".concat(a.getParameter(S)):""))}if(n)for(var M=0,T=n;M<T.length;M++){var A=T[M];if(!(A===OF&&DF()||A===owe&&mwe())){var I=a.getExtension(A);if(!I){i.push(A);continue}for(var _=0,D=HE(I);_<D.length;_++){var w=D[_],S=I[w];d.push("".concat(w,"=").concat(S).concat(nwe.has(S)?"=".concat(a.getParameter(S)):""))}}}for(var E=0,X=swe;E<X.length;E++)for(var ee=X[E],Z=0,B=iwe;Z<B.length;Z++){var G=B[Z],J=cwe(a,ee,G);c.push("".concat(ee,".").concat(G,"=").concat(J.join(",")))}return d.sort(),l.sort(),{contextAttributes:o,parameters:l,shaderPrecisions:c,extensions:n,extensionParameters:d,unsupportedExtensions:i}}function RF(e){if(e.webgl)return e.webgl.context;var t=document.createElement("canvas"),a;t.addEventListener("webglCreateContextError",function(){return a=void 0});for(var n=0,s=["webgl","experimental-webgl"];n<s.length;n++){var i=s[n];try{a=t.getContext(i)}catch{}if(a)break}return e.webgl={context:a},a}function cwe(e,t,a){var n=e.getShaderPrecisionFormat(e[t],e[a]);return n?[n.rangeMin,n.rangeMax,n.precision]:[]}function HE(e){var t=Object.keys(e.__proto__);return t.filter(uwe)}function uwe(e){return typeof e=="string"&&!e.match(/[^A-Z0-9_x]/)}function DF(){return IF()}function mwe(){return G0()||Eo()}function BF(e){return typeof e.getParameter=="function"}function gwe(){var e=HS()||Eo();if(!e)return-2;if(!window.AudioContext)return-1;var t=new AudioContext().baseLatency;return t==null?-1:isFinite(t)?t:-3}function hwe(){if(!window.Intl)return-1;var e=window.Intl.DateTimeFormat;if(!e)return-2;var t=e().resolvedOptions().locale;return!t&&t!==""?-3:t}var fwe={fonts:Xve,domBlockers:Oke,fontPreferences:Gke,audio:zve,screenFrame:vke,canvas:eke,osCpu:cke,languages:uke,colorDepth:mke,deviceMemory:gke,screenResolution:hke,hardwareConcurrency:kke,timezone:wke,sessionStorage:Nke,localStorage:Cke,indexedDB:Ske,openDatabase:Pke,cpuClass:Mke,platform:Tke,plugins:Jve,touchSupport:dke,vendor:Ike,vendorFlavors:Ake,cookiesEnabled:Eke,colorGamut:Lke,invertedColors:$ke,forcedColors:Fke,monochrome:Uke,contrast:qke,reducedMotion:Vke,reducedTransparency:Hke,hdr:Wke,math:Kke,pdfViewerEnabled:Zke,architecture:Xke,applePay:Jke,privateClickMeasurement:rwe,audioBaseLatency:gwe,dateTimeLocale:hwe,webGlBasics:lwe,webGlExtensions:dwe};function pwe(e){return Eve(fwe,e,[])}var xwe="$ if upgrade to Pro: https://fpjs.dev/pro";function ywe(e){var t=bwe(e),a=vwe(t);return{score:t,comment:xwe.replace(/\$/g,"".concat(a))}}function bwe(e){if(HS())return .4;if(Eo())return VS()&&!(Z0()&&Y0())?.5:.3;var t="value"in e.platform?e.platform.value:"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}function vwe(e){return MF(.99+.01*e,1e-4)}function kwe(e){for(var t="",a=0,n=Object.keys(e).sort();a<n.length;a++){var s=n[a],i=e[s],o="error"in i?"error":JSON.stringify(i.value);t+="".concat(t?"|":"").concat(s.replace(/([:|\\])/g,"\\$1"),":").concat(o)}return t}function LF(e){return JSON.stringify(e,function(t,a){return a instanceof Error?Mve(a):a},2)}function $F(e){return Pve(kwe(e))}function wwe(e){var t,a=ywe(e);return{get visitorId(){return t===void 0&&(t=$F(this.components)),t},set visitorId(n){t=n},confidence:a,components:e,version:SF}}function jwe(e){return e===void 0&&(e=50),yve(e,e*2)}function Nwe(e,t){var a=Date.now();return{get:function(n){return ll(this,void 0,void 0,function(){var s,i,o;return dl(this,function(l){switch(l.label){case 0:return s=Date.now(),[4,e()];case 1:return i=l.sent(),o=wwe(i),(t||n?.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(o.version,`
userAgent: `).concat(navigator.userAgent,`
timeBetweenLoadAndGet: `).concat(s-a,`
visitorId: `).concat(o.visitorId,`
components: `).concat(LF(i),"\n```")),[2,o]}})})}}}function Cwe(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(SF,"/npm-monitoring"),!0),e.send()}catch(t){console.error(t)}}function Swe(e){var t;return e===void 0&&(e={}),ll(this,void 0,void 0,function(){var a,n,s;return dl(this,function(i){switch(i.label){case 0:return(!((t=e.monitoring)!==null&&t!==void 0)||t)&&Cwe(),a=e.delayFallback,n=e.debug,[4,jwe(a)];case 1:return i.sent(),s=pwe({cache:{},debug:n}),[2,Nwe(s,n)]}})})}var Pwe={load:Swe,hashComponents:$F,componentsToDebugString:LF};let Mwe=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,a)=>(a&=63,a<36?t+=a.toString(36):a<62?t+=(a-26).toString(36).toUpperCase():a>62?t+="-":t+="_",t),"");const FF=({menuData:e,totalItems:t,onCartToggle:a})=>{const{t:n}=Ze();return console.log("menuData",e),r.jsx("div",{className:"bg-white/70 dark:bg-slate-900/70 backdrop-blur-xl border-b border-slate-200/50 dark:border-slate-700/50 sticky top-0 z-40 shadow-lg",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 via-orange-600 to-pink-500 rounded-xl flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform duration-300",children:r.jsx(e6,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl mr-2 font-bold bg-gradient-to-r from-slate-800 via-slate-700 to-slate-600 dark:from-slate-100 dark:via-slate-200 dark:to-slate-300 bg-clip-text text-transparent",children:e.restaurantName}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1 mr-2",children:[r.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400 bg-slate-100/50 dark:bg-slate-800/50 px-2 py-1 rounded-full backdrop-blur-sm",children:[r.jsx(Qr,{className:"h-3 w-3"}),r.jsx("p",{className:"text-xs font-medium",children:e.branchName})]}),r.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full backdrop-blur-sm mr-2 ${e.isOpen?"bg-emerald-100/50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300":"bg-red-100/50 dark:bg-red-900/30 text-red-700 dark:text-red-300"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full ml-2 ${e.isOpen?"bg-emerald-500":"bg-red-500"} animate-pulse`}),r.jsx("span",{className:"text-xs font-semibold",children:e.isOpen?n("menu.open"):n("menu.closed")})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:a,className:"relative bg-gradient-to-r ml-2 from-orange-500 via-orange-600 to-pink-500 hover:from-orange-600 hover:via-orange-700 hover:to-pink-600 text-white p-3 rounded-xl transition-all duration-300 shadow-lg hover:shadow-orange-500/25 transform hover:scale-105 group",children:[r.jsx(Kn,{className:"h-5 w-5 group-hover:rotate-12 transition-transform duration-300"}),t>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-red-500 to-red-600 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center font-bold shadow-lg animate-pulse",children:t})]}),r.jsx(ub,{variant:"header"})]})]})})})},zF=({searchTerm:e,onSearchChange:t})=>{const{t:a}=Ze();return r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"relative max-w-xl mx-auto",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/20 to-pink-500/20 rounded-2xl blur-lg"}),r.jsxs("div",{className:"relative bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-2xl border border-slate-200/50 dark:border-slate-700/50 shadow-lg",children:[r.jsx(Bn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 dark:text-slate-500 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:a("menu.search.placeholder"),value:e,onChange:n=>t(n.target.value),className:"w-full pl-10 pr-4 py-3 bg-transparent border-0 rounded-2xl focus:ring-2 focus:ring-orange-500/50 text-slate-800 dark:text-slate-100 placeholder:text-slate-500 dark:placeholder:text-slate-400 text-sm font-medium outline-none"})]})]})})},Twe=`
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.textContent=Twe,document.head.querySelector("[data-scrollbar-hide]")||(e.setAttribute("data-scrollbar-hide","true"),document.head.appendChild(e))}const UF=({categories:e,selectedCategory:t,onCategorySelect:a})=>{const{t:n}=Ze();return r.jsx("div",{className:"sticky top-20 z-40 w-full mb-6",children:r.jsxs("div",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl rounded-2xl shadow-lg border border-slate-200/50 dark:border-slate-700/50 p-4",children:[r.jsxs("h3",{className:"text-base font-bold text-slate-800 dark:text-slate-100 mb-3 flex items-center",children:[r.jsx("div",{className:"w-5 h-5 bg-gradient-to-r from-orange-500 to-pink-500 rounded-lg flex items-center justify-center mr-2",children:r.jsx(al,{className:"h-3 w-3 text-white"})}),n("menu.categories")]}),r.jsx("div",{className:"w-full overflow-hidden",children:r.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:e.map(s=>r.jsx("button",{onClick:()=>a(s.categoryId),className:`flex-shrink-0 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-[1.02] ${t===s.categoryId?"bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 text-white shadow-lg shadow-orange-500/25":"bg-slate-50/50 dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 border border-slate-200/50 dark:border-slate-700"}`,children:r.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[r.jsx("span",{className:"font-medium text-sm",children:s.categoryName}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-md font-semibold ${t===s.categoryId?"bg-white/20 text-white":"bg-slate-200/50 dark:bg-slate-700 text-slate-600 dark:text-slate-400"}`,children:s.products.length})]})},s.categoryId))})})]})})},qF=()=>{const{t:e}=Ze(),[t,a]=p.useState(!1);p.useEffect(()=>{const s=()=>{a(window.scrollY>400)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 py-10 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 relative z-10",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl mb-4 shadow-lg",children:r.jsx(Ps,{className:"h-6 w-6 text-white"})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-3 bg-gradient-to-r from-white to-slate-300 bg-clip-text text-transparent",children:e("menu.whyChooseUs.title")}),r.jsx("p",{className:"text-slate-300 text-sm max-w-2xl mx-auto leading-relaxed",children:e("menu.whyChooseUs.subtitle")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center group",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:r.jsx(qH,{className:"h-7 w-7 text-white"})}),r.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:e("menu.whyChooseUs.freshIngredients.title")}),r.jsx("p",{className:"text-slate-400 leading-relaxed text-sm",children:e("menu.whyChooseUs.freshIngredients.description")})]}),r.jsxs("div",{className:"text-center group",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:r.jsx(Qy,{className:"h-7 w-7 text-white"})}),r.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:e("menu.whyChooseUs.fastDelivery.title")}),r.jsx("p",{className:"text-slate-400 leading-relaxed text-sm",children:e("menu.whyChooseUs.fastDelivery.description")})]}),r.jsxs("div",{className:"text-center group",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:r.jsx(xa,{className:"h-7 w-7 text-white"})}),r.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:e("menu.whyChooseUs.qualityAssured.title")}),r.jsx("p",{className:"text-slate-400 leading-relaxed text-sm",children:e("menu.whyChooseUs.qualityAssured.description")})]}),r.jsxs("div",{className:"text-center group",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:r.jsx($r,{className:"h-7 w-7 text-white"})}),r.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:e("menu.whyChooseUs.expertChefs.title")}),r.jsx("p",{className:"text-slate-400 leading-relaxed text-sm",children:e("menu.whyChooseUs.expertChefs.description")})]})]})]})]}),r.jsxs("footer",{className:"bg-gradient-to-br from-slate-950 to-slate-900 border-t border-slate-800 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-gradient-to-br from-orange-500 to-purple-600 rounded-full blur-3xl transform -translate-x-1/2 -translate-y-1/2"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-gradient-to-br from-blue-500 to-emerald-600 rounded-full blur-3xl transform translate-x-1/2 translate-y-1/2"})]}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12 relative z-10",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"lg:col-span-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(e6,{className:"h-5 w-5 text-white"})}),r.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-white to-slate-300 bg-clip-text text-transparent",children:e("menu.footer.brand")})]}),r.jsx("p",{className:"text-slate-400 leading-relaxed mb-4 text-sm",children:e("menu.footer.description")}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("a",{href:"#",className:"w-8 h-8 bg-slate-800/50 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-all duration-300 backdrop-blur-sm border border-slate-700 hover:border-blue-500 group",children:r.jsx(UO,{className:"h-4 w-4 text-slate-400 group-hover:text-white transition-colors"})}),r.jsx("a",{href:"#",className:"w-8 h-8 bg-slate-800/50 hover:bg-pink-600 rounded-lg flex items-center justify-center transition-all duration-300 backdrop-blur-sm border border-slate-700 hover:border-pink-500 group",children:r.jsx(HO,{className:"h-4 w-4 text-slate-400 group-hover:text-white transition-colors"})}),r.jsx("a",{href:"#",className:"w-8 h-8 bg-slate-800/50 hover:bg-blue-400 rounded-lg flex items-center justify-center transition-all duration-300 backdrop-blur-sm border border-slate-700 hover:border-blue-400 group",children:r.jsx(JO,{className:"h-4 w-4 text-slate-400 group-hover:text-white transition-colors"})}),r.jsx("a",{href:"#",className:"w-8 h-8 bg-slate-800/50 hover:bg-orange-600 rounded-lg flex items-center justify-center transition-all duration-300 backdrop-blur-sm border border-slate-700 hover:border-orange-500 group",children:r.jsx(Wi,{className:"h-4 w-4 text-slate-400 group-hover:text-white transition-colors"})})]})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[r.jsx(nl,{className:"h-4 w-4 mr-2 text-orange-500"}),e("menu.footer.quickLinks")]}),r.jsx("ul",{className:"space-y-2",children:[e("menu.footer.links.ourMenu"),e("menu.footer.links.aboutUs"),e("menu.footer.links.locations"),e("menu.footer.links.reservations"),e("menu.footer.links.specialOffers"),e("menu.footer.links.giftCards")].map(s=>r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors duration-200 text-sm hover:translate-x-1 inline-block transform transition-transform",children:s})},s))})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[r.jsx(ko,{className:"h-4 w-4 mr-2 text-orange-500"}),e("menu.footer.services")]}),r.jsx("ul",{className:"space-y-2",children:[e("menu.footer.services.onlineOrdering"),e("menu.footer.services.tableBooking"),e("menu.footer.services.privateEvents"),e("menu.footer.services.catering"),e("menu.footer.services.takeaway"),e("menu.footer.services.corporateMeals")].map(s=>r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors duration-200 text-sm hover:translate-x-1 inline-block transform transition-transform",children:s})},s))})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[r.jsx(Dn,{className:"h-4 w-4 mr-2 text-orange-500"}),e("menu.footer.getInTouch")]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-7 h-7 bg-slate-800/50 rounded-lg flex items-center justify-center border border-slate-700",children:r.jsx(Qr,{className:"h-3 w-3 text-orange-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold text-sm",children:e("menu.footer.visitUs")}),r.jsxs("p",{className:"text-slate-400 text-xs",children:["123 Culinary Street",r.jsx("br",{}),"Food District, City"]})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-7 h-7 bg-slate-800/50 rounded-lg flex items-center justify-center border border-slate-700",children:r.jsx(Dn,{className:"h-3 w-3 text-orange-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold text-sm",children:e("menu.footer.callUs")}),r.jsx("p",{className:"text-slate-400 text-xs",children:"+1 (555) 123-4567"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-7 h-7 bg-slate-800/50 rounded-lg flex items-center justify-center border border-slate-700",children:r.jsx(Zs,{className:"h-3 w-3 text-orange-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold text-sm",children:e("menu.footer.emailUs")}),r.jsx("p",{className:"text-slate-400 text-xs",children:"hello@menuhub.com"})]})]})]})]})]}),r.jsx("div",{className:"mt-8 pt-6 border-t border-slate-800",children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between space-y-3 lg:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4 text-slate-400 text-sm",children:[r.jsxs("p",{children:[" 2024 MenuHub. ",e("menu.footer.copyright")]}),r.jsx("span",{className:"hidden lg:inline",children:"|"}),r.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("menu.footer.privacyPolicy")}),r.jsx("span",{children:"|"}),r.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("menu.footer.termsOfService")})]}),r.jsxs("div",{className:"flex items-center space-x-3 text-slate-400 text-sm",children:[r.jsx("span",{children:e("menu.footer.poweredBy")}),r.jsxs("div",{className:"flex items-center space-x-1 text-orange-500 font-semibold",children:[r.jsx($H,{className:"h-3 w-3"}),r.jsx("span",{children:"Idigitek"})]})]})]})})]}),t&&r.jsx("button",{onClick:n,className:"fixed bottom-6 right-6 z-50 w-10 h-10 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-full shadow-lg hover:shadow-orange-500/25 transition-all duration-300 flex items-center justify-center group transform hover:scale-110",children:r.jsx(m2,{className:"h-4 w-4 group-hover:-translate-y-1 transition-transform"})})]})]})},Iwe=()=>{const{t:e}=Ze();return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800 py-8 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 opacity-20",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-gradient-to-br from-orange-400 to-pink-500 rounded-full blur-3xl animate-pulse transform -translate-x-1/2 -translate-y-1/2"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full blur-3xl animate-pulse transform translate-x-1/2 translate-y-1/2"})]}),r.jsx("div",{className:"max-w-3xl mx-auto px-4 relative z-10",children:r.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-2xl shadow-xl border border-slate-200/50 dark:border-slate-700/50 p-8 text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mb-6 shadow-xl animate-bounce",children:r.jsx(wm,{className:"h-8 w-8 text-white"})}),r.jsxs("div",{className:"mb-6",children:[r.jsx(mt,{className:"h-8 w-8 animate-spin text-orange-500 mx-auto mb-4"}),r.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full animate-pulse"}),r.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full animate-pulse animation-delay-100"}),r.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full animate-pulse animation-delay-200"})]})]}),r.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 dark:from-slate-100 dark:to-slate-300 bg-clip-text text-transparent mb-3",children:e("menu.loading")}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:e("menu.loadingSubtitle")})]})})]})},Awe=({error:e})=>{const{t}=Ze();return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50 dark:from-red-950/20 dark:via-slate-900 dark:to-red-950/20 py-8",children:r.jsx("div",{className:"max-w-3xl mx-auto px-4",children:r.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-xl rounded-2xl shadow-xl border border-red-200 dark:border-red-800/50 p-8 text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-red-100 to-red-200 dark:from-red-900/30 dark:to-red-800/30 rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:r.jsx(Nt,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),r.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-3",children:t("menu.error.title")}),r.jsx("p",{className:"text-red-600 dark:text-red-400 mb-6 text-sm",children:e}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:t("menu.error.tryAgain")})]})})})},WE=({product:e,cartQuantity:t,isFavorite:a,onAddToCart:n,onRemoveFromCart:s,onToggleFavorite:i,onCustomize:o})=>{const{t:l}=Ze(),[d,c]=p.useState(!1),g=e.availableAddons&&e.availableAddons.length>0,h=()=>{g&&o?o(e):n(e)};return r.jsxs("div",{className:"group relative bg-white dark:bg-slate-800 rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-500 flex flex-col h-full overflow-hidden border border-slate-200/50 dark:border-slate-700/50",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{transform:d?"translateY(-8px) scale(1.02)":"translateY(0) scale(1)"},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/0 via-pink-500/0 to-purple-500/0 group-hover:from-orange-500/10 group-hover:via-pink-500/10 group-hover:to-purple-500/10 transition-all duration-700 rounded-3xl blur-xl"}),r.jsxs("div",{className:"relative h-56 bg-gradient-to-br from-slate-100 via-slate-50 to-white dark:from-slate-700 dark:via-slate-800 dark:to-slate-900 flex-shrink-0 overflow-hidden rounded-t-3xl",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, currentColor 1px, transparent 0)",backgroundSize:"20px 20px"}})}),e.productImageUrl?r.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[r.jsx("img",{src:e.productImageUrl||"/placeholder.svg",alt:e.productName,className:"w-full h-full object-cover transition-all duration-700 group-hover:scale-110 group-hover:rotate-2"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-400 to-pink-600 rounded-full blur-2xl opacity-30"}),r.jsx(FO,{className:"relative h-16 w-16 text-slate-300 dark:text-slate-600"})]})}),r.jsxs("div",{className:"absolute top-3 left-3 right-3 flex items-start justify-between z-10",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[e.isRecommended&&r.jsxs("div",{className:"relative group/badge",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-full blur opacity-50"}),r.jsxs("span",{className:"relative flex items-center gap-1.5 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg backdrop-blur-sm transform transition-transform duration-300 group-hover/badge:scale-110",children:[r.jsx(BO,{className:"h-3 w-3"}),r.jsx("span",{children:l("productCard.chefsPick")})]})]}),g&&r.jsxs("div",{className:"relative group/badge",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full blur opacity-50"}),r.jsxs("span",{className:"relative flex items-center gap-1.5 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg backdrop-blur-sm transform transition-transform duration-300 group-hover/badge:scale-110",children:[r.jsx(qa,{className:"h-3 w-3"}),r.jsx("span",{children:l("productCard.customizable")})]})]})]}),r.jsxs("button",{onClick:()=>i(e.branchProductId),className:"relative group/fav",children:[r.jsx("div",{className:"absolute inset-0 bg-white dark:bg-slate-800 rounded-full blur opacity-50 group-hover/fav:opacity-100 transition-opacity"}),r.jsx("div",{className:"relative w-10 h-10 bg-white/95 dark:bg-slate-800/95 backdrop-blur-xl rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 border border-slate-200/50 dark:border-slate-700/50",children:r.jsx(FH,{className:`h-4 w-4 transition-all duration-300 ${a?"text-red-500 fill-red-500 scale-110":"text-slate-600 dark:text-slate-400 group-hover/fav:text-red-500 group-hover/fav:scale-110"}`})})]})]}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:r.jsxs("div",{className:"relative inline-block",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500 to-pink-600 rounded-2xl blur-lg opacity-50"}),r.jsx("div",{className:"relative bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl px-4 py-2 rounded-2xl shadow-xl border border-orange-200/50 dark:border-orange-800/50",children:r.jsxs("div",{className:"flex items-baseline gap-1",children:[r.jsxs("span",{className:"text-2xl font-black bg-gradient-to-r from-orange-600 via-orange-500 to-pink-500 bg-clip-text text-transparent",children:["$",e.price.toFixed(2)]}),g&&r.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:l("productCard.addons")})]})})]})})]}),r.jsxs("div",{className:"relative p-5 flex flex-col flex-1 bg-gradient-to-b from-transparent to-slate-50/30 dark:to-slate-900/30",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 line-clamp-2 group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-orange-600 group-hover:to-pink-600 group-hover:bg-clip-text transition-all duration-300",children:e.productName}),e.productDescription&&r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2 leading-relaxed",children:e.productDescription})]}),g&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ps,{className:"h-3.5 w-3.5 text-purple-500"}),r.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:l("productModal.addons")})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.availableAddons.slice(0,3).map(x=>r.jsxs("div",{className:"relative group/addon",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-lg blur"}),r.jsxs("span",{className:"relative text-xs bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/30 dark:to-purple-900/30 text-blue-800 dark:text-blue-200 px-2.5 py-1 rounded-lg font-semibold border border-blue-200/50 dark:border-blue-800/50 transition-transform duration-200 hover:scale-105",children:["+$",x.price.toFixed(2)," ",x.addonName]})]},x.branchProductAddonId)),e.availableAddons.length>3&&r.jsxs("span",{className:"text-xs text-slate-600 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 px-2.5 py-1 rounded-lg font-medium",children:["+",e.availableAddons.length-3," ",l("productCard.more")]})]})]}),(e.allergens?.length>0||e.ingredients?.length>0)&&r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.allergens&&e.allergens.length>0&&r.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-xl p-3 border border-amber-200/50 dark:border-amber-800/50",children:[r.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[r.jsx(bn,{className:"h-3 w-3 text-amber-600"}),r.jsx("span",{className:"text-xs font-bold text-amber-900 dark:text-amber-100",children:l("productCard.allergens")})]}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.allergens.slice(0,2).map(x=>r.jsx("span",{className:"text-lg",title:x.name,children:x.icon},x.id)),e.allergens.length>2&&r.jsxs("span",{className:"text-xs text-amber-700 dark:text-amber-300 font-semibold",children:["+",e.allergens.length-2]})]})]}),e.ingredients&&e.ingredients.length>0&&r.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 rounded-xl p-3 border border-emerald-200/50 dark:border-emerald-800/50",children:[r.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[r.jsx(wm,{className:"h-3 w-3 text-emerald-600"}),r.jsx("span",{className:"text-xs font-bold text-emerald-900 dark:text-emerald-100",children:l("productCard.ingredients")})]}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.ingredients.slice(0,2).map(x=>r.jsx("span",{className:"text-xs bg-white/60 dark:bg-emerald-800/30 text-emerald-800 dark:text-emerald-200 px-2 py-0.5 rounded-full font-medium",title:x.ingredientName,children:x.ingredientName.slice(0,8)},x.ingredientId)),e.ingredients.length>2&&r.jsxs("span",{className:"text-xs text-emerald-700 dark:text-emerald-300 font-semibold",children:["+",e.ingredients.length-2]})]})]})]})}),r.jsx("div",{className:"mt-auto pt-4",children:t>0?r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500 to-pink-600 rounded-2xl blur opacity-30"}),r.jsxs("div",{className:"relative flex items-center justify-between bg-gradient-to-r from-slate-50 to-white dark:from-slate-800 dark:to-slate-900 rounded-2xl p-2 border-2 border-orange-200 dark:border-orange-800 shadow-lg",children:[r.jsx("button",{onClick:()=>s(e.branchProductId),className:"w-10 h-10 bg-gradient-to-br from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl flex items-center justify-center transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-110 active:scale-95",children:r.jsx(ds,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-2xl font-black text-slate-900 dark:text-white",children:t}),r.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:l("productCard.inCart")})]}),r.jsx("button",{onClick:h,className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-pink-600 hover:from-orange-600 hover:to-pink-700 text-white rounded-xl flex items-center justify-center transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-110 active:scale-95",children:r.jsx(Ut,{className:"h-4 w-4"})})]})]}):r.jsxs("button",{onClick:h,className:"relative w-full group/btn overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500 via-orange-600 to-pink-600 rounded-2xl blur opacity-50 group-hover/btn:opacity-100 transition-opacity duration-300"}),r.jsxs("div",{className:"relative bg-gradient-to-r from-orange-500 via-orange-600 to-pink-600 hover:from-orange-600 hover:via-orange-700 hover:to-pink-700 text-white px-6 py-3.5 rounded-2xl transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl font-bold text-sm border-2 border-orange-400/50 transform hover:scale-105 active:scale-95",children:[g?r.jsxs(r.Fragment,{children:[r.jsx(qa,{className:"h-4 w-4"}),r.jsx("span",{children:l("productCard.customizeOrder")})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ut,{className:"h-4 w-4"}),r.jsx("span",{children:l("productCard.addToCart")})]}),r.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover/btn:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/20 to-transparent"})]})]})})]}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none"})]})},VF=({categories:e,selectedCategory:t,searchTerm:a,favorites:n,onAddToCart:s,onRemoveFromCart:i,onToggleFavorite:o,onCategorySelect:l,onCustomize:d,getCartItemQuantity:c})=>{const{t:g}=Ze(),[h,x]=p.useState(new Map),[b,v]=p.useState(!1),j=async A=>{v(!0);const I=new Map;try{const _=A.map(async E=>{const X=await c(E.branchProductId);return{productId:E.branchProductId,quantity:X}});(await Promise.all(_)).forEach(({productId:E,quantity:X})=>{I.set(E,X)}),x(I)}catch(_){console.error("Error loading product quantities:",_)}finally{v(!1)}},w=()=>{let A=[];return a?A=e.flatMap(I=>I.products.filter(_=>_.productName.toLowerCase().includes(a.toLowerCase()))):t?A=e.find(_=>_.categoryId===t)?.products||[]:A=e.flatMap(I=>I.products),A};p.useEffect(()=>{const A=w();A.length>0&&j(A)},[t,a,e]);const S=async(A,I)=>{await s(A,I);const _=await c(A.branchProductId);x(D=>new Map(D).set(A.branchProductId,_))},M=async A=>{await i(A);const I=await c(A);x(_=>new Map(_).set(A,I))},T=w();return e.length===0?r.jsx("div",{className:"text-center py-16",children:r.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-800/50 backdrop-blur-sm rounded-2xl p-8 border border-slate-200/50 dark:border-slate-700/50",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-3",children:g("menu.noCategories")}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:g("menu.noCategoriesDesc")})]})}):T.length===0?r.jsx("div",{className:"text-center py-16",children:r.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-800/50 backdrop-blur-sm rounded-2xl p-8 border border-slate-200/50 dark:border-slate-700/50",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-3",children:g(a?"menu.noSearchResults":"menu.noProducts")}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:a?`${g("menu.noSearchResultsDesc")} "${a}"`:g("menu.noProductsDesc")})]})}):r.jsxs("div",{className:"space-y-8",children:[a?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:g("menu.searchResults")}),r.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400 bg-slate-100/50 dark:bg-slate-700/50 px-3 py-1 rounded-full",children:[T.length," ",T.length===1?"result":"results",' for "',a,'"']})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(A=>r.jsx(WE,{product:A,cartQuantity:h.get(A.branchProductId)||0,isFavorite:n.has(A.branchProductId),onAddToCart:S,onRemoveFromCart:M,onToggleFavorite:o,onCustomize:d},A.branchProductId))}),r.jsxs("div",{className:"mt-8 p-4 bg-slate-50/50 dark:bg-slate-800/50 rounded-xl",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:g("menu.browseCategories")}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(A=>{const I=A.products.filter(_=>_.productName.toLowerCase().includes(a.toLowerCase()));return I.length===0?null:r.jsxs("button",{onClick:()=>{l(A.categoryId)},className:"text-xs bg-white/80 dark:bg-slate-700/80 hover:bg-orange-500 hover:text-white text-slate-700 dark:text-slate-300 px-3 py-2 rounded-lg transition-all duration-200 border border-slate-200/50 dark:border-slate-600/50",children:[A.categoryName," (",I.length,")"]},A.categoryId)})})]})]}):e.filter(A=>!t||A.categoryId===t).map(A=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:A.categoryName})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:A.products.map(I=>r.jsx(WE,{product:I,cartQuantity:h.get(I.branchProductId)||0,isFavorite:n.has(I.branchProductId),onAddToCart:S,onRemoveFromCart:M,onToggleFavorite:o,onCustomize:d},I.branchProductId))})]},A.categoryId)),b&&r.jsx("div",{className:"fixed bottom-4 right-4 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm p-3 rounded-lg shadow-lg border border-slate-200/50 dark:border-slate-700/50",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Updating cart..."})]})})]})},Ewe=({orderForm:e,setOrderForm:t,orderTypes:a,loadingOrderTypes:n,orderTotal:s,estimatedTime:i,totalPrice:o,loading:l,onBack:d,onCreate:c,paymentPreferences:g})=>{const{t:h}=Ze(),b=a.find(A=>A.id===e.orderTypeId),j=(()=>{const A=[];return g?.acceptCash&&A.push({value:"cash",label:h("order.form.cash"),icon:pN}),g?.acceptCreditCard&&A.push({value:"creditCard",label:h("order.form.creditCard"),icon:rl}),g?.acceptOnlinePayment&&A.push({value:"onlinePayment",label:h("order.form.onlinePayment"),icon:eu}),A})();if(n)return r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(mt,{className:"h-6 w-6 animate-spin text-orange-500"}),r.jsx("span",{className:"ml-2 text-slate-600 dark:text-slate-400",children:h("order.form.loadingOrderTypes")})]});const w=b?.minOrderAmount||0,S=w>0&&o<w,M=()=>!!(!b||b.requiresName&&!e.customerName?.trim()||b.requiresAddress&&!e.deliveryAddress?.trim()||b.requiresPhone&&!e.customerPhone?.trim()||j.length>0&&!e.paymentMethod),T=l||a.length===0||!e.orderTypeId||S||M();return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[h("order.form.orderType")," *"]}),r.jsxs("select",{title:h("order.form.selectOrderType"),value:e.orderTypeId,onChange:A=>t(I=>({...I,orderTypeId:parseInt(A.target.value)})),className:"w-full text-sm p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",disabled:a.length===0,children:[r.jsx("option",{value:0,children:h("order.form.selectOrderType")}),a.map(A=>r.jsxs("option",{value:A.id,children:[A.name," ",A.serviceCharge>0&&`(+${h("order.form.service")} $${A.serviceCharge.toFixed(2)})`,A.minOrderAmount>0&&` - ${h("order.form.minimumOrder")}: $${A.minOrderAmount.toFixed(2)}`]},A.id))]}),b&&r.jsxs("div",{className:"mt-2 text-xs space-y-1",children:[r.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:b.description}),b.minOrderAmount>0&&r.jsxs("p",{className:"text-blue-600 dark:text-blue-400",children:[h("order.form.minimumOrder"),": $",b.minOrderAmount.toFixed(2)]}),b.serviceCharge>0&&r.jsxs("p",{className:"text-orange-600 dark:text-orange-400",children:[h("order.form.serviceCharge"),": +$",b.serviceCharge.toFixed(2)]}),b.estimatedMinutes&&r.jsxs("p",{className:"text-green-600 dark:text-green-400",children:[h("order.form.estimatedTime"),": ",b.estimatedMinutes," ",h("order.form.minutes")]})]}),a.length===0&&r.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:h("order.form.noOrderTypes")})]}),j.length>0&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[h("order.form.paymentMethod")," *"]}),r.jsx("div",{className:"grid grid-cols-1 gap-3",children:j.map(A=>{const I=A.icon,_=e.paymentMethod===A.value;return r.jsxs("button",{type:"button",onClick:()=>t(D=>({...D,paymentMethod:A.value})),className:`
                    flex items-center p-4 border-2 rounded-lg transition-all
                    ${_?"border-orange-500 bg-orange-50 dark:bg-orange-900/20":"border-slate-300 dark:border-slate-600 hover:border-orange-300 dark:hover:border-orange-700"}
                  `,children:[r.jsx(I,{className:`h-5 w-5 mr-3 ${_?"text-orange-500":"text-slate-500 dark:text-slate-400"}`}),r.jsx("span",{className:`font-medium ${_?"text-orange-600 dark:text-orange-400":"text-slate-700 dark:text-slate-300"}`,children:A.label}),_&&r.jsx("div",{className:"ml-auto w-5 h-5 rounded-full bg-orange-500 flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})})]},A.value)})}),!e.paymentMethod&&r.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:h("order.form.selectPaymentMethod")})]}),b?.requiresName&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[r.jsx(On,{className:"h-4 w-4 inline mr-1"}),h("order.form.customerName")," *"]}),r.jsx("input",{type:"text",value:e.customerName||"",onChange:A=>t(I=>({...I,customerName:A.target.value})),className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",placeholder:h("order.form.customerNamePlaceholder"),required:!0}),!e.customerName?.trim()&&r.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:h("order.form.customerNameRequired")||"Customer name is required"})]}),b?.requiresAddress&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[r.jsx(Qr,{className:"h-4 w-4 inline mr-1"}),h("order.form.deliveryAddress")," *"]}),r.jsx("textarea",{value:e.deliveryAddress||"",onChange:A=>t(I=>({...I,deliveryAddress:A.target.value})),className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",placeholder:h("order.form.deliveryAddressPlaceholder"),rows:3,required:!0}),!e.deliveryAddress?.trim()&&r.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:h("order.form.deliveryAddressRequired")||"Delivery address is required"})]}),b?.requiresPhone&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[r.jsx(Dn,{className:"h-4 w-4 inline mr-1"}),h("order.form.phoneNumber")," *"]}),r.jsx("input",{type:"tel",value:e.customerPhone||"",onChange:A=>t(I=>({...I,customerPhone:A.target.value})),className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",placeholder:h("order.form.phoneNumberPlaceholder"),required:!0}),!e.customerPhone?.trim()&&r.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:h("order.form.phoneNumberRequired")||"Phone number is required"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:h("order.form.specialInstructions")}),r.jsx("textarea",{value:e.notes||"",onChange:A=>t(I=>({...I,notes:A.target.value})),className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",placeholder:h("order.form.specialInstructionsPlaceholder"),rows:3})]}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-slate-800 dark:text-slate-200 mb-3",children:h("order.form.orderSummary")}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[h("order.form.subtotal"),":"]}),r.jsxs("span",{className:"text-slate-800 dark:text-slate-200",children:["$",o.toFixed(2)]})]}),s.serviceCharge>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[h("order.form.serviceCharge"),":"]}),r.jsxs("span",{className:"text-slate-800 dark:text-slate-200",children:["+$",s.serviceCharge.toFixed(2)]})]}),S&&r.jsxs("div",{className:"flex justify-between text-red-600 dark:text-red-400",children:[r.jsxs("span",{className:"text-sm",children:[h("order.form.minimumRequired"),":"]}),r.jsxs("span",{className:"text-sm font-medium",children:["$",w.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between font-bold border-t border-slate-200 dark:border-slate-600 pt-2",children:[r.jsxs("span",{className:"text-slate-800 dark:text-slate-200",children:[h("menu.cart.total"),":"]}),r.jsxs("span",{className:`${S?"text-red-600 dark:text-red-400":"text-orange-600 dark:text-orange-400"}`,children:["$",s.totalAmount.toFixed(2)]})]}),i>0&&r.jsxs("div",{className:"flex items-center text-slate-600 dark:text-slate-400 mt-2",children:[r.jsx(Or,{className:"h-4 w-4 mr-1"}),r.jsxs("span",{children:[h("order.form.estimatedTime"),": ",i," ",h("order.form.minutes")]})]})]})]}),M()&&e.orderTypeId>0&&r.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:r.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:h("order.form.pleaseFillRequiredFields")||"Please fill in all required fields"})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:d,className:"flex-1 py-3 px-4 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:h("order.form.backToCart")}),r.jsx("button",{onClick:c,disabled:T,className:"flex-1 bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 hover:from-orange-600 hover:via-orange-700 hover:to-pink-600 text-white py-3 px-4 rounded-lg font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:l?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(mt,{className:"h-4 w-4 mr-2 animate-spin"}),h("order.form.creating")]}):h("order.form.createOrder")})]})]})};class _we{baseUrl="/api/Basket";async getBasket(t){try{N.info("Basket getirme istei gnderiliyor",{basketId:t},{prefix:"BasketService"});const a=`${this.baseUrl}/${t}`,n=await he.get(a),s=Array.isArray(n.data)?n.data:[],i=s.reduce((d,c)=>d+c.totalPrice,0),o=s.reduce((d,c)=>d+c.quantity,0),l={basketId:t,items:s,totalAmount:i,totalQuantity:o};return N.info("Basket baaryla alnd",{basketId:t,itemsCount:s.length,totalAmount:i},{prefix:"BasketService"}),l}catch(a){N.error("Basket getirme hatas",a,{prefix:"BasketService"}),this.handleError(a,"Basket getirilirken hata olutu")}}async deleteBasket(t){try{N.info("Basket silme istei gnderiliyor",{basketId:t},{prefix:"BasketService"});const a=`${this.baseUrl}/${t}`;await he.delete(a),N.info("Basket baaryla silindi",{basketId:t},{prefix:"BasketService"})}catch(a){N.error("Basket silme hatas",a,{prefix:"BasketService"}),this.handleError(a,"Basket silinirken hata olutu")}}async getMyBasket(){try{N.info("My basket getirme istei gnderiliyor",{},{prefix:"BasketService"});const t=`${this.baseUrl}/my-basket`,a=await he.get(t);let n;if(a.data&&a.data.basketId)n=a.data;else if(a.data&&a.data.data&&a.data.data.basketId)n=a.data.data;else return{basketId:"empty",items:[],totalAmount:0,totalQuantity:0};const s={basketId:n.basketId||"unknown",items:n.basketItems||[],totalAmount:n.totalPrice||0,totalQuantity:n.totalQuantity||0};return N.info("My basket baaryla alnd",{basketId:s.basketId,itemsCount:s.items.length,totalAmount:s.totalAmount,totalQuantity:s.totalQuantity},{prefix:"BasketService"}),s}catch(t){if(N.error("My basket getirme hatas",t,{prefix:"BasketService"}),t?.response?.status===404)return{basketId:"empty",items:[],totalAmount:0,totalQuantity:0};this.handleError(t,"My basket getirilirken hata olutu")}}async deleteMyBasket(){try{N.info("My basket silme istei gnderiliyor",{},{prefix:"BasketService"});const t=`${this.baseUrl}/my-basket`;await he.delete(t),N.info("My basket baaryla silindi",{},{prefix:"BasketService"})}catch(t){N.error("My basket silme hatas",t,{prefix:"BasketService"}),this.handleError(t,"My basket silinirken hata olutu")}}async confirmSessionPriceChanges(t){try{N.info("Session price changes onaylama istei gnderiliyor",{sessionId:t},{prefix:"BasketService"});const a=`${this.baseUrl}/session/${t}/confirm-price-changes`,n=await he.post(a);N.info("Session price changes baaryla onayland",{sessionId:t},{prefix:"BasketService"})}catch(a){N.error("Session price changes onaylama hatas",a,{prefix:"BasketService"}),this.handleError(a,"Price changes onaylanrken hata olutu")}}async getRecommendedAddons(t){try{N.info("Recommended addons getirme istei gnderiliyor",{branchProductId:t},{prefix:"BasketService"});const a=`${this.baseUrl}/products/${t}/recommended-addons`,n=await he.get(a),s=Array.isArray(n.data)?n.data:[];return N.info("Recommended addons baaryla alnd",{branchProductId:t,addonsCount:s.length},{prefix:"BasketService"}),s}catch(a){N.error("Recommended addons getirme hatas",a,{prefix:"BasketService"}),this.handleError(a,"Recommended addons getirilirken hata olutu")}}async getTableSummary(){try{N.info("Table summary getirme istei gnderiliyor",{},{prefix:"BasketService"});const t=`${this.baseUrl}/table-summary`,a=await he.get(t);return N.info("Table summary baaryla alnd",{totalAmount:a.data.totalAmount,totalQuantity:a.data.totalQuantity,itemsCount:a.data.itemsCount},{prefix:"BasketService"}),a.data}catch(t){N.error("Table summary getirme hatas",t,{prefix:"BasketService"}),this.handleError(t,"Table summary getirilirken hata olutu")}}async addUnifiedItemToBasket(t,a){try{N.info("Unified item ekleme istei gnderiliyor",{basketId:t,data:a},{prefix:"BasketService"});const n=`${this.baseUrl}/${t}/unified-items`,s=await he.post(n,a);return N.info("Unified item baaryla eklendi",{basketId:t},{prefix:"BasketService"}),s.data}catch(n){N.error("Unified item ekleme hatas",n,{prefix:"BasketService"}),this.handleError(n,"Unified item eklenirken hata olutu")}}async addUnifiedItemToMyBasket(t){try{N.info("My basket unified item ekleme istei gnderiliyor",{data:t},{prefix:"BasketService"});const a=`${this.baseUrl}/my-basket/unified-items`,n=await he.post(a,t);return N.info("My basket unified item baaryla eklendi",{},{prefix:"BasketService"}),n.data}catch(a){N.error("My basket unified item ekleme hatas",a,{prefix:"BasketService"}),this.handleError(a,"My basket unified item eklenirken hata olutu")}}async batchAddItemsToMyBasket(t){try{N.info("My basket batch items ekleme istei gnderiliyor",{itemsCount:t.length},{prefix:"BasketService"});const a=`${this.baseUrl}/my-basket/items/batch`,n=await he.post(a,t);return N.info("My basket batch items baaryla eklendi",{response:n.data},{prefix:"BasketService"}),n.data}catch(a){N.error("My basket batch items ekleme hatas",a,{prefix:"BasketService"}),this.handleError(a,"My basket batch items eklenirken hata olutu")}}async updateMyBasketItem(t,a){try{N.info("My basket item quantity gncelleme istei gnderiliyor",{basketItemId:t,newQuantity:a},{prefix:"BasketService"});const n=`${this.baseUrl}/my-basket/items/${t}`,s={quantity:a};await he.put(n,s),N.info("My basket item baaryla gncellendi",{basketItemId:t},{prefix:"BasketService"})}catch(n){N.error("My basket item gncelleme hatas",n,{prefix:"BasketService"}),this.handleError(n,"My basket item gncellenirken hata olutu")}}async deleteMyBasketItem(t){try{N.info("My basket item silme istei gnderiliyor",{basketItemId:t},{prefix:"BasketService"});const a=`${this.baseUrl}/my-basket/items/${t}`;await he.delete(a),N.info("My basket item baaryla silindi",{basketItemId:t},{prefix:"BasketService"})}catch(a){N.error("My basket item silme hatas",a,{prefix:"BasketService"}),this.handleError(a,"My basket item silinirken hata olutu")}}async deleteMyBasketProduct(t){try{N.info("My basket product silme istei gnderiliyor",{basketItemId:t},{prefix:"BasketService"});const a=`${this.baseUrl}/my-basket/products/${t}`;await he.delete(a),N.info("My basket product baaryla silindi",{basketItemId:t},{prefix:"BasketService"})}catch(a){N.error("My basket product silme hatas",a,{prefix:"BasketService"}),this.handleError(a,"My basket product silinirken hata olutu")}}async deleteMyBasketAddon(t){try{N.info("My basket addon silme istei gnderiliyor",{addonBasketItemId:t},{prefix:"BasketService"});const a=`${this.baseUrl}/my-basket/addons/${t}`;await he.delete(a),N.info("My basket addon baaryla silindi",{addonBasketItemId:t},{prefix:"BasketService"})}catch(a){N.error("My basket addon silme hatas",a,{prefix:"BasketService"}),this.handleError(a,"My basket addon silinirken hata olutu")}}async getActiveBasket(){try{N.info("Active basket getirme istei gnderiliyor",{},{prefix:"BasketService"});const t=`${this.baseUrl}/active`,n=(await he.get(t)).data,s={basketId:n.basketId,items:n.basketItems||[],totalAmount:n.totalPrice,totalQuantity:n.totalQuantity};return N.info("Active basket baaryla alnd",{basketId:s.basketId,itemsCount:s.items.length,totalAmount:s.totalAmount,totalQuantity:s.totalQuantity},{prefix:"BasketService"}),s}catch(t){N.error("Active basket getirme hatas",t,{prefix:"BasketService"}),this.handleError(t,"Active basket getirilirken hata olutu")}}async updateBasketItemExtra(t,a,n){try{N.info("Basket item extra gncelleme istei gnderiliyor",{basketItemId:t,branchProductExtraId:a,data:n},{prefix:"BasketService"});const s=`${this.baseUrl}/my-basket/items/${t}/extras/${a}`,i=await he.put(s,n);return N.info("Basket item extra baaryla gncellendi",{basketItemId:t,branchProductExtraId:a},{prefix:"BasketService"}),i.data}catch(s){N.error("Basket item extra gncelleme hatas",s,{prefix:"BasketService"}),this.handleError(s,"Basket item extra gncellenirken hata olutu")}}async deleteBasketItemExtra(t,a){try{N.info("Basket item extra silme istei gnderiliyor",{basketItemId:t,branchProductExtraId:a},{prefix:"BasketService"});const n=`${this.baseUrl}/my-basket/items/${t}/extras/${a}`;await he.delete(n),N.info("Basket item extra baaryla silindi",{basketItemId:t,branchProductExtraId:a},{prefix:"BasketService"})}catch(n){N.error("Basket item extra silme hatas",n,{prefix:"BasketService"}),this.handleError(n,"Basket item extra silinirken hata olutu")}}async addExtrasToBasketItem(t,a){try{N.info("Basket item extras ekleme istei gnderiliyor",{basketItemId:t,extrasCount:a.length},{prefix:"BasketService"});const n=`${this.baseUrl}/my-basket/items/${t}/extras`,s=await he.post(n,a);return N.info("Basket item extras baaryla eklendi",{basketItemId:t,extrasCount:a.length},{prefix:"BasketService"}),s.data}catch(n){N.error("Basket item extras ekleme hatas",n,{prefix:"BasketService"}),this.handleError(n,"Basket item extras eklenirken hata olutu")}}handleError(t,a){if(t?.response?.status===400){const n=t?.response?.data;if(n?.errors){const s=Object.values(n.errors).flat();throw new Error(`Dorulama hatas: ${s.join(", ")}`)}else throw new Error("Geersiz istek. Ltfen verileri kontrol edin.")}else throw t?.response?.status===401?new Error("Oturum sreniz dolmu. Ltfen tekrar giri yapn."):t?.response?.status===403?new Error("Bu ilem iin yetkiniz bulunmuyor."):t?.response?.status===404?new Error("Sepet bulunamad."):t?.response?.status===409?new Error("Bu kayt zaten mevcut."):t?.response?.status===0||!navigator.onLine?new Error("nternet balantnz kontrol edin."):new Error(`${a}: ${t?.message||"Bilinmeyen hata"}`)}}const za=new _we,HF=({isVisible:e,priceChanges:t,confirmingPriceChanges:a,onCancel:n,onConfirm:s})=>{const{t:i}=Ze();return za.getMyBasket(),e?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 max-w-md w-full border border-slate-200 dark:border-slate-700 shadow-xl",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-12 h-12 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ya,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),r.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-2",children:i("priceChange.title")}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:i("priceChange.description")})]}),t&&r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg mb-6",children:[r.jsx("h4",{className:"font-medium text-slate-800 dark:text-slate-200 mb-2",children:i("priceChange.changesRequired")}),r.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:typeof t=="string"?r.jsx("p",{children:t}):t?.message?r.jsx("p",{children:t.message}):r.jsx("p",{children:i("priceChange.defaultMessage")})})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:n,disabled:a,className:"flex-1 py-3 px-4 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors disabled:opacity-50",children:i("priceChange.cancel")}),r.jsx("button",{onClick:s,disabled:a,className:"flex-1 bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 hover:from-orange-600 hover:via-orange-700 hover:to-pink-600 text-white py-3 px-4 rounded-lg font-medium transition-all duration-300 disabled:opacity-50",children:a?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(mt,{className:"h-4 w-4 mr-2 animate-spin"}),i("priceChange.confirming")]}):i("priceChange.confirm")})]})]})}):null};class bm{static formatCartItems(t){let a="* ORDER DETAILS:*";return t.forEach((n,s)=>{a+=`

${s+1}. *${n.productName}* x${n.quantity}`,a+=`
    ${n.price.toFixed(2)} TRY each`,n.addons&&n.addons.length>0&&n.addons.forEach(o=>{a+=`
    ${o.addonName} (${o.quantity}x) - ${o.price.toFixed(2)} TRY`});const i=n.totalItemPrice?n.totalItemPrice:n.price*n.quantity;a+=`
    *Item Total: ${i.toFixed(2)} TRY*`}),a}static formatOrderSummary(t){const a=new Date().toLocaleString("tr-TR");let n=`* NEW ORDER RECEIVED!*
`;return n+=`
* Order Tag:* ${t.orderTag}`,n+=`
* Customer:* ${t.customerName}`,t.customerPhone&&(n+=`
* Phone:* ${t.customerPhone}`),n+=`
* Order Type:* ${t.orderType}`,t.paymentMethod&&(n+=`
* Payment Method:* ${t.paymentMethod}`),t.tableNumber&&(n+=`
* Table:* ${t.tableNumber}`),t.deliveryAddress&&(n+=`
* Delivery Address:* ${t.deliveryAddress}`),t.estimatedTime&&(n+=`
* Estimated Time:* ${t.estimatedTime} minutes`),n+=`
`,n+=this.formatCartItems(t.cart),n+=`

`,n+="* PRICE BREAKDOWN:*",t.subtotal!==void 0&&(n+=`
Subtotal: ${t.subtotal.toFixed(2)} TRY`),t.tax&&t.tax>0&&(n+=`
Tax: ${t.tax.toFixed(2)} TRY`),t.serviceCharge&&t.serviceCharge>0&&(n+=`
Service Charge: ${t.serviceCharge.toFixed(2)} TRY`),n+=`
*TOTAL: ${t.totalPrice.toFixed(2)} TRY*`,t.notes&&t.notes.trim()&&(n+=`

* Special Notes:*
${t.notes}`),n+=`

* Order Time:* ${a}`,n+=`

_This order was automatically sent from your QR Menu system._`,n}static async sendOrderToWhatsApp(t,a){try{const n=this.formatWhatsAppNumber(t),s=this.formatOrderSummary(a),i=encodeURIComponent(s),o=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);let l="";o?l=`whatsapp://send?phone=${n}&text=${i}`:l=`https://web.whatsapp.com/send?phone=${n}&text=${i}`,window.open(l,"_blank")}catch(n){throw console.error("Error sending WhatsApp message:",n),new Error("Failed to send WhatsApp message")}}static isWhatsAppEnabled(t){return t?.useWhatsappForOrders===!0&&t?.whatsAppPhoneNumber&&t.whatsAppPhoneNumber.trim().length>0}static formatWhatsAppNumber(t){if(!t)return"";const a=t.replace(/\D/g,"");return a.startsWith("0")?"90"+a.substring(1):!a.startsWith("90")&&a.length===10?"90"+a:a}}const Owe=({cart:e,setCart:t,setLoading:a,setError:n,basketId:s,setBasketId:i,sessionId:o,orderForm:l,orderTypes:d,totalPrice:c,trackedOrders:g,setTrackedOrders:h,onOrderCreated:x,setShowPriceChangeModal:b,setPriceChanges:v,setValidationErrors:j,setShowOrderForm:w,setOrderForm:S,tableId:M,restaurantPreferences:T,setPendingWhatsAppData:A,setShowWhatsAppConfirmation:I})=>{console.log(" useCartHandlers initialized with cart:",e);const _=se=>{if(!se||se==="empty"||se.trim()==="")return null;const ie=se.trim();return ie.startsWith("session_")?ie.replace("session_",""):ie},D=se=>{if(se.totalItemPrice&&se.totalItemPrice>0)return se.totalItemPrice;let ie=(se.price||0)*(se.quantity||0);if(se.addons&&se.addons.length>0){const ue=se.addons.reduce((le,xe)=>le+xe.price*xe.quantity,0);ie+=ue}if(se.extras&&se.extras.length>0){const ue=se.extras.filter(le=>!le.isRemoval).reduce((le,xe)=>le+xe.unitPrice*xe.quantity,0);ie+=ue}return ie},E=()=>d.find(se=>se.id===l.orderTypeId),X=async se=>{try{const ie=bm.formatWhatsAppNumber(T.whatsAppPhoneNumber);await bm.sendOrderToWhatsApp(ie,se)}catch(ie){throw console.error("Error sending WhatsApp notification:",ie),ie}},ee=async()=>{try{a(!0),n(null);const se=await za.getMyBasket();i(se.basketId);const ie=se.items.map(ue=>{const le=ue.addonItems?.map(Le=>({branchProductAddonId:Le.branchProductId,addonName:Le.productName||"",price:Le.price||0,quantity:Le.quantity,minQuantity:Le.minQuantity,maxQuantity:Le.maxQuantity,basketItemId:Le.basketItemId})),xe=ue.extras?.map(Le=>({branchProductExtraId:Le.branchProductExtraId,productExtraId:Le.productExtraId,extraId:Le.extraId,extraName:Le.extraName,extraCategoryName:Le.extraCategoryName,selectionMode:Le.selectionMode,isRequired:Le.isRequired,isRemoval:Le.isRemoval,unitPrice:Le.unitPrice,quantity:Le.quantity,minQuantity:Le.minQuantity,maxQuantity:Le.maxQuantity,note:Le.note}))||[];let ze=(ue.price||0)*(ue.quantity||1);if(le&&le.length>0){const Le=le.reduce((ut,kt)=>ut+kt.price*kt.quantity,0);ze+=Le}if(xe&&xe.length>0){const Le=xe.filter(ut=>!ut.isRemoval).reduce((ut,kt)=>ut+kt.unitPrice*kt.quantity,0);ze+=Le}return{basketItemId:ue.basketItemId,branchProductId:ue.branchProductId,productName:ue.productName||"",price:ue.price||0,quantity:ue.quantity,productImageUrl:ue.imageUrl??void 0,addons:le,extras:xe,totalItemPrice:ze}});t(ie)}catch(se){console.error(" Error loading basket:",se),n("Failed to load basket"),t([])}finally{a(!1)}},Z=async()=>{try{a(!0),n(null),await za.deleteMyBasket(),t([]),i(null)}catch(se){console.error("Error clearing basket:",se),n("Failed to clear basket")}finally{a(!1)}},B=async se=>{try{a(!0),n(null),await za.deleteMyBasketItem(se),await ee()}catch(ie){console.error("Error removing from basket:",ie),n("Failed to remove item from basket")}finally{a(!1)}},G=async se=>{if(se)try{a(!0),n(null);const ie=e.find(le=>le.basketItemId===se);if(!ie){console.error(" Cart item not found"),n("Cart item not found. Please refresh.");return}const ue=ie.quantity+1;console.log(" Updating product quantity (backend will auto-scale extras):",{basketItemId:se,branchProductId:ie.branchProductId,currentQuantity:ie.quantity,newQuantity:ue,extrasCount:ie.extras?.length||0}),await za.updateMyBasketItem(se,ue),console.log(" Product quantity updated successfully (extras auto-scaled)"),await ee()}catch(ie){console.error(" Error updating product quantity:",ie),console.error(" Full error response:",{message:ie.message,status:ie.response?.status,data:ie.response?.data});const ue=ie.response?.data?.message||ie.response?.data?.title||ie.message||"Failed to update product quantity";n(ue);try{await ee()}catch(le){console.error(" Failed to reload basket after error:",le)}}finally{a(!1)}},J=async(se,ie,ue)=>{if(!ue){console.warn(" Toggle should only be used for removed items (isRemoval: true)");return}try{a(!0),n(null),console.log(" Toggling extra (removing removal):",{branchProductExtraId:se,basketItemId:ie}),await za.deleteBasketItemExtra(ie,se),console.log(" Extra toggled successfully"),await ee()}catch(le){console.error(" Error toggling extra:",le),console.error("Error response:",le.response?.data),n(le.response?.data?.message||le.message||"Failed to update extra");try{await ee()}catch(xe){console.error(" Failed to reload basket after error:",xe)}}finally{a(!1)}},ce=async(se,ie)=>{try{a(!0),n(null);const ue=e.find(ze=>ze.basketItemId===ie);if(!ue){console.error(" Cart item not found"),n("Cart item not found");return}const le=ue.extras?.find(ze=>ze.branchProductExtraId===se);if(!le){console.error(" Extra not found"),n("Extra not found");return}if(le.isRemoval){console.error(" Cannot increase quantity of removal extra"),n("Cannot increase quantity of removal extra");return}if(le.maxQuantity&&le.quantity>=le.maxQuantity){n(`Maximum quantity for ${le.extraName} is ${le.maxQuantity}`);return}const xe=le.quantity+1;console.log(" Increasing extra quantity:",{branchProductExtraId:se,basketItemId:ie,currentScaledQuantity:le.quantity,newScaledQuantity:xe}),await za.updateBasketItemExtra(ie,se,{quantity:xe}),console.log(" Extra quantity increased successfully"),await ee()}catch(ue){console.error(" Error increasing extra quantity:",ue),console.error("Error details:",{message:ue.message,response:ue.response?.data,status:ue.response?.status}),n(ue.response?.data?.message||"Failed to increase extra quantity"),await ee()}finally{a(!1)}},te=async(se,ie)=>{try{a(!0),n(null);const ue=e.find(ze=>ze.basketItemId===ie);if(!ue){console.error(" Cart item not found"),n("Cart item not found. Please refresh.");return}const le=ue.extras?.find(ze=>ze.branchProductExtraId===se);if(!le){console.error(" Extra not found"),n("Extra not found");return}if(le.isRemoval){console.error(" Cannot decrease quantity of removal extra"),n("Cannot decrease quantity of removal extra");return}const xe=le.quantity-1;console.log(" Decreasing extra quantity:",{branchProductExtraId:se,basketItemId:ie,currentScaledQuantity:le.quantity,productQuantity:ue.quantity,newScaledQuantity:xe}),xe<=0?(console.log(" Removing extra completely (quantity would be 0 or negative)"),await za.deleteBasketItemExtra(ie,se)):await za.updateBasketItemExtra(ie,se,{quantity:xe}),console.log(" Extra quantity decreased successfully"),await ee()}catch(ue){console.error(" Error decreasing extra quantity:",ue),console.error("Error response:",ue.response?.data),n(ue.response?.data?.message||ue.message||"Failed to decrease extra quantity");try{await ee()}catch(le){console.error(" Failed to reload basket after error:",le)}}finally{a(!1)}},K=async se=>{if(se)try{a(!0),n(null);const ie=e.find(ue=>ue.basketItemId===se);if(!ie){console.error(" Cart item not found"),n("Cart item not found. Please refresh.");return}if(ie.quantity<=1)console.log(" Deleting basket item (quantity would be 0):",se),await za.deleteMyBasketItem(se);else{const ue=ie.quantity-1;console.log(" Decreasing product quantity (backend will auto-scale extras):",{basketItemId:se,currentQuantity:ie.quantity,newQuantity:ue,extrasCount:ie.extras?.length||0}),await za.updateMyBasketItem(se,ue),console.log(" Product quantity decreased successfully (extras auto-scaled)")}await ee()}catch(ie){console.error(" Error decreasing product quantity:",ie);const ue=ie.response?.data?.message||ie.message||"Failed to decrease item quantity";n(ue);try{await ee()}catch(le){console.error(" Failed to reload basket after error:",le)}}finally{a(!1)}},Y=async se=>{try{a(!0),n(null);let ie=null,ue=null;for(const xe of e)if(xe.addons){const ze=xe.addons.find(Le=>Le.basketItemId===se);if(ze){ie=ze.branchProductAddonId,ue=xe.basketItemId??null;break}}if(!ie||!ue){console.error("Could not find addon product ID");return}const le=[{branchProductId:ie,quantity:1,parentBasketItemId:ue}];await za.batchAddItemsToMyBasket(le),await ee()}catch(ie){console.error("Error increasing addon quantity:",ie),n("Failed to increase addon quantity")}finally{a(!1)}},re=se=>se.maxQuantity?se.quantity<se.maxQuantity:!0,ne=se=>se.minQuantity?se.quantity>se.minQuantity:se.quantity>0,z=se=>se.minQuantity&&se.quantity<se.minQuantity?`Minimum quantity for ${se.addonName} is ${se.minQuantity}`:se.maxQuantity&&se.quantity>se.maxQuantity?`Maximum quantity for ${se.addonName} is ${se.maxQuantity}`:null,V=()=>{const se=[];return e.forEach(ie=>{ie.addons&&ie.addons.forEach(ue=>{const le=z(ue);le&&se.push(le)})}),se},F=()=>{const se=[],ie=E();return ie?.minOrderAmount&&c<ie.minOrderAmount&&se.push(`Minimum order amount for ${ie.name} is ${ie.minOrderAmount.toFixed(2)}. Current total: ${c.toFixed(2)}`),se},$=()=>{const se=[];if(!l.orderTypeId)return se.push("Please select an order type"),se;const ie=E();ie?.requiresName&&!l.customerName?.trim()&&se.push("Customer name is required for this order type"),ie?.requiresAddress&&!l.deliveryAddress?.trim()&&se.push("Delivery address is required for this order type"),ie?.requiresPhone&&!l.customerPhone?.trim()&&se.push("Phone number is required for this order type");const ue=F();return se.push(...ue),se},q=async se=>{try{const ie=await kr.trackOrder(se);h([{orderTag:se,trackingInfo:ie,createdAt:new Date},...g])}catch(ie){console.error("Error adding order to tracking:",ie)}},H=async()=>{try{const se=_(o);if(se)try{const ie=await za.confirmSessionPriceChanges(se);v(ie),b(!1),await Q()}catch{v({message:"Some items in your basket have price changes that need to be confirmed.",requiresConfirmation:!0})}else v({message:"Price changes detected. Please confirm to continue with your order.",requiresConfirmation:!0})}catch(se){console.error(" Error handling price change confirmation:",se),n("Failed to load price change details")}},Q=async()=>{try{a(!0),n(null),j([]);const se=V(),ie=$(),ue=[...se,...ie];if(ue.length>0){j(ue),a(!1);return}const le=E(),xe={customerName:l.customerName.trim(),notes:l.notes.trim()||void 0,paymentMethod:"",orderTypeId:l.orderTypeId,...l.tableId&&{tableId:l.tableId},...l.tableNumber?.trim()&&{tableNumber:l.tableNumber.trim()},...le?.requiresAddress||l.deliveryAddress?.trim()?{deliveryAddress:l.deliveryAddress?.trim()}:{},...le?.requiresPhone||l.customerPhone?.trim()?{customerPhone:l.customerPhone?.trim()}:{}},ze=await kr.createSessionOrder(xe);ze.orderTag&&await q(ze.orderTag);const Le=le?.serviceCharge||0;if(ze.orderTag&&bm.isWhatsAppEnabled(T)){const ut={orderTag:ze.orderTag,customerName:l.customerName,cart:e,totalPrice:c,orderType:le?.name||"Standard",notes:l.notes,tableId:l.tableId,tableNumber:l.tableNumber,deliveryAddress:l.deliveryAddress,estimatedTime:le?.estimatedMinutes,serviceCharge:Le};if(A&&I){A(ut),I(!0),a(!1);return}else console.warn(" WhatsApp confirmation functions not available")}t([]),i(null),w(!1),S({customerName:"",notes:"",orderTypeId:0,tableId:M,deliveryAddress:"",customerPhone:"",paymentMethod:"",tableNumber:""}),x&&x(ze.orderId),n(null)}catch(se){console.error(" Error creating order:",se),b(!0)}finally{a(!1)}};return{loadBasket:ee,clearBasket:Z,removeFromBasket:B,handleQuantityIncrease:G,handleQuantityDecrease:K,handleAddonQuantityIncrease:Y,canIncreaseAddonQuantity:re,canDecreaseAddonQuantity:ne,getAddonQuantityError:z,createOrder:Q,loadOrderTracking:async se=>{try{a(!0),n(null);const ie=await kr.trackOrder(se);h(g.map(ue=>ue.orderTag===se?{...ue,trackingInfo:ie}:ue))}catch(ie){console.error("Error loading order tracking:",ie),n("Failed to load order tracking information")}finally{a(!1)}},removeOrderFromTracking:se=>{const ie=g.filter(ue=>ue.orderTag!==se);h(ie),ie.length===0&&localStorage.removeItem("trackedOrders")},refreshAllPendingOrders:async()=>{const se=g.filter(ie=>ie.trackingInfo.orderStatus==="Pending");for(const ie of se)try{const ue=await kr.trackOrder(ie.orderTag);h(g.map(le=>le.orderTag===ie.orderTag?{...le,trackingInfo:ue}:le))}catch(ue){console.error(`Error updating order ${ie.orderTag}:`,ue)}},calculateItemTotalPrice:D,getSelectedOrderType:E,handlePriceChangeConfirmation:H,sendOrderToWhatsApp:X,cleanupAfterOrder:()=>{t([]),i(null),w(!1),S({customerName:"",notes:"",orderTypeId:0,tableId:M,deliveryAddress:"",customerPhone:"",paymentMethod:"",tableNumber:""})},handleExtraToggle:J,handleExtraQuantityIncrease:ce,handleExtraQuantityDecrease:te}},Rwe=({group:e,loading:t,onQuantityIncrease:a,onQuantityDecrease:n,onAddonQuantityIncrease:s,onRemoveFromBasket:i,canIncreaseAddonQuantity:o,canDecreaseAddonQuantity:l,getAddonQuantityError:d,onExtraToggle:c,onExtraQuantityIncrease:g,onExtraQuantityDecrease:h})=>{const{t:x}=Ze();return console.log("group",e),r.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-800/50 p-4 rounded-xl backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4 pb-3 border-b border-slate-200/50 dark:border-slate-600/50",children:[e.product.productImageUrl&&r.jsx("img",{src:e.product.productImageUrl||"/placeholder.svg",alt:e.product.productName,className:"w-12 h-12 object-cover rounded-lg shadow-md"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-100 text-base",children:e.product.productName}),r.jsxs("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:[e.variants.length," ",e.variants.length>1?x("menu.cart.variants"):x("menu.cart.variant"),"  ",x("menu.cart.total"),": ",e.totalQuantity," ",e.totalQuantity>1?x("menu.cart.items"):x("menu.cart.item")]})]})]}),r.jsx("div",{className:"space-y-4",children:e.variants.map(b=>r.jsxs("div",{className:"bg-white/50 dark:bg-slate-700/30 p-3 rounded-lg border border-slate-200/30 dark:border-slate-600/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[b.isPlain?r.jsx("span",{className:"text-xs bg-slate-200 dark:bg-slate-600 text-slate-700 dark:text-slate-300 px-2 py-1 rounded-full",children:x("menu.cart.plain")}):r.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-full flex items-center",children:[r.jsx(qa,{className:"h-2 w-2 mr-1"}),x("menu.cart.customized")]}),r.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:["$",e.product.price.toFixed(2),"  ",b.quantity]})]}),r.jsx("div",{className:"flex items-center space-x-1",children:r.jsxs("div",{className:"flex items-center space-x-1 bg-white dark:bg-slate-700 rounded-lg p-0.5",children:[r.jsx("button",{onClick:()=>n(b.basketItemId),disabled:t,className:"w-5 h-5 bg-red-500 hover:bg-red-600 text-white rounded flex items-center justify-center transition-colors disabled:opacity-50",title:x("menu.cart.decreaseQuantity"),children:r.jsx(ds,{className:"h-2 w-2"})}),r.jsx("span",{className:"w-6 text-center font-bold text-xs text-slate-800 dark:text-slate-100",children:b.quantity}),r.jsx("button",{onClick:()=>a(b.basketItemId),disabled:t,className:"w-5 h-5 bg-orange-500 hover:bg-orange-600 text-white rounded flex items-center justify-center transition-colors disabled:opacity-50",title:x("menu.cart.increaseQuantity"),children:r.jsx(Ut,{className:"h-2 w-2"})})]})})]}),b.addons&&b.addons.length>0&&r.jsxs("div",{className:"mb-3",children:[r.jsxs("p",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 mb-2",children:[x("menu.cart.addons"),":"]}),r.jsx("div",{className:"space-y-2",children:b.addons.map(v=>{const j=l(v),w=o(v),S=d(v);return r.jsxs("div",{className:"flex justify-between items-center bg-amber-50 dark:bg-amber-900/20 p-2 rounded",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-xs text-slate-700 dark:text-slate-300 font-medium",children:v.addonName}),r.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:["$",v.price.toFixed(2)," ",x("menu.cart.each"),"  ",v.quantity]}),(v.minQuantity||v.maxQuantity)&&r.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:v.minQuantity&&v.maxQuantity?`${x("menu.cart.qty")}: ${v.minQuantity}-${v.maxQuantity}`:v.minQuantity?`${x("menu.cart.min")}: ${v.minQuantity}`:`${x("menu.cart.max")}: ${v.maxQuantity}`}),S&&r.jsx("div",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:S})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"flex items-center space-x-1 bg-white dark:bg-slate-700 rounded p-0.5",children:[r.jsx("button",{onClick:()=>v.basketItemId&&i(v.basketItemId),disabled:t||!v.basketItemId||!j,className:`w-4 h-4 text-white rounded flex items-center justify-center transition-colors disabled:opacity-50 ${j?"bg-red-500 hover:bg-red-600":"bg-gray-400 cursor-not-allowed"}`,title:j?x("menu.cart.decreaseQuantity"):x("menu.cart.minQuantityError",{name:v.addonName,min:v.minQuantity||0}),children:r.jsx(ds,{className:"h-2 w-2"})}),r.jsx("span",{className:"w-4 text-center font-bold text-xs text-slate-800 dark:text-slate-100",children:v.quantity}),r.jsx("button",{onClick:()=>v.basketItemId&&s(v.basketItemId),disabled:t||!v.basketItemId||!w,className:`w-4 h-4 text-white rounded flex items-center justify-center transition-colors disabled:opacity-50 ${w?"bg-orange-500 hover:bg-orange-600":"bg-gray-400 cursor-not-allowed"}`,title:w?x("menu.cart.increaseQuantity"):x("menu.cart.maxQuantityError",{name:v.addonName,max:v.maxQuantity??0}),children:r.jsx(Ut,{className:"h-2 w-2"})})]}),r.jsxs("div",{className:"text-xs font-medium text-orange-600 dark:text-orange-400 ml-1",children:["+$",(v.price*v.quantity).toFixed(2)]})]})]},v.branchProductAddonId)})})]}),b.extras&&b.extras.length>0&&r.jsxs("div",{className:"mb-3",children:[r.jsxs("p",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 mb-2",children:[x("menu.cart.extras"),":"]}),r.jsx("div",{className:"space-y-2",children:b.extras.map(v=>{const j=v.quantity,w=v.minQuantity??0,S=v.maxQuantity,M=j<=w,T=!v.isRemoval&&(!S||j<S);return r.jsxs("div",{className:`flex justify-between items-center p-2 rounded ${v.isRemoval?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800":"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800"}`,children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[v.isRemoval?r.jsx(Ga,{className:"h-3 w-3 text-red-500"}):r.jsx(K5,{className:"h-3 w-3 text-green-500"}),r.jsx("span",{className:"text-xs text-slate-700 dark:text-slate-300 font-medium",children:v.isRemoval?`${x("menu.cart.without")} ${v.extraName}`:v.extraName})]}),v.extraCategoryName&&r.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 ml-5",children:v.extraCategoryName}),v.unitPrice>0&&r.jsxs("div",{className:`text-xs ml-5 ${v.isRemoval?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:["$",v.unitPrice.toFixed(2)," ",x("menu.cart.each"),!v.isRemoval&&`  ${j}`]}),!v.isRemoval&&(v.minQuantity||v.maxQuantity)&&r.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 ml-5",children:[x("menu.cart.qty"),": ",w,"-",S??""]})]}),v.isRemoval?r.jsxs("button",{onClick:()=>b.basketItemId&&c&&c(v.branchProductExtraId,b.basketItemId,v.isRemoval),disabled:t||!b.basketItemId||!c,className:"px-3 py-1 rounded-lg text-xs font-medium transition-all bg-green-500 hover:bg-green-600 text-white disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1",title:x("menu.cart.add"),children:[r.jsx(K5,{className:"h-3 w-3"}),r.jsx("span",{children:x("menu.cart.add")})]}):r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"flex items-center space-x-1 bg-white dark:bg-slate-700 rounded p-0.5",children:[r.jsx("button",{onClick:()=>{b.basketItemId&&h&&h(v.branchProductExtraId,b.basketItemId)},disabled:t||!b.basketItemId||!h,className:"w-4 h-4 bg-red-500 hover:bg-red-600 text-white rounded flex items-center justify-center transition-colors disabled:opacity-50",title:x(M?"menu.cart.remove":"menu.cart.decreaseQuantity"),children:M?r.jsx(wr,{className:"h-2 w-2"}):r.jsx(ds,{className:"h-2 w-2"})}),r.jsx("span",{className:"w-4 text-center font-bold text-xs text-slate-800 dark:text-slate-100",children:j}),r.jsx("button",{onClick:()=>b.basketItemId&&g&&g(v.branchProductExtraId,b.basketItemId),disabled:t||!b.basketItemId||!T||!g,className:`w-4 h-4 text-white rounded flex items-center justify-center transition-colors disabled:opacity-50 ${T?"bg-orange-500 hover:bg-orange-600":"bg-gray-400 cursor-not-allowed"}`,title:!T&&S?`${x("menu.cart.max")}: ${S}`:x("menu.cart.increaseQuantity"),children:r.jsx(Ut,{className:"h-2 w-2"})})]}),v.unitPrice>0&&r.jsxs("div",{className:"text-xs font-medium text-green-600 dark:text-green-400 ml-1",children:["+$",(v.unitPrice*j).toFixed(2)]})]})]},v.branchProductExtraId)})})]})]},b.basketItemId||b.cartIndex))})]})},Dwe=()=>{const{t:e}=Ze();return r.jsx("div",{className:"text-center py-16",children:r.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-800/50 backdrop-blur-sm rounded-2xl p-8 border border-slate-200/50 dark:border-slate-700/50",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-200 to-slate-300 dark:from-slate-700 dark:to-slate-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:r.jsx(Kn,{className:"h-8 w-8 text-slate-400 dark:text-slate-500"})}),r.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-3",children:e("menu.cart.empty")}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:e("menu.cart.emptyDesc")})]})})},Bwe=({cart:e,groupedItems:t,totalPrice:a,loading:n,onProceedToOrder:s,onQuantityIncrease:i,onQuantityDecrease:o,onAddonQuantityIncrease:l,onRemoveFromBasket:d,canIncreaseAddonQuantity:c,canDecreaseAddonQuantity:g,getAddonQuantityError:h,onExtraToggle:x,onExtraQuantityDecrease:b,onExtraQuantityIncrease:v})=>{const{t:j}=Ze();return console.log("Rendering CartContent with cart items:",e),console.log("totalPrice",a),e.length===0?r.jsx(Dwe,{}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-6 mb-6",children:t.map(w=>r.jsx(Rwe,{group:w,loading:n,onQuantityIncrease:i,onQuantityDecrease:o,onAddonQuantityIncrease:l,onRemoveFromBasket:d,canIncreaseAddonQuantity:c,canDecreaseAddonQuantity:g,getAddonQuantityError:h,onExtraToggle:x,onExtraQuantityIncrease:v,onExtraQuantityDecrease:b},w.product.branchProductId))}),r.jsxs("div",{className:"border-t border-slate-200/50 dark:border-slate-700/50 pt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 rounded-xl",children:[r.jsx("span",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:j("menu.cart.total")}),r.jsxs("span",{className:"text-xl font-bold bg-gradient-to-r from-orange-600 via-orange-500 to-pink-500 bg-clip-text text-transparent",children:["$",a.toFixed(2)]})]}),r.jsx("button",{onClick:s,disabled:n||e.length===0,className:"w-full bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 hover:from-orange-600 hover:via-orange-700 hover:to-pink-600 text-white py-4 rounded-xl font-bold text-sm transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:opacity-50 disabled:transform-none",children:n?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(mt,{className:"h-4 w-4 mr-2 animate-spin"}),j("menu.cart.processing")]}):r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("span",{children:j("menu.cart.proceed")}),r.jsx(Ui,{className:"h-4 w-4 ml-2"})]})})]})]})},WF=({trackedOrders:e,trackingLoading:t,onLoadOrderTracking:a,onRemoveOrderFromTracking:n,updatableOrders:s,onRefreshUpdatableOrders:i})=>{const o=async c=>{await i(),await a(c)},l=c=>{switch(c.toLowerCase()){case"pending":return"text-yellow-600 bg-yellow-100 border-yellow-200 dark:text-yellow-400 dark:bg-yellow-900/30 dark:border-yellow-800";case"confirmed":return"text-blue-600 bg-blue-100 border-blue-200 dark:text-blue-400 dark:bg-blue-900/30 dark:border-blue-800";case"preparing":return"text-orange-600 bg-orange-100 border-orange-200 dark:text-orange-400 dark:bg-orange-900/30 dark:border-orange-800";case"ready":return"text-green-600 bg-green-100 border-green-200 dark:text-green-400 dark:bg-green-900/30 dark:border-green-800";case"completed":return"text-green-700 bg-green-200 border-green-300 dark:text-green-300 dark:bg-green-800/30 dark:border-green-700";case"cancelled":case"rejected":return"text-red-600 bg-red-100 border-red-200 dark:text-red-400 dark:bg-red-900/30 dark:border-red-800";default:return"text-gray-600 bg-gray-100 border-gray-200 dark:text-gray-400 dark:bg-gray-800/30 dark:border-gray-700"}},d=c=>{switch(c.toLowerCase()){case"pending":return r.jsx(Or,{className:"h-4 w-4"});case"confirmed":case"preparing":case"ready":return r.jsx(Or,{className:"h-4 w-4"});case"completed":return r.jsx(tr,{className:"h-4 w-4"});case"cancelled":case"rejected":return r.jsx(xt,{className:"h-4 w-4"});default:return r.jsx(Or,{className:"h-4 w-4"})}};return e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(mm,{className:"h-12 w-12 text-slate-400 dark:text-slate-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-slate-600 dark:text-slate-400 mb-2",children:"No Orders Yet"}),r.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500",children:"Your orders will appear here once you place them"})]}):r.jsx("div",{className:"space-y-4",children:e.map(c=>r.jsx(Lwe,{order:c,trackingLoading:t,getStatusColor:l,getStatusIcon:d,onLoadOrderTracking:a,onRemoveOrderFromTracking:n,updatableOrders:s,onUpdateOrder:o},c.orderTag))})},Lwe=({order:e,trackingLoading:t,getStatusColor:a,getStatusIcon:n,onLoadOrderTracking:s,onRemoveOrderFromTracking:i,updatableOrders:o,onUpdateOrder:l})=>{const{t:d}=Ze(),[c,g]=p.useState(!1),[h,x]=p.useState(!1),[b,v]=p.useState(""),[j,w]=p.useState([]),[S,M]=p.useState({isOpen:!1,title:"",message:""}),[T,A]=p.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[I,_]=p.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),D=o.find(F=>F.orderTag===e.orderTag),E=e.trackingInfo.orderStatus.toLowerCase()==="pending",X=E&&D?.isUpdatable,ee=D&&kr.canCancelOrder(e.trackingInfo.orderStatus),Z=()=>{if(!D?.updateDeadline)return null;const F=new Date(D.updateDeadline),$=new Date,q=F.getTime()-$.getTime();if(q<=0)return"Expired";const H=Math.floor(q/6e4),Q=Math.floor(q%6e4/1e3);return`${H}m ${Q}s`},B=()=>{if(!D?.items){M({isOpen:!0,title:d("menu.cart.error")||"Error",message:d("menu.cart.order_items_not_available")||"Order items not available"});return}const F=[];D.items.forEach($=>{F.push({...$,orderDetailId:$.id,originalCount:$.count,editedNote:$.note||""}),$.addonItems&&$.addonItems.length>0&&$.addonItems.forEach(q=>{F.push({...q,orderDetailId:q.id,parentOrderDetailId:q.parentOrderItemId,originalCount:q.count,editedNote:q.note||""})})}),w(F),g(!0)},G=()=>{g(!1),v(""),w([])},J=(F,$)=>{w(q=>q.map(H=>{if(H.orderDetailId===F){const Q=Math.max(0,(H.count||0)+$);return{...H,count:Q}}return H}))},ce=(F,$)=>{w(q=>q.map(H=>H.orderDetailId===F?{...H,editedNote:$,note:$}:H))},te=F=>{w($=>{const q=$.find(Q=>Q.orderDetailId===F),H=q&&!q.parentOrderDetailId;return $.map(Q=>Q.orderDetailId===F?{...Q,isDeleted:!0,count:0}:H&&Q.parentOrderDetailId===F?{...Q,isDeleted:!0,count:0}:Q)})},K=F=>{w($=>{const q=$.find(de=>de.orderDetailId===F);if(!q)return $;let H=null;if(q.parentOrderDetailId){const de=$.find(me=>me.orderDetailId===q.parentOrderDetailId);de&&de.isDeleted&&(H=de.orderDetailId)}const Q=!q.parentOrderDetailId;return $.map(de=>de.orderDetailId===F?{...de,isDeleted:!1,count:de.originalCount||1}:H&&de.orderDetailId===H?{...de,isDeleted:!1,count:de.originalCount||1}:Q&&de.parentOrderDetailId===F?{...de,isDeleted:!1,count:de.originalCount||1}:de)})},Y=()=>j.some(F=>F.count!==F.originalCount||F.editedNote!==(F.note||"")||F.isDeleted),re=async F=>{try{const $={...F,priceChangesConfirmed:!0};await kr.updatePendingOrder($),M({isOpen:!0,title:d("menu.cart.success")||"Success",message:d("menu.cart.order_updated_success")||"Order updated successfully!"}),G(),await l(e.orderTag)}catch($){M({isOpen:!0,title:d("menu.cart.error")||"Error",message:$.message||d("menu.cart.order_update_failed")||"Failed to update order"})}},ne=async()=>{if(!D){M({isOpen:!0,title:d("menu.cart.error")||"Error",message:"Updatable order information not found"});return}if(!Y()){M({isOpen:!0,title:d("menu.cart.info")||"Info",message:d("menu.cart.no_changes_detected")||"No changes detected. Please modify items before updating."});return}const F=j.filter(q=>!q.isDeleted&&q.count&&q.count>0).map(q=>({orderDetailId:q.orderDetailId||0,branchProductId:q.branchProductId,count:q.count||0,note:q.editedNote||null,isAddon:q.isAddon||!1,parentOrderDetailId:q.parentOrderDetailId||null})),$={orderId:D.orderId,items:F,updateReason:b.trim(),priceChangesConfirmed:!1,rowVersion:D.rowVersion};try{x(!0),await kr.updatePendingOrder($),M({isOpen:!0,title:d("menu.cart.success")||"Success",message:d("menu.cart.order_updated_success")||"Order updated successfully!"}),G(),await l(e.orderTag)}catch(q){console.error("Failed to update order:",q),q?.response?.status===409&&q?.response?.data?.message?.toLowerCase().includes("price changes")?A({isOpen:!0,title:d("menu.cart.price_change_title")||"Price Change",message:d("menu.cart.price_change_confirm")||"Some prices have changed since you placed the order. Do you want to proceed with the update?",onConfirm:()=>re($)}):M({isOpen:!0,title:d("menu.cart.error")||"Error",message:q.message||d("menu.cart.order_update_failed")||"Failed to update order"})}finally{x(!1)}},z=async F=>{if(D)try{x(!0);const $={orderId:D.orderId,cancellationReason:F.trim(),rowVersion:D.rowVersion};await kr.cancelOrder($),M({isOpen:!0,title:d("menu.cart.success")||"Success",message:d("menu.cart.order_cancelled_success")||"Order cancelled successfully!"}),await l(e.orderTag)}catch($){console.error("Failed to cancel order:",$),M({isOpen:!0,title:d("menu.cart.error")||"Error",message:$.message||d("menu.cart.order_cancel_failed")||"Failed to cancel order."})}finally{x(!1)}},V=async()=>{if(!D){M({isOpen:!0,title:d("menu.cart.error")||"Error",message:d("menu.cart.order_data_unavailable")||"Order data not available for cancellation."});return}_({isOpen:!0,title:d("menu.cart.cancel_reason_prompt_title")||"Cancel Order",message:"",onConfirm:F=>{A({isOpen:!0,title:d("menu.cart.confirm_cancel_title")||"Confirm Cancellation",message:d("menu.cart.cancel_order_confirm")||"Are you sure you want to cancel this order?",onConfirm:()=>z(F)})}})};return r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[r.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:e.orderTag}),r.jsxs("div",{className:`px-2 py-1 rounded-lg border text-xs font-medium flex items-center space-x-1 ${a(e.trackingInfo.orderStatus)}`,children:[n(e.trackingInfo.orderStatus),r.jsx("span",{children:e.trackingInfo.orderStatus})]})]}),r.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(e.createdAt).toLocaleString()})]}),X&&D&&r.jsx("div",{className:"px-4 pt-3 pb-2 bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800",children:r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"flex-1 space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Nt,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),r.jsx("span",{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:d("menu.cart.order_can_be_updated")||"Order can be updated"})]}),r.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:[d("menu.cart.time_remaining")||"Time remaining",": ",Z()]}),D.hasBeenModified&&r.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:d("menu.cart.modified_times",{count:D.modificationCount})||`Modified ${D.modificationCount} time(s)`})]}),!c&&r.jsx("button",{onClick:B,className:"p-2 text-blue-600 hover:bg-blue-100 dark:text-blue-400 dark:hover:bg-blue-800/30 rounded-lg transition-colors",title:d("menu.cart.edit_order")||"Edit order",children:r.jsx(Cm,{className:"h-4 w-4"})})]})}),c&&r.jsx("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border-b border-yellow-200 dark:border-yellow-800",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-yellow-700 dark:text-yellow-300",children:[r.jsx(Nt,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm font-medium",children:d("menu.cart.edit_order_items")||"Edit Order Items"})]}),j.length>0&&r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:j.filter(F=>!F.parentOrderDetailId).map(F=>r.jsxs("div",{className:`p-3 bg-white dark:bg-slate-700 rounded-lg border ${F.isDeleted?"border-red-300 dark:border-red-700 opacity-50":"border-slate-200 dark:border-slate-600"}`,children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:F.productName}),r.jsxs("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:["$",(F.price*(F.count||0)).toFixed(2)]})]}),!F.isDeleted&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("button",{onClick:()=>J(F.orderDetailId,-1),disabled:F.count===0,className:"p-1 rounded-lg bg-slate-100 dark:bg-slate-600 hover:bg-slate-200 dark:hover:bg-slate-500 disabled:opacity-30 disabled:cursor-not-allowed",children:r.jsx(ds,{className:"h-3 w-3"})}),r.jsx("span",{className:"text-sm font-medium min-w-[2rem] text-center",children:F.count}),r.jsx("button",{onClick:()=>J(F.orderDetailId,1),className:"p-1 rounded-lg bg-slate-100 dark:bg-slate-600 hover:bg-slate-200 dark:hover:bg-slate-500",children:r.jsx(Ut,{className:"h-3 w-3"})}),r.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["(",d("menu.cart.was")||"was",": ",F.originalCount,")"]})]}),r.jsx("input",{type:"text",value:F.editedNote,onChange:$=>ce(F.orderDetailId,$.target.value),placeholder:d("menu.cart.add_note")||"Add note...",className:"w-full px-2 py-1 text-xs border border-slate-200 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",maxLength:200})]}),F.isDeleted&&r.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:d("menu.cart.marked_for_deletion")||"Marked for deletion"})]}),r.jsx("button",{onClick:()=>F.isDeleted?K(F.orderDetailId):te(F.orderDetailId),className:`p-2 rounded-lg transition-colors ${F.isDeleted?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 hover:bg-green-200":"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-200"}`,title:F.isDeleted?d("menu.cart.restore_item")||"Restore item":d("menu.cart.delete_item")||"Delete item",children:F.isDeleted?r.jsx(cs,{className:"h-4 w-4"}):r.jsx(wr,{className:"h-4 w-4"})})]}),j.filter($=>$.parentOrderDetailId===F.orderDetailId).length>0&&r.jsx("div",{className:"pl-6 mt-3 space-y-2 border-l-2 border-slate-200 dark:border-slate-600 ml-2 pt-3",children:j.filter($=>$.parentOrderDetailId===F.orderDetailId).map($=>r.jsxs("div",{className:`relative ${$.isDeleted?"opacity-50":""}`,children:[r.jsx("div",{className:"absolute -left-[18px] top-2.5 h-px w-3 bg-slate-300 dark:bg-slate-500"}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:[$.productName,r.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:" (Addon)"})]}),r.jsxs("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:["$",($.price*($.count||0)).toFixed(2)]})]}),!$.isDeleted&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("button",{onClick:()=>J($.orderDetailId,-1),disabled:$.count===0,className:"p-1 rounded-lg bg-slate-100 dark:bg-slate-600 hover:bg-slate-200 dark:hover:bg-slate-500 disabled:opacity-30 disabled:cursor-not-allowed",children:r.jsx(ds,{className:"h-3 w-3"})}),r.jsx("span",{className:"text-sm font-medium min-w-[2rem] text-center",children:$.count}),r.jsx("button",{onClick:()=>J($.orderDetailId,1),className:"p-1 rounded-lg bg-slate-100 dark:bg-slate-600 hover:bg-slate-200 dark:hover:bg-slate-500",children:r.jsx(Ut,{className:"h-3 w-3"})}),r.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["(",d("menu.cart.was")||"was",": ",$.originalCount,")"]})]}),r.jsx("input",{type:"text",value:$.editedNote,onChange:q=>ce($.orderDetailId,q.target.value),placeholder:d("menu.cart.add_note")||"Add note...",className:"w-full px-2 py-1 text-xs border border-slate-200 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",maxLength:200})]}),$.isDeleted&&r.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:d("menu.cart.marked_for_deletion")||"Marked for deletion"})]}),r.jsx("button",{onClick:()=>$.isDeleted?K($.orderDetailId):te($.orderDetailId),className:`p-2 rounded-lg transition-colors ${$.isDeleted?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 hover:bg-green-200":"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-200"}`,title:$.isDeleted?d("menu.cart.restore_item")||"Restore item":d("menu.cart.delete_item")||"Delete item",children:$.isDeleted?r.jsx(cs,{className:"h-4 w-4"}):r.jsx(wr,{className:"h-4 w-4"})})]})]},$.orderDetailId))})]},F.orderDetailId))}),j.length===0&&r.jsx("div",{className:"text-center py-4 text-sm text-slate-500",children:"No items to edit"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-slate-700 dark:text-slate-300 mb-1",children:d("menu.cart.update_reason")||"Update Reason"}),r.jsx("textarea",{value:b,onChange:F=>v(F.target.value),placeholder:d("menu.cart.update_reason_placeholder")||"Why are you updating this order?",className:`w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg 
                  bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100
                  focus:outline-none focus:ring-2 focus:ring-blue-500`,rows:2,maxLength:500}),r.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[b.length,"/500 ",d("menu.cart.characters")||"characters"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:ne,disabled:h||!Y(),className:"flex-1 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 disabled:cursor-not-allowed text-white py-2 px-4 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2",children:h?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"h-4 w-4 animate-spin"}),d("menu.cart.updating")||"Updating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Oa,{className:"h-4 w-4"}),d("menu.cart.update_order")||"Update Order"]})}),r.jsx("button",{onClick:G,disabled:h,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-medium hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:r.jsx(xt,{className:"h-4 w-4"})})]})]})}),r.jsxs("div",{className:"p-4 space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:d("menu.cart.orderType")}),r.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:e.trackingInfo.orderTypeName})]}),e.trackingInfo.tableName&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:d("menu.cart.table")}),r.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:e.trackingInfo.tableName})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:d("menu.cart.total")}),r.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["$",e.trackingInfo.totalPrice.toFixed(2)]})]}),D&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:d("menu.cart.items")||"Items"}),r.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:D.itemCount})]}),e.trackingInfo.notes&&r.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-700 p-2 rounded",children:[r.jsx("strong",{children:d("menu.cart.notes")})," ",e.trackingInfo.notes]})]}),r.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 border-t border-slate-200 dark:border-slate-600 flex space-x-2",children:[ee&&!c&&r.jsxs("button",{onClick:V,disabled:h,className:"flex-1 bg-red-500 hover:bg-red-600 text-white py-2 px-3 rounded-lg text-xs font-medium transition-colors disabled:opacity-50 flex items-center justify-center gap-1",children:[h?r.jsx(mt,{className:"h-3 w-3 animate-spin"}):r.jsx(xt,{className:"h-3 w-3"}),d("menu.cart.cancel_order")||"Cancel Order"]}),E&&!c&&!ee&&r.jsx("button",{onClick:()=>s(e.orderTag),disabled:t||h,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-3 rounded-lg text-xs font-medium transition-colors disabled:opacity-50 flex items-center justify-center gap-1",children:t?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"h-3 w-3 animate-spin"}),d("menu.cart.refreshing")]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{className:"h-3 w-3"}),d("menu.cart.refresh")]})}),!c&&r.jsx("button",{onClick:()=>i(e.orderTag),disabled:h,className:"px-3 py-2 text-slate-600 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400 text-xs transition-colors disabled:opacity-50",children:d("menu.cart.remove")})]}),S.isOpen&&r.jsx($we,{title:S.title,message:S.message,onClose:()=>M({isOpen:!1,title:"",message:""})}),T.isOpen&&r.jsx(Fwe,{title:T.title,message:T.message,onClose:()=>A({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),onConfirm:T.onConfirm}),I.isOpen&&r.jsx(zwe,{title:I.title,message:I.message,onClose:()=>_({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),onConfirm:I.onConfirm,promptLabel:d("menu.cart.reason")||"Reason"})]})},$we=({title:e,message:t,onClose:a})=>r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-sm w-full",children:[r.jsx("div",{className:"p-4 border-b dark:border-slate-700",children:r.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:e})}),r.jsx("div",{className:"p-4",children:r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 whitespace-pre-wrap",children:t})}),r.jsx("div",{className:"p-4 flex justify-end bg-slate-50 dark:bg-slate-700/50 rounded-b-lg",children:r.jsx("button",{onClick:a,className:"px-4 py-2 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600",children:"OK"})})]})}),Fwe=({title:e,message:t,onClose:a,onConfirm:n})=>{const{t:s}=Ze();return r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-sm w-full",children:[r.jsx("div",{className:"p-4 border-b dark:border-slate-700",children:r.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:e})}),r.jsx("div",{className:"p-4",children:r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 whitespace-pre-wrap",children:t})}),r.jsxs("div",{className:"p-4 flex justify-end gap-2 bg-slate-50 dark:bg-slate-700/50 rounded-b-lg",children:[r.jsx("button",{onClick:a,className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-slate-200 rounded-lg text-sm font-medium hover:bg-slate-300 dark:hover:bg-slate-500",children:s("menu.cart.cancel")||"Cancel"}),r.jsx("button",{onClick:()=>{n(),a()},className:"px-4 py-2 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600",children:s("menu.cart.confirm")||"Confirm"})]})]})})},zwe=({title:e,message:t,onClose:a,onConfirm:n,promptLabel:s})=>{const[i,o]=p.useState(""),{t:l}=Ze();return r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-sm w-full",children:[r.jsx("div",{className:"p-4 border-b dark:border-slate-700",children:r.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:e})}),r.jsxs("div",{className:"p-4 space-y-3",children:[r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 whitespace-pre-wrap",children:t}),r.jsx("label",{className:"block text-xs font-medium text-slate-700 dark:text-slate-300",children:s||l("menu.cart.reason")||"Reason"}),r.jsx("textarea",{title:"value",value:i,onChange:d=>o(d.target.value),className:`w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg 
                bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100
                focus:outline-none focus:ring-2 focus:ring-blue-500`,rows:3,maxLength:500})]}),r.jsxs("div",{className:"p-4 flex justify-end gap-2 bg-slate-50 dark:bg-slate-700/50 rounded-b-lg",children:[r.jsx("button",{onClick:a,className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-slate-200 rounded-lg text-sm font-medium hover:bg-slate-300 dark:hover:bg-slate-500",children:l("menu.cart.cancel")||"Cancel"}),r.jsx("button",{onClick:()=>{n(i),a()},className:"px-4 py-2 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600",children:l("menu.cart.submit")||"Submit"})]})]})})},KF=({isVisible:e,restaurantName:t,whatsappNumber:a,onConfirm:n,onCancel:s,loading:i=!1})=>{const{t:o,isRTL:l}=Ze();if(!e)return null;const d=c=>{if(!c)return"";const g=c.replace(/\D/g,"");return g.startsWith("90")?`+90 ${g.slice(2,5)} ${g.slice(5,8)} ${g.slice(8,10)} ${g.slice(10,12)}`:`+${g}`};return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-2xl max-w-sm w-full border border-slate-200 dark:border-slate-700 overflow-hidden ${l?"text-right":"text-left"}`,children:[r.jsxs("div",{className:"bg-[#128C7E] px-4 py-3 flex items-center justify-between",children:[r.jsxs("div",{className:`flex items-center space-x-3 ${l?"space-x-reverse":""}`,children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:r.jsx(f2,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-white font-medium text-sm",children:t||o("whatsapp.confirmation.restaurant")}),r.jsx("p",{className:"text-white/80 text-xs",children:a?d(a):"WhatsApp Business"})]})]}),r.jsx("button",{onClick:s,disabled:i,className:"p-2 hover:bg-white/10 rounded-full transition-colors disabled:opacity-50",children:r.jsx(xt,{className:"w-4 h-4 text-white"})})]}),r.jsxs("div",{className:"bg-[#E5DDD5] dark:bg-slate-700 min-h-[400px] p-4 space-y-3",children:[r.jsx("div",{className:`flex ${l?"flex-row-reverse":""}`,children:r.jsxs("div",{className:"max-w-[85%]",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-600 rounded-lg p-3 shadow-sm",children:[r.jsx("p",{className:"text-sm text-slate-800 dark:text-slate-200 mb-1",children:o("whatsapp.confirmation.title")}),r.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:o("whatsapp.confirmation.subtitle")})]}),r.jsx("p",{className:"text-xs text-slate-500 mt-1 px-2",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),r.jsx("div",{className:`flex ${l?"flex-row-reverse":""}`,children:r.jsxs("div",{className:"max-w-[95%]",children:[r.jsx("div",{className:"bg-[#DCF8C6] dark:bg-green-900/30 rounded-lg p-4 shadow-sm"}),r.jsxs("div",{className:"flex items-center justify-end mt-1 px-2",children:[r.jsx(U5,{className:"w-3 h-3 text-blue-500 mr-1"}),r.jsx("p",{className:"text-xs text-slate-500",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})}),r.jsx("div",{className:`flex ${l?"flex-row-reverse":""}`,children:r.jsxs("div",{className:"max-w-[85%]",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-600 rounded-lg p-3 shadow-sm",children:[r.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-slate-200 mb-2",children:o("whatsapp.confirmation.whatWillBeSent")}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center text-xs text-slate-600 dark:text-slate-400",children:[r.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full mr-2"}),o("whatsapp.confirmation.orderDetails")]}),r.jsxs("div",{className:"flex items-center text-xs text-slate-600 dark:text-slate-400",children:[r.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full mr-2"}),o("whatsapp.confirmation.customerInfo")]}),r.jsxs("div",{className:"flex items-center text-xs text-slate-600 dark:text-slate-400",children:[r.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full mr-2"}),o("whatsapp.confirmation.totalPrice")]}),r.jsxs("div",{className:"flex items-center text-xs text-slate-600 dark:text-slate-400",children:[r.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full mr-2"}),o("whatsapp.confirmation.timestamp")]})]})]}),r.jsxs("div",{className:"flex items-center justify-end mt-1 px-2",children:[r.jsx(U5,{className:"w-3 h-3 text-blue-500 mr-1"}),r.jsx("p",{className:"text-xs text-slate-500",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})}),r.jsx("div",{className:`flex ${l?"flex-row-reverse":""}`,children:r.jsxs("div",{className:"max-w-[90%]",children:[r.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-xs text-yellow-800",children:"!"})}),r.jsxs("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:[r.jsx("strong",{children:o("whatsapp.confirmation.note")})," ",o("whatsapp.confirmation.noteDescription")]})]})}),r.jsx("p",{className:"text-xs text-slate-500 mt-1 px-2",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})]}),r.jsx("div",{className:"bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 p-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:s,disabled:i,className:"flex-1 px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-full transition-colors disabled:opacity-50",children:o("whatsapp.confirmation.skipWhatsApp")}),r.jsx("button",{onClick:n,disabled:i,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-[#25D366] hover:bg-[#22c55e] disabled:bg-[#25D366]/60 rounded-full transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r.jsx("span",{children:o("whatsapp.confirmation.sending")})]}):r.jsxs(r.Fragment,{children:[r.jsx(Oh,{className:"w-4 h-4"}),r.jsx("span",{children:o("whatsapp.confirmation.sendToWhatsApp")})]})})]})})]})})},Uwe=({isOpen:e,onClose:t,sessionId:a,tableId:n,onOrderCreated:s,restaurantPreferences:i})=>{const{t:o}=Ze(),[l,d]=p.useState([]),c=(Ke,et,bt)=>{const Rt=Math.random().toString(36).substr(2,9),Xt={id:Rt,type:Ke,message:et,duration:Ke==="loading"?0:Ke==="success"?4e3:5e3};return d(cr=>[...cr,Xt]),Rt},g=Ke=>{d(et=>et.filter(bt=>bt.id!==Ke))},h=(Ke,et,bt,Rt)=>{d(Xt=>Xt.map(cr=>cr.id===Ke?{...cr,type:et,message:bt,duration:et==="success"?4e3:5e3}:cr))},[x,b]=p.useState("cart"),[v,j]=p.useState([]),[w,S]=p.useState(0),[M,T]=p.useState(!1),[A,I]=p.useState(null),[_,D]=p.useState(null),[E,X]=p.useState(!1),[ee,Z]=p.useState(null),[B,G]=p.useState(!1),[J,ce]=p.useState([]),[te,K]=p.useState(!1),[Y,re]=p.useState([]),[ne,z]=p.useState(!1),[V,F]=p.useState({customerName:"",notes:"",orderTypeId:0,tableId:n,deliveryAddress:"",customerPhone:"",paymentMethod:""}),[$,q]=p.useState({baseAmount:0,serviceCharge:0,totalAmount:0}),[H,Q]=p.useState(0),[de,me]=p.useState([]),[je,fe]=p.useState(!1),[se,ie]=p.useState(null),[ue,le]=p.useState(!1),[xe,ze]=p.useState([]),[Le,ut]=p.useState(!1),{loadBasket:kt,clearBasket:qt,removeFromBasket:hr,handleQuantityIncrease:jr,handleQuantityDecrease:nt,handleAddonQuantityIncrease:rt,canIncreaseAddonQuantity:Pr,canDecreaseAddonQuantity:Ht,getAddonQuantityError:Wt,createOrder:ge,loadOrderTracking:ye,removeOrderFromTracking:Be,refreshAllPendingOrders:Qe,calculateItemTotalPrice:pt,getSelectedOrderType:Ce,sendOrderToWhatsApp:we,handlePriceChangeConfirmation:be,cleanupAfterOrder:Ie,handleExtraToggle:Se,handleExtraQuantityIncrease:_e,handleExtraQuantityDecrease:Ye}=Owe({cart:v,setCart:j,setLoading:T,setError:I,basketId:_,setBasketId:D,sessionId:a,orderForm:V,orderTypes:Y,totalPrice:w,trackedOrders:xe,setTrackedOrders:ze,onOrderCreated:s,setShowPriceChangeModal:fe,setPriceChanges:ie,setValidationErrors:me,setShowOrderForm:K,setOrderForm:F,tableId:n,restaurantPreferences:i,setPendingWhatsAppData:Z,setShowWhatsAppConfirmation:X});p.useEffect(()=>{console.log(" Cart State Updated:",{cartLength:v.length,items:v.map(Ke=>({name:Ke.productName,basketItemId:Ke.basketItemId,price:Ke.price,quantity:Ke.quantity,addons:Ke.addons?.length||0,extras:Ke.extras?.length||0,extrasDetails:Ke.extras?.map(et=>({name:et.extraName,unitPrice:et.unitPrice,quantity:et.quantity,isRemoval:et.isRemoval,subtotal:et.unitPrice*et.quantity}))}))})},[v]),p.useEffect(()=>{if(v.length===0){S(0);return}const Ke=v.reduce((et,bt,Rt)=>{const Xt=pt(bt);return et+Xt},0);S(Ke)},[v,pt]);const Ft=async()=>{let Ke=null;try{Ke=c("loading",o("menu.cart.creating_order")||"Creating order..."),await ge(),Ke?h(Ke,"success",o("menu.cart.order_created_success")||"Order created successfully!"):c("success",o("menu.cart.order_created_success")||"Order created successfully!"),b("orders")}catch(et){console.error("Error creating order:",et);const bt=et?.message||o("menu.cart.order_creation_failed")||"Failed to create order. Please try again.";Ke?h(Ke,"error",bt):c("error",bt)}},Tt=async()=>{if(!ee)return;let Ke=null;try{G(!0),Ke=c("loading",o("menu.cart.sending_whatsapp")||"Sending WhatsApp message..."),await we(ee),Ke?h(Ke,"success",o("menu.cart.whatsapp_sent_success")||"WhatsApp message sent successfully!"):c("success",o("menu.cart.whatsapp_sent_success")||"WhatsApp message sent successfully!")}catch(et){console.error("Error sending WhatsApp message:",et);const bt=o("menu.cart.whatsapp_send_failed")||"Failed to send WhatsApp message";Ke?h(Ke,"error",bt):c("error",bt)}finally{G(!1),X(!1),Z(null),Ie(),b("orders")}},nr=async()=>{try{if(xe.length===0){ce([]);return}const Ke=await kr.getUpdatableOrders();ce(Ke)}catch(Ke){console.error("Failed to fetch updatable orders:",Ke),ce([])}};p.useEffect(()=>{nr()},[xe]);const gr=()=>{X(!1),Z(null),G(!1),Ie(),b("orders")},sa=async()=>{let Ke=null;try{Ke=c("loading",o("menu.cart.clearing_basket")||"Clearing basket..."),await qt(),Ke?h(Ke,"success",o("menu.cart.basket_cleared")||"Basket cleared successfully!"):c("success",o("menu.cart.basket_cleared")||"Basket cleared successfully!")}catch{const bt=o("menu.cart.clear_basket_failed")||"Failed to clear basket";Ke?h(Ke,"error",bt):c("error",bt)}};p.useEffect(()=>{const Ke=localStorage.getItem("trackedOrders");if(Ke)try{const et=JSON.parse(Ke);ze(et.map(bt=>({...bt,createdAt:new Date(bt.createdAt)})))}catch(et){console.error("Error parsing saved orders:",et)}},[]),p.useEffect(()=>{xe.length>0&&localStorage.setItem("trackedOrders",JSON.stringify(xe))},[xe]),p.useEffect(()=>{let Ke=null;const et=xe.filter(bt=>bt.trackingInfo.orderStatus==="Pending");return x==="orders"&&et.length>0&&(Ke=setInterval(()=>{Qe(),nr()},15e3)),()=>{Ke&&clearInterval(Ke)}},[x,xe]),p.useEffect(()=>{te&&Y.length===0&&Ve()},[te]),p.useEffect(()=>{e&&x==="cart"&&kt()},[e,x]),p.useEffect(()=>{V.orderTypeId&&w>0&&St()},[V.orderTypeId,w]);const Ve=async()=>{try{z(!0),I(null);const Ke=await nu.getOrderTypesBySessionId();if(re(Ke),Ke.length>0&&V.orderTypeId===0){const et=Ke.find(bt=>bt.isStandard)||Ke[0];F(bt=>({...bt,orderTypeId:et.id}))}}catch(Ke){console.error(" Error loading order types:",Ke),I("Failed to load order types"),c("error",o("menu.cart.load_order_types_failed")||"Failed to load order types")}finally{z(!1)}},St=async()=>{try{const Ke=Ce();if(!Ke){q({baseAmount:w,serviceCharge:0,totalAmount:w}),Q(0);return}const et=Ke.serviceCharge||0,bt=w+et;q({baseAmount:w,serviceCharge:et,totalAmount:bt});const Rt=Ke.estimatedMinutes||0;Q(Rt)}catch(Ke){console.error("Error calculating order total:",Ke)}},wt=v.reduce((Ke,et,bt)=>{const Rt=Ke.find(gt=>gt.product.branchProductId===et.branchProductId),Xt=pt(et),cr={basketItemId:et.basketItemId,cartIndex:bt,quantity:et.quantity,addons:et.addons,extras:et.extras,totalItemPrice:Xt,isPlain:(!et.addons||et.addons.length===0)&&(!et.extras||et.extras.length===0)};return Rt?(Rt.variants.push(cr),Rt.totalQuantity+=et.quantity,Rt.totalPrice+=Xt):Ke.push({product:{branchProductId:et.branchProductId,productName:et.productName,price:et.price,productImageUrl:et.productImageUrl},variants:[cr],totalQuantity:et.quantity,totalPrice:Xt}),Ke},[]);return e?r.jsxs(r.Fragment,{children:[l.length>0&&r.jsx("div",{className:"fixed top-4 right-4 z-[60] space-y-2 max-w-sm",children:l.map(Ke=>r.jsx(US,{toast:Ke,onClose:g},Ke.id))}),r.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex justify-end",children:[r.jsxs("div",{className:"w-full max-w-md bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl h-full overflow-y-auto border-l border-slate-200/50 dark:border-slate-700/50 shadow-xl",children:[r.jsx("div",{className:"p-6 border-b border-slate-200/50 dark:border-slate-700/50 bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-bold text-white flex items-center ",children:[x==="cart"?r.jsx(Kn,{className:"h-4 w-4 mr-2 ml-2"}):r.jsx(mm,{className:"h-4 w-4 mr-2 ml-2"}),x==="cart"?te?"Order Form":o("menu.cart.title"):o("menu.cart.orders"),(M||ne||Le)&&r.jsx(mt,{className:"h-3 w-3 ml-2 animate-spin"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[v.length>0&&x==="cart"&&!te&&r.jsx("button",{onClick:sa,disabled:M,className:"p-2 hover:bg-white/20 rounded-lg transition-colors disabled:opacity-50",title:"Clear basket",children:r.jsx(wr,{className:"h-4 w-4 text-white"})}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:r.jsx(xt,{className:"h-4 w-4 text-white"})})]})]})}),r.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-slate-900/50",children:[r.jsx("button",{onClick:()=>{b("cart"),K(!1)},className:`flex-1 py-3 px-4 text-sm font-medium transition-colors ${x==="cart"?"text-orange-600 border-b-2 border-orange-600 bg-orange-50 dark:bg-orange-900/20 dark:text-orange-400":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(Kn,{className:"h-4 w-4"}),r.jsx("span",{children:o("menu.cart.newOrder")}),v.length>0&&r.jsx("span",{className:"bg-orange-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:v.length})]})}),r.jsx("button",{onClick:()=>{b("orders"),K(!1)},className:`flex-1 py-3 px-4 text-sm font-medium transition-colors ${x==="orders"?"text-orange-600 border-b-2 border-orange-600 bg-orange-50 dark:bg-orange-900/20 dark:text-orange-400":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(mm,{className:"h-4 w-4"}),r.jsx("span",{children:o("menu.cart.orders")}),xe.filter(Ke=>Ke.trackingInfo.orderStatus==="Pending").length>0&&r.jsx("span",{className:"bg-yellow-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:xe.filter(Ke=>Ke.trackingInfo.orderStatus==="Pending").length})]})})]}),r.jsxs("div",{className:"p-6",children:[A&&r.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:A})}),de.length>0&&r.jsxs("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:[r.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm font-medium mb-1",children:"Please fix the following errors:"}),r.jsx("ul",{className:"text-red-600 dark:text-red-400 text-xs list-disc list-inside",children:de.map((Ke,et)=>r.jsx("li",{children:Ke},et))})]}),x==="cart"?te?r.jsx(Ewe,{orderForm:V,setOrderForm:F,orderTypes:Y,loadingOrderTypes:ne,orderTotal:$,estimatedTime:H,totalPrice:w,validationErrors:de,loading:M,onBack:()=>K(!1),onCreate:Ft,paymentPreferences:i}):r.jsx(Bwe,{cart:v,groupedItems:wt,totalPrice:w,loading:M,onProceedToOrder:()=>K(!0),onQuantityIncrease:jr,onQuantityDecrease:nt,onAddonQuantityIncrease:rt,onRemoveFromBasket:hr,canIncreaseAddonQuantity:Pr,canDecreaseAddonQuantity:Ht,getAddonQuantityError:Wt,onExtraToggle:async(Ke,et,bt)=>{let Rt=null;try{Rt=c("loading","Updating extra..."),await Se(Ke,et,bt),Rt&&h(Rt,"success","Extra updated successfully!")}catch{Rt?h(Rt,"error","Failed to update extra"):c("error","Failed to update extra")}},onExtraQuantityIncrease:async(Ke,et)=>{let bt=null;try{bt=c("loading","Increasing quantity..."),await _e(Ke,et),bt&&h(bt,"success","Quantity increased!")}catch{bt?h(bt,"error","Failed to increase quantity"):c("error","Failed to increase quantity")}},onExtraQuantityDecrease:async(Ke,et)=>{let bt=null;try{bt=c("loading","Decreasing quantity..."),await Ye(Ke,et),bt&&h(bt,"success","Quantity decreased!")}catch{bt?h(bt,"error","Failed to decrease quantity"):c("error","Failed to decrease quantity")}}}):r.jsx(WF,{trackedOrders:xe,trackingLoading:Le,onLoadOrderTracking:ye,onRemoveOrderFromTracking:Be,updatableOrders:J,onRefreshUpdatableOrders:nr})]})]}),r.jsx(HF,{isVisible:je,priceChanges:se,confirmingPriceChanges:ue,onCancel:()=>{fe(!1),ie(null),T(!1)},onConfirm:be}),r.jsx(KF,{isVisible:E,restaurantName:i?.restaurantName||"Restaurant",whatsappNumber:i?.whatsappOrderNumber,onConfirm:Tt,onCancel:gr,loading:B})]})]}):null},qwe=({isOpen:e,product:t,onClose:a,onAddToCart:n})=>{const{t:s}=Ze(),[i,o]=p.useState([]),[l,d]=p.useState(new Map),[c,g]=p.useState(new Set),[h,x]=p.useState(new Map),[b,v]=p.useState(1);p.useEffect(()=>{if(t?.availableExtras&&Array.isArray(t.availableExtras)){const B=t.availableExtras.filter(G=>G!=null&&G.isRequired).map(G=>G.categoryId);g(new Set(B))}o([]),d(new Map),x(new Map),v(1)},[t]);const j=p.useMemo(()=>{if(!t)return 0;let B=(t.price||0)*b;const G=i.reduce((J,ce)=>J+(ce.price||0)*(ce.quantity||0),0)*b;return t.availableExtras&&Array.isArray(t.availableExtras)&&l.forEach((J,ce)=>{const te=t.availableExtras?.flatMap(K=>K?.extras||[]).find(K=>K&&K.branchProductExtraId===ce);te&&!te.isRemoval&&(B+=(te.finalPrice||te.unitPrice||0)*J*b)}),B+G},[t,i,l,b]),w=t?.availableExtras&&Array.isArray(t.availableExtras)&&t.availableExtras.length>0,S=B=>{try{const G=`allergens.${B.code}.name`,J=`allergens.${B.code}.description`,ce=s(G),te=s(J);return{name:ce===G?B.name:ce,description:te===J?B.description:te}}catch{return{name:B.name||"",description:B.description||""}}},M=(B,G)=>{B&&o(J=>{const ce=J.findIndex(K=>K.branchProductAddonId===B.branchProductAddonId);if(G===0)return J.filter(K=>K.branchProductAddonId!==B.branchProductAddonId);const te=Math.max(B.minQuantity||0,Math.min(B.maxQuantity||999,G));return ce>=0?J.map((K,Y)=>Y===ce?{...K,quantity:te}:K):[...J,{branchProductAddonId:B.branchProductAddonId,addonName:B.addonName||"",price:B.price||0,quantity:te}]})},T=B=>{if(!B)return;const G=Math.max(1,B.minQuantity||1);M(B,G)},A=(B,G)=>{if(!B)return;const J=B.minQuantity||1,ce=G-1;ce<J?M(B,0):M(B,ce)},I=(B,G)=>{if(!B)return;const J=B.maxQuantity||999,ce=Math.min(J,G+1);M(B,ce)},_=B=>i.find(J=>J.branchProductAddonId===B)?.quantity||0,D=(B,G,J)=>{if(!J)return;const ce=l.get(B)||0,te=J.maxQuantity||10,K=J.minQuantity||0;let Y=ce+G;J.isRemoval?Y=Y>0?1:0:Y=Math.max(K,Math.min(Y,te));const re=new Map(l);Y===0?re.delete(B):re.set(B,Y),d(re)},E=()=>{if(!t||!w||!t.availableExtras)return!0;const B=new Map;return t.availableExtras.forEach(G=>{if(!G||!Array.isArray(G.extras))return;const J=G.extras.filter(Y=>Y&&l.has(Y.branchProductExtraId)),ce=J.length,te=J.reduce((Y,re)=>Y+(l.get(re.branchProductExtraId)||0),0);if(G.isRequired&&ce===0){B.set(G.categoryId,s("productModal.categoryRequired",{name:G.categoryName}));return}if(G.isRequired||ce>0){if(G.minSelectionCount>0&&ce<G.minSelectionCount){const Y=G.extras.length;Y<G.minSelectionCount?B.set(G.categoryId,s("productModal.cannotSatisfyError",{name:G.categoryName,min:G.minSelectionCount,available:Y})):B.set(G.categoryId,s("productModal.minSelectionError",{min:G.minSelectionCount,name:G.categoryName}))}G.maxSelectionCount>0&&ce>G.maxSelectionCount&&B.set(G.categoryId,s("productModal.maxSelectionError",{max:G.maxSelectionCount,name:G.categoryName})),G.minTotalQuantity>0&&te<G.minTotalQuantity&&B.set(G.categoryId,s("productModal.minTotalError",{name:G.categoryName,min:G.minTotalQuantity,current:te})),G.maxTotalQuantity>0&&te>G.maxTotalQuantity&&B.set(G.categoryId,s("productModal.maxTotalError",{name:G.categoryName,max:G.maxTotalQuantity,current:te}))}G.extras.forEach(Y=>{Y&&Y.isRequired&&!l.has(Y.branchProductExtraId)&&B.set(G.categoryId,s("productModal.extraRequired",{name:Y.extraName||""}))})}),x(B),B.size===0},X=B=>{if(!B||!Array.isArray(B.extras))return"partial";const G=B.extras.filter(te=>te&&l.has(te.branchProductExtraId)),J=G.length,ce=G.reduce((te,K)=>te+(l.get(K.branchProductExtraId)||0),0);if(h.has(B.categoryId)||B.isRequired&&J===0)return"invalid";if(!B.isRequired&&J===0)return"partial";if(J>0){const te=B.minSelectionCount>0&&J<B.minSelectionCount,K=B.maxSelectionCount>0&&J>B.maxSelectionCount,Y=B.minTotalQuantity>0&&ce<B.minTotalQuantity,re=B.maxTotalQuantity>0&&ce>B.maxTotalQuantity;return te||K||Y||re?"invalid":"valid"}return"partial"},ee=B=>{g(G=>{const J=new Set(G);return J.has(B)?J.delete(B):J.add(B),J})},Z=()=>{if(!t||!E())return;const B=[];t.availableExtras&&Array.isArray(t.availableExtras)&&l.forEach((G,J)=>{const ce=t.availableExtras?.flatMap(te=>te?.extras||[]).find(te=>te&&te.branchProductExtraId===J);ce&&B.push({branchProductExtraId:ce.branchProductExtraId,productExtraId:ce.productExtraId,extraId:ce.extraId,extraName:ce.extraName||"",categoryName:ce.categoryName||"",selectionMode:ce.selectionMode||0,unitPrice:ce.unitPrice||0,finalPrice:ce.finalPrice||0,isRequired:ce.isRequired||!1,quantity:G,isRemoval:ce.isRemoval||!1,isRemovalAllowed:ce.isRemovalAllowed||!1,displayOrder:ce.displayOrder||0,minQuantity:ce.minQuantity,maxQuantity:ce.maxQuantity})}),n(t,i,B),o([]),d(new Map),x(new Map),v(1),a()};return!e||!t?null:r.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-slate-200/50 dark:border-slate-700/50",children:[r.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 p-6 border-b border-slate-200/50 dark:border-slate-700/50 z-10",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:s("productModal.customizeOrder")}),r.jsx("button",{onClick:a,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:r.jsx(xt,{className:"h-5 w-5 text-white"})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex space-x-4 mb-6 p-4 bg-slate-50/50 dark:bg-slate-800/50 rounded-xl",children:[t.productImageUrl&&r.jsx("img",{src:t.productImageUrl,alt:t.productName||"",className:"w-20 h-20 object-cover ml-2 rounded-lg shadow-md"}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-1",children:t.productName||""}),t.productDescription&&r.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mb-2",children:t.productDescription}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-lg font-bold bg-gradient-to-r from-orange-600 to-pink-500 bg-clip-text text-transparent",children:["$",(t.price||0).toFixed(2)]}),t.isRecommended&&r.jsxs("span",{className:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 text-xs px-2 py-1 rounded-full flex items-center",children:[r.jsx(BO,{className:"h-2 w-2 mr-1"}),s("productModal.recommended")]})]})]})})})]}),t.allergens&&Array.isArray(t.allergens)&&t.allergens.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:s("productModal.allergenInformation")}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.allergens.map(B=>{if(!B)return null;const G=S(B);return r.jsxs("span",{className:"inline-flex items-center text-xs bg-amber-100/80 dark:bg-amber-900/30 text-amber-800 dark:text-amber-200 px-2 py-1 rounded-full border border-amber-200/50 dark:border-amber-800/50 cursor-help",title:`${G.name} - ${G.description}`,children:[r.jsx("span",{className:"mr-1",children:B.icon}),G.name]},B.id)})})]}),t.ingredients&&Array.isArray(t.ingredients)&&t.ingredients.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 flex items-center",children:[r.jsx(nl,{className:"h-3 w-3 mr-1 text-orange-500"}),s("productModal.ingredients")]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.ingredients.map(B=>B?r.jsx("span",{className:"text-xs bg-emerald-100/80 dark:bg-emerald-900/30 text-emerald-800 dark:text-emerald-200 px-2 py-1 rounded-full",children:B.ingredientName||""},B.ingredientId):null)})]}),t.availableAddons&&Array.isArray(t.availableAddons)&&t.availableAddons.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4",children:s("productModal.availableAddons")}),r.jsx("div",{className:"space-y-3",children:t.availableAddons.map(B=>{if(!B)return null;const G=_(B.branchProductAddonId);B.minQuantity;const J=B.maxQuantity||999;return r.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50/50 dark:bg-slate-800/50 rounded-xl border border-slate-200/50 dark:border-slate-700/50",children:[r.jsxs("div",{className:"flex space-x-3 flex-1",children:[B.addonImageUrl&&r.jsx("img",{src:B.addonImageUrl,alt:B.addonName||"",className:"w-12 h-12 object-cover rounded-lg shadow-sm"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-slate-800 dark:text-slate-100 text-sm",children:B.addonName||""}),B.addonDescription&&r.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-xs mt-1",children:B.addonDescription}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[r.jsxs("span",{className:"text-sm font-bold text-orange-600",children:["+$",(B.price||0).toFixed(2)]}),B.isRecommended&&r.jsx("span",{className:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 text-xs px-1.5 py-0.5 rounded-full",children:s("productModal.recommended")})]}),(B.minQuantity>1||B.maxQuantity&&B.maxQuantity<999)&&r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[B.minQuantity>1&&r.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-1.5 py-0.5 rounded-full",children:[s("productModal.min"),": ",B.minQuantity]}),B.maxQuantity&&B.maxQuantity<999&&r.jsxs("span",{className:"text-xs text-purple-600 dark:text-purple-400 bg-purple-100 dark:bg-purple-900/30 px-1.5 py-0.5 rounded-full",children:[s("productModal.max"),": ",B.maxQuantity]})]})]})}),B.allergens&&Array.isArray(B.allergens)&&B.allergens.length>0&&r.jsx("div",{className:"mt-2",children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[B.allergens.slice(0,3).map(ce=>{if(!ce)return null;const te=S(ce);return r.jsxs("span",{className:"text-xs bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 px-1.5 py-0.5 rounded-full cursor-help inline-flex items-center",title:`${te.name} - ${te.description}`,children:[r.jsx("span",{className:"mr-0.5",children:ce.icon}),te.name]},ce.id)}),B.allergens.length>3&&r.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded-full cursor-help",title:B.allergens.slice(3).map(ce=>ce?S(ce).name:"").join(", "),children:["+",B.allergens.length-3]})]})})]})]}),r.jsx("div",{className:"flex items-center space-x-2 ml-4",children:G>0?r.jsxs("div",{className:"flex items-center space-x-2 bg-white dark:bg-slate-700 rounded-lg p-1 border border-slate-200 dark:border-slate-600",children:[r.jsx("button",{onClick:()=>A(B,G),className:"w-7 h-7 bg-red-500 hover:bg-red-600 text-white rounded-md flex items-center justify-center transition-colors",children:r.jsx(ds,{className:"h-3 w-3"})}),r.jsx("span",{className:"w-6 text-center font-bold text-sm text-slate-800 dark:text-slate-100",children:G}),r.jsx("button",{onClick:()=>I(B,G),className:`w-7 h-7 ${G>=J?"bg-gray-400 cursor-not-allowed":"bg-orange-500 hover:bg-orange-600"} text-white rounded-md flex items-center justify-center transition-colors`,disabled:G>=J,children:r.jsx(Ut,{className:"h-3 w-3"})})]}):r.jsxs("button",{onClick:()=>T(B),className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1.5 rounded-lg transition-colors text-sm font-semibold flex items-center space-x-1",children:[r.jsx(Ut,{className:"h-3 w-3"}),r.jsxs("span",{children:[s("productModal.add")," ",B.minQuantity>1?`(${B.minQuantity})`:""]})]})})]},B.branchProductAddonId)})})]}),w&&t.availableExtras&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(hu,{className:"h-5 w-5 text-blue-500"}),r.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:s("productModal.extras")})]}),r.jsx("div",{className:"space-y-3",children:t.availableExtras.map(B=>{if(!B)return null;const G=c.has(B.categoryId),J=X(B),ce=h.get(B.categoryId),te=(B.extras||[]).filter(re=>re&&l.has(re.branchProductExtraId)),K=te.length,Y=te.reduce((re,ne)=>re+(l.get(ne.branchProductExtraId)||0),0);return r.jsxs("div",{className:`rounded-xl border-2 overflow-hidden transition-all duration-300 ${J==="valid"?"border-green-500 bg-green-50/50 dark:bg-green-900/10":J==="invalid"?"border-red-500 bg-red-50/50 dark:bg-red-900/10":"border-slate-200 dark:border-slate-700 bg-slate-50/30 dark:bg-slate-800/30"}`,children:[r.jsxs("button",{onClick:()=>ee(B.categoryId),className:"w-full p-4 flex items-center justify-between hover:bg-slate-100/50 dark:hover:bg-slate-700/30 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${J==="valid"?"bg-green-500":J==="invalid"?"bg-red-500":"bg-slate-300 dark:bg-slate-600"}`,children:J==="valid"?r.jsx(Wl,{className:"h-5 w-5 text-white"}):J==="invalid"?r.jsx(Nt,{className:"h-5 w-5 text-white"}):r.jsx(bn,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{className:"text-left",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h5",{className:"font-bold text-slate-900 dark:text-white text-sm",children:B.categoryName||""}),B.isRequired&&r.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 px-2 py-0.5 rounded-full font-bold",children:s("productModal.required")})]}),r.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[K>0&&r.jsxs("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:[K," ",s("productModal.selected")]}),(B.minSelectionCount>0||B.maxSelectionCount>0)&&r.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:B.minSelectionCount>0&&B.maxSelectionCount>0?`${s("productModal.select")} ${B.minSelectionCount}-${B.maxSelectionCount}`:B.minSelectionCount>0?`${s("productModal.minSelect")} ${B.minSelectionCount}`:`${s("productModal.maxSelect")} ${B.maxSelectionCount}`}),(B.minTotalQuantity>0||B.maxTotalQuantity>0)&&r.jsxs("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:["(",s("productModal.qty"),": ",Y,B.minTotalQuantity>0&&B.maxTotalQuantity>0?`/${B.minTotalQuantity}-${B.maxTotalQuantity}`:B.minTotalQuantity>0?`/${B.minTotalQuantity}+`:B.maxTotalQuantity>0?`/${B.maxTotalQuantity}`:"",")"]})]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:G?r.jsx(Hn,{className:"h-5 w-5 text-slate-600 dark:text-slate-400"}):r.jsx(Rr,{className:"h-5 w-5 text-slate-600 dark:text-slate-400"})})]}),ce&&r.jsx("div",{className:"px-4 pb-2",children:r.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900/30 px-3 py-2 rounded-lg",children:[r.jsx(Nt,{className:"h-4 w-4 flex-shrink-0"}),r.jsx("span",{children:ce})]})}),G&&B.extras&&Array.isArray(B.extras)&&r.jsx("div",{className:"p-4 pt-0 space-y-3",children:B.extras.filter(re=>re!=null).sort((re,ne)=>(re.displayOrder||0)-(ne.displayOrder||0)).map(re=>{const ne=l.get(re.branchProductExtraId)||0,z=re.finalPrice||re.unitPrice||0,V=ne>0;return r.jsxs("div",{className:`p-3 rounded-lg border transition-all duration-300 ${V?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/20":"border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h6",{className:"font-semibold text-slate-900 dark:text-white text-sm",children:re.extraName||""}),re.isRequired&&r.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 px-1.5 py-0.5 rounded-full font-bold",children:"*"}),re.isRemoval&&r.jsx("span",{className:"text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 px-1.5 py-0.5 rounded-full font-bold",children:s("productModal.removal")})]}),!re.isRemoval&&r.jsxs("div",{className:"text-sm font-bold text-blue-600 dark:text-blue-400",children:["+$",z.toFixed(2)]})]}),r.jsx("div",{className:"flex items-center gap-2 ml-4",children:re.isRemoval?r.jsxs("button",{onClick:()=>D(re.branchProductExtraId,V?-1:1,re),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg font-semibold text-xs transition-all ${V?"bg-blue-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300"}`,children:[V&&r.jsx(_r,{className:"h-3 w-3"}),s(V?"productModal.removed":"productModal.remove")]}):r.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-700 rounded-lg p-1 border border-slate-200 dark:border-slate-600",children:[r.jsx("button",{onClick:()=>D(re.branchProductExtraId,-1,re),disabled:ne===0,className:"w-7 h-7 bg-red-500 hover:bg-red-600 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-md flex items-center justify-center transition-colors",children:r.jsx(ds,{className:"h-3 w-3"})}),r.jsx("span",{className:"w-6 text-center font-bold text-sm text-slate-800 dark:text-slate-100",children:ne}),r.jsx("button",{onClick:()=>D(re.branchProductExtraId,1,re),disabled:ne>=(re.maxQuantity||10),className:"w-7 h-7 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-md flex items-center justify-center transition-colors",children:r.jsx(Ut,{className:"h-3 w-3"})})]})})]}),!re.isRemoval&&((re.minQuantity??0)>0||(re.maxQuantity??0)>0)&&r.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[(re.minQuantity??0)>0&&r.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-1.5 py-0.5 rounded-full",children:[s("productModal.min"),": ",re.minQuantity??0]}),(re.maxQuantity??0)>0&&r.jsxs("span",{className:"text-xs text-purple-600 dark:text-purple-400 bg-purple-100 dark:bg-purple-900/30 px-1.5 py-0.5 rounded-full",children:[s("productModal.max"),": ",re.maxQuantity??0]})]})]},re.branchProductExtraId)})})]},B.categoryId)})})]}),r.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 p-4 rounded-xl mb-4",children:[r.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-100 mb-3",children:s("productModal.orderSummary")}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[t.productName||"","  ",b]}),r.jsxs("span",{className:"font-semibold text-slate-800 dark:text-slate-100",children:["$",((t.price||0)*b).toFixed(2)]})]}),i.map(B=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[B.addonName,"  ",B.quantity*b]}),r.jsxs("span",{className:"font-semibold text-slate-800 dark:text-slate-100",children:["+$",((B.price||0)*B.quantity*b).toFixed(2)]})]},B.branchProductAddonId)),Array.from(l.entries()).map(([B,G])=>{const J=t.availableExtras?.flatMap(ce=>ce?.extras||[]).find(ce=>ce&&ce.branchProductExtraId===B);return!J||J.isRemoval?null:r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[J.extraName||"","  ",G*b]}),r.jsxs("span",{className:"font-semibold text-slate-800 dark:text-slate-100",children:["+$",((J.finalPrice||J.unitPrice||0)*G*b).toFixed(2)]})]},B)}),r.jsx("div",{className:"border-t border-slate-300 dark:border-slate-600 pt-2 mt-3",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:s("productModal.total")}),r.jsxs("span",{className:"font-bold text-xl bg-gradient-to-r from-orange-600 to-pink-500 bg-clip-text text-transparent",children:["$",j.toFixed(2)]})]})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("span",{className:"text-sm font-semibold ml-2 text-slate-700 dark:text-slate-300",children:[s("productModal.quantity"),":"]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>v(Math.max(1,b-1)),className:"w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-md flex items-center justify-center transition-colors",children:r.jsx(ds,{className:"h-3 w-3"})}),r.jsx("span",{className:"w-8 text-center font-bold text-slate-800 dark:text-slate-100",children:b}),r.jsx("button",{onClick:()=>v(b+1),className:"w-8 h-8 bg-orange-500 hover:bg-orange-600 text-white rounded-md flex items-center justify-center transition-colors",children:r.jsx(Ut,{className:"h-3 w-3"})})]})]}),r.jsxs("button",{onClick:Z,className:"bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 hover:from-orange-600 hover:via-orange-700 hover:to-pink-600 text-white px-6 py-3 rounded-xl font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center space-x-2",children:[r.jsx(Kn,{className:"h-4 w-4"}),r.jsx("span",{children:s("productModal.addToCart")})]})]})]})]})]})})},Vwe=({branchId:e})=>{const{t,isRTL:a}=Ze(),[n,s]=p.useState(null),[i,o]=p.useState(!0),[l,d]=p.useState(null),[c,g]=p.useState(null),[h,x]=p.useState(""),[b,v]=p.useState(!1),[j,w]=p.useState(new Set),[S,M]=p.useState(0),[T,A]=p.useState(null),[I,_]=p.useState(!1),[D,E]=p.useState(null),X=F=>{const $=new Map;return F.forEach(q=>{const H=$.get(q.categoryId);H?H.products.push(...q.products):$.set(q.categoryId,{categoryId:q.categoryId,categoryName:q.categoryName,displayOrder:q.displayOrder,products:[...q.products]})}),Array.from($.values()).sort((q,H)=>q.displayOrder-H.displayOrder)},ee=p.useCallback(async()=>{try{const F=await za.getMyBasket(),$=F.items.reduce((q,H)=>q+H.quantity,0);M($),A(F.basketId)}catch{M(0),A(null)}},[]);p.useEffect(()=>{e&&(Z(),ee())},[e,ee]);const Z=async()=>{try{o(!0),d(null);const F=await Yo.getBranchMenu(e,["ingredients","allergens","availableAddons","availableExtras"]);if(Array.isArray(F)){d("Menu format not supported yet. Please update the service.");return}const $=F;if($.categories){const q=X($.categories),H={...$,categories:q};s(H),q.length>0&&g(q[0].categoryId)}else s($)}catch(F){console.error("Error fetching menu data:",F),d("Unable to load menu. Please try again.")}finally{o(!1)}},B=async(F,$=[],q=[])=>{try{const H={branchProductId:F.branchProductId,quantity:1};q.length>0&&(H.extras=q.map(de=>{const me={branchProductExtraId:de.branchProductExtraId,extraId:de.extraId,isRemoval:de.isRemoval};return de.isRemoval||(me.quantity=de.quantity),me}));const Q=await za.addUnifiedItemToMyBasket(H);if(Q.basketItemId&&$.length>0){const de=$.map(me=>({branchProductId:F.availableAddons?.find(fe=>fe.branchProductAddonId===me.branchProductAddonId)?.addonBranchProductId||me.branchProductAddonId,quantity:me.quantity,parentBasketItemId:Q.basketItemId}));de.length>0&&await za.batchAddItemsToMyBasket(de)}await ee()}catch(H){console.error(" Error adding to basket:",H),H.response&&d(H.response.data)}},G=async F=>{try{const $=await za.getMyBasket(),q=$.items.find(H=>H.branchProductId===F&&(!H.addonItems||H.addonItems.length===0));q&&(q.quantity>1?await za.updateMyBasketItem(q.basketItemId,{basketItemId:q.basketItemId,basketId:$.basketId,branchProductId:q.branchProductId,quantity:q.quantity-1}):await za.deleteMyBasketItem(q.basketItemId),await ee())}catch($){console.error("Error removing from basket:",$)}},J=p.useCallback(async F=>{try{return(await za.getMyBasket()).items.filter(q=>q.branchProductId===F&&!q.isAddon).reduce((q,H)=>q+H.quantity,0)}catch{return 0}},[]),ce=F=>{w($=>{const q=new Set($);return q.has(F)?q.delete(F):q.add(F),q})},te=F=>{if(n?.categories)return n.categories.flatMap($=>$.products).find($=>$.branchProductId===F)},K=()=>n?.categories?n.categories.filter(F=>F.categoryName.toLowerCase().includes(h.toLowerCase())||F.products.some($=>$.productName.toLowerCase().includes(h.toLowerCase()))).sort((F,$)=>F.displayOrder-$.displayOrder):[],Y=async F=>{re(F)},re=F=>{E(F),_(!0)},ne=async(F,$,q)=>{await B(F,$,q),_(!1),E(null)},z=async()=>{b||await ee(),v(!b)};if(i)return r.jsx(Iwe,{});if(l)return r.jsx(Awe,{error:l});if(!n)return null;const V=K();return r.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800 ${a?"rtl":"ltr"}`,children:[r.jsx(FF,{menuData:n,totalItems:S,onCartToggle:z}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[r.jsx(zF,{searchTerm:h,onSearchChange:x}),r.jsxs("div",{className:"flex flex-col gap-6 mt-4",children:[r.jsx(UF,{categories:V,selectedCategory:c,onCategorySelect:g}),r.jsx("div",{className:"w-full",children:r.jsx(VF,{categories:V,selectedCategory:c,searchTerm:h,cart:[],favorites:j,onAddToCart:Y,onRemoveFromCart:G,onToggleFavorite:ce,onCategorySelect:g,restaurantName:n.restaurantName,onCustomize:re,getCartItemQuantity:J})})]})]}),r.jsx(Uwe,{isOpen:b,onClose:()=>v(!1),findProduct:te,sessionId:T||"",restaurantPreferences:n.preferences}),r.jsx(qwe,{isOpen:I,product:D,onClose:()=>{_(!1),E(null)},onAddToCart:ne}),r.jsx(qF,{})]})},Hwe=()=>{const{qrToken:e}=n_(),{language:t,t:a}=Ze(),[n,s]=p.useState(!0),[i,o]=p.useState(null),[l,d]=p.useState(null),[c,g]=p.useState(null),[h,x]=p.useState(!1),[b,v]=p.useState(!1),j=p.useRef(!1),w=t==="ar";return console.log("branchData",l),p.useEffect(()=>{if(j.current)return;j.current=!0,(async()=>{if(e){s(!0),g(null);try{const T=(await he.get(`/api/table/qr/${e}`)).data;if(!T.valid){g(T.message),s(!1);return}o(T);try{const Z=await Yo.getBranchMenu(T.branchId,[]);d(Z)}catch(ee){console.error("Failed to fetch branch info for QR landing page",ee)}const _=(await(await Pwe.load()).get()).visitorId,D=t;let E=localStorage.getItem("customerIdentifier");E||(E=Mwe(),localStorage.setItem("customerIdentifier",E));const X=await he.post("/api/session/start",{qrToken:e,deviceFingerprint:_,preferredLanguage:D,customerIdentifier:E});if(X.status===200){const ee=X.data;localStorage.setItem("customerSessionToken",ee.sessionToken),x(!0)}else if(X.status===404)g(a("tableQR.error.sessionFeatureComingSoon"));else{const ee=X.data;g(ee.message||a("tableQR.error.sessionStartFailed"))}}catch(M){console.error("TableQR error:",M),M?.response?.status===404?g(a("tableQR.error.sessionFeatureComingSoon")):g(M?.response?.data?.message||a("tableQR.error.sessionStartFailed"))}finally{s(!1)}}})()},[e,t,a]),n?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",dir:w?"rtl":"ltr",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl border border-gray-100 dark:border-gray-700 p-8 max-w-md w-full text-center",children:r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4",children:r.jsx(Jo,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),r.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 dark:text-blue-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:a("tableQR.loading.validatingQR")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a("tableQR.loading.fetchingTableInfo")})]})})}):c?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",dir:w?"rtl":"ltr",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl border border-gray-100 dark:border-gray-700 p-8 max-w-md w-full text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-6",children:r.jsx(ya,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:a("tableQR.error.title")}),r.jsx("p",{className:"text-red-600 dark:text-red-400 mb-6 bg-red-50 dark:bg-red-900/20 p-4 rounded-xl border border-red-200 dark:border-red-800",children:c}),r.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gradient-to-r from-red-500 to-red-600 text-white py-3 px-6 rounded-xl font-medium hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:a("tableQR.error.tryAgain")})]})}):i?b?r.jsx(Vwe,{branchId:i.branchId}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",dir:w?"rtl":"ltr",children:[r.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:`flex items-center ${w?"space-x-reverse space-x-3":"space-x-3"}`,children:[l?.logo?r.jsx("div",{className:"w-10 h-10 relative rounded-xl overflow-hidden shadow-sm border border-gray-200 dark:border-gray-700",children:r.jsx("img",{src:l.logo,alt:"Branch Logo",className:"w-full h-full object-cover"})}):r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:r.jsx(nl,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:l?.restaurantName||a("tableQR.header.title")}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:l?.branchName||a("tableQR.header.subtitle")})]})]}),r.jsxs("div",{className:`flex items-center ${w?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsxs("div",{className:`flex items-center ${w?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:a("tableQR.header.active")})]}),r.jsx(ub,{})]})]})})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden mb-8",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 p-8 text-white text-center",children:[l?.preferences?.logo?r.jsx("div",{className:"mx-auto w-24 h-24 bg-white rounded-2xl flex items-center justify-center mb-4 shadow-lg overflow-hidden p-1",children:r.jsx("img",{src:l.preferences.logo,alt:"Branch Logo",className:"w-full h-full object-cover rounded-xl"})}):r.jsx("div",{className:"mx-auto w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mb-4 backdrop-blur-sm",children:r.jsx(Qr,{className:"h-10 w-10"})}),r.jsx("h2",{className:"text-3xl font-bold mb-2",children:l?`${a("tableQR.welcome.greeting")} ${l.branchName}`:a("tableQR.welcome.greeting")}),r.jsx("p",{className:"text-blue-100 text-lg",children:w?`${a("tableQR.welcome.connectedToTable")} ${i.tableName}`:`${a("tableQR.welcome.connectedToTable")} ${i.tableName}`})]}),r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"text-center p-6 bg-gray-50 dark:bg-gray-700/50 rounded-2xl",children:[r.jsx("div",{className:`mx-auto w-12 h-12 rounded-full flex items-center justify-center mb-4 ${i.isOccupied?"bg-red-100 dark:bg-red-900/30":"bg-green-100 dark:bg-green-900/30"}`,children:i.isOccupied?r.jsx(Ga,{className:"h-6 w-6 text-red-600 dark:text-red-400"}):r.jsx(tr,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:a("tableQR.welcome.tableStatus")}),r.jsx("p",{className:`font-medium ${i.isOccupied?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:i.isOccupied?a("tableQR.welcome.occupied"):a("tableQR.welcome.available")})]}),r.jsxs("div",{className:"text-center p-6 bg-gray-50 dark:bg-gray-700/50 rounded-2xl",children:[r.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4",children:r.jsx($r,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:a("tableQR.welcome.capacity")}),r.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[i.capacity," ",i.capacity===1?a("tableQR.welcome.person"):a("tableQR.welcome.people")]})]}),r.jsxs("div",{className:"text-center p-6 bg-gray-50 dark:bg-gray-700/50 rounded-2xl",children:[r.jsx("div",{className:`mx-auto w-12 h-12 rounded-full flex items-center justify-center mb-4 ${h?"bg-green-100 dark:bg-green-900/30":"bg-orange-100 dark:bg-orange-900/30"}`,children:h?r.jsx(y2,{className:"h-6 w-6 text-green-600 dark:text-green-400"}):r.jsx(Or,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:a("tableQR.welcome.session")}),r.jsx("p",{className:`font-medium ${h?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"}`,children:a(h?"tableQR.welcome.sessionActive":"tableQR.welcome.sessionPending")})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[r.jsxs("button",{onClick:()=>v(!0),className:`bg-gradient-to-r from-green-500 to-green-600 text-white py-4 px-6 rounded-2xl font-semibold hover:from-green-600 hover:to-green-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center ${w?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(nl,{className:"h-5 w-5"}),r.jsx("span",{children:a("tableQR.actions.viewMenu")})]}),r.jsxs("button",{className:`bg-white dark:bg-gray-800 text-gray-900 dark:text-white py-4 px-6 rounded-2xl font-semibold border-2 border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-600 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center ${w?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(eu,{className:"h-5 w-5"}),r.jsx("span",{children:a("tableQR.actions.callWaiter")})]})]}),r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:`inline-flex items-center bg-white dark:bg-gray-800 px-6 py-3 rounded-full shadow-lg border border-gray-200 dark:border-gray-700 ${w?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(Jo,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("tableQR.footer.connectedViaQR")})]})})]})]}):null},Wwe=({basket:e,onBasketUpdate:t,menuData:a,currency:n="TRY"})=>{const[s,i]=p.useState(null),[o,l]=p.useState(null),[d,c]=p.useState(!1),[g,h]=p.useState(null),[x,b]=p.useState(null),[v,j]=p.useState(new Set),[w,S]=p.useState([]),[M,T]=p.useState(null),[A,I]=p.useState(!1),[_,D]=p.useState(null),[E,X]=p.useState(""),[ee,Z]=p.useState(""),[B,G]=p.useState(""),[J,ce]=p.useState(""),[te,K]=p.useState(""),[Y,re]=p.useState(""),[ne,z]=p.useState({}),[V,F]=p.useState(!1),[$,q]=p.useState(null),[H,Q]=p.useState([]),de=e?.items||e?.basketItems||[],me=e?.itemCount||de.length,je=e?.total||e?.totalPrice||0,fe=e?.subtotal||e?.productTotal||e?.totalPrice||0,se=e?.tax||0,ie=p.useCallback((we,be,Ie)=>{const Se=Math.random().toString(36).substring(7);return Q(_e=>[..._e,{id:Se,message:we,type:be,duration:Ie||(be==="loading"?0:3e3)}]),Se},[]),ue=p.useCallback(we=>{Q(be=>be.filter(Ie=>Ie.id!==we))},[]),le=p.useCallback((we,be,Ie,Se)=>{Q(_e=>_e.map(Ye=>Ye.id===we?{...Ye,message:be,type:Ie,duration:Se||3e3}:Ye))},[]),xe=p.useCallback(we=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:n}).format(we),[n]),ze=p.useCallback(we=>{if(!a?.categories)return[];for(const be of a.categories){const Ie=be.products.find(Se=>Se.branchProductId===we.branchProductId);if(Ie&&Ie.availableAddons){const Se=(we.addons||we.addonItems||[]).map(_e=>_e.branchProductId||_e.addonBranchProductId);return Ie.availableAddons.filter(_e=>!Se.includes(_e.addonBranchProductId))}}return[]},[a]),Le=p.useCallback(we=>{if(!a?.categories)return[];for(const be of a.categories){const Ie=be.products.find(Se=>Se.branchProductId===we.branchProductId);if(Ie&&Ie.availableExtras){const Se=(we.extras||[]).map(Ye=>Ye.branchProductExtraId),_e=[];return Ie.availableExtras.forEach(Ye=>{Ye.extras&&Array.isArray(Ye.extras)&&_e.push(...Ye.extras)}),_e.filter(Ye=>!Se.includes(Ye.branchProductExtraId))}}return[]},[a]),ut=p.useCallback(we=>{j(be=>{const Ie=new Set(be);return Ie.has(we)?Ie.delete(we):Ie.add(we),Ie})},[]),kt=p.useCallback(async we=>{try{i(we);const be=de.find(Ye=>Ye.basketItemId===we);if(!be)return;console.log(" Duplicating product:",{basketItemId:we,productName:be.productName,branchProductId:be.branchProductId,parentQuantity:be.quantity,extrasCount:be.extras?.length||0,allExtras:be.extras});const Ie=[];be.extras&&be.extras.length>0&&be.extras.forEach(Ye=>{if(Ye.isRemoval)console.log(" Skipping removal extra:",{name:Ye.extraName,branchProductExtraId:Ye.branchProductExtraId});else{const Ft=Ye.quantity||1;console.log(" Including extra for duplication:",{name:Ye.extraName,category:Ye.extraCategoryName,branchProductExtraId:Ye.branchProductExtraId,originalQuantity:Ye.quantity,preservedQuantity:Ft,isRemoval:Ye.isRemoval}),Ie.push({branchProductExtraId:Ye.branchProductExtraId,extraId:Ye.extraId,quantity:Ft,isRemoval:!1})}}),console.log(" Sending duplicate request to API:",{branchProductId:be.branchProductId,quantity:1,extrasCount:Ie.length,extrasDetails:Ie.map(Ye=>({branchProductExtraId:Ye.branchProductExtraId,extraId:Ye.extraId,quantity:Ye.quantity}))});const Se=await fn.addUnifiedItemToMyBasket({branchProductId:be.branchProductId,quantity:1,isAddon:!1,extras:Ie.length>0?Ie:void 0});console.log(" Product duplicated successfully:",{newBasketItemId:Se.basketItemId,extrasIncluded:Ie.length});const _e=be.addons||be.addonItems||[];if(_e.length>0&&Se.basketItemId){console.log(" Duplicating addons:",{count:_e.length,addons:_e.map(Ft=>({name:Ft.addonName||Ft.productName,quantity:Ft.quantity}))});const Ye=_e.map(Ft=>({branchProductId:Ft.addonBranchProductId||Ft.branchProductId,quantity:Ft.quantity,parentBasketItemId:Se.basketItemId,isAddon:!0}));await fn.batchAddItemsToMyBasket(Ye),console.log(" Addons duplicated successfully")}await t(),ie("Product duplicated successfully with all customizations","success",2e3)}catch(be){console.error(" Failed to duplicate item:",be),console.error(" Full error details:",{message:be.message,status:be.response?.status,data:be.response?.data,stack:be.stack});const Ie=be.response?.data?.message||be.response?.data?.title||be.message||"Failed to duplicate item";ie(Ie,"error",3e3),await t()}finally{i(null)}},[de,t,ie]),qt=p.useCallback(async(we,be,Ie)=>{const Se=be+Ie;if(Se<1){console.log(" Quantity would be < 1, deleting item"),await hr(we);return}try{i(we);const _e=de.find(nr=>nr.basketItemId===we);if(!_e){console.error(" Cart item not found"),ie("Cart item not found. Please refresh.","error");return}const Ye=_e.extras&&_e.extras.length>0,Ft=_e.addons&&_e.addons.length>0||_e.addonItems&&_e.addonItems.length>0,Tt=Ye||Ft;if(console.log(" Quantity update analysis:",{basketItemId:we,productName:_e.productName,currentQuantity:be,change:Ie,newQuantity:Se,hasExtras:Ye,hasAddons:Ft,hasCustomizations:Tt,extrasCount:_e.extras?.length||0,addonsCount:_e.addons?.length||_e.addonItems?.length||0}),Ie>0&&Tt){console.log(" Item has customizations, duplicating instead of updating quantity");for(let nr=0;nr<Ie;nr++)console.log(` Duplication ${nr+1} of ${Ie}`),await kt(we);console.log(" All duplications completed")}else console.log(" Simple quantity update (no customizations or decreasing)"),await fn.updateBasketItem(we,{basketItemId:we,basketId:e?.basketId||"",branchProductId:_e.branchProductId,quantity:Se}),console.log(" Quantity updated successfully"),await t()}catch(_e){console.error(" Failed to update quantity:",_e),console.error(" Error details:",{message:_e.message,status:_e.response?.status,data:_e.response?.data});const Ye=_e.response?.data?.message||_e.message||"Failed to update quantity";ie(Ye,"error",3e3),await t()}finally{i(null)}},[e,de,t,ie,kt]),hr=p.useCallback(async we=>{if(confirm("Are you sure you want to remove this item?"))try{l(we);const be=de.find(Ie=>Ie.basketItemId===we);console.log(" Deleting item:",{basketItemId:we,productName:be?.productName,hasExtras:be?.extras&&be.extras.length>0,hasAddons:(be?.addons?.length||be?.addonItems?.length||0)>0}),await fn.deleteBasketItem(we),console.log(" Item deleted successfully"),await t()}catch(be){console.error(" Failed to delete item:",be),ie(be.message||"Failed to delete item","error",3e3),await t()}finally{l(null)}},[de,t,ie]),jr=p.useCallback(async()=>{if(confirm("Are you sure you want to clear your entire basket?"))try{c(!0),console.log(" Clearing entire basket:",{itemCount:de.length,total:je}),await fn.clearBasket(),console.log(" Basket cleared successfully"),await t(),ie("Basket cleared","success",3e3)}catch(we){console.error(" Failed to clear basket:",we),ie(we.message||"Failed to clear basket","error",3e3)}finally{c(!1)}},[de.length,je,t,ie]),nt=p.useCallback(async(we,be,Ie,Se)=>{const _e=be+Ie;if(_e<1){console.log(" Addon quantity would be < 1, deleting addon"),await rt(we);return}if(_e>Se){console.warn(" Cannot exceed max quantity:",{newQuantity:_e,maxQuantity:Se}),ie(`Maximum quantity is ${Se}`,"error",2e3);return}try{i(we),console.log(" Updating addon quantity:",{addonBasketItemId:we,currentQuantity:be,change:Ie,newQuantity:_e,maxQuantity:Se}),await fn.updateBasketItem(we,{basketItemId:we,basketId:e?.basketId||"",branchProductId:0,quantity:_e}),console.log(" Addon quantity updated successfully"),await t()}catch(Ye){console.error(" Failed to update addon quantity:",Ye),ie(Ye.message||"Failed to update addon quantity","error",3e3),await t()}finally{i(null)}},[e,t,ie]),rt=p.useCallback(async we=>{if(confirm("Remove this add-on?"))try{console.log(" Deleting addon:",{addonBasketItemId:we}),await fn.deleteBasketItem(we),console.log(" Addon deleted successfully"),await t()}catch(be){console.error(" Failed to delete addon:",be),ie(be.message||"Failed to delete addon","error",3e3),await t()}},[t,ie]),Pr=p.useCallback(async(we,be,Ie)=>{try{h(we),console.log(" Adding addon to item:",{parentBasketItemId:we,addonBranchProductId:be.addonBranchProductId,addonName:be.addonName||be.addonProductName,quantity:Ie}),await fn.addUnifiedItemToMyBasket({branchProductId:be.addonBranchProductId,quantity:Ie,parentBasketItemId:we,isAddon:!0}),console.log(" Addon added successfully"),await t()}catch(Se){console.error(" Failed to add addon:",Se),ie(Se.message||"Failed to add addon","error",3e3),await t()}finally{h(null)}},[t,ie]),Ht=p.useCallback(async(we,be)=>{try{b(be.branchProductExtraId);const Ie=we.extras||[],Se=Ie.findIndex(Ye=>Ye.branchProductExtraId===be.branchProductExtraId);let _e;Se>=0?(console.log(" Removing extra:",{branchProductExtraId:be.branchProductExtraId,basketItemId:we.basketItemId}),_e=Ie.filter(Ye=>Ye.branchProductExtraId!==be.branchProductExtraId).map(Ye=>({branchProductExtraId:Ye.branchProductExtraId,extraId:Ye.extraId,quantity:Ye.quantity,isRemoval:Ye.isRemoval}))):(console.log(" Adding extra:",{branchProductExtraId:be.branchProductExtraId,basketItemId:we.basketItemId,quantity:1}),_e=[...Ie.map(Ye=>({branchProductExtraId:Ye.branchProductExtraId,extraId:Ye.extraId,quantity:Ye.quantity,isRemoval:Ye.isRemoval})),{branchProductExtraId:be.branchProductExtraId,extraId:be.extraId,quantity:1,isRemoval:be.isRemoval||!1}]),await fn.updateBasketItemExtras(we.basketItemId,we.branchProductId,we.quantity,_e),await t(),ie(Se>=0?"Extra removed":"Extra added","success")}catch(Ie){console.error(" Toggle extra error:",Ie),ie(Ie.message||"Failed to update extra","error"),await t()}finally{b(null)}},[t,ie]),Wt=p.useCallback(async(we,be,Ie)=>{try{b(be);const Se=we.extras||[],_e=Se.find(Tt=>Tt.branchProductExtraId===be);if(!_e)throw new Error("Extra not found");if(_e.isRemoval){console.error(" Cannot change quantity of removal extra"),ie("Cannot change quantity of removal extra","error"),b(null);return}const Ye=Math.max(_e.minQuantity||1,Math.min(_e.maxQuantity||10,_e.quantity+Ie));if(Ye===_e.quantity){Ye>=(_e.maxQuantity||10)&&ie(`Maximum quantity for ${_e.extraName} is ${_e.maxQuantity}`,"error"),b(null);return}console.log(`${Ie>0?"":""} Updating extra quantity:`,{extraName:_e.extraName,basketItemId:we.basketItemId,branchProductExtraId:be,currentQuantity:_e.quantity,newQuantity:Ye});const Ft=Se.map(Tt=>({branchProductExtraId:Tt.branchProductExtraId,extraId:Tt.extraId,quantity:Tt.branchProductExtraId===be?Ye:Tt.quantity,isRemoval:Tt.isRemoval}));await fn.updateBasketItemExtras(we.basketItemId,we.branchProductId,we.quantity,Ft),await t(),ie("Extra quantity updated","success")}catch(Se){console.error(" Update extra quantity error:",Se),ie(Se.message||"Failed to update extra quantity","error"),await t()}finally{b(null)}},[t,ie]),ge=p.useCallback(async(we,be)=>{try{if(!window.confirm("Remove this extra?"))return;b(be),console.log(" Deleting extra:",{basketItemId:we.basketItemId,branchProductExtraId:be});const _e=(we.extras||[]).filter(Ye=>Ye.branchProductExtraId!==be).map(Ye=>({branchProductExtraId:Ye.branchProductExtraId,extraId:Ye.extraId,quantity:Ye.quantity,isRemoval:Ye.isRemoval}));await fn.updateBasketItemExtras(we.basketItemId,we.branchProductId,we.quantity,_e),await t(),ie("Extra removed","success")}catch(Ie){console.error(" Delete extra error:",Ie),ie(Ie.message||"Failed to delete extra","error"),await t()}finally{b(null)}},[t,ie]),ye=p.useCallback(async()=>{try{I(!0),D(null);const be=(await nu.getOrderTypesByOnlineSessionId()).filter(Ie=>Ie.isActive&&je>=Ie.minOrderAmount&&!Ie.requiresTable);return be.length===0&&D("No order types available"),S(be),be}catch(we){return D(we.message||"Failed to load order types"),[]}finally{I(!1)}},[je]),Be=p.useCallback(we=>{T(we),z({}),we.requiresName||X(""),we.requiresTable||Z(""),we.requiresAddress||G(""),we.requiresPhone||ce("")},[]),Qe=p.useCallback(()=>{X(""),Z(""),G(""),ce(""),K(""),re(""),z({}),T(null),q(null)},[]),pt=p.useCallback((we,be,Ie)=>{const Se={};return M?(M.requiresName&&!E.trim()&&(Se.customerName="Name is required"),M.requiresTable&&!ee.trim()&&(Se.tableNumber="Table number is required"),M.requiresAddress&&!B.trim()&&(Se.deliveryAddress="Delivery address is required"),M.requiresPhone&&(J.trim()?/^\+?[\d\s\-()]+$/.test(J)||(Se.customerPhone="Invalid phone format"):Se.customerPhone="Phone number is required"),(we||be||Ie)&&!te&&(Se.paymentMethod="Please select payment method"),z(Se),Object.keys(Se).length===0):(D("Please select order type"),!1)},[M,E,ee,B,J,te]),Ce=p.useCallback(async we=>{if(!M)return ie("Please select order type","error"),null;F(!0);const be={orderTypeId:M.id};M.requiresName&&E.trim()&&(be.customerName=E.trim()),M.requiresTable&&ee.trim()&&(be.tableNumber=ee.trim()),M.requiresAddress&&B.trim()&&(be.deliveryAddress=B.trim()),M.requiresPhone&&J.trim()&&(be.customerPhone=J.trim()),te&&(be.paymentMethod=te),Y.trim()&&(be.notes=Y.trim());try{const Ie=localStorage.getItem("online_menu_session_id");Ie&&$?.requiresConfirmation&&(await za.confirmSessionPriceChanges(Ie),await t());const Se=await kr.createSessionOrder(be);return await t(),ie("Order placed successfully! ","success",5e3),we&&we(Se),Se}catch(Ie){return console.error(" Error creating order:",Ie),ie(Ie.message||"Failed to place order","error",5e3),null}finally{F(!1)}},[M,E,ee,B,J,te,Y,$,t,ie]);return{items:de,itemCount:me,total:je,subtotal:fe,tax:se,updatingItemId:s,deletingItemId:o,isClearing:d,addingAddonToItem:g,updatingExtraId:x,expandedItems:v,orderTypes:w,selectedOrderType:M,loadingOrderTypes:A,orderTypeError:_,customerName:E,setCustomerName:X,tableNumber:ee,setTableNumber:Z,deliveryAddress:B,setDeliveryAddress:G,customerPhone:J,setCustomerPhone:ce,paymentMethod:te,setPaymentMethod:K,orderNotes:Y,setOrderNotes:re,validationErrors:ne,submittingOrder:V,priceChangeData:$,setPriceChangeData:q,toasts:H,addToast:ie,removeToast:ue,updateToast:le,formatPrice:xe,getAvailableAddonsForProduct:ze,getAvailableExtrasForProduct:Le,toggleItemExpanded:ut,handleUpdateQuantity:qt,handleDeleteItem:hr,handleClearBasket:jr,handleDuplicateItem:kt,handleUpdateAddonQuantity:nt,handleDeleteAddon:rt,handleAddAddonToItem:Pr,handleToggleExtra:Ht,handleUpdateExtraQuantity:Wt,handleDeleteExtra:ge,loadOrderTypes:ye,selectOrderType:Be,resetForm:Qe,validateForm:pt,submitOrder:Ce}},Kwe=({isOpen:e,onClose:t,basket:a,onBasketUpdate:n,currency:s="TRY",menuData:i})=>{const{t:o,language:l}=Ze(),d=l==="ar",{items:c,itemCount:g,total:h,subtotal:x,tax:b,updatingItemId:v,deletingItemId:j,isClearing:w,addingAddonToItem:S,updatingExtraId:M,expandedItems:T,orderTypes:A,selectedOrderType:I,loadingOrderTypes:_,orderTypeError:D,customerName:E,setCustomerName:X,tableNumber:ee,setTableNumber:Z,deliveryAddress:B,setDeliveryAddress:G,customerPhone:J,setCustomerPhone:ce,paymentMethod:te,setPaymentMethod:K,orderNotes:Y,setOrderNotes:re,validationErrors:ne,submittingOrder:z,toasts:V,addToast:F,removeToast:$,updateToast:q,formatPrice:H,getAvailableAddonsForProduct:Q,getAvailableExtrasForProduct:de,toggleItemExpanded:me,handleUpdateQuantity:je,handleDeleteItem:fe,handleClearBasket:se,handleDuplicateItem:ie,handleUpdateAddonQuantity:ue,handleDeleteAddon:le,handleAddAddonToItem:xe,handleToggleExtra:ze,handleUpdateExtraQuantity:Le,handleDeleteExtra:ut,loadOrderTypes:kt,selectOrderType:qt,resetForm:hr,validateForm:jr,submitOrder:nt}=Wwe({basket:a,onBasketUpdate:n,menuData:i,currency:s}),[rt,Pr]=p.useState("cart"),[Ht,Wt]=p.useState("cart"),[ge,ye]=p.useState(!1),[Be,Qe]=p.useState(null),[pt,Ce]=p.useState(!1),[we,be]=p.useState(null),[Ie,Se]=p.useState([]),[_e,Ye]=p.useState(!1),[Ft,Tt]=p.useState([]),nr=i?.preferences||i?.restaurantPreferences||{},gr=i?.restaurantName||nr?.restaurantName||"Restaurant",sa=nr?.whatsAppPhoneNumber,Ve=nr?.useWhatsappForOrders,St=nr?.acceptCash,wt=nr?.acceptCreditCard,Ke=nr?.acceptOnlinePayment,et=[],bt=async Re=>{try{const zt=bm.formatWhatsAppNumber(sa);await bm.sendOrderToWhatsApp(zt,Re)}catch(zt){throw console.error(" Error sending WhatsApp notification:",zt),zt}};p.useEffect(()=>{e&&(Wt("cart"),hr())},[e,hr]),p.useEffect(()=>{const Re=localStorage.getItem("onlineTrackedOrders");if(Re)try{const zt=JSON.parse(Re);Se(zt.map(Qt=>({...Qt,createdAt:new Date(Qt.createdAt)})))}catch(zt){console.error("Error parsing saved orders:",zt),localStorage.removeItem("onlineTrackedOrders")}},[]),p.useEffect(()=>{Ie.length>0?localStorage.setItem("onlineTrackedOrders",JSON.stringify(Ie)):localStorage.removeItem("onlineTrackedOrders")},[Ie]);const Rt=async()=>{try{if(Ie.length===0){Tt([]);return}const Re=await kr.getUpdatableOrders();Tt(Re)}catch(Re){console.error("Failed to fetch updatable orders:",Re),Tt([])}};p.useEffect(()=>{let Re=null;const zt=Ie.some(Qt=>Qt.trackingInfo.orderStatus.toLowerCase()==="pending");return rt==="orders"&&zt&&(Re=setInterval(()=>{gt(),Rt()},15e3)),()=>{Re&&clearInterval(Re)}},[rt,Ie]),p.useEffect(()=>{rt==="orders"&&Rt()},[Ie,rt]);const Xt=async Re=>{let zt=F(o("menu.cart.refreshing_order")||"Refreshing order...","loading");try{Ye(!0);const Qt=await kr.trackOrder(Re);Se(fr=>fr.map(Dt=>Dt.orderTag===Re?{...Dt,trackingInfo:Qt}:Dt)),q(zt,o("menu.cart.order_refreshed")||"Order status updated!","success")}catch(Qt){console.error("Error loading order tracking:",Qt),q(zt,Qt.message||o("menu.cart.order_refresh_failed")||"Failed to refresh order","error")}finally{Ye(!1)}},cr=Re=>{Se(zt=>zt.filter(Qt=>Qt.orderTag!==Re)),Tt(zt=>zt.filter(Qt=>Qt.orderTag!==Re)),F(o("menu.cart.order_removed")||"Order removed from list","success")},gt=async()=>{const Re=Ie.filter(zt=>zt.trackingInfo.orderStatus.toLowerCase()==="pending");if(Re.length!==0){Ye(!0);try{const zt=Re.map(fr=>kr.trackOrder(fr.orderTag)),Qt=await Promise.allSettled(zt);Se(fr=>{const Dt=[...fr];return Qt.forEach((lr,yt)=>{if(lr.status==="fulfilled"){const Yt=Re[yt].orderTag,At=Dt.findIndex(ha=>ha.orderTag===Yt);At>-1&&(Dt[At]={...Dt[At],trackingInfo:lr.value})}}),Dt})}catch(zt){console.error("Error during auto-refresh:",zt)}finally{Ye(!1)}}},ia=async()=>{await n(),await kt(),Wt("order-type")},Ha=Re=>{qt(Re),Wt("information")},cn=()=>{Wt("cart"),hr()},Es=()=>{Wt("order-type")},_s=Re=>{const zt={orderTag:Re.orderTag||"",createdAt:new Date(Re.createdAt),trackingInfo:{orderTag:Re.orderTag||"",orderId:Re.orderId,orderStatus:Re.status,totalPrice:Re.totalPrice,orderTypeName:I?.name||"",customerName:Re.customerName||E||"",notes:Re.notes||""}};Se(Qt=>[zt,...Qt.filter(fr=>fr.orderTag!==zt.orderTag)])},Cn=async()=>{if(!jr(St,wt,Ke))return;const Re=await nt(yt=>{yt.orderTag&&(be(yt.orderTag),_s(yt))});if(!Re)return;const zt={useWhatsappForOrders:Ve,whatsAppPhoneNumber:sa},Qt=Re.orderTag&&bm.isWhatsAppEnabled(zt),fr=I.serviceCharge||0,Dt=h+fr,lr=et.find(yt=>yt.id===te)?.name||te;if(Qt){const yt={orderTag:Re.orderTag,restaurantName:gr,customerName:E||"Customer",customerPhone:J,tableNumber:ee||void 0,deliveryAddress:B||void 0,orderType:I.name,paymentMethod:lr,notes:Y,estimatedTime:I.estimatedMinutes,cart:c.map(Yt=>({productName:Yt.productName,price:Yt.price,quantity:Yt.quantity,totalItemPrice:Yt.totalPrice,addons:(Yt.addons||Yt.addonItems||[]).map(At=>({addonName:At.addonName||At.productName,price:At.specialPrice||At.price,quantity:At.quantity})),extras:(Yt.extras||[]).map(At=>({extraName:At.extraName,isRemoval:At.isRemoval,quantity:At.quantity,price:At.unitPrice}))})),subtotal:x,tax:b,serviceCharge:fr,totalPrice:Dt};Qe(yt),ye(!0);return}else setTimeout(()=>{hr(),Wt("cart"),Pr("orders")},1e3)},Fn=async()=>{if(!Be)return;let Re=null;try{Ce(!0),Re=F(o("menu.cart.sending_whatsapp")||"Sending WhatsApp message...","loading"),await bt(Be),Re&&q(Re,o("menu.cart.whatsapp_sent_success")||"WhatsApp message sent successfully!","success")}catch(zt){console.error(" Error sending WhatsApp message:",zt),Re&&q(Re,o("menu.cart.whatsapp_send_failed")||"Failed to send WhatsApp message","error")}finally{Ce(!1),ye(!1),Qe(null),setTimeout(()=>{hr(),Wt("cart"),Pr("orders")},1e3)}},He=()=>{ye(!1),Qe(null),Ce(!1),setTimeout(()=>{hr(),Wt("cart"),Pr("orders")},500)};St&&et.push({id:"cash",name:o("order.form.cash"),icon:pN,description:o("order.form.cashDescription")}),wt&&et.push({id:"credit_card",name:o("order.form.creditCard"),icon:rl,description:o("order.form.creditCardDescription")}),Ke&&et.push({id:"online",name:o("order.form.onlinePayment"),icon:eu,description:o("order.form.onlinePaymentDescription")});const it=d?Wm:$O,jt=d?ms:Ui;if(!e)return null;const Gt=()=>{if(rt==="orders")return o("menu.cart.orders");switch(Ht){case"cart":return o("menu.cart.title");case"order-type":return o("order.form.selectOrderType");case"information":return o("order.form.orderInformation");default:return o("menu.cart.title")}};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`fixed top-4 ${d?"left-4":"right-4"} z-[60] space-y-2 max-w-md pointer-events-none`,children:V.map(Re=>r.jsx("div",{className:"pointer-events-auto",children:r.jsx(US,{toast:Re,onClose:$})},Re.id))}),r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 transition-opacity",onClick:t}),r.jsxs("div",{className:"fixed right-0 top-0 bottom-0 w-full sm:w-[500px] bg-white dark:bg-slate-800 shadow-2xl z-50 flex flex-col overflow-hidden",dir:d?"rtl":"ltr",children:[r.jsxs("div",{className:"bg-gradient-to-r from-slate-600 to-slate-600 dark:from-slate-700 dark:to-slate-700 px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[rt==="cart"?r.jsx(Kn,{className:"w-6 h-6 text-white"}):r.jsx(mm,{className:"w-6 h-6 text-white"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:Gt()}),rt==="cart"&&r.jsxs("p",{className:"text-emerald-100 text-sm",children:[g," ",o("menu.items")]})]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors text-white",children:r.jsx(xt,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-slate-900/50",children:[r.jsx("button",{onClick:()=>{Pr("cart"),Wt("cart")},className:`flex-1 py-3 px-4 text-sm font-medium transition-colors ${rt==="cart"?"text-orange-600 border-b-2 border-orange-600 bg-orange-50 dark:bg-orange-900/20 dark:text-orange-400":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(Kn,{className:"h-4 w-4"}),r.jsx("span",{children:o("menu.cart.newOrder")}),g>0&&r.jsx("span",{className:"bg-orange-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:g})]})}),r.jsx("button",{onClick:()=>Pr("orders"),className:`flex-1 py-3 px-4 text-sm font-medium transition-colors ${rt==="orders"?"text-orange-600 border-b-2 border-orange-600 bg-orange-50 dark:bg-orange-900/20 dark:text-orange-400":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(mm,{className:"h-4 w-4"}),r.jsx("span",{children:o("menu.cart.orders")}),Ie.filter(Re=>Re.trackingInfo.orderStatus.toLowerCase()==="pending").length>0&&r.jsx("span",{className:"bg-yellow-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:Ie.filter(Re=>Re.trackingInfo.orderStatus.toLowerCase()==="pending").length})]})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto",children:[rt==="cart"&&r.jsxs(r.Fragment,{children:[Ht!=="cart"&&r.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-slate-900/50",children:[r.jsx("button",{onClick:cn,className:"flex-1 py-3 px-4 text-sm font-medium transition-colors text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold bg-slate-300 dark:bg-slate-600 text-slate-600 dark:text-slate-300",children:""}),r.jsx("span",{children:o("menu.cart.title")})]})}),r.jsx("button",{onClick:Ht==="information"?Es:void 0,disabled:Ht==="order-type",className:`flex-1 py-3 px-4 text-sm font-medium transition-colors ${Ht==="order-type"?"text-orange-600 border-b-2 border-orange-600 bg-orange-50 dark:bg-orange-900/20 dark:text-orange-400":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 cursor-pointer"}`,children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("span",{className:`flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold ${Ht==="order-type"?"bg-orange-500 text-white":"bg-slate-300 dark:bg-slate-600 text-slate-600 dark:text-slate-300"}`,children:"1"}),r.jsx("span",{children:o("order.form.orderType")})]})}),r.jsx("button",{disabled:!0,className:`flex-1 py-3 px-4 text-sm font-medium transition-colors ${Ht==="information"?"text-orange-600 border-b-2 border-orange-600 bg-orange-50 dark:bg-orange-900/20 dark:text-orange-400":"text-slate-400 dark:text-slate-600"}`,children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("span",{className:`flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold ${Ht==="information"?"bg-orange-500 text-white":"bg-slate-300 dark:bg-slate-600 text-slate-400"}`,children:"2"}),r.jsx("span",{children:o("order.form.information")})]})})]}),Ht==="cart"&&(g===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-6 text-center",children:[r.jsx("div",{className:"p-6 bg-slate-100 dark:bg-slate-700 rounded-full mb-4",children:r.jsx(Kn,{className:"w-12 h-12 text-slate-400 dark:text-slate-500"})}),r.jsx("h3",{className:`text-xl font-bold ${Tr.text.primary} mb-2`,children:o("menu.cart.empty")}),r.jsx("p",{className:Tr.text.secondary,children:o("menu.cart.emptyDesc")})]}):r.jsxs("div",{className:"p-4 space-y-4",children:[c.map(Re=>{const zt=Re.addons||Re.addonItems||[],Qt=Re.extras||[],fr=Q(Re),Dt=de(Re),lr=T.has(Re.basketItemId);return r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[Re.imageUrl&&r.jsx("img",{src:Re.imageUrl,alt:Re.productName,className:"w-20 h-20 object-cover rounded-lg"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:`font-semibold ${Tr.text.primary} mb-1`,children:Re.productName}),r.jsx("p",{className:"text-sm text-emerald-600 font-semibold mb-2",children:H(Re.price||Re.price)}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>je(Re.basketItemId,Re.quantity,-1),disabled:v===Re.basketItemId,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-600 rounded transition-colors disabled:opacity-50",children:r.jsx(ds,{className:"w-4 h-4"})}),r.jsx("span",{className:"font-bold min-w-[2rem] text-center",children:Re.quantity}),r.jsx("button",{onClick:()=>je(Re.basketItemId,Re.quantity,1),disabled:v===Re.basketItemId,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-600 rounded transition-colors disabled:opacity-50",children:r.jsx(Ut,{className:"w-4 h-4"})})]}),(Qt&&Qt.length>0||zt&&zt.length>0)&&r.jsx("button",{onClick:()=>ie(Re.basketItemId),disabled:v===Re.basketItemId,className:"p-2 hover:bg-blue-100 dark:hover:bg-blue-950/20 rounded-lg text-blue-600 dark:text-blue-400 transition-colors disabled:opacity-50",title:o("menu.cart.duplicate")||"Duplicate item",children:v===Re.basketItemId?r.jsx(mt,{className:"w-4 h-4 animate-spin"}):r.jsx(zO,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>fe(Re.basketItemId),disabled:j===Re.basketItemId,className:"ml-auto p-2 hover:bg-red-100 dark:hover:bg-red-950/20 rounded-lg text-red-500 transition-colors disabled:opacity-50",children:j===Re.basketItemId?r.jsx(mt,{className:"w-4 h-4 animate-spin"}):r.jsx(wr,{className:"w-4 h-4"})})]}),r.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`text-xs ${Tr.text.secondary}`,children:o("menu.cart.total")}),r.jsx("span",{className:"font-bold text-emerald-600",children:H(Re.totalPrice)})]})})]})]})}),(zt.length>0||Qt.length>0||fr.length>0||Dt.length>0)&&r.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700",children:[r.jsxs("button",{onClick:()=>me(Re.basketItemId),className:"w-full px-4 py-2 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[r.jsxs("span",{className:`text-sm font-semibold ${Tr.text.primary}`,children:[o("menu.customizations")||"Customizations",zt.length+Qt.length>0&&` (${zt.length+Qt.length})`]}),lr?r.jsx(Hn,{className:"w-4 h-4"}):r.jsx(Rr,{className:"w-4 h-4"})]}),lr&&r.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[Qt.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"text-xs font-bold text-slate-600 dark:text-slate-400 uppercase",children:o("menu.extras")||"Extras"}),Qt.map(yt=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:`text-sm font-semibold ${Tr.text.primary}`,children:yt.isRemoval?r.jsxs("span",{className:"text-red-600 dark:text-red-400",children:[o("menu.no")||"No"," ",yt.extraName]}):yt.extraName}),!yt.isRemoval&&r.jsxs("p",{className:"text-xs text-blue-600 font-semibold",children:[H(yt.unitPrice)," ",o("menu.each")||"each"]})]}),!yt.isRemoval&&r.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>Le(Re,yt.branchProductExtraId,-1),disabled:M===yt.branchProductExtraId,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-600 rounded transition-colors disabled:opacity-50",children:r.jsx(ds,{className:"w-3 h-3"})}),r.jsx("span",{className:"font-bold text-sm min-w-[1.5rem] text-center",children:yt.quantity}),r.jsx("button",{onClick:()=>Le(Re,yt.branchProductExtraId,1),disabled:M===yt.branchProductExtraId||yt.quantity>=(yt.maxQuantity||10),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-600 rounded transition-colors disabled:opacity-50",children:r.jsx(Ut,{className:"w-3 h-3"})})]}),r.jsx("button",{onClick:()=>ut(Re,yt.branchProductExtraId),className:"p-1.5 hover:bg-red-100 dark:hover:bg-red-950/20 rounded text-red-500",children:r.jsx(xt,{className:"w-4 h-4"})})]},yt.branchProductExtraId))]}),zt.map(yt=>{const Yt=yt.addonBasketItemId||yt.basketItemId,At=yt.addonName||yt.productName,ha=yt.specialPrice||yt.price;return r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-emerald-50 dark:bg-emerald-950/20 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:`text-sm font-semibold ${Tr.text.primary}`,children:At}),r.jsxs("p",{className:"text-xs text-emerald-600 font-semibold",children:[H(ha)," each"]})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>ue(Yt,yt.quantity,-1,yt.maxQuantity||10),disabled:v===Yt,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-600 rounded transition-colors disabled:opacity-50",children:r.jsx(ds,{className:"w-3 h-3"})}),r.jsx("span",{className:"font-bold text-sm min-w-[1.5rem] text-center",children:yt.quantity}),r.jsx("button",{onClick:()=>ue(Yt,yt.quantity,1,yt.maxQuantity||10),disabled:v===Yt||yt.quantity>=(yt.maxQuantity||10),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-600 rounded transition-colors disabled:opacity-50",children:r.jsx(Ut,{className:"w-3 h-3"})})]}),r.jsx("button",{onClick:()=>le(Yt),className:"p-1.5 hover:bg-red-100 dark:hover:bg-red-950/20 rounded text-red-500",children:r.jsx(xt,{className:"w-4 h-4"})})]},Yt)}),Dt.length>0&&r.jsxs("div",{className:"pt-2 border-t border-slate-200 dark:border-slate-700",children:[r.jsxs("p",{className:`text-xs font-semibold ${Tr.text.secondary} mb-2`,children:[o("menu.availableExtras")||"Available Extras",":"]}),r.jsx("div",{className:"space-y-2",children:Dt.map(yt=>r.jsxs("button",{onClick:()=>ze(Re,yt),className:"w-full flex items-center justify-between p-2 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 rounded-lg transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:`text-sm ${Tr.text.primary}`,children:yt.isRemoval?r.jsxs("span",{className:"text-red-600",children:[o("menu.remove")||"Remove"," ",yt.extraName]}):yt.extraName})]}),!yt.isRemoval&&r.jsx("span",{className:"text-sm font-semibold text-blue-600",children:H(yt.unitPrice)})]},yt.branchProductExtraId))})]}),fr.length>0&&r.jsxs("div",{className:"pt-2 border-t border-slate-200 dark:border-slate-700",children:[r.jsx("p",{className:`text-xs font-semibold ${Tr.text.secondary} mb-2`,children:"Available Add-ons:"}),r.jsx("div",{className:"space-y-2",children:fr.map(yt=>r.jsxs("button",{onClick:()=>xe(Re.basketItemId,yt,Re.quantity),disabled:S===Re.basketItemId,className:"w-full flex items-center justify-between p-2 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 rounded-lg transition-colors disabled:opacity-50",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"w-4 h-4 text-emerald-600"}),r.jsx("span",{className:`text-sm ${Tr.text.primary}`,children:yt.addonName})]}),r.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:H(yt.specialPrice||yt.price)})]},yt.branchProductAddonId))})]})]})]})]},Re.basketItemId)}),g>0&&r.jsx("button",{onClick:se,disabled:w,className:"w-full py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-950/20 rounded-lg transition-colors disabled:opacity-50",children:w?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(mt,{className:"w-4 h-4 animate-spin"}),"Clearing..."]}):o("menu.cart.clear")})]})),Ht==="order-type"&&r.jsxs("div",{className:"p-6",children:[D&&r.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Nt,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-red-900 dark:text-red-200",children:o("common.error")}),r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:D})]})]})}),_?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(mt,{className:"h-6 w-6 animate-spin text-orange-500"}),r.jsx("span",{className:`${d?"mr-2":"ml-2"} text-slate-600 dark:text-slate-400`,children:o("order.form.loadingOrderTypes")})]}):r.jsx("div",{className:"space-y-3",children:A.map(Re=>{const zt=h+Re.serviceCharge,Qt=I?.id===Re.id;return r.jsx("button",{onClick:()=>Ha(Re),className:`w-full text-${d?"right":"left"} p-4 border-2 rounded-lg transition-all ${Qt?"border-orange-500 bg-orange-50 dark:bg-orange-900/20":"border-slate-300 dark:border-slate-600 hover:border-orange-300 dark:hover:border-orange-700"}`,children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"text-3xl flex-shrink-0",children:Re.icon}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-slate-100",children:Re.name}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:Re.description})]}),Qt&&r.jsx(tr,{className:"w-5 h-5 text-orange-500 flex-shrink-0"})]}),r.jsxs("div",{className:`flex flex-wrap gap-2 mb-3 ${d?"justify-end":"justify-start"}`,children:[Re.requiresName&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-950/30 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:[r.jsx(On,{className:"w-3 h-3"}),o("order.form.name")]}),Re.requiresTable&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-pink-100 dark:bg-pink-950/30 text-pink-700 dark:text-pink-300 text-xs rounded-full",children:[r.jsx(Xd,{className:"w-3 h-3"}),o("order.form.table")]}),Re.requiresAddress&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 dark:bg-purple-950/30 text-purple-700 dark:text-purple-300 text-xs rounded-full",children:[r.jsx(Qr,{className:"w-3 h-3"}),o("order.form.address")]}),Re.requiresPhone&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 dark:bg-green-950/30 text-green-700 dark:text-green-300 text-xs rounded-full",children:[r.jsx(Dn,{className:"w-3 h-3"}),o("order.form.phone")]})]}),r.jsxs("div",{className:"space-y-1 text-xs",children:[Re.minOrderAmount>0&&r.jsxs("p",{className:"text-blue-600 dark:text-blue-400",children:[o("order.form.minimumOrder"),": ",H(Re.minOrderAmount)]}),Re.serviceCharge>0&&r.jsxs("p",{className:"text-orange-600 dark:text-orange-400",children:[o("order.form.serviceCharge"),": +",H(Re.serviceCharge)]}),Re.estimatedMinutes>0&&r.jsxs("p",{className:"text-green-600 dark:text-green-400",children:[o("order.form.estimatedTime"),": ",Re.estimatedMinutes," ",o("order.form.minutes")]}),r.jsxs("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400 mt-2",children:[o("menu.cart.total"),": ",H(zt)]})]})]})]})},Re.id)})})]}),Ht==="information"&&I&&r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"text-2xl",children:I.icon}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-slate-900 dark:text-slate-100",children:I.name}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:I.description})]})]}),r.jsx("button",{onClick:Es,className:"text-sm text-orange-600 hover:text-orange-700 dark:text-orange-400 dark:hover:text-orange-300 font-medium",children:o("common.change")})]}),r.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600 space-y-1 text-xs",children:[I.minOrderAmount>0&&r.jsxs("p",{className:"text-blue-600 dark:text-blue-400",children:[o("order.form.minimumOrder"),": ",H(I.minOrderAmount)]}),I.serviceCharge>0&&r.jsxs("p",{className:"text-orange-600 dark:text-orange-400",children:[o("order.form.serviceCharge"),": +",H(I.serviceCharge)]}),I.estimatedMinutes>0&&r.jsxs("p",{className:"text-green-600 dark:text-green-400",children:[o("order.form.estimatedTime"),": ",I.estimatedMinutes," ",o("order.form.minutes")]})]})]}),r.jsxs("div",{className:"space-y-4",children:[I.requiresName&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[r.jsx(On,{className:`h-4 w-4 inline ${d?"ml-1":"mr-1"}`}),o("order.form.customerName")," *"]}),r.jsx("input",{type:"text",value:E,onChange:Re=>X(Re.target.value),className:`w-full p-3 border rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 ${ne.customerName?"border-red-500 focus:ring-red-500":"border-slate-300 dark:border-slate-600 focus:ring-orange-500"} focus:outline-none focus:ring-2 transition-all`,placeholder:o("order.form.customerNamePlaceholder")}),ne.customerName&&r.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:ne.customerName})]}),I.requiresTable&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[r.jsx(Xd,{className:`h-4 w-4 inline ${d?"ml-1":"mr-1"}`}),o("order.form.tableNumber")," *"]}),r.jsx("input",{type:"text",value:ee,onChange:Re=>Z(Re.target.value),className:`w-full p-3 border rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 ${ne.tableNumber?"border-red-500 focus:ring-red-500":"border-slate-300 dark:border-slate-600 focus:ring-orange-500"} focus:outline-none focus:ring-2 transition-all`,placeholder:o("order.form.tableNumberPlaceholder")}),ne.tableNumber&&r.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:ne.tableNumber})]}),I.requiresPhone&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[r.jsx(Dn,{className:`h-4 w-4 inline ${d?"ml-1":"mr-1"}`}),o("order.form.phoneNumber")," *"]}),r.jsx("input",{type:"tel",value:J,onChange:Re=>ce(Re.target.value),className:`w-full p-3 border rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 ${ne.customerPhone?"border-red-500 focus:ring-red-500":"border-slate-300 dark:border-slate-600 focus:ring-orange-500"} focus:outline-none focus:ring-2 transition-all`,placeholder:o("order.form.phoneNumberPlaceholder")}),ne.customerPhone&&r.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:ne.customerPhone})]}),I.requiresAddress&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[r.jsx(Qr,{className:`h-4 w-4 inline ${d?"ml-1":"mr-1"}`}),o("order.form.deliveryAddress")," *"]}),r.jsx("textarea",{value:B,onChange:Re=>G(Re.target.value),rows:3,className:`w-full p-3 border rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 ${ne.deliveryAddress?"border-red-500 focus:ring-red-500":"border-slate-300 dark:border-slate-600 focus:ring-orange-500"} focus:outline-none focus:ring-2 transition-all resize-none`,placeholder:o("order.form.deliveryAddressPlaceholder")}),ne.deliveryAddress&&r.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:ne.deliveryAddress})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[r.jsx(mm,{className:`h-4 w-4 inline ${d?"ml-1":"mr-1"}`}),o("order.form.notes")||"Order Notes"]}),r.jsx("textarea",{value:Y,onChange:Re=>re(Re.target.value),rows:2,className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all resize-none",placeholder:o("order.form.notesPlaceholder")||"Any special requests?"})]}),et.length>0&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:[o("order.form.paymentMethod")," *"]}),r.jsx("div",{className:"space-y-2",children:et.map(Re=>{const zt=Re.icon,Qt=te===Re.id;return r.jsx("button",{type:"button",onClick:()=>K(Re.id),className:`w-full p-4 border-2 rounded-lg transition-all text-${d?"right":"left"} ${Qt?"border-orange-500 bg-orange-50 dark:bg-orange-900/20":"border-slate-300 dark:border-slate-600 hover:border-orange-300 dark:hover:border-orange-700"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(zt,{className:`w-6 h-6 ${Qt?"text-orange-500":"text-slate-600 dark:text-slate-400"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Re.name}),r.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-0.5",children:Re.description})]}),Qt&&r.jsx(tr,{className:"w-5 h-5 text-orange-500 flex-shrink-0"})]})},Re.id)})}),ne.paymentMethod&&r.jsx("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:ne.paymentMethod})]})]}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-slate-800 dark:text-slate-200 mb-3",children:o("order.form.orderSummary")}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[o("order.form.subtotal"),":"]}),r.jsx("span",{className:"text-slate-800 dark:text-slate-200",children:H(h)})]}),I.serviceCharge>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[o("order.form.serviceCharge"),":"]}),r.jsxs("span",{className:"text-slate-800 dark:text-slate-200",children:["+",H(I.serviceCharge)]})]}),r.jsxs("div",{className:"flex justify-between font-bold border-t border-slate-200 dark:border-slate-600 pt-2",children:[r.jsxs("span",{className:"text-slate-800 dark:text-slate-200",children:[o("menu.cart.total"),":"]}),r.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:H(h+I.serviceCharge)})]}),I.estimatedMinutes>0&&r.jsxs("div",{className:"flex items-center text-slate-600 dark:text-slate-400 mt-2",children:[r.jsx(Or,{className:`h-4 w-4 ${d?"ml-1":"mr-1"}`}),r.jsxs("span",{children:[o("order.form.estimatedTime"),": ",I.estimatedMinutes," ",o("order.form.minutes")]})]}),te&&r.jsxs("div",{className:"flex items-center text-slate-600 dark:text-slate-400 mt-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[te==="cash"&&r.jsx(pN,{className:`h-4 w-4 ${d?"ml-1":"mr-1"}`}),te==="credit_card"&&r.jsx(rl,{className:`h-4 w-4 ${d?"ml-1":"mr-1"}`}),te==="online"&&r.jsx(eu,{className:`h-4 w-4 ${d?"ml-1":"mr-1"}`}),r.jsxs("span",{children:[o("order.form.payment"),": ",et.find(Re=>Re.id===te)?.name]})]})]})]})]})]}),rt==="orders"&&r.jsx("div",{className:"p-6",children:r.jsx(WF,{trackedOrders:Ie,trackingLoading:_e,onLoadOrderTracking:Xt,onRemoveOrderFromTracking:cr,updatableOrders:Ft,onRefreshUpdatableOrders:Rt})})]}),rt==="cart"&&Ht==="cart"&&g>0&&r.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 p-6 space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:Tr.text.secondary,children:o("order.form.subtotal")}),r.jsx("span",{className:Tr.text.primary,children:H(x)})]}),b>0&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:Tr.text.secondary,children:"Tax:"}),r.jsx("span",{className:Tr.text.primary,children:H(b)})]}),r.jsxs("div",{className:"flex items-center justify-between text-lg font-bold pt-2 border-t border-slate-200 dark:border-slate-700",children:[r.jsx("span",{className:Tr.text.primary,children:o("menu.cart.total")}),r.jsx("span",{className:"text-emerald-600",children:H(h)})]})]}),r.jsx("button",{onClick:ia,className:"w-full py-4 bg-gradient-to-r from-slate-600 to-slate-600 hover:from-emerald-700 hover:to-slate-700 text-white rounded-xl font-bold text-lg transition-all duration-300 shadow-lg hover:shadow-xl",children:o("menu.cart.placeOrder")})]}),rt==="cart"&&Ht==="information"&&r.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:Es,className:"flex-1 py-3 px-4 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[r.jsx(it,{className:`h-4 w-4 inline ${d?"ml-1":"mr-1"}`}),o("priceChange.cancel")]}),r.jsx("button",{onClick:Cn,disabled:z,className:"flex-1 bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 hover:from-orange-600 hover:via-orange-700 hover:to-pink-600 text-white py-3 px-4 rounded-lg font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:z?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(mt,{className:`h-4 w-4 ${d?"ml-2":"mr-2"} animate-spin`}),o("menu.cart.processing")]}):r.jsxs("div",{className:"flex items-center justify-center",children:[o("order.form.createOrder"),r.jsx(jt,{className:`h-4 w-4 ${d?"mr-2":"ml-2"}`})]})})]})})]}),r.jsx(KF,{isVisible:ge,restaurantName:gr,whatsappNumber:sa,onConfirm:Fn,onCancel:He,loading:pt})]})},Qwe=()=>{const{publicId:e}=n_();gs();const{t}=Ze(),[a,n]=p.useState(!0),[s,i]=p.useState(!1),[o,l]=p.useState(""),[d,c]=p.useState(null),[g,h]=p.useState(""),[x,b]=p.useState(null),[v,j]=p.useState(new Set),[w,S]=p.useState(null),[M,T]=p.useState(1),[A,I]=p.useState([]),[_,D]=p.useState([]),[E,X]=p.useState(!1),[ee,Z]=p.useState(null),[B,G]=p.useState(null),[J,ce]=p.useState(!1),[te,K]=p.useState(!1),[Y,re]=p.useState(!1),[ne,z]=p.useState(null),[V,F]=p.useState(!1),[$,q]=p.useState(new Map),H=async ge=>{try{i(!0);const ye=await fn.getOnlineMenu(ge);c(ye),je(ye)}catch(ye){console.error("Menu fetch error:",ye),l(t("menu.error.fetchMenu"))}finally{i(!1)}},Q=async()=>{try{const ge=await fn.getMyBasket();Z(ge),await fe(ge)}catch(ge){console.error("Failed to load basket:",ge),Z(null)}},de=async ge=>{try{ce(!1),!sessionStorage.getItem("online_menu_initialized")&&sessionStorage.setItem("online_menu_initialized","true");const Be=localStorage.getItem("online_menu_session_id"),Qe=localStorage.getItem("token"),pt=localStorage.getItem("online_menu_public_id");if(Be&&Qe&&pt===ge){G(Be),ce(!0);try{await Q();return}catch(Ie){console.warn(" Existing session failed, creating new session:",Ie),localStorage.removeItem("online_menu_session_id"),localStorage.removeItem("online_menu_public_id"),localStorage.removeItem("customerSessionToken")}}const Ce=localStorage.getItem("customer_identifier")||`guest_${Date.now()}_${Math.random().toString(36).substring(7)}`;localStorage.setItem("customer_identifier",Ce);const we=`${navigator.userAgent}_${navigator.language}_${screen.width}x${screen.height}`,be=await fn.startSession({publicId:ge,customerIdentifier:Ce,deviceFingerprint:we,preferredLanguage:"en"});G(be.sessionId),localStorage.setItem("online_menu_session_id",be.sessionId),localStorage.setItem("token",be.sessionToken),localStorage.setItem("online_menu_public_id",ge),localStorage.setItem("online_menu_branch_id",be.branchId.toString()),localStorage.setItem("tokenExpiry",be.expiresAt),ce(!0),await Q()}catch(ye){throw console.error(" Session init error:",ye),new Error(t("menu.error.initializeSession"))}},me=async()=>{try{n(!0),l(""),await H(e),await de(e)}catch(ge){l(ge.message||t("menu.error.initialization"))}finally{n(!1)}},je=ge=>{const ye=new Map;ge.categories.forEach(Be=>{Be.products.forEach(Qe=>{ye.set(Qe.branchProductId,Qe.price)})}),q(ye)},fe=async ge=>{if(!d||!ge?.items?.length)return;const ye=new Map;let Be=!1;const Qe=[];if(d.categories.forEach(pt=>{pt.products.forEach(Ce=>{ye.set(Ce.branchProductId,Ce.price)})}),ge.items?.forEach(pt=>{if(!pt.isAddon){const Ce=ye.get(pt.branchProductId),we=pt.price;Ce!==void 0&&Ce!==we&&(Be=!0,Qe.push({basketItemId:pt.basketItemId,productName:pt.productName,oldPrice:we,newPrice:Ce,priceDifference:Ce-we}))}}),Be){const pt=Qe.map(Ce=>`${Ce.productName}: ${Wt(Ce.oldPrice)}  ${Wt(Ce.newPrice)} (${Ce.priceDifference>0?"+":""}${Wt(Ce.priceDifference)})`).join(`
`);z({message:pt,items:Qe,requiresConfirmation:!0}),re(!0)}},se=async()=>{F(!0);try{const ge=localStorage.getItem("online_menu_session_id");if(ge)try{await za.confirmSessionPriceChanges(ge)}catch(ye){console.warn("Price confirmation API call failed, refreshing basket anyway:",ye)}await Q(),re(!1),z(null)}catch(ge){console.error("Failed to confirm price changes:",ge),alert(t("menu.error.updatePrices"))}finally{F(!1)}},ie=()=>{re(!1),z(null),K(!0)},ue=ge=>{S(ge),T(1),I([]),D([])},le=()=>{S(null),T(1),I([]),D([])},xe=ge=>{I(ye=>{const Be=ye.findIndex(Qe=>Qe.branchProductAddonId===ge.branchProductAddonId);return Be>=0?ye.filter((Qe,pt)=>pt!==Be):[...ye,{addonBranchProductId:ge.branchProductAddonId,branchProductAddonId:ge.branchProductAddonId,quantity:1,addon:ge}]})},ze=(ge,ye)=>{I(Be=>Be.map(Qe=>{if(Qe.branchProductAddonId!==ge)return Qe;const pt=Qe.addon.maxQuantity||99,Ce=Math.max(1,Math.min(pt,Qe.quantity+ye));return{...Qe,quantity:Ce}}))},Le=ge=>{ge.isRemoval?D(ye=>{const Be=ye.findIndex(Qe=>Qe.branchProductExtraId===ge.branchProductExtraId);return Be>=0?ye.filter((Qe,pt)=>pt!==Be):[...ye,{branchProductExtraId:ge.branchProductExtraId,extraId:ge.extraId,extraName:ge.extraName,extraCategoryName:ge.categoryName,quantity:1,isRemoval:!0,unitPrice:ge.unitPrice||0,maxQuantity:ge.maxQuantity,minQuantity:ge.minQuantity,selectionMode:ge.selectionMode,isRequired:ge.isRequired}]}):D(ye=>ye.findIndex(Qe=>Qe.branchProductExtraId===ge.branchProductExtraId)>=0?ye:[...ye,{branchProductExtraId:ge.branchProductExtraId,extraId:ge.extraId,extraName:ge.extraName,extraCategoryName:ge.categoryName,quantity:1,isRemoval:!1,unitPrice:ge.unitPrice||0,maxQuantity:ge.maxQuantity,minQuantity:ge.minQuantity,selectionMode:ge.selectionMode,isRequired:ge.isRequired}])},ut=(ge,ye)=>{D(Be=>Be.map(Qe=>{if(Qe.branchProductExtraId!==ge||Qe.isRemoval)return Qe;const pt=Math.max(Qe.minQuantity||1,Math.min(Qe.maxQuantity||10,Qe.quantity+ye));return{...Qe,quantity:pt}}))},kt=()=>{if(!w)return 0;let ge=w.price*M;return A.forEach(ye=>{const Be=ye.addon.specialPrice??ye.addon.price;ge+=Be*ye.quantity*M}),_.forEach(ye=>{ye.isRemoval||(ge+=ye.unitPrice*ye.quantity*M)}),ge},qt=async(ge,ye,Be=[],Qe=[])=>{try{X(!0);const pt=Qe.map(Ce=>({branchProductExtraId:Ce.branchProductExtraId,extraId:Ce.extraId,quantity:Ce.isRemoval?1:Ce.quantity,isRemoval:Ce.isRemoval}));if(Be.length||Qe.length){const Ce=await fn.addUnifiedItemToMyBasket({branchProductId:ge.branchProductId,quantity:ye,isAddon:!1,extras:pt.length>0?pt:void 0});if(Ce.basketItemId&&Be.length){const we=Be.map(be=>({branchProductId:ge.availableAddons?.find(Se=>Se.branchProductAddonId===be.branchProductAddonId)?.addonBranchProductId??be.branchProductAddonId,quantity:be.quantity*ye,parentBasketItemId:Ce.basketItemId,isAddon:!0}));await fn.batchAddItemsToMyBasket(we)}}else await fn.addUnifiedItemToMyBasket({branchProductId:ge.branchProductId,quantity:ye,isAddon:!1,extras:pt.length>0?pt:void 0});await Q(),le()}catch(pt){if(pt?.response?.status===401)alert(t("menu.error.sessionExpired")||"Your session has expired. Please refresh the page.");else throw new Error(pt.message||t("menu.error.addToBasket"))}finally{X(!1)}},hr=async()=>{if(w)try{await qt(w,M,A,_)}catch(ge){alert(ge.message||t("menu.error.addToBasket"))}},jr=async ge=>{const ye=ge.availableExtras&&ge.availableExtras.length>0&&ge.availableExtras.some(Be=>Be.extras&&Be.extras.length>0);if(ge.availableAddons&&ge.availableAddons.length>0||ye){ue(ge);return}try{await qt(ge,1,[],[])}catch(Be){alert(Be.message||t("menu.error.addToBasket"))}},nt=async ge=>{try{const ye=ee?.items?.find(Be=>Be.branchProductId===ge&&!Be.isAddon);ye?.basketItemId&&(await fn.deleteBasketItem(ye.basketItemId),await Q())}catch(ye){ye?.response?.status===401?alert(t("menu.error.sessionExpired")||"Your session has expired. Please refresh the page."):alert(ye.message||t("menu.error.removeFromBasket"))}},rt=ge=>{j(ye=>{const Be=new Set(ye);return Be.has(ge)?Be.delete(ge):Be.add(ge),localStorage.setItem("menu_favorites",JSON.stringify([...Be])),Be})},Pr=ge=>{b(ge===x?null:ge)},Ht=async ge=>!ee||!ee.items?0:ee.items.find(Be=>Be.branchProductId===ge&&!Be.isAddon)?.quantity||0;p.useEffect(()=>{e&&me()},[e]),p.useEffect(()=>{const ge=localStorage.getItem("menu_favorites");if(ge)try{const ye=JSON.parse(ge);j(new Set(ye))}catch(ye){console.error("Failed to load favorites:",ye)}},[]),p.useEffect(()=>{if(!ee||!d)return;const ge=setInterval(()=>{fe(ee)},3e4);return()=>clearInterval(ge)},[ee,d]);const Wt=(ge,ye="TRY")=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:ye}).format(ge);return a?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:r.jsxs("div",{className:"text-center",children:[r.jsx(mt,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:`text-lg ${Tr.text.secondary}`,children:t("menu.loadingOnline")})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 pb-20 sm:pb-0",children:[d&&r.jsx(FF,{menuData:d,totalItems:ee?.itemCount||0,onCartToggle:()=>K(!0)}),r.jsx("div",{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[ee&&ee.totalPrice>0&&r.jsxs("button",{onClick:()=>K(!0),className:"fixed bottom-6 right-6 bg-gradient-to-r from-emerald-600 to-green-600 text-white p-4 rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 z-40 flex items-center gap-2 hover:scale-105",children:[r.jsx(Kn,{className:"w-6 h-6"}),r.jsx("span",{className:"font-bold",children:ee.itemCount}),r.jsx("span",{className:"hidden sm:inline",children:"|"}),r.jsx("span",{className:"hidden sm:inline font-bold",children:Wt(ee.totalPrice,d?.preferences.defaultCurrency)})]}),r.jsx(Kwe,{isOpen:te,onClose:()=>K(!1),basket:ee,onBasketUpdate:Q,currency:d?.preferences.defaultCurrency??"TRY",menuData:d}),r.jsx(HF,{isVisible:Y,priceChanges:ne,confirmingPriceChanges:V,onCancel:ie,onConfirm:se}),s?r.jsx("div",{className:`${Tr.background.card} backdrop-blur-xl rounded-3xl shadow-xl border border-slate-200/50 dark:border-slate-700/50 p-8`,children:r.jsxs("div",{className:"text-center",children:[r.jsx(mt,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:`text-lg ${Tr.text.secondary}`,children:t("menu.loadingPreview")})]})}):d?r.jsx("div",{className:`${Tr.background.card} backdrop-blur-xl rounded-3xl shadow-xl dark:border-slate-700/50 overflow-hidden min-h-[80vh]`,children:r.jsxs("div",{className:"p-4 sm:p-8 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 h-full",children:[r.jsx(zF,{searchTerm:g,onSearchChange:h}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 bg-transparent mt-6",children:[!g&&d.categories.length>0&&r.jsx("div",{className:"hidden lg:block",children:r.jsx(UF,{categories:d.categories,selectedCategory:x,onCategorySelect:Pr})}),r.jsx("div",{className:g?"lg:col-span-4":"lg:col-span-3",children:r.jsx(VF,{categories:d.categories,selectedCategory:x,searchTerm:g,cart:ee?.items||[],favorites:v,onAddToCart:jr,onRemoveFromCart:nt,onToggleFavorite:rt,onCategorySelect:Pr,restaurantName:d.restaurantName,onCustomize:ue,getCartItemQuantity:Ht})})]})]})}):null]})}),w&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 animate-in fade-in duration-200",children:r.jsxs("div",{className:`${Tr.background.card} w-full sm:max-w-3xl h-[95vh] sm:h-auto sm:max-h-[85vh] flex flex-col rounded-t-3xl sm:rounded-3xl shadow-2xl overflow-hidden`,onClick:ge=>ge.stopPropagation(),children:[r.jsx("div",{className:"shrink-0 relative",children:r.jsxs("div",{className:"h-48 sm:h-56 w-full relative",children:[r.jsx("img",{src:w.productImageUrl,alt:w.productName,className:"w-full h-full object-cover",onError:ge=>{ge.currentTarget.src="https://www.customcardsandgames.com/assets/images/noImageUploaded.png"}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),r.jsx("button",{onClick:le,className:"absolute top-4 right-4 p-2 bg-black/30 hover:bg-black/50 backdrop-blur-md rounded-full text-white transition-all",children:r.jsx(xt,{className:"w-6 h-6"})}),r.jsxs("div",{className:"absolute bottom-4 left-6 right-6 text-white",children:[r.jsx("h3",{className:"text-2xl sm:text-3xl font-bold shadow-sm",children:w.productName}),w.productDescription&&r.jsx("p",{className:"text-white/90 text-sm mt-1 line-clamp-2",children:w.productDescription})]})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 scrollbar-thin scrollbar-thumb-slate-300 dark:scrollbar-thumb-slate-600",children:[w.ingredients?.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:`font-bold text-sm uppercase tracking-wider ${Tr.text.secondary}`,children:t("menu.ingredients")}),r.jsx("div",{className:"flex flex-wrap gap-2",children:w.ingredients.map(ge=>r.jsx("span",{className:"text-sm bg-slate-100 dark:bg-slate-700/50 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-600",children:ge.ingredientName},ge.ingredientId))})]}),w.allergens?.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:`font-bold text-sm uppercase tracking-wider ${Tr.text.secondary}`,children:t("menu.allergens")}),r.jsx("div",{className:"flex flex-wrap gap-2",children:w.allergens.map(ge=>r.jsxs("span",{className:"text-sm bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 px-3 py-1.5 rounded-lg border border-red-100 dark:border-red-800/50 flex items-center gap-1",children:[ge.icon," ",ge.name]},ge.id))})]}),r.jsx("hr",{className:"border-slate-100 dark:border-slate-700/50"}),w.availableExtras&&w.availableExtras.length>0&&r.jsx("div",{className:"space-y-6",children:w.availableExtras.map(ge=>ge.extras&&ge.extras.length>0&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h5",{className:`font-bold text-lg ${Tr.text.primary}`,children:ge.categoryName}),ge.isRequired&&r.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-amber-100 text-amber-700 rounded-md",children:t("menu.required")||"Required"})]}),r.jsx("div",{className:"grid grid-cols-1 gap-3",children:ge.extras.map(ye=>{const Be=_.some(pt=>pt.branchProductExtraId===ye.branchProductExtraId),Qe=_.find(pt=>pt.branchProductExtraId===ye.branchProductExtraId);return r.jsxs("div",{onClick:()=>Le({...ye,categoryName:ge.categoryName}),className:`p-4 rounded-xl border transition-all cursor-pointer ${ye.isRemoval?Be?"border-red-500 bg-red-50 dark:bg-red-900/10":"border-slate-200 dark:border-slate-700 hover:border-red-300":Be?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/10 shadow-sm ring-1 ring-emerald-500/20":"border-slate-200 dark:border-slate-700 hover:border-emerald-300 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center ${Be?ye.isRemoval?"bg-red-500 border-red-500":"bg-emerald-500 border-emerald-500":"border-slate-300 dark:border-slate-500"}`,children:Be&&r.jsx(tr,{className:"w-3.5 h-3.5 text-white"})}),r.jsx("span",{className:`font-medium ${Tr.text.primary}`,children:ye.extraName})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[!ye.isRemoval&&ye.unitPrice>0&&r.jsxs("span",{className:`font-medium ${Tr.text.primary}`,children:["+",Wt(ye.unitPrice,d?.preferences.defaultCurrency)]}),ye.isRemoval&&r.jsx("span",{className:"text-xs font-bold text-red-500 uppercase",children:t("menu.remove")||"Remove"})]})]}),Be&&!ye.isRemoval&&r.jsx("div",{className:"flex items-center justify-end gap-3 mt-3 pt-3 border-t border-black/5 dark:border-white/5",onClick:pt=>pt.stopPropagation(),children:r.jsxs("div",{className:"flex items-center gap-3 bg-white dark:bg-slate-800 rounded-lg p-1 shadow-sm border border-slate-200 dark:border-slate-700",children:[r.jsx("button",{onClick:()=>ut(ye.branchProductExtraId,-1),disabled:Qe?.quantity===(ye.minQuantity||1),className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md disabled:opacity-30 text-slate-600 dark:text-slate-300",children:r.jsx(ds,{className:"w-4 h-4"})}),r.jsx("span",{className:"font-bold w-6 text-center text-sm",children:Qe?.quantity||1}),r.jsx("button",{onClick:()=>ut(ye.branchProductExtraId,1),disabled:Qe&&Qe.quantity>=(ye.maxQuantity||10),className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md disabled:opacity-30 text-slate-600 dark:text-slate-300",children:r.jsx(Ut,{className:"w-4 h-4"})})]})})]},ye.branchProductExtraId)})})]},ge.categoryId))}),w.availableAddons&&w.availableAddons.length>0&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:`font-bold text-lg ${Tr.text.primary}`,children:t("menu.addons")}),r.jsx("div",{className:"grid grid-cols-1 gap-3",children:w.availableAddons.map(ge=>{const ye=A.some(Qe=>Qe.branchProductAddonId===ge.branchProductAddonId),Be=A.find(Qe=>Qe.branchProductAddonId===ge.branchProductAddonId);return r.jsxs("div",{onClick:()=>xe(ge),className:`p-4 rounded-xl border transition-all cursor-pointer ${ye?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/10 shadow-sm ring-1 ring-emerald-500/20":"border-slate-200 dark:border-slate-700 hover:border-emerald-300 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center transition-colors ${ye?"border-emerald-500 bg-emerald-500 text-white":"border-slate-300 dark:border-slate-500"}`,children:ye&&r.jsx(tr,{className:"w-3.5 h-3.5"})}),r.jsx("span",{className:`font-medium ${Tr.text.primary}`,children:ge.addonProductName})]}),r.jsxs("span",{className:"font-medium text-emerald-600",children:["+",Wt(ge.specialPrice??ge.price,d?.preferences.defaultCurrency)]})]}),ye&&Be&&r.jsx("div",{className:"flex items-center justify-end gap-3 mt-3 pt-3 border-t border-black/5 dark:border-white/5",onClick:Qe=>Qe.stopPropagation(),children:r.jsxs("div",{className:"flex items-center gap-3 bg-white dark:bg-slate-800 rounded-lg p-1 shadow-sm border border-slate-200 dark:border-slate-700",children:[r.jsx("button",{onClick:()=>ze(ge.branchProductAddonId,-1),className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md disabled:opacity-30 text-slate-600 dark:text-slate-300",children:r.jsx(ds,{className:"w-4 h-4"})}),r.jsx("span",{className:"font-bold w-6 text-center text-sm",children:Be.quantity}),r.jsx("button",{onClick:()=>ze(ge.branchProductAddonId,1),disabled:Be.quantity>=(ge.maxQuantity||99),className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md disabled:opacity-30 text-slate-600 dark:text-slate-300",children:r.jsx(Ut,{className:"w-4 h-4"})})]})})]},ge.branchProductAddonId)})})]})]}),r.jsx("div",{className:`shrink-0 p-4 sm:p-6 border-t border-slate-200 dark:border-slate-700 ${Tr.background.card} z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]`,children:r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex items-center justify-center gap-6 mb-2",children:[r.jsx("button",{onClick:()=>T(Math.max(1,M-1)),className:"w-12 h-12 flex items-center justify-center bg-slate-100 dark:bg-slate-800 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:r.jsx(ds,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),r.jsx("span",{className:"text-3xl font-bold min-w-[3rem] text-center",children:M}),r.jsx("button",{onClick:()=>T(M+1),className:"w-12 h-12 flex items-center justify-center bg-slate-100 dark:bg-slate-800 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:r.jsx(Ut,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})})]}),r.jsxs("button",{onClick:hr,disabled:E,className:"w-full bg-gradient-to-r from-emerald-600 to-green-600 text-white py-4 px-6 rounded-2xl font-bold text-lg shadow-lg hover:shadow-emerald-500/30 hover:scale-[1.01] active:scale-[0.98] transition-all flex items-center justify-between disabled:opacity-70 disabled:cursor-not-allowed",children:[r.jsx("span",{className:"flex-1 text-left",children:E?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(mt,{className:"w-5 h-5 animate-spin"}),t("menu.adding")]}):t("menu.addToOrder")}),r.jsx("span",{className:"bg-white/20 px-3 py-1 rounded-lg backdrop-blur-sm",children:Wt(kt(),d?.preferences.defaultCurrency)})]})]})})]})}),r.jsx(qF,{})]})},KE=60,uh="resetPasswordCooldown",Gwe=()=>{const[e,t]=p.useState(""),[a,n]=p.useState(!1),[s,i]=p.useState(!1),[o,l]=p.useState(null),[d,c]=p.useState(0),{t:g,isRTL:h}=Ze();p.useEffect(()=>{window.scrollTo(0,0)},[]),p.useEffect(()=>{let b;return(()=>{const j=localStorage.getItem(uh);if(j){const w=(Date.now()-parseInt(j,10))/1e3,S=KE-w;S>0?(c(Math.ceil(S)),b=setInterval(()=>{c(M=>M<=1?(clearInterval(b),localStorage.removeItem(uh),0):M-1)},1e3)):localStorage.removeItem(uh)}})(),()=>clearInterval(b)},[]);const x=async b=>{if(b.preventDefault(),!(s||d>0)){i(!0),l(null);try{await co.sendResetPasswordEmail(e),n(!0),localStorage.setItem(uh,Date.now().toString()),c(KE);const v=setInterval(()=>{c(j=>j<=1?(clearInterval(v),localStorage.removeItem(uh),0):j-1)},1e3)}catch(v){console.error("Failed to send reset password email:",v),l(g("resetPassword.form.error"))}finally{i(!1)}}};return r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 dark:bg-gray-900 p-4",dir:h?"rtl":"ltr",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsx(ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"mb-8",children:r.jsxs(ls,{to:"/",className:`inline-flex items-center space-x-2 ${h?"space-x-reverse":""} text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200`,children:[r.jsx(ms,{className:`h-4 w-4 ${h?"rotate-180":""}`}),r.jsx("span",{children:g("pages.login.backToHome")})]})}),a?r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 text-center",children:[r.jsx(Zs,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:g("resetPassword.submitted.title")}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[g("resetPassword.submitted.line1"),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[" ",e]}),"."," ",g("resetPassword.submitted.line2")]})]}):r.jsxs("form",{onSubmit:x,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900/50 rounded-full mb-4",children:r.jsx(Zp,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:g("resetPassword.form.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:g("resetPassword.form.subtitle")})]}),o&&r.jsxs(ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-lg border border-red-500 bg-red-50 dark:bg-red-900/20 p-3 text-sm text-red-600 dark:text-red-400",children:[r.jsx(Nt,{className:"h-5 w-5 flex-shrink-0"}),r.jsx("span",{children:o})]}),r.jsxs("div",{className:"relative",children:[r.jsx("label",{htmlFor:"email-reset",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:g("common.emailAddress")}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:`absolute inset-y-0 ${h?"right-0 pr-3":"left-0 pl-3"} flex items-center`,children:r.jsx(Zs,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})}),r.jsx("input",{type:"email",id:"email-reset",value:e,onChange:b=>t(b.target.value),placeholder:g("common.emailPlaceholder"),required:!0,className:`w-full ${h?"pr-10 pl-4":"pl-10 pr-4"} py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`})]})]}),r.jsxs("button",{type:"submit",disabled:s||d>0,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:[s?r.jsx(mt,{className:"w-5 h-5 animate-spin"}):d>0?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"w-5 h-5 animate-spin"}),g("common.wait")," (",d,"s)"]}):r.jsx(Oh,{className:"w-5 h-5"}),!s&&d<=0&&g("resetPassword.form.button")]})]})]})})},QE=60,mh="confirmMailCooldown",Ywe=()=>{const[e,t]=p.useState(""),[a,n]=p.useState(!1),[s,i]=p.useState(!1),[o,l]=p.useState(null),[d,c]=p.useState(0),{t:g,isRTL:h}=Ze();p.useEffect(()=>{window.scrollTo(0,0)},[]),p.useEffect(()=>{let b;return(()=>{const j=localStorage.getItem(mh);if(j){const w=(Date.now()-parseInt(j,10))/1e3,S=QE-w;S>0?(c(Math.ceil(S)),b=setInterval(()=>{c(M=>M<=1?(clearInterval(b),localStorage.removeItem(mh),0):M-1)},1e3)):localStorage.removeItem(mh)}})(),()=>clearInterval(b)},[]);const x=async b=>{if(b.preventDefault(),!(s||d>0)){i(!0),l(null);try{await co.resendConfirmation(e),n(!0),localStorage.setItem(mh,Date.now().toString()),c(QE);const v=setInterval(()=>{c(j=>j<=1?(clearInterval(v),localStorage.removeItem(mh),0):j-1)},1e3)}catch(v){console.error("Failed to resend confirmation:",v),l(v.response.data.details.message)}finally{i(!1)}}};return r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 dark:bg-gray-900 p-4",dir:h?"rtl":"ltr",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsx(ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"mb-8",children:r.jsxs(ls,{to:"/",className:`inline-flex items-center space-x-2 ${h?"space-x-reverse":""} text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200`,children:[r.jsx(ms,{className:`h-4 w-4 ${h?"rotate-180":""}`}),r.jsx("span",{children:g("pages.login.backToHome")})]})}),a?r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 text-center",children:[r.jsx(Zs,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:g("confirmMail.submitted.title")}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[g("confirmMail.submitted.line1"),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[" ",e]}),"."," ",g("confirmMail.submitted.line2")]})]}):r.jsxs("form",{onSubmit:x,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/50 rounded-full mb-4",children:r.jsx(tr,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:g("confirmMail.form.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:g("confirmMail.form.subtitle")})]}),o&&r.jsxs(ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-lg border border-red-500 bg-red-50 dark:bg-red-900/20 p-3 text-sm text-red-600 dark:text-red-400",children:[r.jsx(Nt,{className:"h-5 w-5 flex-shrink-0"}),r.jsx("span",{children:o})]}),r.jsxs("div",{className:"relative",children:[r.jsx("label",{htmlFor:"email-confirm",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:g("common.emailAddress")}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:`absolute inset-y-0 ${h?"right-0 pr-3":"left-0 pl-3"} flex items-center`,children:r.jsx(Zs,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})}),r.jsx("input",{type:"email",id:"email-confirm",value:e,onChange:b=>t(b.target.value),placeholder:g("common.emailPlaceholder"),required:!0,className:`w-full ${h?"pr-10 pl-4":"pl-10 pr-4"} py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all`})]})]}),r.jsxs("button",{type:"submit",disabled:s||d>0,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white font-medium rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:[s?r.jsx(mt,{className:"w-5 h-5 animate-spin"}):d>0?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"w-5 h-5 animate-spin"}),g("common.wait")," (",d,"s)"]}):r.jsx(Oh,{className:"w-5 h-5"}),!s&&d<=0&&g("confirmMail.form.button")]})]})]})})},GE=60,Up="setNewPasswordCooldown",Zwe=()=>{const[e,t]=p.useState(""),[a,n]=p.useState(""),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[d,c]=p.useState(null),[g,h]=p.useState(!1),[x,b]=p.useState(!1),[v,j]=p.useState(0),{t:w,isRTL:S}=Ze(),[M]=l8();p.useEffect(()=>{window.scrollTo(0,0)},[]),p.useEffect(()=>{let A;return(()=>{const _=localStorage.getItem(Up);if(_){const D=(Date.now()-parseInt(_,10))/1e3,E=GE-D;E>0?(j(Math.ceil(E)),A=window.setInterval(()=>{j(X=>X<=1?(clearInterval(A),localStorage.removeItem(Up),0):X-1)},1e3)):localStorage.removeItem(Up)}})(),()=>clearInterval(A)},[]);const T=async A=>{if(A.preventDefault(),c(null),g||v>0)return;if(e.length<8){c(w("setNewPassword.form.errorLength"));return}if(e!==a){c(w("setNewPassword.form.errorMatch"));return}const I=M.get("token"),_=M.get("userId");if(!I||!_){c(w("setNewPassword.form.errorInvalidLink"));return}h(!0);try{await co.resetPassword({userId:_,token:I,newPassword:e,newPasswordConfirmation:a}),b(!0),localStorage.setItem(Up,Date.now().toString()),j(GE)}catch(D){console.error("Failed to reset password:",D),c(D.response?.data?.details?.message)}finally{h(!1)}};return r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 dark:bg-gray-900 p-4",dir:S?"rtl":"ltr",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsx(ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"mb-8",children:r.jsxs(ls,{to:"/",className:`inline-flex items-center space-x-2 ${S?"space-x-reverse":""} text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200`,children:[r.jsx(ms,{className:`h-4 w-4 ${S?"rotate-180":""}`}),r.jsx("span",{children:w("pages.login.backToHome")})]})}),x?r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 text-center",children:[r.jsx(tr,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:w("setNewPassword.submitted.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:w("setNewPassword.submitted.message")}),r.jsx(ls,{to:"/login",className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-medium rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:w("setNewPassword.submitted.loginButton")})]}):r.jsxs("form",{onSubmit:T,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/50 rounded-full mb-4",children:r.jsx(Zp,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:w("setNewPassword.form.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:w("setNewPassword.form.subtitle")})]}),r.jsxs("div",{className:"relative",children:[r.jsx("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w("setNewPassword.form.newPassword")}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:`absolute inset-y-0 ${S?"right-0 pr-3":"left-0 pl-3"} flex items-center`,children:r.jsx(Zp,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})}),r.jsx("input",{type:s?"text":"password",id:"new-password",value:e,onChange:A=>t(A.target.value),placeholder:"********",required:!0,className:`w-full ${S?"pr-10 pl-4":"pl-10 pr-4"} py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all`}),r.jsx("button",{type:"button",onClick:()=>i(!s),className:`absolute inset-y-0 ${S?"left-0 pl-3":"right-0 pr-3"} flex items-center text-gray-500 hover:text-gray-700 dark:hover:text-gray-300`,children:s?r.jsx(Cs,{className:"w-5 h-5"}):r.jsx(Ya,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w("setNewPassword.form.confirmPassword")}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:`absolute inset-y-0 ${S?"right-0 pr-3":"left-0 pl-3"} flex items-center`,children:r.jsx(Zp,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})}),r.jsx("input",{type:o?"text":"password",id:"confirm-password",value:a,onChange:A=>n(A.target.value),placeholder:"********",required:!0,className:`w-full ${S?"pr-10 pl-4":"pl-10 pr-4"} py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all`}),r.jsx("button",{type:"button",onClick:()=>l(!o),className:`absolute inset-y-0 ${S?"left-0 pl-3":"right-0 pr-3"} flex items-center text-gray-500 hover:text-gray-700 dark:hover:text-gray-300`,children:o?r.jsx(Cs,{className:"w-5 h-5"}):r.jsx(Ya,{className:"w-5 h-5"})})]})]}),d&&r.jsxs(ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-lg border border-red-500 bg-red-50 dark:bg-red-900/20 p-3 text-sm text-red-600 dark:text-red-400",children:[r.jsx(Nt,{className:"h-5 w-5 flex-shrink-0"}),r.jsx("span",{children:d})]}),r.jsxs("button",{type:"submit",disabled:g||v>0,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-medium rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:[g?r.jsx(mt,{className:"w-5 h-5 animate-spin"}):v>0?r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"w-5 h-5 animate-spin"}),w("common.wait")," (",v,"s)"]}):r.jsx(Oa,{className:"w-5 h-5"}),!g&&v<=0&&w("setNewPassword.form.button")]})]})]})})},Xwe=()=>{const e=Ra(),t=gs(),a=t.pathname==="/",[n,s]=p.useState(!1),[i,o]=p.useState(!1),{isDark:l,toggleTheme:d}=tc(),{t:c,isRTL:g}=Ze(),{isAuthenticated:h,checkAuth:x,clearAuth:b}=db(),v=[{id:"home",label:c("nav.home"),href:"#hero"},{id:"features",label:c("nav.features"),href:"#features"},{id:"pricing",label:c("nav.pricing"),href:"#pricing"},{id:"testimonials",label:c("nav.testimonials"),href:"#testimonials"},{id:"faq",label:c("nav.faq"),href:"#faq"},{id:"contact",label:c("nav.contact"),href:"#contact"}],j=cX(a?v.map(I=>I.id):[],100);p.useEffect(()=>{if(t.hash&&a){const I=t.hash.substring(1);setTimeout(()=>{const _=document.getElementById(I);_&&_.scrollIntoView({behavior:"smooth"})},100)}},[a,t.hash]),p.useEffect(()=>{x()},[x]),p.useEffect(()=>{const I=()=>{o(window.scrollY>20)};return window.addEventListener("scroll",I),()=>window.removeEventListener("scroll",I)},[]);const w=I=>{s(!1),e(`/${I}`)},S=()=>{const I=localStorage.getItem("token"),_=localStorage.getItem("tokenExpiry");if(I&&_){const D=new Date(_);if(!isNaN(D.getTime())&&D>new Date){e("/selection");return}else localStorage.removeItem("token"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("userId")}e("/login")},M=()=>{e("/register")},T=()=>{e("/selection")},A=()=>{b(),e("/",{replace:!0})};return r.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 w-full transition-all duration-300 ${i?"bg-white/95 dark:bg-gray-900/95 backdrop-blur-md shadow-lg":"bg-transparent"}`,children:r.jsxs("nav",{className:"container-max w-full",dir:g?"rtl":"ltr",children:[r.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:`flex items-center ${g?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(Jo,{className:"h-8 w-8 text-primary-600 dark:text-primary-400"}),r.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c("brand.name")})]}),r.jsx("div",{className:`hidden md:flex items-center ${g?"space-x-reverse space-x-8":"space-x-8"}`,children:(g?[...v].reverse():v).map(I=>r.jsx("button",{onClick:()=>w(I.href),className:`text-sm font-medium transition-colors duration-200 hover:text-primary-600 dark:hover:text-primary-400 ${j===I.id&&a?"text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-300"}`,children:I.label},I.id))}),r.jsxs("div",{className:`flex items-center ${g?"space-x-reverse space-x-3":"space-x-3"}`,children:[r.jsx("div",{className:`hidden md:flex items-center ${g?"space-x-reverse space-x-2":"space-x-2"}`,children:h?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:T,className:`flex items-center px-4 py-2 text-sm font-medium bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-all duration-200 shadow-md hover:shadow-lg ${g?"space-x-reverse space-x-2":"space-x-2"}`,"aria-label":c("nav.goToPanel"),children:[r.jsx(H5,{className:"h-4 w-4"}),r.jsx("span",{children:c("nav.goToPanel")})]}),r.jsxs("button",{onClick:A,className:`flex items-center px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-all duration-200 ${g?"space-x-reverse space-x-2":"space-x-2"}`,"aria-label":c("auth.logout"),children:[r.jsx(jm,{className:"h-4 w-4"}),r.jsx("span",{children:c("nav.logout")})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:S,className:`flex items-center px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-all duration-200 ${g?"space-x-reverse space-x-2":"space-x-2"}`,"aria-label":c("auth.login"),children:[r.jsx(W5,{className:"h-4 w-4"}),r.jsx("span",{children:c("nav.login")})]}),r.jsxs("button",{onClick:M,className:`flex items-center px-4 py-2 text-sm font-medium bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-all duration-200 shadow-md hover:shadow-lg ${g?"space-x-reverse space-x-2":"space-x-2"}`,"aria-label":c("auth.register"),children:[r.jsx(Cx,{className:"h-4 w-4"}),r.jsx("span",{children:c("nav.register")})]})]})}),r.jsx(ub,{variant:"header"}),r.jsx("button",{onClick:d,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200","aria-label":c("accessibility.theme"),title:c(l?"theme.toggleToLight":"theme.toggleToDark"),children:l?r.jsx(m0,{className:"h-5 w-5"}):r.jsx(p2,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>s(!n),className:"md:hidden p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200","aria-label":c("accessibility.menu"),children:n?r.jsx(xt,{className:"h-5 w-5"}):r.jsx(KO,{className:"h-5 w-5"})})]})]}),n&&r.jsx("div",{className:"md:hidden bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",dir:g?"rtl":"ltr",children:r.jsxs("div",{className:"px-4 py-2 space-y-1",children:[(g?[...v].reverse():v).map(I=>r.jsx("button",{onClick:()=>w(I.href),className:`block w-full ${g?"text-right":"text-left"} px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 hover:bg-gray-100 dark:hover:bg-gray-800 ${j===I.id&&a?"text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20":"text-gray-700 dark:text-gray-300"}`,children:I.label},I.id)),r.jsx("div",{className:"pt-4 pb-2 border-t border-gray-200 dark:border-gray-700",children:h?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:T,className:`flex items-center w-full px-3 py-2 mt-1 rounded-md text-sm font-medium bg-primary-600 hover:bg-primary-700 text-white transition-colors duration-200 ${g?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(H5,{className:"h-4 w-4"}),r.jsx("span",{children:c("nav.goToPanel")})]}),r.jsxs("button",{onClick:A,className:`flex items-center w-full px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200 ${g?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(jm,{className:"h-4 w-4"}),r.jsx("span",{children:c("auth.logout")})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:S,className:`flex items-center w-full px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200 ${g?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(W5,{className:"h-4 w-4"}),r.jsx("span",{children:c("auth.login")})]}),r.jsxs("button",{onClick:M,className:`flex items-center w-full px-3 py-2 mt-1 rounded-md text-sm font-medium bg-primary-600 hover:bg-primary-700 text-white transition-colors duration-200 ${g?"space-x-reverse space-x-2":"space-x-2"}`,children:[r.jsx(Cx,{className:"h-4 w-4"}),r.jsx("span",{children:c("auth.register")})]})]})})]})})]})})},Jwe=()=>{const{t:e,isRTL:t}=Ze(),[a,n]=p.useState(!1),s=p.useRef(null),i=new Date().getFullYear(),o=e("footer.contact.phone"),l=o.replace(/[^\d+]/g,""),d=e("footer.contact.address"),c=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(d)}`;p.useEffect(()=>{const b=v=>{s.current&&!s.current.contains(v.target)&&n(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const g={product:[{label:e("footer.sections.product.links.features"),href:"#features"},{label:e("footer.sections.product.links.pricing"),href:"#pricing"},{label:e("footer.sections.product.links.demo"),href:"#contact"}],company:[{label:e("footer.sections.company.links.about"),href:"#testimonials"},{label:e("footer.sections.company.links.pricing"),href:"#pricing"},{label:e("footer.sections.company.links.contact"),href:"#contact"}],support:[{label:e("footer.sections.support.links.faq"),href:"#faq"}]},h=[{icon:UO,href:"#",label:"Facebook"},{icon:JO,href:"#",label:"Twitter"},{icon:HO,href:"#",label:"Instagram"},{icon:VH,href:"#",label:"LinkedIn"}],x=b=>{if(b.startsWith("#")){const v=document.querySelector(b);v&&v.scrollIntoView({behavior:"smooth"})}};return r.jsxs("footer",{className:"bg-gray-900 text-white",children:[r.jsx("div",{className:"container-max section-padding",children:r.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:`flex items-center space-x-2 ${t?"space-x-reverse":""} mb-6`,children:[r.jsx(Jo,{className:"h-8 w-8 text-primary-400"}),r.jsx("span",{className:"text-2xl font-bold",children:e("brand.name")})]}),r.jsx("p",{className:"text-gray-400 text-lg mb-6 leading-relaxed",children:e("footer.description")}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"relative",ref:s,children:[r.jsxs("button",{onClick:()=>n(!a),className:`flex items-center space-x-3 ${t?"space-x-reverse":""} group hover:text-primary-400 transition-colors duration-200`,children:[r.jsx(Dn,{className:"h-4 w-4 text-primary-400 group-hover:text-primary-300"}),r.jsx("span",{dir:"ltr",className:"text-gray-400 group-hover:text-primary-400",children:o})]}),a&&r.jsxs("div",{className:`absolute bottom-full mb-2 ${t?"right-0":"left-0"} w-48 bg-gray-800 rounded-lg shadow-xl border border-gray-700 overflow-hidden z-50`,children:[r.jsxs("a",{href:`tel:${l}`,className:"flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white transition-colors space-x-3 rtl:space-x-reverse",children:[r.jsx(YO,{className:"h-4 w-4"}),r.jsx("span",{children:"Call"})]}),r.jsxs("a",{href:`https://wa.me/${l}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 hover:text-white transition-colors space-x-3 rtl:space-x-reverse",children:[r.jsx(f2,{className:"h-4 w-4"}),r.jsx("span",{children:"WhatsApp"})]})]})]}),r.jsx("div",{children:r.jsxs("a",{href:`mailto:${e("footer.contact.email")}`,className:`flex items-center space-x-3 ${t?"space-x-reverse":""} group hover:text-primary-400 transition-colors duration-200`,children:[r.jsx(Zs,{className:"h-4 w-4 text-primary-400 group-hover:text-primary-300"}),r.jsx("span",{className:"text-gray-400 group-hover:text-primary-400",children:e("footer.contact.email")})]})}),r.jsx("div",{children:r.jsxs("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:`flex items-center space-x-3 ${t?"space-x-reverse":""} group hover:text-primary-400 transition-colors duration-200`,children:[r.jsx(Qr,{className:"h-4 w-4 text-primary-400 group-hover:text-primary-300"}),r.jsx("span",{className:"text-gray-400 group-hover:text-primary-400",children:d})]})})]}),r.jsx("div",{className:`flex items-center space-x-4 ${t?"space-x-reverse":""} mt-6`,children:h.map(b=>{const v=b.icon;return r.jsx("a",{href:b.href,className:"w-10 h-10 bg-gray-800 hover:bg-primary-600 rounded-lg flex items-center justify-center transition-colors duration-300","aria-label":b.label,children:r.jsx(v,{className:"h-5 w-5"})},b.label)})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-6",children:e("footer.sections.product.title")}),r.jsx("ul",{className:"space-y-3",children:g.product.map((b,v)=>r.jsx("li",{children:r.jsx("button",{onClick:()=>x(b.href),className:"text-gray-400 hover:text-white transition-colors duration-200",children:b.label})},v))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-6",children:e("footer.sections.company.title")}),r.jsx("ul",{className:"space-y-3",children:g.company.map((b,v)=>r.jsx("li",{children:r.jsx("button",{onClick:()=>x(b.href),className:"text-gray-400 hover:text-white transition-colors duration-200",children:b.label})},v))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-6",children:e("footer.sections.support.title")}),r.jsx("ul",{className:"space-y-3",children:g.support.map((b,v)=>r.jsx("li",{children:r.jsx("button",{onClick:()=>x(b.href),className:"text-gray-400 hover:text-white transition-colors duration-200",children:b.label})},v))})]})]})}),r.jsx("div",{className:"bg-gray-950 border-t border-gray-800",children:r.jsx("div",{className:"container-max py-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"text-gray-400 text-sm",children:[" ",i," ",e("brand.name"),". ",e("footer.bottom.copyright")]}),r.jsx("div",{className:"flex items-center space-x-6 text-sm text-gray-400",children:r.jsx("span",{children:e("footer.bottom.madeWith")})})]})})})]})},eje=()=>r.jsxs("div",{className:"min-h-screen flex flex-col bg-white dark:bg-gray-900 transition-colors duration-300",children:[r.jsx(Xwe,{}),r.jsx("main",{className:"flex-grow w-full pt-16",children:r.jsx(Az,{})}),r.jsx(Jwe,{})]}),tje=()=>r.jsx(b8,{children:r.jsx(h8,{children:r.jsx(a8,{children:r.jsxs(_z,{children:[r.jsxs(ts,{element:r.jsx(eje,{}),children:[r.jsx(ts,{path:"/",element:r.jsx(uW,{})}),r.jsx(ts,{path:"/login",element:r.jsx(QK,{})}),r.jsx(ts,{path:"/resetPassword",element:r.jsx(Gwe,{})}),r.jsx(ts,{path:"/confirmMail",element:r.jsx(Ywe,{})}),r.jsx(ts,{path:"/setnewpassword",element:r.jsx(Zwe,{})}),r.jsx(ts,{path:"/register",element:r.jsx(GK,{})}),r.jsx(ts,{path:"/onboarding/restaurant",element:r.jsx(Kg,{children:r.jsx(qZ,{})})}),r.jsx(ts,{path:"/onboarding/branch",element:r.jsx(Kg,{children:r.jsx(iX,{})})}),r.jsx(ts,{path:"/onboarding/complete",element:r.jsx(Kg,{children:r.jsx(oX,{})})})]}),r.jsx(ts,{path:"/selection",element:r.jsx(Kg,{children:r.jsx(ZX,{})})}),r.jsx(ts,{path:"/dashboard/*",element:r.jsx(Kg,{children:r.jsx(pve,{})})}),r.jsx(ts,{path:"/table/qr/:qrToken",element:r.jsx(Hwe,{})}),r.jsx(ts,{path:"/OnlineMenu/:publicId",element:r.jsx(Qwe,{})}),r.jsx(ts,{path:"*",element:r.jsx(qp,{to:"/",replace:!0})})]})})})});class rje extends p.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){N.error("Uygulama hatas:",{message:t.message,stack:t.stack,componentStack:a.componentStack})}render(){return this.state.hasError?this.props.fallback?r.jsx(r.Fragment,{children:this.props.fallback}):r.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 text-center p-6",children:[r.jsx("h1",{className:"text-2xl font-semibold mb-4 text-red-600 dark:text-red-400",children:"Bir eyler ters gitti"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:"Sayfa grntlenemiyor. Ltfen daha sonra tekrar deneyin."}),!1]}):this.props.children}}L9.createRoot(document.getElementById("root")).render(r.jsx(Lr.StrictMode,{children:r.jsx(rje,{children:r.jsx(tje,{})})}));
